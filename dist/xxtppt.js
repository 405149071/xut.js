/*!
 * Xut.js v890
 * Release date 2017-9-15
 * (c) 2010-2017
 * author @by【Aaron】
 * For internal use only
 */
(function(){var t,e,i,n,o,r,a,s,l,c;e=window.device,t={},window.device=t,n=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),t.ios=function(){return t.iphone()||t.ipod()||t.ipad()},t.iphone=function(){return!t.windows()&&o("iphone")},t.ipod=function(){return o("ipod")},t.ipad=function(){return o("ipad")},t.android=function(){return!t.windows()&&o("android")},t.androidPhone=function(){return t.android()&&o("mobile")},t.androidTablet=function(){return t.android()&&!o("mobile")},t.blackberry=function(){return o("blackberry")||o("bb10")||o("rim")},t.blackberryPhone=function(){return t.blackberry()&&!o("tablet")},t.blackberryTablet=function(){return t.blackberry()&&o("tablet")},t.windows=function(){return o("windows")},t.windowsPhone=function(){return t.windows()&&o("phone")},t.windowsTablet=function(){return t.windows()&&o("touch")&&!t.windowsPhone()},t.fxos=function(){return(o("(mobile;")||o("(tablet;"))&&o("; rv:")},t.fxosPhone=function(){return t.fxos()&&o("mobile")},t.fxosTablet=function(){return t.fxos()&&o("tablet")},t.meego=function(){return o("meego")},t.cordova=function(){return window.cordova&&"file:"===location.protocol},t.nodeWebkit=function(){return"object"==typeof window.process},t.mobile=function(){return t.androidPhone()||t.iphone()||t.ipod()||t.windowsPhone()||t.blackberryPhone()||t.fxosPhone()||t.meego()},t.tablet=function(){return t.ipad()||t.androidTablet()||t.blackberryTablet()||t.windowsTablet()||t.fxosTablet()},t.desktop=function(){return!t.tablet()&&!t.mobile()},t.television=function(){var t;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],t=0;t<television.length;){if(o(television[t]))return!0;t++}return!1},t.portrait=function(){return window.innerHeight/window.innerWidth>1},t.landscape=function(){return window.innerHeight/window.innerWidth<1},t.noConflict=function(){return window.device=e,this},o=function(t){return-1!==c.indexOf(t)},a=function(t){var e;return e=new RegExp(t,"i"),n.className.match(e)},i=function(t){var e=null;a(t)||(e=n.className.replace(/^\s+|\s+$/g,""),n.className=e+" "+t)},l=function(t){a(t)&&(n.className=n.className.replace(" "+t,""))},t.ios()?t.ipad()?i("ios ipad tablet"):t.iphone()?i("ios iphone mobile"):t.ipod()&&i("ios ipod mobile"):t.android()?i(t.androidTablet()?"android tablet":"android mobile"):t.blackberry()?i(t.blackberryTablet()?"blackberry tablet":"blackberry mobile"):t.windows()?i(t.windowsTablet()?"windows tablet":t.windowsPhone()?"windows mobile":"desktop"):t.fxos()?i(t.fxosTablet()?"fxos tablet":"fxos mobile"):t.meego()?i("meego mobile"):t.nodeWebkit()?i("node-webkit"):t.television()?i("television"):t.desktop()&&i("desktop"),t.cordova()&&i("cordova"),r=function(){t.landscape()?(l("portrait"),i("landscape")):(l("landscape"),i("portrait"))},s=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(s,r,!1):window.attachEvent?window.attachEvent(s,r):window[s]=r,r(),t.find=o,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window.device=t}).call(this),function(t){window.GLOBALCONTEXT=t.context,window.GLOBALIFRAME=t.iframeMode,window.DUKUCONFIG=t.dukuConfig,window.SUbDOCCONTEXT=t.subContext,window.SUbCONFIGT=t.subConfig,window.CLIENTCONFIGT=t.clientConfig,window.MMXCONFIG=t.mmxConfig}(function(){var t,e,i,n,o,r=!1,a=window;try{top&&top.audioHandler&&(window.audioHandler=top.audioHandler)}catch(t){}var s={XXTIFRAME:function(e){t=e.XXTIFRAME,a=e,r=!0},miaomiaoxue:function(t){i=t.miaomiaoxue,a=t,r=!0},XXTSUbDOC:function(t){a||(a=t),n=t,r=!0,o=t.XXTSUbDOC},XXTClient:function(t){e=t.XXTClient,a=t,r=!0},iframe:function(){r||(r=!0)}},l=function(t){try{if(!t)return;"XXTIFRAME,miaomiaoxue,XXTSUbDOC,XXTClient,iframe".split(",").forEach(function(e){t[e]&&s[e](t)})}catch(t){}};return l(parent),parent!=top&&l(top),{context:a,iframeMode:r,subContext:n,dukuConfig:t,mmxConfig:i,clientConfig:e,subConfig:o}}()),window.Xut={},Xut.Plugin={},Xut.plugins={},Xut.plat={},Xut.style={},Xut.mixin=function(t,e){e||(e=t,t=this);for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},Xut.mixin({createUUID:function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),guid:function(t){var e=+new Date+(Math.random()+"").slice(-8);return t?t+e:e},toArray:function(){var t=Array.prototype.slice;return function(e,i,n){return t.call(e,i||0,n||e.length)}}()}),String.format=function(t){var e=Xut.toArray(arguments,1);return t.replace(/\{(\d+)\}/g,function(t,i){return e[i]})},String.styleFormat=function(t){return t.replace(/\s+/g," ")},function(){function t(t,e){return"translate("+t+"px,"+e+"px)"+B}function e(t){return t?t instanceof $&&!(t=t[0]||t.context)?(console.log("setTranslate node不存在,需要检测"),!1):t:(console.log("setTranslate没有提供node"),!1)}var i=document.location.href,n=window.navigator.userAgent.toLowerCase(),o=window.navigator.appVersion.toLowerCase(),r=device.android()||/android/gi.test(o),a=device.desktop(),s=device.find("mac"),l=device.iphone(),c=device.ipad(),u=device.ios(),h=(device.find("applewebkit"),device.find("micromessenger")),d="ontouchstart"in window,p=/mobile|tablet|ip(ad|hone|od)|android/i,f=d&&p.test(n),g=i.indexOf("http")>-1||i.indexOf("https")>-1,v=g||!f,m=u&&n.match(/os ([\d_]+)/),y=m&&m[1].split("_"),_=!1,b=null;y&&(_=(b=Number(y[0]))>=9&&Number(y[1])>=3&&!window.indexedDB);var x=r&&n.match(/android ([\d_]+)/),w=x&&x[1].split("_"),k=!0;if("object"==typeof localStorage)try{localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage")}catch(t){Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(){},k=!1}Xut.mixin(Xut.plat,{has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,isAndroid:r,isIphone:l,isIpad:c,isIOS:u,isMacOS:s,isWeiXin:h,supportStorage:k,androidVersion:w,isTablet:device.tablet(),hasPlugin:!1,supportPlayInline:b>=10,hasAutoPlayAudio:h||a,hasTouch:f,isBrowser:v,isMouseTouch:d&&"onmousedown"in window&&!f,isDesktop:a,supportMutationObserver:!_});var T=/-([a-z]|[0-9])/gi,S=/^-ms-/,C=function(t,e){return(e+"").toUpperCase()},I=function(t){return t.replace(S,"ms-").replace(T,C)},P=["webkit","Moz","ms","o"],E=document.createElement("div").style,M=Object.create(null),A=function(t){var e;return M[t]?M[t]:t in E?M[t]=t:(P.forEach(function(i){if(I(i+"-"+t)in E)return e="-"+i+"-"+t,M[t]=e}),e)},O="transitionend",N="animationend",D="@keyframes ",R=A("animation");!function(){var t=R,e={moz:"transitionend",webkit:"webkitTransitionEnd",ms:"MSTransitionEnd",o:"oTransitionEnd"},i={moz:"animationend",webkit:"webkitAnimationEnd",ms:"MSAnimationEnd",o:"oAnimationEnd"};t&&(t=t.split("-"))[1]&&(O=e[t[1]],N=i[t[1]],D="@-"+t[1]+"-keyframes ")}();var X=A("perspective")in E,B=X?" translateZ(0)":"",L=A("mask-box-image"),F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},H=A("transition-duration"),z=A("transform");Xut.mixin(Xut.style,{reqAnimationFrame:F,noMaskBoxImage:void 0==L,prefixStyle:A,transform:z,transition:A("transition"),transitionDuration:H,transitionDelay:A("transition-delay"),transformOrigin:A("transform-origin"),transitionTimingFunction:A("transition-timing-function"),transitionEnd:O,animation:R,animationDelay:A("animation-delay"),animationPlayState:A("animation-play-state"),animationEnd:N,keyframes:D,translateZ:B,setTranslateZ:function(t){return X?" translateZ("+t+")":""},setTranslateStyle:t,setTransform:function(i){var n=i.node;if(n=e(n)){var o="",r=i.translate;r&&(o+=t(r.x||0,r.y||0));var a=i.scale;a&&(o+="scale("+(a.x||1)+","+(a.y||1)+") "),o&&(n.style[z]=o,void 0!==i.speed&&(n.style[H]=i.speed+"ms"))}},setTranslate:function(i){var n=i.node,o=i.x||0,r=i.y||0,a=i.speed;(n=e(n))&&(n.style[z]=t(o,r),void 0!==a&&(n.style[H]=a+"ms"))},filter:A("filter"),maskBoxImage:L,borderRadius:A("border-radius"),columnWidth:A("column-width"),columnGap:A("column-gap")})}(),function(t){var e=function(t){n.send(t)};e.send=e,e.bind=function(t,e,i,o,r){n.bind(t,e,i,o,!0===r)},e.event={onData:function(t,i,n,o){e.bind("onData",t,i||"*",n,o)},onLoad:function(t,i,n,o){e.bind("onLoad",t,i||"*",n,o)},onDestory:function(t,i,n,o){e.bind("onDestory",t,i||"*",n,o)},onHide:function(t,i,n,o){e.bind("onHide",t,i||"*",n,o)},onShow:function(t,i,n,o){e.bind("onShow",t,i||"*",n,o)},onFullscreen:function(t,i,n,o){e.bind("onFullscreen",t,i||"*",n,o)}},e.unbind=function(t,e){n.unbind(t,e)};var i=function(t,e){for(var i in e)t[i]=e[i];return t},n={send:function(t){var e=i(n.defaults,t),o=e.target;if(e.target){var r={data:e.data,type:e.type};e.success&&(r.callback=n._callback(e.success)),e.error&&(r.errback=n._callback(e.error)),"postMessage"in o&&!e.hash&&(n._bind(),o.postMessage(JSON.stringify(r),e.origin||"*"))}else console.warn("消息目标窗口必须填写!")},bind:function(t,e,i,o,r){n._replyBind(t,e,i,o,r)},_replyBind:function(t,e,i,o,r){"postMessage"in window&&!o&&n._bind();var a=n.data("listeners.postmessage");a||(a={},n.data("listeners.postmessage",a));var s=a[t];s||(s=[],a[t]=s),s.push({fn:e,callback:r,origin:i||$.pm.origin})},unbind:function(t,e){var i=n.data("listeners.postmessage"),o=n.data("callbacks.postmessage");if(i)if(t)if(e){if(l=i[t]){for(var r=[],a=0,s=l.length;a<s;a++)(c=l[a]).fn!==e&&r.push(c);i[t]=r}}else delete i[t];else for(var a in i)delete i[a];if(o)if(t)if(e){var l=o[t];if(l){for(var r=[],a=0,s=l.length;a<s;a++){var c=l[a];c.fn!==e&&r.push(c)}o[t]=r}}else delete o[t];else for(var a in o)delete o[a]},data:function(t,e){return void 0===e?n._data[t]:(n._data[t]=e,e)},_data:{},_generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},_callback:function(t){var e=n.data("callbacks.postmessage");e||(e={},n.data("callbacks.postmessage",e));var i=n._generate();return e[i]=t,i},_bind:function(){n.data("listening.postmessage")||(window.addEventListener?window.addEventListener("message",n._dispatch,!1):window.attachEvent&&window.attachEvent("onmessage",n._dispatch),n.data("listening.postmessage",1))},_dispatch:function(t){function e(e){i.callback&&n.send({target:t.source,data:e,type:i.callback})}try{var i=JSON.parse(t.data)}catch(t){return void console.warn("消息的数据是无效的json",t)}if(i.type){var o=(n.data("callbacks.postmessage")||{})[i.type];if(o)o(i.data);else for(var r=(n.data("listeners.postmessage")||{})[i.type]||[],a=0,s=r.length;a<s;a++){var l=r[a];if(l.origin&&"*"!==l.origin&&t.origin!==l.origin){if(console.warn("消息来源不匹配!",t.origin,l.origin),i.errback){var c={message:"消息来源不匹配",origin:[t.origin,l.origin]};n.send({target:t.source,data:c,type:i.errback})}}else try{l.callback?l.fn(i.data,e,t):e(l.fn(i.data,t))}catch(e){if(!i.errback)throw e;n.send({target:t.source,data:e,type:i.errback})}}}else console.warn("必须填写对应的消息类型")}};n.defaults={target:null,url:null,type:null,data:null,success:null,error:null,origin:"*"};var o=o||"undefined";void 0!==o&&o.exports?o.exports=e:"undefined"!=typeof define?define("PMS",[],function(){return e}):t.PMS=e}(this),window.HTMLCONFIG={};var IBOOKSCONFIG=window.IBOOKSCONFIG;if(IBOOKSCONFIG&&IBOOKSCONFIG.data&&(_.each(IBOOKSCONFIG.data,function(t,e){t.item=function(t){return this[t]}}),Xut.plat.isBrowser=!0,Xut.plat.isIOS=!1),Xut.IBooks={pageIndex:function(){if(IBOOKSCONFIG)return IBOOKSCONFIG.pageIndex+1}(),existSvg:!!IBOOKSCONFIG&&IBOOKSCONFIG.existSvg,Enabled:!!IBOOKSCONFIG,CONFIG:IBOOKSCONFIG,runMode:function(){return!(!IBOOKSCONFIG||IBOOKSCONFIG.compiled)},compileMode:function(){return!(!IBOOKSCONFIG||!IBOOKSCONFIG.compiled)}},function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Q.type(t);return"function"!==i&&!Q.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(Q.isFunction(e))return Q.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Q.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(rt.test(e))return Q.filter(e,t,i);e=Q.filter(e,t)}return Q.grep(t,function(t){return G.call(e,t)>=0!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=ht[t]={};return Q.each(t.match(ut)||[],function(t,i){e[i]=!0}),e}function a(){K.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(mt,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:vt.test(i)?Q.parseJSON(i):i)}catch(t){}gt.set(t,e,i)}else i=void 0;return i}function c(){return!0}function u(){return!1}function h(){try{return K.activeElement}catch(t){}}function d(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Ot.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;i<n;i++)ft.set(t[i],"globalEval",!e||ft.get(e[i],"globalEval"))}function v(t,e){var i,n,o,r,a,s,l,c;if(1===e.nodeType){if(ft.hasData(t)&&(r=ft.access(t),a=ft.set(e,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(i=0,n=c[o].length;i<n;i++)Q.event.add(e,o,c[o][i])}gt.hasData(t)&&(s=gt.access(t),l=Q.extend({},s),gt.set(e,l))}}function m(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&xt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function _(e,i){var n,o=Q(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(o[0]))?n.display:Q.css(o[0],"display");return o.detach(),r}function b(t){var e=K,i=Xt[t];return i||("none"!==(i=_(t,e))&&i||((e=(Rt=(Rt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=_(t,e),Rt.detach()),Xt[t]=i),i}function x(t,e,i){var n,o,r,a,s=t.style;return(i=i||Lt(t))&&(a=i.getPropertyValue(e)||i[e]),i&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),Bt.test(a)&&$t.test(e)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function w(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function k(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Gt.length;o--;)if((e=Gt[o]+i)in t)return e;return n}function T(t,e,i){var n=Ht.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=Q.css(t,i+_t[r],!0,o)),n?("content"===i&&(a-=Q.css(t,"padding"+_t[r],!0,o)),"margin"!==i&&(a-=Q.css(t,"border"+_t[r]+"Width",!0,o))):(a+=Q.css(t,"padding"+_t[r],!0,o),"padding"!==i&&(a+=Q.css(t,"border"+_t[r]+"Width",!0,o)));return a}function C(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Lt(t),a="border-box"===Q.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=x(t,e,r))<0||null==o)&&(o=t.style[e]),Bt.test(o))return o;n=a&&(q.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,i||(a?"border":"content"),n,r)+"px"}function I(t,e){for(var i,n,o,r=[],a=0,s=t.length;a<s;a++)(n=t[a]).style&&(r[a]=ft.get(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&bt(n)&&(r[a]=ft.access(n,"olddisplay",b(n.nodeName)))):(o=bt(n),"none"===i&&o||ft.set(n,"olddisplay",o?i:Q.css(n,"display"))));for(a=0;a<s;a++)(n=t[a]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function P(t,e,i,n,o){return new P.prototype.init(t,e,i,n,o)}function E(){return setTimeout(function(){Yt=void 0}),Yt=Q.now()}function M(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=_t[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function A(t,e,i){for(var n,o=(Zt[e]||[]).concat(Zt["*"]),r=0,a=o.length;r<a;r++)if(n=o[r].call(i,e,t))return n}function O(t,e){var i,n,o,r,a;for(i in t)if(n=Q.camelCase(i),o=e[n],r=t[i],Q.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(a=Q.cssHooks[n])&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function N(t,e,i){var n,o,r=0,a=Qt.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Yt||E(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(n);return s.notifyWith(t,[c,n,i]),n<1&&a?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Yt||E(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Q.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(O(u,c.opts.specialEasing);r<a;r++)if(n=Qt[r].call(c,t,u,c.opts))return n;return Q.map(u,A,c),Q.isFunction(c.opts.start)&&c.opts.start.call(t,c),Q.fx.timer(Q.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function D(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(ut)||[];if(Q.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function R(t,e,i,n){function o(s){var l;return r[s]=!0,Q.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===fe;return o(e.dataTypes[0])||!r["*"]&&o("*")}function X(t,e){var i,n,o=Q.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&Q.extend(!0,t,n),t}function $(t,e,i){for(var n,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),i[r]}function B(t,e,i,n){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function L(t,e,i,n){var o;if(Q.isArray(e))Q.each(e,function(e,o){i||_e.test(t)?n(t,o):L(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==Q.type(e))n(t,e);else for(o in e)L(t+"["+o+"]",e[o],i,n)}function F(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],z=H.slice,W=H.concat,j=H.push,G=H.indexOf,Y={},V=Y.toString,U=Y.hasOwnProperty,q={},K=t.document,Q=function(t,e){return new Q.fn.init(t,e)},Z=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,J=/^-ms-/,tt=/-([\da-z])/gi,et=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:"2.1.3",constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:H.sort,splice:H.splice},Q.extend=Q.fn.extend=function(){var t,e,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],a!==(n=t[e])&&(c&&n&&(Q.isPlainObject(n)||(o=Q.isArray(n)))?(o?(o=!1,r=i&&Q.isArray(i)?i:[]):r=i&&Q.isPlainObject(i)?i:{},a[e]=Q.extend(c,r,n)):void 0!==n&&(a[e]=n));return a},Q.extend({expando:"jQuery"+("2.1.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===Q.type(t)&&!t.nodeType&&!Q.isWindow(t)&&!(t.constructor&&!U.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[V.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=Q.trim(t))&&(1===t.indexOf("use strict")?((e=K.createElement("script")).text=t,K.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(J,"ms-").replace(tt,et)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o=0,r=t.length,a=i(t);if(n){if(a)for(;o<r&&!1!==e.apply(t[o],n);o++);else for(o in t)if(!1===e.apply(t[o],n))break}else if(a)for(;o<r&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Z,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Q.merge(n,"string"==typeof t?[t]:t):j.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:G.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,a=!i;o<r;o++)!e(t[o],o)!==a&&n.push(t[o]);return n},map:function(t,e,n){var o,r=0,a=t.length,s=[];if(i(t))for(;r<a;r++)null!=(o=e(t[r],r,n))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&s.push(o);return W.apply([],s)},guid:1,proxy:function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),Q.isFunction(t))return n=z.call(arguments,2),o=function(){return t.apply(e||this,n.concat(z.call(arguments)))},o.guid=t.guid=t.guid||Q.guid++,o},now:Date.now,support:q}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,i,n){var o,r,a,s,c,h,d,p,f,g;if((e?e.ownerDocument||e:B)!==M&&E(e),e=e||M,i=i||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return i;if(!n&&O){if(11!==s&&(o=vt.exec(t)))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&X(e,r)&&r.id===a)return i.push(r),i}else{if(o[2])return K.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&_.getElementsByClassName)return K.apply(i,e.getElementsByClassName(a)),i}if(_.qsa&&(!N||!N.test(t))){if(p=d=$,f=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(h=k(t),(d=e.getAttribute("id"))?p=d.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",c=h.length;c--;)h[c]=p+u(h[c]);f=mt.test(t)&&l(e.parentNode)||e,g=h.join(",")}if(g)try{return K.apply(i,f.querySelectorAll(g)),i}catch(t){}finally{d||e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>b.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[$]=!0,t}function o(t){var e=M.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)b.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function h(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=F++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,a){var s,l,c=[L,r];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[$]||(e[$]={}),(s=l[n])&&s[0]===L&&s[1]===r)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var o=0,r=i.length;o<r;o++)e(t,i[o],n);return n}function f(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(i&&!i(r,n,o)||(a.push(r),c&&e.push(s)));return a}function g(t,e,i,o,r,a){return o&&!o[$]&&(o=g(o)),r&&!r[$]&&(r=g(r,a)),n(function(n,a,s,l){var c,u,h,d=[],g=[],v=a.length,m=n||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?m:f(m,d,t,s,l),_=i?r||(n?t:v||o)?[]:a:y;if(i&&i(y,_,s,l),o)for(c=f(_,g),o(c,[],s,l),u=c.length;u--;)(h=c[u])&&(_[g[u]]=!(y[g[u]]=h));if(n){if(r||t){if(r){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(y[u]=h);r(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=r?Z(n,h):d[u])>-1&&(n[c]=!(a[c]=h))}}else _=f(_===a?_.splice(v,_.length):_),r?r(null,a,_,l):K.apply(a,_)})}function v(t){for(var e,i,n,o=t.length,r=b.relative[t[0].type],a=r||b.relative[" "],s=r?1:0,l=h(function(t){return t===e},a,!0),c=h(function(t){return Z(e,t)>-1},a,!0),p=[function(t,i,n){var o=!r&&(n||i!==C)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,o}];s<o;s++)if(i=b.relative[t[s].type])p=[h(d(p),i)];else{if((i=b.filter[t[s].type].apply(null,t[s].matches))[$]){for(n=++s;n<o&&!b.relative[t[n].type];n++);return g(s>1&&d(p),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),i,s<n&&v(t.slice(s,n)),n<o&&v(t=t.slice(n)),n<o&&u(t))}p.push(i)}return d(p)}function m(t,i){var o=i.length>0,r=t.length>0,a=function(n,a,s,l,c){var u,h,d,p=0,g="0",v=n&&[],m=[],y=C,_=n||r&&b.find.TAG("*",c),x=L+=null==y?1:Math.random()||.1,w=_.length;for(c&&(C=a!==M&&a);g!==w&&null!=(u=_[g]);g++){if(r&&u){for(h=0;d=t[h++];)if(d(u,a,s)){l.push(u);break}c&&(L=x)}o&&((u=!d&&u)&&p--,n&&v.push(u))}if(p+=g,o&&g!==p){for(h=0;d=i[h++];)d(v,m,a,s);if(n){if(p>0)for(;g--;)v[g]||m[g]||(m[g]=U.call(l));m=f(m)}K.apply(l,m),c&&!n&&m.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(L=x,C=y),v};return o?n(a):a}var y,_,b,x,w,k,T,S,C,I,P,E,M,A,O,N,D,R,X,$="sizzle"+1*new Date,B=t.document,L=0,F=0,H=i(),z=i(),W=i(),j=function(t,e){return t===e&&(P=!0),0},G=1<<31,Y={}.hasOwnProperty,V=[],U=V.pop,q=V.push,K=V.push,Q=V.slice,Z=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=et.replace("w","w#"),nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+tt+"*\\]",ot=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ct=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(ot),ht=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,yt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){E()};try{K.apply(V=Q.call(B.childNodes),B.childNodes),V[B.childNodes.length].nodeType}catch(t){K={apply:V.length?function(t,e){q.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:B;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,A=n.documentElement,(i=n.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),O=!w(n),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=gt.test(n.getElementsByClassName),_.getById=o(function(t){return A.appendChild(t).id=$,!n.getElementsByName||!n.getElementsByName($).length}),_.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},b.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),b.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},b.find.CLASS=_.getElementsByClassName&&function(t,e){if(O)return e.getElementsByClassName(t)},D=[],N=[],(_.qsa=gt.test(n.querySelectorAll))&&(o(function(t){A.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+$+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||N.push(".#.+[+~]")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(_.matchesSelector=gt.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){_.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),D.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),D=D.length&&new RegExp(D.join("|")),e=gt.test(A.compareDocumentPosition),X=e||gt.test(A.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return P=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===B&&X(B,t)?-1:e===n||e.ownerDocument===B&&X(B,e)?1:I?Z(I,t)-Z(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return P=!0,0;var i,o=0,r=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!r||!s)return t===n?-1:e===n?1:r?-1:s?1:I?Z(I,t)-Z(I,e):0;if(r===s)return a(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===B?-1:c[o]===B?1:0},n):M},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==M&&E(t),i=i.replace(ct,"='$1']"),_.matchesSelector&&O&&(!D||!D.test(i))&&(!N||!N.test(i)))try{var n=R.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&E(t),X(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&E(t);var i=b.attrHandle[e.toLowerCase()],n=i&&Y.call(b.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:_.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(P=!_.detectDuplicates,I=!_.sortStable&&t.slice(0),t.sort(j),P){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return I=null,t},x=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=x(e);return i},(b=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,g=r!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(v){if(r){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?v.firstChild:v.lastChild],a&&y){for(p=(c=(u=v[$]||(v[$]={}))[t]||[])[0]===L&&c[1],d=c[0]===L&&c[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[L,p,d];break}}else if(y&&(c=(e[$]||(e[$]={}))[t])&&c[0]===L)d=c[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++d||(y&&((h[$]||(h[$]={}))[t]=[L,d]),h!==e)););return(d-=o)===n||d%n==0&&d/n>=0}}},PSEUDO:function(t,i){var o,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[$]?r(i):r.length>1?(o=[t,t,"",i],b.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),a=o.length;a--;)t[n=Z(t,o[a])]=!(e[n]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=T(t.replace(at,"$1"));return o[$]?n(function(t,e,i,n){for(var r,a=o(t,null,n,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:n(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[i<0?i+e:i]}),even:s(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:s(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return c.prototype=b.filters=b.pseudos,b.setFilters=new c,k=e.tokenize=function(t,i){var n,o,r,a,s,l,c,u=z[t+" "];if(u)return i?0:u.slice(0);for(s=t,l=[],c=b.preFilter;s;){n&&!(o=st.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=lt.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),s=s.slice(n.length));for(a in b.filter)!(o=dt[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):z(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],o=[],r=W[t+" "];if(!r){for(e||(e=k(t)),i=e.length;i--;)(r=v(e[i]))[$]?n.push(r):o.push(r);(r=W(t,m(o,n))).selector=t}return r},S=e.select=function(t,e,i,n){var o,r,a,s,c,h="function"==typeof t&&t,d=!n&&k(t=h.selector||t);if(i=i||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&_.getById&&9===e.nodeType&&O&&b.relative[r[1].type]){if(!(e=(b.find.ID(a.matches[0].replace(_t,bt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=dt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!b.relative[s=a.type]);)if((c=b.find[s])&&(n=c(a.matches[0].replace(_t,bt),mt.test(r[0].type)&&l(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&u(r)))return K.apply(i,n),i;break}}return(h||T(t,d))(n,e,!O,i,mt.test(t)&&l(e.parentNode)||e),i},_.sortStable=$.split("").sort(j).join("")===$,_.detectDuplicates=!!P,E(),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(J,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var nt=Q.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Q.find.matchesSelector(n,t)?[n]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;e<i;e++)if(Q.contains(o[e],this))return!0}));for(e=0;e<i;e++)Q.find(t,o[e],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&nt.test(t)?Q(t):t||[],!1).length}});var at,st=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Q.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:st.exec(t))||!i[1]&&e)return!e||e.jquery?(e||at).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),ot.test(i[1])&&Q.isPlainObject(e))for(i in e)Q.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=K.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?void 0!==at.ready?at.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))}).prototype=Q.fn,at=Q(K);var lt=/^(?:parents|prev(?:Until|All))/,ct={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Q(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Q.fn.extend({has:function(t){var e=Q(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],a=nt.test(t)||"string"!=typeof t?Q(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?Q.unique(r):r)},index:function(t){return t?"string"==typeof t?G.call(Q(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Q.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Q.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Q.dir(t,"previousSibling",i)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(i,n){var o=Q.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=Q.filter(n,o)),this.length>1&&(ct[t]||Q.unique(o),lt.test(t)&&o.reverse()),this.pushStack(o)}});var ut=/\S+/g,ht={};Q.Callbacks=function(t){var e,i,n,o,a,s,l=[],c=!(t="string"==typeof t?ht[t]||r(t):Q.extend({},t)).once&&[],u=function(r){for(e=t.memory&&r,i=!0,s=o||0,o=0,a=l.length,n=!0;l&&s<a;s++)if(!1===l[s].apply(r[0],r[1])&&t.stopOnFalse){e=!1;break}n=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function e(i){Q.each(i,function(i,n){var o=Q.type(n);"function"===o?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==o&&e(n)})}(arguments),n?a=l.length:e&&(o=i,u(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var i;(i=Q.inArray(e,l,i))>-1;)l.splice(i,1),n&&(i<=a&&a--,i<=s&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=[t,(e=e||[]).slice?e.slice():e],n?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(i){Q.each(e,function(e,r){var a=Q.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,n):n}},o={};return n.pipe=n.then,Q.each(e,function(t,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=z.call(arguments),a=r.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?z.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);o<a;o++)r[o]&&Q.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,e)):--s;return s||l.resolveWith(n,r),l.promise()}});var dt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(!0===t?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!0!==t&&--Q.readyWait>0||(dt.resolveWith(K,[Q]),Q.fn.triggerHandler&&(Q(K).triggerHandler("ready"),Q(K).off("ready"))))}}),Q.ready.promise=function(e){return dt||(dt=Q.Deferred(),"complete"===K.readyState?setTimeout(Q.ready):(K.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),dt.promise(e)},Q.ready.promise();var pt=Q.access=function(t,e,i,n,o,r,a){var s=0,l=t.length,c=null==i;if("object"===Q.type(i)){o=!0;for(s in i)Q.access(t,e,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,Q.isFunction(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(Q(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return o?t:c?e.call(t):l?e(t[0],i):r};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=s.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Q.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=i;else if(Q.isEmptyObject(r))Q.extend(this.cache[o],e);else for(n in e)r[n]=e[n];return r},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(n=this.get(t,e))?n:this.get(t,Q.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=this.key(t),a=this.cache[r];if(void 0===e)this.cache[r]={};else{Q.isArray(e)?n=e.concat(e.map(Q.camelCase)):(o=Q.camelCase(e),n=e in a?[e,o]:(n=o)in a?[n]:n.match(ut)||[]),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ft=new s,gt=new s,vt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mt=/([A-Z])/g;Q.extend({hasData:function(t){return gt.hasData(t)||ft.hasData(t)},data:function(t,e,i){return gt.access(t,e,i)},removeData:function(t,e){gt.remove(t,e)},_data:function(t,e,i){return ft.access(t,e,i)},_removeData:function(t,e){ft.remove(t,e)}}),Q.fn.extend({data:function(t,e){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=gt.get(r),1===r.nodeType&&!ft.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=Q.camelCase(n.slice(5)),l(r,n,o[n]));ft.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){gt.set(this,t)}):pt(this,function(e){var i,n=Q.camelCase(t);if(r&&void 0===e){if(void 0!==(i=gt.get(r,t)))return i;if(void 0!==(i=gt.get(r,n)))return i;if(void 0!==(i=l(r,n,void 0)))return i}else this.each(function(){var i=gt.get(this,n);gt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&gt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){gt.remove(this,t)})}}),Q.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=ft.get(t,e),i&&(!n||Q.isArray(i)?n=ft.access(t,e,Q.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=Q.queue(t,e),n=i.length,o=i.shift(),r=Q._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,function(){Q.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ft.get(t,i)||ft.access(t,i,{empty:Q.Callbacks("once memory").add(function(){ft.remove(t,[e+"queue",i])})})}}),Q.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Q.queue(this[0],t):void 0===e?this:this.each(function(){var i=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=Q.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=ft.get(r[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}});var yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],bt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},xt=/^(?:checkbox|radio)$/i;!function(){var t=K.createDocumentFragment().appendChild(K.createElement("div")),e=K.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();q.focusinBubbles="onfocusin"in t;var wt=/^key/,kt=/^(?:mouse|pointer|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,i,n,o){var r,a,s,l,c,u,h,d,p,f,g,v=ft.get(t);if(v)for(i.handler&&(i=(r=i).handler,o=r.selector),i.guid||(i.guid=Q.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==Q&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(ut)||[""]).length;c--;)p=g=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=Q.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=Q.event.special[p]||{},u=Q.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&Q.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(p,a,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),Q.event.global[p]=!0)},remove:function(t,e,i,n,o){var r,a,s,l,c,u,h,d,p,f,g,v=ft.hasData(t)&&ft.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(ut)||[""]).length;c--;)if(s=St.exec(e[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(h=Q.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)u=d[r],!o&&g!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,v.handle)||Q.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)Q.event.remove(t,p+e[c],i,n,!0);Q.isEmptyObject(l)&&(delete v.handle,ft.remove(t,"events"))}},trigger:function(e,i,n,o){var r,a,s,l,c,u,h,d=[n||K],p=U.call(e,"type")?e.type:e,f=U.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||K,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(p=(f=p.split(".")).shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Q.makeArray(i,[e]),h=Q.event.special[p]||{},o||!h.trigger||!1!==h.trigger.apply(n,i))){if(!o&&!h.noBubble&&!Q.isWindow(n)){for(l=h.delegateType||p,Tt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(n.ownerDocument||K)&&d.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,(u=(ft.get(a,"events")||{})[e.type]&&ft.get(a,"handle"))&&u.apply(a,i),(u=c&&a[c])&&u.apply&&Q.acceptData(a)&&(e.result=u.apply(a,i),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),i)||!Q.acceptData(n)||c&&Q.isFunction(n[p])&&!Q.isWindow(n)&&((s=n[c])&&(n[c]=null),Q.event.triggered=p,n[p](),Q.event.triggered=void 0,s&&(n[c]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,i,n,o,r,a=[],s=z.call(arguments),l=(ft.get(this,"events")||{})[t.type]||[],c=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=Q.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(n=((Q.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(n=[],i=0;i<s;i++)void 0===n[o=(r=e[i]).selector+" "]&&(n[o]=r.needsContext?Q(o,this).index(l)>=0:Q.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||K).documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,i,n,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=kt.test(o)?this.mouseHooks:wt.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new Q.Event(r),e=n.length;e--;)t[i=n[e]]=r[i];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Q.nodeName(this,"input"))return this.click(),!1},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=Q.extend(new Q.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(o,null,e):Q.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Q.Event=function(t,e){if(!(this instanceof Q.Event))return new Q.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?c:u):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),this[Q.expando]=!0},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||Q.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),q.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ft.access(n,e);o||n.addEventListener(t,i,!0),ft.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ft.access(n,e)-1;o?ft.access(n,e,o):(n.removeEventListener(t,i,!0),ft.remove(n,e))}}}),Q.fn.extend({on:function(t,e,i,n,o){var r,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=u;else if(!n)return this;return 1===o&&(r=n,(n=function(t){return Q().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Q(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=u),this.each(function(){Q.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return Q.event.trigger(t,e,i,!0)}});var Ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,Pt=/<|&#?\w+;/,Et=/<(?:script|style|link)/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.optgroup=Dt.option,Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,Q.extend({clone:function(t,e,i){var n,o,r,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(q.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=m(s),n=0,o=(r=m(t)).length;n<o;n++)y(r[n],a[n]);if(e)if(i)for(r=r||m(t),a=a||m(s),n=0,o=r.length;n<o;n++)v(r[n],a[n]);else v(t,s);return(a=m(s,"script")).length>0&&g(a,!l&&m(t,"script")),s},buildFragment:function(t,e,i,n){for(var o,r,a,s,l,c,u=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===Q.type(o))Q.merge(h,o.nodeType?[o]:o);else if(Pt.test(o)){if(r=r||u.appendChild(e.createElement("div")),a=(It.exec(o)||["",""])[1].toLowerCase(),s=Dt[a]||Dt._default,Xut.IBooks.Enabled)try{r.innerHTML=s[1]+o.replace(Ct,"<$1></$2>")+s[2]}catch(t){console.log(s[1]+o.replace(Ct,"<$1></$2>")+s[2])}else r.innerHTML=s[1]+o.replace(Ct,"<$1></$2>")+s[2];for(c=s[0];c--;)r=r.lastChild;Q.merge(h,r.childNodes),(r=u.firstChild).textContent=""}else h.push(e.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if((!n||-1===Q.inArray(o,n))&&(l=Q.contains(o.ownerDocument,o),r=m(u.appendChild(o),"script"),l&&g(r),i))for(c=0;o=r[c++];)At.test(o.type||"")&&i.push(o);return u},cleanData:function(t){for(var e,i,n,o,r=Q.event.special,a=0;void 0!==(i=t[a]);a++){if(Q.acceptData(i)&&(o=i[ft.expando])&&(e=ft.cache[o])){if(e.events)for(n in e.events)r[n]?Q.event.remove(i,n):Q.removeEvent(i,n,e.handle);ft.cache[o]&&delete ft.cache[o]}delete gt.cache[i[gt.expando]]}}}),Q.fn.extend({text:function(t){return pt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||d(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Q.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||Q.cleanData(m(i)),i.parentNode&&(e&&Q.contains(i.ownerDocument,i)&&g(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!Dt[(It.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ct,"<$1></$2>");try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(Q.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var i,n,o,r,a,s,l=0,c=this.length,u=this,h=c-1,d=t[0],g=Q.isFunction(d);if(g||c>1&&"string"==typeof d&&!q.checkClone&&Mt.test(d))return this.each(function(i){var n=u.eq(i);g&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(c&&(i=Q.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=(o=Q.map(m(i,"script"),p)).length;l<c;l++)a=i,l!==h&&(a=Q.clone(a,!0,!0),r&&Q.merge(o,m(a,"script"))),e.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,Q.map(o,f),l=0;l<r;l++)a=o[l],At.test(a.type||"")&&!ft.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Nt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var i,n=[],o=Q(t),r=o.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),Q(o[a])[e](i),j.apply(n,i.get());return this.pushStack(n)}});var Rt,Xt={},$t=/^margin/,Bt=new RegExp("^("+yt+")(?!px)[a-z%]+$","i"),Lt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(a,null);i="1%"!==e.top,n="4px"===e.width,o.removeChild(r)}var i,n,o=K.documentElement,r=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",q.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(a),t.getComputedStyle&&Q.extend(q,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=a.appendChild(K.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(i,null).marginRight),o.removeChild(r),a.removeChild(i),e}}))}(),Q.swap=function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o};var Ft=/^(none|table(?!-c[ea]).+)/,Ht=new RegExp("^("+yt+")(.*)$","i"),zt=new RegExp("^([+-])=("+yt+")","i"),Wt={position:"absolute",visibility:"hidden",display:"block"},jt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=x(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=Q.camelCase(e),l=t.style;if(e=Q.cssProps[s]||(Q.cssProps[s]=k(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:l[e];"string"==(r=typeof i)&&(o=zt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Q.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||Q.cssNumber[s]||(i+="px"),q.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var o,r,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=k(t.style,s)),(a=Q.cssHooks[e]||Q.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=x(t,e,n)),"normal"===o&&e in jt&&(o=jt[e]),""===i||i?(r=parseFloat(o),!0===i||Q.isNumeric(r)?r||0:o):o}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,i,n){if(i)return Ft.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Wt,function(){return C(t,e,n)}):C(t,e,n)},set:function(t,i,n){var o=n&&Lt(t);return T(0,i,n?S(t,e,n,"border-box"===Q.css(t,"boxSizing",!1,o),o):0)}}}),Q.cssHooks.marginRight=w(q.reliableMarginRight,function(t,e){if(e)return Q.swap(t,{display:"inline-block"},x,[t,"marginRight"])}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+_t[n]+e]=r[n]||r[n-2]||r[0];return o}},$t.test(t)||(Q.cssHooks[t+e].set=T)}),Q.fn.extend({css:function(t,e){return pt(this,function(t,e,i){var n,o,r={},a=0;if(Q.isArray(e)){for(n=Lt(t),o=e.length;a<o;a++)r[e[a]]=Q.css(t,e[a],!1,n);return r}return void 0!==i?Q.style(t,e,i):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){bt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=P,P.prototype={constructor:P,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(Q.cssNumber[i]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,i=P.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=P.prototype.init,Q.fx.step={};var Yt,Vt,Ut=/^(?:toggle|show|hide)$/,qt=new RegExp("^(?:([+-])=|)("+yt+")([a-z%]*)$","i"),Kt=/queueHooks$/,Qt=[function(t,e,i){var n,o,r,a,s,l,c,u=this,h={},d=t.style,p=t.nodeType&&bt(t),f=ft.get(t,"fxshow");i.queue||(null==(s=Q._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=Q.css(t,"display"))?ft.get(t,"olddisplay")||b(t.nodeName):c)&&"none"===Q.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Ut.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||Q.style(t,n)}else c=void 0;if(Q.isEmptyObject(h))"inline"===("none"===c?b(t.nodeName):c)&&(d.display=c);else{f?"hidden"in f&&(p=f.hidden):f=ft.access(t,"fxshow",{}),r&&(f.hidden=!p),p?Q(t).show():u.done(function(){Q(t).hide()}),u.done(function(){var e;ft.remove(t,"fxshow");for(e in h)Q.style(t,e,h[e])});for(n in h)a=A(p?f[n]:0,n,u),n in f||(f[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}],Zt={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=qt.exec(e),r=o&&o[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==r&&+n)&&qt.exec(Q.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do{a/=s=s||".5",Q.style(i.elem,t,a+r)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};Q.Animation=Q.extend(N,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;n<o;n++)i=t[n],Zt[i]=Zt[i]||[],Zt[i].unshift(e)},prefilter:function(t,e){e?Qt.unshift(t):Qt.push(t)}}),Q.speed=function(t,e,i){var n=t&&"object"==typeof t?Q.extend({},t):{complete:i||!i&&e||Q.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Q.isFunction(e)&&e};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(t,e,i,n){return this.filter(bt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=Q.isEmptyObject(t),r=Q.speed(e,i,n),a=function(){var e=N(this,Q.extend({},t),r);(o||ft.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=Q.timers,a=ft.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&Kt.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||Q.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=ft.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=Q.timers,a=n?n.length:0;for(i.finish=!0,Q.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var i=Q.fn[e];Q.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(M(e,!0),t,n,o)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,i=Q.timers;for(Yt=Q.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||Q.fx.stop(),Yt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Vt||(Vt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Vt),Vt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),i=e.appendChild(K.createElement("option"));t.type="checkbox",q.checkOn=""!==t.value,q.optSelected=i.selected,e.disabled=!0,q.optDisabled=!i.disabled,(t=K.createElement("input")).value="t",t.type="radio",q.radioValue="t"===t.value}();var Jt,te=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return pt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?Q.prop(t,e,i):(1===r&&Q.isXMLDoc(t)||(e=e.toLowerCase(),n=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?Jt:void 0)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:null==(o=Q.find.attr(t,e))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void Q.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(ut);if(r&&1===t.nodeType)for(;i=r[o++];)n=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!q.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),Jt={set:function(t,e,i){return!1===e?Q.removeAttr(t,i):t.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var i=te[e]||Q.find.attr;te[e]=function(t,e,n){var o,r;return n||(r=te[e],te[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,te[e]=r),o}});var ee=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return pt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!Q.isXMLDoc(t))&&(e=Q.propFix[e]||e,o=Q.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ee.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),q.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,i,n,o,r,a,s="string"==typeof t&&t,l=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ut)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=Q.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,r,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ut)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?Q.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(i){Q(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=Q(this),r=t.match(ut)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else"undefined"!==i&&"boolean"!==i||(this.className&&ft.set(this,"__className__",this.className),this.className=this.className||!1===t?"":ft.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ie," ").indexOf(e)>=0)return!0;return!1}});var ne=/\r/g;Q.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=Q.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,Q(this).val()):t)?o="":"number"==typeof o?o+="":Q.isArray(o)&&(o=Q.map(o,function(t){return null==t?"":t+""})),(e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return(e=Q.valHooks[o.type]||Q.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(ne,""):null==i?"":i}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:n.length,l=o<0?s:r?o:0;l<s;l++)if(((i=n[l]).selected||l===o)&&(q.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Q.nodeName(i.parentNode,"optgroup"))){if(e=Q(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=Q.makeArray(e),a=o.length;a--;)((n=o[a]).selected=Q.inArray(n.value,r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){if(Q.isArray(e))return t.checked=Q.inArray(Q(t).val(),e)>=0}},q.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var oe=Q.now(),re=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+t),e};var ae=/#.*$/,se=/([?&])_=[^&]*/,le=/^(.*?):[ \t]*([^\r\n]*)$/gm,ce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ue=/^(?:GET|HEAD)$/,he=/^\/\//,de=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,pe={},fe={},ge="*/".concat("*"),ve=t.location.href,me=de.exec(ve.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ve,type:"GET",isLocal:ce.test(me[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,Q.ajaxSettings),e):X(Q.ajaxSettings,t)},ajaxPrefilter:D(pe),ajaxTransport:D(fe),ajax:function(t,e){function i(t,e,i,a){var l,u,m,y,b,w=e;2!==_&&(_=2,s&&clearTimeout(s),n=void 0,r=a||"",x.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(y=$(h,x,i)),y=B(h,y,x,l),l?(h.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(Q.lastModified[o]=b),(b=x.getResponseHeader("etag"))&&(Q.etag[o]=b)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=y.state,u=y.data,l=!(m=y.error))):(m=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(e||w)+"",l?f.resolveWith(d,[u,w,x]):f.rejectWith(d,[x,w,m]),x.statusCode(v),v=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?u:m]),g.fireWith(d,[x,w]),c&&(p.trigger("ajaxComplete",[x,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,a,s,l,c,u,h=Q.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,f=Q.Deferred(),g=Q.Callbacks("once memory"),v=h.statusCode||{},m={},y={},_=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=le.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=y[i]=y[i]||t,m[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return n&&n.abort(e),i(0,e),this}};if(f.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||ve)+"").replace(ae,"").replace(he,me[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(l=de.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===me[1]&&l[2]===me[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(me[3]||("http:"===me[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),R(pe,h,e,x),2===_)return x;(c=Q.event&&h.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ue.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(re.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=se.test(o)?o.replace(se,"$1_="+oe++):o+(re.test(o)?"&":"?")+"_="+oe++)),h.ifModified&&(Q.lastModified[o]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[o]),Q.etag[o]&&x.setRequestHeader("If-None-Match",Q.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ge+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)x.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(d,x,h)||2===_))return x.abort();b="abort";for(u in{success:1,error:1,complete:1})x[u](h[u]);if(n=R(fe,h,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,n.send(m,i)}catch(t){if(!(_<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return Q.get(t,e,i,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,i,n,o){return Q.isFunction(i)&&(o=o||n,n=i,i=void 0),Q.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(i){Q(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var ye=/%20/g,_e=/\[\]$/,be=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var i,n=[],o=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){o(this.name,this.value)});else for(i in t)L(i,t[i],e,o);return n.join("&").replace(ye,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&we.test(this.nodeName)&&!xe.test(t)&&(this.checked||!xt.test(t))}).map(function(t,e){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(t){return{name:e.name,value:t.replace(be,"\r\n")}}):{name:e.name,value:i.replace(be,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var ke=0,Te={},Se={0:200,1223:204},Ce=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Te)Te[t]()}),q.cors=!!Ce&&"withCredentials"in Ce,q.ajax=Ce=!!Ce,Q.ajaxTransport(function(t){var e;if(q.cors||Ce&&!t.crossDomain)return{send:function(i,n){var o,r=t.xhr(),a=++ke;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)r.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete Te[a],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?n(r.status,r.statusText):n(Se[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Te[a]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ie=[],Pe=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||Q.expando+"_"+oe++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,a,s=!1!==e.jsonp&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pe,"$1"+o):!1!==e.jsonp&&(e.url+=(re.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Q.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},n.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,Ie.push(o)),a&&Q.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),Q.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||K;var n=ot.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=Q.buildFragment([t],e,o),o&&o.length&&Q(o).remove(),Q.merge([],n.childNodes))};var Ee=Q.fn.load;Q.fn.load=function(t,e,i){if("string"!=typeof t&&Ee)return Ee.apply(this,arguments);var n,o,r,a=this,s=t.indexOf(" ");return s>=0&&(n=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&Q.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?Q("<div>").append(Q.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,r||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Me=t.document.documentElement;Q.offset={setOffset:function(t,e,i){var n,o,r,a,s,l,c=Q.css(t,"position"),u=Q(t),h={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=Q.css(t,"top"),l=Q.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(n=u.position()).top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):u.css(h)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;if(r)return e=r.documentElement,Q.contains(e,n)?(void 0!==n.getBoundingClientRect&&(o=n.getBoundingClientRect()),i=F(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Q.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(n=t.offset()),n.top+=Q.css(t[0],"borderTopWidth",!0),n.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Q.css(i,"marginTop",!0),left:e.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Me;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Me})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Q.fn[e]=function(o){return pt(this,function(e,o,r){var a=F(e);if(void 0===r)return a?a[i]:e[o];a?a.scrollTo(n?t.pageXOffset:r,n?r:t.pageYOffset):e[o]=r},e,o,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=w(q.pixelPosition,function(t,i){if(i)return i=x(t,e),Bt.test(i)?Q(t).position()[e]+"px":i})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Q.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===o?"margin":"border");return pt(this,function(e,i,n){var o;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?Q.css(e,i,a):Q.style(e,i,n,a)},e,r?n:void 0,r,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ae=t.jQuery,Oe=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Oe),e&&t.jQuery===Q&&(t.jQuery=Ae),Q},void 0===e&&(t.jQuery=t.$=Q),Q}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){function e(t){if(t in u.style)return t;for(var e=["Moz","Webkit","O","ms"],i=t.charAt(0).toUpperCase()+t.substr(1),n=0;n<e.length;++n){var o=e[n]+i;if(o in u.style)return o}}function i(t){return"string"==typeof t&&this.parse(t),this}function n(t,e,i){!0===e?t.queue(i):e?t.queue(e,i):t.each(function(){i.call(this)})}function o(e){var i=[];return t.each(e,function(e){e=t.camelCase(e),e=s(e=t.transit.propertyMap[e]||t.cssProps[e]||e),h[e]&&(e=s(h[e])),-1===t.inArray(e,i)&&i.push(e)}),i}function r(e,i,n,r){var a=o(e);t.cssEase[n]&&(n=t.cssEase[n]);var s=c(i)+" "+n;parseInt(r,10)>0&&(s+=" "+c(r));var l=[];return t.each(a,function(t,e){l.push(e+" "+s)}),l.join(", ")}function a(e,i){i||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=h.transform,t.cssHooks[e]={get:function(i){return t(i).css("transit:transform").get(e)},set:function(i,n){var o=t(i).css("transit:transform");o.setFromString(e,n),t(i).css({"transit:transform":o})}}}function s(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function l(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function c(e){var i=e;return"string"!=typeof i||i.match(/^[\-0-9\.]+/)||(i=t.fx.speeds[i]||t.fx.speeds._default),l(i,"ms")}t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),h={},d=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=e("transition"),h.transitionDelay=e("transitionDelay"),h.transform=e("transform"),h.transformOrigin=e("transformOrigin"),h.filter=e("Filter"),h.transform3d=(u.style[h.transform]="",u.style[h.transform]="rotateY(90deg)",""!==u.style[h.transform]);var p={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},f=h.transitionEnd=p[h.transition]||null;for(var g in h)h.hasOwnProperty(g)&&void 0===t.support[g]&&(t.support[g]=h[g]);return u=null,t.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new i},set:function(e,n){var o=n;o instanceof i||(o=new i(o)),"WebkitTransform"!==h.transform||d?e.style[h.transform]=o.toString():e.style[h.transform]=o.toString(!0),t(e).data("transform",o)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.cssHooks.filter={get:function(t){return t.style[h.filter]},set:function(t,e){t.style[h.filter]=e}},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[h.transformOrigin]},set:function(t,e){t.style[h.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[h.transition]},set:function(t,e){t.style[h.transition]=e}}),a("scale"),a("scaleX"),a("scaleY"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),i.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),i.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=l(t,"deg")},rotateX:function(t){this.rotateX=l(t,"deg")},rotateY:function(t){this.rotateY=l(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=l(t,"deg")},skewY:function(t){this.skewY=l(t,"deg")},perspective:function(t){this.perspective=l(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=l(t,"px")),null!==e&&void 0!==e&&(this._translateY=l(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;e<=3;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=l(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,i,n){e.setFromString(i,n)})},toString:function(t){var e=[];for(var i in this)if(this.hasOwnProperty(i)){if(!h.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(t&&"scale"===i?e.push(i+"3d("+this[i]+",1)"):t&&"translate"===i?e.push(i+"3d("+this[i]+",0)"):e.push(i+"("+this[i]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,i,o,a){var s=this,l=0,u=!0,d=t.extend(!0,{},e);"function"==typeof i&&(a=i,i=void 0),"object"==typeof i&&(o=i.easing,l=i.delay||0,u=void 0===i.queue||i.queue,a=i.complete,i=i.duration),"function"==typeof o&&(a=o,o=void 0),void 0!==d.easing&&(o=d.easing,delete d.easing),void 0!==d.duration&&(i=d.duration,delete d.duration),void 0!==d.complete&&(a=d.complete,delete d.complete),void 0!==d.queue&&(u=d.queue,delete d.queue),void 0!==d.delay&&(l=d.delay,delete d.delay),void 0===i&&(i=t.fx.speeds._default),void 0===o&&(o=t.cssEase._default),i=c(i);var p=r(d,i,o,l),g=t.transit.enabled&&h.transition?parseInt(i,10)+parseInt(l,10):0;if(0===g){return n(s,u,function(t){s.css(d),a&&a.apply(s),t&&t()}),s}var v={},m=function(e){var i=!1,n=function(){i&&s.unbind(f,n),g>0&&s.each(function(){this.style[h.transition]=v[this]||null}),"function"==typeof a&&a.apply(s),"function"==typeof e&&e()};g>0&&f&&t.transit.useTransitionEnd?(i=!0,s.bind(f,n)):window.setTimeout(n,g),s.each(function(){g>0&&(this.style[h.transition]=p),t(this).css(d)})};return n(s,u,function(t){this.offsetWidth=this.offsetWidth,m(t)}),this},t.transit.getTransitionValue=r,t}),function(){var t=this,e=t._,i={},n=Array.prototype,o=Object.prototype,r=Function.prototype,a=Date.now||function(){return(new Date).getTime()},s=n.push,l=n.slice,c=n.concat,u=o.toString,h=o.hasOwnProperty,d=n.forEach,p=n.map,f=n.reduce,g=n.reduceRight,v=n.filter,m=n.every,y=n.some,_=n.indexOf,b=n.lastIndexOf,x=Array.isArray,w=Object.keys,k=r.bind,T=function(t){return t instanceof T?t:this instanceof T?void(this._wrapped=t):new T(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):t._=T,T.VERSION="1.5.2";var S=T.each=T.forEach=function(t,e,n){if(null!=t)if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t)===i)return}else for(var a=T.keys(t),o=0,r=a.length;o<r;o++)if(e.call(n,t[a[o]],a[o],t)===i)return};T.map=T.collect=function(t,e,i){var n=[];return null==t?n:p&&t.map===p?t.map(e,i):(S(t,function(t,o,r){n.push(e.call(i,t,o,r))}),n)};var C="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,i,n){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return n&&(e=T.bind(e,n)),o?t.reduce(e,i):t.reduce(e);if(S(t,function(t,r,a){o?i=e.call(n,i,t,r,a):(i=t,o=!0)}),!o)throw new TypeError(C);return i},T.reduceRight=T.foldr=function(t,e,i,n){var o=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return n&&(e=T.bind(e,n)),o?t.reduceRight(e,i):t.reduceRight(e);var r=t.length;if(r!==+r){var a=T.keys(t);r=a.length}if(S(t,function(s,l,c){l=a?a[--r]:--r,o?i=e.call(n,i,t[l],l,c):(i=t[l],o=!0)}),!o)throw new TypeError(C);return i},T.find=T.detect=function(t,e,i){var n;return I(t,function(t,o,r){if(e.call(i,t,o,r))return n=t,!0}),n},T.filter=T.select=function(t,e,i){var n=[];return null==t?n:v&&t.filter===v?t.filter(e,i):(S(t,function(t,o,r){e.call(i,t,o,r)&&n.push(t)}),n)},T.reject=function(t,e,i){return T.filter(t,function(t,n,o){return!e.call(i,t,n,o)},i)},T.every=T.all=function(t,e,n){e||(e=T.identity);var o=!0;return null==t?o:m&&t.every===m?t.every(e,n):(S(t,function(t,r,a){if(!(o=o&&e.call(n,t,r,a)))return i}),!!o)};var I=T.some=T.any=function(t,e,n){e||(e=T.identity);var o=!1;return null==t?o:y&&t.some===y?t.some(e,n):(S(t,function(t,r,a){if(o||(o=e.call(n,t,r,a)))return i}),!!o)};T.contains=T.include=function(t,e){return null!=t&&(_&&t.indexOf===_?-1!=t.indexOf(e):I(t,function(t){return t===e}))},T.invoke=function(t,e){var i=l.call(arguments,2),n=T.isFunction(e);return T.map(t,function(t){return(n?e:t[e]).apply(t,i)})},T.pluck=function(t,e){return T.map(t,function(t){return t[e]})},T.where=function(t,e,i){return T.isEmpty(e)?i?void 0:[]:T[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},T.findWhere=function(t,e){return T.where(t,e,!0)},T.max=function(t,e,i){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&T.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return S(t,function(t,o,r){var a=e?e.call(i,t,o,r):t;a>n.computed&&(n={value:t,computed:a})}),n.value},T.min=function(t,e,i){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&T.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return S(t,function(t,o,r){var a=e?e.call(i,t,o,r):t;a<n.computed&&(n={value:t,computed:a})}),n.value},T.shuffle=function(t){var e,i=0,n=[];return S(t,function(t){e=T.random(i++),n[i-1]=n[e],n[e]=t}),n},T.sample=function(t,e,i){return null==e||i?(t.length!==+t.length&&(t=T.values(t)),t[T.random(t.length-1)]):T.shuffle(t).slice(0,Math.max(0,e))};var P=function(t){return T.isFunction(t)?t:function(e){return e[t]}};T.sortBy=function(t,e,i){var n=null==e?T.identity:P(e);return T.pluck(T.map(t,function(t,e,o){return{value:t,index:e,criteria:n.call(i,t,e,o)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,i,n){var o={},r=null==i?T.identity:P(i);return S(e,function(i,a){var s=r.call(n,i,a,e);t(o,s,i)}),o}};T.groupBy=E(function(t,e,i){(T.has(t,e)?t[e]:t[e]=[]).push(i)}),T.indexBy=E(function(t,e,i){t[e]=i}),T.countBy=E(function(t,e){T.has(t,e)?t[e]++:t[e]=1}),T.sortedIndex=function(t,e,i,n){for(var o=(i=null==i?T.identity:P(i)).call(n,e),r=0,a=t.length;r<a;){var s=r+a>>>1;i.call(n,t[s])<o?r=s+1:a=s}return r},T.toArray=function(t){return t?T.isArray(t)?l.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:l.call(t,0,e)},T.initial=function(t,e,i){return l.call(t,0,t.length-(null==e||i?1:e))},T.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,i){return l.call(t,null==e||i?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var M=function(t,e,i){return e&&T.every(t,T.isArray)?c.apply(i,t):(S(t,function(t){T.isArray(t)||T.isArguments(t)?e?s.apply(i,t):M(t,e,i):i.push(t)}),i)};T.flatten=function(t,e){return M(t,e,[])},T.without=function(t){return T.difference(t,l.call(arguments,1))},T.uniq=T.unique=function(t,e,i,n){T.isFunction(e)&&(n=i,i=e,e=!1);var o=i?T.map(t,i,n):t,r=[],a=[];return S(o,function(i,n){(e?n&&a[a.length-1]===i:T.contains(a,i))||(a.push(i),r.push(t[n]))}),r},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=l.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.indexOf(e,t)>=0})})},T.difference=function(t){var e=c.apply(n,l.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;i<t;i++)e[i]=T.pluck(arguments,""+i);return e},T.object=function(t,e){if(null==t)return{};for(var i={},n=0,o=t.length;n<o;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},T.indexOf=function(t,e,i){if(null==t)return-1;var n=0,o=t.length;if(i){if("number"!=typeof i)return n=T.sortedIndex(t,e),t[n]===e?n:-1;n=i<0?Math.max(0,o+i):i}if(_&&t.indexOf===_)return t.indexOf(e,i);for(;n<o;n++)if(t[n]===e)return n;return-1},T.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var o=n?i:t.length;o--;)if(t[o]===e)return o;return-1},T.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),o=0,r=new Array(n);o<n;)r[o++]=t,t+=i;return r};var A=function(){};T.bind=function(t,e){var i,n;if(k&&t.bind===k)return k.apply(t,l.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=l.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(l.call(arguments)));A.prototype=t.prototype;var o=new A;A.prototype=null;var r=t.apply(o,i.concat(l.call(arguments)));return Object(r)===r?r:o}},T.partial=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},T.bindAll=function(t){var e=l.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var i={};return e||(e=T.identity),function(){var n=e.apply(this,arguments);return T.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},T.delay=function(t,e){var i=l.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(l.call(arguments,1)))},T.throttle=function(t,e,i){var n,o,r,s=null,l=0;i||(i={});var c=function(){l=!1===i.leading?0:a(),s=null,r=t.apply(n,o),n=o=null};return function(){var u=a();l||!1!==i.leading||(l=u);var h=e-(u-l);return n=this,o=arguments,h<=0?(clearTimeout(s),s=null,l=u,r=t.apply(n,o),n=o=null):s||!1===i.trailing||(s=setTimeout(c,h)),r}},T.debounce=function(t,e,i){var n,o,r,s,l;return function(){r=this,o=arguments,s=a();var c=function(){var u=a()-s;u<e?n=setTimeout(c,e-u):(n=null,i||(l=t.apply(r,o),r=o=null))},u=i&&!n;return n||(n=setTimeout(c,e)),u&&(l=t.apply(r,o),r=o=null),l}},T.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return T.partial(e,t)},T.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},T.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)T.has(t,i)&&e.push(i);return e},T.values=function(t){for(var e=T.keys(t),i=e.length,n=new Array(i),o=0;o<i;o++)n[o]=t[e[o]];return n},T.pairs=function(t){for(var e=T.keys(t),i=e.length,n=new Array(i),o=0;o<i;o++)n[o]=[e[o],t[e[o]]];return n},T.invert=function(t){for(var e={},i=T.keys(t),n=0,o=i.length;n<o;n++)e[t[i[n]]]=i[n];return e},T.functions=T.methods=function(t){var e=[];for(var i in t)T.isFunction(t[i])&&e.push(i);return e.sort()},T.extend=function(t){return S(l.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},T.pick=function(t){var e={},i=c.apply(n,l.call(arguments,1));return S(i,function(i){i in t&&(e[i]=t[i])}),e},T.omit=function(t){var e={},i=c.apply(n,l.call(arguments,1));for(var o in t)T.contains(i,o)||(e[o]=t[o]);return e},T.defaults=function(t){return S(l.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var O=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var o=u.call(t);if(o!=u.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=i.length;r--;)if(i[r]==t)return n[r]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(s)&&s instanceof s))return!1;i.push(t),n.push(e);var l=0,c=!0;if("[object Array]"==o){if(l=t.length,c=l==e.length)for(;l--&&(c=O(t[l],e[l],i,n)););}else{for(var h in t)if(T.has(t,h)&&(l++,!(c=T.has(e,h)&&O(t[h],e[h],i,n))))break;if(c){for(h in e)if(T.has(e,h)&&!l--)break;c=!l}}return i.pop(),n.pop(),c};T.isEqual=function(t,e){return O(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=x||function(t){return"[object Array]"==u.call(t)},T.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==u.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return h.call(t,e)},T.noConflict=function(){return t._=e,this},T.identity=function(t){return t},T.times=function(t,e,i){for(var n=Array(Math.max(0,t)),o=0;o<t;o++)n[o]=e.call(i,o);return n},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=T.invert(N.escape);var D={escape:new RegExp("["+T.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(N.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(D[t],function(e){return N[t][e]})}}),T.result=function(t,e){if(null!=t){var i=t[e];return T.isFunction(i)?i.call(t):i}},T.mixin=function(t){S(T.functions(t),function(e){var i=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),L.call(this,i.apply(T,t))}})};var R=0;T.uniqueId=function(t){var e=++R+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,i){var n;i=T.defaults({},i,T.templateSettings);var o=new RegExp([(i.escape||X).source,(i.interpolate||X).source,(i.evaluate||X).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(o,function(e,i,n,o,s){return a+=t.slice(r,s).replace(B,function(t){return"\\"+$[t]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),r=s+e.length,e}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(t){throw t.source=a,t}if(e)return n(e,T);var s=function(t){return n.call(this,t,T)};return s.source="function("+(i.variable||"obj")+"){\n"+a+"}",s},T.chain=function(t){return T(t).chain()};var L=function(t){return this._chain?T(t).chain():t};T.mixin(T),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];T.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],L.call(this,i)}}),S(["concat","join","slice"],function(t){var e=n[t];T.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(t,e,i){function n(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|TSPAN)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in i)this.options[n]=i[n];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,n){var o=e.createElement("div"),r=e.createElement("div");return!0===n&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(!0===n&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(!0===n&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(r),o}function r(i,n){this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in n)this.options[o]=n[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(t,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,"MSPointerDown",this),s.addEvent(t,"MSPointerUp",this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[s.style.transform]=this.scroller.translateZ,this.wrapperStyle[s.style.transitionDuration]=s.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},s=function(){function n(t){return!1!==a&&(""===a?t:a+t.charAt(0).toUpperCase()+t.substr(1))}var o={},r=e.createElement("div").style,a=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in r)return t[e].substr(0,t[e].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},o.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},o.momentum=function(t,e,n,o,r,a){var s,l,c=t-e,u=i.abs(c)/n;return a=void 0===a?6e-4:a,s=t+u*u/(2*a)*(c<0?-1:1),l=u/a,s<o?(s=r?o-r/2.5*(u/8):o,l=(c=i.abs(s-t))/u):s>0&&(s=r?r/2.5*(u/8):0,l=(c=i.abs(t)+s)/u),{destination:i.round(s),duration:l}};var s=n("transform");return o.extend(o,{hasTransform:!1!==s,hasPerspective:n("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:navigator.msPointerEnabled,hasTransition:n("transition")in r}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:s,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin")}),o.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*i.pow(2,-10*t)*i.sin((t-.055)*(2*i.PI)/.22)+1}}}),o.tap=function(t,i){var n=e.createEvent("Event");n.initEvent(i,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},o.click=function(t){var i,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((i=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,n.dispatchEvent(i))},o}();n.prototype={version:"5.1.1",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd",t)))},_start:function(t){if((1==s.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||s.eventType[t.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e,n=t.touches?t.touches[0]:t;this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._execEvent("intermit",i.round(e.y)),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd",t)):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd",t)),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart",n)}},_move:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,o,r,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,c=a.pageY-this.pointY,u=s.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=c,o=i.abs(this.distX),r=i.abs(this.distY),!(u-this.endTime>300&&o<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(o>r+this.options.directionLockThreshold?this.directionLocked="h":r>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,n=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+c/3:n>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll",t)),this.options.probeType>1&&this._execEvent("scroll",t)}}},_end:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,o=t.changedTouches?t.changedTouches[0]:t,r=s.getTime()-this.startTime,a=i.round(this.x),l=i.round(this.y),c=i.abs(a-this.startX),u=i.abs(l-this.startY),h=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,l),!this.moved)return this.options.tap&&s.tap(t,this.options.tap),this.options.click&&s.click(t),void this._execEvent("scrollCancel",o);if(this._events.flick&&r<200&&c<100&&u<100)this._execEvent("flick");else{if(this.options.momentum&&r<300&&(e=this.hasHorizontalScroll?s.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0},n=this.hasVerticalScroll?s.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:l,duration:0},a=e.destination,l=n.destination,h=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(a,l);this.currentPage=p,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(a-p.x),1e3),i.min(i.abs(l-p.y),1e3)),300),a=p.x,l=p.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(a!=this.x||l!=this.y)return(a>0||a<this.maxScrollX||l>0||l<this.maxScrollY)&&(d=s.ease.quadratic),this.scrollTo(a,l,h,d),void this._execEvent("momentum",l,h,d);this._execEvent("scrollEnd",t)}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t,e){if(this._events[t]){var i=0,n=this._events[t].length;if(n)for(;i<n;i++)this._events[t][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||s.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,o,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=s.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===n&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===o&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=n||0,a.top-=o||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-a.left),i.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.scrollerStyle[s.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[s.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var i=e?s.removeEvent:s.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,"MSPointerDown",this),i(n,"MSPointerMove",this),i(n,"MSPointerCancel",this),i(n,"MSPointerUp",this)),s.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(e=+((n=n[s.style.transform].split(")")[0].split(", "))[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,a=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),a.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),a.push(e))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var l=a.length;l--;)this.indicators.push(new r(this,a[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,o,r,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("scrollEnd",t),a.wheelTimeout=void 0},400),"deltaX"in t)e=-t.deltaX,n=-t.deltaY;else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return o=this.currentPage.pageX,r=this.currentPage.pageY,e>0?o--:e<0&&o++,n>0?r--:n<0&&r++,void this.goToPage(o,r);o=this.x+i.round(this.hasHorizontalScroll?e:0),r=this.y+i.round(this.hasVerticalScroll?n:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(o,r,0),this.options.probeType>1&&this._execEvent("scroll",t)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,o,r,a,s=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=i.round(u/2),o=i.round(h/2);c>-this.scrollerWidth;){for(this.pages[s]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[s][t]={x:i.max(c,this.maxScrollX),y:i.max(r,this.maxScrollY),width:u,height:h,cx:c-n,cy:r-o},r-=h,t++;c-=u,s++}else for(t=(a=this.options.snap).length,e=-1;s<t;s++)(0===s||a[s].offsetLeft<=a[s-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=i.max(-a[s].offsetLeft,this.maxScrollX),r=i.max(-a[s].offsetTop,this.maxScrollY),n=c-i.round(a[s].offsetWidth/2),o=r-i.round(a[s].offsetHeight/2),this.pages[l][e]={x:c,y:r,width:a[s].offsetWidth,height:a[s].offsetHeight,cx:n,cy:o},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,o=this.pages.length,r=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<o;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(o=this.pages[n].length;r<o;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},goToPage:function(t,e,n,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,a=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-this.x),1e3),i.min(i.abs(a-this.y),1e3)),300):n,this.currentPage={x:r,y:a,pageX:t,pageY:e},this._execEvent("scrollEnd",{}),this.scrollTo(r,a,n,o)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(e){var i,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in n)this.options.keyBindings[i]=this.options.keyBindings[i]||n[i];s.addEvent(t,"keydown",this),this.on("destroy",function(){s.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,o=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,a=s.getTime(),l=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-l<200?i.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,r=0;break;case this.options.keyBindings.left:o+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(o,r):(o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,r,0),this.keyTime=a)}},_animate:function(t,e,i,n){function o(){var d,p,f,g=s.getTime();if(g>=h)return r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd",{}));f=n(g=(g-u)/i),d=(t-l)*f+l,p=(e-c)*f+c,r._translate(d,p),r.isAnimating&&a(o),3==r.options.probeType&&r._execEvent("scroll",{})}var r=this,l=this.x,c=this.y,u=s.getTime(),h=u+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,"MSPointerDown",this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(t,"touchmove",this),s.removeEvent(t,"MSPointerMove",this),s.removeEvent(t,"mousemove",this),s.removeEvent(t,"touchend",this),s.removeEvent(t,"MSPointerUp",this),s.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(t,"touchmove",this),this.options.disablePointer||s.addEvent(t,"MSPointerMove",this),this.options.disableMouse||s.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,o,r=t.touches?t.touches[0]:t,a=s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,i=r.pageY-this.lastPointY,this.lastPointY=r.pageY,n=this.x+e,o=this.y+i,this._pos(n,o),1==this.scroller.options.probeType&&a-this.startTime>300?(this.startTime=a,this.scroller._execEvent("scroll",t)):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll",t),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),s.removeEvent(t,"touchmove",this),s.removeEvent(t,"MSPointerMove",this),s.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd",e)}},transitionTime:function(t){t=t||0,this.indicatorStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.indicatorStyle[s.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[s.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[s.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},n.utils=s,"undefined"!=typeof module&&module.exports?module.exports=n:t.iScroll=n}(window,document,Math),function(t,e,i,n){"use strict";function o(t,e,i){return setTimeout(u(t,i),e)}function r(t,e,i){return!!Array.isArray(t)&&(a(t,i[e],i),!0)}function a(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function s(t,e,i){for(var o=Object.keys(e),r=0;r<o.length;)(!i||i&&t[o[r]]===n)&&(t[o[r]]=e[o[r]]),r++;return t}function l(t,e){return s(t,e,!0)}function c(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&s(n,i)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ut?t.apply(e?e[0]||n:n,e):t}function d(t,e){return t===n?e:t}function p(t,e,i){a(m(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){a(m(e),function(e){t.removeEventListener(e,i,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var a=e?t[r][e]:t[r];y(o,a)<0&&n.push(t[r]),o[r]=a,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function x(t,e){for(var i,o,r=e[0].toUpperCase()+e.slice(1),a=0;a<lt.length;){if(i=lt[a],(o=i?i+r:e)in t)return o;a++}return n}function w(){return ft++}function k(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function T(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget;var n=t.options.pixiContext;this.domHandler=function(e){h(t.options.enable,[t])&&(n?i.handler(e.originalEvent):i.handler(e))},n?(n.mousedown=n.touchstart=function(e){t.options.returnStart(e.originalEvent),i.domHandler(e)},n.mousemove=n.touchmove=function(e){t.options.returnMove(e.originalEvent),i.domHandler(e)},n.mouseup=n.touchend=this.domHandler):this.init()}function S(t){var e=t.options.inputClass;return new(e||(mt?L:yt?z:vt?j:B))(t,C)}function C(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&bt&&n-o==0,a=e&(wt|kt)&&n-o==0;i.isFirst=!!r,i.isFinal=!!a,r&&(t.session={}),i.eventType=e,I(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function I(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=M(e)),o>1&&!i.firstMultiple?i.firstMultiple=M(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,a=i.firstMultiple,s=a?a.center:r.center,l=e.center=A(n);e.timeStamp=pt(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=R(s,l),e.distance=D(s,l),P(i,e),e.offsetDirection=N(e.deltaX,e.deltaY),e.scale=a?$(a.pointers,n):1,e.rotation=a?X(a.pointers,n):0,E(i,e);var c=t.element;g(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function P(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==bt&&r.eventType!==wt||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function E(t,e){var i,o,r,a,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=kt&&(l>_t||s.velocity===n)){var c=s.deltaX-e.deltaX,u=s.deltaY-e.deltaY,h=O(l,c,u);o=h.x,r=h.y,i=dt(h.x)>dt(h.y)?h.x:h.y,a=N(c,u),t.lastInterval=e}else i=s.velocity,o=s.velocityX,r=s.velocityY,a=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=r,e.direction=a}function M(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ht(t.pointers[i].clientX),clientY:ht(t.pointers[i].clientY)},i++;return{timeStamp:pt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:ht(t[0].clientX),y:ht(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:ht(i/e),y:ht(n/e)}}function O(t,e,i){return{x:e/t||0,y:i/t||0}}function N(t,e){return t===e?Tt:dt(t)>=dt(e)?t>0?St:Ct:e>0?It:Pt}function D(t,e,i){i||(i=Ot);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function R(t,e,i){i||(i=Ot);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function X(t,e){return R(e[1],e[0],Nt)-R(t[1],t[0],Nt)}function $(t,e){return D(e[0],e[1],Nt)/D(t[0],t[1],Nt)}function B(){this.evEl=Rt,this.evWin=Xt,this.allow=!0,this.pressed=!1,T.apply(this,arguments)}function L(){this.evEl=Lt,this.evWin=Ft,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=zt,this.evWin=Wt,this.started=!1,T.apply(this,arguments)}function H(t,e){var i=_(t.touches),n=_(t.changedTouches);return e&(wt|kt)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function z(){this.evTarget=Gt,this.targetIds={},T.apply(this,arguments)}function W(t,e){var i=_(t.touches),n=this.targetIds;if(e&(bt|xt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,a=_(t.changedTouches),s=[],l=this.target;if(r=i.filter(function(t){return g(t.target,l)}),e===bt)for(o=0;o<r.length;)n[r[o].identifier]=!0,o++;for(o=0;o<a.length;)n[a[o].identifier]&&s.push(a[o]),e&(wt|kt)&&delete n[a[o].identifier],o++;return s.length?[b(r.concat(s),"identifier",!0),s]:void 0}function j(){T.apply(this,arguments);var t=u(this.handler,this);this.touch=new z(this.manager,t),this.mouse=new B(this.manager,t)}function G(t,e){this.manager=t,this.set(e)}function Y(t){if(v(t,Kt))return Kt;var e=v(t,Qt),i=v(t,Zt);return e&&i?Qt+" "+Zt:e||i?e?Qt:Zt:v(t,qt)?qt:Ut}function V(t){this.id=w(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=Jt,this.simultaneous={},this.requireFail=[]}function U(t){return t&oe?"cancel":t&ie?"end":t&ee?"move":t&te?"start":""}function q(t){return t==Pt?"down":t==It?"up":t==St?"left":t==Ct?"right":""}function K(t,e){var i=e.manager;return i?i.get(t):t}function Q(){V.apply(this,arguments)}function Z(){Q.apply(this,arguments),this.pX=null,this.pY=null}function J(){Q.apply(this,arguments)}function tt(){V.apply(this,arguments),this._timer=null,this._input=null}function et(){Q.apply(this,arguments)}function it(){Q.apply(this,arguments)}function nt(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ot(t,e){return e=e||{},e.recognizers=d(e.recognizers,ot.defaults.preset),new rt(t,e)}function rt(t,e){e=e||{},this.options=l(e,ot.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.options.pixiContext||(this.touchAction=new G(this,this.options.touchAction),at(this,!0)),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function at(t,e){var i=t.element;a(t.options.cssProps,function(t,n){i.style[x(i.style,n)]=e?t:""})}function st(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var lt=["","webkit","moz","MS","ms","o"],ct=e.createElement("div"),ut="function",ht=Math.round,dt=Math.abs,pt=Date.now,ft=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,vt="ontouchstart"in t,mt=x(t,"PointerEvent")!==n,yt=vt&&gt.test(navigator.userAgent),_t=25,bt=1,xt=2,wt=4,kt=8,Tt=1,St=2,Ct=4,It=8,Pt=16,Et=St|Ct,Mt=It|Pt,At=Et|Mt,Ot=["x","y"],Nt=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(k(this.element),this.evWin,this.domHandler)}};var Dt={mousedown:bt,mousemove:xt,mouseup:wt},Rt="mousedown",Xt="mousemove mouseup";c(B,T,{handler:function(t){var e=Dt[t.type];e&bt&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=wt),this.pressed&&this.allow&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var $t={pointerdown:bt,pointermove:xt,pointerup:wt,pointercancel:kt,pointerout:kt},Bt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Lt="pointerdown",Ft="pointermove pointerup pointercancel";t.MSPointerEvent&&(Lt="MSPointerDown",Ft="MSPointerMove MSPointerUp MSPointerCancel"),c(L,T,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=$t[n],r=Bt[t.pointerType]||t.pointerType,a="touch"==r,s=y(e,t.pointerId,"pointerId");o&bt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(wt|kt)&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(s,1))}});var Ht={touchstart:bt,touchmove:xt,touchend:wt,touchcancel:kt},zt="touchstart",Wt="touchstart touchmove touchend touchcancel";c(F,T,{handler:function(t){var e=Ht[t.type];if(e===bt&&(this.started=!0),this.started){var i=H.call(this,t,e);e&(wt|kt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var jt={touchstart:bt,touchmove:xt,touchend:wt,touchcancel:kt},Gt="touchstart touchmove touchend touchcancel";c(z,T,{handler:function(t){var e=jt[t.type],i=W.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),c(j,T,{handler:function(t,e,i){var n="touch"==i.pointerType,o="mouse"==i.pointerType;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(wt|kt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Yt=x(ct.style,"touchAction"),Vt=Yt!==n,Ut="auto",qt="manipulation",Kt="none",Qt="pan-x",Zt="pan-y";G.prototype={set:function(t){"compute"==t&&(t=this.compute()),Vt&&(this.manager.element.style[Yt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Vt){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,o=v(n,Kt),r=v(n,Zt),a=v(n,Qt);return o||r&&i&Et||a&&i&Mt?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Jt=1,te=2,ee=4,ie=8,ne=ie,oe=16;V.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=K(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?U(n):""),t)}var i=this,n=this.state;n<ie&&e(!0),e(),n>=ie&&e(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Jt)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!h(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ne|oe|32)&&(this.state=Jt),this.state=this.process(e),this.state&(te|ee|ie|oe)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},c(Q,V,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(te|ee),o=this.attrTest(t);return n&&(i&kt||!o)?e|oe:n||o?i&wt?e|ie:e&te?e|ee:te:32}}),c(Z,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:At},getTouchAction:function(){var t=this.options.direction,e=[];return t&Et&&e.push(Zt),t&Mt&&e.push(Qt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Et?(o=0===r?Tt:r<0?St:Ct,i=r!=this.pX,n=Math.abs(t.deltaX)):(o=0===a?Tt:a<0?It:Pt,i=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&te||!(this.state&te)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),c(J,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&te)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),c(tt,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(wt|kt)&&!r)this.reset();else if(t.eventType&bt)this.reset(),this._timer=o(function(){this.state=ne,this.tryEmit()},e.time,this);else if(t.eventType&wt)return ne;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ne&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),c(et,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&te)}}),c(it,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Et|Mt,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Et|Mt)?e=t.velocity:i&Et?e=t.velocityX:i&Mt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&dt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(nt,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&bt&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=wt)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=ne,this.tryEmit()},e.interval,this),te):ne}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ne&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ot.VERSION="2.0.4",ot.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[J,{enable:!1},["rotate"]],[it,{direction:Et}],[Z,{direction:Et},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};rt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction&&this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&ne)&&(o=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(te|ee|ie)&&(o=e.curRecognizer=i),r++}},get:function(t){if(t instanceof V)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction&&this.touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction&&this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return a(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return a(m(t),function(t){e?i[t].splice(y(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(ot,{INPUT_START:bt,INPUT_MOVE:xt,INPUT_END:wt,INPUT_CANCEL:kt,STATE_POSSIBLE:Jt,STATE_BEGAN:te,STATE_CHANGED:ee,STATE_ENDED:ie,STATE_RECOGNIZED:ne,STATE_CANCELLED:oe,STATE_FAILED:32,DIRECTION_NONE:Tt,DIRECTION_LEFT:St,DIRECTION_RIGHT:Ct,DIRECTION_UP:It,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Et,DIRECTION_VERTICAL:Mt,DIRECTION_ALL:At,Manager:rt,Input:T,TouchAction:G,TouchInput:z,MouseInput:B,PointerEventInput:L,TouchMouseInput:j,SingleTouchInput:F,Recognizer:V,AttrRecognizer:Q,Tap:nt,Pan:Z,Swipe:it,Pinch:J,Rotate:et,Press:tt,on:p,off:f,each:a,merge:l,extend:s,inherit:c,bindFn:u,prefixed:x}),typeof define==ut&&define.amd?define(function(){return ot}):"undefined"!=typeof module&&module.exports?module.exports=ot:t.Hammer=ot}(window,document),function(t){"undefined"==typeof module?this.charming=t:module.exports=t}(function(t,e){"use strict";var i=(e=e||{}).tagName||"span",n=null!=e.classPrefix?e.classPrefix:"char",o=1,r=function(t){for(var e=t.parentNode,r=t.nodeValue,a=r.length,s=-1;++s<a;){var l=document.createElement(i);n&&(l.className=n+o,o++),l.appendChild(document.createTextNode(r[s])),e.insertBefore(l,t)}e.removeChild(t)};return function t(e){for(var i=[].slice.call(e.childNodes),n=i.length,o=-1;++o<n;)t(i[o]);e.nodeType===Node.TEXT_NODE&&r(e)}(t),t}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()}(this,function(){var t,e={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],n={arr:function(t){return Array.isArray(t)},obj:function(t){return Object.prototype.toString.call(t).indexOf("Object")>-1},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||n.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nul:function(t){return"null"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return n.hex(t)||n.rgb(t)||n.hsl(t)}},o=function(){var t={},e={Sine:function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,e){if(0===t||1===t)return t;var i=1-Math.min(e,998)/1e3,n=t/1-1,o=i/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*n)*Math.sin((n-o)*(2*Math.PI)/i)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,i){e[t]=function(t){return Math.pow(t,i+2)}}),Object.keys(e).forEach(function(i){var n=e[i];t["easeIn"+i]=n,t["easeOut"+i]=function(t,e){return 1-n(1-t,e)},t["easeInOut"+i]=function(t,e){return t<.5?n(2*t,e)/2:1-n(-2*t+2,e)/2},t["easeOutIn"+i]=function(t,e){return t<.5?(1-n(1-2*t,e))/2:(n(2*t-1,e)+1)/2}}),t.linear=function(t){return t},t}(),r=function(t){return n.str(t)?t:t+""},a=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},s=function(t){if(n.col(t))return!1;try{return document.querySelectorAll(t)}catch(t){return!1}},l=function(t){return t.reduce(function(t,e){return t.concat(n.arr(e)?l(e):e)},[])},c=function(t){return n.arr(t)?t:(n.str(t)&&(t=s(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},u=function(t,e){return t.some(function(t){return t===e})},h=function(t,e){var i={};return t.forEach(function(t){var n=JSON.stringify(e.map(function(e){return t[e]}));i[n]=i[n]||[],i[n].push(t)}),Object.keys(i).map(function(t){return i[t]})},d=function(t){return t.filter(function(t,e,i){return i.indexOf(t)===e})},p=function(t){var e={};for(var i in t)e[i]=t[i];return e},f=function(t,e){for(var i in e)t[i]=n.und(t[i])?e[i]:t[i];return t},g=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgb("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+")"},v=function(t){var e,i,n,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),o=parseInt(t[1])/360,r=parseInt(t[2])/100,a=parseInt(t[3])/100,s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t};if(0==r)e=i=n=a;else{var l=a<.5?a*(1+r):a+r-a*r,c=2*a-l;e=s(c,l,o+1/3),i=s(c,l,o),n=s(c,l,o-1/3)}return"rgb("+255*e+","+255*i+","+255*n+")"},m=function(t){return n.rgb(t)?t:n.hex(t)?g(t):n.hsl(t)?v(t):void 0},y=function(t){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},_=function(t,e,i){return y(e)?e:t.indexOf("translate")>-1?y(i)?e+y(i):e+"px":t.indexOf("rotate")>-1||t.indexOf("skew")>-1?e+"deg":e},b=function(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(a(e))||"0"},x=function(t,e){var i=e.indexOf("scale")>-1?1:0,n=t.style.transform;if(!n)return i;for(var o=/(\w+)\((.+?)\)/g,r=[],a=[],s=[];r=o.exec(n);)a.push(r[1]),s.push(r[2]);var l=s.filter(function(t,i){return a[i]===e});return l.length?l[0]:i},w=function(t,e){return n.dom(t)&&u(i,e)?"transform":n.dom(t)&&(t.getAttribute(e)||n.svg(t)&&t[e])?"attribute":n.dom(t)&&"transform"!==e&&b(t,e)?"css":n.nul(t[e])||n.und(t[e])?void 0:"object"},k=function(t,e){switch(w(t,e)){case"transform":return x(t,e);case"css":return b(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0},T=function(t,e,i){if(n.col(e))return m(e);if(y(e))return e;var o=y(y(t.to)?t.to:t.from);return!o&&i&&(o=y(i)),o?e+o:e},S=function(t){var e=/-?\d*\.?\d+/g;return{original:t,numbers:r(t).match(e)?r(t).match(e).map(Number):[0],strings:r(t).split(e)}},C=function(t,e,i){return e.reduce(function(e,n,o){var n=n||i[o-1];return e+t[o-1]+n})},I=function(t){return(t=t?l(n.arr(t)?t.map(c):c(t)):[]).map(function(t,e){return{target:t,id:e}})},P=function(t,i){var o=[];for(var r in t)if(!e.hasOwnProperty(r)&&"targets"!==r){var a=n.obj(t[r])?p(t[r]):{value:t[r]};a.name=r,o.push(f(a,i))}return o},E=function(t,e,i,o){var r=c(n.fnc(i)?i(t,o):i);return{from:r.length>1?r[0]:k(t,e),to:r.length>1?r[1]:r[0]}},M=function(t,e,i,n){var o={};if("transform"===i)o.from=t+"("+_(t,e.from,e.to)+")",o.to=t+"("+_(t,e.to)+")";else{var r="css"===i?b(n,t):void 0;o.from=T(e,e.from,r),o.to=T(e,e.to,r)}return{from:S(o.from),to:S(o.to)}},A=function(t,e){var i=[];return t.forEach(function(o,r){var a=o.target;return e.forEach(function(e){var s=w(a,e.name);if(s){var l=E(a,e.name,e.value,r),c=p(e);c.animatables=o,c.type=s,c.from=M(e.name,l,c.type,a).from,c.to=M(e.name,l,c.type,a).to,c.round=n.col(l.from)||c.round?1:0,c.delay=(n.fnc(c.delay)?c.delay(a,r,t.length):c.delay)/Y.speed,c.duration=(n.fnc(c.duration)?c.duration(a,r,t.length):c.duration)/Y.speed,i.push(c)}})}),i},O=function(t,e){var i=A(t,e);return h(i,["name","from","to","delay","duration"]).map(function(t){var e=p(t[0]);return e.animatables=t.map(function(t){return t.animatables}),e.totalDuration=e.delay+e.duration,e})},N=function(t,e){t.tweens.forEach(function(i){var n=i.to,o=i.from,r=t.duration-(i.delay+i.duration);i.from=n,i.to=o,e&&(i.delay=r)}),t.reversed=!t.reversed},D=function(t){return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))},R=function(t){return Math.min.apply(Math,t.map(function(t){return t.delay}))},X=function(t){var e=[],i=[];return t.tweens.forEach(function(t){"css"!==t.type&&"transform"!==t.type||(e.push("css"===t.type?a(t.name):"transform"),t.animatables.forEach(function(t){i.push(t.target)}))}),{properties:d(e).join(", "),elements:d(i)}},$=function(t){var e=X(t);e.elements.forEach(function(t){t.style.willChange=e.properties})},B=function(t){X(t).elements.forEach(function(t){t.style.removeProperty("will-change")})},L=function(t,e){var i=t.path,n=t.value*e,o=function(o){var r=o||0,a=e>1?t.value+r:n+r;return i.getPointAtLength(a)},r=o(),a=o(-1),s=o(1);switch(t.name){case"translateX":return r.x;case"translateY":return r.y;case"rotate":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}},F=function(t,e){var i=Math.min(Math.max(e-t.delay,0),t.duration)/t.duration,n=t.to.numbers.map(function(e,n){var r=t.from.numbers[n],a=o[t.easing](i,t.elasticity),s=t.path?L(t,a):r+a*(e-r);return s=t.round?Math.round(s*t.round)/t.round:s});return C(n,t.to.strings,t.from.strings)},H=function(e,i){var n;e.currentTime=i,e.progress=i/e.duration*100;for(h=0;h<e.tweens.length;h++){var o=e.tweens[h];o.currentValue=F(o,i);for(var r=o.currentValue,a=0;a<o.animatables.length;a++){var s=o.animatables[a],l=s.id,c=s.target,u=o.name;switch(o.type){case"css":c.style[u]=r;break;case"attribute":c.setAttribute(u,r);break;case"object":c[u]=r;break;case"transform":n||(n={}),n[l]||(n[l]=[]),n[l].push(r)}}}if(n){t||(t=(b(document.body,"transform")?"":"-webkit-")+"transform");for(var h in n)e.animatables[h].target.style[t]=n[h].join(" ")}},z=function(t){var i={};return i.animatables=I(t.targets),i.settings=f(t,e),i.properties=P(t,i.settings),i.tweens=O(i.animatables,i.properties),i.duration=i.tweens.length?D(i.tweens):t.duration,i.delay=i.tweens.length?R(i.tweens):t.delay,i.currentTime=0,i.progress=0,i.ended=!1,i},W=[],j=0,G=function(){var t=function(){j=requestAnimationFrame(e)},e=function(e){if(W.length){for(var i=0;i<W.length;i++)W[i].tick(e);t()}else cancelAnimationFrame(j),j=0};return t}(),Y=function(t){var e=z(t),i={};return e.tick=function(t){e.ended=!1,i.start||(i.start=t),i.current=Math.min(Math.max(i.last+t-i.start,0),e.duration),H(e,i.current);var o=e.settings;i.current>=e.delay&&(o.begin&&o.begin(e),o.begin=void 0,o.update&&o.update(e)),i.current>=e.duration&&(o.loop?(i.start=t,"alternate"===o.direction&&N(e,!0),n.num(o.loop)&&o.loop--):(e.ended=!0,e.pause(),o.complete&&o.complete(e)),i.last=0)},e.seek=function(t){H(e,t/100*e.duration)},e.pause=function(){B(e);var t=W.indexOf(e);t>-1&&W.splice(t,1)},e.play=function(t){e.pause(),t&&(e=f(z(f(t,e.settings)),e)),i.start=0,i.last=e.ended?0:e.currentTime;var n=e.settings;"reverse"===n.direction&&N(e),"alternate"!==n.direction||n.loop||(n.loop=1),$(e),W.push(e),j||G()},e.restart=function(){e.reversed&&N(e),e.pause(),e.seek(0),e.play()},e.settings.autoplay&&e.play(),e};return Y.version="1.1.3",Y.speed=1,Y.list=W,Y.remove=function(t){for(var e=l(n.arr(t)?t.map(c):c(t)),i=W.length-1;i>=0;i--)for(var o=W[i],r=o.tweens,a=r.length-1;a>=0;a--)for(var s=r[a].animatables,h=s.length-1;h>=0;h--)u(e,s[h].target)&&(s.splice(h,1),s.length||r.splice(a,1),r.length||o.pause())},Y.easings=o,Y.getValue=k,Y.path=function(t){var e=n.str(t)?s(t)[0]:t;return{path:e,value:e.getTotalLength()}},Y.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},Y}),function(t){"use strict";function e(t,e,i,n,o){var r=(t-e)/(i-n);return r*o+(e-r*n)}function i(t){this.el=t,this._init()}i.prototype.effects={fx1:{in:{duration:1e3,delay:function(t,e){return 75+40*e},easing:"easeOutElastic",elasticity:650,opacity:{value:1,easing:"easeOutExpo"},translateY:["50%","0%"]},out:{duration:400,delay:function(t,e){return 40*e},easing:"easeOutExpo",opacity:0,translateY:"-100%"}},fx2:{in:{duration:800,delay:function(t,e){return 50*e},easing:"easeOutElastic",opacity:1,translateY:function(t,e){return e%2==0?["-80%","0%"]:["80%","0%"]}},out:{duration:800,delay:function(t,e){return 50*e},easing:"easeOutExpo",opacity:0,translateY:function(t,e){return e%2==0?"80%":"-80%"}}},fx3:{in:{duration:700,delay:function(t,e){return 50*e},easing:"easeOutCirc",opacity:1,translateX:function(t,e){return[50+10*e,0]}},out:{duration:0,opacity:0}},fx4:{in:{duration:650,easing:"easeOutQuint",delay:function(t,e){return 450+30*(t.parentNode.children.length-e-1)},opacity:1,translateX:function(t,e){return[-1*t.offsetLeft,0]}},out:{duration:1,delay:400,opacity:0}},fx5:{in:{duration:250,delay:function(t,e){return 200+25*e},easing:"easeOutCubic",opacity:1,translateY:["-50%","0%"]},out:{duration:250,delay:function(t,e){return 25*e},easing:"easeOutCubic",opacity:0,translateY:"50%"}},fx6:{in:{duration:function(t,e){return anime.random(800,1e3)},delay:function(t,e){return anime.random(0,75)},easing:"easeInOutExpo",opacity:1,translateY:["-300%","0%"],rotateZ:function(t,e){return[anime.random(-50,50),0]}},out:{duration:function(t,e){return anime.random(800,1e3)},delay:function(t,e){return anime.random(0,80)},easing:"easeInOutExpo",opacity:0,translateY:"300%",rotateZ:function(t,e){return anime.random(-50,50)}}},fx7:{in:{duration:800,delay:function(t,e){return 600+150*e},easing:"easeInOutQuint",opacity:1,scaleY:[8,1],scaleX:[.5,1],translateY:["-100%","0%"]},out:{duration:800,delay:function(t,e){return 150*e},easing:"easeInQuint",opacity:0,scaleY:{value:8,delay:function(t,e){return 100+150*e}},scaleX:.5,translateY:"100%"}},fx8:{perspective:1e3,origin:"50% 100%",in:{duration:400,delay:function(t,e){return 50*e},easing:"easeOutSine",opacity:1,rotateY:[-90,0]},out:{duration:200,delay:function(t,e){return 50*e},easing:"easeOutSine",opacity:0,rotateY:45}},fx9:{perspective:1e3,in:{duration:400,delay:function(t,e){return 100+50*e},easing:"easeOutExpo",opacity:1,rotateX:[110,0]},out:{duration:400,delay:function(t,e){return 50*e},easing:"easeOutExpo",opacity:0,rotateX:-110}},fx10:{perspective:1e3,origin:"50% 100%",in:{duration:400,delay:function(t,e){return 200+20*e},easing:"easeOutExpo",opacity:1,rotateY:[-90,0]},out:{duration:400,delay:function(t,e){return 20*e},easing:"easeOutExpo",opacity:0,rotateY:90}},fx11:{perspective:1e3,origin:"50% 100%",in:{duration:400,delay:function(t,e){return 200+30*e},easing:"easeOutExpo",opacity:1,rotateX:[90,0]},out:{duration:400,delay:function(t,e){return 30*e},easing:"easeOutExpo",opacity:0,rotateX:-90}},fx12:{in:{duration:700,delay:function(t,e){return 80*(t.parentNode.children.length-e-1)},easing:"easeOutElastic",opacity:1,translateY:function(t,e){return e%2==0?["-80%","0%"]:["80%","0%"]},rotateZ:[90,0]},out:{duration:500,delay:function(t,e){return 80*(t.parentNode.children.length-e-1)},easing:"easeOutExpo",opacity:0,translateY:function(t,e){return e%2==0?"80%":"-80%"},rotateZ:function(t,e){return e%2==0?-25:25}}},fx13:{perspective:1e3,in:{duration:700,delay:function(t,e){return 550+50*e},easing:"easeOutQuint",opacity:{value:1,easing:"linear"},translateY:["-150%","0%"],rotateY:[180,0]},out:{duration:700,delay:function(t,e){return 60*e},easing:"easeInQuint",opacity:{value:0,easing:"linear"},translateY:"150%",rotateY:-180}},fx14:{in:{duration:600,easing:"easeOutQuart",opacity:1,translateY:function(t,e){return e%2==0?["-40%","0%"]:["40%","0%"]},rotateZ:[10,0]},out:{duration:0,opacity:0}},fx15:{in:{duration:400,delay:function(t,e){return 150+20*(t.parentNode.children.length-e-1)},easing:"easeOutQuad",opacity:1,translateY:["100%","0%"]},out:{duration:400,delay:function(t,e){return 20*(t.parentNode.children.length-e-1)},easing:"easeInOutQuad",opacity:0,translateY:"-100%"}},fx16:{in:{duration:1e3,delay:function(t,e){return 100+30*e},easing:"easeOutElastic",elasticity:anime.random(400,700),opacity:1,rotateZ:function(t,e){return[anime.random(20,40),0]}},out:{duration:0,opacity:0}},fx17:{in:{duration:800,easing:"easeOutExpo",opacity:1,translateY:function(t,i){var n=t.parentNode,o=n.lastElementChild.offsetWidth,r=n.firstElementChild.offsetLeft,a=e(0,200,r+(n.offsetWidth-o-r-(n.offsetWidth-o-n.lastElementChild.offsetLeft))/2,r,t.offsetLeft);return[Math.abs(a)+50+"%","0%"]},rotateZ:function(t,i){var n=t.parentNode,o=n.lastElementChild.offsetWidth,r=n.firstElementChild.offsetLeft;return[e(90,-90,r+(n.offsetWidth-o-n.firstElementChild.offsetLeft-(n.offsetWidth-o-n.lastElementChild.offsetLeft)),r,t.offsetLeft),0]}},out:{duration:500,easing:"easeOutExpo",opacity:0,translateY:"-150%"}},fx18:{in:{duration:500,easing:"easeOutExpo",delay:function(t,e){return 200+30*e},opacity:1,rotateZ:[20,0],translateY:function(t,i){var n=t.parentNode,o=n.lastElementChild.offsetWidth,r=n.firstElementChild.offsetLeft,a=e(-130,-60,r+(n.offsetWidth-o-r-(n.offsetWidth-o-n.lastElementChild.offsetLeft)),r,t.offsetLeft);return[Math.abs(a)+"%","0%"]}},out:{duration:400,easing:"easeOutExpo",delay:function(t,e){return 30*(t.parentNode.children.length-e-1)},opacity:0,rotateZ:20,translateY:function(t,i){var n=t.parentNode,o=n.lastElementChild.offsetWidth,r=n.firstElementChild.offsetLeft;return e(-60,-130,r+(n.offsetWidth-o-r-(n.offsetWidth-o-n.lastElementChild.offsetLeft)),r,t.offsetLeft)+"%"}}}},i.prototype._init=function(){this.el.classList.add("letter-effect"),charming(this.el,{classPrefix:"letter"}),this.letters=[].slice.call(this.el.querySelectorAll("span")),this.lettersTotal=this.letters.length},i.prototype._stop=function(){anime.remove(this.letters),this.letters.forEach(function(t){t.style.WebkitTransform=t.style.transform=""})},i.prototype.show=function(t,e){this._stop(),arguments.length?this._animate("in",t,e):this.letters.forEach(function(t){t.style.opacity=1})},i.prototype.hide=function(t,e){this._stop(),arguments.length?this._animate("out",t,e):this.letters.forEach(function(t){t.style.opacity=0})},i.prototype._animate=function(t,e,i){var n="string"==typeof e?this.effects[e]:e;void 0!=n.perspective&&(this.el.style.WebkitPerspective=this.el.style.perspective=n.perspective+"px"),void 0!=n.origin&&this.letters.forEach(function(t){t.style.WebkitTransformOrigin=t.style.transformOrigin=n.origin});var o=this._checkCustomFx(t,e,i),r=n[t],a=this.letters;a.forEach(function(t,e){" "===t.innerHTML&&a.splice(e,1)}),r.targets=a,o||(r.complete=i),anime(r)},i.prototype._checkCustomFx=function(t,e,i){var n="string"==typeof e&&"fx17"===e&&"out"===t;if(n){var o=document.createElement("div");o.style.width=o.style.height="100%",o.style.top=o.style.left=0,o.style.background="#e24b1e",o.style.position="absolute",o.style.WebkitTransform=o.style.transform="scale3d(0,1,1)",o.style.WebkitTransformOrigin=o.style.transformOrigin="0% 50%",this.el.appendChild(o);var r=this;anime({targets:o,duration:400,easing:"easeInOutCubic",scaleX:[0,1],complete:function(){o.style.WebkitTransformOrigin=o.style.transformOrigin="100% 50%",anime({targets:o,duration:400,easing:"easeInOutCubic",scaleX:[1,0],complete:function(){r.el.removeChild(o),"function"==typeof i&&i()}})}})}return n},t.TextFx=i}(window),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof exports?t(require("jquery"),require("hammerjs")):t(jQuery,Hammer)}(function(t,e){function i(i,n){var o=t(i);o.data("hammer")||o.data("hammer",new e(o[0],n))}t.fn.hammer=function(t){return this.each(function(){i(this,t)})},e.Manager.prototype.emit=function(e){return function(i,n){e.call(this,i,n),t(this.element).trigger({type:i,gesture:n})}}(e.Manager.prototype.emit)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{};t.ui.version="1.12.1";var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{(n=t._data(o,"events"))&&n.remove&&t(o).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,r,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){t.isFunction(n)?s[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}():s[e]=n}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&void 0!==o&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.length||"instance"!==r?this.each(function(){var i,n=t.data(this,o);return"instance"===r?(l=n,!1):n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,o;for(i in e)o=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&o&&o.length&&(n=t(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,r){var a,s;for(s=0;s<i.length;s++)a=o.classesElementLookup[i[s]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),o.classesElementLookup[i[s]]=a,n.push(i[s]),r&&e.classes[i[s]]&&n.push(e.classes[i[s]])}var n=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,o){-1!==t.inArray(e.target,o)&&(i.classesElementLookup[n]=t(o.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof t||null===t,r={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.on(c,u,s):i.on(c,s)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var o,r,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?i:o.effect||i:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&t.effects&&t.effects.effect[s]?n[e](o):s!==e&&n[s]?n[s](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}});t.widget,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var n=!1;t(document).on("mouseup",function(){n=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,o=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,n=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle"),r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;e<i;e++)r.push("<span tabindex='0'></span>");this.handles=o.add(t(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,r,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(o>i||o===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(o=i,r=t(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-r.width()/2,top:e.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,o=this.value(),r=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),r[e]=i),i!==o&&!1!==this._trigger("slide",t,this._uiHash(e,i,r))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=o-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,o,r,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i}):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(e){var i,n,o,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(o=this.options.step,i=n=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-o)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})}),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,o=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)}}}(jQuery),function(t){var e=Xut.plat.isMouseTouch?"touchend mouseup":Xut.plat.hasTouch?"touchend":"mouseup",i=t("<video />")[0],n=void 0!==i.canPlayType,o=void 0!==i.webkitEnterFullScreen?"webkit":void 0!==i.mozRequestFullScreen&&"mozGecko";navigator.userAgent.match("Chrome")&&(o=!1);var r={autoplay:!1,controls:!0,preload:"auto",poster:null,srcs:[]};r.useNative=n,r.useNativeFullScreen=o;var a=function(e,i){this._class=a,this.parent=e,this.options=t.extend({},r,i),this.sources=this.options.srcs||this.options.sources,this.useNative=this.options.useNative,this.options.useFullScreen=!!this.useNative,this.state=null,this.canPlay=!1,this.inFullScreen=!1,this.loaded=!1,this.readyList=[],this.setupElement(),this.setupNative(),this.setupEvents(),this.setupControls(),this.change("initial"),this._load(),this.initHideIdie=!1,this.options.controls&&this.createIdleTimer()};a.fn=a.prototype,a.fn.clearTimeout=function(){this.checkTimer&&(clearTimeout(this.checkTimer),this.checkTimer=null)},a.fn.createIdleTimer=function(){var t=this,i=!1;t.triggerIdle=function(e,n){var n=n||2e3;if(e&&e.target&&"video"!==e.target.className)return t.clearTimeout(),void(t.checkTimer=setTimeout(t.triggerIdle,n));i?(i=!1,t.idle("idle",!0),t.clearTimeout()):(i=!0,t.idle("idle",!1),t.checkTimer=setTimeout(t.triggerIdle,n))},this.element.on(e,t.triggerIdle),this.controls.on("touchmove mousemove",function(e){t.triggerIdle(e,3e3)})},a.fn.hideIdleTimer=function(){this.initHideIdie||(this.initHideIdie=!0,this.triggerIdle())},a.fn.ready=function(t){this.readyList.push(t),this.loaded&&t.call(this)},a.fn._load=function(){"string"==typeof this.sources&&(this.sources={src:this.sources}),t.isArray(this.sources)||(this.sources=[this.sources]),this.ready(function(){this.change("loading"),this.video.loadSources(this.sources)})},a.fn.seek=function(t){this.video.setCurrentTime(t)},a.fn.setVolume=function(t){this.video.setVolume(t)},a.fn.getVolume=function(){return this.video.getVolume()},a.fn.mute=function(t){void 0===t&&(t=!0),this.setVolume(t?1:0)},a.fn.bind=function(){this.videoElement.bind.apply(this.videoElement,arguments)},a.fn.one=function(){this.videoElement.one.apply(this.videoElement,arguments)},a.fn.trigger=function(){this.videoElement.trigger.apply(this.videoElement,arguments)};for(var s=["click","dblclick","onerror","onloadeddata","oncanplay","ondurationchange","ontimeupdate","onpause","onplay","onended","onvolumechange"],l=0;l<s.length;l++)!function(){var e=s[l],i=e.replace(/^(on)/,"");a.fn[e]=function(){var e=t.makeArray(arguments);e.unshift(i),this.bind.apply(this,e)}}();a.fn.setupElement=function(){this.element=t("<div />"),this.element.addClass("flareVideo"),this.element.css("visibility","hidden"),this.parent.append(this.element)},a.fn.setupNative=function(){this.videoElement=t("<video />"),this.videoElement.addClass("video"),this.videoElement.attr({width:this.options.width,height:this.options.height,poster:this.options.poster,autoplay:this.options.autoplay,preload:this.options.preload,controls:!1,autobuffer:this.options.autobuffer}),this.element.append(this.videoElement),this.video=this.videoElement[0];var e=this;this.video.loadSources=function(i){e.videoElement.empty();for(var n in i){var o=t("<source />");o.attr(i[n]),e.videoElement.append(o)}e.video.load()},this.video.getStartTime=function(){return this.startTime||0},this.video.getEndTime=function(){return this.duration==1/0&&this.buffered?this.buffered.end(this.buffered.length-1):(this.startTime||0)+this.duration},this.video.getCurrentTime=function(){try{return this.currentTime}catch(t){return 0}},this.video.setCurrentTime=function(t){this.currentTime=t},this.video.getVolume=function(){return this.volume},this.video.setVolume=function(t){this.volume=t},this.video.enterFullScreen=function(){e.inFullScreen=!1,this.webkitEnterFullScreen()},this.video.exitFullScreen=function(){this.webkitExitFullScreen()},this.loaded=!0},a.fn.setupEvents=function(){this.onpause(t.proxy(function(){this.element.removeClass("playing"),this.change("paused")},this)),this.onplay(t.proxy(function(){this.element.addClass("playing"),this.change("playing")},this)),this.onended(t.proxy(function(){this.element.removeClass("playing"),this.fullScreen(!1),this.stop(),this.change("ended")},this)),this.onerror(t.proxy(function(t){this.change("error"),console.error("Error - "+this.video.error)},this)),this.oncanplay(t.proxy(function(){this.hideIdleTimer(),this.canPlay=!0,this.controls.removeClass("disabled"),this.element.css("visibility","visible")},this))},a.fn.setupControls=function(){this.options.controls&&(this.controls=t("<div />"),this.controls.addClass("controls"),this.controls.addClass("disabled"),this.setupBeforeButtons(),this.setupTiming(),this.setupSeek(),this.setupAfterButtons(),this.element.append(this.controls))},a.fn.setupBeforeButtons=function(){var i=t("<div />");i.addClass("play");var n=this;i.on(e,function(t){if(n.canPlay)return n.play(),!1}),this.controls.append(i);var o=t("<div />");o.addClass("pause"),o.on(e,function(){if(n.canPlay)return n.pause(),!1}),this.controls.append(o)},a.fn.setupAfterButtons=function(){var i=this,n=t("<div />");n.addClass("fullScreen"),n.on(e,function(){return i.toggleFullScreen(),!1}),this.options.useFullScreen||n.addClass("disabled"),this.controls.append(n);var o=t("<div />");o.addClass("close"),o.on(e,function(){return i.trigger("close"),!1}),this.controls.append(o)},a.fn.setupSeek=function(){var e=t("<div />");e.addClass("seek");var i=this.createRange();i.addClass("seekRange"),i.setValue(0),i.change(t.proxy(function(){this.seek(i.getValue())},this)),this.ondurationchange(t.proxy(function(){i.setOptions({min:this.video.getStartTime(),max:this.video.getEndTime(),value:this.video.getCurrentTime()})},this)),this.ontimeupdate(t.proxy(function(){i.setOptions({max:this.video.getEndTime(),value:this.video.getCurrentTime()})},this)),e.append(i),this.controls.append(e)},a.fn.createRange=function(){var e=t("<div />");if(!e.slider)throw"jQuery UI with the slider component is required.";var i,n=!1;e.slider({start:function(t,o){i&&e.slider("option",i),n=!0},stop:function(t,e){n=!1}});var o=0;return e.getValue=function(){return o},e.setValue=function(t){e.find(".ui-slider-handle:first").hasClass("ui-state-active")||(o=t,e.slider("option","value",t))},e.setOptions=function(t){n||(i=t,e.slider("option",t))},e.bind("slidestop",function(t,i){o=i.value,e.trigger("change")}),e},a.fn.setupTiming=function(){var e=t("<div />");e.addClass("scheduleTime");var i=t("<div />");i.addClass("timeChange"),e.append(i);var n=t("<div>/</div>");n.addClass("timeUn"),e.append(n);var o=t("<div />");o.addClass("timeMax"),e.append(o);var r=function(t){return t<10?"0"+t:t},a=function(t){var e=[],i=Math.floor(t/60),n=Math.floor(t/3600),o=0==t?0:t%60;return o=Math.round(o),n>0&&e.push(r(n)),e.push(r(i)),e.push(r(o)),e.join(":")};this.ontimeupdate(t.proxy(function(){o.text(a(this.video.getEndTime())),i.text(a(this.video.getCurrentTime()))},this)),this.videoElement.one("canplay",t.proxy(function(){o.text(a(this.video.getEndTime()-this.video.getCurrentTime())),this.videoElement.trigger("timeupdate")},this)),this.controls.append(e)},a.fn.idle=function(t,e){e?"playing"==this.state&&this.element.addClass("idle"):this.element.removeClass("idle")},a.fn.change=function(t){this.state=t,this.element.attr("data-state",this.state),this.element.trigger("state.fv",this.state)},a.fn.play=function(){this.video.play()},a.fn.pause=function(){this.video.pause()},a.fn.stop=function(){this.seek(0),this.pause()},a.fn.remove=function(){this.triggerIdle=null,this.clearTimeout(),this.controls&&(this.controls.remove(),this.controls=null),this.element.remove(),this.videoElement=null,this.parent=null,this.element=null},a.fn.fullScreen=function(e){switch(void 0===e&&(e=!0),this.inFullScreen=e,this.options.useNativeFullScreen){case"webkit":this.video[e?"enterFullScreen":"exitFullScreen"]();break;case"mozGecko":this.video[e?"mozRequestFullScreen":"mozCancelFullScreen"]();break;default:(e?t("body"):this.parent).prepend(this.element);var i="playing"==this.state;this.element[e?"addClass":"removeClass"]("fullScreen"),i&&this.ready(t.proxy(this.play,this))}},a.fn.togglePlay=function(){"playing"==this.state?this.pause():this.play()},a.fn.toggleFullScreen=function(){this.fullScreen(!this.inFullScreen)},t.fn.flareVideo=function(t,e){return new a(this,t)},window.FlareVideo=a}(jQuery),!Xut.plat.isBrowser&&!MMXCONFIG)if(Xut.plat.isIOS)!function(){var t,e;!function(){function i(e){var i=e.factory;return e.exports={},delete e.factory,i(function(i){var n=i;return"."===i.charAt(0)&&(n=e.id.slice(0,e.id.lastIndexOf(a))+a+i.slice(2)),t(n)},e.exports,e),e.exports}var n={},o=[],r={},a=".";t=function(t){if(!n[t])throw"module "+t+" not found";if(t in r)throw"Cycle in require graph: "+(o.slice(r[t]).join("->")+"->"+t);if(n[t].factory)try{return r[t]=o.length,o.push(t),i(n[t])}finally{delete r[t],o.pop()}return n[t].exports},(e=function(t,e){if(n[t])throw"module "+t+" already defined";n[t]={id:t,factory:e}}).remove=function(t){delete n[t]},e.moduleMap=n}(),"object"==typeof module&&"function"==typeof t&&(module.exports.require=t,module.exports.define=e),e("cordova",function(t,i,n){function o(t,e){var i=document.createEvent("Events");if(i.initEvent(t,!1,!1),e)for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var r=t("cordova/channel"),a=t("cordova/platform"),s=document.addEventListener,l=document.removeEventListener,c=window.addEventListener,u=window.removeEventListener,h={},d={};document.addEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==h[n]?h[n].subscribe(e):s.call(document,t,e,i)},window.addEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==d[n]?d[n].subscribe(e):c.call(window,t,e,i)},document.removeEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==h[n]?h[n].unsubscribe(e):l.call(document,t,e,i)},window.removeEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==d[n]?d[n].unsubscribe(e):u.call(window,t,e,i)};var p={define:e,require:t,version:"3.7.0",platformVersion:"3.7.0",platformId:a.id,addWindowEventHandler:function(t){return d[t]=r.create(t)},addStickyDocumentEventHandler:function(t){return h[t]=r.createSticky(t)},addDocumentEventHandler:function(t){return h[t]=r.create(t)},removeWindowEventHandler:function(t){delete d[t]},removeDocumentEventHandler:function(t){delete h[t]},getOriginalHandlers:function(){return{document:{addEventListener:s,removeEventListener:l},window:{addEventListener:c,removeEventListener:u}}},fireDocumentEvent:function(t,e,i){var n=o(t,e);void 0!==h[t]?i?h[t].fire(n):setTimeout(function(){"deviceready"==t&&document.dispatchEvent(n),h[t].fire(n)},0):document.dispatchEvent(n)},fireWindowEvent:function(t,e){var i=o(t,e);void 0!==d[t]?setTimeout(function(){d[t].fire(i)},0):window.dispatchEvent(i)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(t,e){p.callbackFromNative(t,!0,e.status,[e.message],e.keepCallback)},callbackError:function(t,e){p.callbackFromNative(t,!1,e.status,[e.message],e.keepCallback)},callbackFromNative:function(t,e,i,n,o){try{var r=p.callbacks[t];r&&(e&&i==p.callbackStatus.OK?r.success&&r.success.apply(null,n):r.fail&&r.fail.apply(null,n),o||delete p.callbacks[t])}catch(i){var a="Error in "+(e?"Success":"Error")+" callbackId: "+t+" : "+i;throw console&&console.log&&console.log(a),p.fireWindowEvent("cordovacallbackerror",{message:a}),i}},addConstructor:function(t){r.onCordovaReady.subscribe(function(){try{t()}catch(t){console.log("Failed to run constructor: "+t)}})}};n.exports=p}),e("cordova/argscheck",function(t,e,i){function n(t,e){return/.*?\((.*?)\)/.exec(t)[1].split(", ")[e]}t("cordova/exec");var o=t("cordova/utils"),r=i.exports,a={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};r.checkArgs=function(t,e,i,s){if(r.enableChecks){for(var l,c=null,u=0;u<t.length;++u){var h=t.charAt(u),d=h.toUpperCase(),p=i[u];if("*"!=h&&(l=o.typeName(p),(null!==p&&void 0!==p||h!=d)&&l!=a[d])){c="Expected "+a[d];break}}if(c)throw c+=", but got "+l+".",c='Wrong type for parameter "'+n(s||i.callee,u)+'" of '+e+": "+c,"undefined"==typeof jasmine&&console.error(c),TypeError(c)}},r.getValue=function(t,e){return void 0===t?e:t},r.enableChecks=!0}),e("cordova/base64",function(t,e,i){function n(t){for(var e,i=t.byteLength,n="",o=s(),r=0;r<i-2;r+=3)n+=o[(e=(t[r]<<16)+(t[r+1]<<8)+t[r+2])>>12],n+=o[4095&e];return i-r==2?(n+=o[(e=(t[r]<<16)+(t[r+1]<<8))>>12],n+=a[(4095&e)>>6],n+="="):i-r==1&&(n+=o[(e=t[r]<<16)>>12],n+="=="),n}var o=e;o.fromArrayBuffer=function(t){return n(new Uint8Array(t))},o.toArrayBuffer=function(t){for(var e="undefined"!=typeof atob?atob(t):new Buffer(t,"base64").toString("binary"),i=new ArrayBuffer(e.length),n=new Uint8Array(i),o=0,r=e.length;o<r;o++)n[o]=e.charCodeAt(o);return i};var r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(){r=[];for(var t=0;t<64;t++)for(var e=0;e<64;e++)r[64*t+e]=a[t]+a[e];return s=function(){return r},r}}),e("cordova/builder",function(t,e,i){function n(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.apply(i,[t[n],n])}function o(t,i,n){e.replaceHookForTesting(t,i),t[i]=n,t[i]!==n&&l.defineGetter(t,i,function(){return n})}function r(t,e,i,n){n?l.defineGetter(t,e,function(){return console.log(n),delete t[e],o(t,e,i),i}):o(t,e,i)}function a(e,i,o,c){n(i,function(i,n){try{var u=i.path?t(i.path):{};o?(void 0===e[n]?r(e,n,u,i.deprecated):void 0!==i.path&&(c?s(e[n],u):r(e,n,u,i.deprecated)),u=e[n]):void 0===e[n]?r(e,n,u,i.deprecated):u=e[n],i.children&&a(u,i.children,o,c)}catch(t){l.alert("Exception building Cordova JS globals: "+t+' for key "'+n+'"')}})}function s(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype&&t.prototype.constructor===t?o(t.prototype,i,e[i]):"object"==typeof e[i]&&"object"==typeof t[i]?s(t[i],e[i]):o(t,i,e[i]))}var l=t("cordova/utils");e.buildIntoButDoNotClobber=function(t,e){a(e,t,!1,!1)},e.buildIntoAndClobber=function(t,e){a(e,t,!0,!1)},e.buildIntoAndMerge=function(t,e){a(e,t,!0,!0)},e.recursiveMerge=s,e.assignOrWrapInDeprecateGetter=r,e.replaceHookForTesting=function(){}}),e("cordova/channel",function(t,e,i){function n(t){if("function"!=typeof t)throw"Function required as first argument!"}var o=t("cordova/utils"),r=1,a=function(t,e){this.type=t,this.handlers={},this.state=e?1:0,this.fireArgs=null,this.numHandlers=0,this.onHasSubscribersChange=null},s={join:function(t,e){for(var i=e.length,n=i,o=0;o<i;o++){if(0===e[o].state)throw Error("Can only use join with sticky channels.");e[o].subscribe(function(){--n||t()})}i||t()},create:function(t){return s[t]=new a(t,!1)},createSticky:function(t){return s[t]=new a(t,!0)},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(t){if(t){var e=s[t]||this.createSticky(t);this.deviceReadyChannelsMap[t]=e,this.deviceReadyChannelsArray.push(e)}},initializationComplete:function(t){var e=this.deviceReadyChannelsMap[t];e&&e.fire()}};a.prototype.subscribe=function(t,e){if(n(t),2!=this.state){var i=t,a=t.observer_guid;"object"==typeof e&&(i=o.close(e,t)),a||(a=""+r++),i.observer_guid=a,t.observer_guid=a,this.handlers[a]||(this.handlers[a]=i,1==++this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())}else t.apply(e||this,this.fireArgs)},a.prototype.unsubscribe=function(t){n(t);var e=t.observer_guid;this.handlers[e]&&(delete this.handlers[e],0===--this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.fire=function(t){var e=Array.prototype.slice.call(arguments);if(1==this.state&&(this.state=2,this.fireArgs=e),this.numHandlers){var i=[];for(var n in this.handlers)i.push(this.handlers[n]);for(var o=0;o<i.length;++o)i[o].apply(this,e);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}},s.createSticky("onDOMContentLoaded"),s.createSticky("onNativeReady"),s.createSticky("onCordovaReady"),s.createSticky("onPluginsReady"),s.createSticky("onDeviceReady"),s.create("onResume"),s.create("onPause"),s.createSticky("onDestroy"),s.waitForInitialization("onCordovaReady"),s.waitForInitialization("onDOMContentLoaded"),i.exports=s}),e("cordova/exec",function(t,e,i){function n(t,e){var i=document.createElement("iframe");return i.style.display="none",i.onunload=e,i.src=t,document.body.appendChild(i),i}function o(){var t=n("about:blank");return t.contentWindow.history.replaceState(null,null,"file:///#"),t}function r(){if(p===b.XHR_WITH_PAYLOAD)return!0;if(p===b.XHR_OPTIONAL_PAYLOAD){for(var t=0,e=0;e<T.length;++e)t+=T[e].length;return t<4500}return!1}function a(t){if(!t||"Array"!=y.typeName(t))return t;var e=[];return t.forEach(function(t,i){"ArrayBuffer"==y.typeName(t)?e.push({CDVType:"ArrayBuffer",data:_.fromArrayBuffer(t)}):e.push(t)}),e}function s(t){if("ArrayBuffer"==t.CDVType){var e=function(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer};t=function(t){return e(atob(t))}(t.data)}return t}function l(t){var e=[];return t&&t.hasOwnProperty("CDVType")?"MultiPart"==t.CDVType?t.messages.forEach(function(t){e.push(s(t))}):e.push(s(t)):e.push(t),e}function c(){void 0===p&&(p=b.IFRAME_NAV),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.cordova&&window.webkit.messageHandlers.cordova.postMessage&&(p=b.WK_WEBVIEW_BINDING);var t,e,i,n,o,r,s=null;if("string"!=typeof arguments[0])t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],s="INVALID";else try{return r=arguments[0].split("."),n=r.pop(),i=r.join("."),o=Array.prototype.splice.call(arguments,1),void console.log('The old format of this exec call has been removed (deprecated since 2.1). Change to: cordova.exec(null, null, "'+i+'", "'+n+'",'+JSON.stringify(o)+");")}catch(t){}o=o||[],(t||e)&&(s=i+m.callbackId++,m.callbacks[s]={success:t,fail:e});var l=[s,i,n,o=a(o)];if(T.push(JSON.stringify(l)),p===b.WK_WEBVIEW_BINDING)window.webkit.messageHandlers.cordova.postMessage(l);else if(!S&&1==T.length)switch(p){case b.XHR_NO_PAYLOAD:case b.XHR_WITH_PAYLOAD:case b.XHR_OPTIONAL_PAYLOAD:u();break;default:d()}}function u(){v&&4!=v.readyState&&(v=null),(v=v||new XMLHttpRequest).open("HEAD","/!gap_exec?"+ +new Date,!0),k||(k=/.*\((.*)\)$/.exec(navigator.userAgent)[1]),v.setRequestHeader("vc",k),v.setRequestHeader("rc",++w),r()&&v.setRequestHeader("cmds",c.nativeFetchMessages()),v.send(null)}function h(){f=null,setTimeout(d,0)}function d(){if(document.body)if(p===b.IFRAME_HASH_NO_PAYLOAD||p===b.IFRAME_HASH_WITH_PAYLOAD){(g=g||o()).contentWindow||(g=o());var t="%0"+(x^=3);p===b.IFRAME_HASH_WITH_PAYLOAD&&(t+=c.nativeFetchMessages()),g.contentWindow.location.hash=t}else f&&f.contentWindow?(f.contentWindow.onunload=h,f.src="gap://ready"):f=n("gap://ready",h);else setTimeout(d)}var p,f,g,v,m=t("cordova"),y=(t("cordova/channel"),t("cordova/utils")),_=t("cordova/base64"),b={IFRAME_NAV:0,XHR_NO_PAYLOAD:1,XHR_WITH_PAYLOAD:2,XHR_OPTIONAL_PAYLOAD:3,IFRAME_HASH_NO_PAYLOAD:4,IFRAME_HASH_WITH_PAYLOAD:5,WK_WEBVIEW_BINDING:6},x=1,w=0,k=null,T=[],S=0;c.jsToNativeModes=b,c.setJsToNativeBridgeMode=function(t){f&&(f.parentNode.removeChild(f),f=null),p=t},c.nativeFetchMessages=function(){if(f&&f.contentWindow&&(f.contentWindow.onunload=null),!T.length)return"";var t="["+T.join(",")+"]";return T.length=0,t},c.nativeCallback=function(t,e,i,n){return c.nativeEvalAndFetch(function(){var o=0===e||1===e,r=l(i);m.callbackFromNative(t,o,e,r,n)})},c.nativeEvalAndFetch=function(t){S++;try{return t(),c.nativeFetchMessages()}finally{S--}},i.exports=c}),e("cordova/exec/proxy",function(t,e,i){var n={};i.exports={add:function(t,e){return console.log("adding proxy for "+t),n[t]=e,e},remove:function(t){var e=n[t];return delete n[t],n[t]=null,e},get:function(t,e){return n[t]?n[t][e]:null}}}),e("cordova/init",function(t,e,i){function n(t){for(var e=0;e<t.length;++e)2!=t[e].state&&console.log("Channel not fired: "+t[e].type)}var o=t("cordova/channel"),r=t("cordova"),a=t("cordova/modulemapper"),s=t("cordova/platform"),l=t("cordova/pluginloader"),c=t("cordova/utils"),u=[o.onNativeReady,o.onPluginsReady];window.setTimeout(function(){2!=o.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),n(u),n(o.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=function(t){var e=function(){};e.prototype=t;var i=new e;if(e.bind)for(var n in t)"function"==typeof t[n]?i[n]=t[n].bind(t):function(e){c.defineGetterSetter(i,n,function(){return t[e]})}(n);return i}(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(t){this.log("warn: "+t)}),o.onPause=r.addDocumentEventHandler("pause"),o.onResume=r.addDocumentEventHandler("resume"),o.onDeviceReady=r.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?o.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){o.onDOMContentLoaded.fire()},!1),window._nativeReady&&o.onNativeReady.fire(),a.clobbers("cordova","cordova"),a.clobbers("cordova/exec","cordova.exec"),a.clobbers("cordova/exec","Cordova.exec"),s.bootstrap&&s.bootstrap(),setTimeout(function(){l.load(function(){o.onPluginsReady.fire()})},0),o.join(function(){a.mapModules(window),s.initialize&&s.initialize(),o.onCordovaReady.fire(),o.join(function(){t("cordova").fireDocumentEvent("deviceready")},o.deviceReadyChannelsArray)},u)}),e("cordova/init_b",function(t,e,i){function n(t){for(var e=0;e<t.length;++e)2!=t[e].state&&console.log("Channel not fired: "+t[e].type)}var o=t("cordova/channel"),r=t("cordova"),a=t("cordova/platform"),s=t("cordova/utils"),l=[o.onDOMContentLoaded,o.onNativeReady];r.exec=t("cordova/exec"),window.setTimeout(function(){2!=o.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),n(l),n(o.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=function(t){var e=function(){};e.prototype=t;var i=new e;if(e.bind)for(var n in t)"function"==typeof t[n]?i[n]=t[n].bind(t):function(e){s.defineGetterSetter(i,n,function(){return t[e]})}(n);return i}(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(t){this.log("warn: "+t)}),o.onPause=r.addDocumentEventHandler("pause"),o.onResume=r.addDocumentEventHandler("resume"),o.onDeviceReady=r.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?o.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){o.onDOMContentLoaded.fire()},!1),window._nativeReady&&o.onNativeReady.fire(),a.bootstrap&&a.bootstrap(),o.join(function(){a.initialize&&a.initialize(),o.onCordovaReady.fire(),o.join(function(){t("cordova").fireDocumentEvent("deviceready")},o.deviceReadyChannelsArray)},l)}),e("cordova/modulemapper",function(t,i,n){function o(t,e,i,n){if(!(e in c))throw new Error("Module "+e+" does not exist.");a.push(t,e,i),n&&(s[i]=n)}function r(t,e){if(!t)return e;for(var i,n=t.split("."),o=e,r=0;i=n[r];++r)o=o[i]=o[i]||{};return o}var a,s,l=t("cordova/builder"),c=e.moduleMap;i.reset=function(){a=[],s={}},i.clobbers=function(t,e,i){o("c",t,e,i)},i.merges=function(t,e,i){o("m",t,e,i)},i.defaults=function(t,e,i){o("d",t,e,i)},i.runs=function(t){o("r",t,null)},i.mapModules=function(e){var i={};e.CDV_origSymbols=i;for(var n=0,o=a.length;n<o;n+=3){var c=a[n],u=a[n+1],h=t(u);if("r"!=c){var d=a[n+2],p=d.lastIndexOf("."),f=d.substr(0,p),g=d.substr(p+1),v=d in s?"Access made to deprecated symbol: "+d+". "+v:null,m=r(f,e),y=m[g];"m"==c&&y?l.recursiveMerge(y,h):("d"==c&&!y||"d"!=c)&&(d in i||(i[d]=y),l.assignOrWrapInDeprecateGetter(m,g,h,v))}}},i.getOriginalSymbol=function(t,e){var i=t.CDV_origSymbols;if(i&&e in i)return i[e];for(var n=e.split("."),o=t,r=0;r<n.length;++r)o=o&&o[n[r]];return o},i.reset()}),e("cordova/platform",function(t,e,i){i.exports={id:"ios",bootstrap:function(){t("cordova/channel").onNativeReady.fire()}}}),e("cordova/pluginloader",function(t,i,n){function o(t,n,o,r){r=r||o,t in e.moduleMap?o():i.injectScript(n,function(){t in e.moduleMap?o():r()},r)}function r(t,e){for(var i,n=0;i=t[n];n++){if(i.clobbers&&i.clobbers.length)for(var o=0;o<i.clobbers.length;o++)l.clobbers(i.id,i.clobbers[o]);if(i.merges&&i.merges.length)for(var r=0;r<i.merges.length;r++)l.merges(i.id,i.merges[r]);i.runs&&l.runs(i.id)}e()}function a(t,e,i){var n=e.length;if(n)for(var a=0;a<e.length;a++)o(e[a].id,t+e[a].file,function(){--n||r(e,i)});else i()}function s(){for(var t=null,e=document.getElementsByTagName("script"),i="/cordova.js",n=e.length-1;n>-1;n--){var o=e[n].src.replace(/\?.*$/,"");if(o.indexOf(i)==o.length-i.length){t=o.substring(0,o.length-i.length)+"/";break}}return t}var l=t("cordova/modulemapper");t("cordova/urlutil");i.injectScript=function(t,e,i){var n=document.createElement("script");n.onload=e,n.onerror=i,n.src=t,document.head.appendChild(n)},i.load=function(e){var i=s();null===i&&(console.log("Could not find cordova.js script tag. Plugin loading may fail."),i=""),o("cordova/plugin_list",i+"cordova_plugins.js",function(){var n=t("cordova/plugin_list");a(i,n,e)},e)}}),e("cordova/urlutil",function(t,e,i){e.makeAbsolute=function(t){var e=document.createElement("a");return e.href=t,e.href}}),e("cordova/utils",function(t,e,i){function n(t){for(var e="",i=0;i<t;i++){var n=parseInt(256*Math.random(),10).toString(16);1==n.length&&(n="0"+n),e+=n}return e}var o=e;o.defineGetterSetter=function(t,e,i,n){if(Object.defineProperty){var o={get:i,configurable:!0};n&&(o.set=n),Object.defineProperty(t,e,o)}else t.__defineGetter__(e,i),n&&t.__defineSetter__(e,n)},o.defineGetter=o.defineGetterSetter,o.arrayIndexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=t.length,n=0;n<i;++n)if(t[n]==e)return n;return-1},o.arrayRemove=function(t,e){var i=o.arrayIndexOf(t,e);return-1!=i&&t.splice(i,1),-1!=i},o.typeName=function(t){return Object.prototype.toString.call(t).slice(8,-1)},o.isArray=function(t){return"Array"==o.typeName(t)},o.isDate=function(t){return"Date"==o.typeName(t)},o.clone=function(t){if(!t||"function"==typeof t||o.isDate(t)||"object"!=typeof t)return t;var e,i;if(o.isArray(t)){for(e=[],i=0;i<t.length;++i)e.push(o.clone(t[i]));return e}e={};for(i in t)i in e&&e[i]==t[i]||(e[i]=o.clone(t[i]));return e},o.close=function(t,e,i){return void 0===i?function(){return e.apply(t,arguments)}:function(){return e.apply(t,i)}},o.createUUID=function(){return n(4)+"-"+n(2)+"-"+n(2)+"-"+n(2)+"-"+n(6)},o.extend=function(){var t=function(){};return function(e,i){t.prototype=i.prototype,e.prototype=new t,e.__super__=i.prototype,e.prototype.constructor=e}}(),o.alert=function(t){window.alert?window.alert(t):console&&console.log&&console.log(t)}}),e("org.apache.cordova.console-via-logger",function(t,e,i){function n(){}var o=t("cordova/plugin/logger"),r=(t("cordova/utils"),i.exports),a=window.console,s=!1,l={};r.useLogger=function(t){if(arguments.length&&(s=!!t),s&&o.useConsole())throw new Error("console and logger are too intertwingly");return s},r.log=function(){o.useConsole()||o.log.apply(o,[].slice.call(arguments))},r.error=function(){o.useConsole()||o.error.apply(o,[].slice.call(arguments))},r.warn=function(){o.useConsole()||o.warn.apply(o,[].slice.call(arguments))},r.info=function(){o.useConsole()||o.info.apply(o,[].slice.call(arguments))},r.debug=function(){o.useConsole()||o.debug.apply(o,[].slice.call(arguments))},r.assert=function(t){if(!t){var e=o.format.apply(o.format,[].slice.call(arguments,1));r.log("ASSERT: "+e)}},r.clear=function(){},r.dir=function(t){r.log("%o",t)},r.dirxml=function(t){r.log(t.innerHTML)},r.trace=n,r.group=r.log,r.groupCollapsed=r.log,r.groupEnd=n,r.time=function(t){l[t]=(new Date).valueOf()},r.timeEnd=function(t){var e=l[t];if(e){var i=(new Date).valueOf()-e;r.log(t+": "+i+"ms")}else r.warn("unknown timer: "+t)},r.timeStamp=n,r.profile=n,r.profileEnd=n,r.count=n,r.exception=r.log,r.table=function(t,e){r.log("%o",t)};for(var c in r)"function"==typeof a[c]&&(r[c]=function(t,e){return function(){var i=[].slice.call(arguments);try{t.apply(a,i)}catch(t){}try{e.apply(r,i)}catch(t){}}}(a[c],r[c]))}),e("cordova/plugin/logger",function(t,e,i){function n(t,e){e=[t].concat([].slice.call(e)),l.logLevel.apply(l,e)}function o(t){return"string"==typeof t?"":"%o"}function r(t,e){if(null===t||void 0===t)return[""];if(1==arguments.length)return[t.toString()];"string"!=typeof t&&(t=t.toString());for(var i=/(.*?)%(.)(.*)/,n=t,o=[];e.length;){var r=i.exec(n);if(!r)break;var s=e.shift();n=r[3],o.push(r[1]),"%"!=r[2]?o.push(a(s,r[2])):(o.push("%"),e.unshift(s))}o.push(n);var l=[].slice.call(e);return l.unshift(o.join("")),l}function a(t,e){try{switch(e){case"j":case"o":return JSON.stringify(t);case"c":return""}}catch(t){return"error JSON.stringify()ing argument: "+t}return null===t||void 0===t?Object.prototype.toString.call(t):t.toString()}for(var s,l=e,c=t("cordova/exec"),u=(t("cordova/utils"),!1),h=!0,d=[],p=!1,f=console,g=["LOG","ERROR","WARN","INFO","DEBUG"],v={},m=0;m<g.length;m++){var y=g[m];v[y]=m,l[y]=y}s=v.WARN,l.level=function(t){if(arguments.length){if(null===v[t])throw new Error("invalid logging level: "+t);s=v[t]}return g[s]},l.useConsole=function(t){if(arguments.length&&(u=!!t),u){if("undefined"==typeof console)throw new Error("global console object is not defined");if("function"!=typeof console.log)throw new Error("global console object does not have a log function");if("function"==typeof console.useLogger&&console.useLogger())throw new Error("console and logger are too intertwingly")}return u},l.useLogger=function(t){return arguments.length&&(h=!!t),h},l.log=function(t){n("LOG",arguments)},l.error=function(t){n("ERROR",arguments)},l.warn=function(t){n("WARN",arguments)},l.info=function(t){n("INFO",arguments)},l.debug=function(t){n("DEBUG",arguments)},l.logLevel=function(t){var e=[].slice.call(arguments,1),i=o(e[0]);i.length>0&&e.unshift(i);var n=l.format.apply(l.format,e);if(null===v[t])throw new Error("invalid logging level: "+t);if(!(v[t]>s))if(p||u){if(h&&c(null,null,"Console","logLevel",[t,n]),u){if(console.useLogger())throw new Error("console and logger are too intertwingly");switch(t){case l.LOG:f.log(n);break;case l.ERROR:f.log("ERROR: "+n);break;case l.WARN:f.log("WARN: "+n);break;case l.INFO:f.log("INFO: "+n);break;case l.DEBUG:f.log("DEBUG: "+n)}}}else d.push([t,n])},l.format=function(t,e){return r(arguments[0],[].slice.call(arguments,1)).join(" ")},l.__onDeviceReady=function(){if(!p){p=!0;for(var t=0;t<d.length;t++){var e=d[t];l.logLevel(e[0],e[1])}d=null}},document.addEventListener("deviceready",l.__onDeviceReady,!1)}),e("org.apache.cordova.media.Media",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a={},s=function(t,e,i,s){n.checkArgs("SFFF","Media",arguments),this.id=o.createUUID(),a[this.id]=this,this.src=t,this.successCallback=e,this.errorCallback=i,this.statusCallback=s,this._duration=-1,this._position=-1,r(null,this.errorCallback,"Media","create",[this.id,this.src])};s.MEDIA_STATE=1,s.MEDIA_DURATION=2,s.MEDIA_POSITION=3,s.MEDIA_ERROR=9,s.MEDIA_NONE=0,s.MEDIA_STARTING=1,s.MEDIA_RUNNING=2,s.MEDIA_PAUSED=3,s.MEDIA_STOPPED=4,s.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],s.get=function(t){return a[t]},s.prototype.play=function(t){r(null,null,"Media","startPlayingAudio",[this.id,this.src,t])},s.prototype.stop=function(){var t=this;r(function(){t._position=0},this.errorCallback,"Media","stopPlayingAudio",[this.id])},s.prototype.seekTo=function(t){var e=this;r(function(t){e._position=t},this.errorCallback,"Media","seekToAudio",[this.id,t])},s.prototype.pause=function(){r(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},s.prototype.getDuration=function(){return this._duration},s.prototype.getCurrentPosition=function(t,e){var i=this;r(function(e){i._position=e,t(e)},e,"Media","getCurrentPositionAudio",[this.id])},s.prototype.startRecord=function(){r(null,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},s.prototype.stopRecord=function(){r(null,this.errorCallback,"Media","stopRecordingAudio",[this.id])},s.prototype.release=function(){r(null,this.errorCallback,"Media","release",[this.id])},s.prototype.setVolume=function(t){r(null,null,"Media","setVolume",[this.id,t])},s.onStatus=function(t,e,i){var n=a[t];if(n)switch(e){case s.MEDIA_STATE:n.statusCallback&&n.statusCallback(i),i==s.MEDIA_STOPPED&&n.successCallback&&n.successCallback();break;case s.MEDIA_DURATION:n._duration=i;break;case s.MEDIA_ERROR:n.errorCallback&&n.errorCallback(i);break;case s.MEDIA_POSITION:n._position=Number(i);break;default:console.error&&console.error("Unhandled Media.onStatus :: "+e)}else console.error&&console.error("Received Media.onStatus callback for unknown media :: "+t)},i.exports=s}),e("org.apache.cordova.media.MediaError",function(t,e,i){var n=window.MediaError;n||(window.MediaError=n=function(t,e){this.code=void 0!==t?t:null,this.message=e||""}),n.MEDIA_ERR_NONE_ACTIVE=n.MEDIA_ERR_NONE_ACTIVE||0,n.MEDIA_ERR_ABORTED=n.MEDIA_ERR_ABORTED||1,n.MEDIA_ERR_NETWORK=n.MEDIA_ERR_NETWORK||2,n.MEDIA_ERR_DECODE=n.MEDIA_ERR_DECODE||3,n.MEDIA_ERR_NONE_SUPPORTED=n.MEDIA_ERR_NONE_SUPPORTED||4,n.MEDIA_ERR_SRC_NOT_SUPPORTED=n.MEDIA_ERR_SRC_NOT_SUPPORTED||4,i.exports=n}),e("cordova/plugin_list",function(t,e,i){i.exports=[]}),window.cordova=t("cordova"),t("cordova/init"),window.console=t("org.apache.cordova.console-via-logger"),window.Media=t("org.apache.cordova.media.Media")}();else if(Xut.plat.isAndroid){!function(){var require,define;!function(){function t(t){var e=t.factory;return t.exports={},delete t.factory,e(require,t.exports,t),t.exports}var e={},i=[],n={};require=function(o){if(!e[o])throw"module "+o+" not found";if(o in n)throw"Cycle in require graph: "+(i.slice(n[o]).join("->")+"->"+o);if(e[o].factory)try{return n[o]=i.length,i.push(o),t(e[o])}finally{delete n[o],i.pop()}return e[o].exports},(define=function(t,i){if(e[t])throw"module "+t+" already defined";e[t]={id:t,factory:i}}).remove=function(t){delete e[t]},define.moduleMap=e}(),"object"==typeof module&&"function"==typeof require&&(module.exports.require=require,module.exports.define=define),define("cordova",function(t,e,i){function n(t,e){var i=document.createEvent("Events");if(i.initEvent(t,!1,!1),e)for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var o=t("cordova/channel");document.addEventListener("DOMContentLoaded",function(){o.onDOMContentLoaded.fire()},!1),"complete"!=document.readyState&&"interactive"!=document.readyState||o.onDOMContentLoaded.fire();var r=document.addEventListener,a=document.removeEventListener,s=window.addEventListener,l=window.removeEventListener,c={},u={};document.addEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==c[n]?c[n].subscribe(e):r.call(document,t,e,i)},window.addEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==u[n]?u[n].subscribe(e):s.call(window,t,e,i)},document.removeEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==c[n]?c[n].unsubscribe(e):a.call(document,t,e,i)},window.removeEventListener=function(t,e,i){var n=t.toLowerCase();void 0!==u[n]?u[n].unsubscribe(e):l.call(window,t,e,i)},void 0===window.console&&(window.console={log:function(){}});var h={define:define,require:t,addWindowEventHandler:function(t){return u[t]=o.create(t)},addStickyDocumentEventHandler:function(t){return c[t]=o.createSticky(t)},addDocumentEventHandler:function(t){return c[t]=o.create(t)},removeWindowEventHandler:function(t){delete u[t]},removeDocumentEventHandler:function(t){delete c[t]},getOriginalHandlers:function(){return{document:{addEventListener:r,removeEventListener:a},window:{addEventListener:s,removeEventListener:l}}},fireDocumentEvent:function(t,e,i){var o=n(t,e);void 0!==c[t]?i?c[t].fire(o):setTimeout(function(){c[t].fire(o)},0):document.dispatchEvent(o)},fireWindowEvent:function(t,e){var i=n(t,e);void 0!==u[t]?setTimeout(function(){u[t].fire(i)},0):window.dispatchEvent(i)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(t,e){try{h.callbackFromNative(t,!0,e.status,e.message,e.keepCallback)}catch(e){console.log("Error in error callback: "+t+" = "+e)}},callbackError:function(t,e){try{h.callbackFromNative(t,!1,e.status,e.message,e.keepCallback)}catch(e){console.log("Error in error callback: "+t+" = "+e)}},callbackFromNative:function(t,e,i,n,o){var r=h.callbacks[t];r&&(e&&i==h.callbackStatus.OK?r.success&&r.success(n):e||r.fail&&r.fail(n),o||delete h.callbacks[t])},addConstructor:function(t){o.onCordovaReady.subscribe(function(){try{t()}catch(t){console.log("Failed to run constructor: "+t)}})}};o.onPause=h.addDocumentEventHandler("pause"),o.onResume=h.addDocumentEventHandler("resume"),o.onDeviceReady=h.addStickyDocumentEventHandler("deviceready"),i.exports=h}),define("cordova/argscheck",function(t,e,i){function n(t,e){return/.*?\((.*?)\)/.exec(t)[1].split(", ")[e]}t("cordova/exec");var o=t("cordova/utils"),r=i.exports,a={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};r.checkArgs=function(t,e,i,s){if(r.enableChecks){for(var l,c=null,u=0;u<t.length;++u){var h=t.charAt(u),d=h.toUpperCase(),p=i[u];if("*"!=h&&(l=o.typeName(p),(null!==p&&void 0!==p||h!=d)&&l!=a[d])){c="Expected "+a[d];break}}if(c)throw c+=", but got "+l+".",c='Wrong type for parameter "'+n(s||i.callee,u)+'" of '+e+": "+c,"undefined"==typeof jasmine&&console.error(c),TypeError(c)}},r.getValue=function(t,e){return void 0===t?e:t},r.enableChecks=!0}),define("cordova/builder",function(t,e,i){function n(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.apply(i,[t[n],n])}function o(t,e,i){t[e]=i,t[e]!==i&&l.defineGetter(t,e,function(){return i})}function r(t,e,i,n){n?l.defineGetter(t,e,function(){return console.log(n),delete t[e],o(t,e,i),i}):o(t,e,i)}function a(e,i,o,c){n(i,function(i,n){try{var u=i.path?t(i.path):{};o?(void 0===e[n]?r(e,n,u,i.deprecated):void 0!==i.path&&(c?s(e[n],u):r(e,n,u,i.deprecated)),u=e[n]):void 0===e[n]?r(e,n,u,i.deprecated):u=e[n],i.children&&a(u,i.children,o,c)}catch(t){l.alert("Exception building cordova JS globals: "+t+' for key "'+n+'"')}})}function s(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype&&t.prototype.constructor===t?o(t.prototype,i,e[i]):"object"==typeof e[i]&&"object"==typeof t[i]?s(t[i],e[i]):o(t,i,e[i]))}var l=t("cordova/utils");i.exports={buildIntoButDoNotClobber:function(t,e){a(e,t,!1,!1)},buildIntoAndClobber:function(t,e){a(e,t,!0,!1)},buildIntoAndMerge:function(t,e){a(e,t,!0,!0)},recursiveMerge:s,assignOrWrapInDeprecateGetter:r}}),define("cordova/channel",function(t,e,i){function n(t){if("function"!=typeof t)throw"Function required as first argument!"}var o=t("cordova/utils"),r=1,a=function(t,e){this.type=t,this.handlers={},this.state=e?1:0,this.fireArgs=null,this.numHandlers=0,this.onHasSubscribersChange=null},s={join:function(t,e){for(var i=e.length,n=i,o=0;o<i;o++){if(0===e[o].state)throw Error("Can only use join with sticky channels.");e[o].subscribe(function(){--n||t()})}i||t()},create:function(t){return s[t]=new a(t,!1)},createSticky:function(t){return s[t]=new a(t,!0)},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(t){if(t){var e=s[t]||this.createSticky(t);this.deviceReadyChannelsMap[t]=e,this.deviceReadyChannelsArray.push(e)}},initializationComplete:function(t){var e=this.deviceReadyChannelsMap[t];e&&e.fire()}};a.prototype.subscribe=function(t,e){if(n(t),2!=this.state){var i=t,a=t.observer_guid;"object"==typeof e&&(i=o.close(e,t)),a||(a=""+r++),i.observer_guid=a,t.observer_guid=a,this.handlers[a]||(this.handlers[a]=i,1==++this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())}else t.apply(e||this,this.fireArgs)},a.prototype.unsubscribe=function(t){n(t);var e=t.observer_guid;this.handlers[e]&&(delete this.handlers[e],0===--this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.fire=function(t){var e=Array.prototype.slice.call(arguments);if(1==this.state&&(this.state=2,this.fireArgs=e),this.numHandlers){var i=[];for(var n in this.handlers)i.push(this.handlers[n]);for(var o=0;o<i.length;++o)i[o].apply(this,e);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}},s.createSticky("onDOMContentLoaded"),s.createSticky("onNativeReady"),s.createSticky("onCordovaReady"),s.createSticky("onCordovaInfoReady"),s.createSticky("onCordovaConnectionReady"),s.createSticky("onDeviceReady"),s.create("onResume"),s.create("onPause"),s.createSticky("onDestroy"),s.waitForInitialization("onCordovaReady"),s.waitForInitialization("onCordovaConnectionReady"),i.exports=s}),define("cordova/commandProxy",function(t,e,i){var n={};i.exports={add:function(t,e){return console.log("adding proxy for "+t),n[t]=e,e},remove:function(t){var e=n[t];return delete n[t],n[t]=null,e},get:function(t,e){return n[t]?n[t][e]:null}}}),define("cordova/common",function(t,e,i){i.exports={defaults:{cordova:{path:"cordova",children:{exec:{path:"cordova/exec"},logger:{path:"cordova/plugin/logger"}}},Cordova:{children:{exec:{path:"cordova/exec"}}},open:{path:"cordova/plugin/InAppBrowser"},navigator:{children:{notification:{path:"cordova/plugin/notification"},accelerometer:{path:"cordova/plugin/accelerometer"},battery:{path:"cordova/plugin/battery"},camera:{path:"cordova/plugin/Camera"},compass:{path:"cordova/plugin/compass"},contacts:{path:"cordova/plugin/contacts"},device:{children:{capture:{path:"cordova/plugin/capture"}}},geolocation:{path:"cordova/plugin/geolocation"},globalization:{path:"cordova/plugin/globalization"},network:{children:{connection:{path:"cordova/plugin/network",deprecated:"navigator.network.connection is deprecated. Use navigator.connection instead."}}},splashscreen:{path:"cordova/plugin/splashscreen"}}},Acceleration:{path:"cordova/plugin/Acceleration"},Camera:{path:"cordova/plugin/CameraConstants"},CameraPopoverOptions:{path:"cordova/plugin/CameraPopoverOptions"},CaptureError:{path:"cordova/plugin/CaptureError"},CaptureAudioOptions:{path:"cordova/plugin/CaptureAudioOptions"},CaptureImageOptions:{path:"cordova/plugin/CaptureImageOptions"},CaptureVideoOptions:{path:"cordova/plugin/CaptureVideoOptions"},CompassHeading:{path:"cordova/plugin/CompassHeading"},CompassError:{path:"cordova/plugin/CompassError"},ConfigurationData:{path:"cordova/plugin/ConfigurationData"},Connection:{path:"cordova/plugin/Connection"},Contact:{path:"cordova/plugin/Contact"},ContactAddress:{path:"cordova/plugin/ContactAddress"},ContactError:{path:"cordova/plugin/ContactError"},ContactField:{path:"cordova/plugin/ContactField"},ContactFindOptions:{path:"cordova/plugin/ContactFindOptions"},ContactName:{path:"cordova/plugin/ContactName"},ContactOrganization:{path:"cordova/plugin/ContactOrganization"},Coordinates:{path:"cordova/plugin/Coordinates"},device:{path:"cordova/plugin/device"},GlobalizationError:{path:"cordova/plugin/GlobalizationError"},Media:{path:"cordova/plugin/Media"},MediaError:{path:"cordova/plugin/MediaError"},MediaFile:{path:"cordova/plugin/MediaFile"},MediaFileData:{path:"cordova/plugin/MediaFileData"},Position:{path:"cordova/plugin/Position"},PositionError:{path:"cordova/plugin/PositionError"},ProgressEvent:{path:"cordova/plugin/ProgressEvent"}},clobbers:{navigator:{children:{connection:{path:"cordova/plugin/network"}}}}}}),define("cordova/exec",function(require,exports,module){function androidExec(t,e,i,n,o){void 0===jsToNativeBridgeMode&&androidExec.setJsToNativeBridgeMode(jsToNativeModes.JS_OBJECT);for(var r=0;r<o.length;r++)"ArrayBuffer"==utils.typeName(o[r])&&(o[r]=window.btoa(String.fromCharCode.apply(null,new Uint8Array(o[r]))));var a,s=i+cordova.callbackId++,l=JSON.stringify(o);if(cordova.callbacks[s]={success:function(e){a=e,t&&t(e)},fail:e},jsToNativeBridgeMode==jsToNativeModes.LOCATION_CHANGE)window.location="http://cdv_exec/"+i+"#"+n+"#"+s+"#"+l;else{var c=nativeApiProvider.get().exec(i,n,s,l);androidExec.processMessages(c)}return cordova.callbacks[s]&&(t||e?cordova.callbacks[s].success=t:delete cordova.callbacks[s]),a}function pollOnce(){var t=nativeApiProvider.get().retrieveJsMessages();androidExec.processMessages(t)}function pollingTimerFunc(){pollEnabled&&(pollOnce(),setTimeout(pollingTimerFunc,50))}function hookOnlineApis(){function t(t){cordova.fireWindowEvent(t.type)}window.addEventListener("online",pollOnce,!1),window.addEventListener("offline",pollOnce,!1),cordova.addWindowEventHandler("online"),cordova.addWindowEventHandler("offline"),document.addEventListener("online",t,!1),document.addEventListener("offline",t,!1)}function processMessage(message){try{var firstChar=message.charAt(0);if("J"==firstChar)eval(message.slice(1));else if("S"==firstChar||"F"==firstChar){var success="S"==firstChar,keepCallback="1"==message.charAt(1),spaceIdx=message.indexOf(" ",2),status=+message.slice(2,spaceIdx),nextSpaceIdx=message.indexOf(" ",spaceIdx+1),callbackId=message.slice(spaceIdx+1,nextSpaceIdx),payloadKind=message.charAt(nextSpaceIdx+1),payload;if("s"==payloadKind)payload=message.slice(nextSpaceIdx+2);else if("t"==payloadKind)payload=!0;else if("f"==payloadKind)payload=!1;else if("N"==payloadKind)payload=null;else if("n"==payloadKind)payload=+message.slice(nextSpaceIdx+2);else if("A"==payloadKind){for(var data=message.slice(nextSpaceIdx+2),bytes=window.atob(data),arraybuffer=new Uint8Array(bytes.length),i=0;i<bytes.length;i++)arraybuffer[i]=bytes.charCodeAt(i);payload=arraybuffer.buffer}else payload=JSON.parse(message.slice(nextSpaceIdx+1));cordova.callbackFromNative(callbackId,success,status,payload,keepCallback)}else console.log("processMessage failed: invalid message:"+message)}catch(t){console.log("processMessage failed: Message: "+message),console.log("processMessage failed: Error: "+t),console.log("processMessage failed: Stack: "+t.stack)}}var cordova=require("cordova"),nativeApiProvider=require("cordova/plugin/android/nativeapiprovider"),utils=require("cordova/utils"),jsToNativeModes={PROMPT:0,JS_OBJECT:1,LOCATION_CHANGE:2},nativeToJsModes={POLLING:0,LOAD_URL:1,ONLINE_EVENT:2,PRIVATE_API:3},jsToNativeBridgeMode,nativeToJsBridgeMode=nativeToJsModes.ONLINE_EVENT,pollEnabled=!1,messagesFromNative=[];hookOnlineApis(),androidExec.jsToNativeModes=jsToNativeModes,androidExec.nativeToJsModes=nativeToJsModes,androidExec.setJsToNativeBridgeMode=function(t){t!=jsToNativeModes.JS_OBJECT||window._cordovaNative||(console.log("Falling back on PROMPT mode since _cordovaNative is missing."),t=jsToNativeModes.PROMPT),nativeApiProvider.setPreferPrompt(t==jsToNativeModes.PROMPT),jsToNativeBridgeMode=t},androidExec.setNativeToJsBridgeMode=function(t){t!=nativeToJsBridgeMode&&(nativeToJsBridgeMode==nativeToJsModes.POLLING&&(pollEnabled=!1),nativeToJsBridgeMode=t,nativeApiProvider.get().setNativeToJsBridgeMode(t),t==nativeToJsModes.POLLING&&(pollEnabled=!0,setTimeout(pollingTimerFunc,1)))},androidExec.processMessages=function(t){if(t)for(messagesFromNative.push(t);messagesFromNative.length;)if("*"!=(t=messagesFromNative.shift())){var e=t.indexOf(" "),i=+t.slice(0,e),n=t.substr(e+1,i);(t=t.slice(e+i+1))&&messagesFromNative.unshift(t),n&&processMessage(n)}else window.setTimeout(pollOnce,0)},module.exports=androidExec}),define("cordova/modulemapper",function(t,e,i){function n(t,e,i,n){if(!(e in l))throw new Error("Module "+e+" does not exist.");r.push(t,e,i),n&&(a[i]=n)}function o(t,e){if(!t)return e;for(var i,n=t.split("."),o=e,r=0;i=n[r];++r)o[i]=o[i]||{};return o[n[r-1]]}var r,a,s=t("cordova/builder"),l=define.moduleMap;e.reset=function(){r=[],a={}},e.clobbers=function(t,e,i){n("c",t,e,i)},e.merges=function(t,e,i){n("m",t,e,i)},e.defaults=function(t,e,i){n("d",t,e,i)},e.mapModules=function(e){var i={};e.CDV_origSymbols=i;for(var n=0,l=r.length;n<l;n+=3){var c=r[n],u=r[n+1],h=r[n+2],d=h.lastIndexOf("."),p=h.substr(0,d),f=h.substr(d+1),g=t(u),v=h in a?"Access made to deprecated symbol: "+h+". "+v:null,m=o(p,e),y=m[f];"m"==c&&y?s.recursiveMerge(y,g):("d"==c&&!y||"d"!=c)&&(y&&(i[h]=y),s.assignOrWrapInDeprecateGetter(m,f,g,v))}},e.getOriginalSymbol=function(t,e){var i=t.CDV_origSymbols;if(i&&e in i)return i[e];for(var n=e.split("."),o=t,r=0;r<n.length;++r)o=o&&o[n[r]];return o},e.loadMatchingModules=function(e){for(var i in l)e.exec(i)&&t(i)},e.reset()}),define("cordova/platform",function(t,e,i){i.exports={id:"android",initialize:function(){var e=t("cordova/channel"),i=t("cordova"),n=t("cordova/exec"),o=t("cordova/modulemapper");o.loadMatchingModules(/cordova.*\/symbols$/),o.mapModules(window),i.addDocumentEventHandler("backbutton").onHasSubscribersChange=function(){n(null,null,"App","overrideBackbutton",[1==this.numHandlers])},i.addDocumentEventHandler("menubutton"),i.addDocumentEventHandler("searchbutton");var r=t("cordova/plugin/android/storage");if(void 0===window.openDatabase)window.openDatabase=r.openDatabase;else{var a=window.openDatabase;window.openDatabase=function(t,e,i,n){var o=null;try{o=a(t,e,i,n)}catch(t){if(18!==t.code)throw t;o=null}return null===o?r.openDatabase(t,e,i,n):o}}void 0!==window.localStorage&&null!==window.localStorage||(window.localStorage=new r.CupcakeLocalStorage),e.join(function(){n(null,null,"App","show",[])},[e.onCordovaReady])},clobbers:{navigator:{children:{app:{path:"cordova/plugin/android/app"}}},File:{path:"cordova/plugin/File"},FileReader:{path:"cordova/plugin/FileReader"},FileError:{path:"cordova/plugin/FileError"},MediaError:{path:"cordova/plugin/MediaError"},open:{path:"cordova/plugin/InAppBrowser"}},merges:{device:{path:"cordova/plugin/android/device"},navigator:{children:{notification:{path:"cordova/plugin/android/notification"}}}}}}),define("cordova/plugin/Acceleration",function(t,e,i){i.exports=function(t,e,i,n){this.x=t,this.y=e,this.z=i,this.timestamp=n||(new Date).getTime()}}),define("cordova/plugin/Camera",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/plugin/CameraConstants"),a={};for(var s in r)a[s]=r[s];a.getPicture=function(t,e,i){n.checkArgs("fFO","Camera.getPicture",arguments),i=i||{};var a=n.getValue,s=a(i.quality,50),l=a(i.destinationType,r.DestinationType.FILE_URI),c=a(i.sourceType,r.PictureSourceType.CAMERA),u=a(i.targetWidth,-1),h=a(i.targetHeight,-1),d=a(i.encodingType,r.EncodingType.JPEG),p=a(i.mediaType,r.MediaType.PICTURE),f=!!i.allowEdit,g=!!i.correctOrientation,v=!!i.saveToPhotoAlbum,m=a(i.popoverOptions,null);o(t,e,"Camera","takePicture",[s,l,c,u,h,d,p,f,g,v,m])},a.cleanup=function(t,e){o(t,e,"Camera","cleanup",[])},i.exports=a}),define("cordova/plugin/CameraConstants",function(t,e,i){i.exports={DestinationType:{DATA_URL:0,FILE_URI:1,NATIVE_URI:2},EncodingType:{JPEG:0,PNG:1},MediaType:{PICTURE:0,VIDEO:1,ALLMEDIA:2},PictureSourceType:{PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},PopoverArrowDirection:{ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15}}}),define("cordova/plugin/CameraPopoverOptions",function(t,e,i){var n=t("cordova/plugin/CameraConstants");i.exports=function(t,e,i,o,r){this.x=t||0,this.y=e||32,this.width=i||320,this.height=o||480,this.arrowDir=r||n.PopoverArrowDirection.ARROW_ANY}}),define("cordova/plugin/CaptureAudioOptions",function(t,e,i){i.exports=function(){this.limit=1,this.duration=0,this.mode=null}}),define("cordova/plugin/CaptureError",function(t,e,i){var n=function(t){this.code=t||null};n.CAPTURE_INTERNAL_ERR=0,n.CAPTURE_APPLICATION_BUSY=1,n.CAPTURE_INVALID_ARGUMENT=2,n.CAPTURE_NO_MEDIA_FILES=3,n.CAPTURE_NOT_SUPPORTED=20,i.exports=n}),define("cordova/plugin/CaptureImageOptions",function(t,e,i){i.exports=function(){this.limit=1,this.mode=null}}),define("cordova/plugin/CaptureVideoOptions",function(t,e,i){i.exports=function(){this.limit=1,this.duration=0,this.mode=null}}),define("cordova/plugin/CompassError",function(t,e,i){var n=function(t){this.code=void 0!==t?t:null};n.COMPASS_INTERNAL_ERR=0,n.COMPASS_NOT_SUPPORTED=20,i.exports=n}),define("cordova/plugin/CompassHeading",function(t,e,i){i.exports=function(t,e,i,n){this.magneticHeading=t||null,this.trueHeading=e||null,this.headingAccuracy=i||null,this.timestamp=n||(new Date).getTime()}}),define("cordova/plugin/ConfigurationData",function(t,e,i){i.exports=function(){this.type=null,this.height=0,this.width=0}}),define("cordova/plugin/Connection",function(t,e,i){i.exports={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",NONE:"none"}}),define("cordova/plugin/Contact",function(t,e,i){function n(t){var e=t.birthday;try{t.birthday=new Date(parseFloat(e))}catch(t){console.log("Cordova Contact convertIn error: exception creating date.")}return t}function o(t){var e=t.birthday;if(null!==e){if(!l.isDate(e))try{e=new Date(e)}catch(t){e=null}l.isDate(e)&&(e=e.valueOf()),t.birthday=e}return t}var r=t("cordova/argscheck"),a=t("cordova/exec"),s=t("cordova/plugin/ContactError"),l=t("cordova/utils"),c=function(t,e,i,n,o,r,a,s,l,c,u,h,d,p){this.id=t||null,this.rawId=null,this.displayName=e||null,this.name=i||null,this.nickname=n||null,this.phoneNumbers=o||null,this.emails=r||null,this.addresses=a||null,this.ims=s||null,this.organizations=l||null,this.birthday=c||null,this.note=u||null,this.photos=h||null,this.categories=d||null,this.urls=p||null};c.prototype.remove=function(t,e){r.checkArgs("FF","Contact.remove",arguments);var i=e&&function(t){e(new s(t))};null===this.id?i(s.UNKNOWN_ERROR):a(t,i,"Contacts","remove",[this.id])},c.prototype.clone=function(){function t(t){if(t)for(var e=0;e<t.length;++e)t[e].id=null}var e=l.clone(this);return e.id=null,e.rawId=null,t(e.phoneNumbers),t(e.emails),t(e.addresses),t(e.ims),t(e.organizations),t(e.categories),t(e.photos),t(e.urls),e},c.prototype.save=function(e,i){r.checkArgs("FFO","Contact.save",arguments);var c=i&&function(t){i(new s(t))},u=o(l.clone(this));a(function(i){if(i){if(e){var o=t("cordova/plugin/contacts").create(i);e(n(o))}}else c(s.UNKNOWN_ERROR)},c,"Contacts","save",[u])},i.exports=c}),define("cordova/plugin/ContactAddress",function(t,e,i){i.exports=function(t,e,i,n,o,r,a,s){this.id=null,this.pref=void 0!==t&&t,this.type=e||null,this.formatted=i||null,this.streetAddress=n||null,this.locality=o||null,this.region=r||null,this.postalCode=a||null,this.country=s||null}}),define("cordova/plugin/ContactError",function(t,e,i){var n=function(t){this.code=void 0!==t?t:null};n.UNKNOWN_ERROR=0,n.INVALID_ARGUMENT_ERROR=1,n.TIMEOUT_ERROR=2,n.PENDING_OPERATION_ERROR=3,n.IO_ERROR=4,n.NOT_SUPPORTED_ERROR=5,n.PERMISSION_DENIED_ERROR=20,i.exports=n}),define("cordova/plugin/ContactField",function(t,e,i){i.exports=function(t,e,i){this.id=null,this.type=t&&t.toString()||null,this.value=e&&e.toString()||null,this.pref=void 0!==i&&i}}),define("cordova/plugin/ContactFindOptions",function(t,e,i){i.exports=function(t,e){this.filter=t||"",this.multiple=void 0!==e&&e}}),define("cordova/plugin/ContactName",function(t,e,i){i.exports=function(t,e,i,n,o,r){this.formatted=t||null,this.familyName=e||null,this.givenName=i||null,this.middleName=n||null,this.honorificPrefix=o||null,this.honorificSuffix=r||null}}),define("cordova/plugin/ContactOrganization",function(t,e,i){i.exports=function(t,e,i,n,o){this.id=null,this.pref=void 0!==t&&t,this.type=e||null,this.name=i||null,this.department=n||null,this.title=o||null}}),define("cordova/plugin/Coordinates",function(t,e,i){i.exports=function(t,e,i,n,o,r,a){this.latitude=t,this.longitude=e,this.accuracy=n,this.altitude=void 0!==i?i:null,this.heading=void 0!==o?o:null,this.speed=void 0!==r?r:null,0!==this.speed&&null!==this.speed||(this.heading=NaN),this.altitudeAccuracy=void 0!==a?a:null}}),define("cordova/plugin/DirectoryEntry",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a=t("cordova/plugin/Entry"),s=t("cordova/plugin/FileError"),l=t("cordova/plugin/DirectoryReader"),c=function(t,e){c.__super__.constructor.call(this,!1,!0,t,e)};o.extend(c,a),c.prototype.createReader=function(){return new l(this.fullPath)},c.prototype.getDirectory=function(t,e,i,o){n.checkArgs("sOFF","DirectoryEntry.getDirectory",arguments),r(i&&function(t){var e=new c(t.name,t.fullPath);i(e)},o&&function(t){o(new s(t))},"File","getDirectory",[this.fullPath,t,e])},c.prototype.removeRecursively=function(t,e){n.checkArgs("FF","DirectoryEntry.removeRecursively",arguments),r(t,e&&function(t){e(new s(t))},"File","removeRecursively",[this.fullPath])},c.prototype.getFile=function(e,i,o,a){n.checkArgs("sOFF","DirectoryEntry.getFile",arguments),r(o&&function(e){var i=new(t("cordova/plugin/FileEntry"))(e.name,e.fullPath);o(i)},a&&function(t){a(new s(t))},"File","getFile",[this.fullPath,e,i])},i.exports=c}),define("cordova/plugin/DirectoryReader",function(t,e,i){function n(t){this.path=t||null}var o=t("cordova/exec"),r=t("cordova/plugin/FileError");n.prototype.readEntries=function(e,i){o("function"!=typeof e?null:function(i){for(var n=[],o=0;o<i.length;o++){var r=null;i[o].isDirectory?r=new(t("cordova/plugin/DirectoryEntry")):i[o].isFile&&(r=new(t("cordova/plugin/FileEntry"))),r.isDirectory=i[o].isDirectory,r.isFile=i[o].isFile,r.name=i[o].name,r.fullPath=i[o].fullPath,n.push(r)}e(n)},"function"!=typeof i?null:function(t){i(new r(t))},"File","readEntries",[this.path])},i.exports=n}),define("cordova/plugin/Entry",function(t,e,i){function n(t,e,i,n,o){this.isFile=!!t,this.isDirectory=!!e,this.name=i||"",this.fullPath=n||"",this.filesystem=o||null}var o=t("cordova/argscheck"),r=t("cordova/exec"),a=t("cordova/plugin/FileError"),s=t("cordova/plugin/Metadata");n.prototype.getMetadata=function(t,e){o.checkArgs("FF","Entry.getMetadata",arguments),r(t&&function(e){var i=new s(e);t(i)},e&&function(t){e(new a(t))},"File","getMetadata",[this.fullPath])},n.prototype.setMetadata=function(t,e,i){o.checkArgs("FFO","Entry.setMetadata",arguments),r(t,e,"File","setMetadata",[this.fullPath,i])},n.prototype.moveTo=function(e,i,n,s){o.checkArgs("oSFF","Entry.moveTo",arguments);var l=s&&function(t){s(new a(t))},c=this.fullPath,u=i||this.name;r(function(e){if(e){if(n){var i=e.isDirectory?new(t("cordova/plugin/DirectoryEntry"))(e.name,e.fullPath):new(t("cordova/plugin/FileEntry"))(e.name,e.fullPath);n(i)}}else l&&l(a.NOT_FOUND_ERR)},l,"File","moveTo",[c,e.fullPath,u])},n.prototype.copyTo=function(e,i,n,s){o.checkArgs("oSFF","Entry.copyTo",arguments);var l=s&&function(t){s(new a(t))},c=this.fullPath,u=i||this.name;r(function(e){if(e){if(n){var i=e.isDirectory?new(t("cordova/plugin/DirectoryEntry"))(e.name,e.fullPath):new(t("cordova/plugin/FileEntry"))(e.name,e.fullPath);n(i)}}else l&&l(a.NOT_FOUND_ERR)},l,"File","copyTo",[c,e.fullPath,u])},n.prototype.toURL=function(){return this.fullPath},n.prototype.toURI=function(t){return console.log("DEPRECATED: Update your code to use 'toURL'"),this.toURL()},n.prototype.remove=function(t,e){o.checkArgs("FF","Entry.remove",arguments),r(t,e&&function(t){e(new a(t))},"File","remove",[this.fullPath])},n.prototype.getParent=function(e,i){o.checkArgs("FF","Entry.getParent",arguments),r(e&&function(i){var n=new(t("cordova/plugin/DirectoryEntry"))(i.name,i.fullPath);e(n)},i&&function(t){i(new a(t))},"File","getParent",[this.fullPath])},i.exports=n}),define("cordova/plugin/File",function(t,e,i){var n=function(t,e,i,n,o){this.name=t||"",this.fullPath=e||null,this.type=i||null,this.lastModifiedDate=n||null,this.size=o||0,this.start=0,this.end=this.size};n.prototype.slice=function(t,e){var i=this.end-this.start,o=0,r=i;arguments.length&&(o=t<0?Math.max(i+t,0):Math.min(i,t)),arguments.length>=2&&(r=e<0?Math.max(i+e,0):Math.min(e,i));var a=new n(this.name,this.fullPath,this.type,this.lastModifiedData,this.size);return a.start=this.start+o,a.end=this.start+r,a},i.exports=n}),define("cordova/plugin/FileEntry",function(t,e,i){var n=t("cordova/utils"),o=t("cordova/exec"),r=t("cordova/plugin/Entry"),a=t("cordova/plugin/FileWriter"),s=t("cordova/plugin/File"),l=t("cordova/plugin/FileError"),c=function(t,e){c.__super__.constructor.apply(this,[!0,!1,t,e])};n.extend(c,r),c.prototype.createWriter=function(t,e){this.file(function(i){var n=new a(i);null===n.fileName||""===n.fileName?e&&e(new l(l.INVALID_STATE_ERR)):t&&t(n)},e)},c.prototype.file=function(t,e){o(t&&function(e){var i=new s(e.name,e.fullPath,e.type,e.lastModifiedDate,e.size);t(i)},e&&function(t){e(new l(t))},"File","getFileMetadata",[this.fullPath])},i.exports=c}),define("cordova/plugin/FileError",function(t,e,i){function n(t){this.code=t||null}n.NOT_FOUND_ERR=1,n.SECURITY_ERR=2,n.ABORT_ERR=3,n.NOT_READABLE_ERR=4,n.ENCODING_ERR=5,n.NO_MODIFICATION_ALLOWED_ERR=6,n.INVALID_STATE_ERR=7,n.SYNTAX_ERR=8,n.INVALID_MODIFICATION_ERR=9,n.QUOTA_EXCEEDED_ERR=10,n.TYPE_MISMATCH_ERR=11,n.PATH_EXISTS_ERR=12,i.exports=n}),define("cordova/plugin/FileReader",function(t,e,i){function n(t){s.defineGetterSetter(h.prototype,t,function(){return this._realReader[t]||null},function(e){this._realReader[t]=e})}function o(t,e){if(t.readyState==h.LOADING)throw new l(l.INVALID_STATE_ERR);if(t._result=null,t._error=null,t._readyState=h.LOADING,"string"==typeof e)console.warning("Using a string argument with FileReader.readAs functions is deprecated."),t._fileName=e;else{if("string"!=typeof e.fullPath)return t._fileName="",!0;t._fileName=e.fullPath}t.onloadstart&&t.onloadstart(new c("loadstart",{target:t}))}var r=t("cordova/exec"),a=t("cordova/modulemapper"),s=t("cordova/utils"),l=(t("cordova/plugin/File"),t("cordova/plugin/FileError")),c=t("cordova/plugin/ProgressEvent"),u=a.getOriginalSymbol(this,"FileReader"),h=function(){this._readyState=0,this._error=null,this._result=null,this._fileName="",this._realReader=u?new u:{}};h.EMPTY=0,h.LOADING=1,h.DONE=2,s.defineGetter(h.prototype,"readyState",function(){return this._fileName?this._readyState:this._realReader.readyState}),s.defineGetter(h.prototype,"error",function(){return this._fileName?this._error:this._realReader.error}),s.defineGetter(h.prototype,"result",function(){return this._fileName?this._result:this._realReader.result}),n("onloadstart"),n("onprogress"),n("onload"),n("onerror"),n("onloadend"),n("onabort"),h.prototype.abort=function(){if(u&&!this._fileName)return this._realReader.abort();this._result=null,this._readyState!=h.DONE&&this._readyState!=h.EMPTY&&(this._readyState=h.DONE,"function"==typeof this.onabort&&this.onabort(new c("abort",{target:this})),"function"==typeof this.onloadend&&this.onloadend(new c("loadend",{target:this})))},h.prototype.readAsText=function(t,e){if(o(this,t))return this._realReader.readAsText(t,e);var i=e||"UTF-8",n=this,a=[this._fileName,i];t.end<t.size?a.push(t.start,t.end):t.start>0&&a.push(t.start),r(function(t){n._readyState!==h.DONE&&(n._result=t,"function"==typeof n.onload&&n.onload(new c("load",{target:n})),n._readyState=h.DONE,"function"==typeof n.onloadend&&n.onloadend(new c("loadend",{target:n})))},function(t){n._readyState!==h.DONE&&(n._readyState=h.DONE,n._result=null,n._error=new l(t),"function"==typeof n.onerror&&n.onerror(new c("error",{target:n})),"function"==typeof n.onloadend&&n.onloadend(new c("loadend",{target:n})))},"File","readAsText",a)},h.prototype.readAsDataURL=function(t){if(o(this,t))return this._realReader.readAsDataURL(t);var e=this,i=[this._fileName];t.end<t.size?i.push(t.start,t.end):t.start>0&&i.push(t.start),r(function(t){e._readyState!==h.DONE&&(e._readyState=h.DONE,e._result=t,"function"==typeof e.onload&&e.onload(new c("load",{target:e})),"function"==typeof e.onloadend&&e.onloadend(new c("loadend",{target:e})))},function(t){e._readyState!==h.DONE&&(e._readyState=h.DONE,e._result=null,e._error=new l(t),"function"==typeof e.onerror&&e.onerror(new c("error",{target:e})),"function"==typeof e.onloadend&&e.onloadend(new c("loadend",{target:e})))},"File","readAsDataURL",i)},h.prototype.readAsBinaryString=function(t){if(o(this,t))return this._realReader.readAsBinaryString(t);console.log('method "readAsBinaryString" is not supported at this time.'),this.abort()},h.prototype.readAsArrayBuffer=function(t){if(o(this,t))return this._realReader.readAsArrayBuffer(t);console.log("This method is not supported at this time."),this.abort()},i.exports=h}),define("cordova/plugin/FileSystem",function(t,e,i){var n=t("cordova/plugin/DirectoryEntry");i.exports=function(t,e){this.name=t||null,e&&(this.root=new n(e.name,e.fullPath))}}),define("cordova/plugin/FileTransfer",function(t,e,i){function n(t){var e=new s;return e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,e}var o=t("cordova/argscheck"),r=t("cordova/exec"),a=t("cordova/plugin/FileTransferError"),s=t("cordova/plugin/ProgressEvent"),l=0,c=function(){this._id=++l,this.onprogress=null};c.prototype.upload=function(t,e,i,s,l,c){o.checkArgs("ssFFO*","FileTransfer.upload",arguments);var u=null,h=null,d=null,p=null,f=!0,g=null;l&&(u=l.fileKey,h=l.fileName,d=l.mimeType,g=l.headers,null===l.chunkedMode&&void 0===l.chunkedMode||(f=l.chunkedMode),p=l.params?l.params:{});var v=this;r(function(t){void 0!==t.lengthComputable?v.onprogress&&v.onprogress(n(t)):i&&i(t)},s&&function(t){var e=new a(t.code,t.source,t.target,t.http_status);s(e)},"FileTransfer","upload",[t,e,u,h,d,p,c,f,g,this._id])},c.prototype.download=function(e,i,s,l,c){o.checkArgs("ssFF*","FileTransfer.download",arguments);var u=this;r(function(e){if(void 0!==e.lengthComputable){if(u.onprogress)return u.onprogress(n(e))}else if(s){var i=null;e.isDirectory?i=new(t("cordova/plugin/DirectoryEntry")):e.isFile&&(i=new(t("cordova/plugin/FileEntry"))),i.isDirectory=e.isDirectory,i.isFile=e.isFile,i.name=e.name,i.fullPath=e.fullPath,s(i)}},l&&function(t){var e=new a(t.code,t.source,t.target,t.http_status);l(e)},"FileTransfer","download",[e,i,c,this._id])},c.prototype.abort=function(t,e){r(t,e,"FileTransfer","abort",[this._id])},i.exports=c}),define("cordova/plugin/FileTransferError",function(t,e,i){var n=function(t,e,i,n){this.code=t||null,this.source=e||null,this.target=i||null,this.http_status=n||null};n.FILE_NOT_FOUND_ERR=1,n.INVALID_URL_ERR=2,n.CONNECTION_ERR=3,n.ABORT_ERR=4,i.exports=n}),define("cordova/plugin/FileUploadOptions",function(t,e,i){i.exports=function(t,e,i,n,o){this.fileKey=t||null,this.fileName=e||null,this.mimeType=i||null,this.params=n||null,this.headers=o||null}}),define("cordova/plugin/FileUploadResult",function(t,e,i){i.exports=function(){this.bytesSent=0,this.responseCode=null,this.response=null}}),define("cordova/plugin/FileWriter",function(t,e,i){var n=t("cordova/exec"),o=t("cordova/plugin/FileError"),r=t("cordova/plugin/ProgressEvent"),a=function(t){this.fileName="",this.length=0,t&&(this.fileName=t.fullPath||t,this.length=t.size||0),this.position=0,this.readyState=0,this.result=null,this.error=null,this.onwritestart=null,this.onprogress=null,this.onwrite=null,this.onwriteend=null,this.onabort=null,this.onerror=null};a.INIT=0,a.WRITING=1,a.DONE=2,a.prototype.abort=function(){if(this.readyState===a.DONE||this.readyState===a.INIT)throw new o(o.INVALID_STATE_ERR);this.error=new o(o.ABORT_ERR),this.readyState=a.DONE,"function"==typeof this.onabort&&this.onabort(new r("abort",{target:this})),"function"==typeof this.onwriteend&&this.onwriteend(new r("writeend",{target:this}))},a.prototype.write=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);this.readyState=a.WRITING;var e=this;"function"==typeof e.onwritestart&&e.onwritestart(new r("writestart",{target:e})),n(function(t){e.readyState!==a.DONE&&(e.position+=t,e.length=e.position,e.readyState=a.DONE,"function"==typeof e.onwrite&&e.onwrite(new r("write",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.error=new o(t),"function"==typeof e.onerror&&e.onerror(new r("error",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},"File","write",[this.fileName,t,this.position])},a.prototype.seek=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);(t||0===t)&&(t<0?this.position=Math.max(t+this.length,0):t>this.length?this.position=this.length:this.position=t)},a.prototype.truncate=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);this.readyState=a.WRITING;var e=this;"function"==typeof e.onwritestart&&e.onwritestart(new r("writestart",{target:this})),n(function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.length=t,e.position=Math.min(e.position,t),"function"==typeof e.onwrite&&e.onwrite(new r("write",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.error=new o(t),"function"==typeof e.onerror&&e.onerror(new r("error",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},"File","truncate",[this.fileName,t])},i.exports=a}),define("cordova/plugin/Flags",function(t,e,i){i.exports=function(t,e){this.create=t||!1,this.exclusive=e||!1}}),define("cordova/plugin/GlobalizationError",function(t,e,i){var n=function(t,e){this.code=t||null,this.message=e||""};n.UNKNOWN_ERROR=0,n.FORMATTING_ERROR=1,n.PARSING_ERROR=2,n.PATTERN_ERROR=3,i.exports=n}),define("cordova/plugin/InAppBrowser",function(t,e,i){function n(){this.channels={loadstart:r.create("loadstart"),loadstop:r.create("loadstop"),exit:r.create("exit")}}var o=t("cordova/exec"),r=t("cordova/channel");n.prototype={_eventHandler:function(t){t.type in this.channels&&this.channels[t.type].fire(t)},close:function(t){o(null,null,"InAppBrowser","close",[])},addEventListener:function(t,e){t in this.channels&&this.channels[t].subscribe(e)},removeEventListener:function(t,e){t in this.channels&&this.channels[t].unsubscribe(e)}},i.exports=function(t,e,i){var r=new n;return o(function(t){r._eventHandler(t)},null,"InAppBrowser","open",[t,e,i]),r},i.exports._orig=window.open}),define("cordova/plugin/LocalFileSystem",function(t,e,i){t("cordova/exec");var n=function(){};n.TEMPORARY=0,n.PERSISTENT=1,i.exports=n}),define("cordova/plugin/Media",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a={},s=function(t,e,i,s){n.checkArgs("SFFF","Media",arguments),this.id=o.createUUID(),a[this.id]=this,this.src=t,this.successCallback=e,this.errorCallback=i,this.statusCallback=s,this._duration=-1,this._position=-1,r(null,this.errorCallback,"Media","create",[this.id,this.src])};s.MEDIA_STATE=1,s.MEDIA_DURATION=2,s.MEDIA_POSITION=3,s.MEDIA_ERROR=9,s.MEDIA_NONE=0,s.MEDIA_STARTING=1,s.MEDIA_RUNNING=2,s.MEDIA_PAUSED=3,s.MEDIA_STOPPED=4,s.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],s.get=function(t){return a[t]},s.prototype.play=function(t){r(null,null,"Media","startPlayingAudio",[this.id,this.src,t])},s.prototype.stop=function(){var t=this;r(function(){t._position=0},this.errorCallback,"Media","stopPlayingAudio",[this.id])},s.prototype.seekTo=function(t){var e=this;r(function(t){e._position=t},this.errorCallback,"Media","seekToAudio",[this.id,t])},s.prototype.pause=function(){r(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},s.prototype.getDuration=function(){return this._duration},s.prototype.getCurrentPosition=function(t,e){var i=this;r(function(e){i._position=e,t(e)},e,"Media","getCurrentPositionAudio",[this.id])},s.prototype.startRecord=function(){r(null,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},s.prototype.stopRecord=function(){r(null,this.errorCallback,"Media","stopRecordingAudio",[this.id])},s.prototype.release=function(){r(null,this.errorCallback,"Media","release",[this.id])},s.prototype.setVolume=function(t){r(null,null,"Media","setVolume",[this.id,t])},s.onStatus=function(t,e,i){var n=a[t];if(n)switch(e){case s.MEDIA_STATE:n.statusCallback&&n.statusCallback(i),i==s.MEDIA_STOPPED&&n.successCallback&&n.successCallback();break;case s.MEDIA_DURATION:n._duration=i;break;case s.MEDIA_ERROR:n.errorCallback&&n.errorCallback(i);break;case s.MEDIA_POSITION:n._position=Number(i);break;default:console.error&&console.error("Unhandled Media.onStatus :: "+e)}else console.error&&console.error("Received Media.onStatus callback for unknown media :: "+t)},i.exports=s}),define("cordova/plugin/MediaError",function(t,e,i){var n=window.MediaError;n||(window.MediaError=n=function(t,e){this.code=void 0!==t?t:null,this.message=e||""}),n.MEDIA_ERR_NONE_ACTIVE=n.MEDIA_ERR_NONE_ACTIVE||0,n.MEDIA_ERR_ABORTED=n.MEDIA_ERR_ABORTED||1,n.MEDIA_ERR_NETWORK=n.MEDIA_ERR_NETWORK||2,n.MEDIA_ERR_DECODE=n.MEDIA_ERR_DECODE||3,n.MEDIA_ERR_NONE_SUPPORTED=n.MEDIA_ERR_NONE_SUPPORTED||4,n.MEDIA_ERR_SRC_NOT_SUPPORTED=n.MEDIA_ERR_SRC_NOT_SUPPORTED||4,i.exports=n}),define("cordova/plugin/MediaFile",function(t,e,i){var n=t("cordova/utils"),o=t("cordova/exec"),r=t("cordova/plugin/File"),a=t("cordova/plugin/CaptureError"),s=function(t,e,i,n,o){s.__super__.constructor.apply(this,arguments)};n.extend(s,r),s.prototype.getFormatData=function(t,e){void 0===this.fullPath||null===this.fullPath?e(new a(a.CAPTURE_INVALID_ARGUMENT)):o(t,e,"Capture","getFormatData",[this.fullPath,this.type])},i.exports=s}),define("cordova/plugin/MediaFileData",function(t,e,i){i.exports=function(t,e,i,n,o){this.codecs=t||null,this.bitrate=e||0,this.height=i||0,this.width=n||0,this.duration=o||0}}),define("cordova/plugin/Metadata",function(t,e,i){i.exports=function(t){this.modificationTime=void 0!==t?new Date(t):null}}),define("cordova/plugin/Position",function(t,e,i){var n=t("cordova/plugin/Coordinates");i.exports=function(t,e){this.coords=t?new n(t.latitude,t.longitude,t.altitude,t.accuracy,t.heading,t.velocity,t.altitudeAccuracy):new n,this.timestamp=void 0!==e?e:new Date}}),define("cordova/plugin/PositionError",function(t,e,i){var n=function(t,e){this.code=t||null,this.message=e||""};n.PERMISSION_DENIED=1,n.POSITION_UNAVAILABLE=2,n.TIMEOUT=3,i.exports=n}),define("cordova/plugin/ProgressEvent",function(t,e,i){var n=function(t,e){this.type=t,this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.lengthComputable=!1,this.loaded=e&&e.loaded?e.loaded:0,this.total=e&&e.total?e.total:0,this.target=e&&e.target?e.target:null};i.exports=n}),define("cordova/plugin/accelerometer",function(t,e,i){function n(){c(function(t){var e=p.slice(0);f=new u(t.x,t.y,t.z,t.timestamp);for(var i=0,n=e.length;i<n;i++)e[i].win(f)},function(t){for(var e=p.slice(0),i=0,n=e.length;i<n;i++)e[i].fail(t)},"Accelerometer","start",[]),h=!0}function o(){c(null,null,"Accelerometer","stop",[]),h=!1}function r(t,e){return{win:t,fail:e}}function a(t){var e=p.indexOf(t);e>-1&&(p.splice(e,1),0===p.length&&o())}var s=t("cordova/argscheck"),l=t("cordova/utils"),c=t("cordova/exec"),u=t("cordova/plugin/Acceleration"),h=!1,d={},p=[],f=null,g={getCurrentAcceleration:function(t,e,i){s.checkArgs("fFO","accelerometer.getCurrentAcceleration",arguments);var o;o=r(function(e){a(o),t(e)},function(t){a(o),e&&e(t)}),p.push(o),h||n()},watchAcceleration:function(t,e,i){s.checkArgs("fFO","accelerometer.watchAcceleration",arguments);var o=i&&i.frequency&&"number"==typeof i.frequency?i.frequency:1e4,c=l.createUUID(),u=r(function(){},function(t){a(u),e&&e(t)});return p.push(u),d[c]={timer:window.setInterval(function(){f&&t(f)},o),listeners:u},h?f&&t(f):n(),c},clearWatch:function(t){t&&d[t]&&(window.clearInterval(d[t].timer),a(d[t].listeners),delete d[t])}};i.exports=g}),define("cordova/plugin/android/app",function(t,e,i){var n=t("cordova/exec");i.exports={clearCache:function(){n(null,null,"App","clearCache",[])},loadUrl:function(t,e){n(null,null,"App","loadUrl",[t,e])},cancelLoadUrl:function(){n(null,null,"App","cancelLoadUrl",[])},clearHistory:function(){n(null,null,"App","clearHistory",[])},backHistory:function(){n(null,null,"App","backHistory",[])},overrideBackbutton:function(t){n(null,null,"App","overrideBackbutton",[t])},exitApp:function(){return n(null,null,"App","exitApp",[])}}}),define("cordova/plugin/android/device",function(t,e,i){t("cordova/channel"),t("cordova/utils"),t("cordova/exec");var n=t("cordova/plugin/android/app");i.exports={overrideBackButton:function(){console.log("Device.overrideBackButton() is deprecated.  Use App.overrideBackbutton(true)."),n.overrideBackbutton(!0)},resetBackButton:function(){console.log("Device.resetBackButton() is deprecated.  Use App.overrideBackbutton(false)."),n.overrideBackbutton(!1)},exitApp:function(){console.log("Device.exitApp() is deprecated.  Use App.exitApp()."),n.exitApp()}}}),define("cordova/plugin/android/nativeapiprovider",function(t,e,i){var n=this._cordovaNative||t("cordova/plugin/android/promptbasednativeapi"),o=n;i.exports={get:function(){return o},setPreferPrompt:function(e){o=e?t("cordova/plugin/android/promptbasednativeapi"):n},set:function(t){o=t}}}),define("cordova/plugin/android/notification",function(t,e,i){var n=t("cordova/exec");i.exports={activityStart:function(t,e){void 0===t&&void 0===e&&(t="Busy",e="Please wait..."),n(null,null,"Notification","activityStart",[t,e])},activityStop:function(){n(null,null,"Notification","activityStop",[])},progressStart:function(t,e){n(null,null,"Notification","progressStart",[t,e])},progressStop:function(){n(null,null,"Notification","progressStop",[])},progressValue:function(t){n(null,null,"Notification","progressValue",[t])}}}),define("cordova/plugin/android/promptbasednativeapi",function(t,e,i){i.exports={exec:function(t,e,i,n){return prompt(n,"gap:"+JSON.stringify([t,e,i]))},setNativeToJsBridgeMode:function(t){prompt(t,"gap_bridge_mode:")},retrieveJsMessages:function(){return prompt("","gap_poll:")}}}),define("cordova/plugin/android/storage",function(t,e,i){var n=t("cordova/utils"),o=t("cordova/exec"),r=t("cordova/channel"),a={},s=function(){this.resultSet=[],this.length=0};s.prototype.item=function(t){return this.resultSet[t]};var l=function(){this.rows=new s},c=function(t){this.id=n.createUUID(),a[this.id]=this,this.resultSet=[],this.tx=t,this.tx.queryList[this.id]=this,this.successCallback=null,this.errorCallback=null},u=function(){this.id=n.createUUID(),this.successCallback=null,this.errorCallback=null,this.queryList={}};u.prototype.queryComplete=function(t){if(delete this.queryList[t],this.successCallback){var e,i=0;for(e in this.queryList)this.queryList.hasOwnProperty(e)&&i++;if(0===i)try{this.successCallback()}catch(t){console.log("Transaction error calling user success callback: "+t)}}},u.prototype.queryFailed=function(t,e){if(this.queryList={},this.errorCallback)try{this.errorCallback(e)}catch(t){console.log("Transaction error calling user error callback: "+t)}},u.prototype.executeSql=function(t,e,i,n){void 0===e&&(e=[]);var r=new c(this);a[r.id]=r,r.successCallback=i,r.errorCallback=n,o(null,null,"Storage","executeSql",[t,e,r.id])};var h=function(){};h.prototype.transaction=function(t,e,i){var n=new u;n.successCallback=i,n.errorCallback=e;try{t(n)}catch(t){if(console.log("Transaction error: "+t),n.errorCallback)try{n.errorCallback(t)}catch(e){console.log("Transaction error calling user error callback: "+t)}}};i.exports={openDatabase:function(t,e,i,n){return o(null,null,"Storage","openDatabase",[t,e,i,n]),new h},CupcakeLocalStorage:function(){function t(t){this.length=t,localStorage.length=t}r.waitForInitialization("cupcakeStorage");try{this.db=openDatabase("localStorage","1.0","localStorage",2621440);var e={};this.length=0,this.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),i.executeSql("SELECT * FROM storage",[],function(i,n){for(var o=0;o<n.rows.length;o++)e[n.rows.item(o).id]=n.rows.item(o).body;t(n.rows.length),r.initializationComplete("cupcakeStorage")})},function(t){n.alert(t.message)}),this.setItem=function(t,i){void 0===e[t]&&this.length++,e[t]=i,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("REPLACE INTO storage (id, body) values(?,?)",[t,i])})},this.getItem=function(t){return e[t]},this.removeItem=function(t){delete e[t],this.length--,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("DELETE FROM storage where id=?",[t])})},this.clear=function(){e={},this.length=0,this.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),t.executeSql("DELETE FROM storage",[])})},this.key=function(t){var i=0;for(var n in e){if(i==t)return n;i++}return null}}catch(t){return void n.alert("Database error "+t+".")}},failQuery:function(t,e){var i=a[e];if(i)try{delete a[e];var n=i.tx;if(n&&n.queryList[e]){n.queryList={};try{"function"==typeof i.errorCallback&&i.errorCallback(i.tx,t)}catch(t){console.log("executeSql error calling user error callback: "+t)}n.queryFailed(e,t)}}catch(t){console.log("executeSql error: "+t)}},completeQuery:function(t,e){var i=a[t];if(i)try{delete a[t];var n=i.tx;if(n&&n.queryList[t]){var o=new l;o.rows.resultSet=e,o.rows.length=e.length;try{"function"==typeof i.successCallback&&i.successCallback(i.tx,o)}catch(t){console.log("executeSql error calling user success callback: "+t)}n.queryComplete(t)}}catch(t){console.log("executeSql error: "+t)}}}}),define("cordova/plugin/battery",function(t,e,i){function n(){return s.channels.batterystatus.numHandlers+s.channels.batterylow.numHandlers+s.channels.batterycritical.numHandlers}var o=t("cordova"),r=t("cordova/exec"),a=function(){this._level=null,this._isPlugged=null,this.channels={batterystatus:o.addWindowEventHandler("batterystatus"),batterylow:o.addWindowEventHandler("batterylow"),batterycritical:o.addWindowEventHandler("batterycritical")};for(var t in this.channels)this.channels[t].onHasSubscribersChange=a.onHasSubscribersChange};a.onHasSubscribersChange=function(){1===this.numHandlers&&1===n()?r(s._status,s._error,"Battery","start",[]):0===n()&&r(null,null,"Battery","stop",[])},a.prototype._status=function(t){if(t){var e=s,i=t.level;e._level===i&&e._isPlugged===t.isPlugged||(o.fireWindowEvent("batterystatus",t),20!==i&&5!==i||(20===i?o.fireWindowEvent("batterylow",t):o.fireWindowEvent("batterycritical",t))),e._level=i,e._isPlugged=t.isPlugged}},a.prototype._error=function(t){console.log("Error initializing Battery: "+t)};var s=new a;i.exports=s}),define("cordova/plugin/capture",function(t,e,i){function n(t,e,i,n){r(function(t){var i,n=[];for(i=0;i<t.length;i++){var o=new a;o.name=t[i].name,o.fullPath=t[i].fullPath,o.type=t[i].type,o.lastModifiedDate=t[i].lastModifiedDate,o.size=t[i].size,n.push(o)}e(n)},i,"Capture",t,[n])}function o(){this.supportedAudioModes=[],this.supportedImageModes=[],this.supportedVideoModes=[]}var r=t("cordova/exec"),a=t("cordova/plugin/MediaFile");o.prototype.captureAudio=function(t,e,i){n("captureAudio",t,e,i)},o.prototype.captureImage=function(t,e,i){n("captureImage",t,e,i)},o.prototype.captureVideo=function(t,e,i){n("captureVideo",t,e,i)},i.exports=new o}),define("cordova/plugin/compass",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/utils"),a=t("cordova/plugin/CompassHeading"),s=t("cordova/plugin/CompassError"),l={},c={getCurrentHeading:function(t,e,i){n.checkArgs("fFO","compass.getCurrentHeading",arguments);o(function(e){var i=new a(e.magneticHeading,e.trueHeading,e.headingAccuracy,e.timestamp);t(i)},e&&function(t){var i=new s(t);e(i)},"Compass","getHeading",[i])},watchHeading:function(t,e,i){n.checkArgs("fFO","compass.watchHeading",arguments);var o=void 0!==i&&void 0!==i.frequency?i.frequency:100,a=void 0!==i&&void 0!==i.filter?i.filter:0,s=r.createUUID();return a>0?(l[s]="iOS",c.getCurrentHeading(t,e,i)):l[s]=window.setInterval(function(){c.getCurrentHeading(t,e)},o),s},clearWatch:function(t){t&&l[t]&&("iOS"!=l[t]?clearInterval(l[t]):o(null,null,"Compass","stopHeading",[]),delete l[t])}};i.exports=c}),define("cordova/plugin/console-via-logger",function(t,e,i){function n(){}var o=t("cordova/plugin/logger"),r=t("cordova/utils"),a=i.exports,s=window.console,l=!1,c={};a.useLogger=function(t){if(arguments.length&&(l=!!t),l&&o.useConsole())throw new Error("console and logger are too intertwingly");return l},a.log=function(){o.useConsole()||o.log.apply(o,[].slice.call(arguments))},a.error=function(){o.useConsole()||o.error.apply(o,[].slice.call(arguments))},a.warn=function(){o.useConsole()||o.warn.apply(o,[].slice.call(arguments))},a.info=function(){o.useConsole()||o.info.apply(o,[].slice.call(arguments))},a.debug=function(){o.useConsole()||o.debug.apply(o,[].slice.call(arguments))},a.assert=function(t){if(!t){var e=r.vformat(arguments[1],[].slice.call(arguments,2));a.log("ASSERT: "+e)}},a.clear=function(){},a.dir=function(t){a.log("%o",t)},a.dirxml=function(t){a.log(t.innerHTML)},a.trace=n,a.group=a.log,a.groupCollapsed=a.log,a.groupEnd=n,a.time=function(t){c[t]=(new Date).valueOf()},a.timeEnd=function(t){var e=c[t];if(e){var i=(new Date).valueOf()-e;a.log(t+": "+i+"ms")}else a.warn("unknown timer: "+t)},a.timeStamp=n,a.profile=n,a.profileEnd=n,a.count=n,a.exception=a.log,a.table=function(t,e){a.log("%o",t)};for(var u in a)"function"==typeof s[u]&&(a[u]=function(t,e){return function(){var i=[].slice.call(arguments);try{t.apply(s,i)}catch(t){}try{e.apply(a,i)}catch(t){}}}(s[u],a[u]))}),define("cordova/plugin/contacts",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/plugin/ContactError"),a=(t("cordova/utils"),t("cordova/plugin/Contact")),s={find:function(t,e,i,a){if(n.checkArgs("afFO","contacts.find",arguments),t.length){o(function(t){for(var i=[],n=0,o=t.length;n<o;n++)i.push(s.create(t[n]));e(i)},i,"Contacts","search",[t,a])}else i&&i(new r(r.INVALID_ARGUMENT_ERROR))},create:function(t){n.checkArgs("O","contacts.create",arguments);var e=new a;for(var i in t)void 0!==e[i]&&t.hasOwnProperty(i)&&(e[i]=t[i]);return e}};i.exports=s}),define("cordova/plugin/device",function(t,e,i){function n(){this.available=!1,this.platform=null,this.version=null,this.name=null,this.uuid=null,this.cordova=null,this.model=null;var t=this;r.onCordovaReady.subscribe(function(){t.getInfo(function(e){t.available=!0,t.platform=e.platform,t.version=e.version,t.name=e.name,t.uuid=e.uuid,t.cordova=e.cordova,t.model=e.model,r.onCordovaInfoReady.fire()},function(e){t.available=!1,a.alert("[ERROR] Error initializing Cordova: "+e)})})}var o=t("cordova/argscheck"),r=t("cordova/channel"),a=t("cordova/utils"),s=t("cordova/exec");r.waitForInitialization("onCordovaInfoReady"),n.prototype.getInfo=function(t,e){o.checkArgs("fF","Device.getInfo",arguments),s(t,e,"Device","getDeviceInfo",[])},i.exports=new n}),define("cordova/plugin/echo",function(t,e,i){var n=t("cordova/exec");i.exports=function(t,e,i,o){var r=o?"echoAsync":"echo";o||i.constructor!=ArrayBuffer||(r="echoArrayBuffer"),n(t,e,"Echo",r,[i])}}),define("cordova/plugin/file/symbols",function(t,e,i){var n=t("cordova/modulemapper");t("cordova/plugin/file/symbolshelper")(n.clobbers)}),define("cordova/plugin/file/symbolshelper",function(t,e,i){i.exports=function(t){t("cordova/plugin/DirectoryEntry","DirectoryEntry"),t("cordova/plugin/DirectoryReader","DirectoryReader"),t("cordova/plugin/Entry","Entry"),t("cordova/plugin/File","File"),t("cordova/plugin/FileEntry","FileEntry"),t("cordova/plugin/FileError","FileError"),t("cordova/plugin/FileReader","FileReader"),t("cordova/plugin/FileSystem","FileSystem"),t("cordova/plugin/FileTransfer","FileTransfer"),t("cordova/plugin/FileTransferError","FileTransferError"),t("cordova/plugin/FileUploadOptions","FileUploadOptions"),t("cordova/plugin/FileUploadResult","FileUploadResult"),t("cordova/plugin/FileWriter","FileWriter"),t("cordova/plugin/Flags","Flags"),t("cordova/plugin/LocalFileSystem","LocalFileSystem"),t("cordova/plugin/Metadata","Metadata"),t("cordova/plugin/requestFileSystem","requestFileSystem"),t("cordova/plugin/resolveLocalFileSystemURI","resolveLocalFileSystemURI")}}),define("cordova/plugin/geolocation",function(t,e,i){function n(t){var e={maximumAge:0,enableHighAccuracy:!1,timeout:1/0};return t&&(void 0!==t.maximumAge&&!isNaN(t.maximumAge)&&t.maximumAge>0&&(e.maximumAge=t.maximumAge),void 0!==t.enableHighAccuracy&&(e.enableHighAccuracy=t.enableHighAccuracy),void 0===t.timeout||isNaN(t.timeout)||(t.timeout<0?e.timeout=0:e.timeout=t.timeout)),e}function o(t,e){var i=setTimeout(function(){clearTimeout(i),i=null,t({code:l.TIMEOUT,message:"Position retrieval timed out."})},e);return i}var r=t("cordova/argscheck"),a=t("cordova/utils"),s=t("cordova/exec"),l=t("cordova/plugin/PositionError"),c=t("cordova/plugin/Position"),u={},h={lastPosition:null,getCurrentPosition:function(t,e,i){r.checkArgs("fFO","geolocation.getCurrentPosition",arguments),i=n(i);var a={timer:null},u=function(t){clearTimeout(a.timer),a.timer=null;var i=new l(t.code,t.message);e&&e(i)};return h.lastPosition&&i.maximumAge&&(new Date).getTime()-h.lastPosition.timestamp.getTime()<=i.maximumAge?t(h.lastPosition):0===i.timeout?u({code:l.TIMEOUT,message:"timeout value in PositionOptions set to 0 and no cached Position object available, or cached Position object's age exceeds provided PositionOptions' maximumAge parameter."}):(i.timeout!==1/0?a.timer=o(u,i.timeout):a.timer=!0,s(function(e){if(clearTimeout(a.timer),a.timer){var i=new c({latitude:e.latitude,longitude:e.longitude,altitude:e.altitude,accuracy:e.accuracy,heading:e.heading,velocity:e.velocity,altitudeAccuracy:e.altitudeAccuracy},void 0===e.timestamp?new Date:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp));h.lastPosition=i,t(i)}},u,"Geolocation","getLocation",[i.enableHighAccuracy,i.maximumAge])),a},watchPosition:function(t,e,i){r.checkArgs("fFO","geolocation.getCurrentPosition",arguments),i=n(i);var d=a.createUUID();u[d]=h.getCurrentPosition(t,e,i);var p=function(t){clearTimeout(u[d].timer);var i=new l(t.code,t.message);e&&e(i)};return s(function(e){clearTimeout(u[d].timer),i.timeout!==1/0&&(u[d].timer=o(p,i.timeout));var n=new c({latitude:e.latitude,longitude:e.longitude,altitude:e.altitude,accuracy:e.accuracy,heading:e.heading,velocity:e.velocity,altitudeAccuracy:e.altitudeAccuracy},void 0===e.timestamp?new Date:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp));h.lastPosition=n,t(n)},p,"Geolocation","addWatch",[d,i.enableHighAccuracy]),d},clearWatch:function(t){t&&void 0!==u[t]&&(clearTimeout(u[t].timer),u[t].timer=!1,s(null,null,"Geolocation","clearWatch",[t]))}};i.exports=h}),define("cordova/plugin/globalization",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/exec"),r=(t("cordova/plugin/GlobalizationError"),{getPreferredLanguage:function(t,e){n.checkArgs("fF","Globalization.getPreferredLanguage",arguments),o(t,e,"Globalization","getPreferredLanguage",[])},getLocaleName:function(t,e){n.checkArgs("fF","Globalization.getLocaleName",arguments),o(t,e,"Globalization","getLocaleName",[])},dateToString:function(t,e,i,r){n.checkArgs("dfFO","Globalization.dateToString",arguments);var a=t.valueOf();o(e,i,"Globalization","dateToString",[{date:a,options:r}])},stringToDate:function(t,e,i,r){n.checkArgs("sfFO","Globalization.stringToDate",arguments),o(e,i,"Globalization","stringToDate",[{dateString:t,options:r}])},getDatePattern:function(t,e,i){n.checkArgs("fFO","Globalization.getDatePattern",arguments),o(t,e,"Globalization","getDatePattern",[{options:i}])},getDateNames:function(t,e,i){n.checkArgs("fFO","Globalization.getDateNames",arguments),o(t,e,"Globalization","getDateNames",[{options:i}])},isDayLightSavingsTime:function(t,e,i){n.checkArgs("dfF","Globalization.isDayLightSavingsTime",arguments);var r=t.valueOf();o(e,i,"Globalization","isDayLightSavingsTime",[{date:r}])},getFirstDayOfWeek:function(t,e){n.checkArgs("fF","Globalization.getFirstDayOfWeek",arguments),o(t,e,"Globalization","getFirstDayOfWeek",[])},numberToString:function(t,e,i,r){n.checkArgs("nfFO","Globalization.numberToString",arguments),o(e,i,"Globalization","numberToString",[{number:t,options:r}])},stringToNumber:function(t,e,i,r){n.checkArgs("sfFO","Globalization.stringToNumber",arguments),o(e,i,"Globalization","stringToNumber",[{numberString:t,options:r}])},getNumberPattern:function(t,e,i){n.checkArgs("fFO","Globalization.getNumberPattern",arguments),o(t,e,"Globalization","getNumberPattern",[{options:i}])},getCurrencyPattern:function(t,e,i){n.checkArgs("sfF","Globalization.getCurrencyPattern",arguments),o(e,i,"Globalization","getCurrencyPattern",[{currencyCode:t}])}});i.exports=r}),define("cordova/plugin/logger",function(t,e,i){function n(t,e){e=[t].concat([].slice.call(e)),r.logLevel.apply(r,e)}for(var o,r=e,a=t("cordova/exec"),s=t("cordova/utils"),l=!0,c=[],u=!1,h=["LOG","ERROR","WARN","INFO","DEBUG"],d={},p=0;p<h.length;p++){var f=h[p];d[f]=p,r[f]=f}o=d.WARN,r.level=function(t){if(arguments.length){if(null===d[t])throw new Error("invalid logging level: "+t);o=d[t]}return h[o]},r.useConsole=function(t){if(arguments.length&&(l=!!t),l){if("undefined"==typeof console)throw new Error("global console object is not defined");if("function"!=typeof console.log)throw new Error("global console object does not have a log function");if("function"==typeof console.useLogger&&console.useLogger())throw new Error("console and logger are too intertwingly")}return l},r.log=function(t){n("LOG",arguments)},r.error=function(t){n("ERROR",arguments)},r.warn=function(t){n("WARN",arguments)},r.info=function(t){n("INFO",arguments)},r.debug=function(t){n("DEBUG",arguments)},r.logLevel=function(t,e){var i=[].slice.call(arguments,2);if(e=s.vformat(e,i),null===d[t])throw new Error("invalid logging level: "+t);if(!(d[t]>o))if(u||l)if(l){if(console.__usingCordovaLogger)throw new Error("console and logger are too intertwingly");switch(t){case r.LOG:console.log(e);break;case r.ERROR:console.log("ERROR: "+e);break;case r.WARN:console.log("WARN: "+e);break;case r.INFO:console.log("INFO: "+e);break;case r.DEBUG:console.log("DEBUG: "+e)}}else a(null,null,"Logger","logLevel",[t,e]);else c.push([t,e])},r.__onDeviceReady=function(){if(!u){u=!0;for(var t=0;t<c.length;t++){var e=c[t];r.logLevel(e[0],e[1])}c=null}},document.addEventListener("deviceready",r.__onDeviceReady,!1)}),define("cordova/plugin/network",function(t,e,i){function n(){this.type="unknown"}var o=t("cordova/exec"),r=t("cordova"),a=t("cordova/channel"),s=t("cordova/utils");"undefined"!=typeof navigator&&s.defineGetter(navigator,"onLine",function(){return"none"!=this.connection.type}),n.prototype.getInfo=function(t,e){o(t,e,"NetworkStatus","getConnectionInfo",[])};var l=new n,c=null;a.onCordovaReady.subscribe(function(){l.getInfo(function(t){l.type=t,"none"===t?c=setTimeout(function(){r.fireDocumentEvent("offline"),c=null},500):(null!==c&&(clearTimeout(c),c=null),r.fireDocumentEvent("online")),2!==a.onCordovaConnectionReady.state&&a.onCordovaConnectionReady.fire()},function(t){2!==a.onCordovaConnectionReady.state&&a.onCordovaConnectionReady.fire(),console.log("Error initializing Network Connection: "+t)})}),i.exports=l}),define("cordova/plugin/notification",function(t,e,i){var n=t("cordova/exec");i.exports={alert:function(t,e,i,o){n(e,null,"Notification","alert",[t,i||"Alert",o||"OK"])},confirm:function(t,e,i,o){n(e,null,"Notification","confirm",[t,i||"Confirm",o||"OK,Cancel"])},vibrate:function(t){n(null,null,"Notification","vibrate",[t])},beep:function(t){n(null,null,"Notification","beep",[t])}}}),define("cordova/plugin/requestFileSystem",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/plugin/FileError"),r=t("cordova/plugin/FileSystem"),a=t("cordova/exec");i.exports=function(t,e,i,s){n.checkArgs("nnFF","requestFileSystem",arguments);var l=function(t){s&&s(new o(t))};t<0||t>3?l(o.SYNTAX_ERR):a(function(t){if(t){if(i){var e=new r(t.name,t.root);i(e)}}else l(o.NOT_FOUND_ERR)},l,"File","requestFileSystem",[t,e])}}),define("cordova/plugin/resolveLocalFileSystemURI",function(t,e,i){var n=t("cordova/argscheck"),o=t("cordova/plugin/DirectoryEntry"),r=t("cordova/plugin/FileEntry"),a=t("cordova/plugin/FileError"),s=t("cordova/exec");i.exports=function(t,e,i){n.checkArgs("sFF","resolveLocalFileSystemURI",arguments);var l=function(t){i&&i(new a(t))};if(!t||t.split(":").length>2)setTimeout(function(){l(a.ENCODING_ERR)},0);else{s(function(t){var i;t?e&&(i=t.isDirectory?new o(t.name,t.fullPath):new r(t.name,t.fullPath),e(i)):l(a.NOT_FOUND_ERR)},l,"File","resolveLocalFileSystemURI",[t])}}}),define("cordova/plugin/splashscreen",function(t,e,i){var n=t("cordova/exec"),o={show:function(){n(null,null,"SplashScreen","show",[])},hide:function(){n(null,null,"SplashScreen","hide",[])}};i.exports=o}),define("cordova/utils",function(t,e,i){function n(t){for(var e="",i=0;i<t;i++){var n=parseInt(256*Math.random(),10).toString(16);1==n.length&&(n="0"+n),e+=n}return e}function o(t,e){try{switch(e){case"j":case"o":return JSON.stringify(t);case"c":return""}}catch(t){return"error JSON.stringify()ing argument: "+t}return null===t||void 0===t?Object.prototype.toString.call(t):t.toString()}var r=e;r.defineGetterSetter=function(t,e,i,n){if(Object.defineProperty){var o={get:i,configurable:!0};n&&(o.set=n),Object.defineProperty(t,e,o)}else t.__defineGetter__(e,i),n&&t.__defineSetter__(e,n)},r.defineGetter=r.defineGetterSetter,r.arrayIndexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=t.length,n=0;n<i;++n)if(t[n]==e)return n;return-1},r.arrayRemove=function(t,e){var i=r.arrayIndexOf(t,e);return-1!=i&&t.splice(i,1),-1!=i},r.typeName=function(t){return Object.prototype.toString.call(t).slice(8,-1)},r.isArray=function(t){return"Array"==r.typeName(t)},r.isDate=function(t){return"Date"==r.typeName(t)},r.clone=function(t){if(!t||"function"==typeof t||r.isDate(t)||"object"!=typeof t)return t;var e,i;if(r.isArray(t)){for(e=[],i=0;i<t.length;++i)e.push(r.clone(t[i]));return e}e={};for(i in t)i in e&&e[i]==t[i]||(e[i]=r.clone(t[i]));return e},r.close=function(t,e,i){return void 0===i?function(){return e.apply(t,arguments)}:function(){return e.apply(t,i)}},r.createUUID=function(){return n(4)+"-"+n(2)+"-"+n(2)+"-"+n(2)+"-"+n(6)},r.extend=function(){var t=function(){};return function(e,i){t.prototype=i.prototype,e.prototype=new t,e.__super__=i.prototype,e.prototype.constructor=e}}(),r.alert=function(t){window.alert?window.alert(t):console&&console.log&&console.log(t)},r.format=function(t){var e=[].slice.call(arguments,1);return r.vformat(t,e)},r.vformat=function(t,e){if(null===t||void 0===t)return"";if(1==arguments.length)return t.toString();if("string"!=typeof t)return t.toString();for(var i=/(.*?)%(.)(.*)/,n=t,r=[];e.length;){var a=e.shift(),s=i.exec(n);if(!s)break;n=s[3],r.push(s[1]),"%"!=s[2]?r.push(o(a,s[2])):(r.push("%"),e.unshift(a))}return r.push(n),r.join("")}}),window.cordova=require("cordova"),function(t){if(t.navigator){var e=function(){};e.prototype=t.navigator,t.navigator=new e}var i=require("cordova/channel"),n={boot:function(){i.join(function(){var e=require("cordova/builder"),n=require("cordova/common"),o=require("cordova/platform");e.buildIntoButDoNotClobber(n.defaults,t),e.buildIntoAndClobber(n.clobbers,t),e.buildIntoAndMerge(n.merges,t),e.buildIntoButDoNotClobber(o.defaults,t),e.buildIntoAndClobber(o.clobbers,t),e.buildIntoAndMerge(o.merges,t),o.initialize(),i.onCordovaReady.fire(),i.join(function(){require("cordova").fireDocumentEvent("deviceready")},i.deviceReadyChannelsArray)},[i.onDOMContentLoaded,i.onNativeReady])}};i.onNativeReady.subscribe(n.boot),window._nativeReady&&i.onNativeReady.fire()}(window)}();var PhoneGap=cordova}Xut.Plugin.ReadAssetsFile={readAssetsFileAction:function(t,e,i){return GLOBALIFRAME?CLIENTCONFIGT?GLOBALCONTEXT.Xut.Plugin.ReadAssetsFile.readAssetsFileAction(t,e,i):GLOBALCONTEXT.ReadAssetsFile.readAssetsFileAction(t,e,i):cordova.exec(e,i,"ReadAssetsFile","readAssetsFileAction",[t])}},Xut.Plugin.XXTEbookInit={update:function(t,e,i){return cordova.exec(e,i,"XxtebookInit","update",[t])},startup:function(t,e,i){return GLOBALIFRAME?e():cordova.exec(e,i,"XxtebookInit","startup",[t])},getInfo:function(t,e,i){return cordova.exec(e,i,"XxtebookInit","getInfo",[t])},getChapter:function(t,e,i){return cordova.exec(e,i,"XxtebookInit","getChapter",[t])},getPercent:function(t,e){return cordova.exec(t,e,"XxtebookInit","getPercent",[])}},Xut.Plugin.WebView={open:function(t,e,i,n,o,r){return GLOBALIFRAME?GLOBALCONTEXT.WebView.open(t,e,i,n,o,r):cordova.exec(null,null,"WebView","open",[t,e,i,n,o,r])},close:function(){return GLOBALIFRAME?GLOBALCONTEXT.WebView.close():cordova.exec(null,null,"WebView","close",[])},flag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.WebView.flag(t):cordova.exec(t,null,"WebView","flag",[])}},Xut.Plugin.VideoPlayer={play:function(t,e,i,n,o,r,a,s){if(GLOBALIFRAME)return GLOBALCONTEXT.VideoPlayer.play(t,e,i,0,o,r,a,s);if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){var l={paramA:i,paramB:n,paramC:o,paramD:r,paramE:a,paramF:s};return cordova.exec(t,e,"VideoPlayer","play",[l])}var c=new Array;return c[0]=i,c[1]=n,c[2]=o,c[3]=r,c[4]=a,c[5]=s,cordova.exec(t,e,"VideoPlayer","play",c)},close:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.close(t):cordova.exec(t,null,"VideoPlayer","close",[])},flag:function(t){return GLOBALIFRAME?GLOBALIFRAME.VideoPlayer.flag(t):cordova.exec(t,null,"VideoPlayer","flag",[])},errorFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.errorFlag(t):cordova.exec(t,null,"VideoPlayer","errorFlag",[])},pauseFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.pauseFlag(t):cordova.exec(t,null,"VideoPlayer","pauseFlag",[])},windowFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.windowFlag(t):cordova.exec(t,null,"VideoPlayer","windowFlag",[])},init:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.init(t,e,i):cordova.exec(t,null,"VideoPlayer","init",[e,i])}},Xut.Plugin.OpenApp={openAppAction:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.OpenApp.openAppAction(t,e,i):cordova.exec(e,i,"OpenApp","openAppAction",[t])}},Xut.Plugin.Tablet={paintPath:function(t,e){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.paintPath(t,e):cordova.exec(t,e,"Tablet","paintPath",[])},openAction:function(t,e,i,n,o,r,a,s,l,c){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.openAction(t,e,i,n,o,r,a,s,l,c):cordova.exec(l,c,"Tablet","openAction",[t,e,i,n,o,r,a,s])},closeAction:function(t,e){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.closeAction(t,e):cordova.exec(t,e,"Tablet","closeAction",[])}},Xut.Plugin.statusbarPlugin={setStatus:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.XXT.plugins.statusbarPlugin.setStatus(t,e,i):cordova.exec(t,e,"statusbarSet","set",[i])}},Xut.Plugin.iapPlugin={restore:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.restore(t,e,i):cordova.exec(t,e,"IAPPlguin","restoreGood",[i])},buyGood:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.buyGood(t,e,i):cordova.exec(t,e,"IAPPlguin","buyIAP",[i])},selectInfo:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.selectInfo(t,e,i):cordova.exec(t,e,"IAPPlguin","selectInfo",[i])}},Xut.Plugin.appStoreLinkPlugin={callProductView:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.appStoreLinkPlugin.callProductView(t,e,i):cordova.exec(t,e,"AppStoreLink","callProductView",[i])}},Xut.Plugin.DownloadPlugin={download:function(t,e,i){return cordova.exec(t,e,"DownloadPlugin","download",[i])},pause:function(t,e,i){return cordova.exec(t,e,"DownloadPlugin","pause",[i])},downloadContinue:function(t,e,i){return cordova.exec(t,e,"DownloadPlugin","downloadContinue",[i])},back:function(t,e){return cordova.exec(t,e,"DownloadPlugin","back",[])}},Xut.Plugin.bookManagerPlugins={getAppOpenWay:function(t,e){return cordova.exec(t,e,"XxtebookManager","getAppOpenWay",[])},pause:function(t,e){return cordova.exec(t,e,"XxtebookManager","pause",[])}},Xut.Plugin.UnzipPlugin={storageAction:function(t,e,i){return cordova.exec(e,i,"UnzipPlugin","storageAction",[t])}},Xut.Plugin.ReadPlugin={loadAction:function(t,e,i,n){return cordova.exec(i,n,"ReadPlugin","loadAction",[t,e])}},Xut.Plugin.DeletePlugin={deleteAction:function(t,e,i){return GLOBALIFRAME?GLOBALCONTEXT.DeletePlugin.deleteAction(directory,t,e):cordova.exec(t,e,"DeletePlugin","deleteAction",[i])}};var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(t,e,i){var n,o,r,a,s,l,c,u,h,d={css:{}},p={css:{}},f={css:{}},g={css:{}},v=_gsScope._gsDefine.globals,m={},y=document,_=y.documentElement||{},b=function(t){return y.createElementNS?y.createElementNS("http://www.w3.org/1999/xhtml",t):y.createElement(t)},x=b("div"),w=[],k=function(){return!1},T=180/Math.PI,S=Date.now||function(){return(new Date).getTime()},C=!(y.addEventListener||!y.all),I=y.createElement("div"),P=[],E={},M=0,A=/^(?:a|input|textarea|button|select)$/i,O=0,N=-1!==navigator.userAgent.toLowerCase().indexOf("android"),D=0,R={},X={},$=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,n=[],o=t.length;for(i=0;i!==o;n.push(t[i++]));return n},B=function(t){var e,i={};for(e in t)i[e]=t[e];return i},L=function(){for(var t=P.length;--t>-1;)P[t]()},F=function(t){P.push(t),1===P.length&&e.ticker.addEventListener("tick",L,this,!1,1)},H=function(t){for(var i=P.length;--i>-1;)P[i]===t&&P.splice(i,1);e.to(z,0,{overwrite:"all",delay:15,onComplete:z})},z=function(){P.length||e.ticker.removeEventListener("tick",L)},W=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},j=function(){return null!=window.pageYOffset?window.pageYOffset:null!=y.scrollTop?y.scrollTop:_.scrollTop||y.body.scrollTop||0},G=function(){return null!=window.pageXOffset?window.pageXOffset:null!=y.scrollLeft?y.scrollLeft:_.scrollLeft||y.body.scrollLeft||0},Y=function(t,e){Nt(t,"scroll",e),U(t.parentNode)||Y(t.parentNode,e)},V=function(t,e){Dt(t,"scroll",e),U(t.parentNode)||V(t.parentNode,e)},U=function(t){return!(t&&t!==_&&t!==y&&t!==y.body&&t!==window&&t.nodeType&&t.parentNode)},q=function(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,o="client"+i,r=y.body;return Math.max(0,U(t)?Math.max(_[n],r[n])-(window["inner"+i]||_[o]||r[o]):t[n]-t[o])},K=function(t){var e=U(t),i=q(t,"x"),n=q(t,"y");e?t=X:K(t.parentNode),t._gsMaxScrollX=i,t._gsMaxScrollY=n,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},Q=function(t,e){return t=t||window.event,m.pageX=t.clientX+y.body.scrollLeft+_.scrollLeft,m.pageY=t.clientY+y.body.scrollTop+_.scrollTop,e&&(t.returnValue=!1),m},Z=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},J=function(t,e){var i,o,r,a=t.style;if(void 0===a[e]){for(r=["O","Moz","ms","Ms","Webkit"],o=5,i=e.charAt(0).toUpperCase()+e.substr(1);--o>-1&&void 0===a[r[o]+i];);if(o<0)return"";e=(n=3===o?"ms":r[o])+i}return e},tt=function(t,e,i){var n=t.style;n&&(void 0===n[e]&&(e=J(t,e)),null==i?n.removeProperty?n.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):n.removeAttribute(e):void 0!==n[e]&&(n[e]=i))},et=y.defaultView?y.defaultView.getComputedStyle:k,it=/(?:Left|Right|Width)/i,nt=/(?:\d|\-|\+|=|#|\.)*/g,ot=function(t,e,i,n,o){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var r,a=it.test(e),s=t,l=x.style,c=i<0;return c&&(i=-i),"%"===n&&-1!==e.indexOf("border")?r=i/100*(a?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+at(t,"position",!0)+";line-height:0;","%"!==n&&s.appendChild?l[a?"borderLeftWidth":"borderTopWidth"]=i+n:(s=t.parentNode||y.body,l[a?"width":"height"]=i+n),s.appendChild(x),r=parseFloat(x[a?"offsetWidth":"offsetHeight"]),s.removeChild(x),0!==r||o||(r=ot(t,e,i,n,!0))),c?-r:r},rt=function(t,e){if("absolute"!==at(t,"position",!0))return 0;var i="left"===e?"Left":"Top",n=at(t,"margin"+i,!0);return t["offset"+i]-(ot(t,e,parseFloat(n),(n+"").replace(nt,""))||0)},at=function(t,e,i){var n,o=(t._gsTransform||{})[e];return o||0===o?o:(t.style[e]?o=t.style[e]:(n=et(t))?o=(o=n.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()))||n.length?o:n[e]:t.currentStyle&&(o=t.currentStyle[e]),"auto"!==o||"top"!==e&&"left"!==e||(o=rt(t,e)),i?o:parseFloat(o)||0)},st=function(t,e,i){var n=t.vars,o=n[i],r=t._listeners[e];"function"==typeof o&&o.apply(n[i+"Scope"]||n.callbackScope||t,n[i+"Params"]||[t.pointerEvent]),r&&t.dispatchEvent(e)},lt=function(t,e){var i,n,o,r=Z(t);return r?Pt(r,e):void 0!==t.left?(o=wt(e),{left:t.left-o.x,top:t.top-o.y,width:t.width,height:t.height}):(n=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:n,top:i,width:(t.max||t.maxX||t.maxRotation||0)-n,height:(t.max||t.maxY||0)-i})},ct=function(){if(!y.createElementNS)return a=0,void(s=!1);var t,e,i,n,o=b("div"),r=y.createElementNS("http://www.w3.org/2000/svg","svg"),h=b("div"),d=o.style,p=y.body||_;y.body&&dt&&(d.position="absolute",p.appendChild(h),h.appendChild(o),n=o.offsetParent,h.style[dt]="rotate(1deg)",u=o.offsetParent===n,h.style.position="absolute",d.height="10px",n=o.offsetTop,h.style.border="5px solid red",c=n!==o.offsetTop,p.removeChild(h)),d=r.style,r.setAttributeNS(null,"width","400px"),r.setAttributeNS(null,"height","400px"),r.setAttributeNS(null,"viewBox","0 0 400 400"),d.display="block",d.boxSizing="border-box",d.border="0px solid red",d.transform="none",o.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",p.appendChild(o),o.appendChild(r),e=(i=r.createSVGPoint().matrixTransform(r.getScreenCTM())).y,o.scrollTop=100,i.x=i.y=0,i=i.matrixTransform(r.getScreenCTM()),l=e-i.y<100.1?0:e-i.y-150,o.removeChild(r),p.removeChild(o),p.appendChild(r),e=(t=r.getScreenCTM()).e,d.border="50px solid red",t=r.getScreenCTM(),0===e&&0===t.e&&0===t.f&&1===t.a?(a=1,s=!0):(a=e!==t.e?1:0,s=1!==t.a),p.removeChild(r)},ut=""!==J(x,"perspective"),ht=J(x,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),dt=J(x,"transform"),pt=dt.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),ft={},gt={},vt=window.SVGElement,mt=function(t){return!!(vt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},yt=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,_t=[],bt=[],xt=function(t){if(!t.getBoundingClientRect||!t.parentNode||!dt)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:_};if(!1!==Wt.cacheSVGData&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,n,o,r,c,u,h,d,p,f,g,v,m=t,b=kt(t);if(b.lastUpdate=e.ticker.frame,t.getBBox&&!b.isSVGRoot){for(m=t.parentNode,i=t.getBBox();m&&"svg"!==(m.nodeName+"").toLowerCase();)m=m.parentNode;return r=xt(m),b.offsetTop=i.y*r.scaleY,b.offsetLeft=i.x*r.scaleX,b.scaleX=r.scaleX,b.scaleY=r.scaleY,b.offsetParent=m||_,b}for((o=b.offsetParent)===y.body&&(o=_),bt.length=_t.length=0;m&&("matrix(1, 0, 0, 1, 0, 0)"!==(c=at(m,dt,!0))&&"none"!==c&&"translate3d(0px, 0px, 0px)"!==c&&(bt.push(m),_t.push(m.style[dt]),m.style[dt]="none"),m!==o);)m=m.parentNode;for(n=o.getBoundingClientRect(),c=t.getScreenCTM(),h=(d=t.createSVGPoint()).matrixTransform(c),d.x=d.y=10,d=d.matrixTransform(c),b.scaleX=(d.x-h.x)/10,b.scaleY=(d.y-h.y)/10,void 0===a&&ct(),b.borderBox&&!s&&t.getAttribute("width")&&(r=et(t)||{},p=parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth)||0,f=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)||0,g=parseFloat(r.width)||0,v=parseFloat(r.height)||0,b.scaleX*=(g-p)/g,b.scaleY*=(v-f)/v),l?(i=t.getBoundingClientRect(),b.offsetLeft=i.left-n.left,b.offsetTop=i.top-n.top):(b.offsetLeft=h.x-n.left,b.offsetTop=h.y-n.top),b.offsetParent=o,u=bt.length;--u>-1;)bt[u].style[dt]=_t[u];return b},wt=function(t,i){if(i=i||{},!t||t===_||!t.parentNode||t===window)return{x:0,y:0};var n=et(t),o=ht&&n?n.getPropertyValue(ht):"50% 50%",r=o.split(" "),a=-1!==o.indexOf("left")?"0%":-1!==o.indexOf("right")?"100%":r[0],s=-1!==o.indexOf("top")?"0%":-1!==o.indexOf("bottom")?"100%":r[1];return"center"!==s&&null!=s||(s="50%"),("center"===a||isNaN(parseFloat(a)))&&(a="50%"),t.getBBox&&mt(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),o=t.getBBox(),i.x=t._gsTransform.xOrigin-o.x,i.y=t._gsTransform.yOrigin-o.y):(t.getBBox&&-1!==(a+s).indexOf("%")&&(t={offsetWidth:(t=t.getBBox()).width,offsetHeight:t.height}),i.x=-1!==a.indexOf("%")?t.offsetWidth*parseFloat(a)/100:parseFloat(a),i.y=-1!==s.indexOf("%")?t.offsetHeight*parseFloat(s)/100:parseFloat(s)),i},kt=function(t){if(!1!==Wt.cacheSVGData&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,n=t._gsCache=t._gsCache||{},o=et(t),r=t.getBBox&&mt(t),a="svg"===(t.nodeName+"").toLowerCase();if(n.isSVG=r,n.isSVGRoot=a,n.borderBox="border-box"===o.boxSizing,n.computedStyle=o,a)(i=t.parentNode||_).insertBefore(x,t),n.offsetParent=x.offsetParent||_,i.removeChild(x);else if(r){for(i=t.parentNode;i&&"svg"!==(i.nodeName+"").toLowerCase();)i=i.parentNode;n.offsetParent=i}else n.offsetParent=t.offsetParent;return n},Tt=function(t,e,i,n){if(t===window||!t||!t.style||!t.parentNode)return[1,0,0,1,0,0];var o,r,s,l,h,d,p,f,g,v,m,b,x,w,k=t._gsCache||kt(t),T=t.parentNode,S=T._gsCache||kt(T),C=k.computedStyle,I=k.isSVG?S.offsetParent:T.offsetParent;return o=k.isSVG&&-1!==(t.style[dt]+"").indexOf("matrix")?t.style[dt]:C?C.getPropertyValue(pt):t.currentStyle?t.currentStyle[dt]:"1,0,0,1,0,0",t.getBBox&&-1!==(t.getAttribute("transform")+"").indexOf("matrix")&&(o=t.getAttribute("transform")),(o=(o+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0]).length>6&&(o=[o[0],o[1],o[4],o[5],o[12],o[13]]),n?o[4]=o[5]=0:k.isSVG&&(h=t._gsTransform)&&(h.xOrigin||h.yOrigin)&&(o[0]=parseFloat(o[0]),o[1]=parseFloat(o[1]),o[2]=parseFloat(o[2]),o[3]=parseFloat(o[3]),o[4]=parseFloat(o[4])-(h.xOrigin-(h.xOrigin*o[0]+h.yOrigin*o[2])),o[5]=parseFloat(o[5])-(h.yOrigin-(h.xOrigin*o[1]+h.yOrigin*o[3]))),e&&(void 0===a&&ct(),s=k.isSVG||k.isSVGRoot?xt(t):t,k.isSVG?(l=t.getBBox(),v=S.isSVGRoot?{x:0,y:0}:T.getBBox(),s={offsetLeft:l.x-v.x,offsetTop:l.y-v.y,offsetParent:k.offsetParent}):k.isSVGRoot?(m=parseInt(C.borderTopWidth,10)||0,b=parseInt(C.borderLeftWidth,10)||0,x=(o[0]-a)*b+o[2]*m,w=o[1]*b+(o[3]-a)*m,d=e.x,p=e.y,f=d-(d*o[0]+p*o[2]),g=p-(d*o[1]+p*o[3]),o[4]=parseFloat(o[4])+f,o[5]=parseFloat(o[5])+g,e.x-=f,e.y-=g,d=s.scaleX,p=s.scaleY,e.x*=d,e.y*=p,o[0]*=d,o[1]*=p,o[2]*=d,o[3]*=p,yt||(e.x+=x,e.y+=w)):!c&&t.offsetParent&&(e.x+=parseInt(at(t.offsetParent,"borderLeftWidth"),10)||0,e.y+=parseInt(at(t.offsetParent,"borderTopWidth"),10)||0),r=T===_||T===y.body,o[4]=Number(o[4])+e.x+(s.offsetLeft||0)-i.x-(r?0:T.scrollLeft||0),o[5]=Number(o[5])+e.y+(s.offsetTop||0)-i.y-(r?0:T.scrollTop||0),T&&"fixed"===at(t,"position",C)&&(o[4]+=G(),o[5]+=j()),!T||T===_||I!==s.offsetParent||S.isSVG||u&&"100100"!==Tt(T).join("")||(s=S.isSVGRoot?xt(T):T,o[4]-=s.offsetLeft||0,o[5]-=s.offsetTop||0,c||!S.offsetParent||k.isSVG||k.isSVGRoot||(o[4]-=parseInt(at(S.offsetParent,"borderLeftWidth"),10)||0,o[5]-=parseInt(at(S.offsetParent,"borderTopWidth"),10)||0))),o},St=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,n,o,r,a,s,l,c,u=wt(t,ft),h=wt(t.parentNode,gt),d=Tt(t,u,h);(t=t.parentNode)&&t.parentNode&&t!==_;)u=h,h=wt(t.parentNode,u===ft?gt:ft),l=Tt(t,u,h),i=d[0],n=d[1],o=d[2],r=d[3],a=d[4],s=d[5],d[0]=i*l[0]+n*l[2],d[1]=i*l[1]+n*l[3],d[2]=o*l[0]+r*l[2],d[3]=o*l[1]+r*l[3],d[4]=a*l[0]+s*l[2]+l[4],d[5]=a*l[1]+s*l[3]+l[5];return e&&(i=d[0],n=d[1],o=d[2],r=d[3],a=d[4],s=d[5],c=i*r-n*o,d[0]=r/c,d[1]=-n/c,d[2]=-o/c,d[3]=i/c,d[4]=(o*s-r*a)/c,d[5]=-(i*s-n*a)/c),d},Ct=function(t,e,i,n,o){t=Z(t);var r=St(t,!1),a=e.x,s=e.y;return i&&(wt(t,e),a-=e.x,s-=e.y),n=!0===n?e:n||{},n.x=a*r[0]+s*r[2]+r[4],n.y=a*r[1]+s*r[3]+r[5],n},It=function(t,e,i){var n=t.x*e[0]+t.y*e[2]+e[4],o=t.x*e[1]+t.y*e[3]+e[5];return t.x=n*i[0]+o*i[2]+i[4],t.y=n*i[1]+o*i[3]+i[5],t},Pt=function(t,e,i){if(!(t=Z(t)))return null;e=Z(e);var n,o,r,a,s,l,c,u,h,d,p,f,g,v,m,b,x,w,k,T,S,I,P=t.getBBox&&mt(t);if(t===window)a=j(),r=(o=G())+(_.clientWidth||t.innerWidth||y.body.clientWidth||0),s=a+((t.innerHeight||0)-20<_.clientHeight?_.clientHeight:t.innerHeight||y.body.clientHeight||0);else{if(void 0===e||e===window)return t.getBoundingClientRect();o=-(n=wt(t)).x,a=-n.y,P?(g=(f=t.getBBox()).width,v=f.height):"svg"!==(t.nodeName+"").toLowerCase()&&t.offsetWidth?(g=t.offsetWidth,v=t.offsetHeight):(S=et(t),g=parseFloat(S.width),v=parseFloat(S.height)),r=o+g,s=a+v,"svg"!==t.nodeName.toLowerCase()||C||(I=(m=xt(t)).computedStyle||{},w=(t.getAttribute("viewBox")||"0 0").split(" "),k=parseFloat(w[0]),T=parseFloat(w[1]),b=parseFloat(I.borderLeftWidth)||0,x=parseFloat(I.borderTopWidth)||0,r-=g-(g-b)/m.scaleX-k,s-=v-(v-x)/m.scaleY-T,o-=b/m.scaleX-k,a-=x/m.scaleY-T,S&&(r+=(parseFloat(I.borderRightWidth)+b)/m.scaleX,s+=(x+parseFloat(I.borderBottomWidth))/m.scaleY))}return t===e?{left:o,top:a,width:r-o,height:s-a}:(l=St(t),c=St(e,!0),u=It({x:o,y:a},l,c),h=It({x:r,y:a},l,c),d=It({x:r,y:s},l,c),p=It({x:o,y:s},l,c),o=Math.min(u.x,h.x,d.x,p.x),a=Math.min(u.y,h.y,d.y,p.y),R.x=R.y=0,i&&wt(e,R),{left:o+R.x,top:a+R.y,width:Math.max(u.x,h.x,d.x,p.x)-o,height:Math.max(u.y,h.y,d.y,p.y)-a})},Et=function(t){return!!(t&&t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},Mt=function(t){var e,i,n,o=[],r=t.length;for(e=0;e<r;e++)if(i=t[e],Et(i))for(n=i.length,n=0;n<i.length;n++)o.push(i[n]);else i&&0!==i.length&&o.push(i);return o},At="ontouchstart"in _&&"orientation"in window,Ot=function(t){for(var e=t.split(","),i=(void 0!==x.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==x.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),n={},o=8;--o>-1;)n[e[o]]=i[o],n[i[o]]=e[o];return n}("touchstart,touchmove,touchend,touchcancel"),Nt=function(t,e,i,n){t.addEventListener?t.addEventListener(Ot[e]||e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},Dt=function(t,e,i){t.removeEventListener?t.removeEventListener(Ot[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},Rt=function(t,e){for(var i=t.length;--i>-1;)if(t[i].identifier===e)return!0;return!1},Xt=function(t){o=t.touches&&O<t.touches.length,Dt(t.target,"touchend",Xt)},$t=function(t){o=t.touches&&O<t.touches.length,Nt(t.target,"touchend",Xt)},Bt=function(t,e,i,n,o,r){var a,s,l,c={};if(e)if(1!==o&&e instanceof Array){for(c.end=a=[],l=e.length,s=0;s<l;s++)a[s]=e[s]*o;i+=1.1,n-=1.1}else c.end="function"==typeof e?function(i){return e.call(t,i)*o}:e;return(i||0===i)&&(c.max=i),(n||0===n)&&(c.min=n),r&&(c.velocity=0),c},Lt=function(t){var e;return!(!t||!t.getAttribute||"BODY"===t.nodeName)&&(!("true"!==(e=t.getAttribute("data-clickable"))&&("false"===e||!t.onclick&&!A.test(t.nodeName+"")&&"true"!==t.getAttribute("contentEditable")))||Lt(t.parentNode))},Ft=function(t,e){for(var i,n=t.length;--n>-1;)(i=t[n]).ondragstart=i.onselectstart=e?null:k,tt(i,"userSelect",e?"text":"none")},Ht=function(){var t,e=y.createElement("div"),i=y.createElement("div"),n=i.style,o=y.body||x;return n.display="inline-block",n.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),o.appendChild(e),h=i.offsetHeight+18>e.scrollHeight,n.width="100%",dt||(n.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,n.left="-90px",t=t!==e.scrollLeft),o.removeChild(e),t}(),zt=function(t,i){t=Z(t),i=i||{};var n,o,r,a,s,l,c=y.createElement("div"),u=c.style,d=t.firstChild,p=0,f=0,g=t.scrollTop,v=t.scrollLeft,m=t.scrollWidth,_=t.scrollHeight,b=0,x=0,w=0;ut&&!1!==i.force3D?(s="translate3d(",l="px,0px)"):dt&&(s="translate(",l="px)"),this.scrollTop=function(t,e){if(!arguments.length)return-this.top();this.top(-t,e)},this.scrollLeft=function(t,e){if(!arguments.length)return-this.left();this.left(-t,e)},this.left=function(n,o){if(!arguments.length)return-(t.scrollLeft+f);var r=t.scrollLeft-v,a=f;if((r>2||r<-2)&&!o)return v=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-v),void(i.onKill&&i.onKill());(n=-n)<0?(f=n-.5|0,n=0):n>x?(f=n-x|0,n=x):f=0,(f||a)&&(s?this._suspendTransforms||(u[dt]=s+-f+"px,"+-p+l):u.left=-f+"px",Ht&&f+b>=0&&(u.paddingRight=f+b+"px")),t.scrollLeft=0|n,v=t.scrollLeft},this.top=function(n,o){if(!arguments.length)return-(t.scrollTop+p);var r=t.scrollTop-g,a=p;if((r>2||r<-2)&&!o)return g=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-g),void(i.onKill&&i.onKill());(n=-n)<0?(p=n-.5|0,n=0):n>w?(p=n-w|0,n=w):p=0,(p||a)&&(s?this._suspendTransforms||(u[dt]=s+-f+"px,"+-p+l):u.top=-p+"px"),t.scrollTop=0|n,g=t.scrollTop},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return x},this.disable=function(){for(d=c.firstChild;d;)a=d.nextSibling,t.appendChild(d),d=a;t===c.parentNode&&t.removeChild(c)},this.enable=function(){if((d=t.firstChild)!==c){for(;d;)a=d.nextSibling,c.appendChild(d),d=a;t.appendChild(c),this.calibrate()}},this.calibrate=function(e){var i,a,s=t.clientWidth===n;g=t.scrollTop,v=t.scrollLeft,s&&t.clientHeight===o&&c.offsetHeight===r&&m===t.scrollWidth&&_===t.scrollHeight&&!e||((p||f)&&(i=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),s&&!e||(u.display="block",u.width="auto",u.paddingRight="0px",(b=Math.max(0,t.scrollWidth-t.clientWidth))&&(b+=at(t,"paddingLeft")+(h?at(t,"paddingRight"):0))),u.display="inline-block",u.position="relative",u.overflow="visible",u.verticalAlign="top",u.width="100%",u.paddingRight=b+"px",h&&(u.paddingBottom=at(t,"paddingBottom",!0)),C&&(u.zoom="1"),n=t.clientWidth,o=t.clientHeight,m=t.scrollWidth,_=t.scrollHeight,x=t.scrollWidth-n,w=t.scrollHeight-o,r=c.offsetHeight,u.display="block",(i||a)&&(this.left(i),this.top(a)))},this.content=c,this.element=t,this._suspendTransforms=!1,this.enable()},Wt=function(n,a){t.call(this,n),n=Z(n),r||(r=v.com.greensock.plugins.ThrowPropsPlugin),this.vars=a=B(a||{}),this.target=n,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(a.dragResistance)||0,this.edgeResistance=isNaN(a.edgeResistance)?1:parseFloat(a.edgeResistance)||0,this.lockAxis=a.lockAxis,this.autoScroll=a.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!a.allowEventDefault;var s,l,c,u,h,m,b,x,k,P,A,R,L,z,j,G,q,J,et,it,nt,ot,rt,ct,ut,ht,dt,pt,ft,gt,vt,mt,yt,_t=(a.type||(C?"top,left":"x,y")).toLowerCase(),bt=-1!==_t.indexOf("x")||-1!==_t.indexOf("y"),xt=-1!==_t.indexOf("rotation"),wt=xt?"rotation":bt?"x":"left",kt=bt?"y":"top",Tt=-1!==_t.indexOf("x")||-1!==_t.indexOf("left")||"scroll"===_t,It=-1!==_t.indexOf("y")||-1!==_t.indexOf("top")||"scroll"===_t,Pt=a.minimumMovement||2,Et=this,Mt=$(a.trigger||a.handle||n),Xt={},Ht=0,jt=!1,Gt=a.clickableTest||Lt,Yt=0,Ut=function(t){if(Et.autoScroll&&Et.isDragging&&(jt||J)){var e,i,o,r,a,s,c,u,h=n,d=15*Et.autoScroll;for(jt=!1,X.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_.scrollTop?_.scrollTop:y.body.scrollTop,X.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_.scrollLeft?_.scrollLeft:y.body.scrollLeft,r=Et.pointerX-X.scrollLeft,a=Et.pointerY-X.scrollTop;h&&!i;)e=(i=U(h.parentNode))?X:h.parentNode,o=i?{bottom:Math.max(_.clientHeight,window.innerHeight||0),right:Math.max(_.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),s=c=0,It&&((u=e._gsMaxScrollY-e.scrollTop)<0?c=u:a>o.bottom-40&&u?(jt=!0,c=Math.min(u,d*(1-Math.max(0,o.bottom-a)/40)|0)):a<o.top+40&&e.scrollTop&&(jt=!0,c=-Math.min(e.scrollTop,d*(1-Math.max(0,a-o.top)/40)|0)),c&&(e.scrollTop+=c)),Tt&&((u=e._gsMaxScrollX-e.scrollLeft)<0?s=u:r>o.right-40&&u?(jt=!0,s=Math.min(u,d*(1-Math.max(0,o.right-r)/40)|0)):r<o.left+40&&e.scrollLeft&&(jt=!0,s=-Math.min(e.scrollLeft,d*(1-Math.max(0,r-o.left)/40)|0)),s&&(e.scrollLeft+=s)),i&&(s||c)&&(window.scrollTo(e.scrollLeft,e.scrollTop),se(Et.pointerX+s,Et.pointerY+c)),h=e}if(J){var p=Et.x,f=Et.y;p<1e-6&&p>-1e-6&&(p=0),f<1e-6&&f>-1e-6&&(f=0),xt?(pt.data.rotation=Et.rotation=p,pt.setRatio(1)):l?(It&&l.top(f),Tt&&l.left(p)):bt?(It&&(pt.data.y=f),Tt&&(pt.data.x=p),pt.setRatio(1)):(It&&(n.style.top=f+"px"),Tt&&(n.style.left=p+"px")),!x||t||vt||(vt=!0,st(Et,"drag","onDrag"),vt=!1)}J=!1},qt=function(t,i){var o;Et.x,Et.y;n._gsTransform||!bt&&!xt||e.set(n,{x:"+=0",overwrite:!1}),bt?(Et.y=n._gsTransform.y,Et.x=n._gsTransform.x):xt?Et.x=Et.rotation=n._gsTransform.rotation:l?(Et.y=l.top(),Et.x=l.left()):(Et.y=parseInt(n.style.top,10)||0,Et.x=parseInt(n.style.left,10)||0),!it&&!nt||i||(it&&(o=it(Et.x))!==Et.x&&(Et.x=o,xt&&(Et.rotation=o),J=!0),nt&&((o=nt(Et.y))!==Et.y&&(Et.y=o),J=!0)),J&&Ut(!0),t||st(Et,"throwupdate","onThrowUpdate")},Kt=function(){var t,e,i,o;b=!1,l?(l.calibrate(),Et.minX=P=-l.maxScrollLeft(),Et.minY=R=-l.maxScrollTop(),Et.maxX=k=Et.maxY=A=0,b=!0):a.bounds&&(t=lt(a.bounds,n.parentNode),xt?(Et.minX=P=t.left,Et.maxX=k=t.left+t.width,Et.minY=R=Et.maxY=A=0):void 0!==a.bounds.maxX||void 0!==a.bounds.maxY?(t=a.bounds,Et.minX=P=t.minX,Et.minY=R=t.minY,Et.maxX=k=t.maxX,Et.maxY=A=t.maxY):(e=lt(n,n.parentNode),Et.minX=P=at(n,wt)+t.left-e.left,Et.minY=R=at(n,kt)+t.top-e.top,Et.maxX=k=P+(t.width-e.width),Et.maxY=A=R+(t.height-e.height)),P>k&&(Et.minX=k,Et.maxX=k=P,P=Et.minX),R>A&&(Et.minY=A,Et.maxY=A=R,R=Et.minY),xt&&(Et.minRotation=P,Et.maxRotation=k),b=!0),a.liveSnap&&(o=(i=!0===a.liveSnap?a.snap||{}:a.liveSnap)instanceof Array||"function"==typeof i,xt?(it=oe(o?i:i.rotation,P,k,1),nt=null):(Tt&&(it=oe(o?i:i.x||i.left||i.scrollLeft,P,k,l?-1:1)),It&&(nt=oe(o?i:i.y||i.top||i.scrollTop,R,A,l?-1:1))))},Qt=function(){Et.isThrowing=!1,st(Et,"throwcomplete","onThrowComplete")},Zt=function(){Et.isThrowing=!1},Jt=function(t,e){var i,o,s,c;t&&r?(!0===t&&(o=(i=a.snap||{})instanceof Array||"function"==typeof i,t={resistance:(a.throwResistance||a.resistance||1e3)/(xt?10:1)},xt?t.rotation=Bt(Et,o?i:i.rotation,k,P,1,e):(Tt&&(t[wt]=Bt(Et,o?i:i.x||i.left||i.scrollLeft,k,P,l?-1:1,e||"x"===Et.lockedAxis)),It&&(t[kt]=Bt(Et,o?i:i.y||i.top||i.scrollTop,A,R,l?-1:1,e||"y"===Et.lockedAxis)))),Et.isThrowing=!0,c=isNaN(a.overshootTolerance)?1===a.edgeResistance?0:1-Et.edgeResistance+.2:a.overshootTolerance,Et.tween=s=r.to(l||n,{throwProps:t,ease:a.ease||v.Power3.easeOut,onComplete:Qt,onOverwrite:Zt,onUpdate:a.fastMode?st:qt,onUpdateParams:a.fastMode?[Et,"onthrowupdate","onThrowUpdate"]:w},isNaN(a.maxDuration)?2:a.maxDuration,isNaN(a.minDuration)?0===c?0:.5:a.minDuration,c),a.fastMode||(l&&(l._suspendTransforms=!0),s.render(s.duration(),!0,!0),qt(!0,!0),Et.endX=Et.x,Et.endY=Et.y,xt&&(Et.endRotation=Et.x),s.play(0),qt(!0,!0),l&&(l._suspendTransforms=!1))):b&&Et.applyBounds()},te=function(t){var e,i,o,r,a,s,l,h,d,p=ct||[1,0,0,1,0,0];ct=St(n.parentNode,!0),t&&Et.isPressed&&p.join(",")!==ct.join(",")&&(e=p[0],i=p[1],o=p[2],r=p[3],a=p[4],s=p[5],d=c*(-i/(l=e*r-i*o))+u*(e/l)+-(e*s-i*a)/l,u=(h=c*(r/l)+u*(-o/l)+(o*s-r*a)/l)*ct[1]+d*ct[3]+ct[5],c=h*ct[0]+d*ct[2]+ct[4]),ct[1]||ct[2]||1!=ct[0]||1!=ct[3]||0!=ct[4]||0!=ct[5]||(ct=null)},ee=function(){var t=1-Et.edgeResistance;te(!1),ct&&(c=Et.pointerX*ct[0]+Et.pointerY*ct[2]+ct[4],u=Et.pointerX*ct[1]+Et.pointerY*ct[3]+ct[5]),J&&(se(Et.pointerX,Et.pointerY),Ut(!0)),l?(Kt(),m=l.top(),h=l.left()):(ie()?(qt(!0,!0),Kt()):Et.applyBounds(),xt?(q=Ct(n,{x:0,y:0}),qt(!0,!0),h=Et.x,m=Et.y=Math.atan2(q.y-Et.pointerY,Et.pointerX-q.x)*T):(ht=n.parentNode?n.parentNode.scrollTop||0:0,dt=n.parentNode?n.parentNode.scrollLeft||0:0,m=at(n,kt),h=at(n,wt))),b&&t&&(h>k?h=k+(h-k)/t:h<P&&(h=P-(P-h)/t),xt||(m>A?m=A+(m-A)/t:m<R&&(m=R-(R-m)/t)))},ie=function(){return Et.tween&&Et.tween.isActive()},ne=function(){!I.parentNode||ie()||Et.isDragging||I.parentNode.removeChild(I)},oe=function(t,e,i,n){return"function"==typeof t?function(o){var r=Et.isPressed?1-Et.edgeResistance:1;return t.call(Et,o>i?i+(o-i)*r:o<e?e+(o-e)*r:o)*n}:t instanceof Array?function(n){for(var o,r,a=t.length,s=0,l=999999999999999;--a>-1;)(r=(o=t[a])-n)<0&&(r=-r),r<l&&o>=e&&o<=i&&(s=a,l=r);return t[s]}:isNaN(t)?function(t){return t}:function(){return t*n}},re=function(t){var i;if(!(!s||Et.isPressed||!t||("mousedown"===t.type||"pointerdown"===t.type)&&S()-Yt<30&&Ot[Et.pointerEvent.type])){if(ut=ie(),Et.pointerEvent=t,Ot[t.type]?(rt=-1!==t.type.indexOf("touch")?t.currentTarget||t.target:y,Nt(rt,"touchend",le),Nt(rt,"touchmove",ae),Nt(rt,"touchcancel",le),Nt(y,"touchstart",$t)):(rt=null,Nt(y,"mousemove",ae)),gt=null,Nt(y,"mouseup",le),t&&t.target&&Nt(t.target,"mouseup",le),ot=Gt.call(Et,t.target)&&!a.dragClickables)return Nt(t.target,"change",le),st(Et,"press","onPress"),void Ft(Mt,!0);if(ft=!(!rt||Tt===It||l||!1===Et.vars.allowNativeTouchScrolling)&&(Tt?"y":"x"),C?t=Q(t,!0):ft||Et.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=j=t.changedTouches[0],G=t.identifier):t.pointerId?G=t.pointerId:j=G=null,O++,F(Ut),u=Et.pointerY=t.pageY,c=Et.pointerX=t.pageX,(ft||Et.autoScroll)&&K(n.parentNode),n.parentNode&&(l||Et.autoScroll&&!xt&&n.parentNode._gsMaxScrollX&&!I.parentNode)&&!n.getBBox&&(I.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(I)),ee(),Et.tween&&Et.tween.kill(),Et.isThrowing=!1,e.killTweensOf(l||n,!0,Xt),l&&e.killTweensOf(n,!0,{scrollTo:1}),Et.tween=Et.lockedAxis=null,(a.zIndexBoost||!xt&&!l&&!1!==a.zIndexBoost)&&(n.style.zIndex=Wt.zIndex++),Et.isPressed=!0,x=!(!a.onDrag&&!Et._listeners.drag),!xt)for(i=Mt.length;--i>-1;)tt(Mt[i],"cursor",a.cursor||"move");st(Et,"press","onPress")}},ae=function(t){var e,i,n,r,a=t;if(s&&!o&&Et.isPressed&&t){if(Et.pointerEvent=t,e=t.changedTouches){if((t=e[0])!==j&&t.identifier!==G){for(r=e.length;--r>-1&&(t=e[r]).identifier!==G;);if(r<0)return}}else if(t.pointerId&&G&&t.pointerId!==G)return;if(C)t=Q(t,!0);else{if(rt&&ft&&!gt&&(i=t.pageX,n=t.pageY,ct&&(r=i*ct[0]+n*ct[2]+ct[4],n=i*ct[1]+n*ct[3]+ct[5],i=r),gt=Math.abs(i-c)>Math.abs(n-u)&&Tt?"x":"y",!1!==Et.vars.lockAxisOnTouchScroll&&(Et.lockedAxis="x"===gt?"y":"x","function"==typeof Et.vars.onLockAxis&&Et.vars.onLockAxis.call(Et,a)),N&&ft===gt))return void le(a);Et.allowEventDefault||ft&&(!gt||ft===gt)||!1===a.cancelable||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}Et.autoScroll&&(jt=!0),se(t.pageX,t.pageY)}},se=function(t,e){var i,n,o,r,a,s,l=1-Et.dragResistance,d=1-Et.edgeResistance;Et.pointerX=t,Et.pointerY=e,xt?(r=Math.atan2(q.y-e,t-q.x)*T,a=Et.y-r,Et.y=r,a>180?m-=360:a<-180&&(m+=360),o=h+(m-r)*l):(ct&&(s=t*ct[0]+e*ct[2]+ct[4],e=t*ct[1]+e*ct[3]+ct[5],t=s),i=t-c,(n=e-u)<Pt&&n>-Pt&&(n=0),i<Pt&&i>-Pt&&(i=0),(Et.lockAxis||Et.lockedAxis)&&(i||n)&&((s=Et.lockedAxis)||(Et.lockedAxis=s=Tt&&Math.abs(i)>Math.abs(n)?"y":It?"x":null,s&&"function"==typeof Et.vars.onLockAxis&&Et.vars.onLockAxis.call(Et,Et.pointerEvent)),"y"===s?n=0:"x"===s&&(i=0)),o=h+i*l,r=m+n*l),it||nt?(it&&(o=it(o)),nt&&(r=nt(r))):b&&(o>k?o=k+(o-k)*d:o<P&&(o=P+(o-P)*d),xt||(r>A?r=A+(r-A)*d:r<R&&(r=R+(r-R)*d))),xt||(o=Math.round(o),r=Math.round(r)),(Et.x!==o||Et.y!==r&&!xt)&&(xt?Et.endRotation=Et.x=Et.endX=o:(It&&(Et.y=Et.endY=r),Tt&&(Et.x=Et.endX=o)),J=!0,!Et.isDragging&&Et.isPressed&&(Et.isDragging=!0,st(Et,"dragstart","onDragStart")))},le=function(t,i){if(s&&Et.isPressed&&(!t||null==G||i||!(t.pointerId&&t.pointerId!==G||t.changedTouches&&!Rt(t.changedTouches,G)))){Et.isPressed=!1;var o,r,l,c,u,h=t,d=Et.isDragging,p=e.delayedCall(.001,ne);if(rt?(Dt(rt,"touchend",le),Dt(rt,"touchmove",ae),Dt(rt,"touchcancel",le),Dt(y,"touchstart",$t)):Dt(y,"mousemove",ae),Dt(y,"mouseup",le),t&&t.target&&Dt(t.target,"mouseup",le),J=!1,ot)return t&&Dt(t.target,"change",le),Ft(Mt,!1),st(Et,"release","onRelease"),st(Et,"click","onClick"),void(ot=!1);if(H(Ut),!xt)for(r=Mt.length;--r>-1;)tt(Mt[r],"cursor",a.cursor||"move");if(d&&(Ht=D=S(),Et.isDragging=!1),O--,t){if(C&&(t=Q(t,!1)),(o=t.changedTouches)&&(t=o[0])!==j&&t.identifier!==G){for(r=o.length;--r>-1&&(t=o[r]).identifier!==G;);if(r<0)return}Et.pointerEvent=h,Et.pointerX=t.pageX,Et.pointerY=t.pageY}return h&&!d?(ut&&(a.snap||a.bounds)&&Jt(a.throwProps),st(Et,"release","onRelease"),N&&"touchmove"===h.type||(st(Et,"click","onClick"),c=h.target||h.srcElement||n,Yt=S(),u=function(){Yt!==mt&&Et.enabled()&&!Et.isPressed&&(c.click?c.click():y.createEvent&&((l=y.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,Et.pointerEvent.screenX,Et.pointerEvent.screenY,Et.pointerX,Et.pointerY,!1,!1,!1,!1,0,null),c.dispatchEvent(l)))},N||e.delayedCall(1e-5,u))):(Jt(a.throwProps),C||Et.allowEventDefault||!h||!a.dragClickables&&Gt.call(Et,h.target)||!d||ft&&(!gt||ft!==gt)||!1===h.cancelable||(h.preventDefault(),h.preventManipulation&&h.preventManipulation()),st(Et,"release","onRelease")),ie()&&p.duration(Et.tween.duration()),d&&st(Et,"dragend","onDragEnd"),!0}},ce=function(t){if(t&&Et.isDragging){var e=t.target||t.srcElement||n.parentNode,i=e.scrollLeft-e._gsScrollX,o=e.scrollTop-e._gsScrollY;(i||o)&&(ct?(c-=i*ct[0]+o*ct[2],u-=o*ct[3]+i*ct[1]):(c-=i,u-=o),e._gsScrollX+=i,e._gsScrollY+=o,se(Et.pointerX,Et.pointerY))}},ue=function(t){var e=S(),i=e-Yt<40,n=e-Ht<40,o=i&&mt===Yt,r=!!t.preventDefault,a=i&&yt===Yt,s=t.isTrusted||null==t.isTrusted&&i&&o;if(r&&(o||n&&!1!==Et.vars.suppressClickOnDrag)&&t.stopImmediatePropagation(),i&&(!o||s!==a))return s&&o&&(yt=Yt),void(mt=Yt);(Et.isPressed||n||i)&&(r?s&&t.detail&&i||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()):t.returnValue=!1)};(et=Wt.get(this.target))&&et.kill(),this.startDrag=function(t){re(t),Et.isDragging||(Et.isDragging=!0,st(Et,"dragstart","onDragStart"))},this.drag=ae,this.endDrag=function(t){le(t,!0)},this.timeSinceDrag=function(){return Et.isDragging?0:(S()-Ht)/1e3},this.hitTest=function(t,e){return Wt.hitTest(Et.target,t,e)},this.getDirection=function(t,e){var i,n,o,a,s,l,c="velocity"===t&&r?t:"object"!=typeof t||xt?"start":"element";return"element"===c&&(s=Vt(Et.target),l=Vt(t)),i="start"===c?Et.x-h:"velocity"===c?r.getVelocity(this.target,wt):s.left+s.width/2-(l.left+l.width/2),xt?i<0?"counter-clockwise":"clockwise":(e=e||2,n="start"===c?Et.y-m:"velocity"===c?r.getVelocity(this.target,kt):s.top+s.height/2-(l.top+l.height/2),a=(o=Math.abs(i/n))<1/e?"":i<0?"left":"right",o<e&&(""!==a&&(a+="-"),a+=n<0?"up":"down"),a)},this.applyBounds=function(t){var e,i,o,r,s,l;if(t&&a.bounds!==t)return a.bounds=t,Et.update(!0);if(qt(!0),Kt(),b){if(e=Et.x,i=Et.y,e>k?e=k:e<P&&(e=P),i>A?i=A:i<R&&(i=R),(Et.x!==e||Et.y!==i)&&(o=!0,Et.x=Et.endX=e,xt?Et.endRotation=e:Et.y=Et.endY=i,J=!0,Ut(!0),Et.autoScroll&&!Et.isDragging))for(K(n.parentNode),r=n,X.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_.scrollTop?_.scrollTop:y.body.scrollTop,X.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_.scrollLeft?_.scrollLeft:y.body.scrollLeft;r&&!l;)s=(l=U(r.parentNode))?X:r.parentNode,It&&s.scrollTop>s._gsMaxScrollY&&(s.scrollTop=s._gsMaxScrollY),Tt&&s.scrollLeft>s._gsMaxScrollX&&(s.scrollLeft=s._gsMaxScrollX),r=s;Et.isThrowing&&(o||Et.endX>k||Et.endX<P||Et.endY>A||Et.endY<R)&&Jt(a.throwProps,o)}return Et},this.update=function(t,e,i){var o=Et.x,r=Et.y;return te(!e),t?Et.applyBounds():(J&&i&&Ut(!0),qt(!0)),e&&(se(Et.pointerX,Et.pointerY),J&&Ut(!0)),Et.isPressed&&!e&&(Tt&&Math.abs(o-Et.x)>.01||It&&Math.abs(r-Et.y)>.01&&!xt)&&ee(),Et.autoScroll&&(K(n.parentNode),jt=Et.isDragging,Ut(!0)),Et.autoScroll&&(V(n,ce),Y(n,ce)),Et},this.enable=function(t){var o,c,u;if("soft"!==t){for(c=Mt.length;--c>-1;)u=Mt[c],Nt(u,"mousedown",re),Nt(u,"touchstart",re),Nt(u,"click",ue,!0),xt||tt(u,"cursor",a.cursor||"move"),tt(u,"touchCallout","none"),tt(u,"touchAction",Tt===It||l?"none":Tt?"pan-y":"pan-x");Ft(Mt,!1)}return Y(n,ce),s=!0,r&&"soft"!==t&&r.track(l||n,bt?"x,y":xt?"rotation":"top,left"),l&&l.enable(),n._gsDragID=o="d"+M++,E[o]=this,l&&(l.element._gsDragID=o),e.set(n,{x:"+=0",overwrite:!1}),pt={t:n,data:C?z:n._gsTransform,tween:{},setRatio:C?function(){e.set(n,L)}:i._internals.setTransformRatio||i._internals.set3DTransformRatio},ee(),Et.update(!0),Et},this.disable=function(t){var e,i,o=Et.isDragging;if(!xt)for(e=Mt.length;--e>-1;)tt(Mt[e],"cursor",null);if("soft"!==t){for(e=Mt.length;--e>-1;)i=Mt[e],tt(i,"touchCallout",null),tt(i,"touchAction",null),Dt(i,"mousedown",re),Dt(i,"touchstart",re),Dt(i,"click",ue);Ft(Mt,!0),rt&&(Dt(rt,"touchcancel",le),Dt(rt,"touchend",le),Dt(rt,"touchmove",ae)),Dt(y,"mouseup",le),Dt(y,"mousemove",ae)}return V(n,ce),s=!1,r&&"soft"!==t&&r.untrack(l||n,bt?"x,y":xt?"rotation":"top,left"),l&&l.disable(),H(Ut),Et.isDragging=Et.isPressed=ot=!1,o&&st(Et,"dragend","onDragEnd"),Et},this.enabled=function(t,e){return arguments.length?t?Et.enable(e):Et.disable(e):s},this.kill=function(){return Et.isThrowing=!1,e.killTweensOf(l||n,!0,Xt),Et.disable(),delete E[n._gsDragID],Et},-1!==_t.indexOf("scroll")&&(l=this.scrollProxy=new zt(n,W({onKill:function(){Et.isPressed&&le(null)}},a)),n.style.overflowY=It&&!At?"auto":"hidden",n.style.overflowX=Tt&&!At?"auto":"hidden",n=l.content),!1!==a.force3D&&e.set(n,{force3D:!0}),xt?Xt.rotation=1:(Tt&&(Xt[wt]=1),It&&(Xt[kt]=1)),xt?(z=(L=g).css,L.overwrite=!1):bt&&(z=(L=Tt&&It?d:Tt?p:f).css,L.overwrite=!1),this.enable()},jt=Wt.prototype=new t;jt.constructor=Wt,jt.pointerX=jt.pointerY=0,jt.isDragging=jt.isPressed=!1,Wt.version="0.14.8",Wt.zIndex=1e3,Nt(y,"touchcancel",function(){}),Nt(y,"contextmenu",function(t){var e;for(e in E)E[e].isPressed&&E[e].endDrag()}),Wt.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var n=t&&0!==t.length?Et(t)?Mt(t):[t]:[],o=n.length;--o>-1;)n[o]=new Wt(n[o],i);return n},Wt.get=function(t){return E[(Z(t)||{})._gsDragID]},Wt.timeSinceDrag=function(){return(S()-D)/1e3};var Gt={},Yt=function(t){var e,i,n=0,o=0;for(e=(t=Z(t)).offsetWidth,i=t.offsetHeight;t;)n+=t.offsetTop,o+=t.offsetLeft,t=t.offsetParent;return{top:n,left:o,width:e,height:i}},Vt=function(t,e){if(t===window)return Gt.left=Gt.top=0,Gt.width=Gt.right=_.clientWidth||t.innerWidth||y.body.clientWidth||0,Gt.height=Gt.bottom=(t.innerHeight||0)-20<_.clientHeight?_.clientHeight:t.innerHeight||y.body.clientHeight||0,Gt;var i=t.pageX!==e?{left:t.pageX-G(),top:t.pageY-j(),right:t.pageX-G()+1,bottom:t.pageY-j()+1}:t.nodeType||t.left===e||t.top===e?C?Yt(t):Z(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i};return Wt.hitTest=function(t,e,i){if(t===e)return!1;var n,o,r,a=Vt(t),s=Vt(e),l=s.left>a.right||s.right<a.left||s.top>a.bottom||s.bottom<a.top;return l||!i?!l:(r=-1!==(i+"").indexOf("%"),i=parseFloat(i)||0,n={left:Math.max(a.left,s.left),top:Math.max(a.top,s.top)},n.width=Math.min(a.right,s.right)-n.left,n.height=Math.min(a.bottom,s.bottom)-n.top,!(n.width<0||n.height<0)&&(r?(i*=.01,(o=n.width*n.height)>=a.width*a.height*i||o>=s.width*s.height*i):n.width>i&&n.height>i))},I.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Wt},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).Draggable};"function"==typeof define&&define.amd?define(["TweenLite","CSSPlugin"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=e())}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},o=function(t,e,i){var n,o,r=t.cycle;for(n in r)o=r[n],t[n]="function"==typeof o?o(i,e[i]):o[i%o.length];delete t.cycle},r=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},a=i._internals,s=a.isSelector,l=a.isArray,c=r.prototype=i.to({},.1,{}),u=[];r.version="1.19.0",c.constructor=r,c.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.lagSmoothing=i.lagSmoothing,r.ticker=i.ticker,r.render=i.render,c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,o=this.ratio,r=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||r)if(e)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||r)for(var s,l=1/(1-o),c=this._firstPT;c;)s=c.s+c.c,c.c*=l,c.s=s-c.c,c=c._next;return this},c.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,o,r,s,l,c,u,h,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,f=this._totalTime,g=this._cycle,v=this._duration,m=this._rawPrevTime;if(t>=d-1e-7?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(m<0||t<=0&&t>=-1e-7||1e-10===m&&"isPause"!==this.data)&&m!==t&&(i=!0,m>1e-10&&(o="onReverseComplete")),this._rawPrevTime=h=!e||t||m===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==f||0===v&&m>0)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(m>=0&&(i=!0),this._rawPrevTime=h=!e||t||m===t?t:1e-10)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(s=v+this._repeatDelay,this._cycle=this._totalTime/s>>0,0!==this._cycle&&this._cycle===this._totalTime/s&&f<=t&&this._cycle--,this._time=this._totalTime-this._cycle*s,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(l=this._time/v,c=this._easeType,u=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/v<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/v)),p!==this._time||i||g!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=f,this._rawPrevTime=m,this._cycle=g,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===f&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==f||o)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===v&&1e-10===this._rawPrevTime&&1e-10!==h&&(this._rawPrevTime=0)))}else f!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(t,e,i)},r.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new r(t,e,n)},r.staggerTo=r.allTo=function(t,e,a,c,h,d,p){c=c||0;var f,g,v,m,y=0,_=[],b=a.cycle,x=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=n(t))),t=t||[],c<0&&((t=n(t)).reverse(),c*=-1),f=t.length-1,v=0;v<=f;v++){g={};for(m in a)g[m]=a[m];if(b&&(o(g,t,v),null!=g.duration&&(e=g.duration,delete g.duration)),x){x=g.startAt={};for(m in a.startAt)x[m]=a.startAt[m];o(g.startAt,t,v)}g.delay=y+(g.delay||0),v===f&&h&&(g.onComplete=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(p||a.callbackScope||this,d||u)}),_[v]=new r(t[v],e,g),y+=c}return _},r.staggerFrom=r.allFrom=function(t,e,i,n,o,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(t,e,i,n,o,a,s)},r.staggerFromTo=r.allFromTo=function(t,e,i,n,o,a,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,r.staggerTo(t,e,n,o,a,s,l)},r.delayedCall=function(t,e,i,n,o){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:o,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var h=function(t,e){for(var n=[],o=0,r=t._first;r;)r instanceof i?n[o++]=r:(e&&(n[o++]=r),o=(n=n.concat(h(r,e))).length),r=r._next;return n},d=r.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};r.killAll=function(t,i,n,o){null==i&&(i=!0),null==n&&(n=!0);var r,a,s,l=d(0!=o),c=l.length,u=i&&n&&o;for(s=0;s<c;s++)a=l[s],(u||a instanceof e||(r=a.target===a.vars.onComplete)&&n||i&&!r)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var o,c,u,h,d,p=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=n(t)),l(t))for(h=t.length;--h>-1;)r.killChildTweensOf(t[h],e);else{o=[];for(u in p)for(c=p[u].target.parentNode;c;)c===t&&(o=o.concat(p[u].tweens)),c=c.parentNode;for(d=o.length,h=0;h<d;h++)e&&o[h].totalTime(o[h].totalDuration()),o[h]._enabled(!1,!1)}}};var p=function(t,i,n,o){i=!1!==i,n=!1!==n;for(var r,a,s=d(o=!1!==o),l=i&&n&&o,c=s.length;--c>-1;)a=s[c],(l||a instanceof e||(r=a.target===a.vars.onComplete)&&n||i&&!r)&&a.paused(t)};return r.pauseAll=function(t,e,i){p(!0,t,e,i)},r.resumeAll=function(t,e,i){p(!1,t,e,i)},r.globalTimeScale=function(e){var n=t._rootTimeline,o=i.ticker.time;return arguments.length?(e=e||1e-10,n._startTime=o-(o-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,o=i.ticker.frame,n._startTime=o-(o-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,o=this.vars;for(n in o)i=o[n],s(i)&&-1!==i.join("").indexOf("{self}")&&(o[n]=this._swapSelfInParams(i));s(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},o=i._internals,r=n._internals={},a=o.isSelector,s=o.isArray,l=o.lazyTweens,c=o.lazyRender,u=_gsScope._gsDefine.globals,h=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i){var n,o,r=t.cycle;for(n in r)o=r[n],t[n]="function"==typeof o?o.call(e[i],i):o[i%o.length];delete t.cycle},p=r.pauseCallback=function(){},f=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.19.0",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,o){var r=n.repeat&&u.TweenMax||i;return e?this.add(new r(t,e,n),o):this.set(t,n,o)},g.from=function(t,e,n,o){return this.add((n.repeat&&u.TweenMax||i).from(t,e,n),o)},g.fromTo=function(t,e,n,o,r){var a=o.repeat&&u.TweenMax||i;return e?this.add(a.fromTo(t,e,n,o),r):this.set(t,o,r)},g.staggerTo=function(t,e,o,r,s,l,c,u){var p,g,v=new n({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),m=o.cycle;for("string"==typeof t&&(t=i.selector(t)||t),a(t=t||[])&&(t=f(t)),(r=r||0)<0&&((t=f(t)).reverse(),r*=-1),g=0;g<t.length;g++)(p=h(o)).startAt&&(p.startAt=h(p.startAt),p.startAt.cycle&&d(p.startAt,t,g)),m&&(d(p,t,g),null!=p.duration&&(e=p.duration,delete p.duration)),v.to(t[g],e,p,g*r);return this.add(v,s)},g.staggerFrom=function(t,e,i,n,o,r,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,o,r,a,s)},g.staggerFromTo=function(t,e,i,n,o,r,a,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,o,r,a,s,l)},g.call=function(t,e,n,o){return this.add(i.delayedCall(0,t,e,n),o)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var o,r,a=new n(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,o=s._first;o;)r=o._next,e&&o instanceof i&&o.target===o.vars.onComplete||a.add(o,o._startTime-o._delay),o=r;return s.add(a,0),a},g.add=function(o,r,a,l){var c,u,h,d,p,f;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,o)),!(o instanceof t)){if(o instanceof Array||o&&o.push&&s(o)){for(a=a||"normal",l=l||0,c=r,u=o.length,h=0;h<u;h++)s(d=o[h])&&(d=new n({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?c=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),c+=l;return this._uncache(!0)}if("string"==typeof o)return this.addLabel(o,r);if("function"!=typeof o)throw"Cannot add "+o+" into the timeline; it is not a tween, timeline, function, or string.";o=i.delayedCall(0,o)}if(e.prototype.add.call(this,o,r),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(p=this).rawTime()>o._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&s(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,o){var r=i.delayedCall(0,p,n,o||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,o){var r;if(o instanceof t&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&s(o)))for(r=o.length;--r>-1;)o[r]instanceof t&&o[r].timeline===this&&this.remove(o[r]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(r=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(r-1)+"1",10)*Number(e.substr(r+1)),e=r>1?this._parseTimeOrLabel(e.substr(0,r-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,r,a,s,u,h,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,f=this._startTime,g=this._timeScale,v=this._paused;if(t>=d-1e-7)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,a="onComplete",s=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(s=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=d+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(s=o=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(s=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(s=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!u;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(u=n),n=n._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||s||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(h=this._time)>=p)for(n=this._first;n&&(r=n._next,h===this._time&&(!this._paused||v));)(n._active||n._startTime<=h&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,h===this._time&&(!this._paused||v));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=r}this._onUpdate&&(e||(l.length&&c(),this._callback("onUpdate"))),a&&(this._gc||f!==this._startTime&&g===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,o){o=o||-9999999999;for(var r=[],a=this._first,s=0;a;)a._startTime<o||(a instanceof i?!1!==e&&(r[s++]=a):(!1!==n&&(r[s++]=a),!1!==t&&(s=(r=r.concat(a.getChildren(!0,e,n))).length))),a=a._next;return r},g.getTweensOf=function(t,e){var n,o,r=this._gc,a=[],s=0;for(r&&this._enabled(!0,!0),o=(n=i.getTweensOf(t)).length;--o>-1;)(n[o].timeline===this||e&&this._contains(n[o]))&&(a[s++]=n[o]);return r&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,o=this._first,r=this._labels;o;)o._startTime>=i&&(o._startTime+=t),o=o._next;if(e)for(n in r)r[n]>=i&&(r[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,o=!1;--n>-1;)i[n]._kill(t,e)&&(o=!0);return o},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var o=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,o},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,o=this._last,r=999999999999;o;)e=o._prev,o._dirty&&o.totalDuration(),o._startTime>r&&this._sortChildren&&!o._paused?this.add(o,o._startTime-o._delay):r=o._startTime,o._startTime<0&&!o._paused&&(n-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale),this.shiftChildren(-o._startTime,!1,-9999999999),r=0),(i=o._startTime+o._totalDuration/o._timeScale)>n&&(n=i),o=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},o=e._internals,r=o.lazyTweens,a=o.lazyRender,s=_gsScope._gsDefine.globals,l=new i(null,null,1,0),c=n.prototype=new t;return c.constructor=n,c.kill()._gc=!1,n.version="1.19.0",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,i,n,o){return this.add(e.delayedCall(0,t,n,o),i)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,o=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===o&&i[n]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,i){i=i||{};var n,o,r,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1},c=i.repeat&&s.TweenMax||e;for(o in i)a[o]=i[o];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,r=new c(this,n,a),a.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&n===r.duration()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),i.onStart&&r._callback("onStart")},r},c.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,s,l,c,u,h,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,g=this._time,v=this._totalTime,m=this._startTime,y=this._timeScale,_=this._rawPrevTime,b=this._paused,x=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(c=!0,_>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===f&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,l="onReverseComplete"):_>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===f&&_<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=g)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!=(1&x),k=w===(this._yoyo&&0!=(1&this._cycle)),T=this._totalTime,S=this._cycle,C=this._rawPrevTime,I=this._time;if(this._totalTime=x*f,this._cycle<x?w=!w:this._totalTime+=f,this._time=g,this._rawPrevTime=0===f?_-1e-4:_,this._cycle=x,this._locked=!0,g=w?0:f,this.render(g,e,0===f),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),g!==this._time)return;if(k&&(g=w?f+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=I,this._totalTime=T,this._cycle=S,this._rawPrevTime=C}if(this._time!==g&&this._first||i||c||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=g)for(n=this._first;n&&(s=n._next,d===this._time&&(!this._paused||b));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,d===this._time&&(!this._paused||b));){if(n._active||n._startTime<=g&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(r.length&&a(),this._callback("onUpdate"))),l&&(this._locked||this._gc||m!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(r.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}else v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},c.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,o,r=[],a=this.getChildren(t,e,i),s=0,l=a.length;for(n=0;n<l;n++)(o=a[n]).isActive()&&(r[s++]=o);return r},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},c.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],o={},r=_gsScope._gsDefine.globals,a=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},s=function(t,e,i,n){var o={a:t},r={},a={},s={c:n},l=(t+e)/2,c=(e+i)/2,u=(i+n)/2,h=(l+c)/2,d=(c+u)/2,p=(d-h)/8;return o.b=l+(t-l)/4,r.b=h+p,o.c=r.a=(o.b+r.b)/2,r.c=a.a=(h+d)/2,a.b=d-p,s.b=u+(n-u)/4,a.c=s.a=(a.b+s.b)/2,[o,r,a,s]},l=function(t,o,r,a,l){var c,u,h,d,p,f,g,v,m,y,_,b,x,w=t.length-1,k=0,T=t[0].a;for(c=0;c<w;c++)u=(p=t[k]).a,h=p.d,d=t[k+1].d,l?(_=e[c],x=((b=i[c])+_)*o*.25/(a?.5:n[c]||.5),v=h-((f=h-(h-u)*(a?.5*o:0!==_?x/_:0))+(((g=h+(d-h)*(a?.5*o:0!==b?x/b:0))-f)*(3*_/(_+b)+.5)/4||0))):v=h-((f=h-(h-u)*o*.5)+(g=h+(d-h)*o*.5))/2,f+=v,g+=v,p.c=m=f,p.b=0!==c?T:T=p.a+.6*(p.c-p.a),p.da=h-u,p.ca=m-u,p.ba=T-u,r?(y=s(u,T,m,h),t.splice(k,1,y[0],y[1],y[2],y[3]),k+=4):k++,T=g;(p=t[k]).b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,r&&(y=s(p.a,T,p.c,p.d),t.splice(k,1,y[0],y[1],y[2],y[3]))},c=function(t,n,o,r){var s,l,c,u,h,d,p=[];if(r)for(l=(t=[r].concat(t)).length;--l>-1;)"string"==typeof(d=t[l][n])&&"="===d.charAt(1)&&(t[l][n]=r[n]+Number(d.charAt(0)+d.substr(2)));if((s=t.length-2)<0)return p[0]=new a(t[0][n],0,0,t[s<-1?0:1][n]),p;for(l=0;l<s;l++)c=t[l][n],u=t[l+1][n],p[l]=new a(c,0,0,u),o&&(h=t[l+2][n],e[l]=(e[l]||0)+(u-c)*(u-c),i[l]=(i[l]||0)+(h-u)*(h-u));return p[l]=new a(t[l][n],0,0,t[l+1][n]),p},u=function(t,r,a,s,u,h){var d,p,f,g,v,m,y,_,b={},x=[],w=h||t[0];u="string"==typeof u?","+u+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==r&&(r=1);for(p in t[0])x.push(p);if(t.length>1){for(_=t[t.length-1],y=!0,d=x.length;--d>-1;)if(p=x[d],Math.abs(w[p]-_[p])>.05){y=!1;break}y&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=i.length=n.length=0,d=x.length;--d>-1;)p=x[d],o[p]=-1!==u.indexOf(","+p+","),b[p]=c(t,p,o[p],h);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!s){for(d=x.length;--d>-1;)if(o[p])for(m=(f=b[x[d]]).length-1,g=0;g<m;g++)v=f[g+1].da/i[g]+f[g].da/e[g]||0,n[g]=(n[g]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,g=a?4:1;--d>-1;)f=b[p=x[d]],l(f,r,a,s,o[p]),y&&(f.splice(0,g),f.splice(f.length-g,g));return b},h=function(t,e,i){var n,o,r,s,l,c,u,h,d,p,f,g={},v="cubic"===(e=e||"soft")?3:2,m="soft"===e,y=[];if(m&&i&&(t=[i].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(c=y.length;--c>-1;){for(g[d=y[c]]=l=[],p=0,h=t.length,u=0;u<h;u++)n=null==i?t[u][d]:"string"==typeof(f=t[u][d])&&"="===f.charAt(1)?i[d]+Number(f.charAt(0)+f.substr(2)):Number(f),m&&u>1&&u<h-1&&(l[p++]=(n+l[p-2])/2),l[p++]=n;for(h=p-v+1,p=0,u=0;u<h;u+=v)n=l[u],o=l[u+1],r=l[u+2],s=2===v?0:l[u+3],l[p++]=f=3===v?new a(n,o,r,s):new a(n,(2*o+n)/3,(2*o+r)/3,r);l.length=p}return g},d=function(t,e,i){for(var n,o,r,a,s,l,c,u,h,d,p,f=1/i,g=t.length;--g>-1;)for(r=(d=t[g]).a,a=d.d-r,s=d.c-r,l=d.b-r,n=o=0,u=1;u<=i;u++)n=o-(o=((c=f*u)*c*a+3*(h=1-c)*(c*s+h*l))*c),e[p=g*i+u-1]=(e[p]||0)+n*n},p=function(t,e){var i,n,o,r,a=[],s=[],l=0,c=0,u=(e=e>>0||6)-1,h=[],p=[];for(i in t)d(t[i],a,e);for(o=a.length,n=0;n<o;n++)l+=Math.sqrt(a[n]),p[r=n%e]=l,r===u&&(c+=l,h[r=n/e>>0]=p,s[r]=c,l=0,p=[]);return{length:c,lengths:s,segments:h}},f=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,o,r,a,s,l=e.values||[],c={},d=l[0],f=e.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null;for(n in d)this._props.push(n);for(r=this._props.length;--r>-1;)n=this._props[r],this._overwriteProps.push(n),o=this._func[n]="function"==typeof t[n],c[n]=o?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),s||c[n]!==l[0][n]&&(s=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):h(l,e.type,c),this._segCount=this._beziers[n].length,this._timeRes){var g=p(this._beziers,this._timeRes);this._length=g.length,this._lengths=g.lengths,this._segments=g.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),r=f.length;--r>-1;){for(a=0;a<3;a++)n=f[r][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=f[r][2],this._initialRotations[r]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,o,r,a,s,l,c,u,h,d=this._segCount,p=this._func,f=this._target,g=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,h=this._curSeg,e*=this._length,o=this._li,e>this._l2&&o<d-1){for(c=d-1;o<c&&(this._l2=u[++o])<=e;);this._l1=u[o-1],this._li=o,this._curSeg=h=this._segments[o],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&o>0){for(;o>0&&(this._l1=u[--o])>=e;);0===o&&e<this._l1?this._l1=0:o++,this._l2=u[o],this._li=o,this._curSeg=h=this._segments[o],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=o,e-=this._l1,o=this._si,e>this._s2&&o<h.length-1){for(c=h.length-1;o<c&&(this._s2=h[++o])<=e;);this._s1=h[o-1],this._si=o}else if(e<this._s1&&o>0){for(;o>0&&(this._s1=h[--o])>=e;);0===o&&e<this._s1?this._s1=0:o++,this._s2=h[o],this._si=o}s=(o+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(e-(i=e<0?0:e>=1?d-1:d*e>>0)*(1/d))*d;for(n=1-s,o=this._props.length;--o>-1;)r=this._props[o],l=(s*s*(a=this._beziers[r][i]).da+3*n*(s*a.ca+n*a.ba))*s+a.a,this._mod[r]&&(l=this._mod[r](l,f)),p[r]?f[r](l):f[r]=l;if(this._autoRotate){var v,m,y,_,b,x,w,k=this._autoRotate;for(o=k.length;--o>-1;)r=k[o][2],x=k[o][3]||0,w=!0===k[o][4]?1:t,a=this._beziers[k[o][0]],v=this._beziers[k[o][1]],a&&v&&(a=a[i],v=v[i],m=a.a+(a.b-a.a)*s,m+=((_=a.b+(a.c-a.b)*s)-m)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=v.a+(v.b-v.a)*s,y+=((b=v.b+(v.c-v.b)*s)-y)*s,b+=(v.c+(v.d-v.c)*s-b)*s,l=g?Math.atan2(b-y,_-m)*w+x:this._initialRotations[o],this._mod[r]&&(l=this._mod[r](l,f)),p[r]?f[r](l):f[r]=l)}}}),g=f.prototype;f.bezierThrough=u,f.cubicToQuadratic=s,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=r.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,o=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,r,a,s,l){e instanceof Array&&(e={values:e}),l=new f;var c,u,h,d=e.values,p=d.length-1,g=[],v={};if(p<0)return s;for(c=0;c<=p;c++)h=i(t,d[c],a,s,l,p!==c),g[c]=h.end;for(u in e)v[u]=e[u];return v.values=g,s=new o(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=l,s.setRatio=n,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(c=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=h.end.left?[["left","top","rotation",c,!1]]:null!=h.end.x&&[["x","y","rotation",c,!1]]),v.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(h.proxy,v,a._tween),s}})}},g._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,o,r,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},s=_gsScope._gsDefine.globals,l={},c=a.prototype=new t("css");c.constructor=a,a.version="1.19.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,h,d,p,f,g,v,m,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,k=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,I=/([A-Z])/g,P=/-([a-z])/gi,E=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,M=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,R=/[\s,\(]/i,X=Math.PI/180,$=180/Math.PI,B={},L=document,F=function(t){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",t):L.createElement(t)},H=F("div"),z=F("img"),W=a._internals={_specialProps:l},j=navigator.userAgent,G=function(){var t=j.indexOf("Android"),e=F("a");return d=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===t||Number(j.substr(t+8,1))>3),f=d&&Number(j.substr(j.indexOf("Version/")+8,1))<6,p=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(g=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return k.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(t){window.console&&console.log(t)},U="",q="",K=function(t,e){var i,n,o=(e=e||H).style;if(void 0!==o[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===o[i[n]+t];);return n>=0?(q=3===n?"ms":i[n],U="-"+q.toLowerCase()+"-",q+t):null},Q=L.defaultView?L.defaultView.getComputedStyle:function(){},Z=a.getStyle=function(t,e,i,n,o){var r;return G||"opacity"!==e?(!n&&t.style[e]?r=t.style[e]:(i=i||Q(t))?r=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(I,"-$1").toLowerCase()):t.currentStyle&&(r=t.currentStyle[e]),null==o||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:o):Y(t)},J=W.convertToPixels=function(t,i,n,o,r){if("px"===o||!o)return n;if("auto"===o||!n)return 0;var s,l,c,u=A.test(i),h=t,d=H.style,p=n<0,f=1===n;if(p&&(n=-n),f&&(n*=100),"%"===o&&-1!==i.indexOf("border"))s=n/100*(u?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==o&&h.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)d[u?"borderLeftWidth":"borderTopWidth"]=n+o;else{if(h=t.parentNode||L.body,l=h._gsCache,c=e.ticker.frame,l&&u&&l.time===c)return l.width*n/100;d[u?"width":"height"]=n+o}h.appendChild(H),s=parseFloat(H[u?"offsetWidth":"offsetHeight"]),h.removeChild(H),u&&"%"===o&&!1!==a.cacheWidths&&((l=h._gsCache=h._gsCache||{}).time=c,l.width=s/n*100),0!==s||r||(s=J(t,i,n,o,!0))}return f&&(s/=100),p?-s:s},tt=W.calculateOffset=function(t,e,i){if("absolute"!==Z(t,"position",i))return 0;var n="left"===e?"Left":"Top",o=Z(t,"margin"+n,i);return t["offset"+n]-(J(t,e,parseFloat(o),o.replace(w,""))||0)},et=function(t,e){var i,n,o,r={};if(e=e||Q(t,null))if(i=e.length)for(;--i>-1;)-1!==(o=e[i]).indexOf("-transform")&&Pt!==o||(r[o.replace(P,M)]=e.getPropertyValue(o));else for(i in e)-1!==i.indexOf("Transform")&&It!==i||(r[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===r[i]&&(r[i.replace(P,M)]=e[i]);return G||(r.opacity=Y(t)),n=Ht(t,e,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,Mt&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},it=function(t,e,i,n,o){var r,a,s,l={},c=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(r=i[a])||o&&o[a])&&-1===a.indexOf("Origin")&&("number"!=typeof r&&"string"!=typeof r||(l[a]="auto"!==r||"left"!==a&&"top"!==a?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof e[a]||""===e[a].replace(x,"")?r:0:tt(t,a),void 0!==c[a]&&(s=new mt(c,a,c[a],s))));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:s}},nt={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getBBox&&Bt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),o=nt[e],r=o.length;for(i=i||Q(t,null);--r>-1;)n-=parseFloat(Z(t,"padding"+o[r],i,!0))||0,n-=parseFloat(Z(t,"border"+o[r]+"Width",i,!0))||0;return n},at=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),o=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(at(n[i]));return t.join(",")}return null==r?r="center"===o?"50%":"0":"center"===r&&(r="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),t=o+" "+r+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==o.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===o.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(o.replace(x,"")),e.oy=parseFloat(r.replace(x,"")),e.v=t),e||t},st=function(t,e){return"function"==typeof t&&(t=t(m,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(m,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,i,n){var o,r,a,s,l;return"function"==typeof t&&(t=t(m,v)),null==t?s=e:"number"==typeof t?s=t:(o=360,r=t.split("_"),a=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===t.indexOf("rad")?1:$)-(l?0:e),r.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=o)!==a%(o/2)&&(a=a<0?a+o:a-o),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*o)%o-(a/o|0)*o:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*o)%o-(a/o|0)*o)),s=e+a),s<1e-6&&s>-1e-6&&(s=0),s},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},dt=a.parseColor=function(t,e){var i,n,o,r,a,s,l,c,u,h,d;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])i=ut[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(o=t.charAt(2))+o+(r=t.charAt(3))+r),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=d=t.match(y),e){if(-1!==t.indexOf("="))return t.match(_)}else a=Number(i[0])%360/360,s=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(o=l<=.5?l*(s+1):l+s-l*s),i.length>3&&(i[3]=Number(t[3])),i[0]=ht(a+1/3,n,o),i[1]=ht(a,n,o),i[2]=ht(a-1/3,n,o);else i=t.match(y)||ut.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ut.black;return e&&!d&&(n=i[0]/255,o=i[1]/255,r=i[2]/255,l=((c=Math.max(n,o,r))+(u=Math.min(n,o,r)))/2,c===u?a=s=0:(h=c-u,s=l>.5?h/(2-c-u):h/(c+u),a=c===n?(o-r)/h+(o<r?6:0):c===o?(r-n)/h+2:(n-o)/h+4,a*=60),i[0]=a+.5|0,i[1]=100*s+.5|0,i[2]=100*l+.5|0),i},pt=function(t,e){var i,n,o,r=t.match(ft)||[],a=0,s=r.length?"":t;for(i=0;i<r.length;i++)n=r[i],a+=(o=t.substr(a,t.indexOf(n,a)-a)).length+n.length,3===(n=dt(n,e)).length&&n.push(1),s+=o+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+t.substr(a)},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ut)ft+="|"+c+"\\b";ft=new RegExp(ft+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];ft.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=pt(t[0],e),t[1]=pt(t[1],e)),ft.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var gt=function(t,e,i,n){if(null==t)return function(t){return t};var o,r=e?(t.match(ft)||[""])[0]:"",a=t.split(r).join("").match(b)||[],s=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",u=a.length,h=u>0?a[0].replace(y,""):"";return u?o=e?function(t){var e,d,p,f;if("number"==typeof t)t+=h;else if(n&&D.test(t)){for(f=t.replace(D,"|").split("|"),p=0;p<f.length;p++)f[p]=o(f[p]);return f.join(",")}if(e=(t.match(ft)||[r])[0],d=t.split(e).join("").match(b)||[],p=d.length,u>p--)for(;++p<u;)d[p]=i?d[(p-1)/2|0]:a[p];return s+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,r,d;if("number"==typeof t)t+=h;else if(n&&D.test(t)){for(r=t.replace(D,"|").split("|"),d=0;d<r.length;d++)r[d]=o(r[d]);return r.join(",")}if(e=t.match(b)||[],d=e.length,u>d--)for(;++d<u;)e[d]=i?e[(d-1)/2|0]:a[d];return s+e.join(c)+l}:function(t){return t}},vt=function(t){return t=t.split(","),function(e,i,n,o,r,a,s){var l,c=(i+"").split(" ");for(s={},l=0;l<4;l++)s[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return o.parse(e,s,r,a)}},mt=(W._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,o,r,a=this.data,s=a.proxy,l=a.firstMPT;l;)e=s[l.v],l.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(l=a.firstMPT,r=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(o=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)o+=i["xn"+n]+i["xs"+(n+1)];i[r]=o}}else i[r]=i.s+i.xs0;l=l._next}},function(t,e,i,n,o){this.t=t,this.p=e,this.v=i,this.r=o,n&&(n._prev=this,this._next=n)}),yt=(W._parseToProxy=function(t,e,i,n,o,r){var a,s,l,c,u,h=n,d={},p={},f=i._transform,g=B;for(i._transform=null,B=e,n=u=i.parse(t,e,n,o),B=g,r&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(s=n.p,p[s]=n.s+n.c,d[s]=n.s,r||(c=new mt(n,"s",s,c,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,p[s=n.p+"_"+l]=n.data[l],d[s]=n[l],r||(c=new mt(n,l,s,c,n.rxp[l]));n=n._next}return{proxy:d,end:p,firstMPT:c,pt:u}},W.CSSPropTween=function(t,e,n,o,a,s,l,c,u,h,d){this.t=t,this.p=e,this.s=n,this.c=o,this.n=l||e,t instanceof yt||r.push(this.n),this.r=c,this.type=s||0,u&&(this.pr=u,i=!0),this.b=void 0===h?n:h,this.e=void 0===d?n+o:d,a&&(this._next=a,a._prev=this)}),_t=function(t,e,i,n,o,r){var a=new yt(t,e,i,n-i,o,-1,r);return a.b=i,a.e=a.xs0=n,a},bt=a.parseComplex=function(t,e,i,n,o,r,s,l,c,h){i=i||r||"","function"==typeof n&&(n=n(m,v)),s=new yt(t,e,0,0,s,h?2:1,null,!1,l,i,n),n+="",o&&ft.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var d,p,f,g,b,x,w,k,T,S,C,I,P,E=i.split(", ").join(",").split(" "),M=n.split(", ").join(",").split(" "),A=E.length,O=!1!==u;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(E=E.join(" ").replace(D,", ").split(" "),M=M.join(" ").replace(D,", ").split(" "),A=E.length),A!==M.length&&(A=(E=(r||"").split(" ")).length),s.plugin=c,s.setRatio=h,ft.lastIndex=0,d=0;d<A;d++)if(g=E[d],b=M[d],(k=parseFloat(g))||0===k)s.appendXtra("",k,st(b,k),b.replace(_,""),O&&-1!==b.indexOf("px"),!0);else if(o&&ft.test(g))I=")"+((I=b.indexOf(")")+1)?b.substr(I):""),P=-1!==b.indexOf("hsl")&&G,g=dt(g,P),b=dt(b,P),(T=g.length+b.length>6)&&!G&&0===b[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(M[d]).join("transparent")):(G||(T=!1),P?s.appendXtra(T?"hsla(":"hsl(",g[0],st(b[0],g[0]),",",!1,!0).appendXtra("",g[1],st(b[1],g[1]),"%,",!1).appendXtra("",g[2],st(b[2],g[2]),T?"%,":"%"+I,!1):s.appendXtra(T?"rgba(":"rgb(",g[0],b[0]-g[0],",",!0,!0).appendXtra("",g[1],b[1]-g[1],",",!0).appendXtra("",g[2],b[2]-g[2],T?",":I,!0),T&&(g=g.length<4?1:g[3],s.appendXtra("",g,(b.length<4?1:b[3])-g,I,!1))),ft.lastIndex=0;else if(x=g.match(y)){if(!(w=b.match(_))||w.length!==x.length)return s;for(f=0,p=0;p<x.length;p++)C=x[p],S=g.indexOf(C,f),s.appendXtra(g.substr(f,S-f),Number(C),st(w[p],C),"",O&&"px"===g.substr(S+C.length,2),0===p),f=S+C.length;s["xs"+s.l]+=g.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+b:b;if(-1!==n.indexOf("=")&&s.data){for(I=s.xs0+s.data.s,d=1;d<s.l;d++)I+=s["xs"+d]+s.data["xn"+d];s.e=I+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},xt=9;for((c=yt.prototype).l=c.pr=0;--xt>0;)c["xn"+xt]=0,c["xs"+xt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,o,r){var a=this,s=a.l;return a["xs"+s]+=r&&(s||a["xs"+s])?" "+t:t||"",i||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",s>0?(a.data["xn"+s]=e+i,a.rxp["xn"+s]=o,a["xn"+s]=e,a.plugin||(a.xfirst=new yt(a,"xn"+s,e,i,a.xfirst||a,0,a.n,o,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=o,a)):(a["xs"+s]+=e+(n||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix?K(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||gt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},kt=W._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,o=t.split(","),r=e.defaultValue;for(i=i||[r],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||r,new wt(o[n],e)},Tt=W._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";kt(t,{parser:function(t,i,n,o,r,a,c){var u=s.com.greensock.plugins[e];return u?(u._cssRegister(),l[n].parse(t,i,n,o,r,a,c)):(V("Error: "+e+" js file not loaded."),r)}})}};(c=wt.prototype).parseComplex=function(t,e,i,n,o,r){var a,s,l,c,u,h,d=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(s=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):d&&(s=[e],l=[i])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)e=s[a]=s[a]||this.dflt,i=l[a]=l[a]||this.dflt,d&&(u=e.indexOf(d))!==(h=i.indexOf(d))&&(-1===h?s[a]=s[a].split(d).join(""):-1===u&&(s[a]+=" "+d));e=s.join(", "),i=l.join(", ")}return bt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,o,r)},c.parse=function(t,e,i,n,r,a,s){return this.parseComplex(t.style,this.format(Z(t,this.p,o,!1,this.dflt)),this.format(e),r,a)},a.registerSpecialProp=function(t,e,i){kt(t,{parser:function(t,n,o,r,a,s,l){var c=new yt(t,o,0,0,a,2,o,!1,i);return c.plugin=s,c.setRatio=e(t,n,r._tween,o),c},priority:i})},a.useSVGTransformAttr=d||p;var St,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),It=K("transform"),Pt=U+"transform",Et=K("transformOrigin"),Mt=null!==K("perspective"),At=W.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Mt)&&(a.defaultForce3D||"auto")},Ot=window.SVGElement,Nt=function(t,e,i){var n,o=L.createElementNS("http://www.w3.org/2000/svg",t),r=/([a-z])([A-Z])/g;for(n in i)o.setAttributeNS(null,n.replace(r,"$1-$2").toLowerCase(),i[n]);return e.appendChild(o),o},Dt=L.documentElement,Rt=function(){var t,e,i,n=g||/Android/i.test(j)&&!window.chrome;return L.createElementNS&&!n&&(t=Nt("svg",Dt),i=(e=Nt("rect",t,{width:100,height:50,x:100})).getBoundingClientRect().width,e.style[Et]="50% 50%",e.style[It]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&Mt),Dt.removeChild(t)),n}(),Xt=function(t,e,i,n,o,r){var s,l,c,u,h,d,p,f,g,v,m,y,_,b,x=t._gsTransform,w=Ft(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!n||(s=n.split(" ")).length<2)&&(p=t.getBBox(),s=[(-1!==(e=at(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=u=parseFloat(s[0]),i.yOrigin=h=parseFloat(s[1]),n&&w!==Lt&&(d=w[0],p=w[1],f=w[2],g=w[3],v=w[4],l=u*(g/(y=d*g-p*f))+h*(-f/y)+(f*(m=w[5])-g*v)/y,c=u*(-p/y)+h*(d/y)-(d*m-p*v)/y,u=i.xOrigin=s[0]=l,h=i.yOrigin=s[1]=c),x&&(r&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),o||!1!==o&&!1!==a.defaultSmoothOrigin?(l=u-_,c=h-b,x.xOffset+=l*w[0]+c*w[2]-l,x.yOffset+=l*w[1]+c*w[3]-c):x.xOffset=x.yOffset=0),r||t.setAttribute("data-svg-origin",s.join(" "))},$t=function(t){try{return t.getBBox()}catch(t){}},Bt=function(t){return!!(Ot&&t.getBBox&&t.getCTM&&$t(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Lt=[1,0,0,1,0,0],Ft=function(t,e){var i,n,o,r,a,s,l=t._gsTransform||new At,c=t.style;if(It?n=Z(t,Pt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(O))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),(i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n)&&It&&((s="none"===Q(t).display)||!t.parentNode)&&(s&&(r=c.display,c.display="block"),t.parentNode||(a=1,Dt.appendChild(t)),i=!(n=Z(t,Pt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,r?c.display=r:s&&Gt(c,"display"),a&&Dt.removeChild(t)),(l.svg||t.getBBox&&Bt(t))&&(i&&-1!==(c[It]+"").indexOf("matrix")&&(n=c[It],i=0),o=t.getAttribute("transform"),i&&o&&(-1!==o.indexOf("matrix")?(n=o,i=0):-1!==o.indexOf("translate")&&(n="matrix(1,0,0,1,"+o.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Lt;for(o=(n||"").match(y)||[],xt=o.length;--xt>-1;)r=Number(o[xt]),o[xt]=(a=r-(r|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+r:r;return e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Ht=W.getTransform=function(t,i,n,o){if(t._gsTransform&&n&&!o)return t._gsTransform;var r,s,l,c,u,h,d=n?t._gsTransform||new At:new At,p=d.scaleX<0,f=Mt?parseFloat(Z(t,Et,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,g=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Bt(t)),d.svg&&(Xt(t,Z(t,Et,i,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),St=a.useSVGTransformAttr||Rt),(r=Ft(t))!==Lt){if(16===r.length){var v,m,y,_,b,x=r[0],w=r[1],k=r[2],T=r[3],S=r[4],C=r[5],I=r[6],P=r[7],E=r[8],M=r[9],A=r[10],O=r[12],N=r[13],D=r[14],R=r[11],X=Math.atan2(I,A);d.zOrigin&&(O=E*(D=-d.zOrigin)-r[12],N=M*D-r[13],D=A*D+d.zOrigin-r[14]),d.rotationX=X*$,X&&(v=S*(_=Math.cos(-X))+E*(b=Math.sin(-X)),m=C*_+M*b,y=I*_+A*b,E=S*-b+E*_,M=C*-b+M*_,A=I*-b+A*_,R=P*-b+R*_,S=v,C=m,I=y),X=Math.atan2(-k,A),d.rotationY=X*$,X&&(m=w*(_=Math.cos(-X))-M*(b=Math.sin(-X)),y=k*_-A*b,M=w*b+M*_,A=k*b+A*_,R=T*b+R*_,x=v=x*_-E*b,w=m,k=y),X=Math.atan2(w,x),d.rotation=X*$,X&&(x=x*(_=Math.cos(-X))+S*(b=Math.sin(-X)),m=w*_+C*b,C=w*-b+C*_,I=k*-b+I*_,w=m),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),d.scaleX=(1e5*Math.sqrt(x*x+w*w)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(C*C+M*M)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(I*I+A*A)+.5|0)/1e5,d.rotationX||d.rotationY?d.skewX=0:(d.skewX=S||C?Math.atan2(S,C)*$+d.rotation:d.skewX||0,Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180))),d.perspective=R?1/(R<0?-R:R):0,d.x=O,d.y=N,d.z=D,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*x-d.yOrigin*S),d.y-=d.yOrigin-(d.yOrigin*w-d.xOrigin*C))}else if(!Mt||o||!r.length||d.x!==r[4]||d.y!==r[5]||!d.rotationX&&!d.rotationY){var B=r.length>=6,L=B?r[0]:1,F=r[1]||0,H=r[2]||0,z=B?r[3]:1;d.x=r[4]||0,d.y=r[5]||0,l=Math.sqrt(L*L+F*F),c=Math.sqrt(z*z+H*H),u=L||F?Math.atan2(F,L)*$:d.rotation||0,h=H||z?Math.atan2(H,z)*$+u:d.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(p?(l*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,h+=h<=0?180:-180)),d.scaleX=l,d.scaleY=c,d.rotation=u,d.skewX=h,Mt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*L+d.yOrigin*H),d.y-=d.yOrigin-(d.xOrigin*F+d.yOrigin*z))}d.zOrigin=f;for(s in d)d[s]<2e-5&&d[s]>-2e-5&&(d[s]=0)}return n&&(t._gsTransform=d,d.svg&&(St&&t.style[It]?e.delayedCall(.001,function(){Gt(t.style,It)}):!St&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},zt=function(t){var e,i,n=this.data,o=-n.rotation*X,r=o+n.skewX*X,a=(Math.cos(o)*n.scaleX*1e5|0)/1e5,s=(Math.sin(o)*n.scaleX*1e5|0)/1e5,l=(Math.sin(r)*-n.scaleY*1e5|0)/1e5,c=(Math.cos(r)*n.scaleY*1e5|0)/1e5,u=this.t.style,h=this.t.currentStyle;if(h){i=s,s=-l,l=-i,e=h.filter,u.filter="";var d,p,f=this.t.offsetWidth,v=this.t.offsetHeight,m="absolute"!==h.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+s+", M21="+l+", M22="+c,_=n.x+f*n.xPercent/100,b=n.y+v*n.yPercent/100;if(null!=n.ox&&(_+=(d=(n.oxp?f*n.ox*.01:n.ox)-f/2)-(d*a+(p=(n.oyp?v*n.oy*.01:n.oy)-v/2)*s),b+=p-(d*l+p*c)),y+=m?", Dx="+((d=f/2)-(d*a+(p=v/2)*s)+_)+", Dy="+(p-(d*l+p*c)+b)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(N,y):u.filter=y+" "+e,0!==t&&1!==t||1===a&&0===s&&0===l&&1===c&&(m&&-1===y.indexOf("Dx=0, Dy=0")||k.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!m){var x,T,S,C=g<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((a<0?-a:a)*f+(s<0?-s:s)*v))/2+_),n.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(l<0?-l:l)*f))/2+b),xt=0;xt<4;xt++)S=(i=-1!==(x=h[T=ot[xt]]).indexOf("px")?parseFloat(x):J(this.t,T,parseFloat(x),x.replace(w,""))||0)!==n[T]?xt<2?-n.ieOffsetX:-n.ieOffsetY:xt<2?d-n.ieOffsetX:p-n.ieOffsetY,u[T]=(n[T]=Math.round(i-S*(0===xt||2===xt?1:C)))+"px"}}},Wt=W.set3DTransformRatio=W.setTransformRatio=function(t){var e,i,n,o,r,a,s,l,c,u,h,d,f,g,v,m,y,_,b,x,w,k=this.data,T=this.t.style,S=k.rotation,C=k.rotationX,I=k.rotationY,P=k.scaleX,E=k.scaleY,M=k.scaleZ,A=k.x,O=k.y,N=k.z,D=k.svg,R=k.perspective,$=k.force3D;if(!((1!==t&&0!==t||"auto"!==$||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&$||N||R||I||C||1!==M)||St&&D||!Mt)S||k.skewX||D?(S*=X,x=k.skewX*X,w=1e5,e=Math.cos(S)*P,o=Math.sin(S)*P,i=Math.sin(S-x)*-E,r=Math.cos(S-x)*E,x&&"simple"===k.skewType&&(y=Math.tan(x-k.skewY*X),i*=y=Math.sqrt(1+y*y),r*=y,k.skewY&&(y=Math.tan(k.skewY*X),e*=y=Math.sqrt(1+y*y),o*=y)),D&&(A+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,O+=k.yOrigin-(k.xOrigin*o+k.yOrigin*r)+k.yOffset,St&&(k.xPercent||k.yPercent)&&(g=this.t.getBBox(),A+=.01*k.xPercent*g.width,O+=.01*k.yPercent*g.height),A<(g=1e-6)&&A>-g&&(A=0),O<g&&O>-g&&(O=0)),b=(e*w|0)/w+","+(o*w|0)/w+","+(i*w|0)/w+","+(r*w|0)/w+","+A+","+O+")",D&&St?this.t.setAttribute("transform","matrix("+b):T[It]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+b):T[It]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+E+","+A+","+O+")";else{if(p&&(P<(g=1e-4)&&P>-g&&(P=M=2e-5),E<g&&E>-g&&(E=M=2e-5),!R||k.z||k.rotationX||k.rotationY||(R=0)),S||k.skewX)S*=X,v=e=Math.cos(S),m=o=Math.sin(S),k.skewX&&(S-=k.skewX*X,v=Math.cos(S),m=Math.sin(S),"simple"===k.skewType&&(y=Math.tan((k.skewX-k.skewY)*X),v*=y=Math.sqrt(1+y*y),m*=y,k.skewY&&(y=Math.tan(k.skewY*X),e*=y=Math.sqrt(1+y*y),o*=y))),i=-m,r=v;else{if(!(I||C||1!==M||R||D))return void(T[It]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) translate3d(":"translate3d(")+A+"px,"+O+"px,"+N+"px)"+(1!==P||1!==E?" scale("+P+","+E+")":""));e=r=1,i=o=0}c=1,n=a=s=l=u=h=0,d=R?-1/R:0,f=k.zOrigin,g=1e-6,",","0",(S=I*X)&&(v=Math.cos(S),s=-(m=Math.sin(S)),u=d*-m,n=e*m,a=o*m,c=v,d*=v,e*=v,o*=v),(S=C*X)&&(y=i*(v=Math.cos(S))+n*(m=Math.sin(S)),_=r*v+a*m,l=c*m,h=d*m,n=i*-m+n*v,a=r*-m+a*v,c*=v,d*=v,i=y,r=_),1!==M&&(n*=M,a*=M,c*=M,d*=M),1!==E&&(i*=E,r*=E,l*=E,h*=E),1!==P&&(e*=P,o*=P,s*=P,u*=P),(f||D)&&(f&&(A+=n*-f,O+=a*-f,N+=c*-f+f),D&&(A+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,O+=k.yOrigin-(k.xOrigin*o+k.yOrigin*r)+k.yOffset),A<g&&A>-g&&(A="0"),O<g&&O>-g&&(O="0"),N<g&&N>-g&&(N=0)),b=k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix3d(":"matrix3d(",b+=(e<g&&e>-g?"0":e)+","+(o<g&&o>-g?"0":o)+","+(s<g&&s>-g?"0":s),b+=","+(u<g&&u>-g?"0":u)+","+(i<g&&i>-g?"0":i)+","+(r<g&&r>-g?"0":r),C||I||1!==M?(b+=","+(l<g&&l>-g?"0":l)+","+(h<g&&h>-g?"0":h)+","+(n<g&&n>-g?"0":n),b+=","+(a<g&&a>-g?"0":a)+","+(c<g&&c>-g?"0":c)+","+(d<g&&d>-g?"0":d)+","):b+=",0,0,0,0,1,0,",b+=A+","+O+","+N+","+(R?1+-N/R:1)+")",T[It]=b}};(c=At.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,kt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,s,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var c;"function"==typeof l[i]&&(c=l[i],l[i]=e);var u,h,d,p,f,g,y,_,b,x=t._gsTransform,w=t.style,k=Ct.length,T=l,S={},C=Ht(t,o,!0,T.parseTransform),I=T.transform&&("function"==typeof T.transform?T.transform(m,v):T.transform);if(n._transform=C,I&&"string"==typeof I&&It)(h=H.style)[It]=I,h.display="block",h.position="absolute",L.body.appendChild(H),u=Ht(H,null,!1),C.svg&&(g=C.xOrigin,y=C.yOrigin,u.x-=C.xOffset,u.y-=C.yOffset,(T.transformOrigin||T.svgOrigin)&&(I={},Xt(t,at(T.transformOrigin),I,T.svgOrigin,T.smoothOrigin,!0),g=I.xOrigin,y=I.yOrigin,u.x-=I.xOffset-C.xOffset,u.y-=I.yOffset-C.yOffset),(g||y)&&(_=Ft(H,!0),u.x-=g-(g*_[0]+y*_[2]),u.y-=y-(g*_[1]+y*_[3]))),L.body.removeChild(H),u.perspective||(u.perspective=C.perspective),null!=T.xPercent&&(u.xPercent=lt(T.xPercent,C.xPercent)),null!=T.yPercent&&(u.yPercent=lt(T.yPercent,C.yPercent));else if("object"==typeof T){if(u={scaleX:lt(null!=T.scaleX?T.scaleX:T.scale,C.scaleX),scaleY:lt(null!=T.scaleY?T.scaleY:T.scale,C.scaleY),scaleZ:lt(T.scaleZ,C.scaleZ),x:lt(T.x,C.x),y:lt(T.y,C.y),z:lt(T.z,C.z),xPercent:lt(T.xPercent,C.xPercent),yPercent:lt(T.yPercent,C.yPercent),perspective:lt(T.transformPerspective,C.perspective)},null!=(f=T.directionalRotation))if("object"==typeof f)for(h in f)T[h]=f[h];else T.rotation=f;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(u.x=0,u.xPercent=lt(T.x,C.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(u.y=0,u.yPercent=lt(T.y,C.yPercent)),u.rotation=ct("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:C.rotation-C.skewY,C.rotation-C.skewY,"rotation",S),Mt&&(u.rotationX=ct("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":C.rotationX||0,C.rotationX,"rotationX",S),u.rotationY=ct("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":C.rotationY||0,C.rotationY,"rotationY",S)),u.skewX=ct(T.skewX,C.skewX-C.skewY),(u.skewY=ct(T.skewY,C.skewY))&&(u.skewX+=u.skewY,u.rotation+=u.skewY)}for(Mt&&null!=T.force3D&&(C.force3D=T.force3D,p=!0),C.skewType=T.skewType||C.skewType||a.defaultSkewType,(d=C.force3D||C.z||C.rotationX||C.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==T.scale||(u.scaleZ=1);--k>-1;)((I=u[b=Ct[k]]-C[b])>1e-6||I<-1e-6||null!=T[b]||null!=B[b])&&(p=!0,r=new yt(C,b,C[b],I,r),b in S&&(r.e=S[b]),r.xs0=0,r.plugin=s,n._overwriteProps.push(r.n));return I=T.transformOrigin,C.svg&&(I||T.svgOrigin)&&(g=C.xOffset,y=C.yOffset,Xt(t,at(I),u,T.svgOrigin,T.smoothOrigin),r=_t(C,"xOrigin",(x?C:u).xOrigin,u.xOrigin,r,"transformOrigin"),r=_t(C,"yOrigin",(x?C:u).yOrigin,u.yOrigin,r,"transformOrigin"),g===C.xOffset&&y===C.yOffset||(r=_t(C,"xOffset",x?g:C.xOffset,C.xOffset,r,"transformOrigin"),r=_t(C,"yOffset",x?y:C.yOffset,C.yOffset,r,"transformOrigin")),I=St?null:"0px 0px"),(I||Mt&&d&&C.zOrigin)&&(It?(p=!0,b=Et,I=(I||Z(t,b,o,!1,"50% 50%"))+"",(r=new yt(w,b,0,0,r,-1,"transformOrigin")).b=w[b],r.plugin=s,Mt?(h=C.zOrigin,I=I.split(" "),C.zOrigin=(I.length>2&&(0===h||"0px"!==I[2])?parseFloat(I[2]):h)||0,r.xs0=r.e=I[0]+" "+(I[1]||"50%")+" 0px",(r=new yt(C,"zOrigin",0,0,r,-1,r.n)).b=h,r.xs0=r.e=C.zOrigin):r.xs0=r.e=I):at(I+"",C)),p&&(n._transformType=C.svg&&St||!d&&3!==this._transformType?2:3),c&&(l[i]=c),r},prefix:!0}),kt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),kt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,a,s){e=this.format(e);var l,c,u,h,d,p,f,g,v,m,y,_,b,x,w,k,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(v=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=K(T[c])),-1!==(d=h=Z(t,T[c],o,!1,"0px")).indexOf(" ")&&(d=(h=d.split(" "))[0],h=h[1]),p=u=l[c],f=parseFloat(d),_=d.substr((f+"").length),(b="="===p.charAt(1))?(g=parseInt(p.charAt(0)+"1",10),p=p.substr(2),g*=parseFloat(p),y=p.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(p),y=p.substr((g+"").length)),""===y&&(y=n[i]||_),y!==_&&(x=J(t,"borderLeft",f,_),w=J(t,"borderTop",f,_),"%"===y?(d=x/v*100+"%",h=w/m*100+"%"):"em"===y?(d=x/(k=J(t,"borderLeft",1,"em"))+"em",h=w/k+"em"):(d=x+"px",h=w+"px"),b&&(p=parseFloat(d)+g+y,u=parseFloat(h)+g+y)),a=bt(S,T[c],d+" "+h,p+" "+u,!1,"0px",a);return a},prefix:!0,formatter:gt("0px 0px 0px 0px",!1,!0)}),kt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,a){return bt(t.style,i,this.format(Z(t,i,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:gt("0px 0px",!1,!0)}),kt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,a){var s,l,c,u,h,d,p="background-position",f=o||Q(t,null),v=this.format((f?g?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==v.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(d=Z(t,"backgroundImage").replace(E,""))&&"none"!==d){for(s=v.split(" "),l=m.split(" "),z.setAttribute("src",d),c=2;--c>-1;)(u=-1!==(v=s[c]).indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(h=0===c?t.offsetWidth-z.width:t.offsetHeight-z.height,s[c]=u?parseFloat(v)/100*h+"px":parseFloat(v)/h*100+"%");v=s.join(" ")}return this.parseComplex(t.style,v,m,r,a)},formatter:at}),kt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",at(-1===t.indexOf(" ")?t+" "+t:t)}}),kt("perspective",{defaultValue:"0px",prefix:!0}),kt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),kt("transformStyle",{prefix:!0}),kt("backfaceVisibility",{prefix:!0}),kt("userSelect",{prefix:!0}),kt("margin",{parser:vt("marginTop,marginRight,marginBottom,marginLeft")}),kt("padding",{parser:vt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),kt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,a){var s,l,c;return g<9?(l=t.currentStyle,c=g<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(s=this.format(Z(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,r,a)}}),kt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),kt("autoRound,strictUnits",{parser:function(t,e,i,n,o){return o}}),kt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,a){var s=Z(t,"borderTopWidth",o,!1,"0px"),l=this.format(e).split(" "),c=l[0].replace(w,"");return"px"!==c&&(s=parseFloat(s)/J(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(s+" "+Z(t,"borderTopStyle",o,!1,"solid")+" "+Z(t,"borderTopColor",o,!1,"#000")),l.join(" "),r,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),kt("borderWidth",{parser:vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),kt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,o,r){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new yt(a,s,0,0,o,-1,i,!1,0,a[s],e)}});var jt=function(t){var e,i=this.t,n=i.filter||Z(this.data,"filter")||"",o=this.s+this.c*t|0;100===o&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!Z(this.data,"filter")):(i.filter=n.replace(S,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+o+")"),-1===n.indexOf("pacity")?0===o&&this.xn1||(i.filter=n+" alpha(opacity="+o+")"):i.filter=n.replace(k,"opacity="+o))};kt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,a){var s=parseFloat(Z(t,"opacity",o,!1,"1")),l=t.style,c="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),c&&1===s&&"hidden"===Z(t,"visibility",o)&&0!==e&&(s=0),G?r=new yt(l,"opacity",s,e-s,r):((r=new yt(l,"opacity",100*s,100*(e-s),r)).xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=a,r.setRatio=jt),c&&((r=new yt(l,"visibility",0,0,r,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Gt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(I,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Gt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};kt("className",{parser:function(t,e,n,r,a,s,l){var c,u,h,d,p,f=t.getAttribute("class")||"",g=t.style.cssText;if(a=r._classNamePT=new yt(t,n,0,0,a,2),a.setRatio=Yt,a.pr=-11,i=!0,a.b=f,u=et(t,o),h=t._gsClassPT){for(d={},p=h.data;p;)d[p.p]=1,p=p._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),c=it(t,u,et(t),l,d),t.setAttribute("class",f),a.data=c.firstMPT,t.style.cssText=g,a=a.xfirst=r.parse(t,c.difs,a,s)}});var Vt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,o,r,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",o=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],l[i]&&(l[i].parse===s?o=!0:i="transformOrigin"===i?Et:l[i].p),Gt(a,i);o&&(Gt(a,It),(r=this.t._gsTransform)&&(r.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(kt("clearProps",{parser:function(t,e,n,o,r){return r=new yt(t,n,0,0,r,2),r.setRatio=Vt,r.e=e,r.pr=-10,r.data=o._tween,i=!0,r}}),c="bezier,throwProps,physicsProps,physics2D".split(","),xt=c.length;xt--;)Tt(c[xt]);(c=a.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,s,c){if(!t.nodeType)return!1;this._target=v=t,this._tween=s,this._vars=e,m=c,u=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,o=Q(t,""),r=this._overwriteProps;var p,g,y,_,b,x,w,k,S,C=t.style;if(h&&""===C.zIndex&&("auto"!==(p=Z(t,"zIndex",o))&&""!==p||this._addLazySet(C,"zIndex",0)),"string"==typeof e&&(_=C.cssText,p=et(t,o),C.cssText=_+";"+e,p=it(t,p,et(t)).difs,!G&&T.test(e)&&(p.opacity=parseFloat(RegExp.$1)),e=p,C.cssText=_),e.className?this._firstPT=g=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=g=this.parse(t,e,null),this._transformType){for(S=3===this._transformType,It?d&&(h=!0,""===C.zIndex&&("auto"!==(w=Z(t,"zIndex",o))&&""!==w||this._addLazySet(C,"zIndex",0)),f&&this._addLazySet(C,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):C.zoom=1,y=g;y&&y._next;)y=y._next;k=new yt(t,"transform",0,0,null,2),this._linkCSSP(k,null,y),k.setRatio=It?Wt:zt,k.data=this._transform||Ht(t,o,!0),k.tween=s,k.pr=-1,r.pop()}if(i){for(;g;){for(x=g._next,y=_;y&&y.pr>g.pr;)y=y._next;(g._prev=y?y._prev:b)?g._prev._next=g:_=g,(g._next=y)?y._prev=g:b=g,g=x}this._firstPT=_}return!0},c.parse=function(t,e,i,r){var a,s,c,h,d,p,f,g,y,_,b=t.style;for(a in e)"function"==typeof(p=e[a])&&(p=p(m,v)),(s=l[a])?i=s.parse(t,p,a,this,i,r,e):(d=Z(t,a,o)+"",y="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||y&&C.test(p)?(y||(p=((p=dt(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),i=bt(b,a,d,p,!0,"transparent",i,0,r)):y&&R.test(p)?i=bt(b,a,d,p,!0,null,i,0,r):(f=(c=parseFloat(d))||0===c?d.substr((c+"").length):"",""!==d&&"auto"!==d||("width"===a||"height"===a?(c=rt(t,a,o),f="px"):"left"===a||"top"===a?(c=tt(t,a,o),f="px"):(c="opacity"!==a?0:1,f="")),(_=y&&"="===p.charAt(1))?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),g=p.replace(w,"")):(h=parseFloat(p),g=y?p.replace(w,""):""),""===g&&(g=a in n?n[a]:f),p=h||0===h?(_?h+c:h)+g:e[a],f!==g&&""!==g&&(h||0===h)&&c&&(c=J(t,a,c,f),"%"===g?(c/=J(t,a,100,"%")/100,!0!==e.strictUnits&&(d=c+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?c/=J(t,a,1,g):"px"!==g&&(h=J(t,a,h,g),g="px"),_&&(h||0===h)&&(p=h+c+g)),_&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(i=new yt(b,a,h||c||0,0,i,-1,a,!1,0,d,p)).xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:d:V("invalid "+a+" tween value: "+e[a]):(i=new yt(b,a,c,h-c,i,0,a,!1!==u&&("px"===g||"zIndex"===a),0,d,p)).xs0=g)),r&&i&&!i.plugin&&(i.plugin=r);return i},c.setRatio=function(t){var e,i,n,o=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(e=o.c*t+o.s,o.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),o.type)if(1===o.type)if(2===(n=o.l))o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2;else if(3===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(i=o.xs0+e+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(t);else o.t[o.p]=e+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(t),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(e=Math.round(o.s+o.c),o.type){if(1===o.type){for(n=o.l,i=o.xs0+e+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}}else o.t[o.p]=e+o.xs0;else o.t[o.p]=o.e;else o.setRatio(t);o=o._next}},c._enableTransforms=function(t){this._transform=this._transform||Ht(this._target,o,!0),this._transformType=this._transform.svg&&St||!t&&3!==this._transformType?2:3};var Ut=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new yt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Ut,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var i,n,o,r=e;if(e.autoAlpha||e.alpha){r={};for(n in e)r[n]=e[n];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(e.className&&(i=this._classNamePT)&&((o=i.xfirst)&&o._prev?this._linkCSSP(o._prev,i._next,o._prev._prev):o===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,o._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,r)};var qt=function(t,e,i){var n,o,r,a;if(t.slice)for(o=t.length;--o>-1;)qt(t[o],e,i);else for(o=(n=t.childNodes).length;--o>-1;)a=(r=n[o]).type,r.style&&(e.push(et(r)),i&&i.push(r)),1!==a&&9!==a&&11!==a||!r.childNodes.length||qt(r,e,i)};return a.cascadeTo=function(t,i,n){var o,r,a,s,l=e.to(t,i,n),c=[l],u=[],h=[],d=[],p=e._internals.reservedProps;for(t=l._targets||l.target,qt(t,u,d),l.render(i,!0,!0),qt(t,h),l.render(0,!0,!0),l._enabled(!0),o=d.length;--o>-1;)if((r=it(d[o],u[o],h[o])).firstMPT){r=r.difs;for(a in n)p[a]&&(r[a]=n[a]);s={};for(a in r)s[a]=u[o][a];c.push(e.fromTo(d[o],i,s,r))}return c},t.activate([a]),a},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},e=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype;e._onInitAllProps=function(){for(var e,i,n,o=this._tween,r=o.vars.roundProps.join?o.vars.roundProps:o.vars.roundProps.split(","),a=r.length,s={},l=o._propLookup.roundProps;--a>-1;)s[r[a]]=Math.round;for(a=r.length;--a>-1;)for(e=r[a],i=o._firstPT;i;)n=i._next,i.pg?i.t._mod(s):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:o._firstPT===i&&(o._firstPT=n),i._next=i._prev=null,o._propLookup[e]=l)),i=n;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,i,n){var o,r;if("function"!=typeof t.setAttribute)return!1;for(o in e)"function"==typeof(r=e[o])&&(r=r(n,t)),this._addTween(t,"setAttribute",t.getAttribute(o)+"",r+"",o,!1,o),this._overwriteProps.push(o);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var o,r,a,s,l,c,u=!0===e.useRadians?2*Math.PI:360;for(o in e)"useRadians"!==o&&("function"==typeof(s=e[o])&&(s=s(n,t)),r=(c=(s+"").split("_"))[0],a=parseFloat("function"!=typeof t[o]?t[o]:t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]()),l=(s=this.finals[o]="string"==typeof r&&"="===r.charAt(1)?a+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0)-a,c.length&&(-1!==(r=c.join("_")).indexOf("short")&&(l%=u)!==l%(u/2)&&(l=l<0?l+u:l-u),-1!==r.indexOf("_cw")&&l<0?l=(l+9999999999*u)%u-(l/u|0)*u:-1!==r.indexOf("ccw")&&l>0&&(l=(l-9999999999*u)%u-(l/u|0)*u)),(l>1e-6||l<-1e-6)&&(this._addTween(t,o,a,a+l,o),this._overwriteProps.push(o)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,o=_gsScope.GreenSockGlobals||_gsScope,r=o.com.greensock,a=2*Math.PI,s=Math.PI/2,l=r._class,c=function(e,i){var n=l("easing."+e,function(){},!0),o=n.prototype=new t;return o.constructor=n,o.getRatio=i,n},u=t.register||function(){},h=function(t,e,i,n,o){var r=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(r,t),r},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),o=n.prototype=new t;return o.constructor=n,o.getRatio=i,o.config=function(t){return new n(t)},n},f=h("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),v=g.prototype=new t;return v.constructor=g,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),v.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){for(var i,n,o,r,a,s,l=(e=e||{}).taper||"none",c=[],u=0,h=0|(e.points||20),p=h,f=!1!==e.randomize,g=!0===e.clamp,v=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/h*p,n=v?v.getRatio(i):i,o="none"===l?m:"out"===l?(r=1-i)*r*m:"in"===l?i*i*m:i<.5?(r=2*i)*r*.5*m:(r=2*(1-i))*r*.5*m,f?n+=Math.random()*o-.5*o:p%2?n+=.5*o:n-=.5*o,g&&(n>1?n=1:n<0&&(n=0)),c[u++]={x:i,y:n};for(c.sort(function(t,e){return t.x-e.x}),s=new d(1,1,null),p=h;--p>-1;)a=c[p],s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,h("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var o=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),r=o.prototype=new t;return r.constructor=o,r.getRatio=i,r.config=function(t,e){return new o(t,e)},o},h("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),n("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",c("SineOut",function(t){return Math.sin(t*s)}),c("SineIn",function(t){return 1-Math.cos(t*s)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(o.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i={},n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var o,r,a,s,l,c=function(t){var e,i=t.split("."),o=n;for(e=0;e<i.length;e++)o[i[e]]=o=o[i[e]]||{};return o},u=c("com.greensock"),h=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),f={},g=function(e,o,r,a){this.sc=f[e]?f[e].sc:[],f[e]=this,this.gsClass=null,this.func=r;var s=[];this.check=function(l){for(var u,h,d,p,v,m=o.length,y=m;--m>-1;)(u=f[o[m]]||new g(o[m],[])).gsClass?(s[m]=u.gsClass,y--):l&&u.sc.push(this);if(0===y&&r){if(h=("com.greensock."+e).split("."),d=h.pop(),p=c(h.join("."))[d]=this.gsClass=r.apply(r,s),a)if(n[d]=i[d]=p,!(v="undefined"!=typeof module&&module.exports)&&"function"==typeof define&&define.amd)define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+e.split(".").pop(),[],function(){return p});else if(v)if("TweenMax"===e){module.exports=i.TweenMax=p;for(m in i)p[m]=i[m]}else i.TweenMax&&(i.TweenMax[d]=p);for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},v=t._gsDefine=function(t,e,i,n){return new g(t,e,i,n)},m=u._class=function(t,e,i){return e=e||function(){},v(t,[],function(){return e},i),e};v.globals=n;var y=[0,0,1,1],_=m("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?y.concat(e):y},!0),b=_.map={},x=_.register=function(t,e,i,n){for(var o,r,a,s,l=e.split(","),c=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(r=l[c],o=n?m("easing."+r,null,!0):u.easing[r]||{},a=h.length;--a>-1;)s=h[a],b[r+"."+s]=b[s+r]=o[s]=t.getRatio?t:t[s]||new t};for((a=_.prototype)._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},r=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--r>-1;)a=o[r]+",Power"+r,x(new _(null,null,1,r),a,"easeOut",!0),x(new _(null,null,2,r),a,"easeIn"+(0===r?",easeNone":"")),x(new _(null,null,3,r),a,"easeInOut");b.linear=u.easing.Linear.easeIn,b.swing=u.easing.Quad.easeInOut;var w=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(a=w.prototype).addEventListener=function(t,e,i,n,o){o=o||0;var r,a,c=this._listeners[t],u=0;for(this!==s||l||s.wake(),null==c&&(this._listeners[t]=c=[]),a=c.length;--a>-1;)(r=c[a]).c===e&&r.s===i?c.splice(a,1):0===u&&r.pr<o&&(u=a+1);c.splice(u,0,{c:e,s:i,up:n,pr:o})},a.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},a.dispatchEvent=function(t){var e,i,n,o=this._listeners[t];if(o)for((e=o.length)>1&&(o=o.slice(0)),i=this._eventTarget;--e>-1;)(n=o[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var k=t.requestAnimationFrame,T=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},C=S();for(r=(o=["ms","moz","webkit","o"]).length;--r>-1&&!k;)k=t[o[r]+"RequestAnimationFrame"],T=t[o[r]+"CancelAnimationFrame"]||t[o[r]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,n,o,r,a,c=this,u=S(),h=!(!1===e||!k)&&"auto",p=500,f=33,g=function(t){var e,s,l=S()-C;l>p&&(u+=l-f),C+=l,c.time=(C-u)/1e3,e=c.time-a,(!i||e>0||!0===t)&&(c.frame++,a+=e+(e>=r?.004:r-e),s=!0),!0!==t&&(o=n(g)),s&&c.dispatchEvent("tick")};w.call(c),c.time=c.frame=0,c.tick=function(){g(!0)},c.lagSmoothing=function(t,e){p=t||1e10,f=Math.min(e,p,0)},c.sleep=function(){null!=o&&(h&&T?T(o):clearTimeout(o),n=d,o=null,c===s&&(l=!1))},c.wake=function(t){null!==o?c.sleep():t?u+=-C+(C=S()):c.frame>10&&(C=S()-p+5),n=0===i?d:h&&k?k:function(t){return setTimeout(t,1e3*(a-c.time)+1|0)},c===s&&(l=!0),g(2)},c.fps=function(t){if(!arguments.length)return i;r=1/((i=t)||60),a=this.time+r,c.wake()},c.useRAF=function(t){if(!arguments.length)return h;c.sleep(),h=t,c.fps(i)},c.fps(t),setTimeout(function(){"auto"===h&&c.frame<5&&"hidden"!==document.visibilityState&&c.useRAF(!1)},1500)}),(a=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var I=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Y){l||s.wake();var i=this.vars.useFrames?G:Y;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});s=I.ticker=new u.Ticker,(a=I.prototype)._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var P=function(){l&&S()-C>2e3&&s.wake(),setTimeout(P,2e3)};P(),a.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},a.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(t,e,i){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},a._enabled=function(t,e){return l||s.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(t,e){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},a._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],o=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(o);break;case 1:i.call(o,n[0]);break;case 2:i.call(o,n[0],n[1]);break;default:i.apply(o,n)}},a.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[t];null==e?delete o[t]:(o[t]=e,o[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,o[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,i){if(l||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-t:t)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(N.length&&U(),this.render(t,e,!1),N.length&&U())}return this},a.progress=a.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(l||t||s.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var E=m("core.SimpleTimeline",function(t){I.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(a=E.prototype=new I).constructor=E,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(t,e,i,n){var o,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),o=this._last,this._sortChildren)for(r=t._startTime;o&&o._startTime>r;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=o,this._recent=t,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,i){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;o;)n=o._next,(o._active||t>=o._startTime&&!o._paused)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,e,i):o.render((t-o._startTime)*o._timeScale,e,i)),o=n},a.rawTime=function(){return l||s.wake(),this._totalTime};var M=m("TweenLite",function(e,i,n){if(I.call(this,i,n),this.render=M.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:M.selector(e)||e;var o,r,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?j[M.defaultOverwrite]:"number"==typeof l?l>>0:j[l],(s||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=a=h(e),this._propLookup=[],this._siblings=[],o=0;o<a.length;o++)(r=a[o])?"string"!=typeof r?r.length&&r!==t&&r[0]&&(r[0]===t||r[0].nodeType&&r[0].style&&!r.nodeType)?(a.splice(o--,1),this._targets=a=a.concat(h(r))):(this._siblings[o]=q(r,this,!1),1===l&&this._siblings[o].length>1&&Q(r,this,null,1,this._siblings[o])):"string"==typeof(r=a[o--]=M.selector(r))&&a.splice(o+1,1):a.splice(o--,1);else this._propLookup={},this._siblings=q(e,this,!1),1===l&&this._siblings.length>1&&Q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),A=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,n={};for(i in t)W[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!F[i]||F[i]&&F[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};(a=M.prototype=new I).constructor=M,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,M.version="1.19.0",M.defaultEase=a._ease=new _(null,null,1,1),M.defaultOverwrite="auto",M.ticker=s,M.autoSleep=120,M.lagSmoothing=function(t,e){s.lagSmoothing(t,e)},M.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(M.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var N=[],D={},R=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,X=function(t){for(var e,i=this._firstPT;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&e>-1e-6&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},$=function(t,e,i,n){var o,r,a,s,l,c,u,h=[t,e],d=0,p="",f=0;for(h.start=t,i&&(i(h),t=h[0],e=h[1]),h.length=0,o=t.match(R)||[],r=e.match(R)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),l=r.length,s=0;s<l;s++)u=r[s],p+=(c=e.substr(d,e.indexOf(u,d)-d))||!s?c:",",d+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),u===o[s]||o.length<=s?p+=u:(p&&(h.push(p),p=""),a=parseFloat(o[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:f&&f<4?Math.round:0}),d+=u.length;return(p+=e.substr(d))&&h.push(p),h.setRatio=X,h},B=function(t,e,i,n,o,r,a,s,l){"function"==typeof n&&(n=n(l||0,t));var c,u="get"===i?t[e]:i,h=typeof t[e],d="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:u,f:"function"===h,pg:0,n:o||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-u||0};if("number"!==h&&("function"===h&&"get"===i&&(c=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p.s=u=a?t[c](a):t[c]()),"string"==typeof u&&(a||isNaN(u))?(p.fp=a,p={t:$(u,n,s||M.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):d||(p.s=parseFloat(u),p.c=parseFloat(n)-p.s||0)),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},L=M._internals={isArray:p,isSelector:A,lazyTweens:N,blobDif:$},F=M._plugins={},H=L.tweenLookup={},z=0,W=L.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},G=I._rootFramesTimeline=new E,Y=I._rootTimeline=new E,V=30,U=L.lazyRender=function(){var t,e=N.length;for(D={};--e>-1;)(t=N[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};Y._startTime=s.time,G._startTime=s.frame,Y._active=G._active=!0,setTimeout(U,1),I._updateRoot=M.render=function(){var t,e,i;if(N.length&&U(),Y.render((s.time-Y._startTime)*Y._timeScale,!1,!1),G.render((s.frame-G._startTime)*G._timeScale,!1,!1),N.length&&U(),s.frame>=V){V=s.frame+(parseInt(M.autoSleep,10)||120);for(i in H){for(t=(e=H[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if((!(i=Y._first)||i._paused)&&M.autoSleep&&!G._first&&1===s._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||s.sleep()}}},s.addEventListener("tick",I._updateRoot);var q=function(t,e,i){var n,o,r=t._gsTweenID;if(H[r||(t._gsTweenID=r="t"+z++)]||(H[r]={target:t,tweens:[]}),e&&(n=H[r].tweens,n[o=n.length]=e,i))for(;--o>-1;)n[o]===e&&n.splice(o,1);return H[r].tweens},K=function(t,e,i,n){var o,r,a=t.vars.onOverwrite;return a&&(o=a(t,e,i,n)),(a=M.onOverwrite)&&(r=a(t,e,i,n)),!1!==o&&!1!==r},Q=function(t,e,i,n,o){var r,a,s,l;if(1===n||n>=4){for(l=o.length,r=0;r<l;r++)if((s=o[r])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var c,u=e._startTime+1e-10,h=[],d=0,p=0===e._duration;for(r=o.length;--r>-1;)(s=o[r])===e||s._gc||s._paused||(s._timeline!==e._timeline?(c=c||Z(e,0,p),0===Z(s,c,p)&&(h[d++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((p||!s._initted)&&u-s._startTime<=2e-10||(h[d++]=s)));for(r=d;--r>-1;)if(s=h[r],2===n&&s._kill(i,t,e)&&(a=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!K(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},Z=function(t,e,i){for(var n=t._timeline,o=n._timeScale,r=t._startTime;n._timeline;){if(r+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return(r/=o)>e?r-e:i&&r===e||!t._initted&&r-e<2e-10?1e-10:(r+=t.totalDuration()/t._timeScale/o)>e+1e-10?0:r-e-1e-10};a._init=function(){var t,e,i,n,o,r,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(n in a.startAt)o[n]=a.startAt[n];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=c&&!1!==a.lazy,o.startAt=o.delay=null,this._startAt=M.to(this.target,0,o),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),i={};for(n in a)W[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&!1!==a.lazy,i.immediateRender=c,this._startAt=M.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof _?u:"function"==typeof u?new _(u,a.easeParams):b[u]||M.defaultEase:M.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&M._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(e,i,n,o,r){var a,s,l,c,u,h;if(null==e)return!1;D[e._gsTweenID]&&U(),this.vars.css||e.style&&e!==t&&e.nodeType&&F.css&&!1!==this.vars.autoCSS&&O(this.vars,e);for(a in this.vars)if(h=this.vars[a],W[a])h&&(h instanceof Array||h.push&&p(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(F[a]&&(c=new F[a])._onInitTween(e,this.vars[a],this,r)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)i[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else i[a]=B.call(this,e,a,"get",h,a,0,null,this.vars.stringFilter,r);return o&&this._kill(o,e)?this._initProps(e,i,n,o,r):this._overwrite>1&&this._firstPT&&n.length>1&&Q(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,o,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(D[e._gsTweenID]=!0),l)},a.render=function(t,e,i){var n,o,r,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-7||1e-10===c&&"isPause"!==this.data)&&c!==t&&(i=!0,c>1e-10&&(o="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(1e-10!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||c===t?t:1e-10)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,h=this._easeType,d=this._easePower;(1===h||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===d?u*=u:2===d?u*=u*u:3===d?u*=u*u*u:4===d&&(u*=u*u*u*u),this.ratio=1===h?1-u:2===h?u:t/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,N.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==s||n||i)&&this._callback("onUpdate")),o&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===l&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},a._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:M.selector(e)||e;var n,o,r,a,s,l,c,u,h,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(e)||A(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(c=t||s,u=t!==o&&"all"!==o&&t!==s&&("object"!=typeof t||!t._tempKill),i&&(M.onOverwrite||this.vars.onOverwrite)){for(r in c)s[r]&&(h||(h=[]),h.push(r));if((h||!t)&&!K(this,i,e,h))return!1}for(r in c)(a=s[r])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[r]),u&&(o[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},a._enabled=function(t,e){if(l||s.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=q(n[i],this,!0);else this._siblings=q(this.target,this,!0)}return I.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(t?"_onEnable":"_onDisable",this)},M.to=function(t,e,i){return new M(t,e,i)},M.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(t,e,i)},M.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new M(t,e,n)},M.delayedCall=function(t,e,i,n,o){return new M(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},M.set=function(t,e){return new M(t,0,e)},M.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:M.selector(t)||t;var i,n,o,r;if((p(t)||A(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(M.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(r=n[i],o=i;--o>-1;)r===n[o]&&n.splice(i,1)}else for(i=(n=q(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},M.killTweensOf=M.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=M.getTweensOf(t,e),o=n.length;--o>-1;)n[o]._kill(i,t)};var J=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=J.prototype},!0);if(a=J.prototype,J.version="1.19.0",J.API=2,a._firstPT=null,a._addTween=B,a.setRatio=X,a._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._mod=a._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},M._onPluginEvent=function(t,e){var i,n,o,r,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=o;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:r)?s._prev._next=s:o=s,(s._next=n)?n._prev=s:r=s,s=a}s=e._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},J.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===J.API&&(F[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,o=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){J.call(this,i,n),this._overwriteProps=o||[]},!0===t.global),s=a.prototype=new J(i);s.constructor=a,a.API=t.API;for(e in r)"function"==typeof t[e]&&(s[r[e]]=t[e]);return a.version=t.version,J.activate([a]),a},o=t._gsQueue){for(r=0;r<o.length;r++)o[r]();for(a in f)f[a].func||t.console.log("GSAP encountered missing dependency: "+a)}l=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t,e,i,n){var o=t.screenSize.width,r=t.screenSize.height,a=o,s=r,l=0,c=0;return i||Nr("getVisualSize没有提供setVisualMode"),2===i&&(t.pptVertical&&(t.screenVertical&&(l=(r-(s=e.pptHeight*e.width))/2),t.screenHorizontal&&(c=(o-(a=e.pptWidth*e.height))/2)),t.pptHorizontal&&(t.screenHorizontal&&(l=(r-(s=e.pptHeight*e.width))/2),t.screenVertical&&(l=(r-(s=e.pptHeight*e.width))/2)),s>r&&(s=r,l=0)),3===i&&(t.pptVertical&&(t.screenVertical&&(c=(o-(a=e.pptWidth*e.height))/2,a<o&&(a=o,c=0)),t.screenHorizontal&&(c=(o-(a=e.pptWidth*e.height))/2)),t.pptHorizontal&&(t.screenHorizontal&&(c=(o-(a=e.pptWidth*e.height))/2,!n&&a<o&&(a=o,c=0)),t.screenVertical&&(l=(r-(s=e.pptHeight*e.width))/2))),t.launch.doublePageMode&&1===i&&(a/=2),5===i&&(a=2*o),{width:Dr(a),height:Dr(s),left:Dr(c),top:Dr(l)}}function e(){if(Xut.IBooks.Enabled){var t=Xut.IBooks.CONFIG.screenSize;if(t)return{width:t.width,height:t.height}}var e=document.documentElement.clientWidth||$(window).width(),i=document.documentElement.clientHeight||$(window).height();return jr.launch.visualHeight&&(jr.launch.visualTop=i-jr.launch.visualHeight,i=jr.launch.visualHeight),{width:e,height:i}}function i(t){return t.width>t.height?"horizontal":"vertical"}function n(t,e,i){var n=t.screenSize.width,o=t.screenSize.height,r=t.screenHorizontal,a=e||(r?Rr:Xr),s=i||(r?Xr:Rr),l=n/a,c=o/s;return{width:l,height:c,left:l,top:c,pptWidth:a,pptHeight:s}}function o(t,e,i){var n=e.width/i.pptWidth,o=e.height/i.pptHeight;return{width:n,height:o,left:n,top:o,offsetTop:0,offsetLeft:0}}function r(){Jr=null,ta=null,ea=null,ia=null}function a(){qr=!1,Kr=!1,Qr=!1,Zr=!1,jr.data.pathAddress=ra(),jr.data.rootPath=jr.data.pathAddress.replace("/gallery/","")}function s(t,e){return ha(t,e),5===jr.launch.visualMode?(ua(t,e,jr.launch.visualMode),void(jr.originalVisualSize=jr.visualSize)):jr.launch.doublePageMode&&jr.pptVertical&&jr.screenHorizontal?(ua(t,e,3===jr.launch.visualMode?2:jr.launch.visualMode),void(jr.originalVisualSize=jr.visualSize)):(jr.pptHorizontal&&jr.screenHorizontal&&3===jr.launch.visualMode?ua(t,e,jr.launch.visualMode,!0):ua(t,e,3===jr.launch.visualMode?2:jr.launch.visualMode),jr.originalVisualSize=jr.visualSize,jr.pptVertical&&jr.screenHorizontal&&(jr.verticalToHorizontalVisual=!0),jr.pptHorizontal&&jr.screenVertical&&(jr.horizontalToVerticalVisual=!0),void(2===jr.launch.visualMode?jr.visualSize.left&&da(t,e,{width:jr.visualSize.width,height:jr.visualSize.height},jr.launch.visualMode):3===jr.launch.visualMode&&(jr.visualSize.left?da(t,e,{width:jr.visualSize.width,height:jr.visualSize.height},1):da(t,e,"",1))))}function l(e){return t(jr,Vr,e)}function c(t){return o(jr,t,Vr)}function u(t,e,i,n,o){pa(t,e,{value:i,enumerable:n,writable:o,configurable:!0})}function h(t,e,i){pa(t,e,{get:i.get,set:i.set})}function d(t){return t.replace(/(\w)/,function(t){return t.toUpperCase()})}function p(t,e){if(t&&e){if(e.length&&~e.indexOf(t))return!0;if("string"==typeof e&&t===e)return!0}}function f(t){return Number(t)||null}function g(){return Object.create(null)}function v(t,e){for(var i in e)i&&(t[i]?Nr("接口方法重复","Key->"+i,"Value->"+t[i]):t[i]=e[i])}function m(t){if(t){var e=void 0;try{e=JSON.parse(t)}catch(e){return Nr("parseJSON失败:"+t),!1}return e}}function y(t){return t.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,"")}function b(t){try{var e="(function(){"+y(t)+"})";return new Function("return "+e)()}catch(e){Nr("解析json出错"+t)}}function x(t){if(t&&t.length){for(var e=t.length;--e;)t.lastIndexOf(t[e],e-1)>-1&&t.splice(e,1);return t}return t}function w(t,e,i,n){if(t.xutHandler){var o=t.xutHandler,r=xa[o];r&&(r[e]?"transitionend"!==e&&Nr(e+"：事件重复绑定添加"):r[e]=[i,n])}else xa[wa]=Mr({},e,[i,n]),t.xutHandler=wa++}function k(t){var e=t.xutHandler,i=xa[e];i?(_.each(i,function(e,n){e&&(t.removeEventListener(n,e[0],e[1]),i[n]=null)}),delete xa[e]):Nr("移除所有事件出错")}function T(t,e){var i=t.xutHandler,n=xa[i];if(n){var o=n[e];o?(t.removeEventListener(e,o[0],o[1]),n[e]=null,delete n[e]):Nr("移除事件"+e+"出错"),Object.keys(n).length||delete xa[i]}else Nr("移除事件"+e+"出错")}function S(t){return t.length&&(t=t[0]),t}function C(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ia(e),Ca(Ta,S(t),e,i)}function I(t,e){t?(t=S(t),1!==arguments.length?_.isArray(e)?(Ia(e),Ca(Sa,t,e)):Nr("移除的事件句柄参数，必须是数组"):k(t)):Nr("移除事件对象不存在")}function P(t,e,i){switch(i.type){case"touchstart":case"mousedown":t.start&&t.start.call(e,i);break;case"touchmove":case"mousemove":t.move&&t.move.call(e,i);break;case"touchend":case"mouseup":case"mousecancel":case"touchcancel":case"mouseleave":t.end&&t.end.call(e,i);break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":t.transitionend&&t.transitionend.call(e,i)}}function E(t,e){var i=null;return va&&(i=t.touches)&&i.length>0&&(t=i[0]),e?t:t.target}function M(t){return t.touches&&t.touches[0]?t.touches[0]:t}function A(t,e){var i,n=t.sheet;if(Pa)n&&(i=!0);else if(n)try{n.cssRules&&(i=!0)}catch(t){"NS_ERROR_DOM_SECURITY_ERR"===t.name&&(i=!0)}setTimeout(function(){i?e():A(t,e)},20)}function O(t,e,i,n){function o(n){t.onload=t.onerror=t.onreadystatechange=null,i||(document.getElementsByTagName("head")[0]||document.documentElement).removeChild(t),t=null,e(n)}var r="onload"in t;i&&Pa?setTimeout(function(){A(t,e)},1):r?(t.onload=o,t.onerror=function(){o(!0)}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&o()}}function N(t,e,i){var n=/\.css(?:\?|$)/i.test(t),o=document.createElement(n?"link":"script");if(i){var r=$.isFunction(i)?i(t):i;r&&(o.charset=r)}O(o,e,n,t),n?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t);var a=document.getElementsByTagName("head")[0]||document.documentElement,s=a.getElementsByTagName("base")[0];return s?a.insertBefore(o,s):a.appendChild(o),o}function D(t,e){if(!t)return console.log("loadFigure data有错误"),void(e&&e());var i=void 0;if("string"==typeof t?(i=new Image).src=t:(i=t.image).src=t.url,i.complete)return e&&e.call(i,!0,!0),i;var n=i.width,o=i.height,r=function(){i=i.onload=i.onerror=null},a=function t(a){var s=i.width,l=i.height;if(s!==n||l!==o||s*l>1024)return e&&e(!0,a),t.end=!0,a&&r(),!0};return i.onerror=function(){a.end=!0,e&&e(!1),r()},a(!0)?void 0:(i.onload=function(){!a.end&&a(),e&&e(!0),r()},a.end||(Ea.push(a),null===Ma&&(Ma=setInterval(Aa,40))),i)}function R(){Na=null}function X(t){if(document.cookie.length>0){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?unescape(e[2]):null}return null}function B(t,e){if(t&&(_.isString(t)&&void 0!==e&&$a(t,e),_.isObject(t)))for(var i in t)B(i,t[i])}function L(t){if(t)return Ba(t)}function F(t){t&&La(t)}function H(){Fa()}function z(t){return t&&za.test(t)?t.substring(0,t.length-1):t}function W(t,e){var i=N(jr.launch.resource?jr.launch.resource+"/gallery/"+t+".css":jr.data.pathAddress+t+".css",e);i&&i.setAttribute("data-type",t)}function j(){Wa=null,jr.launch.brModeType&&"delete"!==jr.launch.brModeType&&(Wa=new RegExp("(\\w+["+jr.launch.brModeType+"]?)([."+jr.launch.baseImageSuffix+"]*)$","i"))}function G(t){var e=t,i=t,n=void 0;return Wa?(n=t.match(Wa))&&n.length?(e=n[0],i=n[1]):Nr("zoom-image-brModeType解析出错,result："+n):jr.launch.baseImageSuffix?(n=t.match(/(\w+)(\.\w+)(\.\w+)$/))&&n.length?(e=n[0],i=n[1]+n[3]):Nr("zoom-image-suffix解析出错,result："+n):(n=t.match(/\w+\.\w+$/))&&n.length?e=i=n[0]:Nr("zoom-image解析出错,result："+n),{original:i,suffix:e}}function Y(t,e){return t&&e?jr.launch.brModeType&&"delete"!==jr.launch.brModeType?t.replace(/\w+/gi,"$&."+e):t.replace(/\w+\./gi,"$&"+e+"."):t}function V(t){return jr.launch.useHDImageZoom&&jr.launch.imageSuffix&&jr.launch.imageSuffix[1440]?q(Y(t,jr.launch.imageSuffix[1440]),"getHDFilePath"):""}function U(t){return/\.[jpg|png|gif]+/i.test(t)}function q(t,e,i){if(!t)return"";var n=jr.launch;if(n.baseImageSuffix&&U(t)&&-1===t.indexOf("."+n.baseImageSuffix+".")){var o=t.match(/(\w+)\.(\w+)$/);o[1],o[2];t=o[1]+"."+n.baseImageSuffix+"."+o[2]}if(i)return jr.data.pathAddress+t;if(n.brModeType&&U(t)&&!/\_[i|a]+\./i.test(t)){var r="",a=void 0;if(Xut.plat.isBrowser){var s=t.match(/\w+([.]?[\w]*)\1/gi);return 3===s.length?(a=s[0],r="."+s[1]):a=s[0],""+(jr.data.pathAddress+a)+n.brModeType+r}return""+(jr.data.pathAddress+a)+r}return jr.data.pathAddress+t}function K(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),m(e.responseText)}function Q(t,e,i){var n=t[e];n||(n=t[e]={}),i.call(n)}function Z(t,e){try{new Function(function(t){return t.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,"")}(t))()}catch(t){Nr("加载脚本错误",e)}}function J(t){var e=Math.random().toString();return e=e.replace(/\b(0+)(\.+)/gi,""),e=parseInt(e),t+"?"+e}function tt(t){return 1===jr.launch.lauchMode&&-1!==t.indexOf("content/gallery/")&&(t=t.replace(/content\/gallery/gi,jr.data.pathAddress)),t}function et(){return ja.apply(void 0,arguments)}function it(t){var e=t.results,i=t.proportion,n=t.zoomMode,o=t.getStyle,r=ja({proportion:i,zoomMode:n,getStyle:o,width:e.width,height:e.height,left:e.left,top:e.top}),a=ja({proportion:i,zoomMode:n,getStyle:o,width:e.backwidth,height:e.backheight,left:e.backleft,top:e.backtop});return e.scaleWidth=r.width,e.scaleHeight=r.height,e.scaleLeft=r.left,e.scaleTop=r.top,r.isHide&&(e.isHide=r.isHide),e.scaleBackWidth=a.width,e.scaleBackHeight=a.height,e.scaleBackLeft=a.left,e.scaleBackTop=a.top,e}function nt(t,e){function i(t){t&&(t.removeAttribute("onerror"),t.src=null,t.removeAttribute("src"))}if(t){t.length||(t=$(t));try{"show"===e?t.find("img").each(function(t,e){return i(e)}):t.hide().find("img").each(function(t,e){return i(e)})}catch(t){console.log("销毁图片出错")}}}function ot(t,e){t&&(t.length||(t=$(t)),t.find("img").each(function(t,i){i.src=e}))}function rt(t){return jr.launch.preload?t:t+"?r="+(new Date).getTime()}function at(t,e,i){var n=void 0,o=void 0,r=void 0,a=void 0,s=function(i,n){N(rt(i),function(){(r=window.HTMLCONFIG[n])?(e(r),delete window.HTMLCONFIG[n]):(Nr("js文件加载失败，文件名:"+t),e(""))})};return"js"===i?(n=jr.getSvgPath()+t,o=t.replace(".js",""),void s(n,o)):"svg"===jr.launch.convert?(t=t.replace(".svg",".js"),o=t.replace(".js",""),a=jr.getSvgPath()+t,void s(a,o)):Xut.IBooks.CONFIG?(/.svg$/.test(t)&&(t=t.replace(".svg",".js")),n=jr.getSvgPath().replace("svg","js")+t,o=t.replace(".js",""),void N(rt(n),function(){(r=window.HTMLCONFIG[o]||window.IBOOKSCONFIG[o])?(e(r),delete window.HTMLCONFIG[o],delete window.IBOOKSCONFIG[o]):(Nr("编译:脚本加载失败，文件名:"+o),e(""))})):Xut.plat.isBrowser&&!jr.isPlugin?(a=jr.getSvgPath().replace("www/","")+t,jr.launch.resource&&(a=jr.getSvgPath()+t),void $.ajax({type:"get",dataType:"html",url:rt(a),success:function(t){e(t)},error:function(i,n){Nr("svg文件解释出错，文件名:"+t),e("")}})):void Xut.Plugin.ReadAssetsFile.readAssetsFileAction(jr.getSvgPath()+t,function(t){e(t)},function(t){e("")})}function st(t,e,i){return jr.launch.brModeType?"delete"===jr.launch.brModeType?""+t+e:""+t+jr.launch.brModeType+e:""+t+e+i}function lt(){if(Qa=window.SQLResult)if(_.isObject(Qa)){if(Qa.Setting){if(jr.launch.resource&&Qa.FlowData){!1!==jr.launch.columnCheck&&(jr.launch.columnCheck=!0);var t=jr.launch.baseImageSuffix?"."+jr.launch.baseImageSuffix:"";Qa.FlowData=Qa.FlowData.replace(Ka,function(e,i,n,o){return i+'="'+jr.launch.resource+"/gallery/"+st(n,t,o)})}return window.SQLResult=null,Qa}Nr("json数据库必须要表")}else Nr("json数据库必须是对象");else Nr("json数据库加载出错")}function ct(t){var e=jr.launch.database;e&&/.js$/.test(e)?(window.SQLResult=null,N(e,function(){t(lt())})):window.SQLResult?t(lt()):t()}function ut(){Qa.FlowData=null}function ht(){return Qa}function dt(){Qa=null}function pt(t,e){var i;if("string"==typeof t)e(i,t);else for(i in t)e(i,t[i])}function ft(t,e,i,n){var o=ht(),r=void 0,a=void 0;o?o[n]?(r=o[n],a={length:Object.keys(r).length,item:function(t){return r[t]}},e(a)):i({tName:":table not exist!!"}):$.ajax({url:jr.data.onlineModeUrl,dataType:"json",data:{xxtsql:t},success:function(t){r=t,a={length:t.length,item:function(t){return r[t]}},e(a)},error:i})}function gt(t,e){function i(t,e){d--,u.push(a(t,e)),0===d&&n()}function n(){if(u.length){var t=u.shift();s=t.tableName,t.execute()}else e(c.results?c.results:c,h)}function o(){n()}function r(t){h.push(s),console.log("数据查询错误 "+t.message,"类型",s),n()}function a(t,e){return{tableName:t,execute:function(){l?l.transaction(function(i){i.executeSql(e,[],function(e,i){c[t]=i.rows})},r,o):ft(e,function(e){c[t]=e,o()},r,t)}}}var s,l=jr.data.db,c={},u=[],h=[],d="string"==typeof t?1:Object.keys(t).length;pt(t,function(t,e){i(t||"results",e)})}function vt(t,e){gt("select * FROM "+t+" order by _id ASC",function(t,i){e(t,i)})}function mt(t){Xut.IBooks.CONFIG?t(Xut.IBooks.CONFIG.data):gt(Za,function(e,i){t(e,i)})}function yt(t,e,i,n){gt("delete from "+t+" where _id = "+e,function(t,e){t?t():e&&n()})}function _t(){return rs}function bt(t,e){rs=e||[],Xut.data=is=t}function xt(){is=null,ns=null,os=null,Xut.data=null}function wt(){Ja(is),is.Video&&(os=ts(is)),ns=es(is)}function kt(t){is.novelId=t,is.preventContent=!is.Content.length,is.query=function(t,e,i,n){switch(i){case"activityId":for(var o=e,r=0,a=(l=is[t]).length;r<a;r++)if((c=l.item(r))&&c[i]==o)return c;return;case"chapterId":case"seasonId":var s=e,l=is[t];if(l)for(var c,r=0,a=l.length;r<a;r++)(c=l.item(r))&&c[i]==s&&n&&n(c);return}var u=function(){var i=is[t];if(e){var n=e-i.start;return i.item(n)}return i.length?i.item(0):null};switch(t){case"appPage":return is.Chapter;case"appSection":return is.Season;case"sectionRelated":return ns["seasonId->"+e];case"Video":if(i)return u();var e=os[e];return is.query("Video",e,!0);default:return u()}},is.oneQuery=function(t,e){vt(t,function(t){e&&e(t)})},is.remove=function(t,e,i,n){yt(t,e,i,n)}}function Tt(t){mt(function(e,i){bt(e,i),wt(),kt(e.Novel.item(0)._id),t(e)})}function St(t){var e=void 0,i={},n={};_.each(t,function(n,o){e=t.item(o),i[e.name]=e.value}),_.defaults(i,cs);for(var o in cs)n[o]=Number(i[o]);return _.extend(jr.data,{appId:i.adUpdateTime?i.appId+"-"+/\S*/.exec(i.adUpdateTime)[0]:i.appId,settings:n,delayTime:i.delayTime,Inapp:i.Inapp,shortName:i.shortName,visualMode:i.visualMode?Number(i.visualMode):0}),Xut.Presentation.AdsId=i.adsId,i}function Ct(){if(!ds){var t=jr.visualSize.width,e=jr.visualSize.height,i=Math.min(t,e)/4,n=Math.round((e-i)/2),o=[0,.9167,.833,.75,.667,.5833,.5,.41667,.333,.25,.1667,.0833],r=[0,30,60,90,120,150,180,210,240,270,300,330],a=12,s="";if(gs)s+='<div class="xut-busy-middle fullscreen-background"\n                       style="background-image: url('+gs+');">\n                  </div>';else{for(;a--;)s+='<div class="xut-busy-spinner"\n              style="'+Xut.style.transform+":rotate("+r[a]+"deg) translate(0,-142%);"+Xut.style.animationDelay+":-"+o[a]+'s">\n         </div>';s='<div class="xut-busy-middle">'+s+"</div>"}hs=$(".xut-busy-icon").html(String.styleFormat('<div style="width:'+i+"px;height:"+i+"px;margin:"+n+"px auto;margin-top:"+(jr.visualSize.top+n)+'px;">\n        <div style="height:30%;"></div>\n          '+s+'\n        <div class="xut-busy-text"></div>\n     </div>'))}}function It(t){Ss=t}function Pt(t,e,i){Ss[t]&&Ss[t][e]&&(Ss[t][e]=i)}function Et(){return Ss}function Mt(t,e){if(Ss&&(t||e)){var i=Ss[t],n=0;for(var o in i)o<=e&&(n+=i[o],--n);return n>0?n:0}}function At(t,e){if(Ss&&t&&e){var i=Ss[t],n=0;for(var o in i)o<e&&(n+=i[o],--n);return n>0?n:0}}function Ot(t){if(Ss)return Object.keys(Ss[t]).length}function Nt(t,e){if(Ss){if(t){if(e)return Ss[t]&&Ss[t][e];var i=Ss[t],n=0;for(var o in i)n+=i[o];return n}console.log("getCounts失败")}}function Dt(t,e){return!!Nt(t,e)}function Rt(t,e,i,n){var o=[];Bt(t,function(t,i,r){Cs&&n>Ps&&(r=Is),e[t][i]!==r&&(e[t][i]=r,o.push(As(t,i,r)))}),--n,o.length&&Os(o),n?Es=setTimeout(function(){Rt(t,e,i,n)},500):(jr.launch.columnCheck=!1,$t(),i())}function Xt(t,e,i){Rt(t,e,i,Ms)}function $t(){Xut.Application.unWatch("change:number:total change:column"),clearTimeout(Es),Es=null}function Bt(t,e){t.each(function(i,n){var o=n.id.match(/\d/)[0];t.children().each(function(t,i){var n=i.id;if(n){var r=n.match(/\d+/)[0],a=void 0;"h"===jr.launch.scrollMode?a=Ls(i,"#columns-content"):"v"===jr.launch.scrollMode&&(a=Ls(i,"#scroller-section")),e(o,r,a)}})})}function Lt(t){var e=$("#xut-stream-flow");e.length&&e.remove();var i=function(t,e,i){t.css({width:e,height:i,display:"block"})},n=function(n,o){var r=e.children();if(r.length){var a={};i(e,n,o),Bs(a,r,n,o),setTimeout(function(){Bt(r,function(t,e,i){Cs&&jr.launch.columnCheck&&(i=Is),a[t][e]=i}),It(a),jr.launch.columnCheck?Xt(r,$.extend(!0,{},a),function(){e.hide()}):e.hide(),t(Object.keys(a).length)},100),$("body").append(e)}else t()},o=ht();if(o&&o.FlowData){var r=l(1),a=Rs=r.height;W("xxtflow",function(){e=$(o.FlowData),ut(),n(r.width,a)})}else t()}function Ft(t){function e(e){B(t||"aaron",JSON.stringify(e))}function i(){var e=L(t);return e?m(e):""}function n(e,i,n){return"transformFilter"===t&&void 0===n&&(n=i,i="transformFilter"),e(i,Number(n))}var o=function(){var t=i(),e=g();return t&&_.each(t,function(t,i){e[i]=t}),e}();return{add:function(t,i){n(function(t,i){o[t]||(o[t]=[]),-1===o[t].indexOf(i)&&(o[t].push(i),e(o))},t,i)},remove:function(t,i){n(function(t,i){var n=o[t]||[],r=n.indexOf(i);-1!==r&&(n.splice(r,1),e(o))},t,i)},has:function(t,e){return n(function(t,e){var i=o[t];return!!i&&-1!==i.indexOf(e)},t,e)},each:function(t){return n(function(t,e){var i;if(i=o[t])return function(t,e){_.each(i,function(i){var n=t.indexOf(i);-1!==n&&e(n)})}},t)},size:function(){return _.keys(o).length},empty:function(){F(t),o={}}}}function Ht(){if(Hs||(Hs=new Fs),Hs){var t=Hs.get();if(t)return t}return new Audio}function zt(){Hs&&Hs.destory(),Hs=null}function Wt(){if(zs||(zs=new Fs),zs){var t=zs.get();if(t)return t}return new Image}function jt(){zs&&zs.destory(),zs=null}function Gt(t,e){var i=jr.launch.brModeType;i&&(t=t.replace(/.png$|.jpg$/,i));var n=D({image:Wt(),url:t},function(){zs&&zs.add(n),e()});return{destory:function(){n&&(n.src=null,n.removeAttribute("src"),n=null)}}}function Yt(t,e){Zs[t]||(Zs[t]=e,e.reset(12e3,function(){Zs[t].destory(),Zs[t]=null,delete Zs[t]}))}function Vt(){if(Zs)for(var t in Zs)Zs[t].destory(),Zs[t]=null;Zs={}}function Ut(t,e){return Gt(t,function(i,n){!Ut.url&&i&&(Ut.url=t),e()})}function qt(t){return window.preloadData?window.preloadData[t]:""}function Kt(t){window.preloadData&&(window.preloadData[t]=null)}function Qt(){return!!jr.launch&&("number"==typeof jr.launch.preload?jr.launch.preload:5)}function Zt(t){var e=t,i=qt(e);if(i)return function(t){ee(e,i,function(){Kt(e),t()})}}function Jt(t,e,i){(e=Gs[t](e)).length;return function(t){function n(){function r(){if(1===c){if(l)return void t();n()}--c}var a={},s=void 0,l=!1;e.fileNames.length>o?s=e.fileNames.splice(0,o):(s=e.fileNames,l=!0);for(var c=s.length,u=0;u<s.length;u++)!function(t){a[t]=new Js(i,t),a[t].start(2e3,function(e){e?a[t].destory():Yt(t,a[t]),a[t]=null,window.preloadData&&r()})}(s[u])}var o=Qt();o&&n()}}function te(t,e,i){return"master"===t?Zt(e):Jt(t,e,i)}function ee(t,e,i){ol=new Qs;for(var n in e){var o=rl[n];o&&ol.create(te(n,e[n],o),"audio"===n?"unshift":"push")}ol.exec().$$watch("complete",function(){ol=null,i()})}function ie(t,e){function i(){return t===el&&(Nr("全部预加载完成"),B("preload",Ut.url),zt(),jt(),window.preloadData=null,!0)}if(e)return e(),void i();if(nl){var n=nl[0];if(t!==n)return void ne(n);nl[1](),nl=null}i()||tl&&ne()}function ne(t,e){function i(i){window.preloadData&&(Kt(t),ie(t,e))}t||(t=++il);var n=qt(t);n&&Object.keys(n).length?ee(t,n,function(){return i()}):i()}function oe(t,e){var i=L("preload");i?D(i,function(i,n){n?t():e()}):e()}function re(t){N(jr.data.pathAddress+"preload.js",function(){window.preloadData?t(!0,window.globalBrMode):t(!1)})}function ae(t,e){var i=function(){jr.launch.preload=!1,e(!1)};window.preloadData?(el=t,oe(i,function(){ne("",function(){Nr("预加载资源总数："+t),se(),e(!0)})})):i()}function se(){if(qt(el)){var t=null,e=2,i=function(i){2===e&&(clearTimeout(t),t=null,tl=!0,ne()),--e};Xut.Application.onceWatch("autoRunComplete",i),t=setTimeout(i,5e3)}}function le(t,e){var i=t.type,n=t.chapterId,o=t.direction,r=t.processed;if("linear"===i){var a=Xut.Presentation.GetPageId();n="next"===o?a+1:a-1}return!!qt(n)&&(r||Nr("预加载必须传递处理器，有错误"),nl=[n,function(){r.call(e)}],!0)}function ce(){ol&&(ol.destory(),ol=null),Ut.url=null,tl=!0,el=0,il=0,window.preloadData=null,nl=null,Vt()}function ue(){return Xut.plat.supportWebp?"_a":"_i"}function he(t){if(1===t){if(Xut.plat.isIOS)return he(2);if(Xut.plat.isAndroid)return he(3)}return 2===t?Xut.plat.isBrowser?ue():"":3===t?Xut.plat.isBrowser?ue():"":Xut.plat.isBrowser&&Xut.plat.supportWebp?ue():""}function de(){var t=jr.launch,e=jr.golbal;t.brModel&&!t.brMode&&(t.brMode=t.brModel),e.brModel&&!e.brMode&&(e.brMode=e.brModel);for(var i in e.debug)jr.debug[i]=e.debug[i];if(t){var n=t.cursor||!1===t.cursor?t.cursor:e.cursor;bs(),!1===n?ks():n&&(n.time&&ws(n.time),n.url&&xs(n.url))}var o=t&&t.trackCode||e.trackCode;if(jr.sendTrackCode=function(){},jr.hasTrackCode=function(){},o&&_.isArray(o)&&o.length){t.trackCode||(t.trackCode={}),o.forEach(function(e){t.trackCode[e]=!0});var r=Xut.guid();jr.hasTrackCode=function(e){if(t&&t.trackCode&&t.trackCode[e])return!0};var a=["content","hot"],s=function(t){return~a.indexOf(t)?"action":t};jr.sendTrackCode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jr.hasTrackCode(t)&&Xut.Application.Notify("trackCode",s(t),_.extend(e||{},{uuid:r,appId:jr.data.appId,appName:jr.data.shortName}))}}t&&(!t.brMode&&e.brMode&&(t.brMode=e.brMode),t.brMode&&(t.brModeType=he(t.brMode)));for(var l in e)void 0===t[l]&&(t[l]=e[l]);"v"===t.scrollMode&&(t.visualMode=1),Xut.plat.isBrowser||(jr.launch.preload=null)}function pe(t,e){if(!t)return jr.launch.brMode="",void(jr.launch.brModeType="");1===e?jr.launch.brModeType&&(jr.launch.brMode="",jr.launch.brModeType=""):2===e&&(jr.launch.brModeType||(jr.launch.brModeType=he(1)))}function fe(t){!jr.launch.visualMode&&Number(t.scrollPaintingMode)&&(jr.launch.visualMode=4)}function ge(t){void 0===jr.launch.historyMode&&(void 0!==t.recordHistory&&Number(t.recordHistory)?jr.launch.historyMode=!0:jr.debug.devtools&&(jr.launch.historyMode=!0))}function ve(){if(void 0===jr.launch.visualMode&&(jr.launch.visualMode=jr.data.visualMode||1),5===jr.launch.visualMode){var t=e();t.height<t.width&&(jr.launch.visualMode=1)}}function me(){!1!==jr.launch.swipeDelegate&&(jr.launch.swipeDelegate=!0)}function ye(){return jr.visualSize?jr.visualSize.width:window.screen.width>document.documentElement.clientWidth?window.screen.width:document.documentElement.clientWidth}function _e(){var t=document.documentElement;if(t.clientHeight>t.clientWidth){var e=window.devicePixelRatio||1,i=ye()*e;i>=1080&&i<1439&&(jr.launch.baseImageSuffix=jr.launch.imageSuffix[1080]),i>=1440&&(jr.launch.baseImageSuffix=jr.launch.imageSuffix[1440]),jr.debug.devtools&&jr.launch.baseImageSuffix&&Nr("css media匹配suffix失败，采用js采用计算. config.launch.baseImageSuffix = "+jr.launch.baseImageSuffix)}}function be(){var t=$(".xut-adaptive-image");if(t.length){var e=t.width(),i=jr.launch.imageSuffix[e];if(i)return void(jr.launch.baseImageSuffix=i)}_e()}function xe(t,e){jr.sendTrackCode("launch"),Xut.CreateFilter=Ft("createFilter"),Xut.TransformFilter=Ft("transformFilter"),s(t.pptWidth,t.pptHeight),ge(e),fe(e),Xut.IBooks.Enabled||Ct(),a()}function we(t){Lt(function(e){e&&me(),t()})}function ke(t){function e(t){ls(t,function(t){var e=t.Novel.item(0),n=St(t.Setting),o=t.Chapter.length;ve(),xe(e,n),re(function(t,n){pe(t,n),i(e,o)})})}function i(e,i){W("svgsheet",function(){we(function(){jr.launch.preload?ae(i,function(){return t(e)}):t(e)})})}"mini"===jr.launch.platform&&Xut.plat.isTablet&&$("body").css("font-size","125%"),jr.launch.imageSuffix&&be(),j(),ct(function(t){e(t)})}function Te(t,e){var i=e.width,n=e.height,o=e.zIndex,r=e.top,a=e.left,s="width:"+i+"px",l="height:"+n+"px";return"string"==typeof i&&~i.indexOf("%")&&(s="width:"+i),"string"==typeof n&&~n.indexOf("%")&&(l="height:"+n),$(String.styleFormat('<div data-type="'+t+'"\n          style="'+s+";\n                 "+l+";\n                 position:absolute;\n                 visibility:hidden;\n                 z-index:"+o+";\n                 top:"+r+"px;\n                 left:"+a+'px;">\n     </div>'))}function Se(t){return jr.getVideoPath()+t}function Ce(t){if(t.isfloat)return Xut.Presentation.GetFloatContainer(t.pageType);var e=t.container;return t.isColumn?$(e):e.length?e.children():e.children?$(e.children):$("body")}function Ie(){return hl.state}function Pe(){hl.closeVideo()}function Ee(){hl.load()}function Me(){Ie()?Pe():dl("back")}function Ae(){dl("pause")}function Oe(){dl("resume")}function Ne(){Xut.plat.hasPlugin&&(document.addEventListener("backbutton",Me,!1),document.addEventListener("pause",Ae,!1),document.addEventListener("resume",Oe,!1))}function De(){Xut.plat.hasPlugin&&(document.removeEventListener("backbutton",Me,!1),document.removeEventListener("pause",Ae,!1),document.removeEventListener("resume",Oe,!1))}function Re(){window.GLOBALIFRAME?vl():Xut.plat.isBrowser?gl():(window.openDatabase(jr.data.dbName,"1.0","Xxtebook Database",jr.data.dbSize),document.addEventListener("deviceready",function(){Xut.plat.hasPlugin=!0,Xut.Plugin.XXTEbookInit.startup(jr.data.dbName,vl,function(){})},!1))}function Xe(t){var e=void 0,i=void 0,n=function(){e=document.querySelector("#Audio_"+t.audioId)},o=t.startImage&&q(t.startImage,"audio-action"),r=t.stopImage&&q(t.stopImage,"audio-action"),a=function(t){n(),e&&(e.style.backgroundImage="url("+t+")")};return n(),i=e.getAttribute("data-belong"),r&&D(r),{play:function(){r&&a(r),t.startScript&&Xut.Assist.Run(i,t.startScript.split(","))},pause:function(){o&&a(o),t.stopScript&&Xut.Assist.Stop(i,t.stopScript.split(","))},destroy:function(){this.pause(),e=null}}}function $e(){for(var t=0;t<Ml.length;t++)Ml[t].destroy&&Ml[t].destroy(),Ml[t]=null;Ml=null}function Be(){return Ml.length}function Le(){var t=Ml[Pl++];return t||(Pl=0,Le())}function Fe(){return Nl}function He(t,e){var i=Fe();if(i[ml]&&i[ml][t]){var n=i[ml][t][e];if(n&&"playing"===n.status)return!0}}function ze(t,e,i){Wl({pageId:t,queryId:e,type:ml,action:"auto",data:i})}function We(t){var e=t.data,i=t.columnData,n=t.activityId,o=t.chapterId;Wl({data:e,columnData:i,pageId:o,queryId:n,type:ml,action:"trigger"})}function je(t,e){Wl({pageId:t,queryId:e,type:yl})}function Ge(t,e){t&&void 0===e||jl(t,e,function(i,n){i.destroy(),delete n[yl][t][e],Object.keys(n[yl][t]).length||delete n[yl][t]})}function Ye(){var t,e,i,n=Fe();for(t in n)for(e in n[t])for(i in n[t][e])n[t][e][i].resetContext()}function Ve(){var t=Fe();if(t&&t[ml]&&t[ml][bl]){var e=t[ml][bl];for(var i in e)e[i].destroy(),e[i]=null;delete t[ml][bl]}}function Ue(t,e){return t===yl||t===_l?Xut.data.query("Video",e,!0):Xut.data.query("Video",e)}function qe(){var t,e,i,n=Fe();for(t in n)for(e in n[t])for(i in n[t][e])n[t][e][i].pause()}function Ke(){var t,e,i,n=Fe();for(t in n)for(e in n[t])for(i in n[t][e])n[t][e][i].destroy();Dl()}function Qe(t,e){if(Zl[t])return Zl[t][e]}function Ze(t){var e=Qe(t.chapterId,t.activityId);e?e.play():nc(t)}function Je(){return Zl}function ti(){Ze.apply(void 0,arguments)}function ei(){Ze.apply(void 0,arguments)}function ii(t){var e=Je();if(e&&e[t]){for(var i in e[t])e[t][i].destroy(),e[t][i]=null;delete e[t]}}function ni(){var t=Je(),e=!1;for(var i in t)for(var n in t[i])t[i][n].destroy(),e=!0;return Jl(),e}function oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#xxtppt-app-container",e=arguments[1];t&&(ac=$(t)),ac.length||(t="",ac=$("body"));var i=rc(e);return t||(i='<div id="xxtppt-app-container" class="xut-fullscreen xut-overflow-hidden">'+i+"</div>"),sc=$(String.styleFormat(i)),{$rootNode:ac,$contentNode:sc}}function ri(){sc&&(sc.remove(),sc=null),ac=null}function ai(t){var e=$(".xut-cover");if(e.length){var i=function(){e&&e.remove(),e=null,t()};!1===jr.launch.launchAnim?i():e.transition({opacity:0,duration:1e3,easing:"in",complete:i})}else e=null,t()}function si(t,e){var i=lc[t].length;if(i)for(var n=i,o=void 0;o=lc[t].shift();)o(function(){1!==n?--n:e()});else e()}function li(){var t=Object.keys(lc);if(t.length){var e=t.shift();e.length?si(e,function(){lc[e].length||delete lc[e],li()}):delete lc[e]}else cc=!1}function ci(t,e,i){t&&(t.style.display="none",lc[e]||(lc[e]=[]),lc[e].push(function(e){D(i,function(i){i&&t&&t.style&&(t.style.display="block"),t=null,e()})}),cc||(cc=!0,li()))}function ui(t){lc&&lc[t]&&(lc[t].length=0,delete lc[t])}function hi(){Xut.plat.isBrowser&&!uc&&(uc=!0,$("body").on("touchmove",function(t){t.preventDefault&&t.preventDefault()}),$(document).keyup(function(t){switch(t.keyCode){case 37:Xut.View.GotoPrevSlide();break;case 39:Xut.View.GotoNextSlide()}}),setTimeout(function(){$(document).on("visibilitychange",function(t){"hidden"===document.visibilityState?Xut.Application.Original():window.GLOBALIFRAME||Xut.Application.Activate()})},1e3),$(window).on("beforeunload",function(){jr.sendTrackCode("exit",{time:+new Date-jr.launch.launchTime})}))}function di(){uc&&($("body").off(),$(document).off(),$(window).off(),uc=!1)}function pi(t){var e=new Image;e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",e.onload=e.onerror=function(){t(2===e.height)}}function fi(t){pi(function(e){Xut.plat.supportWebp=e,t()})}function gi(t){Xut.Contents.Canvas.Reset(),Xut.Contents.Canvas.SupportSwipe=t,Xut.Contents.Canvas.isTap=!0}function vi(){Xut.Contents.Canvas.isSwipe=!0}function mi(t,e,i,n){var o=pc||"click"===t;e=e[0];var r=!1,a=void 0;r=!1;var s=function(){r&&i()};return"tap"===t?C(e,{start:function(t){var e=M(t);a=e.pageX,r=!0,gi(n)},move:function(t){if(r){var e=M(t).pageX-a;Math.abs(e)>10&&(r=!1,vi(n))}},end:s,cancel:s}):o&&(r=!0,C(e,{end:s})),{off:function(){e&&(I(e),e=null)}}}function yi(t){var e=[];switch(t){case"swipeleft":case"swiperight":case"swipeup":case"swipedown":var i=Hammer.DIRECTION_HORIZONTAL;"swipeup"!==t&&"swipedown"!==t||(i=Hammer.DIRECTION_VERTICAL),e.push([Hammer.Swipe,{direction:i,velocity:.01}]);break;case"doubletap":e.push([Hammer.Tap]),e.push([Hammer.Tap,{event:"doubletap",taps:2},["tap"]]);break;case"press":return void e.push([Hammer.Press])}return e}function _i(t,e,i){var n=t[0],o=yi(e);return o&&o.length?Hammer(n,{recognizers:o}):Hammer(n)}function bi(t,e,i,n){var o=_i(t,e,n);return o.on(e,function(){i()}),o}function xi(t){Xut.plat.isBrowser&&t.domMode&&yc(t.eventName,t.eventContext);var e=t.eventDrop,i=_c(e,t);i.dragObj&&e.init?e.init(i.dragObj):t.eventHandler(i.reference,i.handler)}function wi(t){return fc[Number(t)-1]||null}function ki(t){var e=t.supportSwipe=vc(t.eventName);t.domMode&&mc(e,t.eventContext),xi(t)}function Ti(t,e){t.eventReference&&(t.eventReference.off(e||t.eventName,t.eventHandler),t.eventReference=null,t.eventHandler=null)}function Si(t,e){wc(t,e)}function Ci(t){var e=t.divertorHooks.registerEvent;e&&(_.each(e,function(t){_.each(t,function(t){t.destroy&&t.destroy()})}),t.divertorHooks.registerEvent=null)}function Ii(){this.remove()}function Pi(t,e,i){switch(t){case"page":return Mc(e,i);case"master":return Sc(e,i);case"chapter":return Tc(e);case"scenarioChapter":return kc(e)}}function Ei(t,e){var i=t.pageType,n=function(e,i){var n=void 0;if(t.dataActionGroup[e])for(n in i)t.dataActionGroup[e][n]=i[n];else t.dataActionGroup[e]=i};Pi(i,{pageIndex:t.chapterIndex,pageData:t.chapterData,pptMaster:t.pptMaster},function(t,o,r){n(i,t),n("activitys",o),n("auto",r),e(t)})}function Mi(t,e){var i=t.parameter;if(i)try{(i=JSON.parse(i))&&(i.contentMode&&1==i.contentMode&&(jr.debug.onlyDomMode||(e.canvasRelated.enable=!0)),i.lastPage&&"page"===e.pageType&&(e.runLastPageAction=function(){var t=Number(jr.data.delayTime),e=void 0;return t&&(e=setTimeout(function(){Xut.Application.Notify("complete")},1e3*t)),function(){e&&(clearTimeout(e),e=null)}}))}catch(t){console.log("JSON错误,chpterId为",e.chapterId,i)}}function Ai(t,e,i,n,o){e.taskCount++;var r=[],a=e.getStyle,s=void 0,l=void 0,c=void 0;if(i.ids.length){var u=i.zIndex,h="Content_"+e.chapterIndex+"_";i.ids=x(i.ids),_.each(i.ids,function(t){s=h+t,(l=e.contentsFragment[s])&&(c=u[t],r.push(l),delete e.contentsFragment[s])})}i.html.length&&(r=$(i.html.join(""))),c="page"===t&&0===a.offset?2001:2e3;var d="overflow:hidden;";"master"===t&&(d="");var p=void 0;if(n&&(p=n[t+"Container"]),!p){var f="float-"+t+"-"+(e.chapterIndex+1);p=$(String.styleFormat('<ul id="'+f+'"\n         class="xut-float"\n         style="left:'+a.visualLeft+"px;\n                top:"+a.visualTop+"px;\n                "+Xut.style.transform+":"+a.translate+";\n                z-index:"+c+";"+d+'">\n       </ul>')),$(e.rootNode).after(p)}qa({container:p,content:r},function(){o(p)})}function Oi(t,e){var i=e.imageLayer,n=(e.imageMask,e.backImage),o=e.backMask,r=e.master,a=e.md5,s=e.pptMaster;if(a&&!r&&!s&&!i&&!n)return t?String.styleFormat('<div data-multilayer ="true"class="multilayer"> '+t+" </div>"):"";Xc(e);var l="";r&&!s&&(l='<div class="multilayer-master" style="background-image:url('+q(r,"multilayer-master")+')"></div>');var c="";if(i){var u=e.imageMask?Rc+":url("+q(e.imageMask,"multilayer-maskLayer")+");":"",h=q(i,"multilayer-maskImage");c='<div class="multilayer-imageLayer"\n            style="width:'+e.imageWidth+"px;\n                   height:"+e.imageHeight+"px;\n                   top:"+e.imageTop+"px;\n                   left:"+e.imageLeft+"px;\n                   background-image:url("+h+");"+u+'">\n       </div>'}var d="";if(n){var p=$c(e.pageSide),f=p||"",g=p?"200%":"100%",v=q(n,"multilayer-backImage"),m=q(o,"multilayer-backMask");d=o?void 0!=Rc?'<div class="multilayer-backImage"\n                style="width:'+g+";\n                       background-image:url("+v+");\n                       "+Rc+":url("+m+");\n                       "+f+'">\n           </div>':'<canvas class="multilayer-backImage edges"\n                   height='+document.body.clientHeight+"\n                   width="+document.body.clientWidth+"\n                   src="+v+"\n                   mask="+m+'\n                   style="width:'+g+";\n                          opacity:0;\n                          "+Rc+":url("+v+");\n                          "+f+'">\n           </canvas>':'<div class="multilayer-backImage"\n                            style="width:'+g+";\n                                   background-image:url("+v+");\n                                   "+f+'">\n                       </div>'}var y=a?'<div class="multilayer-word"> '+t+" </div>":"";return String.styleFormat('<div data-multilayer ="true"\n          class="multilayer">\n        '+l+"\n        "+c+"\n        "+d+"\n        "+y+"\n    </div>")}function Ni(t,e){for(var i=1,n=void 0,o=void 0,r=[],a={},s=void 0,l=void 0,c={};n=e.shift();)(o=t.contentsFragment[n.texteffectId])&&function(){var t=n._id;c[t]=new Fc(t),(s=o.querySelectorAll("a[data-textfx]")).length&&s.forEach(function(e){l=e.parentNode,-1!=r.indexOf(l)?a[l.textFxId].push(e):(l.textFxId=i,a[i]=[],a[i++].push(e)),r.push(l),c[t].addQueue(e,e.getAttribute("data-textfx"))})}();return c}function Di(t,e){_.extend(e,{stopPropagation:!0,preventDefault:!1,bounce:!1,probeType:2});var i=new iScroll(t,e),n=!1;return i.on("beforeScrollStart",function(t){n=!1}),i.on("scroll",function(t){Xut.View.HasEnabledSwiper()&&(-1===i.directionY&&0===i.startY?(n=!0,Xut.View.SetSwiperMove({action:"flipMove",direction:"prev",distance:i.distY-10,speed:0})):1===i.directionY&&i.startY===i.maxScrollY?(n=!0,Xut.View.SetSwiperMove({action:"flipMove",direction:"next",distance:i.distY+10,speed:0})):i._execEvent("scrollContent",t))}),i.on("scrollEnd",function(t){if(n){var e=Xut.View.GetSwiperActionType(0,i.distY,i.endTime-i.startTime,"v");"flipOver"===e?1===i.directionY?(Xut.View.GotoNextSlide(),i._execEvent("scrollExit","down")):-1===i.directionY&&(Xut.View.GotoPrevSlide(),i._execEvent("scrollExit","up")):"flipRebound"===e&&(1===i.directionY?Xut.View.SetSwiperMove({action:"flipRebound",direction:"next",distance:0,speed:300}):-1===i.directionY&&Xut.View.SetSwiperMove({action:"flipRebound",direction:"prev",distance:0,speed:300}))}}),i}function Ri(t,e,i){return!i||"v"!==jr.launch.scrollMode||e.scrollX&&!e.scrollY?new iScroll(t,e):new Di(t,e)}function Xi(t){var e=t[0],i=t[1],n=t[2],o='<div class="htmlbox_close_container">\n            <a class="htmlbox_close"></a>\n        </div>\n        <ul class="htmlbox_fontsizeUl">\n            <li>\n                <a class="htmlbox_small"\n                   style="width:'+e+"px;height:"+e+"px;margin-top:-"+e/2+'px"></a>\n            </li>\n            <li>\n                <a class="htmlbox_middle"\n                   style="width:'+i+"px;height:"+i+"px;margin-top:-"+i/2+'px"></a></li>\n            <li>\n                <a class="htmlbox_big"\n                   style="width:'+n+"px;height:"+n+"px;margin-top:-"+n/2+'px"></a>\n            </li>\n        </ul>';return String.styleFormat(o)}function $i(t,e,i,n){var o='<div class="htmlbox-container">\n            <div class="htmlbox-toolbar" style="height:'+t+"px;line-height:"+t+'px;">'+e+'</div>\n            <div class="'+i+'" style="overflow:hidden;position:absolute;width:100%;height:92%;">\n                <ul>'+n+"</ul>\n            </div>\n        </div>";return String.styleFormat(o)}function Bi(t){this.parent=t.parent,this.pageId=t.pageId,this.seasonId=t.seasonId,this.isStored=!1,this.init()}function Li(t){this.parent=t.parent,this.tips=t.tips,this.init()}function Fi(t,e){var i=1,n=void 0;"loop"==e.playerType&&(i="loop"),(n=Jc[t])?n.play(e.actList,i):console.log("error")}function Hi(t,e){var i=t.x-e.x,n=t.y-e.y;return ru(au(i*i+n*n,.5))}function zi(t,e){var i="";return t.y==e.y&&t.x>e.x?i="+x":t.y==e.y&&t.x<e.x?i="-x":t.x==e.x&&t.y>e.y?i="+y":t.x==e.x&&t.y<e.y?i="-y":t.x>e.x&&t.y<e.y?i="1":t.x>e.x&&t.y>e.y?i="2":t.x<e.x&&t.y>e.y?i="3":t.x<e.x&&t.y<e.y&&(i="4"),i}function Wi(t,e){if(t=t.toUpperCase(),su.test(t)){for(var i=new Array,n=1,o=1;o<=3;o++)t.length-2*o>3-o?(i.push(Number("0x"+t.substring(n,n+2))),n+=2):(i.push(Number("0x"+t.charAt(n)+t.charAt(n))),n+=1);return e&&e>0?"RGBA("+i.join(",")+","+e+")":"RGB("+i.join(",")+")"}return console.error("Hex Color string("+t+") format conversion error."),t}function ji(t){var e,i;if(ku){e=0;try{e=(i=ku.sheet).cssRules.length,i.insertRule(t,e)}catch(t){console.log(t)}}else(ku=document.createElement("style")).type="text/css",ku.innerHTML=t,ku.uuid="aaron",document.head.appendChild(ku)}function Gi(t){if(ku){var e=ku.sheet,i=e.rules||e.cssRules,n=0,o=i.length;for(n;n<o;n++)if(i[n].name===t){e.deleteRule(n);break}0==i.length&&(document.head.removeChild(ku),ku=null)}}function Yi(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0,a=t.$contentNode.find(".sprite"),s=t.data,l=t.callback||function(){},c="sprite_"+t.id,u=s.thecount,h=s.fps,d=Math.round(1/h*u*10)/10,p=Math.ceil(s.scaleWidth*u),f=s.loop?"infinite":1;s.parameter&&(i=m(s.parameter))&&i.matrix&&(e=i.matrix.split("-")),n=function(t,i,n,o){var r;return e?(r="{0} {1}s step-start {2}",String.format(r,t,i,o)):(r="{0} {1}s steps({2}, end) {3}",String.format(r,t,i,n,o))}(c,d,u,f),o=function(t,i){if(e){var n=[],o=100/u,r=Number(e[0]);n.push("0% { background-position:0% 0%}");for(var a=0;a<u;a++){var s=Math.floor(a/r),l=100*s;i=0==(i=100*(a-s*r))?i:"-"+i,l=0==l?l:"-"+l,n.push((a+1)*o+"% { background-position: "+i+"% "+l+"%}")}return t+"{"+n.join("")+"}"}return String.format("{0} {from { background-position:0 0; } to { background-position: -{1}px 0px}}",t,Math.round(i))}(c,p),function(t){wu&&a.css(wu,t).css(xu,"paused")}(n),function(t){_u&&ji(_u+t)}(o),a.on(bu,l);var g=function(){r&&(clearTimeout(r),r=null)};return{play:function(){r=setTimeout(function(){g(),a.css(xu,"running")},0)},stop:function(){g(),a.css(xu,"paused")},destroy:function(){Gi(c),a.off(bu,l),g(),a=null}}}function Vi(t){function e(){if(n)if(c>l.length/2-1){if(!(f>0))return;c=0,i()}else i();else if(c>d-1){if(!(f>0))return;c=0,i()}else i()}function i(){r=setTimeout(function(){n?(a=l[2*c],s=l[2*c+1],u.css("backgroundPositionX",a),u.css("backgroundPositionY",s)):(a=l[c],u.css("backgroundPositionX",a)),c++,e()},1e3/p)}var n=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=[],c=0,u=t.$contentNode.find(".sprite"),h=t.data,d=(t.callback,h.thecount),p=h.fps,f=h.loop,g=h.scaleWidth,v=h.scaleHeight;return h.parameter&&(o=m(h.parameter))&&o.matrix&&(n=o.matrix.split("-")),function(){if(n){for(var t=n[0],e=n[1],i=0;i<e;i++){s=-v*i+"px";for(var o=0;o<t;o++)a=-g*o+"px",l.push(a,s)}if(l.length/2>d)for(var r=2*(l.length/2-d);r>0;r--)l.pop()}else for(i=0;i<d;i++)a=-g*i+"px",l.push(a)}(),{play:function(){e()},stop:function(){clearTimeout(r)},destroy:function(){this.stop(),c=0,u=null,h=null,l=null}}}function Ui(t,e){var i=t.id,n=t.canvasMode,o=t.$contentNode,r=t.prepTag,a=t.prepVisible,s=t.prepScript;s&&(e.eventData.rewrite=!0,e.eventData.eventName="click",e.eventData.eventContentId=i);var l=void 0;if(r){try{b(r)()}catch(t){console.log("预处理截断执行脚本失败")}if(l=window.XXTAPI.PreCode){var c=e.getContextNode(e._findContentName(e.chapterIndex,i)),u=c.find("img");if(u.length){var h=void 0;_.isString(l)?h=l:_.isArray(l)&&(h=l[0]),u.replaceWith(String.styleFormat('<div class="inherit-size fullscreen-background fix-miaomiaoxue-img"\n                style="background-image:url('+u.attr("src")+');">\n              <a  data-id="'+i+'"\n                  data-page-id="'+e.pageId+'"\n                  data-type="hyperlink"\n                  href="'+h+'"\n                  class="inherit-size"\n                  style="display:block;"/>\n              </a>\n          </div>')),window.XXTAPI.PreCode=null,l[1]&&_.isFunction(l[1])?(e.eventData.eventContext=c.find("a"),e.eventData.rewrite=!0,e.eventData.eventName="tap",e.eventData.eventContentId=i):e.eventData.eventName=""}}}var d=function(){var t=e.relatedData.partContentRelated;if(t&&t.length&&-1!==t.indexOf(i));else{if(n)return void console.log("canvsa prepVisible");o&&!o.attr("data-iscroll")&&o.css("visibility")!=a&&o.css({visibility:a})}};return _.extend(t,{init:function(){a&&o.css({visibility:a})},play:function(t){if(a&&d(),l&&l[1])try{l[1]()}catch(t){console.log("快速处理脚本函数执行失败")}if(s)try{b(s)()}catch(t){console.log("快速处理执行脚本失败")}t&&t()},destroy:function(){l=null,o=null,r=null}})}function qi(t){var e=t.$contentNode,i=t.action,n=t.property,o=t.pageIndex,r=t.targetProperty,a=void 0===r?{}:r,s=t.interaction,l=t.speed,c=void 0===l?0:l,u=t.pageOffset,h=void 0===u?0:u,d=t.opacityStart,p=void 0===d?0:d,f={},g={},v=0,m=0,y=0;if("init"===i){var b=n.special;b&&b[1]&&_.extend(n,b[1])}var x=void 0,w=void 0;if("master"===i){var k=a.special;k&&((x=k[o])||(w=k.lastProperty))}var T=h,S=void 0!==n.translateX,C=void 0!==n.translateY,I=void 0!==n.translateZ;S&&(T+=v=$u(n.translateX)||0,g.translateX="translateX("+T+"px)"),C&&(m=$u(n.translateY)||0,g.translateY="translateY("+m+"px)"),(S||C||I)&&(y=$u(n.translateZ)||0,g.translateZ=Xu(0)),void 0!==n.rotateX&&(g.rotateX="rotateX("+$u(n.rotateX)+"deg)"),void 0!==n.rotateY&&(g.rotateY="rotateY("+$u(n.rotateY)+"deg)"),void 0!==n.rotateZ&&(g.rotateZ="rotateZ("+$u(n.rotateZ)+"deg)");var P=void 0!==n.scaleX,E=void 0!==n.scaleY,M=void 0!==n.scaleZ;P&&(v=$u(100*n.scaleX)/100,g.scaleX="scaleX("+v+")"),E&&(m=$u(100*n.scaleY)/100,g.scaleY="scaleY("+m+")"),M&&(y=$u(100*n.scaleZ)/100,g.scaleZ="scaleZ("+y+")"),M||!P&&!E||(g.scaleZ="scaleZ(1)");var A=!1;if(void 0!==n.opacity&&("init"===i&&(f.opacity=$u(100*(n.opacityStart+n.opacity))/100,A=!0),"master"===i&&(f.opacity=$u(100*n.opacity)/100+p,A=!0)),g||A){if(g){w&&_.extend(g,w),f[Du]=c+"ms";var O="";for(var N in g)O+=g[N];O&&(f[Ru]=O)}if(e&&(e.css(f),"flipOver"===s&&x))for(var D in x){x[D];var R=g[D];R&&(a.special.lastProperty[D]=R)}}return T}function Ki(t,e,i,n){var o={},r=-n.visualWidth,a=-n.visualHeight;for(var s in t)switch(i&&(i.special[s]=!0),s){case"special":o[s]={};for(var l in t[s]){var c=Ki(t[s][l],1,t);o[s][l]=c}break;case"scaleX":case"scaleY":case"scaleZ":o[s]=1+(t[s]-1)*e;break;case"translateX":case"translateZ":o[s]=t[s]*e*r;break;case"translateY":o[s]=t[s]*e*a;break;case"opacityStart":o[s]=t[s];break;default:o[s]=t[s]*e}return o}function Qi(t){var e=t.nodes,i=t.isColumn,n=t.distance,o=t.pageIndex,r=(t.lastProperty,t.targetProperty),a={},s=r,l=void 0,c=void 0;r.special&&(l=r.special[o],c=r.special[o+1],l&&(s=_.extend({},r,l)));var u=i?jr.screenSize:jr.visualSize,h=u.width,d=u.height;for(var p in s)switch(p){case"scaleX":case"scaleY":case"scaleZ":if(l[p]){var f=-n/h;if(c[p]){var g=c[p]-l[p];g&&(a[p]=f*g)}}else a[p]=-1*n/h*(s[p]-1)*e;break;case"translateX":case"translateZ":a[p]=n*e*s[p];break;case"translateY":a[p]=n*(d/h)*e*s[p];break;case"opacityStart":a[p]=s.opacityStart;break;default:a[p]=-1*n/h*s[p]*e}return a}function Zi(t,e){var i={},n=t.opacityStart;for(var o in t)i[o]=t[o]+e[o];return n>-1&&(i.opacityStart=n),i}function Ji(){return Zi.apply(void 0,arguments)}function tn(t,e){var i={};for(var n in t)i[n]=e[n]||t[n];return i}function en(t,e){for(var i in t)e[i]=t[i]}function nn(t,e,i){var n=m(t.getParameter()[0].parameter);if(n){n=Lu(n);var o=t.chapterIndex,r=void 0,a=Et()&&Fu(t.pageIndex);if(a){var s=Xut.Presentation.GetPageIndex();r=t.pageIndex==s||t.pageIndex>s?1:a}else{var l=e.pageOffset&&e.pageOffset.split("-");r=parseInt(l[0]),a=parseInt(l[1])}if(n.special){var c={},u=n.special;for(var h in u)for(var d in u[h])c[d]?c[d]<u[h][d]&&(c[d]=u[h][d]):c[d]=u[h][d];n.special.maxProperty=c,n.special.lastProperty={}}var p=Ki(n,(r-1)/(a-1)||0,"",i),f=1/(a-1),g=e.getTransformOffset(t.id),v=Bu(t.$contentNode,p,g);return t.parallax={$contentNode:t.$contentNode,calculateRangePage:function(){return{start:o-r+1,end:a-r+o}},targetProperty:n,lastProperty:p,nodeRatio:f,parallaxOffset:v},t}}function on(t,e){var i=t.getParameter(),n=t.contentData.md5;if(n&&/^apng_|gif$/i.test(n)&&(t.useDynamicDiagram=!0),i&&1===i.length){var o=t.contentData.category,r=i[0];if("EffectAppear"===r.animationName&&t.domMode&&"auto"===e&&!r.videoId&&!r.delay&&"Sprite"!==o&&"AutoCompSprite"!==o&&!/"inapp"/i.test(r.parameter)){if(!r.preCode&&!r.postCode)return t.prepVisible=!0===/"exit":"False"/i.test(r.parameter)?"visible":"hidden";if(r.preCode){if(-1!==r.preCode.indexOf("XXTAPI.PreCode"))return t.prepTag=r.preCode;if(["window.location.href","window.open"].forEach(function(e){if(-1!==r.preCode.indexOf(e))return t.prepScript=r.preCode}),t.prepScript)return t.prepScript}}}}function rn(t,e){t&&t.dragDrop&&e(t.dragDrop)}function an(){return"autoRun-"+Math.random().toString(36).substring(2,15)}function sn(t,e,i,n){for(var o,r=e.$containsNode,a=e.eventRelated,s=e.chapterIndex,l=e.createActivitys,c=e.feedbackBehavior,u=e.pageBaseHooks,h=e.chapterId,d=n.master,p=function(t,e){return function(i){return t.length&&t[i]?e:0}}(d.ids,e.getStyle.offset),f={iscrollHooks:[],contentsHooks:u.contents,swipeDelegateContents:u.swipeDelegateContents},g={floatMasterDivertor:d,seasonId:e.chpaterData.seasonId,pageId:h,contentDataset:i,container:e.liRootNode,seasonRelated:e.seasonRelated,containerPrefix:e.containerPrefix,nodes:e.nodes,pageOffset:e.pageOffset,createContentIds:e.createContentIds,partContentRelated:e.partContentRelated,getTransformOffset:p,contentsFragment:e.contentsFragment,contentHtmlBoxIds:e.contentHtmlBoxIds},v=function(){a&&u.eventBinding&&u.eventBinding(a),delete f.contentsHooks,t(f)},m=[];o=l.shift();)m.push(function(t){return function(i){var n,o=t.imageIds,l=t.activity,d=l.eventType,p=l.para1,v=o;(n=a["eventContentId->"+o])&&_.each(n,function(t){t.eventType==l.eventType&&(d=p=void 0)}),u.cacheActivity(new Vu({noticeComplete:i,pageIndex:e.pageIndex,canvasRelated:e.canvasRelated,id:o||an(),type:"Content",pageId:h,getStyle:e.getStyle,activityId:l._id,$containsNode:r,pageType:t.pageType,dataset:t.dataset,chapterIndex:s,eventData:{eventContentId:v,eventType:d,dragdropPara:p,feedbackBehavior:c},relatedData:g,relatedCallback:f}))}}(o));!function t(){m.length?m.shift()(function(){t()}):v()}()}function ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=qu(e+4,i+8);return n.on("touchend mouseup",function(){t()}),n}function cn(t,e){var i,n,o,r=t.width,a=t.height,s=e.width,l=e.height,c=!1,u=function(){i=s,(n=a/(o=r/s))>l&&(c=!0,i/=o=n/l,n=l)};return r>a?u():l>s?u():(n=l,c=!0,(i=r/(o=a/l))>s&&(c=!1,o=i/s,i=s,n/=o)),{width:i,height:n,left:(s-i)/2-e.left,top:(l-n)/2,checksource:c}}function un(t){var e=void 0,i=jr.visualSize,n=i.overflowWidth&&Math.abs(i.right)||0,o=n+4,r=(i.overflowHeight&&Math.abs(i.top)||0)+4,a='<img class="xut-zoom-fly"\n                      src="'+t.originSrc+'"\n                      style="width:'+t.width+"px;\n                             height:"+t.height+"px;\n                             top:"+t.top+"px;\n                             left:"+t.left+'px;" />';return e=jr.screenHorizontal?'<div class="xut-zoom-view">\n                <div class="xut-zoom-overlay"></div>\n                <div class="xut-zoom-close" style="right:'+o+"px;top:"+r+'px;">\n                    <div class="si-icon Flaticon xut-flaticon-error" style="font-size:5vw;border-radius:50%;right:0">\n                    </div>\n                </div>\n                '+a+"\n            </div>":'<div class="xut-zoom-view">\n                <div class="xut-zoom-overlay"></div>\n                <div class="xut-zoom-close" style=";right:'+o+"px;top:"+r+'px;">\n                    <div class="si-icon Flaticon xut-flaticon-error" style="font-size:5vh;border-radius:50%;right:0">\n                    </div>\n                </div>\n                '+a+"\n            </div>",String.styleFormat(e)}function hn(t,e){e<=0&&(e=1);for(var i=0,n=t.length;i<n;++i){var o=t[i];if(e>o.width)return o}}function dn(t){var e=t.element,i=t.style,n=t.speed,o=void 0===n?100:n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e&&setTimeout(function(){e.stop().transition(i,o,"linear",r)},0)}function pn(t){var e=hn(t.sources,t.wrapper.width),i=cn(t.image,t.wrapper);if(e.pos,!1){i.left=t.wrapper.width/2-i.width/2,i.top=t.wrapper.height/2-i.height/2}return{source:e,position:i}}function fn(){return'<div class="xut-icon-maximize"style="font-size:'+(jr.screenSize.width>jr.screenSize.height?"2vw":"2vh")+';position:absolute;right:0;"></div>'}function gn(t){var e={};return _.each(t.contentsFragment,function(i){var n=void 0;if(n=t.zoomBehavior[i.id]){n.prompt&&$(i).append(fn());var o=!1;C(i,{start:function(){o=!1},move:function(){o=!0},end:function(){if(!o){var t=$(i).find("img");if(t.length){var n=t[0].src;if(e[n])return e[n].play();var r=G(n);e[n]=new th({element:t,originalSrc:q(r.suffix,"pagebase-zoom"),hdSrc:V(r.original)})}}}}),n.off=function(){I(i),i=null}}}),e}function vn(t){return eh[t.category]?"JsWidget":t.actType}function mn(t,e,i){var n=Object.keys(i);if(1!==n.length||!~n.indexOf("Animation")){var o=e.imageId,r=function(){t.seasonRelated[o]||(t.seasonRelated[o]={})};ih.forEach(function(e){var n=i[e],a=void 0;if(void 0!==n)switch(r(),e){case"seasonId":a=i.chapterId||i.chapter,t.seasonRelated[o]={seasonId:n[0],chapterId:a?a[0]:""};break;case"Inapp":t.seasonRelated[o].Inapp=n[0];break;default:t.seasonRelated[o][e]=o}})}}function yn(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,a={},s=[],l=[],c=Xut.data.query;_.each(e,function(e){(o=c(t,e))&&(r=o.contentId,-1===l.indexOf(r)&&l.push(r),a[n="contentId-"+r]?a[n].push(o):a[n]=[o])});for(i in a)s.push(a[i]);return{dataset:s,idset:l}}function _n(t,e){var i=void 0,n={};return _.each(t,function(t){(i=e[t])&&(n[t]?Nr("未处理解析同一个表"):n[t]=yn(t,i))}),n}function bn(t){if(t){var e=void 0,i={};return(t=m(t)).length?_.each(t,function(t){e=t.actType,i[e]||(i[e]=[]),i[e].push(t.id)}):(e=t.actType,i[e]=[t.id||t.value]),i}}function xn(t,e,i,n){function o(t){if(t&&c){var e=t.indexOf(c);-1!==e&&t.splice(e,1)}}var r,a,s,l="",c=e.imageId,u=t(bn(e.itemArray)||[]);switch(Object.keys(u)[0]){case"Container":o(r=u.Container);break;case"Contents":return u.Contents;default:if(_.keys(u).length){var h=u.Animation,d=u.Parallax;"page"===i?h&&(r=h.idset,l=h.dataset):(h&&(r=h.idset,l=h.dataset),d&&(a=d.idset,s=d.dataset)),r&&a&&(r=r.concat(a)),!r&&a&&(r=a),o(r)}}return{pageType:i,activity:e,imageIds:c,dataset:{animation:l,parallax:s},idset:{content:r,parallax:a}}}function wn(t,e,i){function n(t,e,i){for(var n,o=e.length;o--;)n=Number(e[o]),t.push(n),i&&i(n)}for(var o,r,a,s,l,c,u=[],h=[],d=t.length;d--;)r=(o=(l=t[d]).idset).content,c=o.parallax,s=l.imageIds,r&&r.length&&n(u,r),c&&c.length&&n(u,c),s&&h.push(Number(s));return e&&e.length&&_.each(e,function(t){t&&(u=u.concat(t))}),a=x(h.length?u.concat(h):u),a=a.sort(function(t,e){return t-e}),[h,a]}function kn(t,e){for(var i=void 0,n=void 0,o=(t.length,e.pageType),r=e.chapterIndex,a=[],s=[],l={seasonRelated:{},containerRelated:[],eventRelated:{},partContentRelated:[]},c=function(t){return xn(function(e){return t(e)},i,o,r)},u={Container:function(){l.containerRelated.push(c(function(t){return{Container:t.Content}}))},Contents:function(){var t;if(t=c(function(t){return{Contents:[t]}})[0]){var e=i.imageId,n={eventContentId:e,activityId:i._id,registers:t.activity,eventType:i.eventType,dragdropPara:i.para1},o=l.eventRelated["eventContentId->"+e];o?o.push(n):l.eventRelated["eventContentId->"+e]=[n]}},JsWidget:function(){var t=m(i.itemArray);_.isArray(t)?_.each(t,function(t){l.partContentRelated.push(t.id)}):l.partContentRelated.push(t.id)}};i=t.shift();)if(n=vn(i),!u[n]||u[n]&&u[n](l)){var h=c(function(t){return mn(l,i,t),"page"===o?_n(["Animation"],t):"master"===o?_n(["Animation","Parallax"],t):void 0});i.imageId?s.push(h):a.push(h)}s.length&&(a=a.concat(s),s=null);var d=wn(a,l.partContentRelated,o),p=d[0],f=d[1];if(Xut.CreateFilter.size()){var g=Xut.CreateFilter.each(e.chapterId);g&&(g(p,function(t){p.splice(t,1)}),g(f,function(t){f.splice(t,1)}),g=null)}return _.extend(e,l,{createEventIds:p,createContentIds:f,createActivitys:a})}function Tn(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=t.feedbackBehavior={},a=t.zoomBehavior={},s=void 0,l=t.chapterIndex,c=void 0,u=void 0;_.each(t.activitys,function(t){t.parameter&&(e=m(t.parameter))&&(n=t.imageId,(o=e.isButton)&&0!=o&&Q(r,n,function(){this.isButton=!0}),(i=e.behaviorSound)&&0!=i&&Q(r,n,function(){this.behaviorSound=i}),(s=e.zoom)&&s.length&&_.each(s,function(t){(u=t.content)&&Q(a,c="Content_"+l+"_"+u,function(){this.prompt=!!t.prompt})}))})}function Sn(t){var e=void 0,i=[];return _.each(t.activitys,function(t){if(!(e=t.actType||t.animation)&&t.note&&(t.actType=e="ShowNote"),t.itemArray||2!==t.autoPlay)switch(e){case"Container":case"Content":case"Parallax":case"Contents":i.push(t)}}),i}function Cn(t,e){var i="";return i+=uh(t,e),i+=ch(t,e),i+="</div></div>"}function In(t,e){var i="";if(t.category){var n=t.category.split(","),o=n.length;if(o)for(;o--;)i+=n[o]}return String.format('<canvas id="{0}" data-ctype={1} width="{2}" height="{3}"></canvas>',e.makeId("canvas"),i.toLocaleLowerCase(),t.scaleWidth,t.scaleHeight)}function Pn(t,e){var i,n=[];return t.forEach(function(t,o){i=Xut.data.query("Content",t),n.unshift(i),e&&e(i,t)}),n}function En(t,e,i){var n,o,r,a={createUUID:[],containerName:[]};return t.forEach(function(t,s){o=t.imageIds,r="Container_"+e+"_"+o,n="aaron"+Math.random(),a[n]={start:[hh(r,o,e,i)],end:"</div>"},a.createUUID.push(n),a.containerName.push(r),t.itemIds.forEach(function(t){a[t]=n})}),a}function Mn(t,e){var i,n=e.data,o=t.split(","),r=o.length,a=0,s=o.indexOf("PPT");if(0==s&&(o=o.concat(o.splice(s,1))),r)for(a=0;a<r;a++)i=o[a],ph[i]&&ph[i](e,n)}function An(t,e,i,n){if(Xut.config.debug.onlyDomMode){if(e){var o=e.split(",");if(o.length>1){var r=o.indexOf("PPT");-1!=r&&o.splice(r,1)}i.category=o[0]}}else{i.actionTypes={};var a={contentId:t,conData:i,data:n};e&&Mn(e,a)}}function On(t,e,i,n){var o="_"+n+"_"+t,r=e.md5;return{pageType:i,contentId:t,isJs:/.js$/i.test(r),isSvg:/.svg$/i.test(r),contentData:e,chapterIndex:n,containerName:"Content"+o,makeId:function(t){return t+o}}}function Nn(t,e,i){function n(t,i,n){_.each(t,function(t){t.filter&&t.filter.length&&(n.filterNames=m(t.filter)),t.trackCode&&(n.trackCode=!0),t.fixedPosition&&(n.fixedPosition=Number(t.fixedPosition)),t.qrCode&&(n.qrCode=!0),t.HeaderOrFooter&&(C[i]&&Nr("页眉页脚对象重复设置,contentId:"+i),C[i]=Number(t.HeaderOrFooter)),t.fixRadio&&(n.fixRadio=!0);var o=t.topmost;o&&0!=o&&(b?(e.master.ids.push(i),e.master.zIndex[i]=o):(e.page.ids.push(i),e.page.zIndex[i]=o))})}function o(t,e){gh(e,function(e){var i=void 0,n=void 0,o=e.contentData;fh(e,o),o.resourcePath=e.resourcePath,n=o.canvasMode?In(o,e):Cn(o,e),c&&(i=c[t])?c[i].start.push(n):S.unshift(n),r()})}function r(){if(1===p){var t={contentDataset:T,idFix:w,textFx:k,contentHtmlBoxIds:x,headerFooterMode:C,containerPrefix:""};if(c){var e,n,o,r;r=[],c.createUUID.forEach(function(t){e=c[t].start.join(""),n=c[t].end,r.push(e.concat(n))}),r=r.join(""),o=c.containerName,c=null,t.contentStr=S.join("").concat(r),t.containerPrefix=o}else t.contentStr=S.join("");i(t)}p--}var a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,p=void 0,f=t.chapterIndex,g=t.pageType,v=t.containerRelated,y=t.seasonRelated,b="master"===g,x=[],w=[],k=[],T={},S=[],C={},I=t.getStyle;for(v&&v.length&&(c=En(v,f,I)),h=Pn(t.createContentIds,function(i,o){var r=void 0;if(b&&(r=y[o])&&r.BookMarks&&e.master.ids.push(o),i){i.category&&An(o,i.category,i,t);var a=void 0;(a=i.parameter&&m(i.parameter))&&n(a.length?a:[a],o,i)}}),d=p=h.length,t.canvasRelated.onlyCompSprite&&(t.canvasRelated.enable=!0);d--;)if(a=h[d]){s=a._id,l=On(s,a,g,f),w.push(l.containerName),a.texteffect&&a.texteffect.trim()&&(a.texteffectId=l.containerName,k.push(a)),l.isJs&&x.push(s);var P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.pageProportion;u=it({results:l.contentData,getStyle:I,proportion:t,zoomMode:vh(a.fixRadio,C[s])})};P();var E=function(t){var e={};return _.each(I.pageProportion,function(i,n){e[n]=i*t}),e};if(a.fixedPosition&&3===I.pageVisualMode){var M=u.scaleTop,A=u.scaleHeight,O=I.visualLeftInteger,N=u.scaleWidth+u.scaleLeft,D="";O>u.scaleLeft&&(D="left");var R=I.visualWidth-O;if(N>R&&(D="left"===D?"all":"right"),"left"===D){P(E((u.scaleWidth-O)/u.scaleWidth));var X=(N-u.scaleWidth-O)/2;u.scaleLeft=O+X,u.scaleTop=M+(A-u.scaleHeight)/2}else"right"===D?(P(E(R/N)),u.scaleTop=M+(A-u.scaleHeight)/2):"all"===D&&(P(E(jr.screenSize.width/u.scaleWidth)),u.scaleLeft=O,u.scaleTop=M+(A-u.scaleHeight)/2)}u.isHide&&C[s]&&(C[s]="hide"),function(t,e,i){T[i]=e,o(i,t)}(l,a,s)}else r()}function Dn(t){var e={};return _.each($(t),function(t,i){e[t.id]=t}),e}function Rn(t,e){var i=[],n=[];return _.each(t,function(t,o){var r=o.split("_").pop(),a=void 0;e&&(a=e[r])?"hide"!==a&&n.push(t):i.push(t)}),{bodyContent:i,headerFooterContent:n}}function Xn(t,e){if(1===arguments.length&&_.isFunction(t)?(e=t,t=Xut.Presentation.GetPageBase&&Xut.Presentation.GetPageBase()):t=t||Xut.Presentation.GetPageBase&&Xut.Presentation.GetPageBase(),t){var i=t.baseGetContent(),n=t.baseGetComponent(),o=t.pageType||"page";return e(t,i.length&&i,n.length&&n,o)}}function $n(){_h={},bh&&(clearTimeout(bh),bh=null)}function Bn(){for(var t in _h){var e=_h[t];if(e.length)for(var i=void 0;i=e.shift();)i(),i=null}}function Ln(t,e){_h[t]?_h[t].push(e):(Object.keys(_h).length&&$n(),_h[t]=[e]),bh||(bh=setTimeout(function(){Bn(),$n()},500))}function Fn(){$n()}function Hn(){Fn()}function zn(t,e){window.preloadData?Ln(t,e):e()}function Wn(t,e,i){Xut.IBooks.compileMode()||(yh()?Xn(t,function(t,n,o,r){if("master"===t.pageType){if(t.onceMaster)return;t.onceMaster=!0}i=i||xh;var a=t.baseAutoRun();a&&zn(e,function(){kh(t,e,a,r)}),n?zn(e,function(){wh(n,i)}):i()}):i())}function jn(t,e){var i=t.target,n=(t.attribute,t.rootNode),o=t.pageIndex,r=void 0,a=void 0,s=i.id;if(e)a=e.type,r=e.id;else if(s){var l=s.split("_");a=l[0],r=l[1]}if(a&&r){var c=jh[a];if(c&&c.trigger){var u=n&&n.id?/page/.test(n.id)?"page":"master":"page",h={id:r,key:s,type:a,rootNode:n,target:i,pageIndex:o,pageType:u,activityId:r,columnData:e};jr.sendTrackCode("hot",{id:r,type:a,pageId:Xut.Presentation.GetPageId(u,o),eventName:"tap"});var d=Xut.Application.GetExistObject(u,h);if(d&&d.toggle)return d.toggle();c.trigger(h)}}}function Gn(t,e,i){Xn(t,function(t,n){Hn(),void 0!==e&&(ii(e),"master"===t.pageType&&qe()),n&&_.each(n,function(t){t.stop&&t.stop()}),i&&(ni(),Ke())})}function Yn(t){Xn(t,function(t,e,i){if("master"!==t.pageType){var n;(n=t.getContainsNode())&&(Th(function(){n.hide()}),e&&_.each(e,function(t){Xut.CreateFilter.has(t.pageId,t.id)||t.reset&&t.reset()}),i&&(_.each(i,function(t){t&&t.destroy()}),t.baseRemoveComponent()),Th(function(){setTimeout(function(){n.show(),n=null},0)}))}})}function Vn(){return Ke(),ni(),Hn(),Xn(function(t,e,i){var n=!1;return e&&_.each(e,function(t){t.stop&&t.stop()&&(n=!0)}),i&&_.each(i,function(t){t.stop&&t.stop()&&(n=!0)}),n})}function Un(t){var e=parseInt(t.id),i=Xut.data.query("Action",e,"activityId"),n=i.para1;0==parseInt(i.actionType)&&Sh(n)}function qn(t,e){return jr.getWidgetPath()+e+"/"+t}function Kn(){Mh={}}function Qn(t,e){var i,n,o=e.widgetId,r=e.widgetName+".min.js",a="page"==e.widgetType||"js"==e.widgetType?"style.min.css":0,s=function(){var i=0;return r&&i++,a&&i++,function(){if(1===i)return t&&t.call(e);i--}}();a&&(n=qn(a,o),Ah(n,s)),r&&(i=qn(r,o),Ah(i,s))}function Zn(t,e,i){var n,o,r=[],a=Xut.data.Image,s=null,l=t.source;for(n in l)l.hasOwnProperty(n)&&(o={},s=a.item((parseInt(l[n])||1)-1),o.img=s.md5,o.thumb="",o.title=s.imageTitle,r.push(o));return t.source=r,t.scrollPaintingMode=e,t.calculate=i,t.rootPath=Xut.config.getWidgetPath(),t}function Jn(t){var e=[void 0],i=e[0],n=e[1],o=e[2],r=[],a=Xut.data.Image,s=t.source;for(i in s)s.hasOwnProperty(i)&&(n={},o=a.item((parseInt(s[i])||1)-1),n.img="../gallery/"+o.md5,n.thumb="",n.title=o.imageTitle,r.push(n));return t.source=r,t}function to(t){var e=Lh(_.extend({},t));e.id=e.activityId,e.inputPara=Hh(e),"page"===e.widgetType&&(e.inputPara.container=e.rootNode);var i=Xut.Presentation.GetPageStyle(t.pageIndex),n={width:i.visualWidth,height:i.visualHeight,left:i.visualLeft,top:i.visualTop};e.pageProportion=i.pageProportion,(e=Fh(e,i)).inputPara.uuid=jr.data.appId+"-"+e.activityId,e.inputPara.id=e.activityId,e.inputPara.screenSize=n,e.inputPara.contentPrefix=Xut.Presentation.GetContentPrefix(e.pageIndex,e.pageType),e.scrollPaintingMode=4===jr.launch.visualMode,e.calculate=n,Bh[(e.widgetType||"widget").toLowerCase()](e)}function eo(t,e){var i=void 0;if("v"===jr.launch.scrollMode){var n=jr.visualSize.height;i=qh("prevEffect"===e?-n:n)}else{var o=jr.visualSize.width;i=qh("prevEffect"===e?-o:o)}t.css(Xut.style.transform,i)}function io(t){return jr.launch.doublePageMode?rd(t):od(t)}function no(t,e,i){var n,o,r,a,s,l=0,c=[],u=[];for(n=0===t?[t,t+1]:t===i-1?[t-1,t]:[t-1,t,t+1],o=0===e?[e,e+1]:e===i-1?[e-1,e]:[e-1,e,e+1];l<o.length;l++)r=o[l],-1===n.indexOf(r)?u.push(r):c.push(r);return _.each(c,function(t){n.splice(n.indexOf(t),1)}),a=n,s=[].concat(u).concat(c).sort(function(t,e){return t-e}),{create:u,ruleOut:c,destroy:a,viewFlip:s,targetIndex:e,visualIndex:t}}function oo(t,e){var i={};return 0===t?(i.middleIndex=t,i.backIndex=t+1):t===e-1?(i.middleIndex=t,i.frontIndex=t-1):(i.frontIndex=t-1,i.middleIndex=t,i.backIndex=t+1),i}function ro(t,e,i){var n=void 0,o=void 0;switch(t){case"prev":n=e-1,o=i;break;case"next":n=i+1,o=e}return{createIndex:n,destroyIndex:o}}function ao(t,e){if(!t.button||2!=t.button){var i=e.getAttribute("data-type"),n=!1;"hyperlink"===i&&(n=!0,jr.sendTrackCode("hot",{id:e.getAttribute("data-id"),pageId:e.getAttribute("data-page-id"),type:"hyperlink",eventName:"tap"}));var o=e.nodeName.toLowerCase();if(jr.launch.supportQR&&Xut.plat.hasTouch&&"img"===o&&"qrcode"===i)return"qrcode";!Xut.plat.isBrowser||Xut.IBooks.Enabled||window.MMXCONFIG||window.DUKUCONFIG||"a"===o||"video"===o||n||t.preventDefault&&t.preventDefault()}}function so(t,e){var i,n,o,r,a=t.target;if(a.nodeType){if(a===this)return{rootNode:this,elem:a,handlers:dd["data-container"]};try{for(;a!==this;a=a.parentNode||this){if(a.nodeName&&"canvas"===a.nodeName.toLowerCase())return!!Xut.Contents.Canvas.getSupportState();o=a.attributes;for(i in dd)if(n=o[i])return r=n.value,{rootNode:this,elem:a,attribute:r,pageType:e,handlers:dd[i]}}}catch(t){}}}function lo(t,e,i){if(t){var n=void 0;"poster"!==t.getAttribute("data-type")||o||(n=t,t=t.parentNode);var o=t.getAttribute("id"),r=o&&o.match(/(Audio|Video)_(\w+)/);if(r){var a=t.getAttribute("data-name");if(a){var s=r[1],l=r[2];a&&jn({target:t,pageIndex:i},{id:l,type:s,startImage:t.getAttribute("data-startImage"),stopImage:t.getAttribute("data-stopImage"),container:n||t,track:8888,chapterId:"column",isColumn:!0,fileName:a})}else console.log("column中的媒体文件不存在")}}}function co(t){return{taskHangFn:null,tasksTimer:0,isTaskSuspend:!1,isPreCreateBackground:!1,assignTaskGroup:null,nextTaskName:"",preforkComplete:vd,createTasksComplete:vd}}function uo(t){var e=t.threadTaskRelated=co(t);e.assignTaskGroup=yd(gd),e.nextTaskName="container";var i=function(t){e.nextTaskName=t},n=function(e,i){return gd[e](i,t)};t.threadtasks={container:function(){n("assign-container",function(n,o){t.$pageNode=n,t.$pseudoElement=o;var r=n.find(".page-scale > div:first-child");t.getContainsNode=function(){return o||r},t.getHeadFootNode=function(){return n.find(".page-scale > div:last-child")},t.getScaleNode=function(){return o||n.find(".page-scale")},i("background"),e.preforkComplete(),t.isMaster&&t.detectorTask({taskName:"外部Background",nextTask:function(){t.dispatchTasks()}})})},background:function(){n("assign-background",function(){e.isPreCreateBackground=!1,i("column"),e.taskHangFn&&!t.isMaster||t.detectorTask({taskName:"外部widgets",nextTask:function(){t.dispatchTasks()}}),e.taskHangFn&&e.taskHangFn()})},column:function(){var o="page"===t.pageType;o&&t.hasColumnData?n("assign-column",function(){i("complete"),e.createTasksComplete()}):(!function(){var e=jr.launch.salePageType;!o||"page"!==e&&"all"!==e||(t._pageScaleObj=md(t.getScaleNode(),t.pageIndex))}(),i("component"),t.dispatchTasks())},component:function(){n("assign-component",function(){i("activity"),t.detectorTask({taskName:"外部contents",nextTask:function(){t.dispatchTasks()}})})},activity:function(){n("assgin-activity",function(){i("complete"),e.createTasksComplete()})}}}function ho(t,e){if(e.launch.columnCheck){var i=t.columnGroup.get();i&&i.length&&(t.unWatchDep||(t.unWatchDep=[]),i.forEach(function(e){var i=Xut.Application.Watch("change:column",function(){e.resetColumnDep()});t.unWatchDep.push(function(){return Xut.Application.unWatch("change:column",i)})}))}}function po(t){t.unWatchDep&&(t.unWatchDep.forEach(function(t){t()}),t.unWatchDep=null)}function fo(t){var e,i,n=document.getElementsByTagName("canvas"),o=new Array,r=0,a=0;for(r=0;r<n.length;r++){i=(e=n[r]).className.split(" ");for(a=0;a<i.length;a++)if(i[a]==t){o.push(e);break}}return o}function go(t){function e(){a.clearRect(0,0,t.width,t.height),a.globalCompositeOperation="source-over",a.drawImage(n,0,0,t.width,t.height),o.src=t.getAttribute("mask"),n.removeEventListener("load",e),n.src=null,n=null}function i(){a.globalCompositeOperation="destination-atop",a.drawImage(o,0,0,t.width,t.height),t.style.opacity=1,o.removeEventListener("load",i),o.src=null,o=null,a=null,r=null,t.className=t.className.replace("edges","")}var n=new Image,o=new Image,r=t.className.split(" "),a=t.getContext("2d");n.addEventListener("load",e),o.addEventListener("load",i),n.src=t.getAttribute("src")}function vo(){var t,e=fo("edges");for(t=0;t<e.length;t++)go(e[t])}function mo(t,e){var i="v"===jr.launch.scrollMode,n=void 0;return t<e?n=i?"top":"left":t>e?n=i?"bottom":"right":e==t&&(n="middle"),n}function yo(t,e,i){if(t.hasMultiScene){var n=t.sectionRang;if(!i&&_.isArray(e))return kd(e,n.start);e-=n.start,i+=n.start}else if(_.isArray(e))return e;return{pageIndex:e,visualChapterIndex:i}}function _o(t,e,i){function n(t){void 0!==t.frontIndex&&(o.frontIndex=t.frontIndex,r.push(t.frontIndex)),void 0!==t.middleIndex&&(o.middleIndex=t.middleIndex,r.push(t.middleIndex)),void 0!==t.backIndex&&(o.backIndex=t.backIndex,r.push(t.backIndex))}var o={},r=[];return n(1!==e&&i?0===t?{middleIndex:t,backIndex:t+1}:t===e-1?{middleIndex:t,frontIndex:t-1}:{middleIndex:t,frontIndex:t-1,backIndex:t+1}:{middleIndex:t}),{createPointer:r,initPointer:o}}function bo(t,e){var i={},n=0;if(void 0==t)return i;if(jr.launch.doublePageMode){var o=void 0,r=void 0,a=void 0;t.length||(t=[t]),t.forEach(function(t){0===t?(i[t]=[0,1],n+=2):(r=o=2*t,a=o+1,n+=2,(i[t]=[]).push(r,a))})}return e?(i.total=n,i):i[t[0]]}function xo(t,e){if(void 0===t)return[];if(jr.launch.doublePageMode){var i=bo(t);if(i.length)return i}return[t]}function wo(t,e,i,n){var o=_.extend([],e);if(o[0]!==n){var r=o.indexOf(n),a=o.splice(r,1);o=a.concat(o)}if(i.total){var s=[];o.forEach(function(t){var e=i[t];e.length&&(s.push(e[0]),e[1]&&s.push(e[1]))}),o=s}if(t.hasMultiScene){var l=t.sectionRang.start;o.forEach(function(t,e){o.splice(e,1,t+l)})}return o}function ko(t){return Pi("chapter",t)}function To(){return!(-1!==_t().indexOf("Master")||!Xut.data.Master||!Xut.data.Master.length)}function So(t,e,i){Pd(t,e.visualIndex),Ed(t,e,function(e){Md(t,e),i.call(t,e)})}function Co(t){var e=t.pageVisualMode,i=(t.direction,t.doubleMainIndex),n=t.doublePosition,o=(t.visualChapterIndex,jr.visualSize),r=!1;if((e&&e!==jr.launch.visualMode||3===e)&&(o=l(e),r=!0),n&&void 0!==i){var a=bo(i);o.left="left"===n?a[0]*o.width:a[1]*o.width}return{visualWidth:o.width,visualHeight:o.height,visualTop:o.top,visualLeft:o.left,visualLeftInteger:Math.abs(o.left),hasRecalculate:r}}function Io(t){return t.hasRecalculate?c({width:t.visualWidth,height:t.visualHeight,top:t.visualTop,left:t.visualLeft}):jr.proportion}function Po(t,e){return Od[t](e)}function Eo(t){var e=t.position,i=t.styleDataset,n=void 0,o=void 0;switch(e){case"left":case"right":o=Po(e,i),n=Nd(o);break;case"top":case"bottom":o=Po(e,i),n=Nd(0,o);break;case"middle":n=Nd(),o=0}return{translate:n,offset:o}}function Mo(t){return _.each(t,function(e,i){_.extend(e,Co(e)),e.pageProportion=Io(e),t["_"+e.position]||(t["_"+e.position]=[]),t["_"+e.position].push(e.chapterIndex)}),jr.launch.doublePageMode||(t.getPageStyle=function(t,e){if(!this[this["_"+t]]&&"middle"===t){var i=this.getPageStyle(e);if("left"===e)return Dd(i.chapterIndex+1);if("right"===e)return Dd(i.chapterIndex-1)}return this[this["_"+t]]},_.each(t,function(e,i){e.position&&_.extend(e,Eo({styleDataset:t,position:e.position}))})),t}function Ao(t){if(1===jr.launch.visualMode&&jr.verticalToHorizontalVisual)return 1;if("flow"===t.note)return 1;var e=t.parameter;if(e){var i=e.match(/visualMode[":\s]*(\d)/);if(i)return Number(i[1])}return jr.launch.visualMode||1}function Oo(t,e){if(e.total)for(var i in e)if("total"!==i){var n=e[i].indexOf(t);if(~n)return{doubleMainIndex:Number(i),doublePosition:0==n?"left":"right"}}return{doubleMainIndex:void 0,doublePosition:void 0}}function No(t,e){Xut.Presentation.GetPageIndex=function(){return e.getVisualIndex()},_.each(["GetPageId","GetPageNode","GetPageData","GetPageBase"],function(i){Xut.Presentation[i]=function(n,o){return t(function(t,n,o){return void 0===o&&(o=e.getVisualIndex()),t["$$"+i](o,n)},n,o)}}),_.each(["Section","Page"],function(t){Xut.Presentation["GetApp"+t+"Data"]=function(e){var i=0,n=[],o=Xut.data.query("app"+t),r=o.length;for(i;i<r;i++)n.push(o.item(i));return n}}),Xut.Presentation.GetFloatContainer=function(t){var e=Xut.Presentation.GetPageBase(t),i="page"===t?"pageContainer":"masterContainer";if(e.floatGroup[i].length)return e.floatGroup[i];Nr(t+",浮动根节点没有找到")},Xut.Presentation.GetFirstPageId=function(t){var e=Xut.data.query("sectionRelated",t);return Xut.data.query("appPage").item(e.start)},Xut.Presentation.GetPageElement=function(){return Xut.Presentation.GetPageBase().$pageNode},Xut.Presentation.GetPageStyle=function(t){var e=Xut.Presentation.GetPageBase(t);if(e&&e.getStyle)return e.getStyle;Nr("页面Style配置文件获取失败,pageIndex:"+t)},Xut.Presentation.GetPagePrefix=function(t,e){return Xut.Presentation.GetPageBase(t,e).chapterIndex},Xut.Presentation.GetContentPrefix=function(t){return Xd+Xut.Presentation.GetPagePrefix(t)+"_"},Xut.Presentation.GetContentName=function(t){return t?Xd+Xut.Presentation.GetPagePrefix()+"_"+t:Xd+Xut.Presentation.GetPagePrefix()}}function Do(t,e,i){function n(t){return(t=Number(t)-1)<0&&(t=0),t}var o=t.options;Xut.View.GetPageNodeIdName=function(t,e,i){return t+"-"+(e+1)+"-"+i},Xut.View.UpdatePage=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["updatePage"].concat(i))},Xut.View.ShowPrevBar=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["showPrev"].concat(i))},Xut.View.HidePrevBar=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["hidePrev"].concat(i))},Xut.View.ShowNextBar=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["showNext"].concat(i))},Xut.View.HideNextBar=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["hideNext"].concat(i))},Xut.View.ToggleToolbar=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.$$emit.apply(t,["toggleToolbar"].concat(i))},Xut.View.ShowToolBar=function(t){Xut.View.ToggleToolbar("show",t)},Xut.View.HideToolBar=function(t){Xut.View.ToggleToolbar("hide",t)},Xut.View.ResetToolbar=function(){t.$$emit("resetToolbar")},Xut.View.Toolbar=function(t){Xut.View.ToggleToolbar(t)};var r=function(t,e){var n=void 0,r=void 0,a=void 0,s=void 0;if(t&&(_.isFunction(t)?a=t:(n=t.seasonId,r=t.chapterId,a=t.callback,s=t.speed)),n&&r)Xut.View.LoadScenario({seasonId:n,chapterId:r},a);else{if(Xut.IBooks.Enabled&&Xut.IBooks.runMode()){var l="prev"===e?Xut.IBooks.pageIndex-1:Xut.IBooks.pageIndex+1;return location.href=l+".xhtml",void(a&&a())}o.hasMultiPage&&i[e]({callback:a,speed:s})}};Xut.View.GotoPrevSlide=function(t){r(t,"prev")},Xut.View.GotoNextSlide=function(t){r(t,"next")},Xut.View.HasEnabledSwiper=function(){return i.hasEnabled()},Xut.View.SetSwiperDisable=function(){i.disable()},Xut.View.SetSwiperEnable=function(){i.enable()},Xut.View.SetSwiperFilpComplete=function(){i.setTransitionComplete.apply(i,arguments)},Xut.View.GetSwiperActionType=function(){return i.getActionType.apply(i,arguments)},Xut.View.GetSwpierBorderBounce=function(t){return i.isBorder(t)},Xut.View.GotoSlide=function(t,e,r,a){if(Xut.IBooks.Enabled&&Xut.IBooks.runMode()&&e)location.href=e+".xhtml";else if(t||e){if(1===arguments.length)return Xut.View.ShowNextBar(),i.scrollToPage(n(t),a);if(o.seasonId==t){if(r&&!e)return i.scrollToPage(n(r),a);var r=e-Xut.data.query("sectionRelated",t).start;return Xut.View.ShowNextBar(),i.scrollToPage(n(r),a)}return Xut.View.LoadScenario({seasonId:t,chapterId:e},a)}},Xut.View.SetSwiperMove=function(e){var n=e.action,r=e.direction,a=e.distance,s=e.speed,l=e.orientation;if(!(!o.hasMultiPage||i.getMoved()||"flipMove"===n&&i.isBorder(a))){var c=i.getPointer();i.setDirection(a),l=l||jr.launch.scrollMode,t.$$scheduler.movePageBases({action:n,direction:r,distance:a,speed:s,orientation:l,frontIndex:c.frontIndex,middleIndex:c.middleIndex,backIndex:c.backIndex})}}}function Ro(t,e){Xut.Assist.FilterGradient=function(t,e){if(t&&e){var i=Xut.Contents.Get("page",t);if(!i&&(i=Xut.Contents.Get("master",t)))return;e.length&&(e=e.join(" ")),i.$contentNode.addClass(e)}},Xut.Assist.TriggerPoint=function(t,e){var i=Xut.data.query("Activity",t);if(i){var n=$("#"+i.actType+"_"+i._id);n.length&&("show"===e&&Xut.nextTick(function(){n.css("visibility","visible")}),"hide"===e&&n.css("visibility","hidden"))}},Xut.Assist.TextFx=function(t){var e=Xut.Presentation.GetPageBase().getLetterObjs(t);e&&e.play()},_.each(["Run","Stop"],function(i){Xut.Assist[i]=function(n,o,r){t(function(t,n,o,r){if(_.isArray(o)){var a=function(){var t=o.length;return function(){1===t&&(r&&r(),a=null),t--}}();_.each(o,function(n){t.assistAppoint(n,e.getVisualIndex(),a,i)})}else t.assistAppoint(o,e.getVisualIndex(),r,i)},n,o,r)}})}function Xo(t,e){function i(t,e){var i=Xut.data.query("Content",t);if(i)return it({results:_.extend({},i),proportion:e})}function n(t){return!t||"string"!=typeof t}Xut.Contents.Get=function(e,i,n){return t(function(t,e,i,n){function o(e,i){var n;if(n=t.$$getPageBase(e))return n.baseGetContentObject(i)}var r,a,s=Xut.Presentation.GetPageIndex();if(_.isArray(i))return a=[],_.each(i,function(t){r=o(s,t),n?n(t,r):r&&a.push(r)}),a;if(/_/.test(i)){var l=i.split("_");if(l.length>1)return o(l[1],l[2])}if(r=o(s,i),!n)return r;n(r)},e,i,n)},Xut.Contents.GetPageWidgetData=function(t,e,n){if(-1===$d.indexOf(t)&&(e=t,t="page"),e&&e.length){_.isString(e)&&(e=[e]);var o,r=[];return Xut.Contents.Get(t,e,function(t,e){if(e&&(o=e.contentData))r.push({id:e.id,idName:e.actName,element:e.$contentNode,theTitle:o.theTitle,scaleHeight:o.scaleHeight,scaleLeft:o.scaleLeft,scaleTop:o.scaleTop,scaleWidth:o.scaleWidth,contentData:o,source:"innerObjet"});else if(o=i(t,n)){var a,s=Xut.Presentation.GetContentName(t);a=e&&e.$contentNode?e.$contentNode:$("#"+s),r.push({id:t,idName:s,element:a,theTitle:o.theTitle,scaleHeight:o.scaleHeight,scaleLeft:o.scaleLeft,scaleTop:o.scaleTop,scaleWidth:o.scaleWidth,contentData:o,source:"dataBase"})}}),r}},_.each(["Show","Hide","StopAnim"],function(i){Xut.Contents[i]=function(o,r){t(function(t,o,r){if(!n(r)){var a;(a=t.assistPocess(e.getVisualIndex()))?_.each(r.split(","),function(t){a.baseContentMutex(t,i)}):console.log("注入互斥接口数据错误！")}},o,r)}})}function $o(t,e,i){Xut.Application.GetExistObject=function(e,i){return t(function(t,e){var n;if(n=t.$$getPageBase(i.pageIndex))return"Content"===i.type?n.baseSpecifiedContent(i):n.baseSpecifiedComponent(i)},e)},Xut.Application.GetScrollBarObject=function(){if(e.miniBar)if(e.miniBar.length){for(var t=0;t<e.miniBar.length;t++)if("Scrollbar"===e.miniBar[t].type)return e.miniBar[t]}else if("Scrollbar"===e.miniBar.type)return e.miniBar},Xut.Application.GetMiniBars=function(){return e.miniBar?e.miniBar.length:0}}function Bo(t,e){Xut.Camera.MoveX=function(t,i,n){5===jr.launch.visualMode&&e.scrollToPosition(t,i,n)}}function Lo(t){return function(e,i,n,o){if(void 0!==i&&-1===$d.indexOf(i)){var r=n;n=i,o=r,i="page"}if(-1!==$d.indexOf(n)&&(i=n,n=null),i=i||"page",t[i])return e(t[i],i,n,o);Nr("传递到access的pageType错误,pageType="+i)}}function Fo(t){var e=t.$$globalSwiper,i=Lo({page:t.$$scheduler.pageMgr,master:t.$$scheduler.masterMgr});return Bo(i,e),No(i,e),Do(t,i,e),Ro(i,e),Xo(i,e),$o(i,t,e),function(){e=null,i=null,t=null}}function Ho(t){if(Xut.IBooks.Enabled)t.hasMultiPage=!1;else{var e=Number(t.pageMode);if(jr.launch.gestureGlide)t.hasMultiPage=0!==e;else{if(jr.launch.pageFlip)return void(t.hasMultiPage=!0);t.hasMultiPage=!1,e>0&&(t.hasMultiPage=!0)}}}function zo(t){var e="page";return t.dataset&&t.dataset.belong&&(e=t.dataset.belong),e}function Wo(t){for(var e=t.length,i=Vd(e),n="",o=void 0,r=void 0,a=0;a<e;a++)r=(o=t[a]).seasonId+"-"+o._id,n+='<li style="'+i.contentstyle+'">\n                <div data-xxtlink="'+r+'">\n                    '+(a+1)+"\n                </div>\n           </li>";var s='<div id="xut-nav-wrapper" style="'+i.containerstyle+'">\n            <div style="width:'+i.overwidth+"px;\n                                           height:"+i.overHeigth+"px;\n                                           "+i.scroller+'">\n                <ul id="xut-nav-section-list">\n                    '+n+"\n                </ul>\n            </div>\n        </div>";return String.styleFormat(s)}function jo(t){return'<div class="xut-control-backhome"\n                 style="float:left;text-indent:0.25em;height:'+t+"px;line-height:"+t+'px;color:#007aff">\n                主页\n            </div>'}function Go(t){return'<div class="xut-control-navbar"\n                 style="float:left;margin-left:4px;width:'+t+"px;height:"+t+'px;background-size:cover">\n            </div>'}function Yo(t,e){return'<div class="xut-control-title"\n                 style="z-index:-99;width:100%;position:absolute;line-height:'+t+'px;pointer-events:none">\n                '+e+"\n            </div>"}function Vo(t,e,i){var n=.5*t;return'<div class="xut-control-pageIndex"\n                 style="float:right;\n                        margin:'+.25*t+"px 4px;\n                        padding:0 0.25em;\n                        height:"+n+"px;\n                        line-height:"+n+'px;\n                        border-radius:0.5em">\n                  <span class="control-current-page">'+e+"</span>/<span>"+i+"</span>\n            </div>"}function Uo(t){return'<div class="xut-control-hidebar"\n                 style="float:right;width:'+t+"px;height:"+t+'px;background-size:cover">\n            </div>'}function qo(t){return'<div class="si-icon xut-icon-close2"\n                 style="float:right;margin-right:4px;width:'+t+"px;height:"+t+'px">\n            </div>'}function Ko(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=[];if(_.isArray(t.type))for(var n=0;n<t.type.length;n++)i.push(cp(t.type[n],t,e));else i.push(cp(t.type,t,e));return i}function Qo(){var t=jr.layoutMode,e=jr.iconHeight,i=jr.proportion,n=jr.screenSize,o=jr.visualSize,r=jr.originalVisualSize,a=o.sWidth,s=o.sHeight,l="horizontal"==t;i=l?i.width:i.height,e=dp?e:up(i*e);var c='<div class="xut-nav-bar"\n          style="width:'+(l?"100%":Math.min(a,s)/(dp?8:3)+"px")+";\n                 height:"+up(l?s/hp:.96*(s-e-pp))+"px;\n                 "+(l?"":"top:"+(e+pp+2)+"px;")+"\n                 "+(l?"":"left:"+e+"px;")+"\n                 "+(l?"bottom:4px;":"")+"\n                 background-color:white;\n                 border-top:1px solid rgba(0,0,0,0.1);\n                 overflow:"+(l?"hidden":"visible")+';">\n    </div>',u=jr.launch.doublePageMode?jr.screenSize.width:o.width;return String.styleFormat('<div id="xut-main-scene"\n          style="width:'+u+"px;\n                 height:"+n.height+"px;\n                 top:0;\n                 left:"+r.left+"px;\n                 position:absolute;\n                 z-index:"+Ju.createIndex()+';\n                 overflow:hidden;">\n\n        <div id="xut-control-bar" class="xut-control-bar"></div>\n        <ul id="xut-page-container" class="xut-flip"></ul>\n        <ul id="xut-master-container" class="xut-master xut-flip"></ul>\n        '+c+'\n        <div id="xut-tool-tip"></div>\n    </div>')}function Zo(t){var e=jr.visualSize,i=jr.originalVisualSize;return String.styleFormat('<div id="scenario-'+t+'"\n          style="width:'+e.width+"px;\n                 height:100%;\n                 top:0;\n                 left:"+i.left+"px;\n                 z-index:"+Ju.createIndex()+';\n                 position:absolute;\n                 overflow:hidden;">\n        <ul id="scenarioPage-'+t+'" class="xut-flip" style="z-index:2"></ul>\n        <ul id="scenarioMaster-'+t+'" class="xut-flip" style="z-index:1"></ul>\n    </div>')}function Jo(t){var e=Xut.data.query("sectionRelated",t),i=[1],n=e.length>1?2:0;return fp(e.toolbar,i,n)}function tr(t,e){return fp(t,[0],e>1?1:0)}function er(t,e,i){return function(n,o){var r;return r=i?"#"+n:"#"+o+e,t.find(r)[0]}}function ir(t,e){if(jr.debug.locationPage)return console.log("启动了debug.locationPage,如果进不去，需要检测定位的坐标"),void Xut.View.LoadScenario(jr.debug.locationPage,e);if(t){var i=Ju.seqReverse(t);if(i)return i=i.split("-"),void Xut.View.LoadScenario({seasonId:i[0],chapterId:i[1],pageIndex:i[2]},e)}e()}function nr(){var t=!1;v(Xut.View,{ShowBusy:ms,HideBusy:ys,ShowTextBusy:_s}),Xut.View.CloseScenario=function(){if(!t){t=!0;var e=Ju.takeOutPrevChainId();Xut.View.LoadScenario({seasonId:e.seasonId,chapterId:e.chapterId,createMode:"sysClose"},function(){t=!1})}};var e=function(t,e){var i=f(t.seasonId),n=f(t.chapterId),o=f(t.pageIndex),r=t.createMode;if(!t.main&&Xut.IBooks.Enabled&&Xut.IBooks.runMode())location.href=n+".xhtml";else{var a=Ju.containerObj("current"),s=a&&a.$$mediator&&a.$$mediator.$curVmPage;if(s&&s.seasonId==i&&s.chapterId==n)Nr("重复触发页面加载:seasonId:"+i+",chapterId:"+n);else{var l="sysClose"!==r;if(l&&a&&a.seasonId===i)Xut.View.GotoSlide(i,n,o,e);else{a&&a.$$mediator.$suspend(),a&&l&&Ju.checkToRepeat(i),t.main&&window.DUKUCONFIG?Xut.View.HideBusy():Xut.View.ShowBusy(),a&&!a.$$mediator.$hasMultiScene&&Xut.View.HideToolBar();var c=void 0;a&&(c=Xut.Presentation.GetPageId())&&Ju.rewrite(a.seasonId,c);var u=Xut.data.query("sectionRelated",i),h={seasonId:i,chapterId:n,sectionRang:u,isInApp:t.isInApp,history:t.history,barInfo:u.toolbar,pageIndex:o||(n?"GotoSlide"===r?n:n-u.start-1:0),pageTotal:u.length,complete:function(t){e&&e(),a&&a.destroy(),t&&t(),Xut.View.HideBusy()}};(t.main||Ju.mianId===i)&&(F("history"),Ju.mianId=i,h.isMain=!0),new gp(h)}}}};Xut.View.LoadScenario=function(t,i){var n=f(t.chapterId);!t.main&&n&&jr.launch.preload&&le({chapterId:n,type:"nolinear",processed:function(){e(t,i),Xut.View.HideBusy()}})?Xut.View.ShowBusy():e(t,i)},Xut.View.Open=function(t,e,i,n,o){Xut.Plugin.WebView.open(t,n,o,i,e,1)},Xut.View.Close=function(){Xut.Plugin.WebView.close()}}function or(){Xut.U3d.View=function(t,e){Xut.View.LoadScenario({seasonId:t,chapterId:e})},window.XXTAPI.ReadVar=function(t,e){var i;return(i=L(t))?i:(B(t,e),e)},window.XXTAPI.SaveVar=function(t,e){B(t,e)},window.XXTAPI.SetVar=function(t,e){B(t,e)}}function rr(){Xut.Contents.contentsFragment={},Xut.Contents.Canvas={SupportSwipe:!0,isSwipe:!1,isTap:!1,Reset:function(){Xut.Contents.Canvas.SupportSwipe=!0,Xut.Contents.Canvas.isSwipe=!1},getSupportState:function(){var t;return t=!!Xut.Contents.Canvas.SupportSwipe,Xut.Contents.Canvas.Reset(),t},getIsSwipe:function(){var t;return t=!!Xut.Contents.Canvas.isSwipe,Xut.Contents.Canvas.Reset(),t},getIsTap:function(){return Xut.Contents.Canvas.isTap=!1,Xut.Contents.Canvas.isTap}},Xut.Contents.ResetDefaultControl=function(t,e,i){if(e){var n,o=function(t){i?t.attr("data-behavior",i):t.attr("data-behavior","disable")};(n=Xut.Contents.Get(t,e))&&n.$contentNode?o(n.$contentNode):(n=$("#"+e)).length&&o(n)}},Xut.Contents.DisableControl=function(t){return{behavior:"data-behavior",value:"disable"}},Xut.Contents.EnableControl=function(t){return{behavior:"data-behavior",value:t||"click-swipe"}}}function ar(t){xt()}function sr(t){dt()}function lr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"exit";if(Ju.destroyAllScene(),"destory"===t&&$e(),"destory"===t||"exit"===t){sr();var e=$("#xut-stream-flow");e.length&&(e.remove(),e=null)}di(),r(),ar(),Ke(),ni(),De(),H(),Xut.TransformFilter.empty(),Xut.CreateFilter.empty(),ri(),ce(),Hn(),$("link[data-type]").each(function(t,e){var i=e.getAttribute("data-type");"svgsheet"!==i&&"xxtflow"!==i||e.parentNode.removeChild(e)}),$t(),jr.launch=null,Xut.Application.Notify("appDestory")}function cr(){var t=0,e=!1,i=new Ks;Xut.Application.Watch=function(t,e){var n=function(){e.apply(i,arguments)};return i.$$watch(t,n),n},Xut.Application.onceWatch=function(t,e){var n=function(){e.apply(i,arguments)};return i.$$once(t,n),n},Xut.Application.Notify=function(){i.$$emit.apply(i,arguments)},Xut.Application.unWatch=function(t,e){i.$$unWatch(t,e)},Xut.Application.IsBackStage=function(){return t},Xut.Application.Original=function(){t=1,Gn("","",!0),Yn()},Xut.Application.Activate=function(){t=0,Wn()},Xut.Application.Exit=function(){jr.launch&&(jr.sendTrackCode("exit",{time:+new Date-jr.launch.launchTime}),lr("exit"))},Xut.Application.Refresh=function(){lr("refresh")},Xut.Application.Destroy=function(){Xut.Application.DropApp()},Xut.Application.DropApp=function(){var t=function(){i.$$unWatch(),lr("destory"),window.GLOBALCONTEXT=null};{if(1!==jr.launch.lauchMode){if(window.DUKUCONFIG){if(window.DUKUCONFIG.iframeDrop){var e=L("appId");window.DUKUCONFIG.iframeDrop(["appId-"+e,"novelId-"+e,"pageIndex-"+e])}return window.DUKUCONFIG=null,void t()}return window.CLIENTCONFIGT?(window.CLIENTCONFIGT.iframeDrop&&window.CLIENTCONFIGT.iframeDrop(),window.CLIENTCONFIGT=null,void t()):window.MMXCONFIG?(window.MMXCONFIG.iframeDrop&&window.MMXCONFIG.iframeDrop(),window.MMXCONFIG=null,void t()):void 0}t()}},Xut.Application.Suspend=function(t){var e=t.skipAudio,i=(t.dispose,t.processed);Vn(e),i&&i()},Xut.Application.Launch=function(){},Xut.Application.setAppState=function(){e=!0},Xut.Application.delAppState=function(){e=!1},Xut.Application.getAppState=function(){return e},Xut.Application.delayAppRun=function(){Xut.Application.setAppState()},Xut.Application.LaunchApp=function(){Xut.Application.delAppState()}}function ur(){Xut.extend=function(t){}}function hr(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];fi(function(){de(),hi();var t=oi.apply(void 0,e),i=t.$rootNode,n=t.$contentNode;qa({container:i,content:n},Re)})}function dr(t){t&&Xut.mixin(jr.golbal,t)}function pr(){for(var t=document.querySelectorAll("script"),e=0;e<t.length;e++){var i=t[e];if(1==i.getAttribute("data-lauchMode"))return!0;if("mini"===i.getAttribute("data-plat"))return!0}}var fr=function(){return jr.launch.resource?jr.launch.resource+"/gallery/":"content/gallery/"},gr=function(){return jr.launch.resource?jr.launch.resource+"/widget/":"content/widget/"},vr=Xut.plat.isIOS,mr=Xut.plat.isAndroid,yr={resources:function(t){return vr?fr():mr?parseInt(t.launch.storageMode)?"/sdcard/appcarrier/magazine/"+t.data.appId+"/"+fr():"/android_asset/www/"+fr():void 0},video:function(){return vr?fr():mr?"android.resource://#packagename#/raw/":void 0},audio:function(){return vr?fr():mr?"/android_asset/www/"+fr():void 0},svg:function(){return"www/"+fr()},jsWidget:function(){return vr?gr():mr?"/android_asset/www/"+gr():void 0}},_r=Xut.plat.isIOS,br=Xut.plat.isAndroid,xr=window.DUKUCONFIG,wr=window.MMXCONFIG,kr=window.CLIENTCONFIGT,Tr=window.SUbCONFIGT;xr&&(xr.path=xr.path.replace("//","/"));var Sr=location.href.replace(/^file:\/\/\/?/i,"/").replace(/[^\/]*$/,"");wr&&wr.path&&(Sr=function(t){if("string"!=typeof t)return t;var e=t.length-1;return"/"===t.charAt(e)?t.substr(0,e):t}(wr.path));var Cr=function(){var t=void 0;return Tr&&xr?t="iframeDuKuSubDoc":(Tr&&(t="iframeSubDoc"),xr&&(t="iframeDuKu"),kr&&(t="iframeClient"),wr&&(t="iframeMiaomiaoxue")),t}(),Ir={resources:function(){if(_r)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":case"iframeDuKuSubDoc":return fr();case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}if(br)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":return"/android_asset/www/content/subdoc/"+Tr.path+"/content/gallery/";case"iframeDuKuSubDoc":return xr.path.replace("gallery","subdoc")+Tr.path+"/content/gallery/";case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}},video:function(){if(_r)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":case"iframeDuKuSubDoc":return fr();case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}if(br)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":return"android.resource://#packagename#/raw/";case"iframeDuKuSubDoc":return xr.path.replace("gallery","subdoc")+Tr.path+"/content/gallery/";case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}},audio:function(){if(_r)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":case"iframeDuKuSubDoc":return fr();case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}if(br)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":return"/android_asset/www/content/subdoc/"+Tr.path+"/content/gallery/";case"iframeDuKuSubDoc":return xr.path.replace("gallery","subdoc")+Tr.path+"/content/gallery/";case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}},svg:function(){if(_r)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":return"www/content/subdoc/"+Tr.path+"/content/gallery/";case"iframeDuKuSubDoc":return xr.path.replace("gallery","subdoc")+Tr.path+"/content/gallery/";case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}if(br)switch(Cr){case"iframeDuKu":return xr.path;case"iframeSubDoc":return"www/content/subdoc/"+Tr.path+"/content/gallery/";case"iframeDuKuSubDoc":return xr.path.replace("gallery","subdoc")+Tr.path+"/content/gallery/";case"iframeClient":return kr.path;case"iframeMiaomiaoxue":return Sr+"/content/gallery/"}},jsWidget:function(){return Sr+"/content/widget/"}},Pr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Er=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Mr=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},Ar=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Or=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Nr=function(){};Xut.$warn=Nr;var Dr=Math.ceil,Rr=1024,Xr=768,$r={lauchMode:0,visualMode:void 0,scrollMode:"h",gestureGlide:void 0,preload:void 0,convert:void 0,launchAnim:!0,doublePageMode:!1,trackCode:null,brMode:0,columnCheck:void 0,pageBar:{type:"digital",mode:void 0,position:void 0},mouseWheel:void 0,platform:void 0,quickFlip:!0,supportQR:!1,visualHeight:void 0,visualTop:0,cursor:{delayTime:void 0,url:void 0},imageSuffix:null,baseImageSuffix:"",useHDImageZoom:!0,salePicture:!0,salePictureMultiples:4,salePageType:void 0,historyMode:void 0,swipeDelegate:void 0,storageMode:0},Br={devtools:!1,silent:!1,onlyDomMode:!1,toolType:{main:void 0,deputy:void 0,number:void 0},locationPage:void 0,pageMode:void 0},Lr={novelId:null,pageIndex:null,dbSize:1,appId:null,iconHeight:Xut.plat.isIphone?32:44,dbName:window.xxtmagzinedbname||"magazine",onlineModeUrl:"lib/data/database.php",pathAddress:null},Fr=Xut.plat.isBrowser,Hr=window.GLOBALIFRAME,zr=window.CLIENTCONFIGT,Wr=window.MMXCONFIG,jr={},Gr=void 0,Yr=void 0,Vr=void 0,Ur=1e3;Xut.zIndexlevel=function(){return++Ur},/xinxuetang/.test(window.location.href)&&(jr.iframeFullScreen=!0);var qr=!1,Kr=!1,Qr=!1,Zr=!1,Jr=void 0,ta=void 0,ea=void 0,ia=void 0,na=function(){return jr.launch.resource?fr():Hr&&zr?zr.path:"undefined"!=typeof initGalleryUrl?fr():Number(jr.launch.storageMode)?"sdcard/"+jr.data.appId+"/"+fr():fr()},oa=!Wr&&Fr,ra=function(){return Fr?na():Hr?Ir.resources(jr):yr.resources(jr)},aa=function(){return oa?na():Hr?Ir.video():yr.video()},sa=function(){return oa?na():Hr?Ir.audio():yr.audio()},la=function(){return Fr?na():Hr?Ir.svg():yr.svg()},ca=function(){return Fr?gr():Hr?Ir.jsWidget():yr.jsWidget()};_.extend(jr,{orientateMode:!!Xut.plat.isBrowser,getVideoPath:function(){return qr&&Jr?Jr:(qr=!0,Jr=aa())},getAudioPath:function(){return Kr&&ta?ta:(Kr=!0,ta=sa())},getSvgPath:function(){return Qr&&ea?ea:(Qr=!0,ea=la())},getWidgetPath:function(){return Zr&&ia?ia:(Zr=!0,ia=ca())},isPlugin:window.DUKUCONFIG&&Xut.plat.isIOS,layoutMode:Gr,proportion:Yr,data:Lr,debug:Br,golbal:$r}),Xut.config=jr;var ua=function(e,i,r,a){Vr=n(jr,e,i);var s=jr.visualSize=t(jr,Vr,r,a);s.overflowWidth=!1,s.left<0&&(s.overflowWidth=2*Math.abs(s.left)),s.overflowHeight=!1,s.top<0&&(s.overflowHeight=!0),Yr=jr.proportion=o(jr,s,Vr)},ha=function(t,n,o){jr.screenSize=o||e(),jr.screenHorizontal=jr.screenSize.width>jr.screenSize.height,jr.screenVertical=!jr.screenHorizontal,Gr=jr.layoutMode=i(jr.screenSize),t&&n&&(jr.pptHorizontal=t>n,jr.pptVertical=!jr.pptHorizontal)},da=function(t,e,i,n,o){ha(t,e,i),ua(t,e,n,o)},pa=Object.defineProperty,fa=Xut.style.transitionEnd,ga=Xut.plat.isMouseTouch,va=Xut.plat.hasTouch,ma=["click","touchstart","touchmove","touchend","touchcancel",fa],ya=["click","mousedown","mousemove","mouseup","mousecancel",fa,"mouseleave"],_a={click:0,start:1,move:2,end:3,cancel:4,transitionend:5,leave:6},ba=ga?{touch:ma,mouse:ya}:va?ma:ya,xa={},wa=1,ka=function(t,e,i,n){_.each(e,function(e,o){var r=void 0;n?(r=t[_a[e]])&&i(r):(r=t[_a[o]],e&&r&&i(r,e))})},Ta=function(t,e,i,n){ka(e,i,function(e,i){w(t,e,i,n),t.addEventListener(e,i,n)})},Sa=function(t,e,i){ka(e,i,function(e){T(t,e)},"remove")},Ca=function(t,e,i,n){ga?_.each(ba,function(o){t(e,o,i,n)}):t(e,ba,i,n)},Ia=function(t){t&&t.end&&!t.cancel&&(t.cancel=t.end)},Pa=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,Ea=[],Ma=null,Aa=function(){for(var t=0;t<Ea.length;t++)Ea[t].end?Ea.splice(t--,1):Ea[t]();!Ea.length&&Oa()},Oa=function(){clearInterval(Ma),Ma=null},Na=void 0,Da=window.localStorage,Ra=function(t){if(Na)return t+Na;jr.data.appId||(jr.data.appId="aaron-"+(new Date).getDate());var e=window.SUbCONFIGT&&window.SUbCONFIGT.dbId?"-"+window.SUbCONFIGT.dbId:"";return Na="-"+jr.data.appId+e,t+Na},Xa=function(t,e){return Xut.plat.supportStorage?t:(Xut.plat.isWeiXin,e)},$a=Xa(function(t,e){var i;if(_.isObject(t))for(var n in t)t.hasOwnProperty(n)&&(i=Ra(n),Da.setItem(i,t[n]));else t=Ra(t),Da.setItem(t,e)},function(t,e,i){if(!i){var n=new Date;n.setTime(n.getTime()+2592e6),i=n.toGMTString()}document.cookie=t+"="+escape(e)+";expires="+i}),Ba=Xa(function(t){t=Ra(t);var e=Da.getItem(t);if(e&&(!e||"null"!=e))return Da.getItem(t)},X),La=Xa(function(t){t=Ra(t),Da.removeItem(t)},function(t){var e=new Date;e.setTime(e.getTime()-1);var i=X(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString())}),Fa=Xa(R,R),Ha=Math.ceil,za=/\/$/,Wa=null,ja=function(t){var e=t.width,i=t.height,n=t.left,o=t.top,r=t.padding,a=t.proportion,s=t.zoomMode,l=t.getStyle;if(a||(Nr("没有传递缩放比,取全局config"),a=jr.proportion),1===s){var c=l.visualTop,u=Ha(i*a.width)||0;return{width:Ha(e*a.width)||0,height:u,left:Ha(n*a.left)||0,top:-c/2-u/2||0,padding:Ha(r*a.width)||0,isHide:u>c}}if(2===s){var h=l.visualTop,d=Ha(i*a.width)||0;return{width:Ha(e*a.width)||0,height:d,left:Ha(n*a.left)||0,top:l.visualHeight+h/2-d/2||0,padding:Ha(r*a.width)||0,isHide:d>h}}if(3===s){if(a.width>a.height){var p=Ha(e*a.width)||0,f=Ha(e*a.height)||0,g=Math.abs(f-p)/2;return n=Ha(n*a.left)+g,{width:f,height:Ha(i*a.height)||0,left:n,top:Ha(o*a.top)||0,padding:Ha(r*a.width)||0}}var v=Ha(i*a.height)||0,m=Ha(i*a.width)||0,y=Math.abs(m-v)/2;return o=Ha(o*a.top)+y,{width:Ha(e*a.width)||0,height:m,left:Ha(n*a.left)||0,top:o,padding:Ha(r*a.width)||0}}return{width:Ha(e*a.width)||0,height:Ha(i*a.height)||0,left:Ha(n*a.left)||0,top:Ha(o*a.top)||0,padding:Ha(r*a.width)||0}},Ga=document,Ya=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Va=Ga.implementation.hasFeature("MutationEvents","2.0"),Ua=function(){function t(){n=!1;var t=i.slice(0);i=[];for(var e=0;e<t.length;e++)t[e]()}var e,i=[],n=!1;if(void 0!==Ya&&Xut.plat.supportMutationObserver){var o=1,r=new Ya(t),a=document.createTextNode(o);r.observe(a,{characterData:!0}),e=function(){o=(o+1)%2,a.data=o}}else{var s=Xut.plat.isBrowser?window:"undefined"!=typeof global?global:{};e=s.setImmediate||setTimeout}return function(o,r){var a=r?function(){o.call(r)}:o;i.push(a),n||(n=!0,e(t,0))}}(),qa=function(t,e,i){var n=t.container,o=t.content,r=t.position,a=t.delay,s=void 0===a?0:a;if(1===arguments.length&&"function"==typeof arguments[0])return"function"==typeof(e=arguments[0])?Ua(e):void console.log("nextTick: 参数提供错误");if(n&&o)if(n instanceof $&&(n=n[0]),1===n.nodeType){var l="T"+(1e4*Math.random()<<1),c=Ga.createElement("input");if(c.setAttribute("value",l),"string"==typeof o){var u=$(o);u[0]||(u=Ga.createTextNode(o),u=$(u)),o=u,u=null}var h=function(){n.removeChild(c),e.call(i),n=null,c=null,i=null},d=function(){for(var t=Ga.createDocumentFragment(),e=o.length,i=0;i<e;i++)t.appendChild(o[i]);t.appendChild(c),"first"===r?n.insertBefore(t,n.firstChild):n.appendChild(t),t=null,c.setAttribute("value",l)};if(Ya){var p=new Ya(function(t){t.forEach(function(t){t.oldValue===l&&(h(),p=null)})});p.observe(c,{attributes:!0,attributeOldValue:!0,attributeFilter:["value"]}),d()}else if(Va){n.addEventListener("DOMNodeInserted",function t(o){o.target.value===l&&(n.removeEventListener("DOMNodeInserted",t,!1),e.call(i))},!1),d(),n.removeChild(c)}else d(),setTimeout(function(){h()},s)}else console.log("nextTick: container must be HTMLLIElement ")};Xut.nextTick=qa;var Ka=/(img\s+src|xlink:href)=\"[\w\/]*gallery\/(\w+)(\.[png|jpg|gif]+)/gi,Qa=void 0,Za={};"Setting,Parallax,Master,Activity,Content,Video,Image,Action,Animation,Widget,Novel,Season,Chapter".replace(/[^, ]+/g,function(t){Za[t]="select * FROM "+t+" order by _id ASC"});var Ja=function(t){for(var e in t)t[e].item&&function(e){var i=void 0,n=t[e];n.length&&n.item(0)&&(i=n.item(0)._id)&&(t[e].start=i)}(e);return t},ts=function(t){var e=void 0,i={},n=t.Video;return _.each(n,function(t,o){(e=n.item(o))&&e.activityId&&(i[e.activityId]=e._id)}),i},es=function(t){var e,i,n,o,r,a,s,l={},c=t.Chapter,u=c.length;for(n=0;n<u;n++)(s=c.item(n))&&(o=s._id-1,l[i="seasonId->"+(e=s.seasonId)]?(l[i].end=o,l[i].length=l[i].length+1):((r=function(e){for(var i,n=t.Season.length;n--;)if((i=t.Season.item(n))&&i._id==e)return i}(e))&&(a=r.parameter),l[i]={start:o,length:1,end:o,toolbar:a}));return l},is=void 0,ns=void 0,os=void 0,rs=void 0,as=function(t){if(window.openDatabase)try{jr.data.db=window.openDatabase(jr.data.dbName,"1.0","Xxtebook Database",jr.data.dbSize)}catch(t){console.log("window.openDatabase出错")}jr.data.db?jr.data.db.transaction(function(e){e.executeSql("SELECT * FROM Novel",[],function(e,i){t()},function(){jr.data.db=null,t()})}):t()},ss=function(t){Tt(function(e){return t(e)})},ls=function(t,e){if(t)return jr.data.db=null,void ss(e);as(function(){ss(e)})},cs={ToolbarPos:0,NavbarPos:1,HomeBut:1,ContentBut:1,PageBut:1,NavLeft:1,NavRight:1,customButton:0,CloseBut:window.SUbDOCCONTEXT?1:0},us=500,hs=null,ds=!1,ps=!1,fs=null,gs=void 0,vs=function(){clearTimeout(fs),fs=null},ms=function(){ds||Xut.IBooks.Enabled||fs||(fs=setTimeout(function(){hs.show(),vs(),ps&&(ys(),ps=!1)},us))},ys=function(){ds||Xut.IBooks.Enabled||ms.lock||(fs?ps=!0:hs.hide())},_s=function(t){ds||Xut.IBooks.Enabled||(hs.css("pointer-events","none").find(".xut-busy-text").html(t),ms())},bs=function(t){gs=null,us=500},xs=function(t){gs=t},ws=function(t){us=t},ks=function(){ds=!0},Ts=function(){return ds},Ss=void 0,Cs=!1,Is=2,Ps=13,Es=null,Ms=20,As=function(t,e,i){return function(){Pt(t,e,i)}},Os=function(t){if(t.length){for(var e=void 0;e=t.pop();)e();Xut.Application.Notify("change:number:total"),Xut.Application.Notify("change:column")}},Ns=Xut.style.columnWidth,Ds=Xut.style.columnGap,Rs=0,Xs=function(t,e,i,n,o){var r=Number(o[0]),a=Number(o[1]),s=Number(o[2]),l=i/100*(a+Number(o[3])),c=i-l,u=n-n/100*(r+s),h=l/2,d=n/100*r;if(/section-transform/.test(e)&&(e=$(e).find("#columns-content").html()),"v"===jr.launch.scrollMode){var p='\n            <section id="wrapper-section" class="section-transform" data-flow="true" style="width:'+(i-h)+"px;height:"+(n-d)+"px;top:"+d+"px;left:"+h+'px;">\n                <div  id="scroller-section" class="page-flow-scale" data-role="margin" style="width:'+c+'px;height:auto;">\n                      '+e+"\n                </div>\n            </section>";return Rs=n-d,String.styleFormat(p)}var f='\n            <section class="section-transform" data-flow="true">\n                <div class="page-flow-scale" data-role="margin" style="width:'+c+"px;height:"+u+"px;margin-top:"+d+"px;margin-left:"+h+'px;">\n                    <div data-role="column" id="columns-content" style="'+(Ns+":"+c+"px")+";height:100%;"+(Ds+":"+l+"px")+'">\n                        '+e+"\n                    </div>\n                </div>\n            </section>";return Rs=u,String.styleFormat(f)},$s=function(t,e,i,n,o){for(var r=0;r<t.childNodes.length;r++){var a=t.childNodes[r];if(1==a.nodeType){var s=a.id;if(s){var l=/\d+/.exec(s)[0];if(l){var c=a.getAttribute("data-margin");c=c?c.split(","):[0,0,0,0],a.innerHTML=Xs(0,a.innerHTML,i,n,c),o[e][l]=0}else Nr("node tag is null on insertColumn")}else Nr("node tag is null on insertColumn")}}},Bs=function(t,e,i,n){e.each(function(o,r){var a=r.id.match(/\d/)[0];e.children();t[a]={},$s(r,a,i,n,t)})},Ls=function(t,e){for(var i=$(t).find(e).children(),n=0,o=0;o<i.length;o++)n+=Math.max(i[o].scrollHeight,i[o].clientHeight);return Math.ceil(n/Rs)},Fs=function(){function t(e){Pr(this,t),this.state="init",this.cache=[]}return Er(t,[{key:"add",value:function(t){this.cache.push(t)}},{key:"get",value:function(){if(this.cache.length)return this.cache.shift()}},{key:"destory",value:function(){for(var t=0;t<this.cache.length;t++)this.cache[t]&&(this.cache[t].src=null,this.cache[t].removeAttribute("src"),this.cache[t]=null)}}]),t}(),Hs=null,zs=null,Ws=function(t,e){var i=void 0,n=[],o=[];return(t=t.split(",")).forEach(function(t){1===(i=t.split("-")).length?o.push(e+t):(n.push(Number(i[0])),o.push(e+i[1]))}),{sizes:n,fileNames:o,length:t.length}},js=function(t,e){var i=void 0,n=[],o=[];for(var r in t)!function(r){t[r].split(",").forEach(function(t){1===(i=t.split("-")).length?n.push(e+r+"/"+t):(o.push(Number(i[0])),n.push(e+r+"/"+i[1]))})}(r);return{sizes:o,fileNames:n,length:n.length}},Gs={content:function(t){return Ws(t,jr.data.pathAddress)},audio:function(t){return Ws(t,jr.data.pathAddress)},video:function(t){return Ws(t,jr.data.pathAddress)},svg:function(t){return Ws(t,jr.data.pathAddress)},widget:function(t){return Ws(t,jr.data.rootPath+"/widget/gallery/")},autoSprite:function(t){return js(t,jr.data.pathAddress)},seniorSprite:function(t){return js(t,jr.data.rootPath+"/widget/gallery/")}},Ys=Array.prototype,Vs=Ys.indexOf,Us=Ys.slice,qs=function(t,e){var i,n;if(Vs&&t.indexOf===Vs)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Ks=function(){function t(){Pr(this,t),this.$$watch=this.bind,this.$$unWatch=this.unbind,this.$$emit=this.trigger,this.$$once=this.one,this._handleName={}}return Er(t,[{key:"bind",value:function(t,e){var i,n,o=this.events=this.events||{},r=t.split(/\s+/),a=r.length;for(i=0;i<a;i++)o[n=r[i]]=o[n]||[],-1===qs(o[n],e)&&o[n].push(e);var s;return(s=this._handleName[t])&&this.$$emit(t,s[0]),this}},{key:"one",value:function(t,e){return this.bind(t,function i(){this.unbind(t,i),e.apply(this,Us.call(arguments))}),this}},{key:"unbind",value:function(t,e){var i,n,o,r,a,s=this.events;if(!s)return this;if(arguments.length)for(n=0,r=(a=t.split(/\s+/)).length;n<r;n++)(i=a[n])in s!=!1&&(e?-1!==(o=qs(s[i],e))&&s[i].splice(o,1):s[i]=null,s[i]&&s[i].length||delete s[i]);else this.events=null;return this}},{key:"trigger",value:function(t){var e,i,n,o=this.events;if(e=Us.call(arguments,1),!o||t in o==!1)return this._handleName[t]=e,this;for(n=o[t],i=0;i<n.length;i++)n[i].apply(this,e);return this}}]),t}(),Qs=function(t){function e(){Pr(this,e);var t=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.asys=[],t}return Ar(e,Ks),Er(e,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";t&&"function"==typeof t&&this.asys[e](t)}},{key:"destory",value:function(){this.asys=[]}},{key:"exec",value:function(){var t=this;if(this.asys&&this.asys.length){!function e(){t.asys.length?t.asys.shift()(e):t.$$emit("complete")}()}return this}}]),e}(),Zs={},Js=function(){function t(e,i){Pr(this,t),this.state=!1,this.timer=null,this.parser=e,this.filePath=i}return Er(t,[{key:"_clearDownload",value:function(){this._downObj&&(this._downObj.destory&&this._downObj.destory(),this._downObj=null)}},{key:"_downloadFile",value:function(){var t=this;this._downObj=this.parser(this.filePath,function(){t.state=!0,t.callback&&t.callback()})}},{key:"_clearWatcher",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"_createWather",value:function(t){var e=this;this.state||(this.timer=setTimeout(function(){e.callback&&e.callback()},t))}},{key:"_createExitFn",value:function(t){var e=this;this.callback=function(){e._clearWatcher(),e.callback=null,t(e.state)}}},{key:"start",value:function(t,e){this._createExitFn(e),this._downloadFile(),this._createWather(t)}},{key:"reset",value:function(t,e){this._createExitFn(e),this._createWather(t)}},{key:"destory",value:function(){this._clearDownload(),this._clearWatcher(),this.callback=null,this.parse=null}}]),t}(),tl=!0,el=0,il=0,nl=null,ol=null,rl={content:Ut,widget:Ut,autoSprite:Ut,seniorSprite:Ut,audio:function(t,e){function i(t){s&&(clearTimeout(s),s=null),a&&(a.removeEventListener("loadedmetadata",r,!1),a.removeEventListener("error",n,!1),a.src=null,a.removeAttribute("src"),Hs&&Hs.add(a),a=null)}function n(t){i(t),e()}function o(){function t(t){return!(!a.buffered.length||i!=a.buffered.end(a.buffered.length-1))}function e(){s=setTimeout(function(){t()?n("isExit"):e()},500)}if(t())n("isExit");else{a.play();var i=a.duration;e()}}function r(){a.buffered?o():n()}var a=Ht();a.src=t,a.preload="auto",a.autobuffer=!0,a.autoplay=!0,a.muted=!0;var s=null;return a.addEventListener("loadedmetadata",r,!1),a.addEventListener("error",n,!1),{destory:i}},svg:function(t,e){$.ajax({url:t,complete:e})}},al=function(){if(jr.launch.historyMode){var t=jr.data;B({pageIndex:t.pageIndex,novelId:t.novelId})}else L("novelId")&&(F("pageIndex"),F("novelId"))},sl=function(t){return{novelId:Number(t.novelId),pageIndex:Number(t.pageIndex),history:t.history}},ll=function(){var t=void 0;(t=Xut.data.query("Novel").preCode)&&Z(t,"novelpre脚本")},cl=function(t){t=sl(t||{}),jr.data.novelId=t.novelId,jr.data.pageIndex=t.pageIndex,al(),ll();var e=void 0,i=void 0,n=void 0;for(n=0;n<Xut.data.Season.length;n++)if(i=Xut.data.Season.item(n),Xut.data.query("sectionRelated",i._id)){e=i._id;break}Xut.View.LoadScenario({main:!0,seasonId:e,pageIndex:t.pageIndex,history:t.history},function(){Xut.Application.Notify("initComplete"),jr.sendTrackCode("init")})},ul=function(){function t(e,i){Pr(this,t);var n=Se(e.url),o=e.width,r=e.height,a=e.top,s=e.left,l=e.zIndex;this.container=Ce(e);var c=Te("video-flare",{width:o,height:r,top:a,left:s,zIndex:l}),u=this.fv=c.flareVideo({width:o,height:r,autoplay:!0,srcs:n});if(u.video.setAttribute("playsinline","playsinline"),Xut.plat.isAndroid&&Xut.plat.isWeiXin&&!e.isColumn){u.video.setAttribute("x5-video-player-type","h5"),u.video.setAttribute("x5-video-player-fullscreen",!0),u.video.setAttribute("x5-video-orientation","landscape|portrait");var h=$(".xut-float").css("visibility");u.video.addEventListener("x5videoenterfullscreen",function(){c[0].style.top="0px",c[0].style.left="0px",$(".xut-float").css("visibility","hidden")}),u.video.addEventListener("x5videoexitfullscreen",function(){c[0].style.top=a+"px",c[0].style.left=s+"px",$(".xut-float").css("visibility",h)})}u.bind("ended",function(){e.startBoot&&e.startBoot(),"mini"!==jr.launch.platform&&i(e.chapterId)}),u.bind("error",function(){e.startBoot&&e.startBoot(),i(e.chapterId)}),this.container.append(c),u.bind("close",function(){i(e.chapterId)})}return Er(t,[{key:"play",value:function(){this.fv.play()}},{key:"stop",value:function(){this.fv.pause()}},{key:"destroy",value:function(){this.fv.remove(),this.fv=null,this.container=null}}]),t}(),hl={state:!1,path:window.DUKUCONFIG?window.DUKUCONFIG.path+"duku.mp4":"android.resource://#packagename#/raw/duku",load:function(){this.play(),this.state=!0},play:function(){Xut.Application.delayAppRun(),Xut.Plugin.VideoPlayer.play(function(){hl.launchApp()},function(){hl.launchApp()},hl.path,1,0,0,window.innerHeight,window.innerWidth)},closeVideo:function(){Xut.Plugin.VideoPlayer.close(function(){hl.launchApp()})},launchApp:function(){this.state=!1,Xut.Application.LaunchApp()}},dl=function(t){Xut.isRunSubDoc?Xut.publish("subdoc:dropApp"):("pause"===t&&Xut.Application.Original(),"resume"===t&&Xut.Application.Activate(),"back"===t&&window.GLOBALCONTEXT.navigator.notification.confirm("您确认要退出吗？",function(t){1==t&&Xut.Application.Suspend({processed:function(){window.GLOBALCONTEXT.navigator.app.exitApp()}})},"退出","确定,取消"))},pl=function(t){return L(t)},fl=function(t){if(Xut.IBooks.Enabled)return $(".xut-cover").remove(),void cl({pageIndex:Xut.IBooks.CONFIG.pageIndex});if(t.parameter){var e=m(t.parameter);if(void 0===jr.launch.gestureGlide&&void 0!==e.pageflip)switch(Number(e.pageflip)){case 0:jr.launch.gestureGlide=!0;break;case 1:jr.launch.pageFlip=!0,jr.launch.gestureGlide=!1}}void 0===jr.launch.gestureGlide&&(jr.launch.gestureGlide=!0);var i=Number(pl("pageIndex"));if(jr.launch.historyMode&&void 0!==i){var n=parseInt(pl("novelId"));if(n)return cl({novelId:n,pageIndex:i,history:L("history")})}cl({novelId:t._id,pageIndex:0})},gl=function(){return ke(fl)},vl=function(){Xut.plat.isAndroid&&!Xut.plat.isBrowser&&(window.MMXCONFIG&&!window.DUKUCONFIG&&Ee(),window.SUbCONFIGT||Xut.Application.Watch("initComplete",function(){Ne()})),window.DUKUCONFIG&&PMS.bind("MagazineExit",function(){PMS.unbind(),Xut.Application.DropApp()},"*"),gl()},ml="hot",yl="content",_l="season",bl="column",xl=function(t,e){return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(e)},wl=function(){function t(e,i,n){Pr(this,t);var o=void 0,r=void 0,a={};this.getAudioTime=n,this.options=e,this.parents=i.parents,this.ancestors=i.ancestors,this.timer=0,this.cacheCreateDivs={},r=this.orgAncestorVisibility={},_.each(this.ancestors,function(t,e){(o=xl(t,"visibility"))&&(r[e]=o)}),this.recordRepart={},this.changeValue=0,_.each(e.subtitles,function(t){a[t.start+"-start"]=t,a[t.end+"-end"]=t}),this._createSubtitle(a)}return Er(t,[{key:"_createSubtitle",value:function(t){var e=this;this.timer=setTimeout(function(){e.getAudioTime(function(i){var n=void 0;_.each(t,function(t,o){n=o.split("-"),e._action(n[0],i,n[1],t)}),e._createSubtitle(t)})},50)}},{key:"_action",value:function(t,e,i,n){if(e>t-50&&e<t+50)if(this.recordRepart[n.start]||"start"!==i){if(!this.recordRepart[n.end]&&"end"===i){this.recordRepart[n.end]=!0;var o=this.ancestors[n.id];o&&(o.style.visibility="hidden")}}else this.recordRepart[n.start]=!0,this._createDom(n)}},{key:"_createDom",value:function(t){function e(t,e){var i=et({width:e.width,height:e.height,left:e.left,top:e.top}),n="position:absolute;\n                 display:table;\n                 vertical-align:center;\n                 width:"+i.width+"px;\n                 height:"+i.height+"px;\n                 top:"+i.top+"px;\n                 left:"+i.left+"px;";t.style.cssText=String.styleFormat(n)}function i(t,e){var i="text-align:center;\n                 display:table-cell;\n                 vertical-align :middle;\n                 color:"+e.fontColor+";\n                 font-family:"+e.fontName+";\n                 font-bold:"+e.fontBold+";\n                 font-size:"+e.fontSize*r+"px;\n                 line-height:"+h+"%";t.style.cssText=String.styleFormat(i),t.innerHTML=e.title}function n(t,n,o){e(t,o),i(n,o)}var o=jr.proportion,r=o.width,a=(o.height,t.id),s=this.parents[a],l=this.ancestors[a],c=this.cacheCreateDivs[a],u=c&&c.children[0],h=t.lineHeight?t.lineHeight:"100%";if(c)n(c,u,t);else{var d=document.createElement("div"),p=document.createElement("p");n(d,p,t),d.appendChild(p),s.appendChild(d),this.cacheCreateDivs[a]=d}l&&"visible"!=xl(l,"visibility")&&(l.style.visibility="visible")}},{key:"destroy",value:function(){var t=this;_.each(this.cacheCreateDivs,function(t){t.parentNode.removeChild(t)}),_.each(this.ancestors,function(e,i){var n=t.orgAncestorVisibility[i];xl(e,"visibility")!=n&&(e.style.visibility=n)}),this.ancestors=null,this.cacheCreateDivs=null,this.changeValue=0,this.parents=null,this.timer&&(clearTimeout(this.timer),this.timer=0)}}]),t}(),kl=function(){function t(e,i){Pr(this,t),this.options=e,this.trackId=e.trackId,this.controlDoms=i,this._$$preRelated(e),this._init(),this._$$afterRelated(e)}return Er(t,[{key:"_$$preRelated",value:function(t){this.$$url=jr.getAudioPath()+t.url,this.innerCallback=t.innerCallback,9999==this.trackId&&t.complete&&(this.outerCallback=t.complete)}},{key:"_$$afterRelated",value:function(t){var e=this;t.data&&t.data.repeat&&(this.repeatNumber=Number(t.data.repeat)),t.action&&(this.acitonObj=Xe(t)),t.subtitles&&t.subtitles.length>0&&(this.subtitleObject=new wl(t,this.controlDoms,function(t){return e._getAudioTime(t)})),this.outerCallback&&this.outerCallback.call(this)}},{key:"_$$callbackProcess",value:function(t){if(this.outerCallback)this.destroy();else{if(!t)return void(this.innerCallback&&this.innerCallback(this));this.repeatNumber?(--this.repeatNumber,this.play()):this.innerCallback&&this.innerCallback(this)}}},{key:"$$getWeixinJSBridge",value:function(){return window.WeixinJSBridge||window.parent.WeixinJSBridge}},{key:"getTrackId",value:function(){return this.trackId}},{key:"play",value:function(){var t=this;if(this._play&&this._play(),this.status="playing",this.audio){var e=this.$$getWeixinJSBridge();e?e.invoke("getNetworkType",{},function(e){t.audio&&t.audio.play()}):this.audio.play()}this.acitonObj&&this.acitonObj.play()}},{key:"pause",value:function(){this._pause&&this._pause(),this.status="paused",this.audio&&this.audio.pause&&this.audio.pause(),this.acitonObj&&this.acitonObj.pause()}},{key:"reset",value:function(){this._reset&&this._reset(),this.status="reseted"}},{key:"destroy",value:function(){this._destroy&&this._destroy(),this.status="ended",this.subtitleObject&&(this.subtitleObject.destroy(),this.subtitleObject=null),this.acitonObj&&(this.acitonObj.destroy(),this.acitonObj=null)}}]),t}(),Tl=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,kl),Er(e,[{key:"_init",value:function(){var t=this,e=new window.GLOBALCONTEXT.Media(t.$$url,function(){t._$$callbackProcess(!0)},function(){t._$$callbackProcess(!1)});this.audio=e,this.play()}},{key:"_reset",value:function(){this.audio.pause(),this.audio.seekTo(0)}},{key:"_getAudioTime",value:function(t){var e=this;this.audio.getCurrentPosition(function(i){var n=void 0;i*=1e3,e.changeValue||(e.changeValue=i),(i-=e.changeValue)>-1&&(n=Math.round(i)),t(n)},function(e){console.log("error:"+e),t()})}},{key:"_destroy",value:function(){this.audio&&(this.audio.release(),this.audio=null)}}]),e}(),Sl=function(t){for(var e="",i=void 0,n=0;n<t;n++)1==(i=parseInt(256*Math.random(),10).toString(16)).length&&(i="0"+i),e+=i;return e},Cl=function(){return[4,2,2,2,6].map(Sl).join("-")},Il=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,kl),Er(e,[{key:"_init",value:function(){var t=this;this.id=Cl();var e={startPlayingAudio:function(){window.audioHandler.startPlayingAudio(t.id,t.$$url)},pausePlayingAudio:function(){window.audioHandler.pausePlayingAudio(t.id)},release:function(){window.audioHandler.release(t.id)},expansionCurrentPosition:function(){return window.getCurrentPosition(t.id)}};this.audio=e,this.play()}},{key:"_getAudioTime",value:function(t){t(Math.round(1e3*this.audio.expansionCurrentPosition()))}},{key:"_play",value:function(){this.audio&&this.audio.startPlayingAudio()}},{key:"_pause",value:function(){this.audio&&this.audio.pausePlayingAudio()}},{key:"_destroy",value:function(){this.audio&&(this.audio.release(),this.audio=null)}}]),e}(),Pl=0,El=10,Ml=[],Al=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,kl),Er(e,[{key:"_createContext",value:function(t){var e=this;this.audio=Le(),Xut.plat.isIOS&&this.options.isTrigger&&this.audio.play(),setTimeout(function(){e.audio&&(e.audio.src=e.$$url,e._initPlay(void 0==t||t))},150)}},{key:"_init",value:function(){this.trackId;Be()?this._createContext():(this.audio=new Audio(this.$$url),this.$$getWeixinJSBridge()?this._startPlay():(this._needFix=!0,this._initPlay(!0)))}},{key:"_clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"_initPlay",value:function(t){var e=this;this._endBack=function(){e._clearTimer(),e._$$callbackProcess(!0)},this._errorBack=function(){e._clearTimer(),e._$$callbackProcess(!1)},this._startBack=function(){t&&(e.status="ready",e.timer=setTimeout(function(){e._clearTimer(),"ready"===e.status&&e._startPlay()},150))},this.audio.addEventListener("loadedmetadata",this._startBack,!1),this.audio.addEventListener("ended",this._endBack,!1),this.audio.addEventListener("error",this._errorBack,!1)}},{key:"_startPlay",value:function(){this.audio.autoplay="autoplay",this.play()}},{key:"_getAudioTime",value:function(t){t(Math.round(1e3*this.audio.currentTime))}},{key:"_reset",value:function(){this.audio.pause(),this.audio.currentTime=0}},{key:"_destroy",value:function(){this.audio&&(this.audio.pause(),window.WeixinJSBridge||(this.audio.removeEventListener("loadedmetadata",this._startBack,!1),this.audio.removeEventListener("ended",this._endBack,!1),this.audio.removeEventListener("error",this._errorBack,!1)),this.audio=null)}},{key:"resetContext",value:function(){this._needFix&&"ended"!==this.status&&(this._destroy(),this._createContext("playing"===this.status))}}]),e}(),Ol=void 0;Ol=Xut.plat.isAndroid&&!Xut.plat.isBrowser?Tl:window.MMXCONFIG&&window.audioHandler?Il:Al;var Nl=void 0,Dl=function(){Nl=g()},Rl=function(t,e,i){var n,o,r=g(),a=g(),s=e-1;return t&&(n=Xut.Contents.contentsFragment[e],e>9e3&&(s=Xut.Presentation.GetPageIndex()),_.each(t,function(t){if(!r[t.id]){o=n["Content_"+s+"_"+t.id],a[t.id]=o;var e=$(o);if(e.length){var i=e.find("div").last();i.length&&(r[t.id]=i[0])}}})),{parents:r,ancestors:a}},Xl=function(t,e,i,n,o,r){var a={};if(r&&r.isColumn)_.extend(a,{trackId:r.track,url:r.fileName,audioId:i,data:t}),(r.startImage||r.stopImage)&&_.extend(a,{startImage:r.startImage,stopImage:r.stopImage,action:!0});else{var s=t.theTitle?m(t.theTitle):null;_.extend(a,{trackId:t.track,url:t.md5,subtitles:s,audioId:i,data:t}),o&&_.extend(a,o,{action:!0})}return a},$l=function(t,e,i,n,o){if(o.isColumn)return Xl({},0,e,0,null,o);var r=Ue(i,e);return r&&r.md5?Xl(r,0,e,0,n):void 0},Bl=function(t,e,i,n){var o=Nl[t][e][i],r=o.getTrackId(),a=n.trackId;return 0!=a&&0!=r&&a!=r||n.stetObj&&n.stetObj===o||(o.destroy(),delete Nl[t][e][i]),!1},Ll=function(t){var e=void 0,i=void 0,n=void 0;for(e in Nl)for(i in Nl[e])for(n in Nl[e][i])Bl(e,i,n,t)},Fl=function(t,e){Nl[e]||(Nl[e]=g()),Nl[e][t]||(Nl[e][t]=g())},Hl=function(t,e,i,n){Ll(n),Fl(t,i);var o=void 0;n.subtitles&&(o=Rl(n.subtitles,t)),n.innerCallback=function(n){Nl[i]&&Nl[i][t]&&Nl[i][t][e]&&(n.destroy(),delete Nl[i][t][e])},Nl[i][t][e]=new Ol(n,o)},zl=function(t,e,i,n){var o=void 0,r=void 0;switch(Nl[i]&&Nl[i][t]&&Nl[i][t][e]&&(r=(o=Nl[i][t][e]).audio?o.status:null),r){case"playing":o.pause();break;case"paused":o.play();break;default:Hl(t,e,i,n)}},Wl=function(t){var e=t.pageId,i=t.queryId,n=t.type,o=t.action,r=t.data,a=t.columnData,s=void 0===a?{}:a;s.isColumn||(e=Number(e),i=Number(i));var l=$l(0,i,n,r,s);"hot"===n&&"trigger"==o?(l.isTrigger=!0,zl(e,i,n,l)):Hl(e,i,n,l)},jl=function(t,e,i){var n=Fe();if(n[yl]){var o=n[yl][t];if(o){var r=o[e];r&&i(r,n)}}},Gl=function(){function t(e){Pr(this,t);var i=e.width,n=e.height,o=e.top,r=e.left,a=e.zIndex,s=e.url;this.options=e,this.$container=Ce(e),this._initWrap(i,n,o,r,a,Se(s)),this._initEvent(e),(Xut.plat.isIOS||Xut.plat.isAndroid)&&this.play(),Xut.Application.PlayHTML5Video=!0}return Er(t,[{key:"_initWrap",value:function(t,e,i,n,o,r){this.$videoWrap=Te("video-h5",{width:t,height:e,top:i,left:n,zIndex:o}),this.video=document.createElement("video"),this.$videoNode=$(this.video).css({width:t,height:e,display:"block"}).attr({src:r,controls:"controls",autoplay:"autoplay",playsinline:"playsinline"}),this.$videoWrap.append(this.$videoNode),this.$container.append(this.$videoWrap)}},{key:"_initEvent",value:function(t){var e=this;this._start=function(){e.play(),e.$videoWrap.css("visibility","visible")},this._clear=function(){t.startBoot&&t.startBoot(),ii(t.chapterId)},this.video.addEventListener("canplay",this._start,!1),this.video.addEventListener("ended",this._clear,!1),this.video.addEventListener("error",this._clear,!1)}},{key:"play",value:function(){this.$videoWrap.show(),this.video.play()}},{key:"stop",value:function(){this.video.pause(),window.MMXCONFIG||(this.$videoWrap.hide(),this.options.startBoot&&(this.options.startBoot(),this.destroy()))}},{key:"destroy",value:function(){this.stop(),this.video.removeEventListener("canplay",this._start,!1),this.video.removeEventListener("ended",this._clear,!1),this.video.removeEventListener("error",this._clear,!1),this.$videoWrap.remove(),this.$videoNode=null,this.$videoWrap=null,this.$container=null,this.options.container=null,this.video=null,setTimeout(function(){Xut.Application.PlayHTML5Video=!1},1e3)}}]),t}(),Yl=window.devicePixelRatio,Vl=window.screen,Ul=function(){function t(e){Pr(this,t);var i=window.MMXCONFIG||window.DUKUCONFIG?e.url:e.url.substring(0,e.url.lastIndexOf("."));this.url=Se(i),window.DUKUCONFIG?(this.width=Vl.width,this.height=Vl.height,this.top=0,this.left=0):(this.width=e.width*Yl,this.height=e.height*Yl,this.left=e.left*Yl||0,this.top=e.top*Yl||0),this.play()}return Er(t,[{key:"play",value:function(){Xut.Plugin.VideoPlayer.play(function(){console.log("success")},function(){console.log("fail")},this.url,1,this.left,this.top,this.height,this.width)}},{key:"stop",value:function(){Xut.Plugin.VideoPlayer.close()}},{key:"destroy",value:function(){this.stop()}}]),t}(),ql=function(){function t(e){Pr(this,t);var i=e.pageUrl;if(this.container=Ce(e),2==e.hyperlink)window.open(i),$.get("http://www.appcarrier.cn/index.php/adplugin/recordads?aid=16&esbId=ios");else{var n,o,r=e.padding||0,a=e.width,s=e.height,l=e.videoId,c=e.left,u=e.top;r?(n=a-2*r,o=s-2*r):(n=a,o=s),this.$videoNode=$('<div id="videoWrap_'+l+'" style="position:absolute;left:'+c+"px;top:"+u+"px;width:"+a+"px;height:"+s+"px;z-index:"+Xut.zIndexlevel()+'"><div style="position:absolute;left:'+r+"px;top:"+r+"px;width:"+n+"px;height:"+o+'px;"><iframe src="'+i+'" style="position:absolute;left:0;top:0;width:100%;height:100%;"></iframe></div></div>'),this.container.append(this.$videoNode),this.play()}}return Er(t,[{key:"play",value:function(){this.$videoNode&&this.$videoNode.show()}},{key:"stop",value:function(){this.$videoNode&&this.$videoNode.hide()}},{key:"destroy",value:function(){this.$videoNode&&(this.$videoNode.remove(),this.$videoNode=null),this.container=null}}]),t}(),Kl=void 0;Xut.plat.isBrowser?Kl=Xut.plat.isIOS||Xut.plat.isAndroid?ul:Gl:Xut.plat.isIOS||top.EduStoreClient?Kl=(Xut.IBooks.Enabled,ul):Xut.plat.isAndroid&&(Kl=window.MMXCONFIG?ul:Ul);var Ql=function(){function t(e){switch(Pr(this,t),e.category){case"video":this.video=new Kl(e,ii);break;case"webpage":this.video=new ql(e,ii);break;default:console.log("options.category must be video or webPage ")}Xut.View.Toolbar("hide")}return Er(t,[{key:"play",value:function(){Xut.View.Toolbar("hide"),this.video.play()}},{key:"stop",value:function(){Xut.View.Toolbar("show"),this.video.stop()}},{key:"destroy",value:function(){this.video.destroy()}}]),t}(),Zl=void 0,Jl=function(){Zl=g()},tc=function(t,e,i){var n={},o=e.chapterId,r=e.activityId,a=e.pageIndex,s=e.pageType;if(i)_.extend(n,{width:"100%",height:"100%",top:0,left:0,zIndex:1,chapterId:o,container:i.container,url:i.fileName,isColumn:i.isColumn,position:i.position,category:"video"});else{var l=Xut.Presentation.GetPageStyle(a),c=et({getStyle:l,proportion:l.pageProportion,width:t.width||jr.visualSize.width,height:t.height||jr.visualSize.height,left:t.left,top:t.top,padding:t.padding});_.extend(n,c,{pageType:s,chapterId:o,isfloat:t.isfloat,videoId:r,url:t.md5,pageUrl:t.url,zIndex:t.zIndex||2147483647,background:t.background,category:t.category,hyperlink:t.hyperlink})}return n},ec=function(t){if(t.columnData&&t.columnData.isColumn)return tc({},t,t.columnData);var e=Xut.data.query("Video",t.activityId);return tc(e,t)},ic=function(t,e){var i=t.chapterId,n=t.activityId,o=t.rootNode;Zl[i]&&Zl[i][n]?Zl[i][n].play():(_.isObject(Zl[i])||(Zl[i]={}),o&&(e.container=o),Zl[i][n]=new Ql(e))},nc=function(t){var e=ec(t);ic(t,e)},oc=function(){return Ts()?"":'<div class="xut-busy-icon xut-fullscreen"></div>'},rc=function(t){var e="";if("mini"===jr.launch.platform);else{var i="./content/gallery/cover.jpg";jr.launch.resource&&(i=jr.launch.resource+"/gallery/cover.jpg"),e='style="background-image: url('+i+');"'}return oc()+'\n            <div class="xut-adaptive-image"></div>\n            <div class="xut-cover xut-fullscreen" '+e+'></div>\n            <div class="xut-scene-container xut-fullscreen xut-overflow-hidden"></div>'},ac=void 0,sc=void 0,lc={},cc=!1;window.fixNodeError=function(t,e,i,n){"image"===t&&ci(e,i,n)},Xut.plat.hasAutoPlayAudio||C(document,{end:function(){var t=void 0,e=void 0;for(e=0;e<El;e++)(t=new Audio).play(),Ml.push(t);Ye(),I(document)}});var uc=!1,hc=function(){function t(){Pr(this,t),this._group={},this.$$GetPageId=this.$$getPageId,this.$$GetPageNode=this.$$getPageNode,this.$$GetPageData=this.$$getPageData,this.$$GetPageBase=this.$$getPageBase}return Er(t,[{key:"_$$addBaseGroup",value:function(t,e){this._group[t]=e}},{key:"_$$getBaseGroup",value:function(){return this._group}},{key:"_$$removeBaseGroup",value:function(t){delete this._group[t]}},{key:"_$$destroyBaseGroup",value:function(){var t=void 0,e=this._group;for(t in e)e[t].baseDestroy();this._group=null}},{key:"assistPocess",value:function(t,e){var i;if(i=this.$$getPageBase(t,this.pageType)){if(!e)return i;e(i)}}},{key:"assistAppoint",value:function(t,e,i,n){var o;if(o=this.$$getPageBase(e))return o.baseAssistRun(t,i,n)}},{key:"$$getPageId",value:function(t,e){var i="page"===e?"_id":"pptMaster";return this.$$getPageData(t,i,e)}},{key:"$$getPageNode",value:function(t,e){return this.$$getPageData(t,"nodes",e)}},{key:"$$getPageBase",value:function(t,e){return"master"===(e=e||this.pageType)&&(/-/.test(t)||(t=this.converMasterId(t))),this._group&&this._group[t]}},{key:"$$getPageData",value:function(t,e,i){var n;if((!i&&"page"==e||"master"==e)&&(i=e,e=null),n=this.$$getPageBase(t,i))return e?n.chapterData[e]:n.chapterData}}]),t}(),dc=function(){function t(e,i,n,o,r,a,s){Pr(this,t),this.dragElement=e,this.defaultPoint=null,this.dropElement=i,this.autoReturn=n>=1,this.dragCallback="function"==typeof o?o:null,this.dropCallback="function"==typeof r?r:null,this.throwProps=0!=s&&!this.autoReturn,this.container=a,this.dragElement.attr("data-defaultindex",this.dragElement.css("z-index")),null==this.dragElement.attr("data-DragDrop")?(this.init(),this.dragElement.attr("data-DragDrop",!0)):console.log("This element has binding DragDropClass.")}return Er(t,[{key:"init",value:function(){if(null==this.dragObject)var t=this,e=this.dragObject=Draggable.create(this.dragElement,{bounds:this.container,dragResistance:0,edgeResistance:.8,type:"left,top",force3D:!1,throwProps:this.throwProps,snap:{left:function(t){return t},top:function(t){return t}},onDragStart:function(e){var i=t.dragElement.offset();t.defaultPoint={x:i.left,y:i.top,left:Number(t.dragElement.css("left").replace("px","")),top:Number(t.dragElement.css("top").replace("px",""))},t.dragCallback&&t.dragCallback()},onDragEnd:function(i){var n=t.dropElement,o=!1;if(n&&"hidden"!=n[0].style.visibility){var r=t.dragElement.offset(),a={x:r.left,y:r.top,w:t.dragElement.width(),h:t.dragElement.height()},s=n.offset(),l={x:s.left,y:s.top,w:n.width(),h:n.height()},c={pointerX:l.x+l.w/2,pointerY:l.y+l.h/2};if(e.pointerX>l.x&&e.pointerX<l.x+l.w&&e.pointerY>l.y&&e.pointerY<l.y+l.h?(o=!0,e.disable()):c.pointerX>a.x&&c.pointerX<a.x+a.w&&c.pointerY>a.y&&c.pointerY<a.y+a.h&&(o=!0,e.disable()),1==o){var u=c.pointerX-(t.defaultPoint.x+a.w/2),h=c.pointerY-(t.defaultPoint.y+a.h/2),d=t.defaultPoint.left+u,p=t.defaultPoint.top+h;TweenLite.to(t.dragElement,.3,{css:{left:d,top:p},ease:Expo.easeOut})}else t.autoReturn&&TweenLite.to(t.dragElement,.7,{css:{left:t.defaultPoint.left,top:t.defaultPoint.top}})}else t.autoReturn&&TweenLite.to(t.dragElement,.7,{css:{left:t.defaultPoint.left,top:t.defaultPoint.top}});t.dragElement.css("z-index",t.dragElement.attr("data-defaultindex")),t.dropCallback&&t.dropCallback(o)}})[0]}},{key:"reset",value:function(){var t,e=this;(t=this.dragObject)&&(t.enable(),e.defaultPoint&&(e.dragElement.css("left",e.defaultPoint.left),e.dragElement.css("top",e.defaultPoint.top)))}},{key:"disable",value:function(){var t;(t=this.dragObject)&&t.disable()}},{key:"destroy",value:function(){this.dragObject&&this.dragObject.kill(),this.dropElement=null,this.dragElement=null,this.dragObject=null}}]),t}(),pc=10===document.documentMode,fc=["null","auto","tap","drag","dragTag","swipeleft","swiperight","swipeup","swipedown","doubletap","press","pinchout","pinchin","rotate","assist"],gc=["drag","dragTag","swipeleft","swiperight","swipeup","swipedown"],vc=function(t){return-1===gc.indexOf(t)},mc=function(t,e){t?e.attr("data-behavior","swipe"):e.attr("data-behavior","disable")},yc=function(t,e){e&&(e.prop("setCursor")||("drag"===t?e.css("cursor","Move"):e.css("cursor","Pointer"),e.prop("setCursor","true")))},_c=function(t,e){var i=void 0,n=void 0,o=void 0,r=e.eventContext,a=e.eventName,s=e.supportSwipe;return"drag"===a?i=new dc(r,null,e.parameter,t.startRun,t.stopRun):"dragTag"===a?i=new dc(r,e.target,1,t.startRun,t.stopRun):(n=function(){e.eventRun.call(r)},o="tap"===a||"click"===a?mi(a,r,n,s):bi(r,a,n,s)),{dragObj:i,reference:o,handler:n}},bc=function(t,e){var i;(i=this.activityGroup)&&_.each(i.get(),function(i,n){t!=i.activityId||e(i)},this)},xc=function(t){var e,i=this.registers;return function(){var n=i[0];bc.call(t,n,function(t){t.runAnimation(function(){e=i.shift(),i.push(e)})})}},wc=function(t,e){var i,n;_.each(e,function(o){_.each(o,function(e){(i=t.baseGetContentObject(e.eventContentId))&&(n=wi(e.eventType),e.runAnimation=xc.call(e,t),e.destroy=function(){Ti(e,n),e.registers=null,e.runAnimation=null},ki({eventRun:function(){e.runAnimation()},eventHandler:function(t,i){e.eventReference=t,e.eventHandler=i},eventContext:i.$contentNode,eventName:n,parameter:e.dragdropPara,target:null,domMode:!0}))}),t.divertorHooks.registerEvent=e})};Ii.prototype={add:function(t){this._group?this._group.push(t):this._group=[t]},get:function(){return this._group},isExist:function(){return this._group.length},specified:function(t){for(var e=void 0,i=this._group.length;i;)if(i--,(e=this._group[i])&&e.type===t.type&&e.id===t.id)return e},remove:function(){this._group=[]},reset:function(){this.remove()}};var kc=function(t){return Xut.data.chapterSection["seasonId->"+t]},Tc=function(t){var e=t.length,i=void 0,n=void 0,o=Xut.data.Chapter;if(e){for(var r=[];e--;)n=t[e],(i=o.item(n))&&r.unshift(i);return r}return o.item(t)},Sc=function(t,e){var i=t.pptMaster,n=Xut.data.query("Master",i);Pc(n,function(t,i){e(n,t,i)})},Cc=function(t){if(t&&t.length){var e=void 0,i=[];return t.forEach(function(t,n){t.autoPlay&&"Content"!==t.actType&&(e={id:t._id,actType:t.actType,category:t.category,autoPlay:t.autoPlay},i.push(e))}),i.length&&i}},Ic=function(t,e){t.note&&e.push(t)},Pc=function(t,e){t||e();var i=[],n=t._id;Xut.data.query("Activity",n,"chapterId",function(t){i.push(t)}),Ic(t,i);var o=Cc(i);e(i,o)},Ec=function(t,e){Pc(t,function(i,n){e(t,i,n)})},Mc=function(t,e){var i=t.pageIndex,n=t.pageData;n?Ec(n,e):Tc(i,function(t){Ec(t.length?t[0]:t,e)})},Ac=function(t){var e=t.base,i=t.prefix,n=t.translate,o=t.customStyle,r=(t.pageData,t.background),a=e.getStyle,s=n?Xut.style.transform+":"+n:"";return String.styleFormat('<li id="'+i+'"\n         data-type="'+e.pageType+'"\n         data-chapter-index="'+e.chapterIndex+'"\n         data-container="true"\n         class="xut-flip preserve-3d"\n         style="width:'+a.visualWidth+"px;\n                height:"+a.visualHeight+"px;\n                left:"+a.visualLeft+"px;\n                top:"+a.visualTop+"px;\n                "+s+";\n                "+r+"\n                "+o+'">\n        <div class="page-scale">\n            <div data-type="main-content"></div>\n            <div data-type="header-footer"></div>\n        </div>\n    </li>')},Oc=function(t,e,i,n){var o="";/.svg$/i.test(e.md5)||(o="background-image:url("+q(e.md5,"container-bg")+");");var r="",a=i.userStyle;return void 0!==a&&_.each(a,function(t,e){r+=e+":"+t+";"}),$(Ac({base:t,prefix:n,translate:i.translate,customStyle:r,pageData:e,background:o}))},Nc=function(t,e,i){var n=void 0,o=Xut.View.GetPageNodeIdName(t.pageType,t.pageIndex,t.chapterId),r=t.getStyle;if(Xut.IBooks.runMode())return n=$("#"+o),void i(n,void 0);n=Oc(t,e,r,o),Xut.nextTick({container:t.rootNode,content:n,position:"left"===r.position||"top"===r.position?"first":"last"},function(){i(n,void 0)})},Dc=function(){function t(e){Pr(this,t),this.$$detector=e,this.$$suspendQueues=[],this._$$initFloat()}return Er(t,[{key:"_$$initFloat",value:function(){var t=this;this.$$floatDivertor={},_.each(["page","master"],function(e){t.$$floatDivertor[e]={ids:[],html:[],zIndex:{},container:null}})}},{key:"_$$createFloatLayer",value:function(t,e,i){var n=this,o=this.$$floatDivertor.page,r=this.$$floatDivertor.master,a=function(t){t.html.length&&(t.html=null)};(o.ids.length||o.html.length)&&Ai("page",e,o,i,function(e){o.container=e,n.pageBaseHooks.floatPages(o),a(o),t()}),(r.ids.length||r.html.length)&&Ai("master",e,r,i,function(e){r.container=e,n.pageBaseHooks.floatMasters(r),a(r),t()})}},{key:"_$$checkNextTask",value:function(t,e,i){var n=this;this.$$detector&&this.$$detector({suspendTask:function(){n.$$suspendQueues.push(function(){e()})},nextTask:e,interrupt:i,taskName:t})}},{key:"rerunTask",value:function(){if(this.$$suspendQueues&&this.$$suspendQueues.length){var t=void 0;(t=this.$$suspendQueues.pop())&&t(),this.$$suspendQueues=[]}}},{key:"destroy",value:function(){this._destroy&&this._destroy(),this.$$detector=null,this.$$suspendQueues=null}}]),t}(),Rc=Xut.style.maskBoxImage,Xc=function(t){var e=jr.proportion;t.imageWidth&&(t.imageWidth=t.imageWidth*e.width),t.imageHeight&&(t.imageHeight=t.imageHeight*e.height),t.imageLeft&&(t.imageLeft=t.imageLeft*e.left),t.imageTop&&(t.imageTop=t.imageTop*e.top)},$c=function(t){var e=void 0;switch(Number(t)){case 1:e="background-position:0";break;case 2:e="background-position:"+jr.screenSize.width+"px"}return e},Bc=function(t,e){/.svg$/i.test(t)?at(t,function(t){e(t)}):e("")},Lc=function(t){function e(t,i,n,o){Pr(this,e);var r=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o)),a=r,s=t.md5;return r.success=n,Xut.IBooks.runMode()?(n(),Or(r)):(Bc(s,function(e){var o=Oi(e=tt(e),t);o?(e=null,a._checkNextTask($(o),i)):n()}),r)}return Ar(e,Dc),Er(e,[{key:"_checkNextTask",value:function(t,e){var i=this;this._$$checkNextTask("内部background",function(){i._render(t,e)})}},{key:"_render",value:function(t,e){var i=this;Xut.nextTick({content:t,container:e},function(){i.destroy(),i.success()})}}]),e}(),Fc=function(){function t(e){Pr(this,t),this.contentId=e,this.queueLength=0,this.queueIndex=0,this.fxQueue=[]}return Er(t,[{key:"_makeFn",value:function(t,e){var i=new TextFx(t);return function(t){i.show("fx"+e,t)}}},{key:"addQueue",value:function(t,e){this.queueLength++,this.fxQueue.push("fx"+e,new TextFx(t))}},{key:"_animate",value:function(t){var e=this,i=this.fxQueue[this.queueIndex],n=this.fxQueue[++this.queueIndex];i&&n&&n[t](i,function(){++e.queueIndex,e._animate(t)})}},{key:"play",value:function(){this.queueIndex=0,this._animate("show")}},{key:"stop",value:function(){}},{key:"destroy",value:function(){}}]),t}(),Hc=document.documentElement,zc=void 0;try{zc=parseInt(getComputedStyle(Hc).fontSize)}catch(t){zc=16}var Wc,jc=void 0,Gc={"rgb(255, 255, 255)":!0,"#ffffff":!0,"#FFFFFF":!0,"#fff":!0,"#FFF":!0},Yc=["1","1.5","2.0"],Vc=function(){return jc=zc*jr.proportion.width,[Math.floor(1.5*jc),Math.floor(2*jc),Math.floor(2.5*jc)]},Uc=function(){function t(e,i){Pr(this,t),this.contentId=e,this.$contentNode=i;var n=this;ki({eventRun:function(){Xut.View.HideToolBar("pageNumber"),n._init(e,i)},eventHandler:function(t,e){n.eventReference=t,n.eventHandler=e},eventContext:i,eventName:"tap",domMode:!0})}return Er(t,[{key:"_init",value:function(t,e){var i=this;i._adjustColor();var n=e.find(">").html();n=n.replace(/translate\(0px, -\d+px\)/g,"translate(0px,0px)");var o="htmlbox-iscroll-"+t;this.storageName=o+jr.data.appId;var r=Vc(),a=r[2]+2,s=Math.floor(a/2),l=L(this.storageName);l?this._adjustSize(l):this._adjustSize(jc),this.$htmlbox=$($i(a,Xi(r),o,n)),e.after(this.$htmlbox),document.styleSheets[0].addRule(".htmlbox_close::before","top:"+s+"px"),document.styleSheets[0].insertRule(".htmlbox_close::before { top:"+s+"px }",0),document.styleSheets[0].addRule(".htmlbox_close::after","top:"+s+"px"),document.styleSheets[0].insertRule(".htmlbox_close::after { top:"+s+"px }",0),this._relocateToolbar(o),this._createIscroll(this.$htmlbox,o),this.eventContext=this.$htmlbox.find(".htmlbox-toolbar")[0];var c=function(t){i._adjustSize(t*jc,!0),i.iscroll&&i.iscroll.refresh()},u=function(){i._restoreColor(),i._adjustSize(zc),i.removeBox(),Xut.View.ShowToolBar("pageNumber")},h={htmlbox_close_container:u,htmlbox_close:u,htmlbox_small:function(){c(Yc[0])},htmlbox_middle:function(){c(Yc[1])},htmlbox_big:function(){c(Yc[2])}};C(this.eventContext,{start:function(t){var e=t.target.className;h[e]&&h[e]()}})}},{key:"_adjustColor",value:function(){this.textLabelArray=["p","span"];var t=this;_.each(t.textLabelArray,function(e){_.each(t.$contentNode.find(e),function(t){var e=getComputedStyle(t).color;Gc.hasOwnProperty(e)&&(t.hasFormerColor=!0,t.style.color="black")})})}},{key:"_adjustSize",value:function(t,e){t=parseInt(t),Hc.style.fontSize=t+"px",e&&B(this.storageName,t)}},{key:"_restoreColor",value:function(){var t=this;_.each(t.textLabelArray,function(e){_.each(t.$contentNode.find(e),function(t){t.hasFormerColor&&(t.style.color="white",t.hasFormerColor=!1)})})}},{key:"_relocateToolbar",value:function(t){var e=jr.visualSize,i=e.overflowWidth&&Math.abs(e.left)||0,n=e.overflowHeight&&Math.abs(e.top)||0;this.$htmlbox[0].style.cssText+="margin-top:"+n+"px",document.styleSheets[0].addRule(".htmlbox_close::before","left:2%"),document.styleSheets[0].insertRule(".htmlbox_close::before { left:2% }",0),document.styleSheets[0].addRule(".htmlbox_close::after","left:2%"),document.styleSheets[0].insertRule(".htmlbox_close::after { left:2% }",0);var o=window.getComputedStyle(this.$htmlbox.find(".htmlbox_close")[0],"::before").getPropertyValue("left"),r=parseInt(o)+i;document.styleSheets[0].addRule(".htmlbox_close::before","left:"+r+"px"),document.styleSheets[0].insertRule(".htmlbox_close::before { left:"+r+"px }",0),document.styleSheets[0].addRule(".htmlbox_close::after","left:"+r+"px"),document.styleSheets[0].insertRule(".htmlbox_close::after { left:"+r+"px }",0),this.$htmlbox.find(".htmlbox_fontsizeUl")[0].style.cssText+="margin-right:"+i+"px",this.$htmlbox.find("."+t)[0].style.cssText+="margin-left:"+i+"px;";var a=window.getComputedStyle(this.$htmlbox.find("."+t)[0]).getPropertyValue("width"),s=parseInt(a)-2*i;this.$htmlbox.find("."+t).width(s)}},{key:"_createIscroll",value:function(t,e){var i=t.find("."+e+" >ul").css("height"),n=t.find("."+e).css("height");parseInt(i)>parseInt(n)&&(this.iscroll=Ri("."+e,{scrollbars:"custom",fadeScrollbars:!0}))}},{key:"removeBox",value:function(){this.eventContext&&(I(this.eventContext),this.eventContext=null),this.$htmlbox&&this.$htmlbox.remove(),this.iscroll&&(this.iscroll.destroy(),this.iscroll=null)}},{key:"destroy",value:function(){_.each(this.eventReference,function(t){t("tap")}),this.removeBox()}}]),t}(),qc={hide:"images/icons/arrowDown.svg"},Kc=parseInt($("body").css("font-size"))||16;Bi.prototype.init=function(){var t=this.createBookMark(),e=this;this.parent.append(t),this.bookMarkMenu=t.eq(0),setTimeout(function(){e.restore()},20),Wc=this.getHistory(),C(this.parent,{end:this,cancel:this})},Bi.prototype.createBookMark=function(){var t=Xut.config.visualSize.height,e=3*Kc,i='<div class="xut-bookmark-menu" style="width:100%;height:{0}px;left:0;top:{1}px;"><div class="xut-bookmark-wrap"><div class="xut-bookmark-add">加入书签</div><div class="xut-bookmark-off" style="background-image:url({2})"></div><div class="xut-bookmark-view">书签记录</div></div></div><div class="xut-bookmark-list" style="display:none;width:100%;height:{3}px;"><ul class="xut-bookmark-head"><li class="xut-bookmark-back">返回</li><li>书签</li></ul><ul class="xut-bookmark-body"></ul></div>';return i=String.format(i,e,t,qc.hide,t),this.markHeight=e,$(i)},Bi.prototype.createMarkList=function(){var t,e,i,n="",o=this;return _.each(Wc,function(r){t=r.split("-"),e=t[0],i=t[1],r=o.getMarkId(e,i),n+='<li><a data-mark="'+r+'" class="xut-bookmark-id" href="javascript:0">第'+i+'页</a><a class="xut-bookmark-del" data-mark="'+r+'" href="javascript:0">X</a></li>'}),n},Bi.prototype.getMarkId=function(t,e){return t+"-"+e},Bi.prototype.getHistory=function(){var t=L("bookMark");return t?t.split(","):[]},Bi.prototype.addBookMark=function(){var t;this.updatePageInfo(),t=this.getMarkId(this.seasonId,this.pageId),Wc.indexOf(t)>-1||(Wc.push(t),B("bookMark",Wc))},Bi.prototype.updatePageInfo=function(){var t=Xut.Presentation.GetPageData();this.pageId=t._id,this.seasonId=t.seasonId},Bi.prototype.delBookMark=function(t){if(t&&t.dataset){var e=t.dataset.mark,i=Wc.indexOf(e);Wc.splice(i,1),B("bookMark",Wc),0==Wc.length&&F("bookMark"),$(t).parent().remove()}},Bi.prototype.viewBookMark=function(t){var e,i=this.createMarkList();(e=this.bookMarkList?this.bookMarkList:$(t).parent().parent().next()).find(".xut-bookmark-body").html(i),this.bookMarkList=e,e.fadeIn()},Bi.prototype.iconManager=function(t){var e=this.bookMarkIcon=$(t),i=this.iconRestore;e.css({transform:"scale(1.2)","transition-duration":"500ms"})[0].addEventListener(Xut.style.transitionEnd,i.bind(this),!1)},Bi.prototype.iconRestore=function(){this.bookMarkIcon.css("transform","")},Bi.prototype.goBookMark=function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),i=Number(e[0]),n=Number(e[1]);this.updatePageInfo(),this.backBookMark(),this.pageId==n&&this.seasonId==i||Xut.View.LoadScenario({seasonId:i,chapterId:n})}},Bi.prototype.backBookMark=function(){this.bookMarkList.fadeOut()},Bi.prototype.handleEvent=function(t){var e=t.target;switch(e.className){case"xut-bookmark-add":this.addBookMark(),this.iconManager(e);break;case"xut-bookmark-view":this.viewBookMark(e),this.iconManager(e);break;case"xut-bookmark-off":this.closeBookMark(e);break;case"xut-bookmark-back":this.backBookMark();break;case"xut-bookmark-del":this.delBookMark(e);break;case"xut-bookmark-id":this.goBookMark(e)}},Bi.prototype.closeBookMark=function(){Xut.style.setTranslate({node:this.bookMarkMenu,speed:1e3})},Bi.prototype.restore=function(){Xut.style.setTranslate({y:-this.markHeight,node:this.bookMarkMenu,speed:1e3})},Bi.prototype.destroy=function(){I(this.parent),this.bookMarkMenu&&(this.bookMarkMenu.remove(),this.bookMarkMenu=null),this.bookMarkList&&(this.bookMarkList.remove(),this.bookMarkList=null),this.bookMarkIcon&&(this.bookMarkIcon[0].removeEventListener(Xut.plat.transitionEnd,this.iconRestore,!1),this.bookMarkIcon=null),this.parent=null};var Qc={search:"images/icons/search.svg",clear:"images/icons/clear.svg",exit:"images/icons/exit.svg"};Li.prototype.init=function(){var t=this.searchForm(),e=this.parent[0];this.parent.append(t),this.searchBox=t,this.resultBox=t.find(".xut-search-result"),this.input=t.find(".xut-search-input"),this.searchBtn=t.find(".xut-search-btn"),C(e,{end:this,cancel:this}),e.addEventListener("keyup",this,!1)},Li.prototype.searchForm=function(){var t=.3*window.innerWidth,e=window.innerHeight,i=this.tips||"请在搜索框中输入要搜索的关键字",n='<div class="xut-form-search"><div class="xut-form-search-wrap"><div style="height:17%;"><div style="height:20%"></div><div class="xut-search-row"><input type="text" class="xut-search-input"><div class="xut-search-btn" style="background-image: url('+Qc.search+')"></div></div><p class="xut-search-tips" style="line-height:'+Math.round(.06*e)+'px">'+i+'</p></div><div style="height:76%"><ul class="xut-search-result"></ul></div><div style="height:7%"><div class="xut-search-exit" style="background-image: url('+Qc.exit+')"></div></div></div></div>',o=$(n);return o.css("width",t<200?200:t),o},Li.prototype.search=function(t){var e,i,n=Xut.data.Chapter,o=n.length,r="";if(t){for(var a=0;a<o;a++)(e=n.item(a)).chapterTitle.indexOf(t)>-1&&(i=e._id,r+='<li><a class="xut-search-link" data-mark="'+e.seasonId+"-"+i+'" href="javascript:0">'+e.chapterTitle+"</a></li>");this.resultBox.html(r)}else this.resultBox.html("")},Li.prototype.iconManager=function(t){this.isChange&&this.searchBtn.css("background-image","url("+t+")")},Li.prototype.searchLink=function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),i=e[0],n=e[1];Xut.View.LoadScenario({seasonId:i,chapterId:n})}},Li.prototype.handleEvent=function(t){var e=t.target;switch(e.className){case"xut-search-btn":this.search(this.input.val()),this.isChange=!0,this.iconManager(Qc.clear);break;case"xut-search-input":this.search(e.value),this.iconManager(Qc.search),this.isChange=!1;break;case"xut-search-exit":this.exit();break;case"xut-search-link":this.searchLink(e)}},Li.prototype.exit=function(){this.input.val(""),this.resultBox.empty(),this.searchBox.hide()},Li.prototype.restore=function(){var t=this.searchBox;t&&t.show()},Li.prototype.destroy=function(){var t=this.parent[0];I(t),t.removeEventListener("keyup",this,!1),this.searchBox.remove(),this.searchBox=null,this.resultBox=null,this.searchBtn=null,this.input=null,this.parent=null};var Zc=function(){function t(e,i){Pr(this,t),this.data=e,"seniorSprite"==i.type&&(this.contentPrefix=i.contentPrefix,this.obj=$("#"+this.contentPrefix+this.data.framId),this.resourcePath=i.resourcePath),"autoSprite"===i.type&&(this.contentId=i.contentId,this.obj=$(i.ele),this.resourcePath=q(i.resourcePath,"autoSprite")+"/"),this.curFPS=0,this.loop=1,this.resetCount=0;var n=this.data.params,o=n[this.action=n.actList.split(",")[0]];this.FPS=parseInt(o.fps),this.playerType=o.playerType,this.isSports=parseInt(o.isSports),this.originalImageList=o.ImageList;var r=jr.launch.brModeType;r&&_.each(this.originalImageList,function(t){t.name&&(t.name=t.name.replace(/.png|.jpg/,r))}),this.totalFPS=this.originalImageList.length,this._imgArray=[],this.sprObj=null,"loop"==this.playerType&&(this.loop="loop"),this._init()}return Er(t,[{key:"_init",value:function(){this._initImage(),this.isSports&&this._initPosition(),this._initStructure()}},{key:"_checkNextAction",value:function(t){this._initImageState?t():(this._waitTask=[],this._waitTask.push(t))}},{key:"_initPosition",value:function(){var t=this.obj,e=this.data.params,i=this.action;this.startPoint={x:this.originalImageList[0].X,y:this.originalImageList[0].Y,w:parseInt(e[i].width),h:parseInt(e[i].height)},this.xRote=parseInt(t.css("width"))/this.startPoint.w,this.yRote=parseInt(t.css("height"))/this.startPoint.h,this.startLeft=parseInt(t.css("left")),this.startTop=parseInt(t.css("top"))}},{key:"_initImage",value:function(){var t=this,e=0,i=this.qualified=this.totalFPS>=10?10:this.totalFPS,n=function(){1==i?(t._initImageState=!0,t._waitTask&&t._waitTask.length&&t._waitTask.pop()()):i--};for(e;e<this.qualified;e++)this._preloadImage(e,n)}},{key:"_initStructure",value:function(){var t='<img src="'+(this.resourcePath+this.originalImageList[0].name)+'" style="width:100%;height:100%;"/>',e=$(String.styleFormat(t));this.sprObj=e[0],this.obj.html(this.sprObj)}},{key:"_getFilename",value:function(t){return t.substr(0,t.indexOf("."))}},{key:"_preloadImage",value:function(t,e){if(!(t>=this.totalFPS)){var i=this,n=this.originalImageList;D(this.resourcePath+n[t].name,function(){i._imgArray&&i._imgArray.push(this),e&&e()})}}},{key:"_changePosition",value:function(){var t=this.originalImageList[this.curFPS],e=t.X-this.startPoint.x,i=t.Y-this.startPoint.y;this.obj.css({left:this.startLeft+e*this.xRote,top:this.startTop+i*this.yRote})}},{key:"_changeImage",value:function(){var t=this.originalImageList[this.curFPS],e=this.resourcePath;0===this.resetCount&&this._preloadImage(this.curFPS+this.qualified),this.isSports&&this._changePosition(),this.sprObj.setAttribute("src",e+t.name)}},{key:"_change",value:function(){this.originalImageList&&this._changeImage()}},{key:"_time",value:function(){var t=this;this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t._change(),t.curFPS++,t._set()},1e3/this.FPS)}},{key:"_set",value:function(){var t=this;this.curFPS>=this.totalFPS&&(this.curFPS=0,this.resetCount++),"loop"===this.loop||this.loop!=this.resetCount?this._checkNextAction(function(){t._time()}):this._stop()}},{key:"_stop",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.curFPS=0,this.resetCount=0}},{key:"play",value:function(t,e){this.action=t,this.data.params[t]?(e&&(this.loop=e),this._stop(),this._set()):console.log(" Function changeSwitchAni  parameters "+t+" error")}},{key:"stop",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop(),this.obj=null,this.sprObj=null,this.data.params=null,this.data=null,this._imgArray.forEach(function(t){null}),this.originalImageList=null,this._imgArray=null}}]),t}(),Jc={},tu=function(t,e){var i=void 0,n=jr.getWidgetPath()+"gallery/"+t.id+"/",o=new XMLHttpRequest;o.open("GET",n+"app.json",!1),o.send(null);try{i=m(o.responseText)}catch(t){console.log("app.json get error:"+t)}return i},eu=function(t,e,i){var n=$("#"+t+e),o=$("#"+t+i),r=$("#spirit_parent_"+i);0==r.length&&o.append("<div style='position:absolute; width:100%; height:100%'  id='spirit_parent_"+i+"'></div>"),r.append(n)},iu=function(t,e){return _.isObject(t)?e+t.framId:t},nu=function(t,e){var i=tu(t),n=jr.getWidgetPath()+"gallery/"+t.id+"/",o=t.contentPrefix,r=[],a={};if(a.contentPrefix=o,a.resourcePath=n,a.type="seniorSprite",i.spiritList)for(var s=0;s<i.spiritList.length;s++){var l=i.spiritList[s],c=iu(l,o),u=l.framId,h=l.parentId;_.isObject(t)?("0"!=h&&eu(o,u,h),Jc[c]=new Zc(l,a),r.push(c)):console.log("inputPara undefine Spirit")}else console.log("没有高级精灵动画数据");return{stop:function(){r.forEach(function(t){Jc[t].stop()})},destroy:function(){r.forEach(function(t){Jc[t]&&(Jc[t].destroy(),Jc[t]=null,delete Jc[t])})}}},ou=Xut.style.filter,ru=Math.ceil,au=Math.pow,su=/^#[0-9a-fA-F]{3,6}$/,lu=Xut.plat.hasTouch,cu=function(){function t(e,i,n,o,r,a){Pr(this,t),this.hasTouch=lu,this.parent=document.getElementById(i),this.scroller=document.getElementById(n),this.startCallback=o,this.moveCallback=r,this.endCallback=a,null!=this.scroller?(Xut.Contents.ResetDefaultControl&&Xut.Contents.ResetDefaultControl(e,i),this.scroller.bindMoveMent&&this.scroller.bindMoveMent.destroy(),C(this.scroller,{start:this}),this.scroller.bindMoveMent=this):console.error("The control area of the object is empty.")}return Er(t,[{key:"handleEvent",value:function(t){P({start:function(t){this._start(t)},move:function(t){this._move(t)},end:function(t){this._end(t)},cancel:function(t){this._end(t)}},this,t)}},{key:"_start",value:function(t){t.preventDefault(),"function"==typeof this.startCallback&&this.startCallback(t),C(this.scroller,{move:this,end:this,cancel:this})}},{key:"_move",value:function(t){"function"==typeof this.moveCallback&&this.moveCallback(t)}},{key:"_end",value:function(t){I(this.scroller),"function"==typeof this.endCallback&&this.endCallback(t)}},{key:"destroy",value:function(t,e,i){I(this.scroller),this.scroller=null}}]),t}(),uu=Xut.plat.hasTouch,hu=Xut.style.transformOrigin,du=Xut.style.filter,pu=Math.round,fu=Math.ceil,gu=Xut.plat.isMacOS,vu=Xut.plat.isDesktop,mu=function(){function t(e,i,n,o,r,a,s){Pr(this,t),_.isArray(r)&&r.length?(this.options=r,this.visualWidth=s.visualWidth,this.visualHeight=s.visualHeight,this.container=a||$(document.body),this.isDebug=!1,this.pageIndex=e,this.pageType=i,this.chapterId=n,this.element=o,this.elementStyle="",this.elementVisibility="visible",this.useMask=!(!vu&&!gu),this.parameter0=null,this.isExit0=!1,this.preCode="",this.postCode="",this.codeDelay=0,this.isCompleted=!1,this._initElement()):console.log("Animation options error is not Array.")}return Er(t,[{key:"_parseCode",value:function(t,e){return t&&t.length>0?b(t):e&&e.length>0?b(e):void 0}},{key:"_parseDelayCode",value:function(t,e){return t&&t.length>0?t:e&&e.length>0?e:void 0}},{key:"_initElement",value:function(){var t=this.options[0];if(this.parameter0=m(t.parameter),this.parameter0.pageType=this.pageType,this.parameter0.pageIndex=this.pageIndex,this.isExit0=!!this.parameter0.exit&&"true"==this.parameter0.exit.toLowerCase(),this.preCode=this._parseCode(t.preCode,this.parameter0.preCode),this.postCode=this._parseCode(t.postCode,this.parameter0.postCode),this.codeDelay=this._parseDelayCode(t.codeDelay,this.parameter0.codeDelay),!this.element.attr("data-pptAnimation")){var e=t.animationName;if(0==e.indexOf("EffectPath")||"EffectCustom"==e)this.element.css("visibility","visible");else switch(e){case"EffectFlashBulb":case"EffectFlicker":case"EffectTeeter":case"EffectSpin":case"EffectGrowShrink":case"EffectDesaturate":case"EffectDarken":case"EffectLighten":case"EffectTransparency":case"EffectColorBlend":case"EffectComplementaryColor":case"EffectChangeLineColor":case"EffectChangeFillColor":case"EffectFlashOnce":this.element.css("visibility","visible");break;case"EffectCredits":this.element.css("visibility","hidden");break;default:this.isExit0?this.element.css("visibility","visible"):this.element.css("visibility","hidden")}this.element.attr("data-pptAnimation",!0),this.elementStyle=this.element[0].style.cssText,this.elementVisibility=this.element.css("visibility")}}},{key:"_getObjectInfo",value:function(t){var e=pu(t.width()),i=pu(t.height()),n=pu(parseInt(t.css("top"))),o=pu(parseInt(t.css("left"))),r=pu(t.offset().top);t.attr("offsetTop")?r=parseInt(t.attr("offsetTop")):t.attr("offsetTop",r);var a=fu(this.visualHeight-r-i),s=pu(t.offset().left);return t.attr("offsetLeft")?s=parseInt(t.attr("offsetLeft")):t.attr("offsetLeft",s),{width:e,height:i,top:n,left:o,offsetTop:r,offsetLeft:s,offsetBottom:a,offsetRight:fu(this.visualWidth-s-e)}}},{key:"_startHandler",value:function(t,e,i){for(var n in i)switch(n){case"x":TweenLite.set(e,{x:i[n]});break;case"y":TweenLite.set(e,{y:i[n]});break;case"rotation":TweenLite.set(e,{rotation:i[n]});break;case"rotationX":TweenLite.set(e,{rotationX:i[n]});break;case"rotationY":TweenLite.set(e,{rotationY:i[n]});break;case"scale":TweenLite.set(e,{scale:i[n]});break;default:e.css(n,i[n])}if(t.videoId>0&&je(t.chapterId,t.videoId),t.pptanimation&&t.pptanimation.pptapi){var i=t.pptanimation.parameters?t.pptanimation.parameters:{};switch(t.pptanimation.pptapi){case"bonesWidget":bonesWidget.updateAction(e.attr("id"),i.actList);break;case"spiritWidget":Fi(e.attr("id"),i)}}}},{key:"_completeHandler",value:function(t,e,i){for(var n in i)switch(n){case"x":TweenLite.set(e,{x:i[n]});break;case"y":TweenLite.set(e,{y:i[n]});break;case"rotation":TweenLite.set(e,{rotation:i[n]});break;case"rotationX":TweenLite.set(e,{rotationX:i[n]});break;case"rotationY":TweenLite.set(e,{rotationY:i[n]});break;case"scale":TweenLite.set(e,{scale:i[n]});break;default:e.css(n,i[n])}}},{key:"_getTimeline",value:function(t,e){var i=this.element,n=this.parameter0,o=this.isExit0;(e>0||null==this.parameter0)&&(o=!!(n=m(t.parameter)).exit&&"true"==n.exit.toLowerCase(),0==e&&(this.parameter0=n,this.isExit0=o));var r=t.speed/1e3,a=t.delay/1e3;navigator.epubReadingSystem&&(a+=.15);var s=t.repeat>=0?t.repeat-1:0;n.pageType=this.pageType,n.chapterId=this.chapterId,n.animationName=t.animationName,n.videoId=t.videoId;var l=n.animationName;if("xxtTextEffect"==l)return this.getTextAnimation(n,i,r,a,s);if(0==l.indexOf("EffectPath")||"EffectCustom"==l)return this.getPathAnimation(n,i,r,a,s);switch(l){case"EffectFade":return this.getEffectFade(n,i,o,r,a,s);case"EffectFly":return this.getEffectFly(n,i,o,r,a,s);case"EffectAscend":return this.getEffectAscend(n,i,o,r,a,s);case"EffectDescend":return this.getEffectDescend(n,i,o,r,a,s);case"EffectSplit":return this.getEffectSplit(n,i,o,r,a,s);case"EffectWipe":return this.getEffectWipe(n,i,o,r,a,s);case"EffectCircle":return this.getEffectCircle(n,i,o,r,a,s);case"EffectBox":return this.getEffectBox(n,i,o,r,a,s);case"EffectDiamond":return this.getEffectDiamond(n,i,o,r,a,s);case"EffectPlus":return this.getEffectPlus(n,i,o,r,a,s);case"EffectGrowAndTurn":return this.getEffectGrowAndTurn(n,i,o,r,a,s);case"EffectZoom":return this.getEffectZoom(n,i,o,r,a,s);case"EffectFadedZoom":return this.getEffectFadedZoom(n,i,o,r,a,s);case"EffectSwivel":return this.getEffectSwivel(n,i,o,r,a,s);case"EffectFadedSwivel":return this.getEffectFadedSwivel(n,i,o,r,a,s);case"EffectBounce":return this.getEffectBounce(n,i,o,r,a,s);case"EffectBlinds":return this.getEffectBlinds(n,i,o,r,a,s);case"EffectPeek":return this.getEffectPeek(n,i,o,r,a,s);case"EffectExpand":return this.getEffectExpand(n,i,o,r,a,s);case"EffectRiseUp":return this.getEffectRiseUp(n,i,o,r,a,s);case"EffectCenterRevolve":return this.getEffectCenterRevolve(n,i,o,r,a,s);case"EffectSpinner":return this.getEffectSpinner(n,i,o,r,a,s);case"EffectFloat":return this.getEffectFloat(n,i,o,r,a,s);case"EffectSpiral":return this.getEffectSpiral(n,i,o,r,a,s);case"EffectPinwheel":return this.getEffectPinwheel(n,i,o,r,a,s);case"EffectCredits":return this.getEffectCredits(n,i,o,r,a,s);case"EffectBoomerang":return this.getEffectBoomerang(n,i,o,r,a,s);case"EffectArcUp":return this.getEffectArcUp(n,i,o,r,a,s);case"EffectFlashBulb":return this.getEffectFlashBulb(n,i,r,a,s);case"EffectFlicker":return this.getEffectFlicker(n,i,r,a,s);case"EffectTeeter":return this.getEffectTeeter(n,i,r,a,s);case"EffectSpin":return this.getEffectSpin(n,i,r,a,s);case"EffectGrowShrink":return this.getEffectGrowShrink(n,i,r,a,s);case"EffectDesaturate":return this.getEffectDesaturate(n,i,r,a,s);case"EffectDarken":return this.getEffectDarken(n,i,r,a,s);case"EffectLighten":return this.getEffectLighten(n,i,r,a,s);case"EffectTransparency":return this.getEffectTransparency(n,i,r,a,s);case"EffectColorBlend":return new TimelineMax;case"EffectComplementaryColor":return this.getEffectComplementaryColor(n,i,r,a,s);case"EffectChangeLineColor":case"EffectChangeFillColor":return new TimelineMax;case"EffectFlashOnce":return this.getEffectFlashOnce(n,i,r,a,s);default:case"EffectAppear":return this.getEffectAppear(n,i,o,r,a,s)}}},{key:"_initAnimation",value:function(t){for(var e=this,i=function(){t&&_.isFunction(t)&&t()},n=new TimelineLite({paused:!0,onStartParams:[this.preCode],onCompleteParams:[this.postCode,this.codeDelay],onStart:function(t){if(t&&_.isFunction(t)){e.animation.pause();var n=!1;try{n=t()}catch(t){console.log("Run preCode is error in startHandler:"+t)}1==n?e.animation.resume():(e.animation.stop(),i())}},onComplete:function(t,n){if(e.isCompleted=!0,t)try{_.isFunction(t)&&(n>0?setTimeout(t,n):t())}catch(t){console.log("Run postCode is error in completeHandler:"+t)}i()}}),o=0;o<this.options.length;o++)0==o?n.add(this._getTimeline(this.options[o],o),"shape0"):2==this.options[o].invokeMode?n.add(this._getTimeline(this.options[o],o)):n.add(this._getTimeline(this.options[o],o),"shape0");return n}},{key:"play",value:function(t){this.isCompleted&&this.reset(),this.animation&&this.stop(),this.animation=this._initAnimation(t),this.animation.play()}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.animation.kill(),this.animation.clear(),this.animation.vars=null),this.animation=null}},{key:"reset",value:function(){if(this.animation&&this.stop(),this.elementStyle&&this.elementStyle.length){var t=this.element.css(Xut.style.transformOrigin);null==this.element.attr("data-iscroll")&&(this.element[0].style.cssText=this.elementStyle),this.element.css(Xut.style.transformOrigin,t),this.element.css("visibility",this.elementVisibility),this.element.css(Xut.style.transform,"none"),this.element[0]._gsTransform=null}this.isCompleted=!1}},{key:"destroy",value:function(){this.stop(),this.container=null,this.options=null,this.element=null}}]),t}();!function(t){t.getEffectAppear=function(t,e,i,n,o,r){var a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});return 0==i?a.to(e,.001,{autoAlpha:1}):a.to(e,.001,{css:{visibility:"hidden"}}),a},t.getEffectFade=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,ease:t.tweenEase,immediateRender:!1}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]})).to(e,n,{autoAlpha:0,ease:t.tweenEase}),a},t.getEffectFlashOnce=function(t,e,i,n,o){var r=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=i/3;return r.to(e,.001,{css:{visibility:"hidden"}}).to(e,2*a,{}).to(e,a,{css:{visibility:"visible"}}),r},t.getEffectDesaturate=function(t,e,i,n,o){if(!(ou in e[0].style))return new TimelineMax;var r=t.saturation?t.saturation:.5,a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return a.to(e,i,{onUpdate:function(){var t=a.progress(),i=1+(r-1)*(t<=.5?2*t:1);e.css(ou,"saturate("+i+")")}}),a},t.getEffectDarken=function(t,e,i,n,o){if(!(ou in e[0].style))return new TimelineMax;var r=t.brightness&&t.brightness<1?r.saturation:.5,a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return a.to(e,i,{onUpdate:function(){var t=a.progress(),i=1+(r-1)*(t<=.5?2*t:1);e.css(ou,"brightness("+i+")")}}),a},t.getEffectLighten=function(t,e,i,n,o){if(!(ou in e[0].style))return new TimelineMax;var r=t.brightness&&t.brightness>1?t.brightness:1.5,a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return a.to(e,i,{onUpdate:function(){var t=a.progress(),i=1+(r-1)*(t<=.5?2*t:1);e.css(ou,"brightness("+i+")")}}),a},t.getEffectTransparency=function(t,e,i,n,o){var r=t.amount?t.amount:.5,a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});return a.to(e,i,{autoAlpha:r,ease:t.tweenEase}),a}}(mu.prototype),function(t){t.getEffectFly=function(t,e,i,n,o,r){var a,s,l=t.direction,c=null,u=this._getObjectInfo(e),h=Expo.easeOut;if(t.tweenEase&&t.tweenEase.length>0&&(h=t.tweenEase),1!=t.smoothStart&&1!=t.smoothEnd&&1!=t.bounceEnd||(h=1==i?Power4.easeOut:Elastic.easeOut),0==i)switch(c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"visible"}]}),l){case"DirectionDown":s=Math.abs(u.offsetBottom+u.height),c.from(e,n,{y:s,ease:h,immediateRender:!1});break;case"DirectionLeft":a=-Math.abs(u.offsetLeft+u.width),c.from(e,n,{x:a,ease:h,immediateRender:!1});break;case"DirectionUp":s=-Math.abs(u.offsetTop+u.height),c.from(e,n,{y:s,ease:h,immediateRender:!1});break;case"DirectionRight":a=Math.abs(u.offsetRight+u.width),c.from(e,n,{x:a,ease:h,immediateRender:!1});break;case"DirectionDownLeft":a=-Math.abs(u.offsetLeft+u.width),s=u.offsetBottom+u.height,c.from(e,n,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionDownRight":a=Math.abs(u.offsetRight+u.width),s=Math.abs(u.offsetBottom+u.height),c.from(e,n,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionUpLeft":a=-Math.abs(u.offsetLeft+u.width),s=-Math.abs(u.offsetTop+u.height),c.from(e,n,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionUpRight":a=Math.abs(u.offsetRight+u.width),s=-Math.abs(u.offsetTop+u.height),c.from(e,n,{x:a,y:s,ease:h,immediateRender:!1});break;default:console.log("getEffectFly:parameter error.")}else switch(c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{x:0,y:0,visibility:"hidden"}]}),l){case"DirectionDown":s=Math.abs(u.offsetBottom+u.height),c.to(e,n,{y:s,ease:h});break;case"DirectionLeft":a=-Math.abs(u.offsetLeft+u.width),c.to(e,n,{x:a,ease:h});break;case"DirectionUp":s=-Math.abs(u.offsetTop+u.height),c.to(e,n,{y:s,ease:h});break;case"DirectionRight":a=Math.abs(u.offsetRight+u.width),c.to(e,n,{x:a,ease:h});break;case"DirectionDownLeft":a=-Math.abs(u.offsetLeft+u.width),s=u.offsetBottom+u.height,c.to(e,n,{x:a,y:s,ease:h});break;case"DirectionDownRight":a=Math.abs(u.offsetRight+u.width),s=Math.abs(u.offsetBottom+u.height),c.to(e,n,{x:a,y:s,ease:h});break;case"DirectionUpLeft":a=-Math.abs(u.offsetLeft+u.width),s=-Math.abs(u.offsetTop+u.height),c.to(e,n,{x:a,y:s,ease:h});break;case"DirectionUpRight":a=Math.abs(u.offsetRight+u.width),s=-Math.abs(u.offsetTop+u.height),c.to(e,n,{x:a,y:s,ease:h});break;default:console.log("getEffectFly:parameter error.")}return c},t.getEffectAscend=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,y:100,ease:t.tweenEase,immediateRender:!1}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,y:0}]})).to(e,n,{autoAlpha:0,y:100,ease:t.tweenEase}),a},t.getEffectDescend=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,y:-100,ease:t.tweenEase,immediateRender:!1}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]})).to(e,n,{autoAlpha:0,y:-100,ease:t.tweenEase,clearProps:"y"}),a},t.getEffectPeek=function(t,e,i,n,o,r){var a=t.direction,s=null,l=this._getObjectInfo(e);if(0==i)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionUp":s.from(e,n,{y:-l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionDown",l]});break;case"DirectionDown":s.from(e,n,{y:l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionUp",l]});break;case"DirectionLeft":s.from(e,n,{x:-l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionRight",l]});break;case"DirectionRight":s.from(e,n,{x:l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionLeft",l]});break;default:console.log("getEffectPeek:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionUp":s.to(e,n,{y:-l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionUp",l]});break;case"DirectionDown":s.to(e,n,{y:l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionDown",l]});break;case"DirectionLeft":s.to(e,n,{x:-l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionLeft",l]});break;case"DirectionRight":s.to(e,n,{x:l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,"DirectionRight",l]});break;default:console.log("getEffectPeek:parameter error.")}return s},t.getEffectSpiral=function(t,e,i,n,o,r){var a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==i?a.from(e,n,{scale:0,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:-200},{x:0,y:-400},{x:-500,y:-600}]},ease:s}):a.to(e,n,{scale:0,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:-200},{x:0,y:-400},{x:-500,y:-600}]},ease:s}),a},t.getEffectArcUp=function(t,e,i,n,o,r){var a=null,s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,scale:2,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:200},{x:0,y:400},{x:-500,y:600}]},ease:s}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1}]})).to(e,n,{autoAlpha:0,scale:2,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:200},{x:0,y:400},{x:-500,y:600}]},ease:s,clearProps:"x,y"}),a},t.getEffectRiseUp=function(t,e,i,n,o,r){var a=null,s=this._getObjectInfo(e),l=s.offsetBottom+s.height,c=Back.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(c=t.tweenEase),0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,y:l,ease:c}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]})).to(e,n,{autoAlpha:0,y:l,ease:c}),a}}(mu.prototype),function(t){t.getPathAnimation=function(t,e,i,n,o){function r(t,e){w=t,k=e}function a(){if(0!=d){var t=b;b=e.offset(),""==x?b.left>t.left?x="left":b.left<t.left&&(x="right"):b.left>t.left?"right"==x&&(_=0==_?180:0,TweenLite.set(e.children(),{rotationY:_}),x="left"):b.left<t.left&&"left"==x&&(_=0==_?180:0,TweenLite.set(e.children(),{rotationY:_}),x="right")}}var s=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l=t.path?t.path:"";if(!l||""==l)return s;var c=1==t.autoReverse,u=1==c?1:0,h=1==t.objFollow,d=2==t.objFollow,p=0,f=0,g=null;t.attrAlongPath&&(p=t.attrAlongPath.axis?t.attrAlongPath.axis:0,f=Math.abs(t.attrAlongPath.degree)>0?Number(t.attrAlongPath.degree):0,g=t.attrAlongPath.scaleFactor>0?t.attrAlongPath.scaleFactor:null);for(var v,m,y=0,_=0,b=e.offset(),x="",w=(b.top,b.left,b.left,e.width(),b.top,e.height(),0),k=0,T=l.indexOf("C")<0&&l.indexOf("c")<0,S=l.split(" "),C=[],I=0;I<S.length;I++)switch(S[I]){case"M":case"m":v=Math.round(S[I+1]*this.visualWidth),m=Math.round(S[I+2]*this.visualHeight),C.push({x:v,y:m}),I+=2,r(v,m);break;case"C":case"c":var P=0+Math.round(S[I+1]*this.visualWidth),E=0+Math.round(S[I+2]*this.visualHeight),M=0+Math.round(S[I+3]*this.visualWidth),A=0+Math.round(S[I+4]*this.visualHeight),O=0+Math.round(S[I+5]*this.visualWidth),N=0+Math.round(S[I+6]*this.visualHeight);C.push({x:P,y:E},{x:M,y:A},{x:O,y:N}),I+=6,r(O,N);break;case"L":case"l":if(v=0+Math.round(S[I+1]*this.visualWidth),m=0+Math.round(S[I+2]*this.visualHeight),v==w&&m==k){I+=2;break}C.push({x:v,y:m}),I+=2,r(v,m);break;case"Z":C[0].x==C[C.length-1].x&&C[0].y==C[C.length-1].y||C.push({x:C[0].x,y:C[0].y})}if(t.gesture){s=new TimelineMax({paused:!0,useFrames:!0}),t.tweenEase="Linear.easeNone";var D=e[0].id;1==t.gesture.controlType&&(D=t.pathContent>0?D.replace(/\d+$/,t.pathContent):"Cont_"+e[0].id);for(var R=0,X=[],$=1;$<C.length;$++)R+=Hi(C[$],C[$-1]),X.push({start:0,end:R,quadrant:zi(C[$],C[$-1])});i=Math.floor(R);var B=[];if(t.gesture.cuePoints)for(var L=0;L<t.gesture.cuePoints.length;L++)B.push({cueStart:Math.floor(t.gesture.cuePoints[L].cueStart*i),cueEnd:Math.floor(t.gesture.cuePoints[L].cueEnd*i),valueStart:t.gesture.cuePoints[L].valueStart,valueEnd:t.gesture.cuePoints[L].valueEnd,mouseEnter:!1,mouseLeave:!1});var F=null,H=e[0].id;1==t.gesture.controlType&&(H=D),new cu(t.pageType,D,H,function(t){F={x:uu?t.changedTouches[0].pageX:t.clientX,y:uu?t.changedTouches[0].pageY:t.clientY}},function(e){var n,o={x:uu?e.changedTouches[0].pageX:e.clientX,y:uu?e.changedTouches[0].pageY:e.clientY},r=Hi(o,F),l=0;for(n=0;n<X.length;n++)if(y<=X[n].end){l=X[n].quadrant;break}var c=zi(o,F);switch(l){case"1":case"2":"1"==c||"2"==c?y+=r:"3"==c||"4"==c?y-=r:"+x"==c||"-x"==c?y+=o.x-F.x:"1"!=l||"+y"!=c&&"-y"!=c?"2"!=l||"+y"!=c&&"-y"!=c||(y+=o.y-F.y):y-=o.y-F.y;break;case"3":case"4":"3"==c||"4"==c?y+=r:"1"==c||"2"==c?y-=r:"+x"==c||"-x"==c?y-=o.x-F.x:"3"!=l||"+y"!=c&&"-y"!=c?"4"!=l||"+y"!=c&&"-y"!=c||(y-=o.y-F.y):y+=o.y-F.y;break;case"+x":"1"==c||"2"==c?y+=r:"3"==c||"4"==c?y-=r:"+x"!=c&&"-x"!=c||(y+=o.x-F.x);break;case"-x":"1"==c||"2"==c?y-=r:"3"==c||"4"==c?y+=r:"+x"!=c&&"-x"!=c||(y-=o.x-F.x);break;case"+y":"1"==c||"4"==c?y-=r:"2"==c||"3"==c?y+=r:"+y"!=c&&"-y"!=c||(y+=o.y-F.y);break;case"-y":"1"==c||"4"==c?y+=r:"2"==c||"3"==c?y-=r:"+y"!=c&&"-y"!=c||(y-=o.y-F.y)}for(y<=0&&(y=0),y>=i&&(y=i),s.seek(y),a(),F=o,n=0;n<B.length;n++){if(0==B[n].mouseEnter&&y>=B[n].cueStart&&y<=B[n].cueEnd){B[n].mouseEnter=!0,B[n].mouseLeave=!1,B[n].valueStart>0&&Xut.Assist.Run(t.pageType,B[n].valueStart,null);break}if(1==B[n].mouseEnter&&0==B[n].mouseLeave&&(y<B[n].cueStart||y>B[n].cueEnd)){B[n].mouseEnter=!1,B[n].mouseLeave=!0,B[n].valueEnd>0&&Xut.Assist.Run(t.pageType,B[n].valueEnd,null);break}}},function(){F=null,t.gesture.afterTouch>0&&Xut.Assist.Run(t.pageType,t.gesture.afterTouch,null)})}var z={type:"soft",values:C,autoRotate:h};if(1==T&&(z={curviness:0,values:C,autoRotate:h}),0==f)s.to(e,i,{scale:g,bezier:z,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});else switch(p){default:case 0:s.to(e,i,{scale:g,rotation:f+"deg",bezier:z,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});break;case 1:s.to(e,i,{scale:g,rotationX:f+"deg",bezier:z,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});break;case 2:s.to(e,i,{scale:g,rotationY:f+"deg",bezier:z,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase})}return t.gesture&&t.gesture.initPos>0&&(y=i*t.gesture.initPos,s.seek(y)),s}}(mu.prototype),function(t){t.getEffectSwivel=function(t,e,i,n,o,r){var a=t.direction,s=null,l=Linear.easeNone;if(t.tweenEase&&t.tweenEase.length>0&&(l=t.tweenEase),0==i)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionHorizontal":s.from(e,n,{rotationY:"480deg",ease:l});break;case"DirectionVertical":s.from(e,n,{rotationX:"480deg",ease:l});break;default:console.log("getEffectSwivel:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]}),a){case"DirectionHorizontal":s.to(e,n,{rotationY:"480deg",ease:l});break;case"DirectionVertical":s.to(e,n,{rotationX:"480deg",ease:l});break;default:console.log("getEffectSwivel:parameter error.")}return s},t.getEffectSpin=function(t,e,i,n,o){var r=t.amount?t.amount:360;switch(Math.abs(t.degree)>0&&(r=t.degree),0==t.clockWise&&(r=0-r),t.centerPos){case 1:e.css(hu,"left top");break;case 2:e.css(hu,"center top");break;case 3:e.css(hu,"right top");break;case 4:e.css(hu,"left cneter");break;case 5:e.css(hu,"right center");break;case 6:e.css(hu,"left bottom");break;case 7:e.css(hu,"center bottom");break;case 8:e.css(hu,"right bottom");break;case 0:default:e.css(hu,"center")}var a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});switch(t.axis){case 1:a.to(e,i,{rotationX:"+="+r+"deg",ease:t.tweenEase});break;case 2:a.to(e,i,{rotationY:"+="+r+"deg",ease:t.tweenEase});break;case 0:default:a.to(e,i,{rotation:"+="+r+"deg",ease:t.tweenEase})}return a},t.getEffectBoomerang=function(t,e,i,n,o,r){var a=null,s=n/3;return 0==i?((a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).add(TweenMax.to(e,.01,{x:300,y:-200,rotation:"-60deg"}),"first"),a.add(TweenMax.to(e,s,{autoAlpha:1,x:0,y:0,rotation:"0deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"-80deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"0deg"}))):((a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,x:0,y:0,rotation:"0deg"}]})).add(TweenMax.to(e,s,{rotationY:"-80deg"}),"frist"),a.add(TweenMax.to(e,s,{autoAlpha:0,x:300,y:-200,rotation:"-60deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"0deg"}),"second")),a},t.getEffectCenterRevolve=function(t,e,i,n,o,r){var a=null,s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:100},{x:200,y:200},{x:0,y:300}]},ease:s}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]})).to(e,n,{bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:100},{x:200,y:200},{x:0,y:300}]},ease:s}),a},t.getEffectSpinner=function(t,e,i,n,o,r){var a=null,s=Expo.easeOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{scale:0,rotation:"180deg",ease:s}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden",scale:1,rotation:"0deg"}]})).to(e,n,{scale:0,rotation:"180deg",ease:s}),a},t.getEffectFadedSwivel=function(t,e,i,n,o,r){var a=null,s=Linear.easeNone,l=Math.abs(t.degree)>0?Number(t.degree):90;switch(0==t.clockWise&&(l=0-l),t.centerPos){case 1:e.css(hu,"left top");break;case 2:e.css(hu,"center top");break;case 3:e.css(hu,"right top");break;case 4:e.css(hu,"left cneter");break;case 5:e.css(hu,"right center");break;case 6:e.css(hu,"left bottom");break;case 7:e.css(hu,"center bottom");break;case 8:e.css(hu,"right bottom");break;case 0:default:e.css(hu,"center")}if(t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==i)switch(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),t.axis){case 0:a.from(e,n,{autoAlpha:0,rotation:l+"deg",ease:s,immediateRender:!1});break;case 1:a.from(e,n,{autoAlpha:0,rotationX:l+"deg",ease:s,immediateRender:!1});break;case 2:default:a.from(e,n,{autoAlpha:0,rotationY:l+"deg",ease:s,immediateRender:!1})}else switch(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),t.axis){case 0:a.to(e,n,{autoAlpha:0,rotation:l+"deg",ease:s});break;case 1:a.to(e,n,{autoAlpha:0,rotationX:l+"deg",ease:s});break;case 2:default:a.to(e,n,{autoAlpha:0,rotationY:l+"deg",ease:s})}return a}}(mu.prototype),function(t){t.getTextAnimation=function(t,e,i,n,o){0==n&&(n=.1);var r=t.effectType?t.effectType:"text1",a=t.startColor?t.startColor:"",s=e.find("svg").children(),l=new TimelineMax({repeat:o,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});switch(r){default:case"text5":case"text1":l.staggerFrom(s.children(),i,{css:{opacity:0}},n);break;case"text2":l.staggerFrom(s.children(),i,{css:{opacity:0,"font-size":120},ease:"Strong.easeOut"},n);break;case"text3":l.staggerFrom(s.children(),i,{css:{opacity:0,"font-size":0},ease:"Power1.easeIn"},n);break;case"text4":l.staggerFrom(s.children(),i,{css:{opacity:0,fill:a},ease:"Power1.easeIn"},n)}return l},t.getEffectFlashBulb=function(t,e,i,n,o){var r=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=Number(t.range)?t.range:.1,s=i/2;return r.to(e,s,{autoAlpha:.5,scale:"+="+a}).to(e,s,{autoAlpha:1,scale:"-="+a}),r},t.getEffectBlinds=function(t,e,i,n,o,r){if(0==this.useMask)return this.getEffectAppear(t,e,i,n,o,r);var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return s.to(e,n,{onUpdate:function(){var t=s.progress()/6,n="";if(0==i){switch(a){case"DirectionHorizontal":n="-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+t+",rgba(0,0,0,1)),color-stop("+(t+.01)+",rgba(0,0,0,0))";for(var o=1;o<6;o++)n+=",color-stop("+o*(1/6)+",rgba(0,0,0,0)),color-stop("+(o*(1/6)+.01)+",rgba(0,0,0,1))",n+=",color-stop("+(o*(1/6)+t)+",rgba(0,0,0,1)),color-stop("+(o*(1/6)+t+.01)+",rgba(0,0,0,0))";n+=")";break;case"DirectionVertical":n="-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+t+",rgba(0,0,0,1)),color-stop("+(t+.01)+",rgba(0,0,0,0))";for(var r=1;r<6;r++)n+=",color-stop("+r*(1/6)+",rgba(0,0,0,0)),color-stop("+(r*(1/6)+.01)+",rgba(0,0,0,1))",n+=",color-stop("+(r*(1/6)+t)+",rgba(0,0,0,1)),color-stop("+(r*(1/6)+t+.01)+",rgba(0,0,0,0))";n+=")";break;default:console.log("getEffectBlinds:parameter error.")}e.css("-webkit-mask",n),t>=1/6-.01&&e.css("-webkit-mask","none")}else{switch(a){case"DirectionHorizontal":n="-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+(1-t)+",rgba(0,0,0,0)),color-stop("+(1-t-.01)+",rgba(0,0,0,1))";for(var l=1;l<6;l++)n+=",color-stop("+l*(1/6)+",rgba(0,0,0,1)),color-stop("+(l*(1/6)-.01)+",rgba(0,0,0,0))",n+=",color-stop("+(l*(1/6)-t)+",rgba(0,0,0,0)),color-stop("+(l*(1/6)-t-.01)+",rgba(0,0,0,1))";n+=")";break;case"DirectionVertical":n="-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+(1-t)+",rgba(0,0,0,0)),color-stop("+(1-t-.01)+",rgba(0,0,0,1))";for(var c=1;c<6;c++)n+=",color-stop("+c*(1/6)+",rgba(0,0,0,1)),color-stop("+(c*(1/6)-.01)+",rgba(0,0,0,0))",n+=",color-stop("+(c*(1/6)-t)+",rgba(0,0,0,0)),color-stop("+(c*(1/6)-t-.01)+",rgba(0,0,0,1))";n+=")";break;default:console.log("getEffectBlinds:parameter error.")}e.css("-webkit-mask",n),t>=1/6-.01&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}}),s},t.getEffectSplit=function(t,e,i,n,o,r){if(0==this.useMask)return this.getEffectAppear(t,e,i,n,o,r);var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return s.to(e,n,{onUpdate:function(){var t=s.progress(),n=t/2;if(0==i){if(t>.9)return void e.css("-webkit-mask","none");switch(a){case"DirectionVerticalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(n-.05)+",rgba(0,0,0,1)),color-stop("+n+",rgba(0,0,0,0)),color-stop("+(1-n)+",rgba(0,0,0,0)),color-stop("+(1-n+.05)+",rgba(0,0,0,1)))");break;case"DirectionHorizontalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(n-.05)+",rgba(0,0,0,1)),color-stop("+n+",rgba(0,0,0,0)),color-stop("+(1-n)+",rgba(0,0,0,0)),color-stop("+(1-n+.05)+",rgba(0,0,0,1)))");break;case"DirectionHorizontalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-n)+",rgba(0,0,0,0)),color-stop("+(.55-n)+",rgba(0,0,0,1)),color-stop("+(.5+n)+",rgba(0,0,0,1)),color-stop("+(n+.55)+",rgba(0,0,0,0)))");break;case"DirectionVerticalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-n)+",rgba(0,0,0,0)),color-stop("+(.55-n)+",rgba(0,0,0,1)),color-stop("+(.5+n)+",rgba(0,0,0,1)),color-stop("+(n+.55)+",rgba(0,0,0,0)))");break;default:console.log("getEffectSplit:parameter error.")}}else{if(t<.1)return;switch(a){case"DirectionVerticalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(n-.05)+",rgba(0,0,0,0)),color-stop("+n+",rgba(0,0,0,1)),color-stop("+(1-n)+",rgba(0,0,0,1)),color-stop("+(1-n+.05)+",rgba(0,0,0,0)))");break;case"DirectionHorizontalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(n-.05)+",rgba(0,0,0,0)),color-stop("+n+",rgba(0,0,0,1)),color-stop("+(1-n)+",rgba(0,0,0,1)),color-stop("+(1-n+.05)+",rgba(0,0,0,0)))");break;case"DirectionHorizontalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-n)+",rgba(0,0,0,1)),color-stop("+(.55-n)+",rgba(0,0,0,0)),color-stop("+(.5+n)+",rgba(0,0,0,0)),color-stop("+(n+.55)+",rgba(0,0,0,1)))");break;case"DirectionVerticalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-n)+",rgba(0,0,0,1)),color-stop("+(.55-n)+",rgba(0,0,0,0)),color-stop("+(.5+n)+",rgba(0,0,0,0)),color-stop("+(n+.55)+",rgba(0,0,0,1)))");break;default:console.log("getEffectSplit:parameter error.")}n>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}}),s},t.getEffectWipe=function(t,e,i,n,o,r){var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l=this._getObjectInfo(e);return s.to(e,n,{onUpdate:this._updateClipRect,onUpdateParams:[s,e,i,a,l]}),s},t.getEffectGrowAndTurn=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,scale:0,rotation:"90deg",ease:t.tweenEase,clearProps:"scale,rotation"}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1,rotation:"0deg"}]})).to(e,n,{autoAlpha:0,scale:0,rotation:"90deg",ease:t.tweenEase}),a},t.getEffectPinwheel=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,scale:0,rotation:"540deg",ease:t.tweenEase}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1,rotation:"0deg"}]})).to(e,n,{autoAlpha:0,scale:0,rotation:"540deg",ease:t.tweenEase}),a},t.getEffectExpand=function(t,e,i,n,o,r){var a=null;return 0==i?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,rotationY:"45deg",ease:t.tweenEase}):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,rotationY:"0deg"}]})).to(e,n,{autoAlpha:0,rotationY:"45deg",ease:t.tweenEase}),a},t.getEffectFloat=function(t,e,i,n,o,r){var a,s,l=null,c=this._getObjectInfo(e);return 0==i?(a=c.offsetRight+c.width,s=0-(c.offsetTop+c.height),(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).from(e,n,{autoAlpha:0,rotation:"-45deg",x:a,y:s,ease:t.tweenEase})):(a=c.offsetRight+c.width,s=0-(c.offsetTop+c.height),(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]})).to(e,n,{autoAlpha:0,rotation:"-45deg",x:a,y:s,ease:t.tweenEase})),l},t.getEffectCredits=function(t,e,i,n,o,r){var a=this._getObjectInfo(e),s=0,l=0;0==i?(s=0-(this.visualHeight+a.height),l=a.top+a.offsetBottom+a.height):(s=this.visualHeight+a.height,l=a.top-(a.offsetTop+a.height));var c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible",top:l+"px"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return c.to(e,n,{y:s,ease:t.tweenEase}),c},t.getEffectBounce=function(t,e,i,n,o,r){var a,s,l,c,u,h,d,p,f,g,v,m,y,_=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),b=this._getObjectInfo(e);return 0==i?(m=n,v=m/5,a=m/10,s=m/20,l=m/40,c=m/80,y=89.3,g=this.visualHeight/4,u=g/2,h=g/4,d=g/8,p=g/16,f=b.offsetBottom-g+b.height,_.to(e,.01,{x:-y,y:-g}).to(e,v,{x:"+=50",y:"+="+g,ease:Circ.easeIn}).to(e,v,{x:"+=20",y:"-="+u,scaleY:.8,ease:Circ.easeOut}).to(e,v,{x:"+=10",y:"+="+u,scaleY:1,ease:Circ.easeIn}).to(e,a,{x:"+=5",y:"-="+h,scaleY:.85,ease:Circ.easeOut}).to(e,a,{x:"+=2.5",y:"+="+h,scaleY:1,ease:Circ.easeIn}).to(e,s,{x:"+=1",y:"-="+d,scaleY:.9,ease:Circ.easeOut}).to(e,s,{x:"+=0.5",y:"+="+d,scaleY:1,ease:Circ.easeIn}).to(e,l,{x:"+=0.2",y:"-="+p,scaleY:.95,ease:Circ.easeOut}).to(e,l,{x:"+=0.1",y:"+="+p,scaleY:1,ease:Circ.easeIn,clearProps:"x,y"}),_):(v=(m=n)/5,a=m/10,s=m/20,l=m/40,c=m/80,u=(g=this.visualHeight/4)/2,h=g/4,d=g/8,p=g/16,f=b.offsetBottom-g+b.height,_.to(e,v,{x:"+=50",y:"+="+g,ease:Circ.easeIn}).to(e,v,{x:"+=20",y:"-="+u,scaleY:.8,ease:Circ.easeOut}).to(e,v,{x:"+=10",y:"+="+u,scaleY:1,ease:Circ.easeIn}).to(e,a,{x:"+=5",y:"-="+h,scaleY:.85,ease:Circ.easeOut}).to(e,a,{x:"+=2.5",y:"+="+h,scaleY:1,ease:Circ.easeIn}).to(e,s,{x:"+=1",y:"-="+d,scaleY:.9,ease:Circ.easeOut}).to(e,s,{x:"+=0.5",y:"+="+d,scaleY:1,ease:Circ.easeIn}).to(e,l,{x:"+=0.2",y:"-="+p,scaleY:.95,ease:Circ.easeOut}).to(e,l,{x:"+=0.1",y:"+="+p,scaleY:1,ease:Circ.easeIn}).to(e,c,{x:"+=0.1",y:"+="+f,ease:Circ.easeIn}),_)},t.getEffectFlicker=function(t,e,i,n,o){if(!(du in e[0].style))return new TimelineMax;var r=t.color2?t.color2:"#fff",a=t.maxGlowSize?t.maxGlowSize:.1,s=t.minGlowSize?t.minGlowSize:.05,l=e.width()>e.height()?e.height():e.width(),c=a*l,u=s*l,h=Number(t.opacity)?t.opcity:.75,d=Number(t.distance)?t.distance*l:0,p=Wi(r,h),f=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return f.to(e,i,{onUpdate:function(){var t=f.progress(),i=parseInt(t*(c-u));t>.5&&(i=parseInt((1-t)*(c-u))),e.css(du,"drop-shadow("+p+" "+d+"px "+d+"px "+(u+i)+"px)")}}),f},t.getEffectTeeter=function(t,e,i,n,o){var r=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=Number(t.range)?t.range:.02,s=i/8;switch(t.mode){case 1:a*=e.width(),r.to(e,s,{x:-a}).to(e,2*s,{x:a}),r.to(e,2*s,{x:-a}),r.to(e,2*s,{x:a}),r.to(e,s,{x:0});break;case 2:a*=e.height(),r.to(e,s,{y:-a}).to(e,2*s,{y:a}),r.to(e,2*s,{y:-a}),r.to(e,2*s,{y:a}),r.to(e,s,{y:0});break;case 3:r.to(e,s,{scaleX:1+a}).to(e,2*s,{scaleX:1-a}),r.to(e,2*s,{scaleX:1+a}),r.to(e,2*s,{scaleX:1-a}),r.to(e,s,{scaleX:1});break;case 4:r.to(e,s,{scaleY:1+a}).to(e,2*s,{scaleY:1-a}),r.to(e,2*s,{scaleY:1+a}),r.to(e,2*s,{scaleY:1-a}),r.to(e,s,{scaleY:1});break;case 0:default:a*=100,r.to(e,s,{rotation:a+"deg"}).to(e,2*s,{rotation:-a+"deg"}),r.to(e,2*s,{rotation:a+"deg"}),r.to(e,2*s,{rotation:-a+"deg"}),r.to(e,s,{rotation:"0deg"})}return r},t.getEffectComplementaryColor=function(t,e,i,n,o){var r=Number(e.css("z-index"));isNaN(r)&&(r=10,console.log("The Z-index property for this object to get error."));var a=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e,{"z-Index":r+100}],onComplete:this._completeHandler,onCompleteParams:[t,e,{"z-Index":r}]});return a.to(e,i,{autoAlpha:1}),a},t._updateClipRect=function(t,e,i,n,o){var r,a,s,l,c=t.progress();if(0==i)switch(s=o.height*(1-c),l=o.height-s,a=o.width*(1-c),r=o.width-a,n){case"DirectionUp":e.css("clip","rect(0px "+o.width+"px "+l+"px 0px)");break;case"DirectionDown":e.css("clip","rect("+s+"px "+o.width+"px "+o.height+"px 0px)");break;case"DirectionLeft":e.css("clip","rect(0px "+r+"px "+o.height+"px 0px)");break;case"DirectionRight":e.css("clip","rect(0px "+o.width+"px "+o.height+"px "+a+"px)");break;default:console.log("_updateClipRect:parameter error.")}else switch(s=o.height*c,l=o.height-s,a=o.width*c,r=o.width-a,n){case"DirectionUp":e.css("clip","rect("+s+"px "+o.width+"px "+o.height+"px 0px)");break;case"DirectionDown":e.css("clip","rect(0px "+o.width+"px "+l+"px 0px)");break;case"DirectionLeft":e.css("clip","rect(0px "+o.width+"px "+o.height+"px "+a+"px)");break;case"DirectionRight":e.css("clip","rect(0px "+r+"px "+o.height+"px 0px)");break;default:console.log("_updateClipRect:parameter error.")}}}(mu.prototype),function(t){t.getEffectZoom=function(t,e,i,n,o,r){var a,s=t.direction,l=null;if(e.css(Xut.style.transformOrigin,"center"),0==i)switch(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s){case"DirectionIn":l.from(e,n,{scale:0,ease:t.tweenEase});break;case"DirectionInCenter":a=this._getDirectionInCenter(e),l.from(e,n,{scale:0,x:a.x,y:a.y,ease:t.tweenEase});break;case"DirectionInSlightly":l.from(e,n,{scale:.7,ease:t.tweenEase});break;case"DirectionOut":l.from(e,n,{scale:3,ease:t.tweenEase});break;case"DirectionOutBottom":l.from(e,n,{scale:2,top:this.visualWidth+"px",ease:t.tweenEase});break;case"DirectionOutSlightly":l.from(e,n,{scale:1.5,ease:t.tweenEase});break;default:console.log("getEffectZoom:parameter error.")}else switch(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]}),s){case"DirectionIn":l.to(e,n,{scale:0,ease:t.tweenEase});break;case"DirectionInCenter":a=this._getDirectionInCenter(e),l.to(e,n,{scale:0,x:a.x,y:a.y,ease:t.tweenEase});break;case"DirectionInSlightly":l.to(e,n,{scale:.7,ease:t.tweenEase});break;case"DirectionOut":l.to(e,n,{scale:3,ease:t.tweenEase});break;case"DirectionOutBottom":l.to(e,n,{scale:2,top:this.visualHeight+"px",ease:t.tweenEase});break;case"DirectionOutSlightly":l.to(e,n,{scale:1.5,ease:t.tweenEase});break;default:console.log("getEffectZoom:parameter error.")}return l},t.getEffectFadedZoom=function(t,e,i,n,o,r){var a=t.direction,s=null;e.css(Xut.style.transformOrigin,"center");var l=e.find("svg");l&&Xut.style.setTranslate({node:l,x:0,y:0});var c,u=0!=t.keepRatio,h=1==t.fullScreen,d=t.scaleX?t.scaleX:1,p=t.scaleY?t.scaleY:1;if(1==h){var f=this.visualWidth/e.width(),g=this.visualHeight/e.height(),v=f;f>g&&(v=g),c=this._getDirectionInCenter(e),0==i?(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{opacity:0}],onComplete:this._completeHandler,onCompleteParams:[t,e]})).to(e,n,{x:c.x,y:c.y,autoAlpha:1,scale:v,ease:t.tweenEase}):(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]})).to(e,n,{x:c.x,y:c.y,autoAlpha:0,scale:v,ease:t.tweenEase})}else if(0==i)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionIn":1==u?s.from(e,n,{autoAlpha:0,scale:0,ease:t.tweenEase}):s.from(e,n,{autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;case"DirectionInCenter":c=this._getDirectionInCenter(e),1==u?s.from(e,n,{x:c.x,y:c.y,autoAlpha:0,scale:0,ease:t.tweenEase}):s.from(e,n,{x:c.x,y:c.y,autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;default:console.log("getEffectFadedZoom:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),a){case"DirectionOut":1==u?s.to(e,n,{autoAlpha:0,scale:0,ease:t.tweenEase,clearProps:"scale"}):s.to(e,n,{autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;case"DirectionOutCenter":c=this._getDirectionInCenter(e),1==u?s.to(e,n,{x:c.x,y:c.y,autoAlpha:0,scale:0,ease:t.tweenEase}):s.to(e,n,{x:c.x,y:c.y,autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;default:console.log("getEffectFadedZoom:parameter error.")}return s},t.getEffectGrowShrink=function(t,e,i,n,o){var r=t.scaleX?t.scaleX:1,a=t.scaleY?t.scaleY:1,s=1==t.fullScreen,l=1==t.resetSize,c=Linear.easeNone;t.tweenEase&&t.tweenEase.length>0&&(c=t.tweenEase);var u=new TimelineMax({delay:n,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});if(1==s){var h=this.visualWidth/e.width(),d=this.visualHeight/e.height(),p=h;h>d&&(p=d);var f=this._getDirectionInCenter(e);u.to(e,i,{x:f.x,y:f.y,scale:p,ease:t.tweenEase})}else 1==l?u.to(e,i,{scaleX:1,scaleY:1,ease:c}):u.to(e,i,{scaleX:r,scaleY:a,ease:c});return u},t._getDirectionInCenter=function(t){var e=this._getObjectInfo(t);return{x:Math.round(this.visualWidth/2-e.offsetLeft-e.width/2),y:Math.round(this.visualHeight/2-e.offsetTop-e.height/2)}}}(mu.prototype),function(t){t.getEffectCircle=function(t,e,i,n,o,r){function a(){var t=l.progress(),n=parseInt(t*u);if(0==i)switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(radial,center center,"+(u-n)+",center center,0,from(rgba(0,0,0,1)),to(rgba(0,0,0,0)),color-stop(10%,rgba(0,0,0,0)))"),n==u&&e.css("-webkit-mask","none");break;case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(radial,center center,0,center center, "+n+",from(rgba(0,0,0,1)), to(rgba(0,0,0,0)), color-stop(90%, rgba(0,0,0,1)))"),n==u&&e.css("-webkit-mask","none")}else switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(radial,center center,"+(u-n)+",center center,0,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)),color-stop(10%,rgba(0,0,0,1)))"),n==u&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"));break;case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(radial,center center,0,center center, "+n+",from(rgba(0,0,0,0)), to(rgba(0,0,0,1)), color-stop(90%, rgba(0,0,0,0)))"),n==u&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,i,n,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),c=this._getObjectInfo(e),u=Math.ceil(Math.sqrt(c.width*c.width/4+c.height*c.height/4));switch(s){case"DirectionIn":case"DirectionOut":l.to(e,n,{onUpdate:a});break;default:console.log("getEffectCircle:parameter error.")}return l},t.getEffectBox=function(t,e,i,n,o,r){var a=t.direction;0==this.useMask&&(a="DirectionOut");var s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l=this._getObjectInfo(e);return s.to(e,n,{onUpdate:function(){var t,n,o,r,c=s.progress()/2;if(0==i){switch(a){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+c+",rgba(0,0,0,1)),color-stop("+c+",transparent),color-stop("+(1-c)+",transparent),color-stop("+(1-c)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+c+",rgba(0,0,0,1)),color-stop("+c+",transparent),color-stop("+(1-c)+",transparent),color-stop("+(1-c)+",rgba(0,0,0,1)))");break;case"DirectionOut":r=l.height*(.5-c),n=l.height-r,o=l.width*(.5-c),t=l.width-o,e.css("clip","rect("+r+"px "+t+"px "+n+"px "+o+"px)");break;default:console.log("getEffectBox:parameter error.")}c>=.5&&e.css("-webkit-mask","none")}else{switch(a){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-c)+",rgba(0,0,0,1)),color-stop("+(.5-c)+",transparent),color-stop("+(.5+c)+",transparent),color-stop("+(.5+c)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-c)+",rgba(0,0,0,1)),color-stop("+(.5-c)+",transparent),color-stop("+(.5+c)+",transparent),color-stop("+(.5+c)+",rgba(0,0,0,1)))");break;case"DirectionOut":r=l.height*c,n=l.height-r,o=l.width*c,t=l.width-o,e.css("clip","rect("+r+"px "+t+"px "+n+"px "+o+"px)");break;default:console.log("getEffectBox:parameter error.")}c>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}}),s},t.getEffectDiamond=function(t,e,i,n,o,r){if(0==this.useMask)return this.getEffectAppear(t,e,i,n,o,r);var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return s.to(e,n,{onUpdate:function(){var t=s.progress()/2;if(0==i){switch(a){case"DirectionOut":case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+t+",rgba(0,0,0,1)),color-stop("+t+",transparent),color-stop("+(1-t)+",transparent),color-stop("+(1-t)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 100%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+t+",rgba(0,0,0,1)),color-stop("+t+",transparent),color-stop("+(1-t)+",transparent),color-stop("+(1-t)+",rgba(0,0,0,1)))");break;default:console.log("getEffectBox:parameter error.")}t>=.5&&e.css("-webkit-mask","none")}else{switch(a){case"DirectionOut":case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-t)+",rgba(0,0,0,1)),color-stop("+(.5-t)+",transparent),color-stop("+(.5+t)+",transparent),color-stop("+(.5+t)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 100%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-t)+",rgba(0,0,0,1)),color-stop("+(.5-t)+",transparent),color-stop("+(.5+t)+",transparent),color-stop("+(.5+t)+",rgba(0,0,0,1)))");break;default:console.log("getEffectBox:parameter error.")}t>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}}),s},t.getEffectPlus=function(t,e,i,n,o,r){if(0==this.useMask)return this.getEffectAppear(t,e,i,n,o,r);var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return s.to(e,n,{onUpdate:function(){var t=s.progress()/2;if(0==i){switch(a){case"DirectionIn":case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-t)+",transparent),color-stop("+(.5-t)+",rgba(0,0,0,1)),color-stop("+(.5+t)+",rgba(0,0,0,1)),color-stop("+(.5+t)+",transparent)),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-t)+",transparent),color-stop("+(.5-t)+",rgba(0,0,0,1)),color-stop("+(.5+t)+",rgba(0,0,0,1)),color-stop("+(.5+t)+",transparent))");break;default:console.log("getEffectPlus:parameter error.")}t>=.5&&e.css("-webkit-mask","none")}else{switch(a){case"DirectionIn":case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+t+",transparent),color-stop("+t+",rgba(0,0,0,1)),color-stop("+(1-t)+",rgba(0,0,0,1)),color-stop("+(1-t)+",transparent)),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+t+",transparent),color-stop("+t+",rgba(0,0,0,1)),color-stop("+(1-t)+",rgba(0,0,0,1)),color-stop("+(1-t)+",transparent))");break;default:console.log("getEffectPlus:parameter error.")}t>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}}),s}}(mu.prototype);var yu=Xut.style,_u=yu.keyframes,bu=yu.animationEnd,xu=yu.animationPlayState,wu=yu.animation,ku=null,Tu=Xut.style.animationPlayState,Su=function(t){return"css"===(t.mode||"css")&&Tu?Yi(t):Vi(t)},Cu=function(t,e,i){var n=$("#"+t+e),o=$("#"+t+i),r=$("#spirit_parent_"+i);0==r.length&&o.append("<div style='position:absolute; width:100%; height:100%'  id='spirit_parent_"+i+"'></div>"),r.append(n)},Iu=function(){function t(e){Pr(this,t),this.options=e,this.ids=[]}return Er(t,[{key:"play",value:function(){var t=this.options.data,e=t.resource,i=void 0,n=void 0,o=void 0,r=void 0,a=void 0,s={};this.spiritObjs={},s.contentId=this.options.id,s.ele=this.options.$contentNode,s.resourcePath=t.md5,s.type="autoSprite";var l=0;t.loop&&(l="loop");for(var c=0;c<e.spiritList.length;c++){if(o=e.spiritList[c],i=t.containerName,r=o.framId,a=o.parentId,this.ids.push(i),"0"!=a){var u=i.split("_"),h=u[0]+"_"+u[1];Cu(h,r,a)}this.spiritObjs[i]=new Zc(o,s),n=o.params.actList.split(",")[0],this.spiritObjs[i].play(n,l)}}},{key:"stop",value:function(){var t=this;this.ids.forEach(function(e){t.spiritObjs[e].stop()})}},{key:"reset",value:function(){this.stop()}},{key:"destroy",value:function(){var t=this;this.ids.forEach(function(e){t.spiritObjs[e]&&(t.spiritObjs[e].destroy(),t.spiritObjs[e]=null,delete t.spiritObjs[e])}),this.options.data=null,this.options.$contentNode=null,this.options=null,this.ids=null}}]),t}(),Pu={},Eu={},Mu=function(t,e,i){e&&_.each(e,function(e){e.videoId&&t(i,e.videoId)})},Au=["pptObj","pixiObj","comSpriteObj","autoSpriteObj"],Ou=function(t){Au.forEach(function(e){t(e)})},Nu=function(){function t(e){Pr(this,t),_.extend(this,e)}return Er(t,[{key:"_createCanvas",value:function(t,e,i,n){var o=this,r=void 0,a=this.contentData.actionTypes,s={data:this.contentData,renderer:this.$contentNode,pageIndex:this.pageIndex},l=function(){(e||a.pptId)&&o.$contentNode.view&&(o.pptObj=n(mu,$(o.$contentNode.view)),o.pptObj.contentId=t)},c=this.$contentNode.view;c&&(r=c.getAttribute("data-init"));var u=function(){c.setAttribute("data-init",!0)};a.spiritId&&(r?l():(this.nextTask.context.add(t),this.pixiObj=new Pu(s),this.pixiObj.$$once("load",function(){l(),o.nextTask.context.remove(t)}),u())),a.compSpriteId&&(r?l():(this.pixiObj=new Eu(s),u(),l()))}},{key:"_createDom",value:function(t,e){if(t){var i={id:this.id,data:this.contentData,$contentNode:this.$contentNode};switch(t){case"Sprite":this.comSpriteObj=Su(i);break;case"AutoCompSprite":this.autoSpriteObj=new Iu(i)}}this.pptObj=e(mu)}},{key:"init",value:function(t,e,i,n,o,r){var a=this,s=this.contentData.category,l=this.pageIndex,c=function(t,s){var c=s||e;if(c.length)return new t(l,r,n,c,o,i,a.getStyle);console.log("创建:"+t+"失败")};this.domMode?this._createDom(s,c):this._createCanvas(t,o,s,c)}},{key:"play",value:function(t){var e=this,i=this.$contentNode;i&&i.view&&(i=this.$contentNode.view),Ou(function(n){e[n]&&("pptObj"===n&&i.prop&&i.prop("mutex")&&i.css({display:"block"}),e.useDynamicDiagram?(e.$contentNode&&ot(e.$contentNode,e.contentData.resourcePath),e[n]&&e[n].play&&e[n].play(t)):e[n].play&&e[n].play(t))})}},{key:"stop",value:function(t){var e=this;Ou(function(i){e[i]&&("pptObj"===i&&Mu(Ge,e[i].options,t),e[i].stop&&e[i].stop())})}},{key:"reset",value:function(){var t=this;Ou(function(e){t[e]&&(t.useDynamicDiagram&&nt(t.$contentNode),t[e].reset&&t[e].reset())})}},{key:"destroy",value:function(t){var e=this;Ou(function(t){e[t]&&e[t].destroy&&e[t].destroy()}),this.canvasMode&&this.$contentNode.view&&this.$contentNode.destroy(),this.contentData.$contentNode&&(this.contentData.$contentNode=null),Ou(function(t){e[t]=null}),this.$contentNode=null,this.getParameter=null}}]),t}(),Du=Xut.style.transitionDuration,Ru=Xut.style.transform,Xu=Xut.style.setTranslateZ,$u=Math.round,Bu=function(t,e,i){return qi({$contentNode:t,action:"init",property:e,pageOffset:i})},Lu=function(t){return t.opacityStart>-1&&(t.opacity=(t.opacityEnd||1)-t.opacityStart,delete t.opacityEnd),t},Fu=function(t){var e=Xut.Presentation.GetPageBase("page",t);if(e&&"flow"===e.chapterData.note)return Nt(e.chapterData.seasonId,e.chapterId)},Hu=function(t,e,i,n,o,r){var a,s,l,c={type:"dom",canvasMode:!1,domMode:!0},u=t.pageType,h=t.relatedData.contentDataset[e];if(t.canvasRelated.enable&&-1!==t.canvasRelated.contentIdset.indexOf(e)&&(s="canvas_"+i+"_"+e,l=t.getContextNode(s)[0],h.$contentNode&&(a=h.$contentNode),c.type="canvas",c.canvasMode=!0,c.domMode=!1),a||(a=t.getContextNode(n)))return _.extend(c,{base:t,id:e,actName:n,contentData:h,$contentNode:a,pageType:u,canvasDom:l,chapterIndex:i,pageIndex:t.pageIndex,canvasRelated:t.canvasRelated,nextTask:t.nextTask}),c.processType=r&&"master"===u?"parallax":"animation",c.getParameter=function(){var t="parameter-"+u+"-"+c.processType;return c[t]=o,function(){return c[t]}}(),"parallax"===c.processType?nn(c,t.relatedData,t.getStyle):on(c,t.eventData.eventName)?Ui(c,t):(c.getStyle=t.getStyle,new Nu(c))},zu=function(t,e){var i=e[0],n=i.contentId,o=t.chapterIndex,r=t.makePrefix("Content",o,n);return Hu(t,n,o,r,e,i.masterId)},Wu=function(t){return function(e,i){var n,o;if(e&&e.length)for(;n=e.shift();)(o=zu(t,n))&&i(o)}},ju=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i])},Gu=function(t){var e=t.dataset.animation,i=t.dataset.parallax,n=[],o=Wu(t);switch(t.pageType){case"page":o(e,function(t){n.push(t)});break;case"master":var r={},a={},s=[];o(i,function(t){r[t.id]=t}),o(e,function(t){a[t.id]=t});var l=_.keys(r).length,c=_.keys(a).length;l&&c&&(_.each(a,function(t){var e=t.id,i=r[e];i&&(ju(t,i),t.processType="both",delete r[e])}),_.keys(r).length&&_.extend(a,r),r=null),_.each(c?a:r,function(t){s.push(t)}),n=s}return o=null,n},Yu=function(t){return{context:{wait:!1,statas:!1,_ids:[],event:[],pre:{},check:function(){this.length().length||(this.statas=!0),this.wait&&t&&t()},add:function(t){-1===this._ids.indexOf(t)&&this._ids.push(t)},remove:function(t){if(t){var e=this._ids.indexOf(t),i=this._ids.splice(e,1);return this.check(i),i}},length:function(){return this._ids.length}}}},Vu=function(){function t(e){if(Pr(this,t),_.extend(this,e),this.nextTask=Yu(this.noticeComplete),this._initEvents(),this._contentGroup=Gu(this),this._htmlTextBox(),this._bindEvents(),this._initContents(),this._fixAudio=[],this._cacheBehaviorAudio={},this.nextTask.context.length())return this.nextTask.context.wait=!0,this;this.noticeComplete()}return Er(t,[{key:"_initContents",value:function(){var t=this,e=this.relatedData.pageId,i=this.$containsNode,n=this.relatedCallback.contentsHooks,o=this.pageType;this.eachAssistContents(function(r){var a=r.id,s=r.$contentNode;"parallax"!==r.processType?(r.init(a,s,i,e,r.getParameter(),o),t._toRepeatBind(a,s,r,n)):n(r.chapterIndex,r.id,r)})}},{key:"_toRepeatBind",value:function(t,e,i,n){var o=this.relatedData,r=o.createContentIds.indexOf(t);-1!==r&&(o.createContentIds.splice(r,1),n(i.chapterIndex,t,i),this._iscrollBind(i,e))}},{key:"_iscrollBind",value:function(t,e){var i=this,n=this,o=t.contentData,r=function(e){var i=n.getContextNode(n.makePrefix("Content",t.chapterIndex,t.id)),o=i.css("visibility"),r=function(){};if("hidden"==o){var a=i.css("opacity"),s=function(t,e){arguments.length>1?i.css(t,e):i.css(t)};0==a?(s("visibility","visible"),r=function(){return s("visibility",o)}):(s({opacity:0,visibility:"visible"}),r=function(){return s({opacity:a,visibility:o})})}return function(){var t={scrollbars:"custom",fadeScrollbars:!0};"mini"===jr.launch.platform&&(t.fadeScrollbars=!1),n.iscroll=Ri(e,t,"delegate"),e.setAttribute("data-iscroll","true"),r(),r=null,i=null,e=null}},a=function(){e.css("overflow","hidden"),e.children().css("height",""),i.relatedCallback.iscrollHooks.push(r(e[0]))};if(o.isScroll){var s=e.find("svg");s?s.text()&&a():a()}o.mask&&o.isGif||e.find&&e.find("img").css({height:o.scaleHeight})}},{key:"makePrefix",value:function(t,e,i){return t+"_"+e+"_"+i}},{key:"getContextNode",value:function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0;return r=this.relatedData.contentsFragment,(i=r[t])?n=$(i):(o=this.relatedData.containerPrefix)&&_.each(o,function(e){i=r[e],(n=$(i).find("#"+t)).length}),n}},{key:"_resetAloneAnim",value:function(){rn(this.eventData,function(t){t.reset()})}},{key:"_relevantOperation",value:function(){var t,e;if(this.eventData&&(e=this.eventData.eventContentId),e&&(t=this.relatedData.seasonRelated[e])){if(t.SearchBar)return void this.createSearchBar();if(t.BookMarks)return void this.createBookMark();if(t.seasonId||t.chapterId)return void setTimeout(function(){Xut.View.LoadScenario({seasonId:t.seasonId,chapterId:t.chapterId})},Be()?500:0)}}},{key:"eachAssistContents",value:function(t){_.each(this._contentGroup,function(e){t.call(this,e)},this)}},{key:"runAnimation",value:function(t,e){var i=this,n=this.relatedData.pageId;if(e&&(this.preventRepeat=!1),this.preventRepeat)return!1;if(this.preventRepeat=!0,!this.dataset.animation)return this.preventRepeat=!1,void this._relevantOperation();var o=this.captureAnimComplete=function(e){return function(o){o&&o.$contentNode&&o.$contentNode.removeProp&&o.$contentNode.removeProp("animOffset");var r=n!=Xut.Presentation.GetPageId();r&&o&&(o.stop&&o.stop(n),o.reset&&o.reset()),1===e?(r&&i._resetAloneAnim(),i.preventRepeat=!1,i._relevantOperation(),t&&t(),i.captureAnimComplete=null):--e}}(this._contentGroup.length);this.eachAssistContents(function(t){t.$contentNode&&t.$contentNode.prop&&t.$contentNode.prop({animOffset:t.$contentNode.offset()}),t.play(function(){o(t)})}),this.runState=!0}},{key:"stopAnimation",value:function(){var t=this.relatedData.pageId;this.runState=!1,this.eachAssistContents(function(e){e.stop&&e.stop(t)})}},{key:"_destroyAnimation",value:function(t){var e=this;rn(this.eventData,function(t){t.destroy()}),this.eachAssistContents(function(i){i.destroy&&i.destroy(e.relatedData.pageId),t&&t(i)})}},{key:"autoPlay",value:function(t){var e=this.eventData;e&&"auto"===e.eventName?this.runAnimation(t):t()}},{key:"reset",value:function(){this.eachAssistContents(function(t){t.reset&&t.reset()}),this._resetAloneAnim()}},{key:"stop",value:function(){this.runState&&this.stopAnimation(),this.preventRepeat=!1,this.htmlBoxInstance.length&&_.each(this.htmlBoxInstance,function(t){t.removeBox()}),this._fixAudio.length&&(_.each(this._fixAudio,function(t){setTimeout(function(){t.destroy()},5e3)}),this._fixAudio=[])}},{key:"destroy",value:function(t){if(this.eventData.eventContext&&(Ti(this.eventData),this.eventData.eventContext=null),this.htmlBoxInstance.length&&(_.each(this.htmlBoxInstance,function(t){t.destroy()}),this.htmlBoxInstance=null),this._destroyAnimation(t),this._contentGroup=null,this.iscroll&&(this.iscroll.destroy(),this.iscroll=null),this.searchBar&&(this.searchBar.destroy(),this.searchBar=null),this.bookMark&&(this.bookMark.destroy(),this.bookMark=null),Object.keys(this._cacheBehaviorAudio).length)for(var e in this._cacheBehaviorAudio){var i=this._cacheBehaviorAudio[e];i&&(i.destroy(),this._cacheBehaviorAudio[e]=null)}this.$containsNode=null}}]),t}(),Uu=Vu.prototype;!function(t){t._htmlTextBox=function(){var t,e,i,n=this,o=this.relatedData,r=o.contentHtmlBoxIds;this.htmlBoxInstance=[],r.length&&o.contentDataset&&_.each(o.contentDataset,function(o){~r.indexOf(o._id)&&(t=o._id,e=n.makePrefix("Content",n.chapterIndex,t),(i=n.getContextNode(e)).attr("data-htmlbox")||(n.htmlBoxInstance.push(new Uc(t,i)),i.attr("data-htmlbox","true")))})}}(Uu),function(t){t.createBookMark=function(){var t,e,i,n;"master"===this.pageType?(n=Xut.Presentation.GetPageData(),t=this.relatedData.floatMasterDivertor.container,i=n._id,e=n.seasonId):(t=this.$containsNode,e=this.relatedData.seasonId,i=this.pageId);var o={parent:t,seasonId:e,pageId:i};this.bookMark?this.bookMark.restore():this.bookMark=new Bi(o)}}(Uu),function(t){t.createSearchBar=function(){var t={parent:this.$containsNode};this.searchBar?this.searchBar.restore():this.searchBar=new Li(t)}}(Uu),function(t){t._initEvents=function(){this.eventData.eventName=wi(this.eventData.eventType)},t._findContentName=function(t,e,i){var n=this,o=void 0,r=this.eventData;return i&&-1!==this.canvasRelated.contentIdset.indexOf(i)?(o=n.makePrefix("canvas",t,e),r.type="canvas",r.canvasMode=!0,r.domMode=!1):(o=n.makePrefix("Content",t,e),r.type="dom",r.canvasMode=!1,r.domMode=!0),o},t._parseEventContext=function(){var t=this.eventData,e=t.eventContentId,i=t.eventContext;if(e){if(!i){var n=t.rewrite?e:this.id,o=this._findContentName(this.chapterIndex,n,e);i=this.getContextNode(o),t.eventContext=i}i?this.relatedCallback.contentsHooks(this.chapterIndex,e,{$contentNode:i,isBindEventHooks:!0,type:t.type}):t.parent=this}return i},t._bindEvents=function(t){var e=this,i=this.eventData,n=i.eventName,o=this._parseEventContext(),r=function(){var t=void 0;if(i.domMode&&(t=o.prop("animOffset"))){var n=t.left,r=t.top,a=o.offset(),s=a.left,l=a.top;(n>s-5&&n<s+5||r>l-5&&r<l+5)&&e.runAnimation()}else e.runAnimation()},a=function(t){var n=void 0;if(n=t.behaviorSound)if(window.MMXCONFIG&&window.audioHandler)e._fixAudio.push(new Ol({url:n,trackId:9999,complete:function(){this.play()}}));else{var a=e._cacheBehaviorAudio[n];a?a.play():(a=new Ol({url:n}),e._cacheBehaviorAudio[n]=a)}t.isButton?i.domMode?(o.addClass("xut-behavior"),setTimeout(function(){o.removeClass("xut-behavior"),r()},500)):console.log("feedbackBehavior"):r()},s={init:function(t){i.dragDrop=t},startRun:function(){},stopRun:function(t){t&&e.runAnimation()}};if(o&&n)if(!jr.launch.swipeDelegate||"swiperight"!==n&&"swipeleft"!==n){var l=void 0,c=void 0,u=void 0;u=i.dragdropPara,"dragTag"===n&&(l=this.makePrefix("Content",this.chapterIndex,u),c=this.getContextNode(l)),i.isBind=!0,ki({target:c,eventName:n,eventRun:function(){var t=e.relatedData.contentDataset[e.id];if(t&&t.trackCode&&jr.sendTrackCode("content",{pageId:e.pageId,id:e.id,type:e.type,eventName:i.eventName}),i.rewrite)e.runAnimation();else{var n=i.feedbackBehavior[i.eventContentId];n?a(n):r()}},eventDrop:s,eventHandler:function(t,e){i.eventReference=t,i.eventHandler=e},eventContext:o,parameter:u,domMode:i.domMode})}else e.relatedCallback.swipeDelegateContents(n,function(t){e.runAnimation(t)})}}(Uu);var qu=function(t,e){var i=void 0,n=Xut.config.screenSize;return i=n.width>n.height?'<div class="page-scale-close" style="position: absolute;right:'+t+"px;top:"+e+'px;">\n           <div class="si-icon Flaticon xut-flaticon-error" style="font-size:5.3vw;border-radius:50%;right:0">\n           </div>\n        </div>':'<div class="page-scale-close" style="position: absolute;right:'+t+"px;top:"+e+'px;">\n             <div class="si-icon Flaticon xut-flaticon-error" style="font-size:5.3vh;border-radius:50%;right:0;"></div>\n        </div>',$(String.styleFormat(i))},Ku=function(){function t(e){var i=e.rootNode,n=e.hasButton,o=void 0===n||n,r=e.updateHook,a=e.tapClose,s=void 0!==a&&a,l=e.tapCallabck;Pr(this,t),this.hasButton=o,this.updateHook=r,this.tapClose=s,this.tapCallabck=l,this.rootNode=i instanceof $?i[0]:i,this._offsetWidth=this.rootNode.offsetWidth,this._offsetHeight=this.rootNode.offsetHeight,this._initState(),this._initEvent()}return Er(t,[{key:"_initState",value:function(){this.maxScale=jr.launch.salePictureMultiples||4,this.overflowValue=.3,this.hasZoom=!1,this.scaleing=!1,this.lastScale=1,this.ticking=!1,this.currentX=0,this.currentY=0,this.data={translate:{x:0,y:0},scale:1},this._buttonHide()}},{key:"_initEvent",value:function(){var t=this;this.hammer=new Hammer.Manager(this.rootNode),this.hammer.add(new Hammer.Pan({threshold:0,pointers:0,enable:!1})),this.hammer.add(new Hammer.Pinch({threshold:0})).recognizeWith(this.hammer.get("pan")),this.hammer.add(new Hammer.Tap);var e={pinchstart:"_onPinchStart",pinchmove:"_onPinchMove",pinchend:"_onPinchEnd","panstart panmove":"_onPan",panend:"_onPanEnd",pinchcancel:"_onPinchEnd"};this.tapClose&&(e.tap="_onTap"),_.each(e,function(e,i){t.hammer.on(i,function(i){i.preventDefault(),i.srcEvent.stopPropagation(),t[e](i)})})}},{key:"_onTap",value:function(){this.tapCallabck?this.tapCallabck():this.tapClose&&1!=this.data.scale&&this.reset()}},{key:"_onDoubletap",value:function(){this.reset()}},{key:"_onPinchStart",value:function(t){this.lastScale=this.data.scale||1}},{key:"_onPinchMove",value:function(t){if(!this.scaleing){if(t.scale<this.overflowValue+1)return;this.scaleing=!0}var e=t.scale-this.overflowValue;(e=this.lastScale*e)>this.maxScale||(this.data.scale=e,this._buttonShow(),this._isBoundry(),this._updateNodeStyle())}},{key:"_onPinchEnd",value:function(t){var e=this;this.data.scale<=1?Xut.nextTick(function(){e._initState(),e._updateNodeStyle(500)}):this.overflowValue=0}},{key:"_onPan",value:function(t){this._isRunning&&(0!=this.currentX||0!=this.currentY?this.data.translate={x:this.currentX+t.deltaX,y:this.currentY+t.deltaY}:this.data.translate={x:0+t.deltaX,y:0+t.deltaY},this._isBoundry(),this._updateNodeStyle())}},{key:"_onPanEnd",value:function(){this.currentX=this.data.translate.x,this.currentY=this.data.translate.y}},{key:"_isBoundry",value:function(){if(this._isRunning){var t=(this.data.scale-1)/2*this._offsetWidth,e=(this.data.scale-1)/2*this._offsetHeight;this.data.translate.x>=t&&(this.data.translate.x=t),this.data.translate.x<=-t&&(this.data.translate.x=-t),this.data.translate.y>=e&&(this.data.translate.y=e),this.data.translate.y<=-e&&(this.data.translate.y=-e)}else this.data.scale=1,this.data.translate.x=0,this.data.translate.y=0}},{key:"_updateNodeStyle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.ticking||(Xut.nextTick(function(){var i=t.data,n={translate:{x:i.translate.x,y:i.translate.y},scale:{x:i.scale,y:i.scale}};Xut.style.setTransform({speed:e,translate:n.translate,scale:n.scale,node:t.rootNode}),t.updateHook&&t.updateHook(n,e),t.ticking=!1}),this.ticking=!0)}},{key:"reset",value:function(){this._initState(),this._updateNodeStyle(500)}},{key:"_createPinchButton",value:function(){var t=this,e=jr.visualSize,i=ln(function(){t.reset()},e.overflowWidth&&Math.abs(e.left)||0,e.overflowHeight&&Math.abs(e.top)||0);return $(this.rootNode).after(i),i}},{key:"_buttonShow",value:function(){var t=this;this._isRunning||this.data.scale>1&&(this.hasButton&&(this.$buttonNode?Xut.nextTick(function(){t.$buttonNode.show()}):this.$buttonNode=this._createPinchButton()),Xut.View.SetSwiperDisable(),this._isRunning=!0,this.hammer.get("pan").set({enable:!0}))}},{key:"_buttonHide",value:function(){this._isRunning&&(this.hasButton&&this.$buttonNode.hide(),this._isRunning=!1,Xut.View.SetSwiperEnable(),this.hammer.get("pan").set({enable:!1}))}},{key:"destroy",value:function(){this.$buttonNode&&(this.$buttonNode.off(),this.$buttonNode=null),this.hammer&&(this.hammer.destroy(),this.hammer=null),this.$buttonNode&&this.$buttonNode.off(),this.update=null,this.rootNode=null}}]),t}(),Qu=999999,Zu={scenarioStack:[],scenarioChain:[]},Ju={createIndex:function(){return--Qu},add:function(t,e,i){return t&&(t=Number(t)),e&&(e=Number(e)),Zu.scenarioStack.push(t),Zu["seasonId->"+t]=i,Zu.scenarioChain.push({seasonId:t,chapterId:e}),i},takeOutPrevChainId:function(){Zu.scenarioChain.pop();return Zu.scenarioChain.length>1?Zu.scenarioChain.pop():Zu.scenarioChain[0]},checkToRepeat:function(t){var e=Zu.scenarioChain.length;if((e>1?Zu.scenarioChain[e-2]:Zu.scenarioChain[e-1]).seasonId==t&&this.takeOutPrevChainId(),Zu.scenarioStack[0]==t){var i=Zu.scenarioChain.shift();Zu.scenarioChain.length=0,Zu.scenarioChain.push(i)}},containerObj:function(t){if("current"===t){var e=Zu.scenarioStack;t=e[e.length-1]}return Zu["seasonId->"+t]},findIndexOfId:function(t){return Zu.scenarioStack.lastIndexOf(t)},remove:function(t){var e=this.findIndexOfId(t);Zu.scenarioStack.splice(e,1),delete Zu["seasonId->"+t]},destroyAllScene:function(){var t=_.clone(Zu.scenarioStack);_.each(t,function(t){Zu["seasonId->"+t].destroy()}),Zu.scenarioChain=[]},rewrite:function(t,e){_.each(Zu.scenarioChain,function(i){i.seasonId==t&&(i.chapterId=e)})},expose:function(){return Zu},sequence:function(t,e){var i=Zu.scenarioChain;if(i.length>1){var n=[];return _.each(i,function(i){i.seasonId==t?n.push(i.seasonId+"-"+i.chapterId+"-"+e):n.push(i.seasonId+"-"+i.chapterId)}),n}},seqReverse:function(t){var e=(t=t.split(",")).length;return 1!==e&&(2===e?t[1]:(_.each(t,function(t,i){if(i>=1&&i<e-1){var t=t.split("-");Zu.scenarioChain.push({seasonId:t[0],chapterId:t[1],pageIndex:t[2]})}}),t[e-1]))}},th=function(){function t(e){var i=e.element,n=e.originalSrc,o=e.hdSrc,r=e.hasButton,a=void 0!==r&&r;Pr(this,t);var s=Ju.containerObj("current");if(s&&(this.$container=s.getSceneNode()),this.$container.length){var l=0,c=0,u=jr.visualSize;u.left&&(l=u.left,c=u.top),this.$imgNode=i,this.originSrc=n,this.hdSrc=o,this.hasButton=a,this.originImgWidth=i.width(),this.originImgHeight=i.height();var h=i.offset();this.originImgLeft=h.left-l,this.originImgTop=h.top-c-jr.launch.visualTop,this.isCloseAniming=!1,this.source=[{pos:0,src:o||n,width:200}],this._init()}else Nr("图片缩放依赖的容器不存在")}return Er(t,[{key:"_init",value:function(){this._initSingleView(),this._bindTapClose(),this.targetSize||(this.targetSize=this._getData()),this._startZoom()}},{key:"_initSingleView",value:function(){var t=this;this.$singleView=$(un({width:this.originImgWidth,height:this.originImgHeight,left:this.originImgLeft,top:this.originImgTop,originSrc:this.originSrc})),this.$overlay=this.$singleView.find(".xut-zoom-overlay"),this.$flyNode=this.$singleView.find(".xut-zoom-fly"),this.hasButton&&(this.$closeButton=this.$singleView.find(".xut-zoom-close"),this.callbackEnd=function(){t._closeSingleView()},C(this.$closeButton,{end:this.callbackEnd,cancel:this.callbackEnd}),this.$closeButton.show()),this.$singleView.appendTo(this.$container)}},{key:"_getData",value:function(){var t=jr.screenSize,e=0;return jr.visualSize.left&&(t=jr.visualSize),3===jr.launch.visualMode&&(t=jr.screenSize,e=jr.visualSize.left),pn({sources:this.source,wrapper:{width:t.width,height:t.height,left:e},image:{width:this.originImgWidth,height:this.originImgHeight}})}},{key:"_startZoom",value:function(){var t=this,e=this.targetSize.source,i=this.targetSize.position;dn({element:this.$flyNode,style:{width:i.width,height:i.height,left:i.left,top:i.top},speed:300},function(){t._replaceHQIMG(i,e.src)}),dn({element:this.$overlay,style:{opacity:1},speed:300})}},{key:"_createHQIMG",value:function(t,e,i,n){function o(){a||(a=!0,r=null,n())}if(this.$hQNode)return this.$hQNode.show(),void i();var r=new Image,a=!1,s=this;r.onload=function(){s.isCloseAniming?o():(s.$hQNode=$(r),s.$hQNode.css({width:t.width,height:t.height,left:t.left,top:t.top}).addClass("xut-zoom-hd").appendTo(s.$singleView),r=null,i(500))},r.onerror=function(){o()},r.src=e}},{key:"_bindPan",value:function(t){var e=this;if(!this.slideObj&&Xut.plat.hasTouch&&jr.launch.salePicture){this.slideObj=new Ku({hasButton:!1,rootNode:t,tapClose:!0,tapCallabck:function(){return e._closeSingleView()}})}}},{key:"_addPinchPan",value:function(){this.$hQNode?(this._hasBindFlyPan&&(this._hasBindFlyPan=!1,this._destroyRelated()),this._bindPan(this.$hQNode)):this.$flyNode&&(this._hasBindFlyPan=!0,this._bindPan(this.$flyNode))}},{key:"_stopDefault",value:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}},{key:"_bindTapClose",value:function(t){var e=this,i=!1,n=function(t){e._stopDefault(t),i||e.slideObj||e._closeSingleView()};C(this.$singleView,{start:function(t){e._stopDefault(t),i=!1},move:function(t){e._stopDefault(t),i=!0},end:n,cancel:n})}},{key:"_replaceHQIMG",value:function(t,e){var i=this;this.hdSrc?this._createHQIMG(t,e,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;dn({element:i.$flyNode,style:{opacity:0},speed:t},function(){i.$flyNode.hide(),i._addPinchPan()})},function(){i._addPinchPan()}):this._addPinchPan()}},{key:"_reset",value:function(){if(this.$flyNode.css({width:this.originImgWidth,height:this.originImgHeight,left:this.originImgLeft,top:this.originImgTop,opacity:1,display:"block"}),this.$hQNode){var t=this.targetSize.position;this.$hQNode.css({width:t.width,height:t.height,left:t.left,top:t.top,display:"none"})}this.hasButton&&this.$closeButton.show(),this.$overlay.css("opacity",0),this.slideObj&&this.slideObj.reset()}},{key:"_closeSingleView",value:function(){var t=this;if(!this.isCloseAniming){this.isCloseAniming=!0;var e=this.$hQNode?this.$hQNode:this.$flyNode;this.hasButton&&this.$closeButton.hide(),dn({element:e,style:{width:this.originImgWidth,height:this.originImgHeight,left:this.originImgLeft,top:this.originImgTop},speed:300},function(){t.$singleView.hide(),t._reset(),t.isCloseAniming=!1}),dn({element:this.$overlay,style:{opacity:0},speed:200})}}},{key:"play",value:function(){this.$singleView.show(),this._startZoom()}},{key:"_destroyRelated",value:function(){this.slideObj&&(this.slideObj.destroy(),this.slideObj=null)}},{key:"destroy",value:function(){this._destroyRelated(),I(this.$singleView),this.hasButton&&(I(this.$closeButton),this.$closeButton=null),this.$hQNode=null,this.$overlay=null,this.$container=null,this.$flyNode=null,this.$imgNode=null,this.$singleView.remove(),this.$singleView=null}}]),t}(),eh={};_.each("jsWidget content svgWidget canvasWidget path".split(" "),function(t,e){eh[t]=!0});var ih=["seasonId","Inapp","SearchBar","BookMarks"],nh=Xut.style.maskBoxImage,oh=Math.floor,rh=function(t,e){function i(){return'src="'+o+"\"\n            onerror=\"fixNodeError('image',this,'"+e.chapterIndex+"','"+o+'\')"\n            style="'+n+'"'}var n=t.mask?nh+":url("+q(t.mask,"content-mask")+");":"",o=e.resourcePath,r="";if(t.mask||e.isGif)r+=void 0!=nh?String.styleFormat('<img data-type="'+(t.qrCode?"qrcode":"mask")+'"\n              class="inherit-size fullscreen-background edges"\n              '+i()+"/>"):String.styleFormat('<canvas class="inherit-size fullscreen-background edges"\n                 src="'+o+'"\n                 mask="'+n+'"\n                 width="'+t.scaleWidth+'"\n                 height="'+t.scaleHeight+'"\n                 style="opacity:0;'+(jr.data.pathAddress.replace(/\//g,"/")+t.mask)+'"/>');else if("Sprite"==t.category){var a=100*t.thecount,s=100;if(t.parameter){var l=m(t.parameter);if(l&&l.matrix){var c=l.matrix.split("-");a=100*Number(c[0]),s=100*Number(c[1])}}r+=String.styleFormat('<div data-type="sprite-images"\n            class="sprite"\n            style="height:'+t.scaleHeight+"px;\n                   background-image:url("+o+");\n                   background-size:"+a+"% "+s+'%;">\n      </div>')}else r+=String.styleFormat('<img data-type="'+(t.qrCode?"qrcode":"ordinary")+'"\n            class="inherit-size fullscreen-background fix-miaomiaoxue-img"\n            '+i()+"/>");return r},ah=function(t){return String.styleFormat('<div id="'+t._id+'"\n          style="background-size:100% 100%;height:auto">\n          '+t.content+"\n    </div>")},sh=function(t,e){return tt(e.htmlstr)},lh=function(t,e){var i="",n=e.svgstr,o=t.scaleWidth;if(void 0!=n){var r=(n=tt(n)).search('viewBox="'),a=n.substring(r,r+64).replace('viewBox="',"").replace("0 0 ",""),s=a.search('"'),l=a.substring(0,s).split(" "),c=l[0],u=l[1],h=oh(o*u/c);if(h>t.scaleHeight+1){var d=oh(o),p=e.backMode?t.scaleLeft-t.scaleBackLeft:0,f=e.backMode?t.scaleTop-t.scaleBackTop:0;i=t.isScroll?String.styleFormat('<div data-type="svg"\n                style="width:'+d+"px;\n                       height:"+h+"px;\n                       margin-left:"+p+"px;\n                       margin-top:"+f+'px;">\n                '+n+"\n          </div>"):String.styleFormat('<div data-type="svg"\n                class="inherit-size"\n                style="margin-left:'+p+"px;\n                       margin-top:"+f+'px;">\n              '+n+"\n          </div>")}else i+=n}return i},ch=function(t,e){var i="";return e.fileName?e.isSvg?i+=lh(t,e):e.isJs?i+=sh(0,e):i+=rh(t,e):i+=ah(t),i},uh=function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,a=void 0,s=t.zIndex,l=(t._id,e.containerName);t.scaleBackWidth&&t.scaleBackHeight?(n=t.scaleBackWidth,o=t.scaleBackHeight,r=t.scaleBackLeft,a=t.scaleBackTop,e.backMode=!0):(n=t.scaleWidth,o=t.scaleHeight,r=t.scaleLeft,a=t.scaleTop);var c="visible";t.visible&&(c="hidden");var u=t.filterNames?t.filterNames.join(" "):"";return e.isJs?(i='<div id="'+l+'"\n                   data-behavior="click-swipe"\n                   class="fullscreen-background '+u+'"\n                   style="width:'+n+"px;\n                          height:"+o+"px;\n                          top:"+a+"px;\n                          left:"+r+"px;\n                          position:absolute;\n                          z-index:"+s+";\n                          visibility:"+c+';\n                          {10}">\n               <div data-type="scroller"\n                    style="width:'+n+'px;\n                           position:absolute;">',String.styleFormat(i)):(i='<div id="'+l+'"\n                   data-behavior="click-swipe"\n                   class="'+u+'"\n                   style="width:'+n+"px;\n                          height:"+o+"px;\n                          top:"+a+"px;\n                          left:"+r+"px;\n                          position:absolute;\n                          z-index:"+s+";\n                          visibility:"+c+'">\n              <div data-type="scroller"\n                   class="fullscreen-background "\n                   style="width:'+n+"px;\n                          height:"+o+"px;\n                          position:absolute;\n                          "+(t.background?"background-image: url("+q(t.background,"content-container")+");":"")+'">',String.styleFormat(i))},hh=function(t,e,i,n){var o=it({results:Pn([e])[0],proportion:n.pageProportion}),r='<div  id="'+t+'"\n               data-behavior="click-swipe"\n               style="width:'+o.scaleWidth+"px;\n                      height:"+o.scaleHeight+"px;\n                      top:"+o.scaleTop+"px;\n                      left:"+o.scaleLeft+"px;\n                      position:absolute;\n                      z-index:"+o.zIndex+';">';return String.styleFormat(r)},dh=function(t,e){var i=e.data,n=e.contentId,o=e.conData;-1==i.canvasRelated[t].indexOf(n)&&(i.canvasRelated[t].push(n),o.actionTypes[t]=!0),-1==i.canvasRelated.contentIdset.indexOf(n)&&i.canvasRelated.contentIdset.push(n),o.canvasMode=!0,o.zIndex&&o.zIndex>i.canvasRelated.containerIndex&&(i.canvasRelated.containerIndex=o.zIndex)},ph={Sprite:function(t,e){e.canvasRelated.enable&&dh("spiritId",t)},PPT:function(t,e){e.canvasRelated.enable&&t.conData.canvasMode&&dh("pptId",t)},SeniorSprite:function(t,e){e.canvasRelated.enable&&dh("widgetId",t)},CompSprite:function(t){var e=t.data;t.conData;/\./i.test(t.conData.md5)?console.log("复杂精灵动画数据错误"):(e.canvasRelated.enable||e.canvasRelated.onlyCompSprite||(e.canvasRelated.onlyCompSprite=!0),dh("compSpriteId",t))}},fh=function(t,e){var i=void 0,n=e.md5,o=/.gif$/i.test(n);if("AutoCompSprite"===e.category)try{var r=K((i=q(n,"content-autoCompSprite",o))+"/app.json"),a=r.spiritList[0],s=a.params.actList;i+="/"+a.params[s].ImageList[0].name,e.resource=r,e.containerName=t.containerName}catch(t){console.log("AutoCompSprite获取数据失败")}else{var l=q(n,"content",o);i=jr.launch.preload?l:o?J(l):l}t.fileName=n,t.isGif=o,t.resourcePath=i},gh=function(t,e){t.isSvg?at(t.contentData.md5,function(i){t.svgstr=i,e(t)}):t.isJs?at(t.contentData.md5,function(i){t.htmlstr=i,e(t)},"js"):e(t)},vh=function(t,e){return t&&e&&jr.debug.devtools&&Nr("content缩放模式fixRadio与headerFooterMode重叠,优先选择headerFooterMode模式"),e||(t?3:void 0)},mh=function(t){function e(t,i,n){Pr(this,e);var o=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));_.extend(o,t),o.success=i;var r=Sn(t);return r&&(t=kn(r,t)).createContentIds.length?o._dataAfterCheck(t):o._loadComplete(),o}return Ar(e,Dc),Er(e,[{key:"_checkNextTask",value:function(t,e){var i=void 0;this.base.hasAutoRun&&"strAfter"===t&&(i=!0),this._$$checkNextTask("内部contents",function(){e()},i)}},{key:"_dataAfterCheck",value:function(t){var e=this;this._checkNextTask("dataAfter",function(){Tn(t),Nn(t,e.$$floatDivertor,function(i){t.contentHtmlBoxIds=i.contentHtmlBoxIds,t.contentsFragment={},Xut.IBooks.runMode()?_.each(i.idFix,function(e){t.contentsFragment[e]=t.$containsNode.find("#"+e)[0]}):(t.contentsFragment=Dn(i.contentStr),delete i.contentStr),t.containerPrefix=i.containerPrefix,Xut.Contents.contentsFragment[t.chapterId]||Xut.Contents.contentsFragment[t.chapterId],Xut.Contents.contentsFragment[t.chapterId]=t.contentsFragment,e._dataStrCheck(t,i)})})}},{key:"_dataStrCheck",value:function(t,e){var i=this;this._checkNextTask("strAfter",function(){Object.keys(t.zoomBehavior).length&&(i.zoomObjs=gn(t),i.zoomBehavior=t.zoomBehavior),e.textFx.length&&(i.textFxObjs=Ni(t,e.textFx)),Ju.seasonRelated=t.seasonRelated,sn(function(n){i._eventAfterCheck(t,n,e.headerFooterMode)},t,e.contentDataset,i.$$floatDivertor)})}},{key:"_eventAfterCheck",value:function(t,e,i){var n=this;this._checkNextTask("eventAfter",function(){t.taskCount=1;var o=function(){var t=e.iscrollHooks,i=void 0;if(t.length)for(;i=t.shift();)i()},r=function(){if(1===t.taskCount)return e&&o(),void n._applyAfterCheck();--t.taskCount};if(n._$$createFloatLayer(r,t,n.base.floatGroup),Xut.IBooks.runMode())r();else{var a=Rn(t.contentsFragment,i),s=a.bodyContent,l=a.headerFooterContent,c=0;if(l.length&&++c,s.length&&++c,!c)return void r();var u=function(){1!==c?--c:r()};l.length&&qa({container:t.$headFootNode,content:a.headerFooterContent},u),s.length&&qa({container:t.$containsNode,content:a.bodyContent},u)}})}},{key:"_applyAfterCheck",value:function(){var t=this;this._checkNextTask("applyAfter",function(){t._loadComplete(!0)})}},{key:"_loadComplete",value:function(){this.success&&this.success()}},{key:"_destroy",value:function(){this.textFxObjs&&(_.each(this.textFxObjs,function(t){t.destroy()}),this.textFxObjs=null),Xut.Contents.contentsFragment[this.chapterId]&&delete Xut.Contents.contentsFragment[this.chapterId],this.zoomBehavior&&Object.keys(this.zoomBehavior).length&&(_.each(this.zoomBehavior,function(t){t.off&&t.off()}),this.zoomBehavior=null,_.each(this.zoomObjs,function(t){t.destroy()}),this.zoomObjs=null),this.canvasRelated=null,this.pageBaseHooks=null,this.$containsNode=null,this.rootNode=null,this.contentsFragment=null}}]),e}(),yh=window.MMXCONFIG?function(){return!(window.MMXCONFIG.back||Xut.Application.IsBackStage())}:function(){return!0},_h={},bh=null,xh=function(){},wh=function(t,e){var i=function(){var n=t.length;return function(){1===n&&(e&&e(),i=null),n--}}();_.each(t,function(t,e){Xut.CreateFilter.has(t.pageId,t.id)?i():t.autoPlay(i)})},kh=function(t,e,i,n){void 0===e&&(e=Xut.Presentation.GetPageIndex());var o=t.baseGetPageId(e),r=void 0;_.each(i,function(i,a){(r=jh[i.actType])&&r.autoPlay&&r.autoPlay({id:i.id,pageType:n,rootNode:t.getContainsNode(),chapterId:o,category:i.category,autoPlay:i.autoPlay,pageIndex:e})})},Th=function(t){4!==!jr.launch.visualMode&&t&&t()},Sh=function(t){(t=JSON.parse(t)).seasonId?Xut.View.GotoSlide(t.seasonId,t.chapterId):Xut.View.GotoSlide(t)},Ch={createDom:function(t,e,i,n,o,r){var a=t._id,s=t.md5,l=t.actType,c=t.scaleWidth,u=t.scaleHeight,h=t.scaleTop,d=t.scaleLeft;return String.styleFormat('<div id="'+l+"_"+a+'"\n            data-belong="'+r+'"\n            data-delegate="action"\n            style="cursor:pointer;\n                   width:'+c+"px;\n                   height:"+u+"px;\n                   left:"+d+"px;\n                   top:"+h+"px;\n                   background-size:100% 100%;\n                   position:absolute;\n                   z-index:"+o+";\n            "+(s?"background-image: url("+q(s,"hot-action")+");":"")+'">\n      </div>')},trigger:function(t){Un(t)}},Ih={},Ph=function(t){var e=Ih[t];if(e)return delete Ih[t],e},Eh={createDom:function(t,e,i,n,o,r){var a=t._id,s=(t.md5,t.actType,t.category),l=t.itemArray,c=t.scaleWidth,u=t.scaleHeight,h=t.scaleTop,p=t.scaleLeft;if(!c||!u)return"";var f=void 0,g=void 0,v=void 0,y=void 0,_=void 0,b="";if(l){if((l=m(l)).length){var x=l[0],w=l[1];x&&(g=x.startImg?x.startImg:"",v=x.script?x.script:""),w&&(y=x.stopImg?x.stopImg:"",_=w.script?x.script:"")}else o=l.zIndex,f=l.display,g=l.startImage,v=l.startScript,y=l.stopImage,_=l.stopScript;Ih[a]={},g&&(Ih[a].startImage=g,g="background-image:url("+q(g,"hot-media")+");"),v&&(Ih[a].startScript=v),y&&(Ih[a].stopImage=y,y="background-image:url("+q(y,"hot-media")+");"),_&&(Ih[a].stopScript=_)}"webpage"==s&&c>200&&u>100&&c<=jr.visualSize.width&&u<=jr.visualSize.height&&(b='<div id="icon_'+a+'"\n              type="icon"\n              style="width:74px;\n                     height:74px;\n                     top:'+(u-74)/2+"px;\n                     left:"+(c-74)/2+'px;\n                     position:absolute;background-image:url(images/icons/web_hotspot.png)">\n         </div>');var k=d(s),T=g||"";He(i,a)&&(T=y);var S=!1,C=Ue(k,a);C&&C.isfloat&&(S=!0);var I="hidden"===f?"visibility:hidden;":"";return{html:String.styleFormat('<div id="'+k+"_"+a+'"\n            data-belong="'+r+'"\n            data-delegate="'+s+'"\n            style="width:'+c+"px;\n                   height:"+u+"px;\n                   left:"+p+"px;\n                   top:"+h+"px;\n                   z-index:"+o+";\n                   "+I+"\n                   "+T+'\n                   background-size:100% 100%;\n                   position:absolute;">\n            '+b+"\n       </div>"),hasFloat:S}},autoPlay:function(t){var e=t.id,i=t.pageType,n=t.category,o=t.rootNode,r=t.pageIndex,a=t.chapterId;n&&("audio"==n?ze(a,e,Ph(e)):((o=o.closest("#"+Xut.View.GetPageNodeIdName(i,r,a))).length||(o=o.closest("li")),ti({pageType:i,rootNode:o,chapterId:a,pageIndex:r,activityId:e})))},trigger:function(t){var e=t.id,i=t.target,n=t.rootNode,o=t.pageIndex,r=t.activityId,a=t.columnData,s=void 0===a?{}:a;if(s.isColumn)"Audio"===s.type?We({activityId:r,columnData:s,chapterId:s.chapterId,data:Ph(e)}):ei({chapterId:s.chapterId,columnData:s,activityId:r,rootNode:n,pageIndex:o});else{var l=i.getAttribute("data-delegate");if(l){var c=i.getAttribute("data-belong"),u=Xut.Presentation.GetPageId(c,o);"audio"==l?We({chapterId:u,activityId:r,data:Ph(e)}):ei({chapterId:u,activityId:r,rootNode:n,pageIndex:o,pageType:c})}}},destory:function(){}},Mh={},Ah=function(t,e){Mh[t]||(Mh[t]=[]),Mh[t].push(e),Mh[t].length>1||N(t,function(){_.each(Mh[t],function(t){t&&t()}),Mh[t]=null,delete Mh[t]})},Oh=function(){function t(e,i){Pr(this,t),this.data=e,this.options=i,this.scrolls=[],this._init()}return Er(t,[{key:"_init",value:function(){for(var t=this.options,e=this.data.contentPrefix,i=0;i<t.length;i++){var n=this._create(t[i],e);n&&this.scrolls.push(n)}}},{key:"_createWrapper",value:function(){return String.styleFormat('<div data-type="area-wrapper"\n                  style="position:absolute;width:100%; height:100%;overflow:hidden;">\n                <ul data-type="area-scroller"\n                     data-behavior="disable"\n                     style="position:absolute; width:100%; height:100%;overflow:hidden;">\n                </ul>\n             </div>')}},{key:"_create",value:function(t,e){var i=t.id,n=e+i,o=m(t.theTitle),r=o["data-widgetscrollareaList"].split(",");if(0!=r.length){var a=$("#"+n);if(0!=a.length){var s=o["data-widgetscrollareascrolltype"]?o["data-widgetscrollareascrolltype"]:"xy",l=(s=s.toLowerCase()).indexOf("x")>-1,c=s.indexOf("y")>-1,u=void 0,h=a.attr("data-iscroll");if(h){if("visible"===h)return u=a.children('div[data-type="area-wrapper"]'),this._bindIscroll(u[0],l,c,i)}else{Xut.Contents.ResetDefaultControl("page",n,"");var d={x:parseInt(a.css("left")),y:parseInt(a.css("top")),w:parseInt(a.css("width")),h:parseInt(a.css("height"))},p=this._getSize(r,e),f=p.min,g=p.max,v=(u=$(this._createWrapper())).children();a.append(u),this._setScrollerStyle(g,f,d,l,c,v);var y=this._resetContents(r,e,d,l,c,f),_=this._createSnapContainer(y,v,i,l,c);if(l)for(b=0;b<r.length;b++){x=e+r[b];(w=$("#"+x)).appendTo(_[Math.floor(b/y.contentsPerSnapX)])}if(c)for(var b=0;b<r.length;b++){var x=e+r[b],w=$("#"+x);w.appendTo(_[Math.floor(b/y.contentsPerSnapY)])}var k=_.parent();if(l&&parseInt(k.css("width"))<d.w&&(l=!1),c&&parseInt(k.css("height"))<d.h&&(c=!1),c||l)return a.attr("data-iscroll","visible"),1==_.length?this._bindIscroll(u[0],l,c):this._bindIscroll(u[0],l,c,i);a.attr("data-iscroll","hidden")}}else console.log(i+"not find obj")}}},{key:"_bindIscroll",value:function(t,e,i,n){return n?Ri(t,{scrollX:!!e,scrollY:!!i,snap:".contentsContainer"+n,scrollbars:"custom"}):Ri(t,{scrollX:!!e,scrollY:!!i,scrollbars:"custom"})}},{key:"_getSize",value:function(t,e){for(var i={l:null,t:null},n={l:null,t:null},o=void 0,r=0;r<t.length;r++)if(0!=(o=$("#"+e+t[r])).length){var a=parseInt(o.css("width")),s=parseInt(o.css("left")),l=parseInt(o.css("height")),c=parseInt(o.css("top")),u=s,h=c;(null==n.l||n.l>u)&&(n.l=u),(null==n.t||n.t>h)&&(n.t=h);var d=a+s,p=l+c;(null==i.l||i.l<d)&&(i.l=d),(null==i.t||i.t<p)&&(i.t=p)}else console.log(t[r]+" not find");return{min:n,max:i}}},{key:"_setScrollerStyle",value:function(t,e,i,n,o,r){var a=0,s=0,l={x:0,y:0},c={x:0,y:0};e.l<i.x?l.x=e.l:l.x=i.x,e.t<i.y?l.y=e.t:l.y=i.y,t.l>i.x+i.w?c.x=t.l:c.x=i.x+i.w,t.t>i.y+i.h?c.y=t.t:c.y=i.y+i.h,a=!n&&c.x-l.x>i.w?i.w:c.x-l.x,s=!o&&c.y-l.y>i.h?i.h:c.y-l.y,r.css({width:a+"px",height:s+"px"})}},{key:"_resetContents",value:function(t,e,i,n,o,r){for(var a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=0,p=0,f=new Array,g=new Array,v=t.length,m=0;m<v;m++){var y=e+t[m],_=$("#"+y);if(Xut.Contents.ResetDefaultControl("page",y,""),"true"!=_.attr("data-iscroll")){var b=parseInt(_.css("left")),x=parseInt(_.css("top"));parseInt(_.css("width"));r.l<i.x&&n?b-=r.l:b-=i.x,r.t<i.y&&o?x-=r.t:x-=i.y,_.css("left",b),_.css("top",x),f.push(b),g.push(x),_.css("visibility","inherit"),_.attr("data-iscroll","true")}}if(f=this._bubbleSort(f),g=this._bubbleSort(g),n){for(w=0;w<f.length;w++)(k=f[w])<i.w?d++:a||(a=d,u=k);a?l=Math.ceil(t.length/a):(a=t.length,l=1,u=i.w)}if(o){for(var w=0;w<g.length;w++){var k=g[w];k<i.h?p++:s||(s=p,h=k)}for(var T=1,S=0;S<v;S++){var y=e+t[S],_=$("#"+y),x=parseInt(_.css("top"));if(S>0){var C=e+t[S-1],I=$("#"+C);if(!(x<parseInt(I.css("top"))+10))break;T++}}s?c=Math.ceil(t.length/s):(s=Math.floor(t.length/T)+1,c=1,h=i.h)}return{contentsPerSnapX:a,snapXCount:l,snapContainerWidth:u,contentsPerSnapY:s,snapYCount:c,snapContainerHeight:h}}},{key:"_bubbleSort",value:function(t){for(var e=0;e<t.length-1;e++)for(var i=0;i<t.length-1-e;i++)if(t[i]>t[i+1]){var n=t[i];t[i]=t[i+1],t[i+1]=n}return t}},{key:"_createSnapContainer",value:function(t,e,i,n,o){var r="";if(n)for(var a=parseInt(e.css("width")),s=t.snapXCount,l=t.snapContainerWidth,c=a-(s-1)*l,u=0;u<t.snapXCount;u++)r+='<li class="contentsContainer'+i+"\"\n                                      style='width:"+(u==t.snapXCount-1?c:l)+"px;height:100%;float:left;'>\n                                  </li>";else if(o){parseInt(e.css("height")),t.snapYCount;for(var h=t.snapContainerHeight,u=0;u<t.snapYCount;u++)r+='<li class="contentsContainer'+i+"\"\n                                      style='height:"+h+"px;width:100%;float:left;'>\n                                  </li>"}return(r=$(r)).appendTo(e),r}},{key:"destroy",value:function(){if(this.scrolls.length){for(var t=0;t<this.scrolls.length;t++){var e=this.scrolls[t];e&&(e.scrollTo(0,0),e.destroy()),this.scrolls[t]=null}this.scrolls=null}this.data.container=null,this.options=null}}]),t}(),Nh=function(t,e,i){var n=[];return e.content&&_.each(e.content,function(t){n.push(t)}),Xut.Contents.GetPageWidgetData(t,n,i)},Dh=function(){function t(e){Pr(this,t),_.extend(this,e),this.pageObj=null,this._init()}return Er(t,[{key:"_getOptions",value:function(){return[Zn(this.inputPara,this.scrollPaintingMode,this.calculate),Nh(this.pageType,this.inputPara,this.pageProportion)]}},{key:"_resetOpacityVisibility",value:function(t,e){for(var i=new Array,n=0;n<e.length;n++)!function(){var o=e[n],r=$("#"+o.idName),a=r.css("visibility");if("hidden"==a){if(0==n){var s=e[0],l=t.contentPrefix,c=void 0,u=void 0,h=m(s.theTitle)["data-widgetscrollareaList"].split(",");h[0]&&(c=l+h[0],(u=$("#"+c)).css("visibility","hidden")),i.push(function(){u.css("visibility","inherit")})}var d=r.css("opacity"),p=function(t,e){arguments.length>1?r.css(t,e):r.css(t)};0==d?(p("visibility","visible"),i.push(function(){p("visibility",a)})):(p({opacity:0,visibility:"visible"}),i.push(function(){p({visibility:a,opacity:d})}))}}();return i}},{key:"_init",value:function(){if(60==this.widgetId&&"scrollarea"==this.widgetName){var t=this._getOptions(),e=this._resetOpacityVisibility(t[0],t[1]);this.pageObj=new Oh(t[0],t[1]),_.each(e,function(t,e){t()}),e=null}else if(72==this.widgetId&&"spirit"==this.widgetName){t=this._getOptions();this.pageObj=nu(t[0],t[1])}else"function"!=typeof window[this.widgetName+"Widget"]?(this.hasload=!0,Qn(this._executive,this)):this._executive()}},{key:"_executive",value:function(){if("function"==typeof window[this.widgetName+"Widget"]){var t=this._getOptions();this.pageObj=new window[this.widgetName+"Widget"](t[0],t[1])}else console.error("Function ["+this.widgetName+"Widget] does not exist.")}},{key:"play",value:function(){return this.pageObj.play()}},{key:"toggle",value:function(){this.pageObj&&this.pageObj.toggle&&this.pageObj.toggle()}},{key:"stop",value:function(){this.pageObj&&this.pageObj.stop&&this.pageObj.stop()}},{key:"destroy",value:function(){this.hasload&&Kn(),this.pageObj&&this.pageObj.destroy&&this.pageObj.destroy()}}]),t}(),Rh=function(){function t(e){var i=this;return Pr(this,t),_.extend(this,e),this._$wapper=this._createWapper(),Xut.nextTick({container:this.rootNode,content:this._$wapper},function(){i.rootNode=null,i._bindMessage()}),this}return Er(t,[{key:"_createWapper",value:function(){return 0!==this.zIndex&&(this.zIndex=this.zIndex||Xut.zIndexlevel()),this._$iframe=this._createIframe(),$(String.styleFormat('<div id="widget_iframe_'+this.id+'"\n            style="z-index:'+this.zIndex+";\n                   width:"+this.width+"px;\n                   height:"+this.height+"px;\n                   top:"+this.top+"px;\n                   left:"+this.left+'px;\n                   position:absolute;">\n       </div>')).append(this._$iframe)}},{key:"_createIframe",value:function(){var t=this,e=document.createElement("iframe"),i=jr.data.rootPath+"/widget/"+this.widgetId+"/index.html?xxtParaIn="+this.key;return e.id="iframe_"+this.id,e.src=i,e.style.width="100%",e.style.height="100%",e.sandbox="allow-scripts allow-same-origin",e.frameborder=0,e.attachEvent?e.attachEvent("onload",function(){t._iframeComplete()}):e.onload=function(){t._iframeComplete()},e}},{key:"_iframeComplete",value:function(){var t=Jn(this.inputPara),e=this._$iframe.offsetWidth,i=this._$iframe.offsetHeight;.98*t.screenSize.width<=e&&.98*t.screenSize.height<=i?Xut.View.Toolbar({show:"button",hide:"controlBar"}):.7*t.screenSize.width<=e&&.7*t.screenSize.height<=i&&Xut.View.Toolbar({show:"button"}),PMS.send({target:this._$iframe.contentWindow,origin:"*",type:"loadData",data:t,success:function(){},error:function(){}}),this.state=!0}},{key:"_bindMessage",value:function(){var t=this,e=this.id,i=this._$wapper,n=$(this._$iframe);PMS.bind("onHideWapper"+e,function(){i.hide(),t.state=!1},"*"),PMS.bind("onFullscreen"+e,function(e){if(n.length){if(ni(),i.css({width:"100%",height:"100%",zIndex:Xut.zIndexlevel(),top:0,left:0}),0==e.full){var o=document.body,r=parseInt(o.clientWidth),a=parseInt(o.clientHeight),s=function(t,e,i){var n=t,o=t/i;return o>e&&(n=(o=e)*i),{w:parseInt(n),h:parseInt(o)}}(r,a,t.width/t.height),l=(r-s.w)/2,c=(a-s.h)/2;n.css({width:s.w,height:s.h,position:"absolute",top:c,left:l})}Xut.View.Toolbar("hide")}},"*"),PMS.bind("onReset"+e,function(){n.length&&(i.css({zIndex:t.zIndex,width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px"}),n.css({width:"100%",height:"100%",position:"",top:"0",left:"0"}),Xut.View.Toolbar("show"))},"*"),PMS.bind("onHideToolbar"+e,function(){Xut.View.HideToolBar()},"*"),PMS.bind("scrollToPage"+e,function(t){Xut.View.GotoSlide(t.ppts,t.pageIndex)},"*")}},{key:"_send",value:function(t){PMS.send({type:t,origin:"*",target:this._$iframe.contentWindow,url:this._$iframe.src,success:function(){}})}},{key:"_perform",value:function(t,e){var i=this;this.state?this._$wapper.hide():this._$wapper.show(),this._send(t),setTimeout(function(){i.state=e},0)}},{key:"_start",value:function(){this._perform("onShow",!0)}},{key:"_stop",value:function(){this._perform("onHide",!1)}},{key:"stop",value:function(){this._stop()}},{key:"toggle",value:function(){this.state?this._stop():this._start()}},{key:"destroy",value:function(){var t=this;this._send("onDestory"),PMS.unbind(),setTimeout(function(){t._$iframe=null,t._$wapper.remove(),t._$wapper=null},0)}}]),t}(),Xh=function(t){Ju.containerObj("current").$$mediator.$injectionComponent=t},$h=function(t,e,i){Xh({pageType:e.pageType,pageIndex:e.pageIndex,widget:new i(e)})},Bh={iframe:function(t){$h(0,t,Rh)},widget:function(t){$h(0,t,Rh)},js:function(t){$h(0,t,Dh)},page:function(t){$h(0,t,Dh)},svg:function(t){$h(0,t,Dh)},canvas:function(t){$h(0,t,Dh)},webgL:function(t){$h(0,t,Dh)}},Lh=function(t){return t.widgetId?_.extend(t,Xut.data.query("Widget",t.widgetId)):_.extend(t,Xut.data.query("Widget",t.activityId,"activityId")),t},Fh=function(t,e){it({results:t,getStyle:e,proportion:e.pageProportion});return t.width=t.scaleWidth,t.height=t.scaleHeight,t.top=t.scaleTop,t.left=t.scaleLeft,t},Hh=function(t){var e=void 0;return(e=t.inputPara)?m(e):{}},zh={createDom:function(t,e,i,n,o,r){var a=t._id,s=t.md5,l=t.autoPlay,c=t.actType,u=t.scaleWidth,h=t.scaleHeight,d=t.scaleTop,p=t.scaleLeft;return l?"":String.styleFormat('<div id="'+c+"_"+a+'"\n            data-belong="'+r+'"\n            data-delegate="'+c+'"\n            style="cursor:pointer;\n                   background-size:100% 100%;\n                   position:absolute;\n                   width:'+u+"px;\n                   height:"+h+"px;\n                   left:"+p+"px;\n                   top:"+d+"px;\n                   z-index:"+o+";\n            "+(s?"background-image: url("+q(s,"hot-widget")+");":"")+'">\n      </div>')},autoPlay:function(t){var e=t.id;to({rootNode:t.rootNode,pageType:t.pageType,pageIndex:t.pageIndex,activityId:e,isAutoPlay:!0})},trigger:function(t){return to(t)}},Wh=function(){function t(e){Pr(this,t),e.id=parseInt(e.id),e.actType=e.type,_.extend(this,e),this.setup()}return Er(t,[{key:"setup",value:function(){var t=this,e=this.data.note,i=Xut.config.proportion,n=Math.round((i.width+i.height)/2*jr.data.iconHeight),o=Math.round(n/2),r='<div class="xut-shownote-box" style="z-index:'+Xut.zIndexlevel()+'"><div class="close" style="width:'+n+"px;height:"+n+"px;top:-"+o+"px;right:-"+o+'px"></div><div class="content">'+e+"</div></div>";return this._dom=$(r),this._dom.find(".close").on("touchend mouseup",function(){t.toggle()}),$(this.rootNode).append(this._dom),this.show(),this.iscroll=Ri(this._dom.find(".content")[0],{scrollbars:"custom",fadeScrollbars:!0}),!0}},{key:"toggle",value:function(){this.isAutoPlay||(this.state?this.hide():this.show())}},{key:"stop",value:function(){return!!this.state&&(this.toggle(),!0)}},{key:"hide",value:function(){this.state=!1,$("#ShowNote_"+this.id).css("background-image","url(images/icons/hideNote.png)"),this._dom.hide()}},{key:"show",value:function(){this.state=!0,$("#ShowNote_"+this.id).css("background-image","url(images/icons/showNote.png)"),this._dom.show()}},{key:"destroy",value:function(){this._dom&&(this._dom.find(".close").off(),this._dom&&this._dom.hide().remove()),this.iscroll&&(this.iscroll.destroy(),this.iscroll=null)}}]),t}(),jh={Video:Eh,Audio:Eh,Webpage:Eh,Action:Ch,Widget:zh,ShowNote:{createDom:function(t,e,i,n,o,r){var a=t._id,s=(t.md5,t.actType,t.category,t.itemArray,t.scaleWidth),l=t.scaleHeight,c=(t.scaleTop,t.scaleLeft,(s+l)/2*jr.data.iconHeight);return String.styleFormat('<div id="ShowNote_'+a+'"\n            class="xut-showNote"\n            data-belong ="'+r+'"\n            data-delegate="shownote"\n            style="width:'+c+"px;height:"+c+'px">\n       </div>')},trigger:function(t){t.data=Xut.Presentation.GetPageData(t.pageIndex),new Wh(t)},autoPlay:function(){},destroy:function(t){this&&this.destroy()}}},Gh=function(t){function e(t,i,n){Pr(this,e);var o=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return Xut.IBooks.runMode()?(i(),Or(o)):(t.activitys&&t.activitys.length?(o.success=i,o.$containsNode=t.$containsNode,o.pageBaseHooks=t.pageBaseHooks,o.pipeData=t,o._checkNextTask(o._create(t))):i(),o)}return Ar(e,Dc),Er(e,[{key:"_create",value:function(){var t=this,e=this.pipeData,i=e.pageType,n=e.activitys,o=e.chpaterData,r=e.chapterId,a=e.chapterIndex,s=[],l=function(e,n){n=it({results:n,proportion:t.pipeData.getStyle.pageProportion});var l=jh[e].createDom(n,o,r,a,Xut.zIndexlevel(),i);_.isString(l)?s.push(l):l.hasFloat?t.$$floatDivertor[i].html.push(l.html):s.push(l.html)};return n.forEach(function(t,e){var i=t.actType||t.animation;switch(!i&&t.note&&(t.actType=i="ShowNote"),i){case"ShowNote":case"Action":case"Widget":case"Audio":case"Video":l(i,t)}}),s.join("")}},{key:"_checkNextTask",value:function(t){var e=this;this._$$checkNextTask("内部Component",function(){e._float(function(){e._render(t)})})}},{key:"_float",value:function(t){var e=this;this.pipeData.taskCount=0;var i=function(){1!==e.pipeData.taskCount?--e.pipeData.taskCount:t()};this._$$createFloatLayer(i,this.pipeData),0===this.pipeData.taskCount&&(i=null,t())}},{key:"_render",value:function(t){var e=this;t?Xut.nextTick({container:this.$containsNode,content:$(t)},function(){e._destroy(),e.success()}):(this._destroy(),this.success())}},{key:"_destroy",value:function(){this.$containsNode=null}}]),e}(),Yh=Xut.style.transitionDuration,Vh=function(t,e,i,n){t&&("v"===jr.launch.scrollMode?Xut.style.setTranslate({node:t,speed:i,y:e}):Xut.style.setTranslate({node:t,speed:i,x:e}),n&&n())},Uh={set:function(t,e){t&&("v"===jr.launch.scrollMode?Xut.style.setTranslate({node:t,y:e}):Xut.style.setTranslate({node:t,x:e}))},reset:function(t){t&&(Xut.style.setTranslate({node:t,x:0,y:0}),t.style[Yh]="")},flipMove:function(){Vh.apply(void 0,arguments)},flipRebound:function(){Vh.apply(void 0,arguments)},flipOver:function(){Vh.apply(void 0,arguments)}},qh=function(t){return"v"===jr.launch.scrollMode?Xut.style.setTranslateStyle(0,t):Xut.style.setTranslateStyle(t,0)},Kh={flipMove:{prev:function(t,e){var i=t("middle"),n=t("left");return i&&i.visualLeftInteger?n&&n.visualLeftInteger?-n.visualWidth+e:e-n.visualWidth-i.visualLeftInteger:n&&n.visualLeftInteger?e-n.visualWidth+n.visualLeftInteger:e-n.visualWidth},next:function(){}},flipRebound:{prev:function(t){var e=t("middle"),i=t("left");return e&&e.visualLeftInteger?i&&i.visualLeftInteger?-i.visualWidth:-(i.visualWidth+e.visualLeftInteger):i&&i.visualLeftInteger?-(i.visualWidth-i.visualLeftInteger):-i.visualWidth},next:function(){}},flipOver:{prev:function(t,e){return 0},next:function(){}}},Qh={flipMove:{prev:function(){},next:function(){}},flipOver:{prev:function(t,e){var i=t("middle"),n=t("left");return i&&i.visualLeftInteger?n&&n.visualLeftInteger?i.visualWidth:i.visualWidth-i.visualLeftInteger:n&&n.visualLeftInteger?i.visualWidth+n.visualLeftInteger:i.visualWidth},next:function(t){var e=t("middle"),i=t("right");return e&&e.visualLeftInteger?i&&i.visualLeftInteger?-e.visualWidth:-(e.visualWidth-e.visualLeftInteger):i&&i.visualLeftInteger?-(e.visualWidth+i.visualLeftInteger):-i.visualWidth}}},Zh={flipMove:{prev:function(){},next:function(t,e){var i=t("middle"),n=t("right");return i&&i.visualLeftInteger?n&&n.visualLeftInteger?e+n.visualWidth:e+i.visualWidth-i.visualLeftInteger:n&&n.visualLeftInteger?e+i.visualWidth+n.visualLeftInteger:e+n.visualWidth}},flipRebound:{prev:function(){},next:function(t){var e=t("right");if(e&&5===e.pageVisualMode)return e.visualWidth/2;var i=t("middle");return i&&i.visualLeftInteger?e&&e.visualLeftInteger?e.visualWidth:i.visualWidth-i.visualLeftInteger:e&&e.visualLeftInteger?i.visualWidth+e.visualLeftInteger:i.visualWidth}},flipOver:{prev:function(){},next:function(){return 0}}},Jh={flipMove:{prev:function(t,e){return e-t("top").visualHeight}},flipRebound:{prev:function(t){return-t("top").visualHeight}},flipOver:{prev:function(){return 0}}},td={flipOver:{prev:function(t){return t("middle").visualHeight},next:function(t){return-t("middle").visualHeight}}},ed={flipMove:{next:function(t,e){return e+t("bottom").visualHeight}},flipRebound:{next:function(t){return t("bottom").visualHeight}},flipOver:{next:function(){return 0}}},id=function(t){if(void 0===t)return{};var e=Xut.Presentation.GetPageBase(t);return e&&e.getStyle||{}},nd=function(t,e,i,n){return function(o){return o&&o[t]&&o[t][e]&&o[t][e](n,i)}},od=function(t){var e=t.action,i=t.distance,n=t.direction,o=t.frontIndex,r=t.middleIndex,a=t.backIndex,s=t.orientation;s||(s=jr.launch.scrollMode);var l=0,c=0,u=0,h=void 0,d=nd(e,n,i,function(t){var e=void 0;switch(t){case"left":case"top":e=o;break;case"right":case"bottom":e=a;break;case"middle":e=r}return id(e)});return p(e,["flipMove","flipRebound"])&&("h"===s?(l=d(Kh),u=d(Zh)):(l=d(Jh),u=d(ed)),c=i),"flipOver"===e&&("h"===s?(l=d(Kh),c=d(Qh),u=d(Zh)):(l=d(Jh),c=d(td),u=d(ed)),h="prev"===n?l:u),[l,c,u,h]},rd=function(t){var e=t.action,i=t.distance,n=t.direction,o=(t.frontIndex,t.middleIndex),r=t.backIndex,a=0,s=o,l=jr.screenSize.width;return"next"===n&&("flipMove"!==e&&"flipRebound"!==e||(a=-l*o+i),"flipOver"===e&&(a=-l*r)),[0,a,0,s]},ad="data-linearVisual",sd=600,ld=Xut.style.transitionDuration,cd=Math.abs,ud=function(t){return t.touches&&t.touches.length>1},hd=function(t){function e(t){var i=t.scope,n=void 0===i?"child":i,o=t.snap,r=void 0===o||o,a=t.snapSpeed,s=void 0===a?800:a,l=t.banMove,c=void 0!==l&&l,u=t.momentum,h=void 0===u||u,d=t.scrollX,p=void 0===d||d,f=t.scrollY,g=void 0!==f&&f,v=t.mouseWheel,m=void 0!==v&&v,y=t.hasHook,_=void 0!==y&&y,b=t.borderBounce,x=void 0===b||b,w=t.stopPropagation,k=void 0!==w&&w,T=t.preventDefault,S=void 0===T||T,C=t.insideScroll,I=void 0!==C&&C,P=t.container,E=t.visualIndex,M=t.totalIndex,A=t.actualWidth,O=t.actualHeight,N=t.hasMultiPage,D=t.sectionRang,R=t.visualWidth;Pr(this,e);var X=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return I&&(!R||R&&A<R)&&(I=!1,Nr("启动了insideScroll，但是条件还不成立")),e.mixProperty(X,{container:P,visualIndex:E,totalIndex:M,actualWidth:A,actualHeight:O,visualWidth:R}),X.options={scope:n,snap:r,banMove:c,scrollX:p,scrollY:g,momentum:h,mouseWheel:m,insideScroll:I,hasHook:_,borderBounce:x,stopPropagation:k,preventDefault:S,hasMultiPage:N,sectionRang:D},X.direction="",X.enabled=!0,X._defaultFlipTime=c?0:s,X._speedRate=X._originalRate=X._defaultFlipTime/(p?A:O),X.pagePointer=oo(E,M),X._recordRreTick={ation:null,time:null},X._init(),X.keepDistX=0,X.keepDistY=0,X.insideScrollRange={min:.01*R,max:R-.01*R},X}return Ar(e,Ks),Er(e,null,[{key:"mixProperty",value:function(t,e){for(var i in e)t[i]=e[i]}},{key:"getDate",value:function(){return+new Date}},{key:"getConfig",value:function(){var t=!0,e=!1;return"v"===jr.launch.scrollMode&&(t=!1,e=!0),{scrollY:e,scrollX:t,banMove:!1===jr.launch.gestureGlide}}}]),Er(e,[{key:"handleEvent",value:function(t){this.options.stopPropagation&&t.stopPropagation(),P({start:function(t){this.options.hasHook||this._stopDefault(t),this._onStart(t)},move:function(t){this._stopDefault(t),this._onMove(t)},end:function(t){this.options.hasHook||this._stopDefault(t),this._onEnd(t)},transitionend:function(t){this._stopDefault(t),this._onComplete(t)}},this,t)}},{key:"_onStart",value:function(t){if(this.enabled&&!ud(t)){var i=e.getDate();if(!(this._clickTime&&i-this._clickTime<350)){this._clickTime=i;var n=void 0,o=M(t);o?(this.$$emit("onFilter",function(){n=!0},o,t),n||(this._stopped=!1,this._banBounce=!1,this._hasTap=!0,this._isInvalid=!1,this._moved=!1,this._behavior="swipe",this._directionBan=!1,this.orientation="",this.distX=0,this.distY=0,this.touchX=0,this.touchY=0,this.pointX=o.pageX,this.pointY=o.pageY,this.firstMovePosition=0,this.startTime=e.getDate())):this._stopped=!0}}}},{key:"_onMove",value:function(t){if(this.enabled&&this._hasTap&&!this._stopped){this._moved=!0;var e=M(t),i=e.pageX-this.pointX,n=e.pageY-this.pointY,o=cd(i),r=cd(n),a=void 0;o>r?(this.orientation||(this.orientation="h"),i,a=o):r>=o&&(this.orientation||(this.orientation="v"),n,a=r),this.options.scrollX&&"v"===this.orientation?(a>80&&(this._behavior="reverse"),this._directionBan="v"):this.options.scrollY&&"h"===this.orientation&&(a>80&&(this._behavior="reverse"),this._directionBan="h");var s=void 0;if("h"===this.orientation?(this.touchX=this._getDist(i,o),s=this.distX=this.touchX+this.keepDistX,this.setDirection(i)):"v"===this.orientation&&(this.touchY=this._getDist(n,r),s=this.distY=this.touchY+this.keepDistY,this.setDirection(n)),!this._directionBan){var l=s;if(!(a<=10)){"prev"===this.direction?l=this.distX=this.distY=s-10:"next"===this.direction&&(l=this.distX=this.distY=s+10);var c=this;this._distributeMove({distance:l,speed:0,action:"flipMove",setPageBanBounce:function(t){if(!c.options.borderBounce&&(c._banBounce=c._borderBounce(t)))return!0;if(c.options.insideScroll){var e=Math.abs(t);if(c.firstMovePosition||(c.firstMovePosition=e),"next"===c.direction){if(e>=c.visualWidth)return c.firstMovePosition>c.insideScrollRange.max?!c.options.hasMultiPage&&(c._setKeepDist(-c.visualWidth,0),c._banBounce=!0,!0):(c._setKeepDist(-c.visualWidth,0),c._banBounce=!0,!0)}else if("prev"===c.direction&&t>=0)return!(c.firstMovePosition<c.insideScrollRange.min)&&(c._setKeepDist(0,0),c._banBounce=!0,!0)}},setSwipeInvalid:function(){c._isInvalid=!0}})}}}}},{key:"_onEnd",value:function(t){if(this.enabled&&!this._banBounce&&!this._stopped&&!ud(t)){this._hasTap=this._moved=!1;var i=void 0;this.startTime&&(i=e.getDate()-this.startTime);var n=cd(this.distX),o=cd(this.distY),r=this.orientation;if(!n&&!o||n&&n<5&&!o||o&&o<5&&!n){var a=!1;if(this.$$emit("onTap",this.visualIndex,function(){return a=!0},t,i),a)return}if("reverse"===this._behavior&&"mouseleave"!==t.type&&jr.sendTrackCode("swipe",{direction:r,pageId:this.visualIndex+1}),("v"!==this._directionBan||this.distX)&&("h"!==this._directionBan||this.distY)){if(this._isInvalid){var s=void 0;return"h"===r?s=i<200&&n>this.actualWidth/10:"v"===r&&(s=i<200&&o>this.actualHeight/10),s&&this._distributeMove({action:"swipe"}),void this._setRestore()}var l=this.getActionType(this.touchX,this.touchY,i);"flipOver"===l&&jr.launch.preload&&le({type:"linear",direction:this.direction,processed:function(){this._nextAction("flipOver"),Xut.View.HideBusy()}},this)&&(Xut.View.ShowBusy(),l="flipRebound"),this._nextAction(l)}}}},{key:"_nextAction",value:function(t){if(this._isFirstOrEnd()){if(this.options.insideScroll){if("next"===this.direction){if("flipMove"===t)this._setKeepDist(this.distX,this.distY);else if("flipOver"===t||"flipRebound"===t){var e=-this.actualWidth/2;this._setRebound({distance:e}),this._setKeepDist(e)}}else if("prev"===this.direction){this._setRebound({distance:0}),this._setKeepDist(0)}return}this._setKeepDist(),this._setRebound()}else if("flipOver"===t)this._setKeepDist(),this._slideTo({action:"inner"});else if("flipRebound"===t)if(this.options.insideScroll){if("next"===this.direction){var i=-this.actualWidth/2;this._setRebound({distance:i}),this._setKeepDist(i)}else if("prev"===this.direction){this._setRebound({distance:0}),this._setKeepDist(0)}}else this._setRebound();else"flipMove"===t&&this._setKeepDist(this.distX,this.distY)}},{key:"_setKeepDist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.keepDistX=t,this.keepDistY=e}},{key:"_isFirstOrEnd",value:function(t){return!!this.options.snap&&("h"===this.orientation?!this.visualIndex&&this.distX>0||this.visualIndex==this.totalIndex-1&&this.distX<0:"v"===this.orientation?!this.visualIndex&&this.distY>0||this.visualIndex==this.totalIndex-1&&this.distY<0:void 0)}},{key:"_onWheel",value:function(t){t.preventDefault(),t.stopPropagation();var e=void 0;if("deltaX"in t)-t.deltaX,e=-t.deltaY;else if("wheelDeltaX"in t)t.wheelDeltaX,e=t.wheelDeltaY;else if("wheelDelta"in t)e=t.wheelDelta;else{if(!("detail"in t))return;e=-t.detail}this.orientation="v",this.$$emit("onWheel",t,e)}},{key:"_onComplete",value:function(t){var e=t.target,i=e.getAttribute("data-type"),n=e.getAttribute("data-visual"),o=e.getAttribute(ad);this._removeDuration(e),!o||n?n?this._distributeComplete(e,n):i||this.$$emit("onMasterMove",this.visualIndex,e):this._distributeComplete(e,n)}},{key:"_getDist",value:function(t,e){return t/(!this.visualIndex&&t>0||this.visualIndex==this.totalIndex-1&&t<0?e/this.actualWidth+1:1)}},{key:"_borderBounce",value:function(t){return 0===this.visualIndex&&t>0?(this._setKeepDist(0,0),!0):this.visualIndex===this.totalIndex-1&&t<0||void 0}},{key:"_setRebound",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.distance,i=void 0===e?0:e,n=t.direction,o=t.isAppBoundary;this._distributeMove({direction:n||this.direction,distance:i,isAppBoundary:o,speed:300,action:"flipRebound"})}},{key:"_removeDuration",value:function(t){t&&(t.style[ld]="")}},{key:"_setRestore",value:function(t,e){this._stopped=!0,this._hasTap=!1,this._resetRate(),e&&t&&t.removeAttribute("data-visual")}},{key:"_updateVisualIndex",value:function(t){this.visualIndex=t}},{key:"_updatePointer",value:function(t,e,i){if(3!==arguments.length){if(1===arguments.length){var n=t,o=n.viewFlip;return this._updateVisualIndex(n.targetIndex),3===o.length&&this._updatePointer(o[0],o[1],o[2]),void(2===o.length&&(0===o[0]?(this.pagePointer.backIndex=o[1],this.pagePointer.middleIndex=o[0],delete this.pagePointer.frontIndex):(this.pagePointer.frontIndex=o[0],this.pagePointer.middleIndex=o[1],delete this.pagePointer.backIndex)))}}else this.pagePointer={frontIndex:t,middleIndex:e,backIndex:i}}},{key:"_off",value:function(){I(this.container)}}]),e}();!function(t){t.prototype.setDirection=function(t){void 0!==t&&(this.direction=t>0?"prev":"next")},t.prototype.getActionType=function(t,e,i,n){if("h"===(n=n||this.orientation)){if(this.options.insideScroll){if("prev"===this.direction&&this.distX<0)return"flipMove";if("next"===this.direction&&Math.abs(this.distX)<this.visualWidth)return"flipMove";if(!this.options.hasMultiPage)return"flipRebound"}return t=Math.abs(t),i<200&&t>30||t>this.actualWidth/6?"flipOver":"flipRebound"}if("v"===n)return e=Math.abs(e),i<200&&e>30||e>this.actualHeight/6?"flipOver":"flipRebound"},t.prototype.setLinearTotal=function(t,e){if("middle"===e){var i=void 0;this.totalIndex>1&&this.visualIndex==this.totalIndex-1&&(i=this.visualIndex),this.totalIndex=t,void 0!==i&&(this.setPointer(i-1,t),this._updatePointer())}"left"===e&&(this.totalIndex=t,this.visualIndex=t-1,this.setPointer(this.visualIndex,t),this._updatePointer(),this._setTransform()),"right"===e&&(this.totalIndex=t),this._setContainerValue()},t.prototype.getInitDistance=function(){return this._initDistance},t.prototype.simulationComplete=function(){var t=this;setTimeout(function(){t._setRestore(),t.enable()})},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.hasEnabled=function(){return this.enabled},t.prototype.isBorder=function(){this._borderBounce.apply(this,arguments)},t.prototype.getMoved=function(){return this._moved},t.prototype.prev=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.speed,n=e.callback;if(this._borderBounce(1))this._setRebound({direction:"next"}),n&&n();else{var o=function(){t._slideTo({speed:i,callback:n,direction:"prev",action:"outer"})};if(jr.launch.preload&&le({type:"linear",direction:"prev",processed:function(){o(),Xut.View.HideBusy()}},this))return void Xut.View.ShowBusy();o()}},t.prototype.next=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.speed,n=e.callback;if(this._borderBounce(-1))this._setRebound({direction:"prev",isAppBoundary:!0}),n&&n();else{var o=function(){t._slideTo({speed:i,callback:n,direction:"next",action:"outer"})};if(jr.launch.preload&&le({type:"linear",direction:"next",processed:function(){o(),Xut.View.HideBusy()}},this))return void Xut.View.ShowBusy();o()}},t.prototype.getVisualIndex=function(){return this.visualIndex},t.prototype.setPointer=function(t,e){this.pagePointer=oo(t,e||this.totalIndex)},t.prototype.getPointer=function(){return this.pagePointer},t.prototype.scrollToPage=function(t,e){if(this.enabled){var i=this.visualIndex;switch(this._setKeepDist(0,0),t){case i-1:if(this.options.hasMultiPage)return this.prev({callback:e});break;case i:return void(0==i&&this.$$emit("onDropApp"));case i+1:if(this.options.hasMultiPage)return this.next({callback:e})}var n=no(i,t,this.totalIndex);n.callback=e,this._updatePointer(n),n.pagePointer=this.pagePointer,this.$$emit("onJumpPage",n)}},t.prototype._setPageMove=function(t,e){var i=this.actualWidth*(t/100)/2;if(0!=i){this.distX=this.distY=-i,this._setKeepDist(this.distX,this.distY);var n=this;this._distributeMove({distance:this.distX,speed:e,action:"flipMove",setSwipeInvalid:function(){n._isInvalid=!0}})}},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.scrollToPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.clearDelayTimer(),n?this.delayTimer=setTimeout(function(){e.clearDelayTimer(),e._setPageMove(t,i)},n):this._setPageMove(t,i)},t.prototype.destroy=function(){this._off(),this.$$unWatch(),this.clearDelayTimer(),this._childNodes&&(this._childNodes.page=null,this._childNodes.master=null),this.options.mouseWheel&&(this.container.removeEventListener("wheel",this._onWheel,!1),this.container.removeEventListener("mousewheel",this._onWheel,!1),this.container.removeEventListener("DOMMouseScroll",this._onWheel,!1)),this.container=null},t.prototype.setTransitionComplete=function(){this._distributeComplete.apply(this,arguments)},t.prototype.findBubbleRootNode=function(t,e){for(var i=void 0,n=void 0,o=this.visualIndex,r=this.options.sectionRang,a=this._childNodes[e].childNodes,s=a.length;s--;){if(i=a[s],n=i.getAttribute("data-chapter-index"),r&&(o+=r.start),n==o)return i;o=this.visualIndex}}}(hd),function(t){t.prototype._init=function(){this._initMode(),this._initEvents(),this._initPrevent(),this.options.mouseWheel&&this._initWheel()},t.prototype._initMode=function(){if(this.options.snap){var t=this.container.querySelectorAll("ul");t.length?this._childNodes={page:t[0],master:t[1]}:Nr(" ul element don't found !")}"parent"===this.options.scope&&(this.options.scrollX?(this.container.setAttribute(ad,!0),this._setTransform(),this._setContainerValue()):this.options.scrollY&&(this.options.scrollerMode=!0,this.scroller=this.container.children[0],this.scrollerStyle=this.scroller.style,this.wrapperHeight=this.container.clientHeight,this.maxScrollY=this.wrapperHeight-this.scroller.offsetHeight,this._setTransform(this.scroller),this._setContainerValue(this.scroller)))},t.prototype._initPrevent=function(){this._stopDefault=this.options.preventDefault?function(t){t.preventDefault&&t.preventDefault()}:function(){}},t.prototype._setTransform=function(t){this._initDistance=-this.visualIndex*this._getRollVisual(),t?Xut.style.setTranslate({y:this._initDistance,node:t}):Xut.style.setTranslate({x:this._initDistance,node:this.container})},t.prototype._setContainerValue=function(t){t?t.style.height=this.actualHeight*this.totalIndex+"px":this.container.style.width=this.actualWidth*this.totalIndex+"px"},t.prototype._initEvents=function(){var t={start:this,end:this,cancel:this,leave:this};this.options.banMove||this.options.hasMultiPage&&(t.move=this,t.transitionend=this),!t.move&&this.options.insideScroll&&(t.move=this),C(this.container,t)},t.prototype._initWheel=function(){this.container.addEventListener("wheel",this._onWheel.bind(this),!1),this.container.addEventListener("mousewheel",this._onWheel.bind(this),!1),this.container.addEventListener("DOMMouseScroll",this._onWheel.bind(this),!1)}}(hd),function(t){t.prototype._transitionTime=function(t){t=t||0;var e=Xut.style.transitionDuration;e&&(this.scrollerStyle[e]=t+"ms")},t.prototype._transitionTimingFunction=function(t){this.scrollerStyle[Xut.style.transitionTimingFunction]=t},t.prototype._translate=function(t,e){"parent"===this.options.scope&&this.options.scrollY&&Xut.style.setTranslate({y:e,node:this.scroller}),this.x=t,this.y=e},t.prototype._getRollVisual=function(){return this.orientation?"h"===this.orientation?this.actualWidth:this.actualHeight:this.options.scrollX?this.actualWidth:this.actualHeight},t.prototype._getRollDist=function(){var t="h"===this.orientation?this.distX:this.distY,e=this._getRollVisual();return void 0===t?e/1.2:((t=Math.abs(t))>e&&(t=e/2),Math.abs(t))},t.prototype._setRate=function(){this._speedRate=50/this._getRollVisual(),this._isQuickTurn=!0},t.prototype._resetRate=function(){this._speedRate=this._originalRate,this._isQuickTurn=!1},t.prototype._setQuick=function(){var e=t.getDate();this._preTapTime&&e-this._preTapTime<sd&&this._setRate(),this._preTapTime=t.getDate()},t.prototype._isBorder=function(t){var e=void 0,i=this.pagePointer,n=Object.keys(i).length;switch(t){case"prev":e=0===i.middleIndex&&2===n;break;case"next":e=i.middleIndex===this.totalIndex-1&&2===n}return e},t.prototype._getFlipOverSpeed=function(){var t=(this._getRollVisual()-this._getRollDist())*this._speedRate;return void 0===t&&(t=this._defaultFlipTime),t},t.prototype._getOuterSpeed=function(e){var i=void 0;if("outer"===e){if(e===this._recordRreTick.action){var n=t.getDate()-this._recordRreTick.time;i=n<=this._defaultFlipTime?n:this._defaultFlipTime}this._recordRreTick.time=t.getDate(),void 0===i&&(i=this._defaultFlipTime)}return this._recordRreTick.action=e,i},t.prototype._slideTo=function(t){var e=this,i=t.speed,n=t.action,o=t.direction,r=t.callback;if(this.enabled){o?this.direction=o:o=this.direction;var a=i||this._getOuterSpeed(n),s=void 0!==a;if(!this.options.snap||!this._isBorder(o)){this.disable(),this._setQuick(),r&&this.$$once("_slideFlipOver",r);var l=0;this.options.insideScroll&&"prev"===this.direction&&(l=-this.actualWidth/2),this._distributeMove({distance:l,speed:a||this._getFlipOverSpeed(),action:"flipOver",direction:o,outerCallFlip:s}),setTimeout(function(){e._updateActionPointer(),e.$$emit("onEnd",e.pagePointer),e._updateVisualIndex(e.pagePointer.middleIndex)},0)}}},t.prototype._updateActionPointer=function(){var t=this.pagePointer,e=ro(this.direction,t.frontIndex,t.backIndex),i=e.createIndex,n=t.middleIndex;switch(this.direction){case"prev":-1<i&&this._updatePointer(i,t.frontIndex,t.middleIndex),-1===i&&(this.pagePointer.backIndex=t.middleIndex,this.pagePointer.middleIndex=t.frontIndex,delete this.pagePointer.frontIndex);break;case"next":this.totalIndex>i&&this._updatePointer(t.middleIndex,t.backIndex,i),this.totalIndex===i&&(this.pagePointer.frontIndex=t.middleIndex,this.pagePointer.middleIndex=t.backIndex,delete this.pagePointer.backIndex)}this.pagePointer.createIndex=i,this.pagePointer.destroyIndex=e.destroyIndex,this.pagePointer.stopIndex=n}}(hd),function(t){t.prototype._distributeMove=function(t){t.direction=this.direction,t.orientation=this.orientation;var e=this.pagePointer;t.frontIndex=e.frontIndex,t.backIndex=e.backIndex,t.middleIndex=this.visualIndex,this.$$emit("onMove",t)},t.prototype._distributeComplete=function(){var t=this;this._setRestore.apply(this,arguments),this.$$emit("_slideFlipOver");var e=function(){return t.enable()};setTimeout(function(){t.$$emit("onComplete",{unlock:e,direction:t.direction,pagePointer:t.pagePointer,isQuickTurn:t._isQuickTurn})},50)}}(hd);var dd={"data-xxtlink":function(t,e,i,n){try{var o=e.split("-");o.length>1?Xut.View.GotoSlide(o[0],o[1]):Xut.View.GotoSlide(o[0])}catch(t){console.log("跳转错误")}},"data-delegate":function(t,e,i,n){jn({target:t,attribute:e,rootNode:i,pageIndex:n})},"data-flow":function(){},"data-canvas":function(t){}},pd=function(){function t(e){var i=this,n=e.rootNode,o=e.pptMaster,r=e.pageIndex,a=e.seasonId,s=e.chapterId,l=e.callback;Pr(this,t),this._scaleObjs={},this.pptMaster=o,this.chapterId=s,this.seasonId=a,this.initIndex=r,this.$container=$($("#chapter-flow-"+s).html()),Xut.nextTick({container:n,content:this.$container},function(){"h"===jr.launch.scrollMode?i._initX():"v"===jr.launch.scrollMode&&i._initY(),l()})}return Er(t,[{key:"_zoomPicture",value:function(t){var e=t.src;if(e){var i=G(e),n=i.original,o=this._scaleObjs[n];if(o)return o.play();this._scaleObjs[n]=new th({element:$(t),originalSrc:q(i.suffix,"column-zoom"),hdSrc:V(n)})}}},{key:"_getNodes",value:function(){if(this.pptMaster){for(var t=[],e=1/(this.columnCount-1),i=1;i<this.columnCount;i++)t.push(i*e);return t.push(0)}}},{key:"_getMasterObj",value:function(){if(this._masterObj)return this._masterObj;this.pptMaster&&(this._masterObj=Xut.Presentation.GetPageBase("master",this.initIndex))}},{key:"_moveParallax",value:function(t,e,i,n,o,r){var a=this._getMasterObj();a&&a.moveParallax({speed:e,action:t,direction:o,pageIndex:n+1,moveDistance:r,nodes:"next"===o?i[n]:""})}},{key:"_updataPageNumber",value:function(t,e){var i=this.initIndex;e&&(t="right"===e?"prev":"next","middle"===e&&i>0&&--i),Xut.View.UpdatePage({parentIndex:i,sonIndex:this.swipe.getVisualIndex()+1,hasSon:!0,direction:t})}},{key:"_initX",value:function(){var t=this.$container[0],e=this,i=l(1).width;this.columnCount=Nt(this.seasonId,this.chapterId),e.minBorder=0,e.maxBorder=this.columnCount-1;var n=this._getNodes(),o={container:t,scope:"parent",snap:!1,hasHook:!0,hasMultiPage:!0,stopPropagation:!0,visualIndex:Xut.Presentation.GetPageIndex()>e.initIndex?e.maxBorder:e.minBorder,totalIndex:this.columnCount,actualWidth:i};_.extend(o,hd.getConfig());var r=this.swipe=new hd(o),a=0;e.lastDistance=r.getInitDistance();var s=void 0;r.$$watch("onFilter",function(t,e,i){s=!1,"qrcode"===ao(i,e.target)&&(s=!0)}),r.$$watch("onTap",function(t,i,n,o){var a=n.target;s||(a&&"img"===a.nodeName.toLowerCase()&&e._zoomPicture(a),Xut.Contents.Canvas.getIsTap()||Xut.View.Toolbar()),lo(a,e.chapterId,r.visualIndex)}),r.$$watch("onMove",function(o){var s=o.action,l=o.speed,c=o.distance,u=o.direction;if(r.visualIndex===e.minBorder&&"prev"===r.direction)"flipOver"===s?(Ve(),ni(),Xut.View.GotoPrevSlide({speed:l}),r.simulationComplete()):Xut.View.SetSwiperMove({speed:l,action:s,distance:c,direction:r.direction});else if(r.visualIndex===e.maxBorder&&"next"===r.direction)"flipOver"===s?(Ve(),ni(),Xut.View.GotoNextSlide({speed:l}),r.simulationComplete()):Xut.View.SetSwiperMove({speed:l,action:s,distance:c,direction:r.direction});else{var h=Xut.Presentation.GetPageIndex(),d=io({action:s,distance:c,direction:u,frontIndex:h,middleIndex:h,backIndex:h})[1];switch(a=d,u){case"prev":case"next":a+=e.lastDistance}"flipRebound"===s&&(a=-i*r.visualIndex),"flipOver"===s&&(Ve(),ni(),e._updataPageNumber(u)),Uh[s](t,a,l),e._moveParallax(s,l,n,r.visualIndex,u,d)}}),r.$$watch("onComplete",function(t){var i=t.unlock;e.lastDistance=a,i()})}},{key:"_initY",value:function(){var t=this,e=this.$container[0];this.columnCount=Nt(this.seasonId,this.chapterId);var i=this.iscroll=Di(e,{});this.scrollBar=Xut.Application.GetScrollBarObject(),this.wheelEntryDirection="",this.touchEntryDirection="",this.initEntryDirection="",this.entryWay="";var n=!1;this.initIndex===Xut.Presentation.GetPageIndex()&&(n=!0,this.entryWay="init"),Xut.Presentation.GetPageIndex()>this.initIndex?(i.scrollTo(0,i.maxScrollY),this.visualIndex=this.columnCount-1,this.touchEntryDirection="up",n&&(this.initEntryDirection="up")):(this.visualIndex=0,this.touchEntryDirection="down",n&&(this.initEntryDirection="down"));var o=void 0;i.on("beforeScrollStart",function(t){o=!1,"qrcode"===ao(t,t.target)&&(o=!0)}),i.on("scrollCancel",function(e){var i=e.target;o||(i&&"img"===i.nodeName.toLowerCase()&&t._zoomPicture(i),Xut.Contents.Canvas.getIsTap()||Xut.View.Toolbar()),lo(i,t.chapterId,0)}),i.on("scroll",function(e){t.scrollBar.showBar()}),i.on("intermit",function(e){t._updatePosition(e)}),i.on("scrollContent",function(e){t.entryWay||(t.entryWay="touch"),t._updatePosition(t.iscroll.y)}),i.on("momentum",function(e,i){t._updatePosition(e,i)}),i.on("scrollExit",function(e){t._leave(e)}),this.sizeRatioY=this.scrollBar.ratio*(this.columnCount-1)/this.iscroll.maxScrollY,this.wheellook=!1}},{key:"_leave",value:function(t){"down"===t?this.touchEntryDirection="up":"up"===t&&(this.touchEntryDirection="down"),this.wheelEntryDirection="",this.entryWay="",Ve(),ni()}},{key:"_updatePosition",value:function(t,e,i){var n="";if("init"===this.entryWay?n=this.initEntryDirection:"touch"===this.entryWay?n=this.touchEntryDirection:"wheel"===this.entryWay&&(n=this.wheelEntryDirection),"up"===n)return t=Math.round((this.iscroll.maxScrollY-t)*this.sizeRatioY),void this.scrollBar.updatePosition(t,e,"up");"down"===n&&(t=Math.round(this.sizeRatioY*t)||0,this.scrollBar.updatePosition(t,e,"down"))}},{key:"onWheel",value:function(t,e,i){var n=this;if(void 0!==e&&(this.entryWay||(this.entryWay="wheel"),this.wheelEntryDirection||(this.wheelEntryDirection=i),!this.wheellook)){if(0===this.iscroll.y&&"up"===i)return this.wheellook=!0,void Xut.View.GotoPrevSlide(function(){n.iscroll.scrollTo(0,0),n.wheellook=!1,n._leave("up")});if(this.iscroll.y===this.iscroll.maxScrollY&&"down"===i)return this.wheellook=!0,void Xut.View.GotoNextSlide(function(){n.iscroll.scrollTo(0,n.iscroll.maxScrollY),n.wheellook=!1,n._leave("down")});this.iscroll._wheel(t)}}},{key:"getEntry",value:function(){return this.entryWay}},{key:"_resetX",value:function(t){this.columnCount=t,this.maxBorder=t-1;var e=Xut.Presentation.GetPageId(),i=this.chapterId,n=void 0;e>i?n="left":e<i?n="right":e===i&&(n="middle"),this.swipe.setLinearTotal(t,n),this.lastDistance=this.swipe.getInitDistance(),this._updataPageNumber("",n)}},{key:"_resetY",value:function(t){console.log("竖版数据丢失，需要添加功能，补全")}},{key:"resetColumnDep",value:function(){var t=Nt(this.seasonId,this.chapterId);t>this.columnCount&&("h"===jr.launch.scrollMode?this._resetX(t):"v"===jr.launch.scrollMode&&this._resetY(t))}},{key:"destroy",value:function(){var t=this;Object.keys(this._scaleObjs).length&&_.each(this._scaleObjs,function(e,i){e.destroy(),t._scaleObjs[i]=null}),this.iscroll&&this.iscroll.destroy(),this.swipe&&this.swipe.destroy()}}],[{key:"getScrollYIndex",value:function(t,e){var i=void 0,n=Math.abs(t);for(var o in e){var r=e[o];if(n>=r.min&&n<=r.max){i=o;break}}return Number(i)}},{key:"getScrollYRange",value:function(t,e){for(var i=Math.abs(t/e),n=e,o={};n--;)o[n]={min:Math.abs(n*i),max:Math.abs((n+1)*i)};return o}}]),t}(),fd=function(t,e){var i=t.chapterData;"page"===t.pageType&&Dt(i.seasonId,t.chapterId)?t.columnGroup.add(new pd({pptMaster:t.chapterData.pptMaster,pageIndex:t.pageIndex,rootNode:t.getContainsNode(),seasonId:t.chapterData.seasonId,chapterId:t.chapterId,callback:e})):e()},gd={"assign-container":function(t,e){Ei(e,function(){var i=e.baseData();Mi(i,e),Nc(e,i,t)})},"assign-background":function(t,e){if(!e.rerunInstanceTask("assign-background")){var i=e.baseData(e.chapterIndex),n=e.getContainsNode();e.threadTaskRelated.assignTaskGroup["assign-background"]=new Lc(i,n,t,function(){e.detectorTask.apply(e,arguments)})}},"assign-column":function(t,e){fd(e,t)},"assign-component":function(t,e){if(!e.rerunInstanceTask("assign-component")){var i=e.chapterData,n=e.baseData();e.threadTaskRelated.assignTaskGroup["assign-component"]=new Gh({rootNode:e.rootNode,$containsNode:e.getContainsNode(),nodes:i.nodes,pageOffset:i.pageOffset,activitys:e.baseActivits(),chpaterData:n,chapterId:n._id,chapterIndex:e.chapterIndex,pageType:e.pageType,pageBaseHooks:e.divertorHooks,getStyle:e.getStyle},t,function(){e.detectorTask.apply(e,arguments)})}},"assgin-activity":function(t,e){if(Xut.data.preventContent)return t();if(!e.rerunInstanceTask("assgin-activity")){var i=e.chapterData,n=e.baseData();e.threadTaskRelated.assignTaskGroup["assgin-activity"]=new mh({base:e,canvasRelated:e.canvasRelated,rootNode:e.rootNode,$containsNode:e.getContainsNode(),$headFootNode:e.getHeadFootNode(),pageType:e.pageType,nodes:i.nodes,pageOffset:i.pageOffset,activitys:e.baseActivits(),chpaterData:n,chapterId:n._id,pageIndex:e.pageIndex,chapterIndex:e.chapterIndex,pageBaseHooks:e.divertorHooks,getStyle:e.getStyle},t,function(){e.detectorTask.apply(e,arguments)})}}},vd=function(){},md=function(t,e){return new Ku({rootNode:t,hasButton:!0,tapClose:!0,updateHook:function(t,i){if(t){var n=Xut.Presentation.GetPageBase("master",e);if(n){var o=n.getContainsNode()[0];Xut.style.setTranslate({speed:i,translate:t.translate,scale:t.scale,node:o})}}}})},yd=function(t){var e={};return Object.keys(t).forEach(function(t){e[t]=!1}),e},_d=function(t){function e(){Pr(this,e);var t=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.enable=!1,t.onlyCompSprite=!1,t.failCid=[],t.contentIdset=[],t.pptId=[],t.spiritId=[],t.widgetId=[],t.compSpriteId=[],t.containerIndex=1,t.collections={},t}return Ar(e,Ks),e}(),bd=function(t){var e=t.$contentNode,i=t.scope,n=t.direction,o=t.pageIndex,r=t.action,a=t.speed,s=t.nodes,l=t.distance,c=t.isColumn,u=i.lastProperty,h=i.targetProperty;if("prev"===n){var d=i.nodeRatio;s=s==d?0:d}var p=Qi({nodes:s,isColumn:c,distance:l,lastProperty:u,pageIndex:o,targetProperty:h});switch(r){case"flipMove":p=Zi(p,u);break;case"flipRebound":p=tn(p,u);break;case"flipOver":"prev"===n&&(p=Ji(p,u)),"next"===n&&(void 0!==p.scaleX&&(p.scaleX=p.scaleX+1),void 0!==p.scaleY&&(p.scaleY=p.scaleY+1),void 0!==p.scaleZ&&(p.scaleZ=p.scaleZ+1)),en(p,u)}qi({$contentNode:e,action:"master",interaction:r,pageIndex:o,targetProperty:h,property:p,speed:a,opacityStart:u.opacityStart})},xd=function t(e){Pr(this,t),this.init(e)},wd=xd.prototype;!function(t){t.init=function(t){var e=this;_.extend(e,t),this.dataActionGroup={},this.seasonId=this.chapterData.seasonId,this.chapterId=this.chapterData._id,this.hasMultithread=!!this.hasMultiPage,"master"===e.pageType&&(this.isMaster=!0),this.canvasRelated=new _d,"flow"===e.chapterData.note&&(this.hasColumnData=!0),this.contentGroup={},this.activityGroup=new Ii,this.componentGroup=new Ii,this.columnGroup=new Ii,jr.launch.swipeDelegate&&(this.swipeSequence={swipeleft:[],swiperight:[],swipeleftTotal:0,swiperightTotal:0,swipeleftIndex:0,swiperightIndex:0});var i=this.floatGroup={pageContainer:null,pageGroup:{},masterContainer:null,masterGroup:{}};this.divertorHooks={threadtaskComplete:function(){ho(e,jr)},cacheActivity:function(t){e.activityGroup.add(t)},contents:function(t,i,n){var o=e.baseGetContentObject[i];o&&o.isBindEventHooks&&(e.contentGroup[i]=n),o||(e.contentGroup[i]=n)},floatPages:function(t){if(t&&i.pageContainer?Nr("floatPages重复pageContainer","info"):i.pageContainer=t.container,t.ids.length){var n=void 0;_.each(t.ids,function(t){(n=e.baseGetContentObject(t))?(n.parallax&&(n.parallaxOffset=n.parallax.parallaxOffset),i.pageGroup[t]=n):console.log("页面浮动对象找不到")})}},floatMasters:function(t){if(t&&i.masterContainer?Nr("floatMasters重复masterContainer","info"):i.masterContainer=t.container,t.ids.length){var n=void 0,o=void 0;_.each(t.ids,function(t){if(n=e.baseGetContentObject(t))n.parallax&&(n.parallaxOffset=n.parallax.parallaxOffset),i.masterGroup[t]=n;else{Xut.plat.isBrowser&&console.log("浮动母版对象数据不存在原始对象,制作伪对象母版移动",t);var r=e.threadTaskRelated["assgin-activity"].contentsFragment;if(r){var a="Content_"+e.chapterIndex+"_";_.each(r,function(e){var i=a+t;e.id==i&&(o=e)})}i.masterGroup[t]={id:t,chapterIndex:e.chapterIndex,$contentNode:$(o),empty:!0}}})}},eventBinding:function(t){Si(e,t)},swipeDelegateContents:function(t,i){++e.swipeSequence[t+"Total"],e.swipeSequence[t].push(i)}},uo(e)}}(wd),function(t){t._checkNextTaskCreate=function(t){var e=this;if("complete"===this.threadTaskRelated.nextTaskName)return t();this._cancelTaskSuspend(),this.threadTaskRelated.createTasksComplete=function(){e.divertorHooks&&e.divertorHooks.threadtaskComplete(),t()},this.detectorTask({nextTask:function(){this.dispatchTasks()}})},t.dispatchTasks=function(){var t=this.threadtasks[this.threadTaskRelated.nextTaskName];t&&t.apply(void 0,arguments)},t.detectorTask=function(t){this._asyTasks({suspendCallback:function(){t.suspendTask&&t.suspendTask.call(this)},nextTaskCallback:function(){t.nextTask&&t.nextTask.call(this)}},t.interrupt)},t._asyTasks=function(t,e){if(!this.hasMultithread)return t.nextTaskCallback.call(this);this._multithreadCheck(t,e)},t._multithreadCheck=function(t,e){var i=this,n=function(){i._checkTaskSuspend()?(i.tasksTimeOutId&&clearTimeout(i.tasksTimeOutId),t.suspendCallback.call(i)):t.nextTaskCallback.call(i)},o=function(){i.tasksTimeOutId=setTimeout(function(){n()},i.canvasRelated.tasksTimer)};this.hasAutoRun?e?o():n():o()},t._cancelTaskSuspend=function(){this.canvasRelated.isTaskSuspend=!1},t._checkTaskSuspend=function(){return this.canvasRelated.isTaskSuspend}}(wd),function(t){t.startThreadTask=function(t,e){var i=this;this.threadTaskRelated.preforkComplete=function(){jr.launch.quickFlip&&t?e():i._checkNextTaskCreate(e)},this.dispatchTasks()},t.checkThreadTaskComplete=function(t){var e=this;this.hasAutoRun=!0,this._checkNextTaskCreate(function(){e.hasAutoRun=!1,t()})},t.setTaskSuspend=function(){this.hasAutoRun=!1,this.canvasRelated.isTaskSuspend=!0,this.threadTaskRelated.isPreCreateBackground=!1,this.threadTaskRelated.taskHangFn=null},t.createPreforkTask=function(t,e){var i=this;this.threadTaskRelated.isPreCreateBackground?this.threadTaskRelated.taskHangFn=function(t){return function(){i._checkNextTaskCreate(t)}}(t):(e&&(this.threadTaskRelated.isPreCreateBackground=!0),this._checkNextTaskCreate(t))},t.createPageAction=function(){this.runLastPageAction&&(this.stopLastPageAction=this.runLastPageAction())},t.destroyPageAction=function(){this.stopLastPageAction&&(this.stopLastPageAction(),this.stopLastPageAction=null)}}(wd),function(t){t.setPageContainerHierarchy=function(t){this.$pageNode.css(t)},t.getLetterObjs=function(t){var e=this.threadTaskRelated.assignTaskGroup["assgin-activity"];if(e&&e.textFxObjs)return e.textFxObjs[t]},t._converSequenceName=function(t){return"next"===t?"swipeleft":"swiperight"},t.hasSwipeSequence=function(t){var e=this._converSequenceName(t),i=this.swipeSequence;return i[e+"Index"]!==i[e+"Total"]&&i[e].length},t.callSwipeSequence=function(t){if(this.swipeSequence){var e=this._converSequenceName(t),i=this.swipeSequence[e][this.swipeSequence[e+"Index"]];i&&(++this.swipeSequence[e+"Index"],i())}},t.resetSwipeSequence=function(){this.swipeSequence&&(this.swipeSequence.swipeleftIndex=0,this.swipeSequence.swiperightIndex=0)},t.rerunInstanceTask=function(t){var e;if(e=this.threadTaskRelated.assignTaskGroup[t])return e.rerunTask&&e.rerunTask(),!0},t.baseData=function(){return this.dataActionGroup[this.pageType]},t.baseActivits=function(){return this.dataActionGroup.activitys},t.baseAutoRun=function(){var t=this.dataActionGroup.auto;return t&&t},t.baseGetPageId=function(t){return this.baseData(t)._id},t.baseGetContentObject=function(t){var e=this.contentGroup[t];return e||this.floatGroup.masterGroup[t]},t.baseContentMutex=function(t,e){var i=void 0;if(i=this.baseGetContentObject(t)){var n=i.$contentNode.view?i.$contentNode.view:i.$contentNode;({Show:function(){"dom"===i.type?n.css({display:"blcok",visibility:"visible"}).prop("mutex",!1):n.visible=!0},Hide:function(){"dom"===i.type?n.css({display:"none",visibility:"hidden"}).prop("mutex",!0):n.visible=!1},StopAnim:function(){i.stopAnims&&i.stopAnims()}})[e]()}},_.each(["Get","Specified"],function(e){t["base"+e+"Content"]=function(t){switch(e){case"Get":return this.activityGroup.get();case"Specified":return this.activityGroup.specified(t)}}}),_.each(["Get","Remove","Add","Specified"],function(e){t["base"+e+"Component"]=function(t){switch(e){case"Add":return this.componentGroup.add(t);case"Get":return this.componentGroup.get();case"Specified":return this.componentGroup.specified(t);case"Remove":return this.componentGroup.remove()}}}),t.baseAssistRun=function(t,e,i){var n;(n=this.activityGroup)&&_.each(n.get(),function(n,o){t==n.activityId&&("Run"==i&&n.runAnimation(e,!0),"Stop"==i&&n.stopAnimation(e))},this)}}(wd),function(t){t.movePage=function(t,e,i,n,o){var r=this.$pageNode[0];if("page"===this.pageType){var a=this.floatGroup.pageContainer;a&&Uh[t](a[0],e,i)}if("master"===this.pageType){this.onceMaster=!1;var s=this.floatGroup.masterContainer;s&&Uh[t](s[0],e,i)}var l=!1,c=!1,u=null,h=null;"flipOver"===t&&(o&&i<100&&(i=0,c=!0),"page"===this.pageType&&e===n&&(l=!0,r.setAttribute("data-visual",!0),u=setTimeout(function(){clearTimeout(u),u=null,r.getAttribute("data-visual")&&(Nr("翻页translate回调丢失了，通过定时器手动调用修复"),h=null,Xut.View.SetSwiperFilpComplete(r,!0))},i+500))),h=function(){if(l&&(c||!jr.launch.gestureGlide))return Xut.View.SetSwiperFilpComplete(r,!0),!0},Uh[t](r,e,i,h)}}(wd),function(t){t.moveParallax=function(t){var e=t.action,i=t.direction,n=t.moveDistance,o=t.pageIndex,r=t.speed,a=t.nodes,s=t.parallaxProcessedContetns,l=this,c=this.baseGetContent();if(c){var u=1===l.getStyle.pageVisualMode,h=n.length?n[1]:n;_.each(c,function(t){t.eachAssistContents(function(t){if(t.parallax){var n=t.parallax.$contentNode;if(s){var c=l.baseGetContentObject(t.id);if(c&&"flipMove"===e&&c.pptObj&&!c.parallaxProcessed){var d=c.actName;c.stop&&c.stop(),c.parallaxProcessed=!0,n.attr("data-parallaxProcessed",d),s[d]=c}}bd({pageIndex:o,$contentNode:n,scope:t.parallax,direction:i,action:e,speed:r,nodes:a,distance:h,isColumn:u})}})})}}}(wd),function(t){t.baseDestroy=function(){nt(this.$pageNode),this.destroyPageAction(),this._pageScaleObj&&(this._pageScaleObj.destroy(),this._pageScaleObj=null);var t=this.columnGroup.get();t&&t.length&&t.forEach(function(t){t.destroy()}),ui(this.chapterIndex);var e=this.threadTaskRelated.assignTaskGroup;if(e)for(var i in e){var n=e[i];n&&n.destroy&&n.destroy()}var o=this.floatGroup.masterGroup,r=!_.isEmpty(o),a=this.activityGroup.get();a&&a.length&&a.forEach(function(t){t.destroy(function(t){(!r||t&&!o[t.id])&&(t.$contentNode=null)})}),r&&this.floatGroup.masterContainer&&this.floatGroup.masterContainer.remove(),this.floatGroup.pageGroup&&this.floatGroup.pageContainer&&this.floatGroup.pageContainer.remove();var s=this.baseGetComponent();s&&s.length&&s.forEach(function(t){t.destroy&&t.destroy()}),Ci(this),this.$pseudoElement&&(this.$pseudoElement=null),po(this),this.$pageNode.remove(),this.rootNode=null,this.$pageNode=null}}(wd);var kd=function(t,e){return t.map(function(t){return t-e})},Td=function(t,e){var i=t.chapterData[e];i&&Z(i,e)},Sd=function(t){function e(t){Pr(this,e);var i=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.rootNode=t,i.pageType="page",jr.launch.doublePageMode&&C(t,{transitionend:function(){Xut.View.SetSwiperFilpComplete()}}),i}return Ar(e,hc),Er(e,[{key:"setInitTranslate",value:function(t){if(jr.launch.doublePageMode){var e=jr.screenSize.width*t;Xut.style.setTranslate({x:-e,node:this.rootNode})}}},{key:"create",value:function(t,e){var i=new xd(_.extend(t,{pageType:this.pageType,rootNode:this.rootNode}));return this._$$addBaseGroup(e,i),i}},{key:"_moveContainer",value:function(t,e){Xut.style.setTranslate({speed:e,x:t,node:this.rootNode})}},{key:"move",value:function(t){var e=t.speed,i=t.action,n=t.outerCallFlip,o=t.moveDistance,r=t.frontIndex,a=t.middleIndex,s=t.backIndex;jr.launch.doublePageMode?this._moveContainer(o[1],e):_.each([this.$$getPageBase(r),this.$$getPageBase(a),this.$$getPageBase(s)],function(t,r){var a=o[r];t&&void 0!==a&&t.movePage(i,a,e,o[3],n)})}},{key:"suspend",value:function(t,e,i,n){var o=this.$$getPageBase(n),r=o.baseGetPageId(n);o.startupTime&&jr.sendTrackCode("flip",{pageId:o.chapterId,time:+new Date-o.startupTime}),Td(o,"postCode"),this._suspendInnerCreateTasks(t,e,i),o.destroyPageAction(),o.resetSwipeSequence(),Gn(o,r)}},{key:"resetOriginal",value:function(t){var e=this;xo(t).forEach(function(t){var i=e.$$getPageBase(t);if(i){var n=i.floatGroup.pageContainer;n&&n.css({zIndex:2e3,overflow:"hidden"}),Yn(i)}})}},{key:"autoRun",value:function(t){var e=this,i=t.createPointer,n=t.frontIndex,o=t.middleIndex,r=t.backIndex,a=t.suspendIndex,s=t.isQuickTurn,l=t.direction,c=this,u=function(t){var o=void 0;o=s||!l?[n,r]:i||r||n,e._checkPreforkTasks(o,t)},h=function(t,e){var i=function(){e.processComplete(),u()},n=function(){Wn(t,o,i)};if(!t.getContainsNode())return i();e.suspendCallback?e.suspendCallback(n):n()};this._checkTaskCompleted(o,function(e){jr.hasTrackCode("flip")&&(e.startupTime=+new Date),e.createPageAction();var i=e.floatGroup.pageContainer;i&&i.css({zIndex:2001,overflow:""}),Xut.style.noMaskBoxImage&&vo(),t.buildComplete(e.seasonId),Td(e,"preCode"),c.resetOriginal(a),u("background"),h(e,t)})}},{key:"clearPage",value:function(t){var e=this.$$getPageBase(t);e&&(e.baseDestroy(),this._$$removeBaseGroup(t))}},{key:"destroyManage",value:function(){ii(Xut.Presentation.GetPageId(Xut.Presentation.GetPageIndex())),this._$$destroyBaseGroup(),jr.launch.doublePageMode&&I(this.rootNode),this.rootNode=null}},{key:"_suspendInnerCreateTasks",value:function(t,e,i){var n=this,o=function(t){if(void 0!==t){t.length||(t=[t]);var e=void 0;t.forEach(function(t){(e=n.$$getPageBase(t))&&e.setTaskSuspend()})}};o(t),o(e),o(i)}},{key:"_checkTaskCompleted",value:function(t,e){var i=this.$$getPageBase(t);i&&i.checkThreadTaskComplete(function(){e(i)})}},{key:"_checkPreforkTasks",value:function(t,e){var i,n;for(t.length||(t=[t]),n=t.length;n--;)(i=this.$$getPageBase(t[n]))&&i.createPreforkTask(function(){},e)}}]),e}(),Cd=function(t){var e=[];if(!t.length){for(var i in t)e.push(t[i]);t=e}return t},Id=function(t){function e(t){Pr(this,e);var i=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.visualWidth=jr.visualSize.width,i.visualHeight=jr.visualSize.height,i.pageType="master",i.rootNode=t,i.recordMasterRange={},i.recordMasterId={},i.currMasterId=null,i.parallaxProcessedContetns={},i}return Ar(e,hc),Er(e,[{key:"register",value:function(t,e,i){var n=this.$$getPageBase(this.converMasterId(t));n&&n.registerCotents.apply(n,arguments)}},{key:"create",value:function(t,e,i,n){var o=void 0,r=t.chapterData.pptMaster,a=t.chapterData.pageOffset,s=a&&a.split("-");if(o=s&&3===s.length?r+"-"+s[2]:r,!this._hasMaster(o,a,e)){i();var l=new xd(_.extend(t,{pptMaster:r,pageType:this.pageType,rootNode:this.rootNode}));return this._$$addBaseGroup(o,l),l}if(jr.debug.devtools){var c=this.$$getPageBase(o);c&&n(c)}}},{key:"move",value:function(t,e){var i=this,n=t.nodes,o=t.speed,r=t.action,a=t.moveDistance,s=t.direction,l=t.frontIndex,c=t.middleIndex,u=t.backIndex,h=!1,d=this._findMaster(l,c,u,s,r,e);if(_.each(d,function(t,e){t&&(h=!0,t.movePage(r,a[e],o,a[3]))}),this.isBoundary=h,!h){var p=function(t){var e=i.converMasterId(c),n=i.$$getPageBase(e);n&&n.moveParallax({action:r,direction:s,speed:o,nodes:t,moveDistance:a,parallaxProcessedContetns:i.parallaxProcessedContetns})};switch(s){case"prev":p();break;case"next":n&&p(n)}}}},{key:"suspend",value:function(t){if(this.isBoundary){var e=void 0;(e=this.$$getPageBase(t))&&Gn(e,e.baseGetPageId(t))}}},{key:"resetOriginal",value:function(t){var e;(e=this.$$getPageBase(t))&&Yn(e)}},{key:"autoRun",value:function(t){var e,i=t.middleIndex,n=t.suspendIndex;(e=this.$$getPageBase(i))&&(this.resetOriginal(n),Wn(e,i))}},{key:"reactivation",value:function(t){if(this.parallaxProcessedContetns){var e=t.id,i=this.parallaxProcessedContetns[e];i&&(i.runAnimations(),i.parallaxProcessed=!1,t.removeAttribute("data-parallaxProcessed"),delete this.parallaxProcessedContetns[e])}}},{key:"makeJumpPocesss",value:function(t){var e,i=this;return{pre:function(){var n=i.converMasterId(t);e=i._scanBounds(t,n),i._checkClear(e,!0),i.currMasterId=n},clean:function(t,n){i._fixPosition(e),i._checkParallaxPox(t,n)}}}},{key:"destroyManage",value:function(){this.rootNode=null,this._$$destroyBaseGroup()}},{key:"_findMaster",value:function(t,e,i,n,o,r){var a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,p=this.converMasterId(e);switch(n){case"prev":((a=p!==(l=this.converMasterId(t)))||r)&&(h=this.$$getPageBase(p)),l&&a&&("flipOver"===o&&this._checkClear([p,l]),u=this.$$getPageBase(l));break;case"next":(s=p!==(c=this.converMasterId(i)))&&(h=this.$$getPageBase(p)),c&&s&&("flipOver"===o&&this._checkClear([p,c]),d=this.$$getPageBase(c))}return[u,h,d]}},{key:"_scanBounds",value:function(t,e){for(var i,n,o=this.converMasterId(t),r={},a=t;a--;)if((i=this.converMasterId(a))&&i!==e){r.prev=i;break}return(n=this.converMasterId(t+1))&&n!==e&&(r.next=n),o&&(r.curr=o),r}},{key:"_fixPosition",value:function(t){var e=this,i=function(t,i){var n=function(e,i){var n=t.$pageNode;n&&Xut.style.setTranslate({speed:i,x:e,node:n})};"prev"===i?n(-e.visualWidth):"next"===i?n(e.visualWidth):"curr"===i&&n(0)};for(var n in t)switch(n){case"prev":i(this.$$getPageBase(t[n]),"prev");break;case"curr":i(this.$$getPageBase(t[n]),"curr");break;case"next":i(this.$$getPageBase(t[n]),"next")}}},{key:"_checkParallaxPox",value:function(t,e){var i,n,o=this._$$getBaseGroup();for(i in o)n=o[i],this._fixParallaxPox(n,t,e)}},{key:"_toRepeat",value:function(t,e){var i;return!!(i=this.recordMasterRange[t])&&i}},{key:"_updataMasterscope",value:function(t,e){var i;(i=this.recordMasterRange[t])?-1===i.indexOf(e)&&i.push(e):this.recordMasterRange[t]=[e]}},{key:"_updatadParallaxMaster",value:function(t,e){this.recordMasterId[e]=t,this.currMasterId=this.converMasterId(Xut.Presentation.GetPageIndex())}},{key:"_hasMaster",value:function(t,e,i){var n=this._toRepeat(t,i);return this._updataMasterscope(t,i),this._updatadParallaxMaster(t,i),n}},{key:"_fixParallaxPox",value:function(t,e,i){var n=this,o=void 0,r=void 0,a=function(t){var o=t.calculateRangePage(),a=t.lastProperty;i>e?i>o.end&&(r=1):i<o.start&&(r=0);var s=Qi({targetProperty:t.targetProperty,distance:-n.visualWidth,nodes:r});qi({$contentNode:t.$contentNode,action:"master",property:s,speed:300,opacityStart:a.opacityStart}),en(s,a)};(o=t.baseGetContent())&&(r=Xut.Presentation.GetPageNode(i-1),o.forEach(function(t){t.eachAssistContents(function(t){t.parallax&&a(t.parallax)})}))}},{key:"_checkClear",value:function(t,e){var i,n=_.keys(this._$$getBaseGroup());(n.length>2||e)&&(t=Cd(t),_.each(t,function(t){void 0!==t&&-1!==(i=n.indexOf(t.toString()))&&n.splice(i,1)}),this._clearMemory(n))}},{key:"_clearMemory",value:function(t){var e,i=this;_.each(t,function(t){(e=i.$$getPageBase(t))&&(e.baseDestroy(),i._$$removeBaseGroup(t),i._removeRecordMasterRange(t)),delete i.recordMasterRange[t]})}},{key:"converMasterId",value:function(t){return this.recordMasterId?this.recordMasterId[t]:void 0}},{key:"_removeRecordMasterRange",value:function(t){var e=this;e.recordMasterRange[t].forEach(function(t){delete e.recordMasterId[t]})}}]),e}(),Pd=function(t,e){t.pageMgr.assistPocess(e,function(t){t.setPageContainerHierarchy({"z-index":9997})}),t.getMasterContext(function(){t.masterMgr.assistPocess(e,function(t){t.setPageContainerHierarchy({"z-index":1})})})},Ed=function(t,e,i){for(var n=void 0,o=0,r=[],a=e.create,s=e.targetIndex;o<a.length;o++)n=a[o],r.push(function(t,e){return function(i){this.createPageBase([e],t,"toPage",i,{opacity:0})}}(s,n));e.pageBaseCollect=[];var l=void 0,c=void 0,u=0;if(l=c=r.length,r&&c)for(;u<c;u++)r[u].call(t,function(t){1===l&&(r=null,setTimeout(function(){i(e)},100)),e.pageBaseCollect.push(t),l--})},Md=function(t,e){var i=e.visualIndex,n=t.pageMgr,o=e.targetIndex;t.suspendPageBases({stopIndex:i}),_.each(e.destroy,function(t){t!==i&&n.clearPage(t)}),_.each(e.ruleOut,function(t){t>o&&n.assistAppoint(t,function(t){eo(t.$pageNode,"nextEffect")}),t<o&&n.assistAppoint(t,function(t){eo(t.$pageNode,"prevEffect")})});var r=void 0;t.getMasterContext(function(){(r=this.makeJumpPocesss(o)).pre()}),n.clearPage(i),r&&r.clean(i,o),_.each(e.pageBaseCollect,function(t){_.each(t,function(t){t&&t.setPageContainerHierarchy({opacity:1})})}),e.pageBaseCollect=null,r=null},Ad=function(){function t(){Pr(this,t),this._cache=[]}return Er(t,[{key:"shift",value:function(t){this._cache.unshift(t)}},{key:"push",value:function(t){this._cache.push(t)}},{key:"shiftAll",value:function(){if(this._cache.length)for(var t=void 0;t=this._cache.shift();)t.apply(null,arguments);return this}},{key:"popAll",value:function(){if(this._cache.length)for(var t=void 0;t=this._cache.pop();)t.apply(null,arguments);return this}},{key:"destroy",value:function(){this._cache=null}}]),t}(),Od={left:function(t){var e=t.getPageStyle("middle","left"),i=t.getPageStyle("left");return e&&e.visualLeftInteger?i&&i.visualLeftInteger?-e.visualWidth:-(e.visualWidth-e.visualLeftInteger):i&&i.visualLeftInteger?-(i.visualWidth-i.visualLeftInteger):-i.visualWidth},right:function(t){var e=t.getPageStyle("middle","right"),i=t.getPageStyle("right");return 5===i.pageVisualMode?i.visualWidth/2:e&&e.visualLeftInteger?i&&i.visualLeftInteger?i.visualWidth-i.visualLeftInteger:i.visualWidth+e.visualLeftInteger:i&&i.visualLeftInteger?i.visualWidth-i.visualLeftInteger:i.visualWidth+i.visualLeftInteger},top:function(t){return-t.getPageStyle("top").visualHeight},bottom:function(t){return t.getPageStyle("bottom").visualHeight}},Nd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Xut.style.setTranslateStyle(t,e)},Dd=function(t){var e=Xut.Presentation.GetPageBase(t);return e&&e.getStyle},Rd=function(){function t(e){Pr(this,t),this.$$mediator=e,this.pageMgr=new Sd(e.options.scenePageNode),To()&&(this.masterMgr=new Id(e.options.sceneMasterNode))}return Er(t,[{key:"initCreate",value:function(){var t=this.$$mediator.options,e=_o(t.initIndex,t.pageTotal,t.hasMultiPage);this.pagePointer=e.initPointer,this.createPageBase(e.createPointer,t.initIndex,"init","","")}},{key:"createPageBase",value:function(t,e,i,n,o){if(void 0!==t[0]){var r=this,a=this.$$mediator.options,s=a.hasMultiPage,l="toPage"===i,c="flipOver"===i,u=bo(t,!0),h=u.total||t.length,d=wo(a,t,u,e),p=[],f=!1,v=function(){var t=0;return function(e){++t===h&&e()}}(),m={init:function(){v(function(){r.initPage("init")})},flipOver:function(){v(function(){r._runPageBase({createPointer:d,createMaster:f})})},toPage:function(){v(function(){n(p)})}},y=new Ad,b=g();"init"===i&&this.pageMgr.setInitTranslate(e),_.each(d,function(t){y.push(function(){var n=Oo(t,u),d=n.doubleMainIndex,g=n.doublePosition,v=ko(t);if(void 0!==v){var y=yo(a,t,e),_=y.visualChapterIndex,x=y.pageIndex;return 1===h&&(a.chapterId=v._id),l&&_!==t&&(o=void 0),b[t]={userStyle:o,chapterIndex:t,visualChapterIndex:_,doublePosition:g,doubleMainIndex:d,position:mo(void 0!==d?d:t,_),pageVisualMode:Ao(v)},function(e){var n=function(n){var r=e[t],a=this.create({pageIndex:x,chapterData:v,chapterIndex:t,hasMultiPage:s,getStyle:r},x,n,function(t){jr.debug.devtools&&t.getStyle.pageVisualMode!==r.pageVisualMode&&Nr("母版与页面VisualMode不一致,错误页码:"+(x+1)+",母版visualMode:"+t.getStyle.pageVisualMode+",页面visualMode:"+r.pageVisualMode)});a&&(a.startThreadTask(c,function(){m[i]()}),o&&p.push(a))};v.pptMaster&&r.masterMgr&&n.call(r.masterMgr,function(){++h,f=!0}),n.call(r.pageMgr)}}Nr("创建页面出错,chapterIndex:"+t)}())}),y.shiftAll(Mo(b)).destroy()}}},{key:"movePageBases",value:function(t){var e=t.action,i=t.speed,n=t.outerCallFlip,o=t.distance,r=t.frontIndex,a=t.middleIndex,s=t.backIndex,l=t.direction,c=t.orientation,u=t.isAppBoundary,h=t.setSwipeInvalid;if(jr.launch.gestureGlide||"flipMove"!=e){var d=this.pageMgr.$$getPageBase(a);if(jr.launch.swipeDelegate&&d){if("swipe"===e)return void d.callSwipeSequence(l);if(d.hasSwipeSequence(l))return void(h&&h())}var p=void 0;if(d){var f=d.chapterData;p=f&&f.nodes?f.nodes:void 0}var g=io({action:e,distance:o,direction:l,frontIndex:r,middleIndex:a,backIndex:s,orientation:c});if(!t.setPageBanBounce||!t.setPageBanBounce(g[1])){var v={nodes:p,speed:i,action:e,outerCallFlip:n,moveDistance:g,direction:l,frontIndex:r,middleIndex:a,backIndex:s};this.pageMgr.move(v),this.getMasterContext(function(){this.move(v,u)}),"flipOver"===e&&Xut.nextTick(function(){Xut.View.UpdatePage({action:e,parentIndex:"next"===l?s:r,direction:l})})}}}},{key:"suspendPageBases",value:function(t){var e=this,i=t.frontIndex,n=t.middleIndex,o=t.backIndex,r=t.stopIndex,a=function(t,i,n,o){e.pageMgr.suspend(t,i,n,o),e.getMasterContext(function(){this.suspend(o)})},s=bo(r);if(s&&s.length){var l=bo(i),c=bo(n),u=bo(o),h=!1;s.forEach(function(t){h?a("","","",t):(a(l,c,u,t),h=!0)})}else a(i,n,o,r);Xut.View.ResetToolbar()}},{key:"completePageBases",value:function(t){var e=t.direction,i=t.pagePointer,n=t.unlock,o=t.isQuickTurn;this.direction=e,this.isQuickTurn=o||!1,this.unlock=n,this._clearPage(i.destroyIndex),this._updatePointer(i),this._createNextPage(e,i)}},{key:"_runPageBase",value:function(t){this.$$mediator;var e=this.$$mediator.options,i=this.pagePointer,n=i.frontIndex,o=i.middleIndex,r=i.backIndex,a=t?t.action:"",s=t?t.createPointer:"",l=this.direction;s&&(s=yo(e,s));var c={frontIndex:n,middleIndex:o,backIndex:r,direction:l,createPointer:s,isQuickTurn:this.isQuickTurn,suspendIndex:"init"===a?"":"next"===l?n:r,suspendCallback:e.suspendAutoCallback,buildComplete:function(t){if(jr.launch.historyMode&&!e.isInApp&&(e.isMain&&F("history"),e.hasMultiScene)){var i=Ju.sequence(t,o);i&&B("history",i)}},processComplete:function(){Xut.Application.Notify("autoRunComplete")}};this.pageMgr.autoRun(c),this.getMasterContext(function(){(a||this.isBoundary)&&this.autoRun(c)});var u=function(){0==o?Xut.View.HidePrevBar():o==e.pageTotal-1?(Xut.View.HideNextBar(),Xut.View.ShowNextBar()):(Xut.View.ShowNextBar(),Xut.View.ShowPrevBar())};switch(a){case"init":case"toPage":Xut.View.UpdatePage({action:a,parentIndex:o,direction:l}),u.call(this)}jr.launch&&jr.launch.historyMode&&!e.hasMultiScene&&B("pageIndex",o),this.unlock&&(this.unlock(),this.unlock=null),this.isQuickTurn=!1}},{key:"_clearPage",value:function(t){var e=this;xo(t).forEach(function(t){e.pageMgr.clearPage(t)})}},{key:"_updatePointer",value:function(t){this.pagePointer=t}},{key:"_createNextPage",value:function(t,e){var i=this,n=this.$$mediator.options.pageTotal,o=e.createIndex,r=e.middleIndex,a=function(){e.createIndex=null,e.destroyIndex=null},s=function(){return i.createPageBase([o],r,"flipOver")};if("prev"===t){if(0===r)return this._runPageBase(),2==n&&Xut.View.ShowNextBar(),void Xut.View.HidePrevBar();if(r>-1)return s(),a(),void Xut.View.ShowNextBar()}if("next"===t){if(r===n-1)return this._runPageBase(),2==n&&Xut.View.ShowPrevBar(),void Xut.View.HideNextBar();if(o<n)return s(),a(),void Xut.View.ShowPrevBar()}a()}},{key:"gotoPageBases",value:function(t){Xut.View.ShowBusy(),this.$$mediator.options.hasMultiPage||(t.create=[t.targetIndex],t.destroy=[t.visualIndex],t.ruleOut=[t.targetIndex],t.pagePointer={middleIndex:t.targetIndex}),So(this,t,function(t){this._updatePointer(t.pagePointer),this._runPageBase({action:"toPage",createPointer:t.create}),Xut.View.HideBusy(),t.callback&&t.callback()})}},{key:"getMasterContext",value:function(t){this.masterMgr&&t.call(this.masterMgr)}},{key:"destroyManage",value:function(){this.pageMgr.destroyManage(),this.getMasterContext(function(){this.destroyManage()})}},{key:"initPage",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$$mediator.$$emit("createPageComplete",function(){i&&e._runPageBase({action:t})})}}]),t}(),Xd="Content_",$d=["page","master"],Bd=function(t){function e(t){Pr(this,e);var i=Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=i,o=n.options=_.extend({hasMultiScene:!1,hasMultiPage:!1},t);Ho(o);var r=!1;5===jr.launch.visualMode&&(r=!0);var a={insideScroll:r,scope:"child",snap:!0,hasHook:!0,container:o.sceneNode,visualIndex:o.initIndex,totalIndex:o.pageTotal,actualWidth:jr.visualSize.width,actualHeight:jr.visualSize.height,visualWidth:jr.screenSize.width,hasMultiPage:o.hasMultiPage,sectionRang:o.sectionRang};!1!==jr.launch.mouseWheel&&"v"===jr.launch.scrollMode&&(a.mouseWheel=!0),5===jr.launch.visualMode&&(a.borderBounce=!1),_.extend(a,hd.getConfig());var s=n.$$globalSwiper=new hd(a),l=n.$$scheduler=new Rd(n);o.hasMultiPage&&i._mixTool(n);var c=null;s.$$watch("onFilter",function(t,e,i){var n=e.target;ao(i,n);var o=zo(n),r=s.findBubbleRootNode(e,o);if(!(c=so.call(r,e,o))){if(2===jr.launch.visualMode)return;if(5===jr.launch.visualMode)return}c&&"disable"!==c.attribute||t()}),s.$$watch("onTap",function(t,e){c&&(c.handlers?c.handlers(c.elem,c.attribute,c.rootNode,t):Xut.Contents.Canvas.getIsTap()||Xut.View.ToggleToolbar(),c=null,e())}),s.$$watch("onMove",function(t){l.movePageBases(t)}),s.$$watch("onEnd",function(t){l.suspendPageBases(t)}),s.$$watch("onComplete",function(){l.completePageBases.apply(l,arguments)});var u=!1;return s.$$watch("onWheel",function(t,e){var i=Xut.Presentation.GetPageBase(s.visualIndex);if(i&&i.hasColumnData){var n=i.columnGroup.get()[0];if(n&&("touch"===n.getEntry()&&(u=!1),!u)){var o=e>0?"up":"down";n&&n.onWheel(t,e,o)}}else u=!0,e>0?s.prev({speed:Xut.plat.isMacOS?600:300,callback:function(){u=!1}}):s.next({speed:Xut.plat.isMacOS?600:300,callback:function(){u=!1}})}),s.$$watch("onJumpPage",function(t){l.gotoPageBases(t)}),s.$$watch("onDropApp",function(t){window.GLOBALIFRAME&&Xut.publish("magazine:dropApp")}),s.$$watch("onMasterMove",function(t,e){/Content/i.test(e.id)&&e.getAttribute("data-parallaxProcessed")&&l.masterMgr&&l.masterMgr.reactivation(e)}),i.destorySceneApi=Fo(i),i}return Ar(e,Ks),Er(e,[{key:"_mixTool",value:function(t){_.extend(dd,{"data-container":function(){Xut.View.ToggleToolbar()},"data-multilayer":function(){Xut.View.ToggleToolbar()},"data-behavior":function(t,e,i,n){"click-swipe"==e&&Xut.View.ToggleToolbar()}})}}]),e}();h(Bd.prototype,"$hasMultiScene",{get:function(){return this.options.hasMultiScene}}),h(Bd.prototype,"$injectionComponent",{set:function(t){var e;(e=this.$$scheduler[t.pageType+"Mgr"])?e.assistPocess(t.pageIndex,function(e){e.baseAddComponent.call(e,t.widget)}):console.log("注册injection失败,regData="+t)}}),h(Bd.prototype,"$curVmPage",{get:function(){return this.$$scheduler.pageMgr.$$getPageBase(this.$$globalSwiper.getVisualIndex())}}),u(Bd.prototype,"$bind",function(t,e){var i=this;i.$$watch(t,function(){e.apply(i,arguments)})}),u(Bd.prototype,"$init",function(){this.options.isMain&&this.options.hasHistory?this.$$scheduler.initPage("init",!1):this.$$scheduler.initCreate()}),u(Bd.prototype,"$reset",function(){return this.$$scheduler.pageMgr.resetOriginal(this.$$globalSwiper.getVisualIndex())}),u(Bd.prototype,"$suspend",function(){Xut.Application.Suspend({skipAudio:!0})}),u(Bd.prototype,"$destroy",function(){this.$$unWatch(),this.$$globalSwiper.destroy(),this.$$scheduler.destroyManage(),this.$$scheduler=null,this.$$globalSwiper=null,this.destorySceneApi()});var Ld=Xut.plat.isIOS,Fd=Xut.plat.isBrowser,Hd=function(){var t=jr.data.iconHeight,e="height:"+t+"px;width:"+t+"px",i=jr.data.settings;if(i)switch(i.NavbarPos){case 0:e+=";top:0";break;case 1:e+=";margin-top:"+-t/2+"px";break;case 2:e+=";top:auto;bottom:0"}return e},zd=function(){function t(e){Pr(this,t),e&&_.extend(this,e),this.$$barHeight=Ld&&!Fd?20:0;var i=jr.proportion;this.$$propHeight="horizontal"==jr.layoutMode?i.width:i.height;var n=jr.data.iconHeight;this.$$iconHeight=Ld?n:Math.round(this.$$propHeight*n),this.$$appName=jr.data.shortName,this.$$setTable=jr.data.settings,this._initState(),this._initToolbar()}return Er(t,[{key:"_$$getArrowOption",value:function(){return{style:Hd(),state:this.barStatus?"":"hide",height:jr.data.iconHeight}}},{key:"_$$createIcon",value:function(){var t=Hd(),e=this.toolBarStatus?"":"hide";return'<div name="prevArrow"\n                 class="xut-flip-control xut-flip-control-left '+e+'"\n                 style="'+(t+";background-image:url(images/icons/pageforward_"+jr.data.appId+".svg);background-size:cover")+'">\n           </div>\n           <div name="nextArrow"\n                class="xut-flip-control xut-flip-control-right '+e+'"\n                style="'+(t+";background-image:url(images/icons/pageback_"+jr.data.appId+".svg);background-size:cover")+'">\n           </div>'}},{key:"_$$createArrow",value:function(){var t=this._$$getArrowOption();return'<div class="si-icon xut-flip-control xut-flip-control-left xut-icon-angle-left '+t.state+'"\n                 style="'+t.style+";text-align:center;line-height:"+t.height+'px;font-size:4vh;">\n            </div>\n            <div class="si-icon xut-flip-control xut-flip-control-right xut-icon-angle-right '+t.state+'"\n                 style="'+t.style+";text-align:center;line-height:"+t.height+'px;">\n            </div>'}},{key:"_$$bindArrow",value:function(t,e){return t.on("mouseup touchend",function(t){return e(),!1}),function(){t.off(),t=null}}},{key:"_$$showToolBar",value:function(t){switch(t){case"controlBar":this._showTopBar();break;case"button":this._$$showArrow(),this.Lock=!1;break;default:this._showTopBar(),this._$$showArrow()}}},{key:"_$$hideToolBar",value:function(t){switch(t){case"controlBar":this._hideTopBar();break;case"button":this._$$hideArrow(),this.Lock=!1;break;default:this._hideTopBar(),this._$$hideArrow()}}},{key:"_$$toggleArrow",value:function(t,e){if(this.arrows){var i=this.arrows[t];i&&(i.able=e,this.hasTopBar&&!this.toolBarStatus&&e||i.el[e?"show":"hide"]())}}},{key:"_$$showSystemBar",value:function(){Ld&&Xut.plat.hasPlugin&&Xut.Plugin.statusbarPlugin.setStatus(null,null,0)}},{key:"_$$hideSystemBar",value:function(){Ld&&Xut.plat.hasPlugin&&Xut.Plugin.statusbarPlugin.setStatus(null,null,1)}},{key:"_$$createArrows",value:function(){this.arrows=g();var t=void 0,e=(t=this.$$setTable.customButton?$(String.styleFormat(this._$$createIcon())):$(String.styleFormat(this._$$createArrow()))).eq(0),i=t.eq(t.length-1);this.arrows={prev:{off:this._$$bindArrow(e,function(){Xut.View.GotoPrevSlide()}),el:e,able:!0},next:{off:this._$$bindArrow(i,function(){Xut.View.GotoNextSlide()}),el:i,able:!0}},this.$sceneNode.append(t)}},{key:"_$$showArrow",value:function(){var t=this.arrows;for(var e in t){var i=t[e];i.able&&i.el.show()}}},{key:"_$$hideArrow",value:function(){var t=this.arrows;for(var e in t)t[e].el.hide()}},{key:"resetArrow",value:function(){this.toolBarStatus?this._$$showArrow():this._$$hideArrow()}},{key:"hideNavbar",value:function(){this.navbarObj&&this.navbarObj.hide("hide")}},{key:"hideNext",value:function(){this._$$toggleArrow("next",!1)}},{key:"showNext",value:function(){this._$$toggleArrow("next",!0)}},{key:"hidePrev",value:function(){this._$$toggleArrow("prev",!1)}},{key:"showPrev",value:function(){this._$$toggleArrow("prev",!0)}},{key:"toggle",value:function(t,e){if(!this.Lock)switch(this.Lock=!0,t){case"show":this._$$showToolBar(e);break;case"hide":this._$$hideToolBar(e);break;default:this.toolBarStatus?this._$$hideToolBar(e):this._$$showToolBar(e)}}},{key:"destroy",value:function(){this._destroy(),this.arrows&&(this.arrows.prev.off(),this.arrows.next.off(),this.arrows=null)}}]),t}(),Wd=Math.round,jd=Xut.plat.isIOS,Gd=jd?20:0,Yd=function(){var t=jr.data.iconHeight,e=jr.proportion,i=jr.visualSize,n="horizontal"==jr.layoutMode;e=n?e.width:e.height,t=jd?t:Wd(e*t);var o=void 0,r=void 0,a=i.width,s=i.height;return n?o=Wd(s/6):(r=Math.min(a,s)/(jd?8:3),o=Wd(.96*(s-t-Gd))),{sWidth:a,sHeight:s,navHeight:o,navWidth:r,proportion:e}},Vd=function(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=Yd(),u=Wd(2*c.proportion),h=c.navWidth,d=c.navHeight,p=c.sWidth,f=c.sHeight;return"horizontal"==jr.layoutMode?(i=Wd(.9*d),o="width:"+t*((e=Wd(i*p/f))+(n=Wd(.05*d)))+"px>",r="float:left;width:"+e+"px;height:"+i+"px;margin-left:"+n+"px",a="width:96%;height:"+i+"px;margin:"+n+"px auto;font-size:"+u+"em",s=e*t+t*n):(r="width:"+(e=Wd(.9*h))+"px;height:"+(i=Wd(1.1*h))+"px;margin:"+(n=Wd(.05*h))+"px auto;border-bottom:1px solid rgba(0,0,0,0.3)",a="height:"+(d-4)+"px;overflow:hidden;margin:2px auto;font-size:"+u+"em",l=i*t+t*n),{contentstyle:r,containerstyle:a,overwidth:s,overHeigth:l,scroller:o}},Ud=function(){function t(e){Pr(this,t),this._isHorizontal="horizontal"===jr.layoutMode,this._pagedata=e,this._$section=$("#xut-nav-section-list"),this._$list=this._$section.find("li")}return Er(t,[{key:"userIscroll",value:function(t){var e=this,i=this._isHorizontal;this.hBox?i?this.hBox.goToPage(t,0,0):this.hBox.goToPage(0,t,0):(this.hBox=Ri("#xut-nav-wrapper",{snap:"li",tap:!0,scrollX:i,scrollY:!i,scrollbars:"custom",fadeScrollbars:!0,stopPropagation:!0}),this.hBox.on("scrollEnd",function(t){e.createThumb(),e._removeThumb()}),this._$section.on("tap",this._toJump))}},{key:"_toJump",value:function(t){var e=t.target;if(e){var i=e.getAttribute("data-xxtlink");i&&(i=i.split("-"),Xut.View.GotoSlide(i[0],i[1]))}}},{key:"createThumb",value:function(){var t=this._getPageIndex(),e=this._getViewLen(),i=this.createBak||[],n=[],o=this._pagedata,r=o.length;t=t+(e=e>r?r:e)>r?r-e:t;var a=0,s=void 0,l=void 0;for(a=0;a<e;a++)l=o[s=t+a],n.push(s),_.contains(i,s)||(i.push(s),l.iconImage?this._$list.eq(s).css({"background-image":"url("+q(l.iconImage,"navbar-bg")+")"}):this._$list.eq(s).css({"background-image":"url("+q(l.md5,"navbar-bg")+")","background-color":"white"}));this.createNew=n,this.createBak=i}},{key:"_removeThumb",value:function(){var t=this._$list,e=this.createNew,i=this.createBak;_.each(i,function(n,o){_.contains(e,n)||(i[o]=-1,t.eq(n).css({background:""}))}),this.createBak=_.without(i,-1)}},{key:"_getPageIndex",value:function(){return this.hBox.options.scrollX?this.hBox.currentPage.pageX:this.hBox.currentPage.pageY}},{key:"_getViewLen",value:function(){var t=this.hBox,e=1,i=1,n=this._pagedata.length;return this._isHorizontal?(e=t.scrollerWidth/n,i=t.wrapperWidth/e):(e=t.scrollerHeight/n,i=t.wrapperHeight/e),Math.ceil(i)+1}},{key:"scrollTo",value:function(t){this.userIscroll(t)}},{key:"refresh",value:function(){this.hBox&&this.hBox.refresh()}},{key:"destroy",value:function(){this.hBox&&(this._$section.off(),this._$section=null,this._$list=null,this.hBox.destroy(),this.hBox=null),this._pagedata=null}}]),t}(),qd=function(){function t(e){Pr(this,t),this.pageIndex=e,this.isRunning=!1,this.$container=$(".xut-nav-bar"),this.$button=$(".xut-control-navbar"),this._initialize()}return Er(t,[{key:"toggle",value:function(t){this.pageIndex=t,this._navControl()}},{key:"hide",value:function(){this.isRunning&&this._navControl()}},{key:"destroy",value:function(){this.sectionObj&&(this.sectionObj.destroy(),this.sectionObj=null),this.$container=null,this.$button=null}}]),Er(t,[{key:"_initialize",value:function(){var t=this,e=[];Xut.data.query("Chapter",Xut.data.novelId,"seasonId",function(t){return e.push(t)}),Xut.nextTick({container:this.$container,content:Wo(e)},function(){t.sectionObj=new Ud(e),t.sectionObj.userIscroll(t.pageIndex),t.sectionObj.createThumb(),t._navControl()})}},{key:"_navControl",value:function(){var t="in"===(this.$button.attr("fly")||"in");t&&this.$container.css({"z-index":0,opacity:0,display:"block"}),this.$button.css("opacity",t?.5:1),t?(this.sectionObj.refresh(),this.sectionObj.scrollTo(this.pageIndex),this.$container.css({"z-index":Xut.zIndexlevel(),opacity:1}),this.$button.attr("fly","out"),this.isRunning=!0):(this.$button.attr("fly","in"),this.$container.hide(),this.isRunning=!1)}}]),t}(),Kd=function(t){function e(t){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return Ar(e,zd),Er(e,[{key:"_initState",value:function(){this.Lock=!1,this.delay=50,this.hasTopBar=!0,this.currPageNode=null,this.$controlNode=this.$sceneNode.find(".xut-control-bar"),this.eventElement=this.$controlNode[0]}},{key:"_initToolbar",value:function(){_.some(this.toolType)&&this._initTopBar(),this.arrowButton&&this._$$createArrows()}},{key:"_barPostion",value:function(t,e){1==e?t.css({bottom:0,height:this.$$iconHeight+"px"}):t.css({top:0,height:this.$$iconHeight+"px",paddingTop:""+this.$$barHeight})}},{key:"_initTopBar",value:function(){var t=this.$controlNode;this.toolBarStatus="none"!==t.css("display"),this._barPostion(t,this.$$setTable.ToolbarPos);var e="";this.$$setTable.HomeBut&&(e+=jo(this.$$iconHeight)),this.$$setTable.ContentBut&&(e+=Go(this.$$iconHeight)),e+=Yo(this.$$iconHeight,this.$$appName),e+=Uo(this.$$iconHeight),this.$$setTable.CloseBut&&(e+=qo(this.$$iconHeight)),this.$$setTable.PageBut&&(e+=Vo(this.$$iconHeight,this.currentPage,this.pageTotal)),Xut.nextTick(t.append(String.styleFormat(e))),this.currPageNode=t.find(".control-current-page"),C(this.eventElement,{start:this})}},{key:"_toggleNavBar",value:function(){var t=Xut.Presentation.GetPageIndex();this.navbarObj?this.navbarObj.toggle(t):this.navbarObj=new qd(t)}},{key:"handleEvent",value:function(t){P({start:function(t){switch(E(t).className){case"xut-control-backhome":e.goHomePage();break;case"xut-control-navbar":this._toggleNavBar();break;case"xut-control-hidebar":this._hideTopBar()}}},this,t)}},{key:"_showTopBar",value:function(){var t=this;this.toolBarStatus?this.Lock=!1:(this.$controlNode.css({display:"block",opacity:0}),t.$controlNode&&t.$controlNode.transition({opacity:1},t.delay,"in",function(){t.hideNavbar(),t._$$showSystemBar(),t.toolBarStatus=!0,t.Lock=!1}))}},{key:"_hideTopBar",value:function(){var t=this;this.toolBarStatus?this.$controlNode&&this.$controlNode.transition({opacity:0},t.delay,"in",function(){t.hideNavbar(),t.$controlNode.hide(),t._$$hideSystemBar(),t.toolBarStatus=!1,t.Lock=!1}):this.Lock=!1}},{key:"_destroy",value:function(){this.navbarObj&&this.navbarObj.destroy(),I(this.eventElement),this.currPageNode=null,this.toolBarStatus=!1,this.$controlNode=null,this.eventElement=null}},{key:"updatePointer",value:function(t){var e=t.parentIndex;this.currPageNode&&this.currPageNode.html(e+1)}}],[{key:"goHomePage",value:function(){window.DUKUCONFIG?Xut.Application.Suspend({processed:function(){Xut.Application.DropApp()}}):Xut.Application.Suspend({processed:function(){Xut.View.GotoSlide(1)}})}}]),e}(),Qd=Xut.plat.isIOS,Zd=function(){Xut.View.CloseScenario()},Jd=function(t){function e(t){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return Ar(e,zd),Er(e,[{key:"_initState",value:function(){this.pageTips=null,this.currTip=null,this.tipsMode=0,this.top=this.$$barHeight,this.Lock=!1,this.delay=50,this.hasTopBar=!1,this.barStatus=!0}},{key:"_initToolbar",value:function(){var t=void 0;for(this.$sceneNode.hide(),this.controlBar=[];t=this.toolType.shift();)switch(t){case 1:this._createSystemBar();break;case 2:this._createCloseIcon();break;case 3:this._createBackIcon();break;case 4:this._createPageTips();break;default:this.barStatus=!1,this.hasTopBar=!1}this.arrowButton&&this._$$createArrows(),this.$sceneNode.show()}},{key:"_createSystemBar",value:function(){var t='<div class="xut-control-bar"\n                         style="top:0;height:'+this.$$iconHeight+"px;padding-top:"+this.top+'px">\n                    </div>';t=$(String.styleFormat(t)),this._$$showSystemBar(),this._createBackIcon(t),this._createTitle(t),this._createPageNum(t),this.controlBar=t,this.$sceneNode.append(t),this.hasTopBar=!0}},{key:"_createPageTips",value:function(){var t=this,e=this.pageTotal,i=this.$$iconHeight,n="",o="";if(e<2)return n;for(var r=Qd?7:Math.max(8,Math.round(8*this.$$propHeight)),a=2.5*r,s=e*a,l=(i-r)/2,c=(jr.visualSize.width-s)/2,u=1;u<=e;u++)o+='<li class="xut-scenario-dark"\n                      style="float:left;width:'+a+"px;height:"+i+'px;"\n                      data-index="'+u+'">\n                    <div class="xut-scenario-radius"\n                          style="width:'+r+"px;height:"+r+"px;margin:"+l+'px auto">\n                    </div>\n                </li>';n='<ul class="xut-scenario-tips"\n                    style="top:'+this.top+"px;left:"+c+"px;width:"+s+'px;opacity:0.6">\n                    '+o+"\n                </ul>",n=$(String.styleFormat(n)),this.$tipsNode=n,this.$tipsNode.on("click",function(e){var i=e.target;switch(i.className){case"xut-control-nav-hide":t.hideTopBar();break;case"xut-scenario-dark":if(t.arrowButton){var n=i.getAttribute("data-index")||1;Xut.View.GotoSlide(Number(n))}}}),this.pageTips=n.children(),this.tipsMode=1,this.controlBar.push(n),this.$sceneNode.append(n)}},{key:"_onBackClose",value:function(t){return t.on("mouseup touchend",function(t){return Zd(),!1}),function(){t.off(),t=null}}},{key:"_createCloseIcon",value:function(){var t=this.$$iconHeight,e=$('<div class="si-icon xut-scenario-close xut-icon-close2"\n                style="top:'+this.top+"px;width:"+t+"px;height:"+t+"px;line-height:"+t+'px;text-align:center;font-size:3vh;">\n            </div>');this.$closeIcon=e,this._onBackClose(this.$closeIcon),this.controlBar.push(e),this.$sceneNode.append(e)}},{key:"_createBackIcon",value:function(){var t=this.$$iconHeight,e=$('<div class="si-icon xut-scenario-back xut-icon-arrow-left"\n                  style="top:'+this.top+"px;width:"+t+"px;height:"+t+"px;line-height:"+t+'px;">\n            </div>');this.$backIcon=e,this._onBackClose(this.$backIcon),this.controlBar.push(e),this.$sceneNode.append(e)}},{key:"_createPageNum",value:function(t){var e,i=this.pageTotal,n=this.top,o=this.$$iconHeight;e='<div class="xut-control-pageindex"\n                  style="position:absolute;\n                         right:4px;\n                         top:'+(.25*o+n)+"px;\n                         padding:0 0.25em;\n                         height:"+.5*o+"px;\n                         line-height:"+.5*o+'px;\n                         border-radius:0.5em">\n                <span class="currentPage">'+this.currentPage+"</span>/<span>"+i+"</span>\n            </div>",e=$(String.styleFormat(e)),this.tipsMode=2,this.currTip=e.children().first(),t.append(e)}},{key:"_createTitle",value:function(t){var e='<div class="xut-control-title"\n                  style="line-height:'+this.$$iconHeight+'px">\n                '+this.$$appName+"\n            </div>";t.append(String.styleFormat(e))}},{key:"_showTopBar",value:function(){var t=this,e=this.delay,i=this.controlBar;this.barStatus?this.Lock=!1:this.hasTopBar?(i.css({display:"block",opacity:0}),setTimeout(function(){i.transition({opacity:1},e,"linear",function(){t.__showSystemBar(),t.barStatus=!0,t.Lock=!1})})):i.forEach(function(e){e.show(),t.Lock=!1,t.barStatus=!0})}},{key:"_hideTopBar",value:function(){var t=this,e=this.delay,i=this.controlBar;this.barStatus?this.hasTopBar?i.transition({opacity:0},e,"linear",function(){t.controlBar.hide(),t.__hideSystemBar(),t.barStatus=!1,t.Lock=!1}):i.forEach(function(i){i.hide(e,function(){t.Lock=!1,t.barStatus=!1})}):this.Lock=!1}},{key:"_destroy",value:function(){this.$sceneNode=null,this.controlBar=null,this.pageTips=null,this.currTip=null,this.prevTip=null,this.$tipsNode&&(this.$tipsNode.off(),this.$tipsNode=null),this.$closeIcon&&(this.$closeIcon.off(),this.$closeIcon=null),this.$backIcon&&(this.$backIcon.off(),this.$backIcon=null)}},{key:"updatePointer",value:function(t){var e=t.parentIndex;switch(this.tipsMode){case 1:this.prevTip&&(this.prevTip.className="xut-scenario-dark"),this.currTip=this.pageTips[e],this.currTip.className="xut-scenario-light",this.prevTip=this.currTip;break;case 2:this.currTip.html(e+1)}}}]),e}(),tp=parseInt($("body").css("font-size"))||16,ep=void 0,ip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.parent,n=e.pageId,o=e.seasonId;Pr(this,t),this.parent=i,this.pageId=n,this.seasonId=o;var r=jr.visualSize;this.sHeight=r.height,this.sWidth=r.width,this.isStored=!1,this.init()}return Er(t,[{key:"init",value:function(){var t=this.createBookMarkFont(),e=this.parent[0],i=this;this.parent.append(t),this.bookMarkMenu=t.eq(0),setTimeout(function(){i.restore()},20),ep=this.getHistory(),C(e,{end:this})}},{key:"createBookMarkFont",value:function(){var t=3*tp,e=this.sHeight,i='<div class="xut-bookmark-menu"\n               style="width:100%;height:'+t+"px;left:0;top:"+e+'px;">\n              <div class="xut-bookmark-wrap">\n                <div class="xut-bookmark-add">加入书签</div>\n                <div class="xut-bookmark-off xut-icon-chevron-down" style="vertical-align:bottom;"></div>\n                <div class="xut-bookmark-view">书签记录</div>\n              </div>\n            </div>\n            <div class="xut-bookmark-list" style="display:none;width:100%;height:'+e+'px;">\n              <ul class="xut-bookmark-head">\n                <li class="xut-bookmark-back">返回</li>\n                <li>书签</li>\n              </ul>\n              <ul class="xut-bookmark-body"></ul>\n            </div>';return this.markHeight=t,$(i)}},{key:"createMarkList",value:function(){var t,e,i,n="",o=this;return _.each(ep,function(r){t=r.split("-"),e=t[0],i=t[1],r=o.getMarkId(e,i),n+='<li>\n               <a data-mark="'+r+'" class="xut-bookmark-id" href="javascript:0">第'+i+'页</a>\n               <a class="xut-bookmark-del" data-mark="'+r+'" href="javascript:0">X</a>\n             </li>'}),n}},{key:"getMarkId",value:function(t,e){return t+"-"+e}},{key:"getHistory",value:function(){var t=L("bookMark");return t?t.split(","):[]}},{key:"addBookMark",value:function(){var t;this.updatePageInfo(),t=this.getMarkId(this.seasonId,this.pageId),ep.indexOf(t)>-1||(ep.push(t),B("bookMark",ep))}},{key:"updatePageInfo",value:function(){var t=Xut.Presentation.GetPageData();this.pageId=t._id,this.seasonId=t.seasonId}},{key:"delBookMark",value:function(t){if(t&&t.dataset){var e=t.dataset.mark,i=ep.indexOf(e);ep.splice(i,1),B("bookMark",ep),0==ep.length&&F("bookMark"),$(t).parent().remove()}}},{key:"viewBookMark",value:function(t){var e,i=this.createMarkList();(e=this.bookMarkList?this.bookMarkList:$(t).parent().parent().next()).find(".xut-bookmark-body").html(i),this.bookMarkList=e,e.fadeIn()}},{key:"iconManager",value:function(t){var e=this.bookMarkIcon=$(t),i=this.iconRestore;e.css({transform:"scale(1.2)","transition-duration":"500ms"})[0].addEventListener(Xut.style.transitionEnd,i.bind(this),!1)}},{key:"iconRestore",value:function(){this.bookMarkIcon.css("transform","")}},{key:"goBookMark",value:function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),i=Number(e[0]),n=Number(e[1]);this.updatePageInfo(),this.backBookMark(),this.pageId==n&&this.seasonId==i||Xut.View.LoadScenario({seasonId:i,chapterId:n})}}},{key:"backBookMark",value:function(){this.bookMarkList.fadeOut()}},{key:"handleEvent",value:function(t){var e=t.target;P({end:function(t){switch(E(t).className){case"xut-bookmark-add":this.addBookMark(),this.iconManager(e);break;case"xut-bookmark-view":this.viewBookMark(e),this.iconManager(e);break;case"xut-bookmark-off":case"xut-bookmark-off xut-icon-chevron-down":this.closeBookMark(e);break;case"xut-bookmark-back":this.backBookMark();break;case"xut-bookmark-del":this.delBookMark(e);break;case"xut-bookmark-id":this.goBookMark(e)}}},this,t)}},{key:"closeBookMark",value:function(t){Xut.style.setTranslate({speed:1e3,node:this.bookMarkMenu})}},{key:"restore",value:function(){Xut.style.setTranslate({y:-this.markHeight,speed:1e3,node:this.bookMarkMenu})}},{key:"destroy",value:function(){I(this.parent),this.bookMarkMenu&&(this.bookMarkMenu.remove(),this.bookMarkMenu=null),this.bookMarkList&&(this.bookMarkList.remove(),this.bookMarkList=null),this.bookMarkIcon&&(this.bookMarkIcon[0].removeEventListener(Xut.style.transitionEnd,this.iconRestore,!1),this.bookMarkIcon=null),this.parent=null}}]),t}(),np=(function(t){function e(t){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}Ar(e,zd),Er(e,[{key:"_initState",value:function(){this.$controlNode=this.$sceneNode.find(".xut-control-bar"),this.hasTopBar=!0,this.Lock=!1,this.delay=50,this.topBarHeight=1.25*this.$$iconHeight}},{key:"_initToolbar",value:function(){var t=this.$controlNode.css("display");this.barStatus="none"!=t,this._setToolbarStyle(),this._createBackIcon(),this._createDirIcon(),this._createMarkIcon(),this.arrowButton&&this._$$createArrows(),C(this.$sceneNode,{end:this,cancel:this})}},{key:"_setToolbarStyle",value:function(){var t=this.topBarHeight;this.$controlNode.css({top:0,height:t+"px",paddingTop:this.$$barHeight+"px",backgroundColor:"rgba(0, 0, 0, 0.2)",fontSize:"0.625em",color:"white"})}},{key:"_createDirIcon",value:function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div");t.style.width="48px",t.style.height="100%",t.style.float="left",t.style.marginLeft="3vw",t.style.cursor="pointer",t.style.position="relative",e.style.fontSize="2.5vh",e.style.color="#fff",e.className="xut-icon-th-list2",e.style.position="absolute",e.style.bottom=.5*this.$$iconHeight+"px",i.innerHTML="目录",i.className="xut-book-dirFont",i.style.position="absolute",i.style.bottom="0",t.appendChild(e),t.appendChild(i),this.$controlNode.append(t)}},{key:"_createMarkIcon",value:function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div");t.style.width="48px",t.style.height="100%",t.style.float="left",t.style.marginLeft="1vw",t.style.cursor="pointer",t.style.position="relative",e.style.fontSize="2.5vh",e.style.color="#fff",e.style.position="absolute",e.style.bottom=.5*this.$$iconHeight+"px",e.className="xut-icon-bookmark2",i.innerHTML="书签",i.className="xut-book-markFont",i.style.position="absolute",i.style.bottom="0",t.appendChild(e),t.appendChild(i),this.$controlNode.append(t)}},{key:"_createStarIcon",value:function(t){var e=document.createElement("div");e.innerHTML="评分",e.style.width=this.$$iconHeight+"px",e.style.lineHeight=1.5*this.topBarHeight+"px",e.className="xut-book-bar-star",this.$controlNode.append(e)}},{key:"_createBackIcon",value:function(){var t=document.createElement("div");t.style.width=this.topBarHeight+"px",t.style.lineHeight=this.topBarHeight+"px",t.style.color="#fff",t.className="xut-icon-angle-left xut-icon-book-bar",t.style.fontSize="6vh",this.$controlNode.append(t)}},{key:"_createDirMenu",value:function(){var t=this,e=document.createElement("div"),i=document.createElement("div");i.className="xut-book-menu-mask",this._getDirContent(),e.className="xut-book-menu",e.innerHTML="<ul>"+this.contentText+"</ul>",this.$sceneNode.append(e),this.isScrolled=!1,this.iscroll=Ri(e,{scrollbars:"custom",fadeScrollbars:!0,scrollX:!1}),this.menu=e,this._setColor(),this.iscroll.on("scrollStart",function(e){t.isScrolled=!0}),this.iscroll.on("scrollEnd",function(e){t.isScrolled=!1}),e.appendChild(i)}},{key:"_showDirMenu",value:function(){var t=Xut.Presentation.GetPageElement();this.menu?this.menu.style.display="block":this._createDirMenu(),t.addClass("filter"),this.page=t,this.$controlNode.hide();var e=this.iscroll;e.y>e.wrapperHeight&&e.scrollToElement(this.selectedChild)}},{key:"_hideDirMenu",value:function(){this.menu.style.display="none",this.$controlNode.show(),this.page.removeClass("filter")}},{key:"_getDirContent",value:function(){var t=Xut.Presentation.GetAppSectionData(),e=t[0],i=e._id,n=Xut.data.Chapter;if(t=m(e.parameter)){var o,r,a,s,l=0,c=t.length,u='<li class="title"><center class="select">目录</center></li>';for(l;l<c;l++)a=(o=t[l]).ChapterList[0],s=o.ChapterList[1],r=i+"-"+a,o.SeasonTitle.length<=0||(u+='<li><a class="xut-book-menu-item" data-mark="'+r+'" href="javascript:0">'+(o.SeasonTitle||"第"+(l+1)+"章")+"</a>"+function(t,e){var o,r="";for(t;t<=e;t++)(o=n.item(t-1))&&o.chapterTitle&&(r+='<section><a class="xut-book-menu-item" data-mark='+i+"-"+t+' href="javascript:0">'+o.chapterTitle+"</a></section>");return r}(a,s)+"</li>");this.contentText=u}else console.log("book模式parameter数据出错")}},{key:"_setColor",value:function(t){this.selectedChild&&(this.selectedChild.className="xut-book-menu-item"),t&&this.menu&&((t=t||this.menu.querySelectorAll("li")[0].children[0]).className="select",this.selectedChild=t)}},{key:"_turnToPage",value:function(t){if(!this.isScrolled){this._setColor(t),this._hideDirMenu();var e=t.dataset.mark||"";e&&(e=e.split("-"),Xut.View.LoadScenario({seasonId:e[0],chapterId:e[1]}))}}},{key:"_showBookMark",value:function(){if(this.bookMark)this.bookMark.restore();else{var t=Xut.Presentation.GetPageData();this.bookMark=new ip({parent:this.$sceneNode,seasonId:t.seasonId,pageId:t._id})}}},{key:"_goBack",value:function(){var t=this;Xut.Application.Suspend({processed:function(){Xut.View.GotoSlide(1),t._setColor()}})}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;P({end:function(t){switch(E(t).className){case"xut-icon-angle-left xut-icon-book-bar":this._goBack();break;case"xut-icon-th-list2":case"xut-book-dirFont":this._showDirMenu();break;case"xut-icon-bookmark2":case"xut-book-markFont":this._showBookMark();break;case"xut-book-bar-star":break;case"xut-book-menu-item":this._turnToPage(e);break;case"xut-book-menu-mask":case"select":this._hideDirMenu()}}},this,t)}},{key:"_showTopBar",value:function(){var t=this;this.barStatus?this.Lock=!1:(this.$controlNode.css({display:"block",opacity:0}),setTimeout(function(){t.$controlNode.transition({opacity:1},t.delay,"linear",function(){t._$$showSystemBar(),t.barStatus=!0,t.Lock=!1})},50))}},{key:"_hideTopBar",value:function(){var t=this;this.barStatus?this.$controlNode.transition({opacity:0},t.delay,"linear",function(){t.$controlNode.hide(),t._$$hideSystemBar(),t.barStatus=!1,t.Lock=!1}):this.Lock=!1}},{key:"_destroy",value:function(){this.iscroll&&this.iscroll.destroy(),this.bookMark&&this.bookMark.destroy(),I(this.$sceneNode),this.iscroll=null,this.menu=null,this.page=null}},{key:"updatePointer",value:function(){}}])}(),function(){function t(e,i){Pr(this,t),this.pageBar=e;for(var n in i)this[n]=i[n];this._$$template()}return Er(t,[{key:"_$$template",value:function(){var t=this;this._init&&this._init(),this._parseBar&&this._parseBar();var e=this._createHTML();e&&(this.$container=$(String.styleFormat(e)),this._getContextNode(),this.status=!0,Xut.nextTick(function(){t._render()}))}},{key:"_$$showlBar",value:function(){this.status=!0,this.$container.show()}},{key:"_$$hideBar",value:function(){this.status=!1,this.$container.hide()}},{key:"_$$update",value:function(t,e,i){this._visualIndex!=e&&this._updateSingle(t,e,i),this._visualIndex=e}},{key:"destroy",value:function(){this._destroy&&this._destroy(),this.$sceneNode=null,this.$container=null}},{key:"toggle",value:function(t,e){if("pageNumber"===e)switch(t){case"show":this._$$showlBar();break;case"hide":this._$$hideBar();break;default:this.status?this._$$showlBar():this._$$hideBar()}}},{key:"updatePointer",value:function(t){var e=t.time,i=void 0===e?600:e,n=t.action,o=t.direction,r=t.parentIndex,a=t.hasSon,s=void 0!==a&&a,l=t.sonIndex,c=void 0===l?0:l,u=Xut.Presentation.GetPageData("page",r);if(++r,Et()){var h=At(u.seasonId,u._id),d=r+h+c;"prev"===o&&(d=s?r+h+c-2:r+Mt(u.seasonId,u._id)),this._$$update(n,d,i)}else this._$$update(n,r,i)}}]),t}()),op=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,np),Er(e,[{key:"_createHTML",value:function(){var t=0;return jr.visualSize.overflowWidth&&(t=Math.abs(2*jr.visualSize.left)+"px"),'<div class="xut-page-number"style="right:'+t+';bottom:0;">\n                  <div>1</div>\n                  <strong>/</strong>\n                  <div>'+this.pageTotal+"</div>\n            </div>"}},{key:"_getContextNode",value:function(){this.$currtNode=this.$container.find("div:first"),this.$allNode=this.$container.find("div:last")}},{key:"_render",value:function(){this.$sceneNode.append(this.$container)}},{key:"_updateSingle",value:function(t,e){var i=this;Xut.nextTick(function(){i.$currtNode.text(e),"init"===t&&i.$container.show()})}},{key:"_destroy",value:function(){this.$currtNode=null,this.$allNode=null}},{key:"updateTotal",value:function(t){t>this.pageTotal&&(this.pageTotal=t,this.$allNode.text(t))}}]),e}(),rp=["xut-dotIcon-brightness_1","xut-dotIcon-circle-full","xut-dotIcon-cd","xut-dotIcon-adjust","xut-dotIcon-stop","xut-dotIcon-record"],ap=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,np),Er(e,[{key:"_parseBar",value:function(){var t=this.pageBar;if(this.dotStyle=Number(t.mode)||1,this.dotStyleClass=rp[this.dotStyle-1],t.position){var e=t.position.left,i=t.position.top,n="width:100%;";_.isUndefined(e)?e="width:100%;text-align:center;":(n="width:"+(100-parseInt(e))+"%;",e="left:"+e+";"),i=_.isUndefined(i)?"bottom:0;":"top:"+i+";",this.position=""+n+e+i}else this.position="width:100%;text-align:center;bottom:0;margin-bottom:0.3rem"}},{key:"_createHTML",value:function(){for(var t="",e=this.pageTotal;e--;)t+='<span class="slider-pager-page"><i class= '+this.dotStyleClass+"></i></span>";return'<div class="xut-page-number"style="'+this.position+';">'+t+"</div>"}},{key:"_getContextNode",value:function(){this.$currtNode=this.$container.find("span:first")}},{key:"_render",value:function(){this.$sceneNode.append(this.$container)}},{key:"_updateSingle",value:function(t,e){var i=this;Xut.nextTick(function(){i.$container.find("span.slider-pager-page.active").removeClass("active"),$(i.$container.find("span.slider-pager-page")[e-1]).addClass("active"),"init"===t&&i.$container.show()})}},{key:"_destroy",value:function(){this.$currtNode=null}},{key:"updateTotal",value:function(t){if(t>this.pageTotal){var e,i,n=0;_.each(this.$container.find("span.slider-pager-page"),function(t,e){"slider-pager-page"!=t.className&&(n=e)}),this.$container.empty();for(var o=0;o<t;o++)(e=document.createElement("span")).className=o==n?"slider-pager-page active":"slider-pager-page",(i=document.createElement("i")).className=this.dotStyleClass,e.appendChild(i),this.$container.append(e)}}}]),e}(),sp=function(t){function e(t,i){return Pr(this,e),Or(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return Ar(e,np),Er(e,[{key:"_init",value:function(){this.visualHeight=jr.visualSize.height,this.visualWidth=jr.visualSize.width}},{key:"_parseBar",value:function(){this.direction=this.pageBar.direction||jr.launch.scrollMode}},{key:"_createHTML",value:function(){return"h"==this.direction?(this.ratio=this.visualWidth/this.pageTotal,'<div class="xut-iscroll-bar"\n                   style="height:.3rem;left: 2px; right: 2px; bottom: 1px; overflow: hidden;">\n                <div class="xut-iscroll-indicator" style="height: 100%;width: '+this.ratio+'px; "></div>\n             </div>'):(this.ratio=this.visualHeight/this.pageTotal,'<div class="xut-iscroll-bar"\n                   style="width:.3rem;bottom: 2px; top: 2px; right: 1px; overflow: hidden;">\n                <div class="xut-iscroll-indicator" style="width: 100%;height: '+this.ratio+'px;"></div>\n             </div>')}},{key:"_getContextNode",value:function(){this.$indicatorNode=this.$container.find("div:first"),this.indicatorNode=this.$indicatorNode[0]}},{key:"_render",value:function(){this.$sceneNode.append(this.$container)}},{key:"_setTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Xut.style.setTranslate({x:t,y:e,speed:i,node:this.indicatorNode})}},{key:"_updateTranslate",value:function(t,e){if(this.indicatorNode){var i=void 0;"h"==this.direction?(i=this.visualWidth*(t-1)/this.pageTotal,this._setTranslate(i,0,e)):(i=this.visualHeight*(t-1)/this.pageTotal,this._setTranslate(0,i,e)),this.baesTranslateY=this.initTranslateY=i}}},{key:"_clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"_updateSingle",value:function(t,e,i){var n=this;"hide"===this.barState&&this.showBar(),this.timer||(this.timer=setTimeout(function(){n.hideBar()},1500)),"init"===t?(this._updateTranslate(e,0),this.$container.show()):this._updateTranslate(e,i)}},{key:"_destroy",value:function(){this._clearTimer(),this.$indicatorNode=null,this.indicatorNode=null}},{key:"updatePosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],n=void 0;"down"===i&&(n=t+this.initTranslateY,this.preTranslateY=n,this.baesTranslateY=null),"up"===i&&(this.baesTranslateY||(this.baesTranslateY=this.preTranslateY),n=this.baesTranslateY-t,this.preTranslateY=n),this._setTranslate(0,n,e)}},{key:"showBar",value:function(){"hide"===this.barState&&(this.$indicatorNode.css("opacity",1),this.barState="show")}},{key:"hideBar",value:function(){this.barState="hide",this.$indicatorNode.transition({opacity:0,duration:1500,easing:"in"}),this._clearTimer()}},{key:"updateTotal",value:function(t){t>this.pageTotal&&(this.pageTotal=t,"h"==this.direction?(this.ratio=this.visualWidth/this.pageTotal,this.$indicatorNode.css("width",this.ratio)):(this.ratio=this.visualHeight/this.pageTotal,this.$indicatorNode.css("height",this.ratio)))}}]),e}(),lp={Digital:op,Circular:ap,Scrollbar:sp},cp=function(t,e,i){return t=d(t),i.type=t,lp[t]?new lp[t](e,i):new op(e,i)},up=Math.round,hp=6,dp=Xut.plat.isIOS,pp=dp?20:0,fp=function(t,e,i){if(t=m(t)){var n=Number(t.pageMode);i=_.isFinite(n)?n:i,_.isString(t.tbType)&&(e=_.map(t.tbType.split(","),function(t){return Number(t)}))}return{toolType:e,pageMode:i}},gp=function(){function t(e){var i=this;Pr(this,t);var n=_.extend(this,e);this._createHTML(n,function(){Xut.IBooks.Enabled||i._initToolBar(),i._createMediator(),e.isMain&&e.history&&!e.chapterId&&(e.chapterId=1),Ju.add(e.seasonId,e.chapterId,i)})}return Er(t,[{key:"_createHTML",value:function(t,e){if(Xut.IBooks.runMode())return this.$sceneNode=$("#xut-main-scene"),void e();this.$sceneNode=$(t.isMain?Qo():Zo(this.seasonId)),Xut.nextTick({container:$(".xut-scene-container"),content:this.$sceneNode},e)}},{key:"_initToolBar",value:function(){var t=this.seasonId,e=this.pageTotal,i=this.pageIndex,n=this.$sceneNode;_.extend(this,this._initDefaultBar(i,e,n,t)),this._initMiniBar(i,e,n)}},{key:"_initDefaultBar",value:function(t,e,i,n){var o={};return this.isMain?(o=Jo(n),_.some(o.toolType)&&(this.mainToolbar=new Kd({$sceneNode:i,pageTotal:e,currentPage:t+1,toolType:o.toolType,arrowButton:2===o.pageMode}))):(o=tr(this.barInfo,e),_.some(o.toolType)&&(this.deputyToolbar=new Jd({$sceneNode:i,toolType:o.toolType,pageTotal:e,currentPage:t,arrowButton:2===o.pageMode}))),o}},{key:"_initMiniBar",value:function(t,e,i){var n=this,o=Nt(this.seasonId);if("mini"===jr.launch.platform||!1!==jr.debug.toolType.number&&o){var r=function(t){t&&(o=Nt(n.seasonId));var i=0;return o&&(i=Ot(n.seasonId)),o?e+o-i:e};this.miniBar=Ko(jr.launch.pageBar,{$sceneNode:i,visualIndex:t,pageTotal:r()}),jr.launch.columnCheck&&Xut.Application.Watch("change:number:total",function(){n._eachMiniBar(function(){this.updateTotal(r(!0))})})}}},{key:"_eachMiniBar",value:function(t){this.miniBar&&this.miniBar.forEach(function(e){t.call(e)})}},{key:"_createMediator",value:function(){var t=this,e=this.isMain,i=this.$sceneNode,n=this.seasonId,o=this.pageTotal,r=this.pageIndex,a=er(i,n,e),s=a("xut-page-container","scenarioPage-"),l=a("xut-master-container","scenarioMaster-"),c=this.$$mediator=new Bd({scenePageNode:s,sceneMasterNode:l,isMain:e,hasHistory:this.history,pageMode:this.pageMode,sceneNode:this.$sceneNode[0],hasMultiScene:!e,initIndex:r,pageTotal:o,sectionRang:this.sectionRang,seasonId:n,chapterId:this.chapterId,isInApp:this.isInApp});c.miniBar=this.miniBar;var u=this.pptBar=this.deputyToolbar?this.deputyToolbar:this.mainToolbar;c.$bind("updatePage",function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];u&&u.updatePointer.apply(u,i),t._eachMiniBar(function(){this.updatePointer.apply(this,i)})}),c.$bind("showNext",function(){u&&u.showNext()}),c.$bind("hideNext",function(){u&&u.hideNext()}),c.$bind("showPrev",function(){u&&u.showPrev()}),c.$bind("hidePrev",function(){u&&u.hidePrev()}),c.$bind("toggleToolbar",function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];u&&u.toggle.apply(u,i),t._eachMiniBar(function(){this.toggle.apply(this,i)})}),c.$bind("resetToolbar",function(){t.mainToolbar&&(t.mainToolbar.resetArrow(),t.mainToolbar.hideNavbar())}),c.$bind("getMiniBar",function(){return t.miniBar}),c.$bind("createPageComplete",function(i){e?t.complete(function(){Xut.View.HideBusy(),ir(t.history,function(){if(window.GLOBALIFRAME)ai(i);else if(Xut.Application.getAppState()){var t=Xut.Application.LaunchApp;Xut.Application.LaunchApp=function(){t(),ai(i)}}else ai(i)})}):t.complete(i)}),setTimeout(function(){window.DUKUCONFIG&&e&&window.DUKUCONFIG.success?(window.DUKUCONFIG.success(),c.$init()):window.CLIENTCONFIGT&&e&&window.CLIENTCONFIGT.success?(window.CLIENTCONFIGT.success(),c.$init()):c.$init()},100)}},{key:"getSceneNode",value:function(){return this.$sceneNode}},{key:"destroy",value:function(){jr.launch.columnCheck&&Xut.Application.unWatch("change:number:total"),this.pptBar&&(this.pptBar.destroy(),this.pptBar=null),this._eachMiniBar(function(){this.destroy()}),this.$$mediator.miniBar=null,this.$$mediator.$destroy(),this.$sceneNode.off(),this.$sceneNode.remove(),this.$sceneNode=null,Ju.remove(this.seasonId)}}]),t}(),vp=function(t){Xut[t]||(Xut[t]={})};Xut.Version=890,Dl(),Jl(),vp("U3d"),vp("View"),vp("Assist"),vp("Contents"),vp("Application"),vp("Presentation"),vp("Camera"),window.XXTAPI={},ur(),or(),nr(),rr(),cr();var mp=void 0,yp=null,_p=Xut.plat.isBrowser&&jr.orientateMode?function(){$(window).on("orientationchange",function(t){function e(t){yp||(yp=setTimeout(function(){Xut.Application.Refresh(),clearTimeout(yp),yp=null,t()},1e3))}if(!Xut.Application.PlayHTML5Video){var i=mp;e(i&&i.length?function(){Xut.Application.Launch(i.pop()),i=null}:function(){hr()})}})}:function(){};Xut.Application.Launch=function(t){if(!jr.launch){var e=Xut.Application.setConfig;e&&1===e.lauchMode&&(dr(e),mp=[t],jr.launch=$.extend(!0,{launchTime:+new Date},t),t.path&&(_.each(t.path,function(t,e){jr.launch[e]="resource"===e?z(t):t}),delete jr.launch.path),_p(),hr(t.el,t.cursor))}},setTimeout(function(){var t=Xut.Application.setConfig;if(!t||t&&1!==t.lauchMode){if(pr())return;dr(t),jr.launch={},hr()}},100)});