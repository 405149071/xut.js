function _handleMultipleEvents(t,e,n,i){vjs.arr.forEach(n,function(n){t(e,n,i)})}function _logType(t,e){var n,i,o;n=Array.prototype.slice.call(e),i=function(){},o=window.console||{log:i,warn:i,error:i},t?n.unshift(t.toUpperCase()+":"):t="log",vjs.log.history.push(n),n.unshift("VIDEOJS:"),o[t].apply?o[t].apply(o,n):o[t](n.join(" "))}!function(t){window.GLOBALCONTEXT=t.context,window.GLOBALIFRAME=t.iframeMode,window.DUKUCONFIG=t.dukuConfig,window.SUbDOCCONTEXT=t.subContext,window.SUbCONFIGT=t.subConfig,window.CLIENTCONFIGT=t.clientConfig,window.MMXCONFIG=t.mmxConfig,window.DYNAMICCONFIGT=void 0}(function(){var t,e,n,i,o,r=!1,a=window;try{top&&top.audioHandler&&(window.audioHandler=top.audioHandler)}catch(s){}var l={XXTIFRAME:function(e){t=e.XXTIFRAME,a=e,r=!0},miaomiaoxue:function(t){n=t.miaomiaoxue,a=t,r=!0},XXTSUbDOC:function(t){a||(a=t),i=t,r=!0,o=t.XXTSUbDOC},XXTClient:function(t){e=t.XXTClient,a=t,r=!0},iframe:function(){r||(r=!0)}},c=function(t){try{if(!t)return;"XXTIFRAME,miaomiaoxue,XXTSUbDOC,XXTClient,iframe".split(",").forEach(function(e){t[e]&&l[e](t)})}catch(e){}};return c(parent),parent!=top&&c(top),{context:a,iframeMode:r,subContext:i,dukuConfig:t,mmxConfig:n,clientConfig:e,subConfig:o}}()),window.Xut={},Xut.Plugin={},Xut.plugins={},Xut.plat={},Xut.style={},Xut.extend=function(t,e){e||(e=t,t=this);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},Xut.extend({createUUID:function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}),guid:function(t){return(t||"Xut_")+ +new Date+(Math.random()+"").slice(-8)},toArray:function(){var t=Array.prototype.slice;return function(e,n,i){return t.call(e,n||0,i||e.length)}}()}),String.format=function(t){var e=Xut.toArray(arguments,1);return t.replace(/\{(\d+)\}/g,function(t,n){return e[n]})},String.styleFormat=function(t){return t.replace(/\s+/g," ")},function(){var t="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),e=t&&window.navigator.userAgent.toLowerCase(),n=t&&window.navigator.appVersion.toLowerCase(),i=e&&e.indexOf("android")>0,o=e&&e.indexOf("mac")>0,r=/iphone|ipod/gi.test(e),a=/ipad/gi.test(e),s=r||a,l=s&&/os\s7/gi.test(e),c="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,u=(/applewebkit/gi.test(n),/micromessenger/gi.test(n)),h=/mobile|tablet|ip(ad|hone|od)|android/i,d="ontouchstart"in window,p="onmousedown"in window,f=d&&h.test(e),v=document.location.href,g=v.indexOf("http")>-1||v.indexOf("https")>-1,m=/-([a-z]|[0-9])/gi,y=/^-ms-/,_=function(t,e){return(e+"").toUpperCase()},b=function(t){return t.replace(y,"ms-").replace(m,_)},x=["webkit","Moz","ms","o"],w=document.createElement("div").style,k=Object.create(null),T=function(t){var e;return k[t]?k[t]:t in w?k[t]=t:(x.forEach(function(n){if(b(n+"-"+t)in w)return e="-"+n+"-"+t,k[t]=e}),e)},C="transitionend",S="animationend",P="@keyframes ",E=T("animation");!function(){var t=E,e={moz:"transitionend",webkit:"webkitTransitionEnd",ms:"MSTransitionEnd",o:"oTransitionEnd"},n={moz:"animationend",webkit:"webkitAnimationEnd",ms:"MSAnimationEnd",o:"oAnimationEnd"};t&&(t=t.split("-"),t[1]&&(C=e[t[1]],S=n[t[1]],P="@-"+t[1]+"-keyframes "))}();var I=g?g:!f,A=s&&e.match(/os ([\d_]+)/),O=A&&A[1].split("_"),M=O&&Number(O[0])>=9&&Number(O[1])>=3&&!window.indexedDB;Xut.extend(Xut.plat,{has3d:c,isAndroid:i,isIphone:r,isIpad:a,isIOS:s,isIOS7:l,isMacOS:o,hasMutationObserverBug:M,hasPlugin:!1,noAutoPlayMedia:!u&&I&&f,hasTouch:f,isBrowser:I,isSurface:d&&p&&!f,isDesktop:!f,evtTarget:function(t,e){var n=null;return f&&(n=t.touches,n&&n.length>0&&(t=n[0])),e?t:t.target}});var N=T("perspective")in w,j=N?" translateZ(0)":"",R=T("mask-box-image"),D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};Xut.extend(Xut.style,{reqAnimationFrame:D,noMaskBoxImage:void 0==R,prefixStyle:T,transform:T("transform"),transition:T("transition"),transitionDuration:T("transition-duration"),transitionDelay:T("transition-delay"),transformOrigin:T("transform-origin"),transitionTimingFunction:T("transition-timing-function"),transitionEnd:C,animation:E,animationDelay:T("animation-delay"),animationPlayState:T("animation-play-state"),animationEnd:S,keyframes:P,translateZ:j,setTranslateZ:function(t){return N?" translateZ("+t+")":""},filter:T("filter"),maskBoxImage:R,borderRadius:T("border-radius"),columnWidth:T("column-width"),columnGap:T("column-gap")})}(),function(t){var e=function(t){i.send(t)};e.send=e,e.bind=function(t,e,n,o,r){i.bind(t,e,n,o,r===!0)},e.event={onData:function(t,n,i,o){e.bind("onData",t,n||"*",i,o)},onLoad:function(t,n,i,o){e.bind("onLoad",t,n||"*",i,o)},onDestory:function(t,n,i,o){e.bind("onDestory",t,n||"*",i,o)},onHide:function(t,n,i,o){e.bind("onHide",t,n||"*",i,o)},onShow:function(t,n,i,o){e.bind("onShow",t,n||"*",i,o)},onFullscreen:function(t,n,i,o){e.bind("onFullscreen",t,n||"*",i,o)}},e.unbind=function(t,e){i.unbind(t,e)};var n=function(t,e){for(var n in e)t[n]=e[n];return t},i={send:function(t){var e=n(i.defaults,t),o=e.target;if(!e.target)return void console.warn("消息目标窗口必须填写!");var r={data:e.data,type:e.type};e.success&&(r.callback=i._callback(e.success)),e.error&&(r.errback=i._callback(e.error)),"postMessage"in o&&!e.hash&&(i._bind(),o.postMessage(JSON.stringify(r),e.origin||"*"))},bind:function(t,e,n,o,r){i._replyBind(t,e,n,o,r)},_replyBind:function(t,e,n,o,r){"postMessage"in window&&!o&&i._bind();var a=i.data("listeners.postmessage");a||(a={},i.data("listeners.postmessage",a));var s=a[t];s||(s=[],a[t]=s),s.push({fn:e,callback:r,origin:n||$.pm.origin})},unbind:function(t,e){var n=i.data("listeners.postmessage"),o=i.data("callbacks.postmessage");if(n)if(t)if(e){var r=n[t];if(r){for(var a=[],s=0,l=r.length;s<l;s++){var c=r[s];c.fn!==e&&a.push(c)}n[t]=a}}else delete n[t];else for(var s in n)delete n[s];if(o)if(t)if(e){var r=o[t];if(r){for(var a=[],s=0,l=r.length;s<l;s++){var c=r[s];c.fn!==e&&a.push(c)}o[t]=a}}else delete o[t];else for(var s in o)delete o[s]},data:function(t,e){return void 0===e?i._data[t]:(i._data[t]=e,e)},_data:{},_generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},_callback:function(t){var e=i.data("callbacks.postmessage");e||(e={},i.data("callbacks.postmessage",e));var n=i._generate();return e[n]=t,n},_bind:function(){i.data("listening.postmessage")||(window.addEventListener?window.addEventListener("message",i._dispatch,!1):window.attachEvent&&window.attachEvent("onmessage",i._dispatch),i.data("listening.postmessage",1))},_dispatch:function(t){function e(e){n.callback&&i.send({target:t.source,data:e,type:n.callback})}try{var n=JSON.parse(t.data)}catch(o){return void console.warn("消息的数据是无效的json",o)}if(!n.type)return void console.warn("必须填写对应的消息类型");var r=i.data("callbacks.postmessage")||{},a=r[n.type];if(a)a(n.data);else for(var s=i.data("listeners.postmessage")||{},l=s[n.type]||[],c=0,u=l.length;c<u;c++){var h=l[c];if(h.origin&&"*"!==h.origin&&t.origin!==h.origin){if(console.warn("消息来源不匹配!",t.origin,h.origin),n.errback){var d={message:"消息来源不匹配",origin:[t.origin,h.origin]};i.send({target:t.source,data:d,type:n.errback})}}else try{h.callback?h.fn(n.data,e,t):e(h.fn(n.data,t))}catch(o){if(!n.errback)throw o;i.send({target:t.source,data:o,type:n.errback})}}}};i.defaults={target:null,url:null,type:null,data:null,success:null,error:null,origin:"*"};var o=o||"undefined";"undefined"!=typeof o&&o.exports?o.exports=e:"undefined"!=typeof define?define("PMS",[],function(){return e}):t.PMS=e}(this),window.HTMLCONFIG={};var IBOOKSCONFIG=window.IBOOKSCONFIG;IBOOKSCONFIG&&IBOOKSCONFIG.data&&(_.each(IBOOKSCONFIG.data,function(t,e){t.item=function(t){return this[t]}}),Xut.plat.isBrowser=!0,Xut.plat.isIOS=!1),Xut.IBooks={pageIndex:function(){if(IBOOKSCONFIG)return IBOOKSCONFIG.pageIndex+1}(),existSvg:!!IBOOKSCONFIG&&IBOOKSCONFIG.existSvg,Enabled:function(){return!!IBOOKSCONFIG}(),CONFIG:IBOOKSCONFIG,runMode:function(){return!(!IBOOKSCONFIG||IBOOKSCONFIG.compiled)},compileMode:function(){return!(!IBOOKSCONFIG||!IBOOKSCONFIG.compiled)}},function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"!==n&&!Q.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return Y.call(e,t)>=0!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=ft[t]={};return Q.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function a(){J.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(bt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_t.test(n)?Q.parseJSON(n):n)}catch(o){}yt.set(t,e,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function h(){try{return J.activeElement}catch(t){}}function d(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n=0,i=t.length;n<i;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function g(t,e){var n,i,o,r,a,s,l,c;if(1===e.nodeType){if(mt.hasData(t)&&(r=mt.access(t),a=mt.set(e,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)Q.event.add(e,o,c[o][n])}yt.hasData(t)&&(s=yt.access(t),l=Q.extend({},s),yt.set(e,l))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function _(e,n){var i,o=Q(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:Q.css(o[0],"display");return o.detach(),r}function b(t){var e=J,n=Bt[t];return n||(n=_(t,e),"none"!==n&&n||(Xt=(Xt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Xt[0].contentDocument,e.write(),e.close(),n=_(t,e),Xt.detach()),Bt[t]=n),n}function x(t,e,n){var i,o,r,a,s=t.style;return n=n||zt(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),$t.test(a)&&Ht.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function w(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,o=qt.length;o--;)if(e=qt[o]+n,e in t)return e;return i}function T(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function C(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=Q.css(t,n+wt[r],!0,o)),i?("content"===n&&(a-=Q.css(t,"padding"+wt[r],!0,o)),"margin"!==n&&(a-=Q.css(t,"border"+wt[r]+"Width",!0,o))):(a+=Q.css(t,"padding"+wt[r],!0,o),"padding"!==n&&(a+=Q.css(t,"border"+wt[r]+"Width",!0,o)));return a}function S(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=zt(t),a="border-box"===Q.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(o=x(t,e,r),(o<0||null==o)&&(o=t.style[e]),$t.test(o))return o;i=a&&(K.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+C(t,e,n||(a?"border":"content"),i,r)+"px"}function P(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(r[a]=mt.get(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(r[a]=mt.access(i,"olddisplay",b(i.nodeName)))):(o=kt(i),"none"===n&&o||mt.set(i,"olddisplay",o?n:Q.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function E(t,e,n,i,o){return new E.prototype.init(t,e,n,i,o)}function I(){return setTimeout(function(){Kt=void 0}),Kt=Q.now()}function A(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)n=wt[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function O(t,e,n){for(var i,o=(ne[e]||[]).concat(ne["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function M(t,e,n){var i,o,r,a,s,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&kt(t),v=mt.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Q.css(t,"display"),u="none"===c?mt.get(t,"olddisplay")||b(t.nodeName):c,"inline"===u&&"none"===Q.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Zt.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!v||void 0===v[i])continue;f=!0}d[i]=v&&v[i]||Q.style(t,i)}else c=void 0;if(Q.isEmptyObject(d))"inline"===("none"===c?b(t.nodeName):c)&&(p.display=c);else{v?"hidden"in v&&(f=v.hidden):v=mt.access(t,"fxshow",{}),r&&(v.hidden=!f),f?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;mt.remove(t,"fxshow");for(e in d)Q.style(t,e,d[e])});for(i in d)a=O(f?v[i]:0,i,h),i in v||(v[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function N(t,e){var n,i,o,r,a;for(n in t)if(i=Q.camelCase(n),o=e[i],r=t[n],Q.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),a=Q.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function j(t,e,n){var i,o,r=0,a=ee.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Kt||I(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(r);return s.notifyWith(t,[c,r,n]),r<1&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||I(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(N(u,c.opts.specialEasing);r<a;r++)if(i=ee[r].call(c,t,u,c.opts))return i;return Q.map(u,O,c),Q.isFunction(c.opts.start)&&c.opts.start.call(t,c),Q.fx.timer(Q.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(pt)||[];if(Q.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function D(t,e,n,i){function o(s){var l;return r[s]=!0,Q.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===_e;return o(e.dataTypes[0])||!r["*"]&&o("*")}function F(t,e){var n,i,o=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Q.extend(!0,t,i),t}function L(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function X(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function B(t,e,n,i){var o;if(Q.isArray(e))Q.each(e,function(e,o){n||Te.test(t)?i(t,o):B(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(o in e)B(t+"["+o+"]",e[o],n,i)}function H(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var $=[],z=$.slice,G=$.concat,W=$.push,Y=$.indexOf,U={},V=U.toString,q=U.hasOwnProperty,K={},J=t.document,Z="2.1.3",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:$.sort,splice:$.splice},Q.extend=Q.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(Q.isPlainObject(i)||(o=Q.isArray(i)))?(o?(o=!1,r=n&&Q.isArray(n)?n:[]):r=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(c,r,i)):void 0!==i&&(a[e]=i));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===Q.type(t)&&!t.nodeType&&!Q.isWindow(t)&&!(t.constructor&&!q.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?U[V.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,a=t.length,s=n(t);if(i){if(s)for(;r<a&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(s)for(;r<a&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):W.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Y.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,a=t.length,s=!n;r<a;r++)i=!e(t[r],r),i!==s&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,a=t.length,s=n(t),l=[];if(s)for(;r<a;r++)o=e(t[r],r,i),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&l.push(o);return G.apply([],l)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t))return i=z.call(arguments,2),o=function(){return t.apply(e||this,i.concat(z.call(arguments)))},o.guid=t.guid=t.guid||Q.guid++,o},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()});var ot=function(t){function e(t,e,n,i){var o,r,a,s,l,c,h,p,f,v;if((e?e.ownerDocument||e:B)!==M&&O(e),e=e||M,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&j){if(11!==s&&(o=yt.exec(t)))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&L(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&x.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!R||!R.test(t))){if(p=h=X,f=e,v=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(h=e.getAttribute("id"))?p=h.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=_t.test(t)&&u(e.parentNode)||e,v=c.join(",")}if(v)try{return Z.apply(n,f.querySelectorAll(v)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return P(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[X]=!0,t}function o(t){var e=M.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=$++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,c=[H,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(l=e[X]||(e[X]={}),(s=l[i])&&s[0]===H&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function v(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function m(t,e,n,o,r,a){return o&&!o[X]&&(o=m(o)),r&&!r[X]&&(r=m(r,a)),i(function(i,a,s,l){var c,u,h,d=[],p=[],f=a.length,m=i||v(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?m:g(m,d,t,s,l),_=n?r||(i?t:f||o)?[]:a:y;if(n&&n(y,_,s,l),o)for(c=g(_,p),o(c,[],s,l),u=c.length;u--;)(h=c[u])&&(_[p[u]]=!(y[p[u]]=h));if(i){if(r||t){if(r){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(y[u]=h);r(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=r?tt(i,h):d[u])>-1&&(i[c]=!(a[c]=h))}}else _=g(_===a?_.splice(f,_.length):_),r?r(null,a,_,l):Z.apply(a,_)})}function y(t){for(var e,n,i,o=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],s=r?1:0,l=p(function(t){return t===e},a,!0),c=p(function(t){return tt(e,t)>-1},a,!0),u=[function(t,n,i){var o=!r&&(i||n!==E)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];s<o;s++)if(n=w.relative[t[s].type])u=[p(f(u),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[X]){for(i=++s;i<o&&!w.relative[t[i].type];i++);return m(s>1&&f(u),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,s<i&&y(t.slice(s,i)),i<o&&y(t=t.slice(i)),i<o&&d(t))}u.push(n)}return f(u)}function _(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,l,c){var u,h,d,p=0,f="0",v=i&&[],m=[],y=E,_=i||r&&w.find.TAG("*",c),b=H+=null==y?1:Math.random()||.1,x=_.length;for(c&&(E=a!==M&&a);f!==x&&null!=(u=_[f]);f++){if(r&&u){for(h=0;d=t[h++];)if(d(u,a,s)){l.push(u);break}c&&(H=b)}o&&((u=!d&&u)&&p--,i&&v.push(u))}if(p+=f,o&&f!==p){for(h=0;d=n[h++];)d(v,m,a,s);if(i){if(p>0)for(;f--;)v[f]||m[f]||(m[f]=K.call(l));m=g(m)}Z.apply(l,m),c&&!i&&m.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(H=b,E=y),v};return o?i(a):a}var b,x,w,k,T,C,S,P,E,I,A,O,M,N,j,R,D,F,L,X="sizzle"+1*new Date,B=t.document,H=0,$=0,z=n(),G=n(),W=n(),Y=function(t,e){return t===e&&(A=!0),0},U=1<<31,V={}.hasOwnProperty,q=[],K=q.pop,J=q.push,Z=q.push,Q=q.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),pt=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){O()};try{Z.apply(q=Q.call(B.childNodes),B.childNodes),q[B.childNodes.length].nodeType}catch(Tt){Z={apply:q.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),j=!T(i),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(i.getElementsByClassName),x.getById=o(function(t){return N.appendChild(t).id=X,!i.getElementsByName||!i.getElementsByName(X).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.CLASS=x.getElementsByClassName&&function(t,e){if(j)return e.getElementsByClassName(t)},D=[],R=[],(x.qsa=mt.test(i.querySelectorAll))&&(o(function(t){N.appendChild(t).innerHTML="<a id='"+X+"'></a><select id='"+X+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+X+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+X+"+*").length||R.push(".#.+[+~]")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=mt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){x.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),D.push("!=",at)}),R=R.length&&new RegExp(R.join("|")),D=D.length&&new RegExp(D.join("|")),e=mt.test(N.compareDocumentPosition),L=e||mt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&L(B,t)?-1:e===i||e.ownerDocument===B&&L(B,e)?1:I?tt(I,t)-tt(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,o=0,r=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:I?tt(I,t)-tt(I,e):0;if(r===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===B?-1:c[o]===B?1:0},i):M},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==M&&O(t),n=n.replace(ht,"='$1']"),x.matchesSelector&&j&&(!D||!D.test(n))&&(!R||!R.test(n)))try{var i=F.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&O(t),L(t,e)},e.attr=function(t,e){
(t.ownerDocument||t)!==M&&O(t);var n=w.attrHandle[e.toLowerCase()],i=n&&V.call(w.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:x.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!x.detectDuplicates,I=!x.sortStable&&t.slice(0),t.sort(Y),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return I=null,t},k=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,v=r!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=v="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[X]||(g[X]={}),c=u[t]||[],p=c[0]===H&&c[1],d=c[0]===H&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[v]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[H,p,d];break}}else if(y&&(c=(e[X]||(e[X]={}))[t])&&c[0]===H)d=c[1];else for(;(h=++p&&h&&h[v]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++d||(y&&((h[X]||(h[X]={}))[t]=[H,d]),h!==e)););return d-=o,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[X]?r(n):r.length>1?(o=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)i=tt(t,o[a]),t[i]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(lt,"$1"));return o[X]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var n;do if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,C=e.tokenize=function(t,n){var i,o,r,a,s,l,c,u=G[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=w.preFilter;s;){i&&!(o=ct.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ut.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(lt," ")}),s=s.slice(i.length));for(a in w.filter)!(o=ft[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):G(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=C(t)),n=e.length;n--;)r=y(e[n]),r[X]?i.push(r):o.push(r);r=W(t,_(o,i)),r.selector=t}return r},P=e.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,h=!i&&C(t=c.selector||t);if(n=n||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===e.nodeType&&j&&w.relative[r[1].type]){if(e=(w.find.ID(a.matches[0].replace(xt,wt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(xt,wt),_t.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&d(r),!t)return Z.apply(n,i),n;break}}return(c||S(t,h))(i,e,!j,n,_t.test(t)&&u(e.parentNode)||e),n},x.sortStable=X.split("").sort(Y).join("")===X,x.detectDuplicates=!!A,O(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Q.find=ot,Q.expr=ot.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ot.uniqueSort,Q.text=ot.getText,Q.isXMLDoc=ot.isXML,Q.contains=ot.contains;var rt=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Q.find.matchesSelector(i,t)?[i]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;e<n;e++)if(Q.contains(o[e],this))return!0}));for(e=0;e<n;e++)Q.find(t,o[e],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&rt.test(t)?Q(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Q.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),at.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ut.prototype=Q.fn,lt=Q(J);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Q(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=rt.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?Q.unique(r):r)},index:function(t){return t?"string"==typeof t?Y.call(Q(t),this[0]):Y.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var o=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=Q.filter(i,o)),this.length>1&&(dt[t]||Q.unique(o),ht.test(t)&&o.reverse()),this.pushStack(o)}});var pt=/\S+/g,ft={};Q.Callbacks=function(t){t="string"==typeof t?ft[t]||r(t):Q.extend({},t);var e,n,i,o,a,s,l=[],c=!t.once&&[],u=function(r){for(e=t.memory&&r,n=!0,s=o||0,o=0,a=l.length,i=!0;l&&s<a;s++)if(l[s].apply(r[0],r[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function r(e){Q.each(e,function(e,n){var i=Q.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),i?a=l.length:e&&(o=n,u(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),i&&(n<=a&&a--,n<=s&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,r){var a=Q.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,i):i}},o={};return i.pipe=i.then,Q.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=z.call(arguments),a=r.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?z.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&Q.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,e)):--s;return s||l.resolveWith(i,r),l.promise()}});var vt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(vt.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return vt||(vt=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),vt.promise(e)},Q.ready.promise();var gt=Q.access=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===Q.type(n)){o=!0;for(s in n)Q.access(t,e,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,Q.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(Q(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(Q.isEmptyObject(r))Q.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=this.key(t),a=this.cache[r];if(void 0===e)this.cache[r]={};else{Q.isArray(e)?i=e.concat(e.map(Q.camelCase)):(o=Q.camelCase(e),e in a?i=[e,o]:(i=o,i=i in a?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new s,yt=new s,_t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=yt.get(r),1===r.nodeType&&!mt.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),l(r,i,o[i])));mt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){yt.set(this,t)}):gt(this,function(e){var n,i=Q.camelCase(t);if(r&&void 0===e){if(n=yt.get(r,t),void 0!==n)return n;if(n=yt.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,e),t.indexOf("-")!==-1&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=mt.get(t,e),n&&(!i||Q.isArray(n)?i=mt.access(t,e,Q.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,o=n.shift(),r=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Q.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=mt.get(r[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";K.focusinBubbles="onfocusin"in t;var St=/^key/,Pt=/^(?:mouse|pointer|contextmenu)|click/,Et=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,h,d,p,f,v,g=mt.get(t);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof Q!==Ct&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],c=e.length;c--;)s=It.exec(e[c])||[],p=v=s[1],f=(s[2]||"").split(".").sort(),p&&(h=Q.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=Q.event.special[p]||{},u=Q.extend({type:p,origType:v,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Q.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,f,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),Q.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,h,d,p,f,v,g=mt.hasData(t)&&mt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(pt)||[""],c=e.length;c--;)if(s=It.exec(e[c])||[],p=v=s[1],f=(s[2]||"").split(".").sort(),p){for(h=Q.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)u=d[r],!o&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||Q.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)Q.event.remove(t,p+e[c],n,i,!0);Q.isEmptyObject(l)&&(delete g.handle,mt.remove(t,"events"))}},trigger:function(e,n,i,o){var r,a,s,l,c,u,h,d=[i||J],p=q.call(e,"type")?e.type:e,f=q.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Et.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[p]||{},o||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!o&&!h.noBubble&&!Q.isWindow(i)){for(l=h.delegateType||p,Et.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,u=(mt.get(a,"events")||{})[e.type]&&mt.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&Q.acceptData(a)&&(e.result=u.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Q.acceptData(i)||c&&Q.isFunction(i[p])&&!Q.isWindow(i)&&(s=i[c],s&&(i[c]=null),Q.event.triggered=p,i[p](),Q.event.triggered=void 0,s&&(i[c]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,i,o,r,a=[],s=z.call(arguments),l=(mt.get(this,"events")||{})[t.type]||[],c=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,i=((Q.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(i=[],n=0;n<s;n++)r=e[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?Q(o,this).index(l)>=0:Q.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,i=n.documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Pt.test(o)?this.mouseHooks:St.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new Q.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Q.nodeName(this,"input"))return this.click(),!1},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(o,null,e):Q.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:u):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||Q.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=mt.access(i,e);o||i.addEventListener(t,n,!0),mt.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=mt.access(i,e)-1;o?mt.access(i,e,o):(i.removeEventListener(t,n,!0),mt.remove(i,e))}}}),Q.fn.extend({on:function(t,e,n,i,o){var r,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=u;else if(!i)return this;return 1===o&&(r=i,i=function(t){return Q().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Q(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=u),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Q.event.trigger(t,e,n,!0)}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Mt=/<|&#?\w+;/,Nt=/<(?:script|style|link)/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,Dt=/^true\/(.*)/,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,Q.extend({clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=m(s),r=m(t),i=0,o=r.length;i<o;i++)y(r[i],a[i]);if(e)if(n)for(r=r||m(t),a=a||m(s),i=0,o=r.length;i<o;i++)g(r[i],a[i]);else g(t,s);return a=m(s,"script"),a.length>0&&v(a,!l&&m(t,"script")),s},buildFragment:function(t,e,n,i){for(var o,r,a,s,l,c,u=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===Q.type(o))Q.merge(h,o.nodeType?[o]:o);else if(Mt.test(o)){if(r=r||u.appendChild(e.createElement("div")),a=(Ot.exec(o)||["",""])[1].toLowerCase(),s=Lt[a]||Lt._default,Xut.IBooks.Enabled)try{r.innerHTML=s[1]+o.replace(At,"<$1></$2>")+s[2]}catch(f){console.log(s[1]+o.replace(At,"<$1></$2>")+s[2])}else r.innerHTML=s[1]+o.replace(At,"<$1></$2>")+s[2];for(c=s[0];c--;)r=r.lastChild;Q.merge(h,r.childNodes),r=u.firstChild,r.textContent=""}else h.push(e.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if((!i||Q.inArray(o,i)===-1)&&(l=Q.contains(o.ownerDocument,o),r=m(u.appendChild(o),"script"),l&&v(r),n))for(c=0;o=r[c++];)Rt.test(o.type||"")&&n.push(o);return u},cleanData:function(t){for(var e,n,i,o,r=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(o=n[mt.expando],o&&(e=mt.cache[o]))){if(e.events)for(i in e.events)r[i]?Q.event.remove(n,i):Q.removeEvent(n,i,e.handle);mt.cache[o]&&delete mt.cache[o]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Q.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||Q.cleanData(m(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&v(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!Lt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(At,"<$1></$2>");try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,i,o,r,a,s,l=0,c=this.length,u=this,h=c-1,d=t[0],v=Q.isFunction(d);
if(v||c>1&&"string"==typeof d&&!K.checkClone&&jt.test(d))return this.each(function(n){var i=u.eq(n);v&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(o=Q.map(m(n,"script"),p),r=o.length;l<c;l++)a=n,l!==h&&(a=Q.clone(a,!0,!0),r&&Q.merge(o,m(a,"script"))),e.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,Q.map(o,f),l=0;l<r;l++)a=o[l],Rt.test(a.type||"")&&!mt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Ft,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,i=[],o=Q(t),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),Q(o[a])[e](n),W.apply(i,n.get());return this.pushStack(i)}});var Xt,Bt={},Ht=/^margin/,$t=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),zt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,o.removeChild(r)}var n,i,o=J.documentElement,r=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(a),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(n,null).marginRight),o.removeChild(r),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o};var Gt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+xt+")(.*)$","i"),Yt=new RegExp("^([+-])=("+xt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=Q.camelCase(e),l=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=k(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e]:(r=typeof n,"string"===r&&(o=Yt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Q.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var o,r,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=k(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=x(t,e,i)),"normal"===o&&e in Vt&&(o=Vt[e]),""===n||n?(r=parseFloat(o),n===!0||Q.isNumeric(r)?r||0:o):o}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){if(n)return Gt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ut,function(){return S(t,e,i)}):S(t,e,i)},set:function(t,n,i){var o=i&&zt(t);return T(t,n,i?C(t,e,i,"border-box"===Q.css(t,"boxSizing",!1,o),o):0)}}}),Q.cssHooks.marginRight=w(K.reliableMarginRight,function(t,e){if(e)return Q.swap(t,{display:"inline-block"},x,[t,"marginRight"])}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+wt[i]+e]=r[i]||r[i-2]||r[0];return o}},Ht.test(t)||(Q.cssHooks[t+e].set=T)}),Q.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var i,o,r={},a=0;if(Q.isArray(e)){for(i=zt(t),o=e.length;a<o;a++)r[e[a]]=Q.css(t,e[a],!1,i);return r}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=E,E.prototype={constructor:E,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Q.cssNumber[n]?"":"px")},cur:function(){var t=E.propHooks[this.prop];return t&&t.get?t.get(this):E.propHooks._default.get(this)},run:function(t){var e,n=E.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=E.prototype.init,Q.fx.step={};var Kt,Jt,Zt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[M],ne={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Qt.exec(e),r=o&&o[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==r&&+i)&&Qt.exec(Q.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};Q.Animation=Q.extend(j,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;i<o;i++)n=t[i],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=Q.isEmptyObject(t),r=Q.speed(e,n,i),a=function(){var e=j(this,Q.extend({},t),r);(o||mt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=Q.timers,a=mt.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&te.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=mt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=Q.timers,a=i?i.length:0;for(n.finish=!0,Q.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(A(e,!0),t,i,o)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Kt=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Kt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ie,oe,re=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return gt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Ct?Q.prop(t,e,n):(1===r&&Q.isXMLDoc(t)||(e=e.toLowerCase(),i=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?oe:ie)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=Q.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(pt);if(r&&1===t.nodeType)for(;n=r[o++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),oe={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=re[e]||Q.find.attr;re[e]=function(t,e,i){var o,r;return i||(r=re[e],re[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,re[e]=r),o}});var ae=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return gt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!Q.isXMLDoc(t),r&&(e=Q.propFix[e]||e,o=Q.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,i,o,r,a,s="string"==typeof t&&t,l=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];l<c;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=Q.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];l<c;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=t?Q.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,o=Q(this),r=t.match(pt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else n!==Ct&&"boolean"!==n||(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=Q.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,Q(this).val()):t,null==o?o="":"number"==typeof o?o+="":Q.isArray(o)&&(o=Q.map(o,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=Q.valHooks[o.type]||Q.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(le,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(n=i[l],(n.selected||l===o)&&(K.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=Q.makeArray(e),a=o.length;a--;)i=o[a],(i.selected=Q.inArray(i.value,r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){if(Q.isArray(e))return t.checked=Q.inArray(Q(t).val(),e)>=0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ce=Q.now(),ue=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ve=/^(?:GET|HEAD)$/,ge=/^\/\//,me=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},_e={},be="*/".concat("*"),xe=t.location.href,we=me.exec(xe.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:fe.test(we[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,Q.ajaxSettings),e):F(Q.ajaxSettings,t)},ajaxPrefilter:R(ye),ajaxTransport:R(_e),ajax:function(t,e){function n(t,e,n,a){var l,u,m,y,b,w=e;2!==_&&(_=2,s&&clearTimeout(s),i=void 0,r=a||"",x.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(y=L(h,x,n)),y=X(h,y,x,l),l?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(Q.lastModified[o]=b),b=x.getResponseHeader("etag"),b&&(Q.etag[o]=b)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=y.state,u=y.data,m=y.error,l=!m)):(m=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(e||w)+"",l?f.resolveWith(d,[u,w,x]):f.rejectWith(d,[x,w,m]),x.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?u:m]),v.fireWith(d,[x,w]),c&&(p.trigger("ajaxComplete",[x,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,a,s,l,c,u,h=Q.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,f=Q.Deferred(),v=Q.Callbacks("once memory"),g=h.statusCode||{},m={},y={},_=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=pe.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return i&&i.abort(e),n(0,e),this}};if(f.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||xe)+"").replace(he,"").replace(ge,we[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=me.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===we[1]&&l[2]===we[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(we[3]||("http:"===we[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),D(ye,h,e,x),2===_)return x;c=Q.event&&h.global,c&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ve.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ue.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=de.test(o)?o.replace(de,"$1_="+ce++):o+(ue.test(o)?"&":"?")+"_="+ce++)),h.ifModified&&(Q.lastModified[o]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[o]),Q.etag[o]&&x.setRequestHeader("If-None-Match",Q.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+be+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)x.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===_))return x.abort();b="abort";for(u in{success:1,error:1,complete:1})x[u](h[u]);if(i=D(_e,h,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,i.send(m,n)}catch(w){if(!(_<2))throw w;n(-1,w)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,i,o){return Q.isFunction(n)&&(o=o||i,i=n,n=void 0),Q.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var ke=/%20/g,Te=/\[\]$/,Ce=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,i=[],o=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){o(this.name,this.value)});else for(n in t)B(n,t[n],e,o);return i.join("&").replace(ke,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Pe.test(this.nodeName)&&!Se.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ee=0,Ie={},Ae={0:200,1223:204},Oe=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ie)Ie[t]()}),K.cors=!!Oe&&"withCredentials"in Oe,K.ajax=Oe=!!Oe,Q.ajaxTransport(function(t){var e;if(K.cors||Oe&&!t.crossDomain)return{send:function(n,i){var o,r=t.xhr(),a=++Ee;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)r.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(delete Ie[a],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?i(r.status,r.statusText):i(Ae[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Ie[a]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Me=[],Ne=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||Q.expando+"_"+ce++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=e.jsonp!==!1&&(Ne.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ne,"$1"+o):e.jsonp!==!1&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Q.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Me.push(o)),a&&Q.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=at.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,o),o&&o.length&&Q(o).remove(),Q.merge([],i.childNodes))};var je=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>=0&&(i=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&Q.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?Q("<div>").append(Q.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Re=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c,u=Q.css(t,"position"),h=Q(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(),r=Q.css(t,"top"),l=Q.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=h.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):h.css(d)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;if(r)return e=r.documentElement,Q.contains(e,i)?(typeof i.getBoundingClientRect!==Ct&&(o=i.getBoundingClientRect()),n=H(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(i=t.offset()),i.top+=Q.css(t[0],"borderTopWidth",!0),i.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Q.css(n,"marginTop",!0),left:e.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Re;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Re})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Q.fn[e]=function(o){return gt(this,function(e,o,r){var a=H(e);return void 0===r?a?a[n]:e[o]:void(a?a.scrollTo(i?t.pageXOffset:r,i?r:t.pageYOffset):e[o]=r)},e,o,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=w(K.pixelPosition,function(t,n){if(n)return n=x(t,e),$t.test(n)?Q(t).position()[e]+"px":n})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Q.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return gt(this,function(e,n,i){var o;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?Q.css(e,n,a):Q.style(e,n,i,a)},e,r?i:void 0,r,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var De=t.jQuery,Fe=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Fe),e&&t.jQuery===Q&&(t.jQuery=De),Q},typeof e===Ct&&(t.jQuery=t.$=Q),Q}),function(){var t=this,e=t._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,a=Date.now||function(){return(new Date).getTime()},s=i.push,l=i.slice,c=i.concat,u=o.toString,h=o.hasOwnProperty,d=i.forEach,p=i.map,f=i.reduce,v=i.reduceRight,g=i.filter,m=i.every,y=i.some,_=i.indexOf,b=i.lastIndexOf,x=Array.isArray,w=Object.keys,k=r.bind,T=function(t){return t instanceof T?t:this instanceof T?void(this._wrapped=t):new T(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):t._=T,T.VERSION="1.5.2";var C=T.each=T.forEach=function(t,e,i){if(null!=t)if(d&&t.forEach===d)t.forEach(e,i);else if(t.length===+t.length){for(var o=0,r=t.length;o<r;o++)if(e.call(i,t[o],o,t)===n)return}else for(var a=T.keys(t),o=0,r=a.length;o<r;o++)if(e.call(i,t[a[o]],a[o],t)===n)return};T.map=T.collect=function(t,e,n){var i=[];return null==t?i:p&&t.map===p?t.map(e,n):(C(t,function(t,o,r){i.push(e.call(n,t,o,r))}),i)};var S="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=T.bind(e,i)),o?t.reduce(e,n):t.reduce(e);if(C(t,function(t,r,a){o?n=e.call(i,n,t,r,a):(n=t,o=!0)}),!o)throw new TypeError(S);return n},T.reduceRight=T.foldr=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return i&&(e=T.bind(e,i)),o?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var a=T.keys(t);r=a.length}if(C(t,function(s,l,c){l=a?a[--r]:--r,o?n=e.call(i,n,t[l],l,c):(n=t[l],o=!0)}),!o)throw new TypeError(S);return n},T.find=T.detect=function(t,e,n){var i;return P(t,function(t,o,r){if(e.call(n,t,o,r))return i=t,!0}),i},T.filter=T.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(C(t,function(t,o,r){e.call(n,t,o,r)&&i.push(t)}),i)},T.reject=function(t,e,n){return T.filter(t,function(t,i,o){return!e.call(n,t,i,o)},n)},T.every=T.all=function(t,e,i){e||(e=T.identity);var o=!0;return null==t?o:m&&t.every===m?t.every(e,i):(C(t,function(t,r,a){if(!(o=o&&e.call(i,t,r,a)))return n}),!!o)};var P=T.some=T.any=function(t,e,i){e||(e=T.identity);var o=!1;return null==t?o:y&&t.some===y?t.some(e,i):(C(t,function(t,r,a){if(o||(o=e.call(i,t,r,a)))return n}),!!o)};T.contains=T.include=function(t,e){return null!=t&&(_&&t.indexOf===_?t.indexOf(e)!=-1:P(t,function(t){return t===e}))},T.invoke=function(t,e){var n=l.call(arguments,2),i=T.isFunction(e);return T.map(t,function(t){return(i?e:t[e]).apply(t,n)})},T.pluck=function(t,e){return T.map(t,function(t){return t[e]})},T.where=function(t,e,n){return T.isEmpty(e)?n?void 0:[]:T[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},T.findWhere=function(t,e){return T.where(t,e,!0)},T.max=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&T.isEmpty(t))return-(1/0);var i={computed:-(1/0),value:-(1/0)};return C(t,function(t,o,r){var a=e?e.call(n,t,o,r):t;a>i.computed&&(i={value:t,computed:a})}),i.value},T.min=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&T.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return C(t,function(t,o,r){var a=e?e.call(n,t,o,r):t;a<i.computed&&(i={value:t,computed:a})}),i.value},T.shuffle=function(t){var e,n=0,i=[];return C(t,function(t){e=T.random(n++),i[n-1]=i[e],i[e]=t}),i},T.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=T.values(t)),
t[T.random(t.length-1)]):T.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return T.isFunction(t)?t:function(e){return e[t]}};T.sortBy=function(t,e,n){var i=null==e?T.identity:E(e);return T.pluck(T.map(t,function(t,e,o){return{value:t,index:e,criteria:i.call(n,t,e,o)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var I=function(t){return function(e,n,i){var o={},r=null==n?T.identity:E(n);return C(e,function(n,a){var s=r.call(i,n,a,e);t(o,s,n)}),o}};T.groupBy=I(function(t,e,n){(T.has(t,e)?t[e]:t[e]=[]).push(n)}),T.indexBy=I(function(t,e,n){t[e]=n}),T.countBy=I(function(t,e){T.has(t,e)?t[e]++:t[e]=1}),T.sortedIndex=function(t,e,n,i){n=null==n?T.identity:E(n);for(var o=n.call(i,e),r=0,a=t.length;r<a;){var s=r+a>>>1;n.call(i,t[s])<o?r=s+1:a=s}return r},T.toArray=function(t){return t?T.isArray(t)?l.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:l.call(t,0,e)},T.initial=function(t,e,n){return l.call(t,0,t.length-(null==e||n?1:e))},T.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var A=function(t,e,n){return e&&T.every(t,T.isArray)?c.apply(n,t):(C(t,function(t){T.isArray(t)||T.isArguments(t)?e?s.apply(n,t):A(t,e,n):n.push(t)}),n)};T.flatten=function(t,e){return A(t,e,[])},T.without=function(t){return T.difference(t,l.call(arguments,1))},T.uniq=T.unique=function(t,e,n,i){T.isFunction(e)&&(i=n,n=e,e=!1);var o=n?T.map(t,n,i):t,r=[],a=[];return C(o,function(n,i){(e?i&&a[a.length-1]===n:T.contains(a,n))||(a.push(n),r.push(t[i]))}),r},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=l.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.indexOf(e,t)>=0})})},T.difference=function(t){var e=c.apply(i,l.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=T.pluck(arguments,""+n);return e},T.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},T.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return i=T.sortedIndex(t,e),t[i]===e?i:-1;i=n<0?Math.max(0,o+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;i<o;i++)if(t[i]===e)return i;return-1},T.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},T.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,r=new Array(i);o<i;)r[o++]=t,t+=n;return r};var O=function(){};T.bind=function(t,e){var n,i;if(k&&t.bind===k)return k.apply(t,l.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return n=l.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(l.call(arguments)));O.prototype=t.prototype;var o=new O;O.prototype=null;var r=t.apply(o,n.concat(l.call(arguments)));return Object(r)===r?r:o}},T.partial=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},T.bindAll=function(t){var e=l.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return C(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var n={};return e||(e=T.identity),function(){var i=e.apply(this,arguments);return T.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},T.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(l.call(arguments,1)))},T.throttle=function(t,e,n){var i,o,r,s=null,l=0;n||(n={});var c=function(){l=n.leading===!1?0:a(),s=null,r=t.apply(i,o),i=o=null};return function(){var u=a();l||n.leading!==!1||(l=u);var h=e-(u-l);return i=this,o=arguments,h<=0?(clearTimeout(s),s=null,l=u,r=t.apply(i,o),i=o=null):s||n.trailing===!1||(s=setTimeout(c,h)),r}},T.debounce=function(t,e,n){var i,o,r,s,l;return function(){r=this,o=arguments,s=a();var c=function(){var u=a()-s;u<e?i=setTimeout(c,e-u):(i=null,n||(l=t.apply(r,o),r=o=null))},u=n&&!i;return i||(i=setTimeout(c,e)),u&&(l=t.apply(r,o),r=o=null),l}},T.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return T.partial(e,t)},T.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},T.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)T.has(t,n)&&e.push(n);return e},T.values=function(t){for(var e=T.keys(t),n=e.length,i=new Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},T.pairs=function(t){for(var e=T.keys(t),n=e.length,i=new Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},T.invert=function(t){for(var e={},n=T.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=function(t){return C(l.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},T.pick=function(t){var e={},n=c.apply(i,l.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},T.omit=function(t){var e={},n=c.apply(i,l.call(arguments,1));for(var o in t)T.contains(n,o)||(e[o]=t[o]);return e},T.defaults=function(t){return C(l.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var M=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var o=u.call(t);if(o!=u.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(s)&&s instanceof s))return!1;n.push(t),i.push(e);var l=0,c=!0;if("[object Array]"==o){if(l=t.length,c=l==e.length)for(;l--&&(c=M(t[l],e[l],n,i)););}else{for(var h in t)if(T.has(t,h)&&(l++,!(c=T.has(e,h)&&M(t[h],e[h],n,i))))break;if(c){for(h in e)if(T.has(e,h)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};T.isEqual=function(t,e){return M(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=x||function(t){return"[object Array]"==u.call(t)},T.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return h.call(t,e)},T.noConflict=function(){return t._=e,this},T.identity=function(t){return t},T.times=function(t,e,n){for(var i=Array(Math.max(0,t)),o=0;o<t;o++)i[o]=e.call(n,o);return i},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=T.invert(N.escape);var j={escape:new RegExp("["+T.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(N.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(j[t],function(e){return N[t][e]})}}),T.result=function(t,e){if(null!=t){var n=t[e];return T.isFunction(n)?n.call(t):n}},T.mixin=function(t){C(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),X.call(this,n.apply(T,t))}})};var R=0;T.uniqueId=function(t){var e=++R+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,n){var i;n=T.defaults({},n,T.templateSettings);var o=new RegExp([(n.escape||D).source,(n.interpolate||D).source,(n.evaluate||D).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(o,function(e,n,i,o,s){return a+=t.slice(r,s).replace(L,function(t){return"\\"+F[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),r=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return i(e,T);var l=function(t){return i.call(this,t,T)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},T.chain=function(t){return T(t).chain()};var X=function(t){return this._chain?T(t).chain():t};T.mixin(T),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],X.call(this,n)}}),C(["concat","join","slice"],function(t){var e=i[t];T.prototype[t]=function(){return X.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),document.createElement("video"),document.createElement("audio");var vjs=function(t,e,n){var i;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vjs.players[t])return vjs.players[t];i=vjs.el(t)}else i=t;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,e,n)},videojs=window.videojs=vjs;vjs.CDN_VERSION="4.10",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,inactivityTimeout:2e3,children:{mediaLoader:{},loadingSpinner:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(t,e){return void 0!==vjs.options.languages[t]?vjs.options.languages[t]=vjs.util.mergeOptions(vjs.options.languages[t],e):vjs.options.languages[t]=e,vjs.options.languages},vjs.players={},vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(t){var e,n;t=t||{},e=t.init||t.init||this.prototype.init||this.prototype.init||function(){},n=function(){e.apply(this,arguments)},n.prototype=vjs.obj.create(this.prototype),n.prototype.constructor=n,n.extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(t,e,n){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.on,t,e,n);var i=vjs.getData(t);i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=vjs.guid++),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e){if(!i.disabled){e=vjs.fixEvent(e);var n=i.handlers[e.type];if(n)for(var o=n.slice(0),r=0,a=o.length;r<a&&!e.isImmediatePropagationStopped();r++)o[r].call(t,e)}}),1==i.handlers[e].length&&(t.addEventListener?t.addEventListener(e,i.dispatcher,!1):t.attachEvent&&t.attachEvent("on"+e,i.dispatcher))},vjs.off=function(t,e,n){if(vjs.hasData(t)){var i=vjs.getData(t);if(i.handlers){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.off,t,e,n);var o=function(e){i.handlers[e]=[],vjs.cleanUpEvents(t,e)};if(e){var r=i.handlers[e];if(r){if(!n)return void o(e);if(n.guid)for(var a=0;a<r.length;a++)r[a].guid===n.guid&&r.splice(a--,1);vjs.cleanUpEvents(t,e)}}else for(var s in i.handlers)o(s)}}},vjs.cleanUpEvents=function(t,e){var n=vjs.getData(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(t)},vjs.fixEvent=function(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||window.event;t={};for(var o in i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&("returnValue"==o&&i.preventDefault||(t[o]=i[o]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e,t.defaultPrevented=!0},t.isDefaultPrevented=n,t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var r=document.documentElement,a=document.body;t.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(t,e){var n=vjs.hasData(t)?vjs.getData(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=vjs.fixEvent(e),n.dispatcher&&n.dispatcher.call(t,e),i&&!e.isPropagationStopped()&&e.bubbles!==!1)vjs.trigger(i,e);else if(!i&&!e.defaultPrevented){var o=vjs.getData(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented},vjs.one=function(t,e,n){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.one,t,e,n);var i=function(){vjs.off(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||vjs.guid++,vjs.on(t,e,i)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(t,e){var n;return t=t||"div",e=e||{},n=document.createElement(t),vjs.obj.each(e,function(t,e){t.indexOf("aria-")!==-1||"role"==t?n.setAttribute(t,e):n[t]=e}),n},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function e(){}return e.prototype=t,new e},vjs.obj.each=function(t,e,n){for(var i in t)hasOwnProp.call(t,i)&&e.call(n||this,i,t[i])},vjs.obj.merge=function(t,e){if(!e)return t;for(var n in e)hasOwnProp.call(e,n)&&(t[n]=e[n]);return t},vjs.obj.deepMerge=function(t,e){var n,i,o;t=vjs.obj.copy(t);for(n in e)hasOwnProp.call(e,n)&&(i=t[n],o=e[n],vjs.obj.isPlain(i)&&vjs.obj.isPlain(o)?t[n]=vjs.obj.deepMerge(i,o):t[n]=e[n]);return t},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.obj.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},vjs.isNaN=function(t){return t!==t},vjs.bind=function(t,e,n){e.guid||(e.guid=vjs.guid++);var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(t){var e=t[vjs.expando];return e||(e=t[vjs.expando]=vjs.guid++,vjs.cache[e]={}),vjs.cache[e]},vjs.hasData=function(t){var e=t[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(t){var e=t[vjs.expando];if(e){delete vjs.cache[e];try{delete t[vjs.expando]}catch(n){t.removeAttribute?t.removeAttribute(vjs.expando):t[vjs.expando]=null}}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.hasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},vjs.addClass=function(t,e){vjs.hasClass(t,e)||(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(t,e){var n,i;if(vjs.hasClass(t,e)){for(n=t.className.split(" "),i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1);t.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var t,e,n=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(t=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]),t&&e?parseFloat(n[1]+"."+n[2]):t?t:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=function(t,e){vjs.obj.each(e,function(e,n){null===n||"undefined"==typeof n||n===!1?t.removeAttribute(e):t.setAttribute(e,n===!0?"":n)})},vjs.getElementAttributes=function(t){var e,n,i,o,r;if(e={},n=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0){i=t.attributes;for(var a=i.length-1;a>=0;a--)o=i[a].name,r=i[a].value,"boolean"!=typeof t[o]&&n.indexOf(","+o+",")===-1||(r=null!==r),e[o]=r}return e},vjs.getComputedDimension=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(n=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),n},vjs.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},vjs.browser={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(o=i=n="-"),o=o>0||a>0?o+":":"",i=((o||r>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,o+i+n},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.setLocalStorage=function(t,e){try{var n=window.localStorage||!1;if(!n)return;n[t]=e}catch(i){22==i.code||1014==i.code?vjs.log("LocalStorage Full (VideoJS)",i):18==i.code?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.parseUrl=function(t){var e,n,i,o,r;o=["protocol","hostname","port","pathname","search","hash","host"],n=vjs.createEl("a",{href:t}),i=""===n.host&&"file:"!==n.protocol,i&&(e=vjs.createEl("div"),e.innerHTML='<a href="'+t+'"></a>',n=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(e)),r={};for(var a=0;a<o.length;a++)r[o[a]]=n[o[a]];return i&&document.body.removeChild(e),r},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(t){var e,n,i,o,r,a,s,l,c;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(n=document.documentElement,i=document.body,o=n.clientLeft||i.clientLeft||0,r=window.pageXOffset||i.scrollLeft,a=e.left+r-o,s=n.clientTop||i.clientTop||0,l=window.pageYOffset||i.scrollTop,c=e.top+l-s,{left:vjs.round(a),top:vjs.round(c)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(t,e,n){if(vjs.obj.isArray(t)&&e instanceof Function)for(var i=0,o=t.length;i<o;++i)e.call(n||vjs,t[i],i,t);return t},vjs.util={},vjs.util.mergeOptions=function(t,e){var n,i,o;t=vjs.obj.copy(t);for(n in e)e.hasOwnProperty(n)&&(i=t[n],o=e[n],vjs.obj.isPlain(i)&&vjs.obj.isPlain(o)?t[n]=vjs.util.mergeOptions(i,o):t[n]=e[n]);return t},vjs.Component=vjs.CoreObject.extend({init:function(t,e,n){this.player_=t,this.options_=vjs.obj.copy(this.options_),e=this.options(e),this.id_=e.id||e.el&&e.el.id,this.id_||(this.id_=(t.id&&t.id()||"no_player")+"_component_"+vjs.guid++),this.name_=e.name||null,this.el_=e.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n),e.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),vjs.IS_CHROME&&(this.el_=null)},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){return void 0===t?this.options_:this.options_=vjs.util.mergeOptions(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.localize=function(t){var e=this.player_.language(),n=this.player_.languages();return n&&n[e]&&n[e][t]?n[e][t]:t},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(t,e){var n,i,o;return"string"==typeof t?(o=t,e=e||{},i=e.componentClass||vjs.capitalize(o),e.name=o,n=new window.videojs[i](this.player_||this,e)):n=t,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),o=o||n.name&&n.name(),o&&(this.childNameIndex_[o]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id]=null,this.childNameIndex_[t.name]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},vjs.Component.prototype.initChildren=function(){var t,e,n,i,o,r,a;if(t=this,e=t.options(),n=e.children)if(a=function(n,i){void 0!==e[n]&&(i=e[n]),i!==!1&&(t[n]=t.addChild(n,i))},vjs.obj.isArray(n))for(var s=0;s<n.length;s++)i=n[s],"string"==typeof i?(o=i,r={}):(o=i.name,r=i),a(o,r);else vjs.obj.each(n,a)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,e,n){var i,o,r,a,s,l;return"string"==typeof t||vjs.obj.isArray(t)?vjs.on(this.el_,t,vjs.bind(this,e)):(i=t,o=e,r=vjs.bind(this,n),l=this,a=function(){l.off(i,o,r)},a.guid=r.guid,this.on("dispose",a),s=function(){l.off("dispose",a)},s.guid=r.guid,t.nodeName?(vjs.on(i,o,r),vjs.on(i,"dispose",s)):"function"==typeof t.on&&(i.on(o,r),i.on("dispose",s))),this},vjs.Component.prototype.off=function(t,e,n){var i,o,r;return!t||"string"==typeof t||vjs.obj.isArray(t)?vjs.off(this.el_,t,e):(i=t,o=e,r=vjs.bind(this,n),this.off("dispose",r),t.nodeName?(vjs.off(i,o,r),vjs.off(i,"dispose",r)):(i.off(o,r),i.off("dispose",r))),this},vjs.Component.prototype.one=function(t,e,n){var i,o,r,a,s;return"string"==typeof t||vjs.obj.isArray(t)?vjs.one(this.el_,t,vjs.bind(this,e)):(i=t,o=e,r=vjs.bind(this,n),a=this,s=function(){a.off(i,o,s),r.apply(this,arguments)},s.guid=r.guid,this.on(i,o,s)),this},vjs.Component.prototype.trigger=function(t){return vjs.trigger(this.el_,t),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&t.length>0){for(var e=0,n=t.length;e<n;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.hasClass=function(t){return vjs.hasClass(this.el_,t)},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(t,e,n){if(void 0!==e)return(null===e||vjs.isNaN(e))&&(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[t]=e:"auto"===e?this.el_.style[t]="":this.el_.style[t]=e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[t],o=i.indexOf("px");return o!==-1?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+vjs.capitalize(t)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var t,e,n,i,o,r,a,s,l;t=0,e=null,l=22,this.on("touchstart",function(n){1===n.touches.length&&(e=n.touches[0],t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){t.touches.length>1?i=!1:e&&(r=t.touches[0].pageX-e.pageX,a=t.touches[0].pageY-e.pageY,s=Math.sqrt(r*r+a*a),s>l&&(i=!1))}),o=function(){i=!1},this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(o){e=null,i===!0&&(n=(new Date).getTime()-t,n<250&&(o.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var t,e,n;this.player().reportUserActivity&&(t=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),clearInterval(e),e=setInterval(t,250)}),n=function(n){t(),clearInterval(e)},this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n))},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(t,e){var n;return e=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},e),n=vjs.Component.prototype.createEl.call(this,t,e),e.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),n.appendChild(this.contentEl_)),n},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){32!=t.which&&13!=t.which||(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.on(t,"controlsvisible",this.update),this.on(t,this.playerEvent,this.update),this.boundEvents={},this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp)}}),vjs.Slider.prototype.dispose=function(){vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress)),vjs.Component.prototype.dispose.call(this)},vjs.Slider.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider",e=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(t)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.handle,i=this.bar;
if(isNaN(e)&&(e=0),t=e,n){var o=this.el_,r=o.offsetWidth,a=n.el().offsetWidth,s=a?a/r:0,l=1-s,c=e*l;t=c+s/2,n.el().style.left=vjs.round(100*c,2)+"%"}i&&(i.el().style.width=vjs.round(100*t,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(t){var e,n,i,o,r,a,s,l,c;if(e=this.el_,n=vjs.findPosition(e),r=a=e.offsetWidth,s=this.handle,this.options().vertical){if(o=n.top,c=t.changedTouches?t.changedTouches[0].pageY:t.pageY,s){var u=s.el().offsetHeight;o+=u/2,a-=u}return Math.max(0,Math.min(1,(o-c+a)/a))}if(i=n.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,s){var h=s.el().offsetWidth;i+=h/2,r-=h}return Math.max(0,Math.min(1,(l-i)/r))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(t){37==t.which||40==t.which?(t.preventDefault(),this.stepBack()):38!=t.which&&39!=t.which||(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider-handle",e=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),vjs.Component.prototype.createEl.call(this,"div",e)},vjs.MediaError=function(t){"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"==typeof t&&vjs.obj.merge(this,t),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var t,e,n,i;for(vjs.browser.fullscreenAPI,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=t[0],i=0;i<t.length;i++)if(t[i][1]in document){n=t[i];break}if(n)for(vjs.browser.fullscreenAPI={},i=0;i<n.length;i++)vjs.browser.fullscreenAPI[e[i]]=n[i]}(),vjs.Player=vjs.Component.extend({init:function(t,e,n){this.tag=t,t.id=t.id||"vjs_video_"+vjs.guid++,this.tagAttributes=t&&vjs.getElementAttributes(t),e=vjs.obj.merge(this.getTagSettings(t),e),this.language_=e.language||vjs.options.language,this.languages_=e.languages||vjs.options.languages,this.cache_={},this.controls_=!!e.controls,t.controls=!1,e.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,e,n),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,e.plugins&&vjs.obj.each(e.plugins,function(t,e){this[t](e)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(t){return void 0===t?this.language_:(this.language_=t,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(t){var e,n,i={sources:[]};if(e=vjs.getElementAttributes(t),n=e["data-setup"],null!==n&&vjs.obj.merge(e,vjs.JSON.parse(n||"{}")),vjs.obj.merge(i,e),t.hasChildNodes()){var o,r,a,s,l;for(o=t.childNodes,s=0,l=o.length;s<l;s++)r=o[s],a=r.nodeName.toLowerCase(),"source"===a&&i.sources.push(vjs.getElementAttributes(r))}return i},vjs.Player.prototype.createEl=function(){var t,e=this.el_=vjs.Component.prototype.createEl.call(this,"div"),n=this.tag;if(n.removeAttribute("width"),n.removeAttribute("height"),n.hasChildNodes()){var i,o,r,a,s,l;for(i=n.childNodes,o=i.length,l=[];o--;)a=i[o],s=a.nodeName.toLowerCase(),"track"===s&&l.push(a);for(r=0;r<l.length;r++)n.removeChild(l[r])}return t=vjs.getElementAttributes(n),vjs.obj.each(t,function(n){"class"==n?e.className=t[n]:e.setAttribute(n,t[n])}),n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(e,n),vjs.insertFirst(n,e),this.el_=e,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),e},vjs.Player.prototype.loadTech=function(t,e){this.tech&&this.unloadTech(),"Html5"!==t&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=t,this.isReady_=!1;var n=function(){this.player_.triggerReady()},i=vjs.obj.merge({source:e,parentEl:this.el_},this.options_[t.toLowerCase()]);e&&(this.currentType_=e.type,e.src==this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=e.src),this.tech=new window.videojs[t](this,i),this.tech.ready(n)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.error(null),this.paused()?(this.hasStarted(!1),this.one("play",function(){this.hasStarted(!0)})):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing")},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var t=this.techGet("duration");t&&(t<0&&(t=1/0),this.duration(t),t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(n){throw vjs.log(n),n}},vjs.Player.prototype.techGet=function(t){if(this.tech&&this.tech.isReady_)try{return this.tech[t]()}catch(e){throw void 0===this.tech[t]?vjs.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(vjs.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady_=!1):vjs.log(e),e}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")!==!1},vjs.Player.prototype.currentTime=function(t){return void 0!==t?(this.techCall("setCurrentTime",t),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){return void 0!==t?(this.cache_.duration=parseFloat(t),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var t=this.techGet("buffered");return t&&t.length||(t=vjs.createTimeRange(0,0)),t},vjs.Player.prototype.bufferedPercent=function(){var t,e,n=this.duration(),i=this.buffered(),o=0;if(!n)return 0;for(var r=0;r<i.length;r++)t=i.start(r),e=i.end(r),e>n&&(e=n),o+=e-t;return o/n},vjs.Player.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},vjs.Player.prototype.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall("setVolume",e),vjs.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},vjs.Player.prototype.muted=function(t){return void 0!==t?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(t){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(t)},vjs.Player.prototype.requestFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),t?(vjs.on(document,t.fullscreenchange,vjs.bind(this,function(e){this.isFullscreen(document[t.fullscreenElement]),this.isFullscreen()===!1&&vjs.off(document,t.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),t?document[t.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var i=vjs.capitalize(n[e]),o=window.videojs[i];if(o){if(o.isSupported())for(var r=0,a=t;r<a.length;r++){var s=a[r];if(o.canPlaySource(s))return{source:s,tech:i}}}else vjs.log.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(t){return void 0===t?this.techGet("src"):(vjs.obj.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!window.videojs[this.techName].canPlaySource(t)?this.sourceList_([t]):(this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){this.techCall("src",t.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(t){var e,n=this.selectSource(t);n?n.tech===this.techName?this.src(n.source):this.loadTech(n.tech,n.source):(e=setTimeout(vjs.bind(this,function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})}),0),this.triggerReady(),this.on("dispose",function(){clearTimeout(e)}))},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(t){return void 0!==t?(this.techCall("setPreload",t),this.options_.preload=t,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){return void 0!==t?(this.techCall("setAutoplay",t),this.options_.autoplay=t,this):this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){return void 0!==t?(this.techCall("setLoop",t),this.options_.loop=t,this):this.techGet("loop")},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(t){return void 0===t?this.error_:null===t?(this.error_=t,this.removeClass("vjs-error"),this):(t instanceof vjs.MediaError?this.error_=t:this.error_=new vjs.MediaError(t),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(t){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var t,e,n,i,o,r,a,s,l;t=vjs.bind(this,this.reportUserActivity),e=function(e){e.screenX==s&&e.screenY==l||(s=e.screenX,l=e.screenY,t())},n=function(){t(),clearInterval(i),i=setInterval(t,250)},o=function(e){t(),clearInterval(i)},this.on("mousedown",n),this.on("mousemove",e),this.on("mouseup",o),this.on("keydown",t),this.on("keyup",t),r=setInterval(vjs.bind(this,function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),clearTimeout(a);var t=this.options().inactivityTimeout;t>0&&(a=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),t))}}),250),this.on("dispose",function(){clearInterval(r),clearTimeout(a)})},vjs.Player.prototype.playbackRate=function(t){return void 0!==t?(this.techCall("setPlaybackRate",t),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):this.isAudio_},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.on(t,"play",this.onPlay),this.on(t,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),this.on(t,"timeupdate",this.updateARIAAttributes),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.on(t,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var t,e,n,i,o=this.player_.buffered(),r=this.player_.duration(),a=this.player_.bufferedEnd(),s=this.el_.children,l=function(t,e){var n=t/e||0;return 100*n+"%"};for(this.el_.style.width=l(a,r),t=0;t<o.length;t++)e=o.start(t),n=o.end(t),i=s[t],i||(i=this.el_.appendChild(vjs.createEl())),i.style.left=l(e,a),i.style.width=l(n-e,a);for(t=s.length;t>o.length;t--)this.el_.removeChild(s[t-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(t,e){vjs.SliderHandle.call(this,t,e),this.on(t,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(t,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(t,"loadstart",function(){t.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),this.on(t,"volumechange",this.updateARIAAttributes),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.on(t,"volumechange",this.update),t.tech&&t.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(t,"loadstart",function(){t.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var n=0;n<4;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+e)},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.ErrorDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.update(),this.on(t,"error",this.update)}}),vjs.ErrorDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),t.appendChild(this.contentEl_),t},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},vjs.MediaTechController=vjs.Component.extend({init:function(t,e,n){e=e||{},e.reportTouchActivity=!1,vjs.Component.call(this,t,e,n),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var t,e;t=this.player(),e=function(){t.controls()&&!t.usingNativeControls()&&this.addControlsListeners()},this.ready(e),this.on(t,"controlsenabled",e),this.on(t,"controlsdisabled",this.removeControlsListeners),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var t;this.on("mousedown",this.onClick),this.on("touchstart",function(e){t=this.player_.userActive()}),this.on("touchmove",function(e){t&&this.player().reportUserActivity()}),this.on("touchend",function(t){t.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(t){0===t.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){var t=this.player().bufferedPercent();this.bufferedPercent_!=t&&this.player().trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var t=this.player_;this.manualTimeUpdates=!0,this.on(t,"play",this.trackCurrentTime),this.on(t,"pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.player().trigger("timeupdate")}),250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,n){this.featuresVolumeControl=vjs.Html5.canControlVolume(),this.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),this.movingMediaElementInDOM=!vjs.IS_IOS,this.featuresFullscreenResize=!0,this.featuresProgressEvents=!0,vjs.MediaTechController.call(this,t,e,n),this.setupTriggers();var i=e.source;(i&&this.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)&&(this.el_.src=i.src),vjs.TOUCH_ENABLED&&t.options().nativeControlsForTouch===!0&&this.useNativeControls(),t.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&this.play()}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t,e=this.player_,n=e.tag;n&&this.movingMediaElementInDOM!==!1||(n?(t=n.cloneNode(!1),vjs.Html5.disposeMediaElement(n),n=t,e.tag=null):(n=vjs.createEl("video"),vjs.setElementAttributes(n,vjs.obj.merge(e.tagAttributes||{},{id:e.id()+"_html5_api","class":"vjs-tech"}))),n.player=e,vjs.insertFirst(n,e.el()));for(var i=["autoplay","preload","loop","muted"],o=i.length-1;o>=0;o--){var r=i[o],a={};"undefined"!=typeof e.options_[r]&&(a[r]=e.options_[r]),vjs.setElementAttributes(n,a)}return n},vjs.Html5.prototype.setupTriggers=function(){
for(var t=vjs.Html5.Events.length-1;t>=0;t--)this.on(vjs.Html5.Events[t],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(t){"error"==t.type&&this.error()?this.player().error(this.error().code):(t.bubbles=!1,this.player().trigger(t))},vjs.Html5.prototype.useNativeControls=function(){var t,e,n,i,o;t=this,e=this.player(),t.setControls(e.controls()),n=function(){t.setControls(!0)},i=function(){t.setControls(!1)},e.on("controlsenabled",n),e.on("controlsdisabled",i),o=function(){e.off("controlsenabled",n),e.off("controlsdisabled",i)},t.on("dispose",o),e.on("usingcustomcontrols",o),e.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;"webkitDisplayingFullscreen"in t&&this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")}),this.player_.trigger("fullscreenchange")}),t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){return void 0===t?this.el_.src:void(this.el_.src=t)},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(t){this.el_.controls=!!t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(t){this.el_.playbackRate=t},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(t){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(t){try{return!!vjs.TEST_VID.canPlayType(t.type)}catch(e){return""}},vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var t=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=t/2+.1,t!==vjs.TEST_VID.playbackRate},function(){var t,e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,n=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&e.test(n)?"maybe":t.call(this,n)}),vjs.IS_OLD_ANDROID&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&n.test(e)?"maybe":t.call(this,e)})},vjs.Html5.unpatchCanPlayType=function(){var e=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=t,t=null,e},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(t){if(t){for(t.player=null,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(e){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(t,e,n){vjs.MediaTechController.call(this,t,e,n);var i=e.source,o=e.parentEl,r=this.el_=vjs.createEl("div",{id:t.id()+"_temp_flash"}),a=t.id()+"_flash_api",s=t.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:s.autoplay,preload:s.preload,loop:s.loop,muted:s.muted},e.flashVars),c=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},e.params),u=vjs.obj.merge({id:a,name:a,"class":"vjs-tech"},e.attributes);if(i)if(i.type&&vjs.Flash.isStreamingType(i.type)){var h=vjs.Flash.streamToParts(i.src);l.rtmpConnection=encodeURIComponent(h.connection),l.rtmpStream=encodeURIComponent(h.stream)}else l.src=encodeURIComponent(vjs.getAbsoluteURL(i.src));vjs.insertFirst(r,o),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})}),t.on("stageclick",t.reportUserActivity),this.el_=vjs.Flash.embed(e.swf,r,l,c,u)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(void 0===t)return this.currentSrc();if(vjs.Flash.isStreamingSrc(t)?(t=vjs.Flash.streamToParts(t),this.setRtmpConnection(t.connection),this.setRtmpStream(t.stream)):(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t)),this.player_.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(t){this.lastSeekTarget_=t,this.el_.vjs_setProperty("currentTime",t),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(t){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){var t=this.el_.vjs_getProperty("currentSrc");if(null==t){var e=this.rtmpConnection(),n=this.rtmpStream();e&&n&&(t=vjs.Flash.streamFromParts(e,n))}return t},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function t(t){var e=t.charAt(0).toUpperCase()+t.slice(1);i["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function e(t){i[t]=function(){return this.el_.vjs_getProperty(t)}}var n,i=vjs.Flash.prototype,o="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),r="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");for(n=0;n<o.length;n++)e(o[n]),t(o[n]);for(n=0;n<r.length;n++)e(r[n])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(t){var e;return t.type?(e=t.type.replace(/;.*/,"").toLowerCase(),e in vjs.Flash.formats||e in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(t){var e,n;e=vjs.el(t),n=e&&e.parentNode&&e.parentNode.player,n&&(e.player=n,vjs.Flash.checkReady(n.tech))},vjs.Flash.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():setTimeout(function(){vjs.Flash.checkReady(t)},50))},vjs.Flash.onEvent=function(t,e){var n=vjs.el(t).player;n.trigger(e)},vjs.Flash.onError=function(t,e){var n=vjs.el(t).player,i="FLASH: "+e;"srcnotfound"==e?n.error({code:4,message:i}):n.error(i)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return t.split(",")},vjs.Flash.embed=function(t,e,n,i,o){var r=vjs.Flash.getEmbedCode(t,n,i,o),a=vjs.createEl("div",{innerHTML:r}).childNodes[0],s=e.parentNode;e.parentNode.replaceChild(a,e);var l=s.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),a},vjs.Flash.getEmbedCode=function(t,e,n,i){var o='<object type="application/x-shockwave-flash"',r="",a="",s="";return e&&vjs.obj.each(e,function(t,e){r+=t+"="+e+"&amp;"}),n=vjs.obj.merge({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(t,e){a+='<param name="'+t+'" value="'+e+'" />'}),i=vjs.obj.merge({data:t,width:"100%",height:"100%"},i),vjs.obj.each(i,function(t,e){s+=t+'="'+e+'" '}),o+s+">"+a+"</object>"},vjs.Flash.streamFromParts=function(t,e){return t+"&"+e},vjs.Flash.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n,i=t.indexOf("&");return i!==-1?n=i+1:(i=n=t.lastIndexOf("/")+1,0===i&&(i=n=t.length)),e.connection=t.substring(0,i),e.stream=t.substring(n,t.length),e},vjs.Flash.isStreamingType=function(t){return t in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(t){return vjs.Flash.RTMP_RE.test(t)},vjs.MediaLoader=vjs.Component.extend({init:function(t,e,n){if(vjs.Component.call(this,t,e,n),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var i=0,o=t.options_.techOrder;i<o.length;i++){var r=vjs.capitalize(o[i]),a=window.videojs[r];if(a&&a.isSupported()){t.loadTech(r);break}}}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse?vjs.JSON=window.JSON:vjs.JSON={},function(t,e,n){"use strict";"undefined"!=typeof module&&module.exports?module.exports=n(e,t):"function"==typeof define&&define.amd?define(function(){return n(e,t)}):t[e]=n(e,t)}(window,"Audio5js",function(t,e){"use strict";function n(t){this.message=t}function i(t){var e,n={};for(e in t)"object"==typeof t[e]?n[e]=i(t[e]):n[e]=t[e];return n}var o=e.ActiveXObject;n.prototype=new Error;var r=function(t,e){var n,o=i(e);for(n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);return t},a=function(t,e){return r(t.prototype,e)},s={on:function(t,e,n){this.subscribe(t,e,n,!1)},one:function(t,e,n){this.subscribe(t,e,n,!0)},off:function(t,e){if(void 0!==this.channels[t]){var n,i;for(n=0,i=this.channels[t].length;n<i;n++){var o=this.channels[t][n].fn;if(o===e){this.channels[t].splice(n,1);break}}}},subscribe:function(t,e,n,i){void 0===this.channels&&(this.channels={}),this.channels[t]=this.channels[t]||[],this.channels[t].push({fn:e,ctx:n,once:i||!1})},trigger:function(t){if(this.channels&&this.channels.hasOwnProperty(t)){for(var e=Array.prototype.slice.call(arguments,1),n=[];this.channels[t].length>0;){var i=this.channels[t].shift();"function"==typeof i.fn&&i.fn.apply(i.ctx,e),i.once||n.push(i)}this.channels[t]=n}}},l={flash_embed_code:function(e,n,i){var r,a='<param name="movie" value="'+n+"?playerInstance=window."+t+"_flash.instances['"+e+"']&datetime="+i+'"/><param name="wmode" value="transparent"/><param name="allowscriptaccess" value="always" /></object>';return r=o?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1" id="'+e+'">':'<object type="application/x-shockwave-flash" data="'+n+"?playerInstance=window."+t+"_flash.instances['"+e+"']&datetime="+i+'" width="1" height="1" id="'+e+'" >',r+a},can_play:function(t){var e,n=document.createElement("audio");switch(t){case"mp3":e="audio/mpeg;";break;case"vorbis":e='audio/ogg; codecs="vorbis"';break;case"opus":e='audio/ogg; codecs="opus"';break;case"webm":e='audio/webm; codecs="vorbis"';break;case"mp4":e='audio/mp4; codecs="mp4a.40.5"';break;case"wav":e='audio/wav; codecs="1"'}if(void 0!==e){if("mp3"===t&&navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Firefox/i))return!0;try{return!!n.canPlayType&&""!==n.canPlayType(e)}catch(i){return!1}}return!1},has_flash:function(){var t=!1;if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])t=!0;else if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];t=e&&e.enabledPlugin}else try{var n=new o("ShockwaveFlash.ShockwaveFlash");t="object"==typeof n}catch(i){}return t}(),embedFlash:function(n,i){var o=document.createElement("div");if(o.style.position="absolute",o.style.width="1px",o.style.height="1px",o.style.top="1px",document.body.appendChild(o),"object"==typeof e.swfobject){var r={playerInstance:"window."+t+"_flash.instances['"+i+"']"},a={allowscriptaccess:"always",wmode:"transparent"};o.innerHTML='<div id="'+i+'"></div>',swfobject.embedSWF(n+"?ts="+((new Date).getTime()+Math.random()),i,"1","1","9.0.0",null,r,a)}else{var s=(new Date).getTime()+Math.random();o.innerHTML=this.flash_embed_code(i,n,s)}return document.getElementById(i)},formatTime:function(t){var e,n=parseInt(t/3600,10)%24,i=parseInt(t/60,10)%60,o=parseInt(t%60,10),r=(i<10?"0"+i:i)+":"+(o<10?"0"+o:o);return e=n>0?(n<10?"0"+n:n)+":"+r:r}};l.use_flash=l.can_play("mp3");var c,u,h,d={playing:!1,vol:1,duration:0,position:0,load_percent:0,seekable:!1,ready:null},p=e[t+"_flash"]=e[t+"_flash"]||{instances:{},count:0};u=function(){if(l.use_flash&&!l.has_flash)throw new Error("Flash Plugin Missing")},u.prototype={init:function(e){p.count+=1,this.id=t+p.count,p.instances[this.id]=this,this.embed(e)},embed:function(t){l.embedFlash(t,this.id)},eiReady:function(){this.audio=document.getElementById(this.id),this.trigger("ready")},eiLoadStart:function(){this.trigger("loadstart")},eiLoadedMetadata:function(){this.trigger("loadedmetadata")},eiCanPlay:function(){this.trigger("canplay")},eiTimeUpdate:function(t,e,n){this.position=t,this.duration=e,this.seekable=n,this.trigger("timeupdate",t,this.seekable?e:null)},eiProgress:function(t,e,n){this.load_percent=t,this.duration=e,this.seekable=n,this.trigger("progress",t)},eiLoadError:function(t){this.trigger("error",t)},eiPlay:function(){this.playing=!0,this.trigger("play"),this.trigger("playing")},eiPause:function(){this.playing=!1,this.trigger("pause")},eiEnded:function(){this.pause(),this.trigger("ended")},eiSeeking:function(){this.trigger("seeking")},eiSeeked:function(){this.trigger("seeked")},reset:function(){this.seekable=!1,this.duration=0,this.position=0,this.load_percent=0},load:function(t){this.reset(),this.audio.load(t)},play:function(){this.audio.pplay()},pause:function(){this.audio.ppause()},volume:function(t){return void 0===t||isNaN(parseInt(t,10))?this.vol:(this.audio.setVolume(t),void(this.vol=t))},seek:function(t){try{this.audio.seekTo(t),this.position=t}catch(e){}},destroyAudio:function(){this.audio&&(this.pause(),this.audio.parentNode.removeChild(this.audio),delete p.instances[this.id],delete this.audio)}},a(u,s),a(u,d),h=function(){},h.prototype={init:function(){this.trigger("ready")},createAudio:function(){this.audio=new Audio,this.audio.autoplay=!1,this.audio.preload="auto",this.audio.autobuffer=!0,this.bindEvents()},destroyAudio:function(){if(this.audio){this.pause(),this.unbindEvents();try{this.audio.setAttribute("src","")}finally{delete this.audio}}},setupEventListeners:function(){this.listeners={loadstart:this.onLoadStart.bind(this),canplay:this.onLoad.bind(this),loadedmetadata:this.onLoadedMetadata.bind(this),play:this.onPlay.bind(this),playing:this.onPlaying.bind(this),pause:this.onPause.bind(this),ended:this.onEnded.bind(this),error:this.onError.bind(this),timeupdate:this.onTimeUpdate.bind(this),seeking:this.onSeeking.bind(this),seeked:this.onSeeked.bind(this)}},bindEvents:function(){void 0===this.listeners&&this.setupEventListeners(),this.audio.addEventListener("loadstart",this.listeners.loadstart,!1),this.audio.addEventListener("canplay",this.listeners.canplay,!1),this.audio.addEventListener("loadedmetadata",this.listeners.loadedmetadata,!1),this.audio.addEventListener("play",this.listeners.play,!1),this.audio.addEventListener("playing",this.listeners.playing,!1),this.audio.addEventListener("pause",this.listeners.pause,!1),this.audio.addEventListener("ended",this.listeners.ended,!1),this.audio.addEventListener("error",this.listeners.error,!1),this.audio.addEventListener("timeupdate",this.listeners.timeupdate,!1),this.audio.addEventListener("seeking",this.listeners.seeking,!1),this.audio.addEventListener("seeked",this.listeners.seeked,!1)},unbindEvents:function(){this.audio.removeEventListener("loadstart",this.listeners.loadstart),this.audio.removeEventListener("canplay",this.listeners.canplay),this.audio.removeEventListener("loadedmetadata",this.listeners.loadedmetadata),this.audio.removeEventListener("play",this.listeners.play),this.audio.removeEventListener("playing",this.listeners.playing),this.audio.removeEventListener("pause",this.listeners.pause),this.audio.removeEventListener("ended",this.listeners.ended),this.audio.removeEventListener("error",this.listeners.error),this.audio.removeEventListener("timeupdate",this.listeners.timeupdate),this.audio.removeEventListener("seeking",this.listeners.seeking),this.audio.removeEventListener("seeked",this.listeners.seeked)},onLoadStart:function(){this.trigger("loadstart")},onLoad:function(){return this.audio?(this.seekable=this.audio.seekable&&this.audio.seekable.length>0,this.seekable&&(this.timer=setInterval(this.onProgress.bind(this),250)),void this.trigger("canplay")):setTimeout(this.onLoad.bind(this),100)},onLoadedMetadata:function(){this.trigger("loadedmetadata")},onPlay:function(){this.playing=!0,this.trigger("play")},onPlaying:function(){this.playing=!0,this.trigger("playing")},onPause:function(){this.playing=!1,this.trigger("pause")},onEnded:function(){this.playing=!1,this.trigger("ended")},onTimeUpdate:function(){if(this.audio&&this.playing){try{this.position=this.audio.currentTime,this.duration=this.audio.duration===1/0?null:this.audio.duration}catch(t){}this.trigger("timeupdate",this.position,this.duration)}},onProgress:function(){this.audio&&null!==this.audio.buffered&&this.audio.buffered.length&&(this.duration=this.audio.duration===1/0?null:this.audio.duration,this.load_percent=parseInt(this.audio.buffered.end(this.audio.buffered.length-1)/this.duration*100,10),this.trigger("progress",this.load_percent),this.load_percent>=100&&this.clearLoadProgress())},onError:function(t){this.trigger("error",t)},onSeeking:function(){this.trigger("seeking")},onSeeked:function(){this.trigger("seeked")},clearLoadProgress:function(){void 0!==this.timer&&(clearInterval(this.timer),delete this.timer)},reset:function(){this.clearLoadProgress(),this.seekable=!1,this.duration=0,this.position=0,this.load_percent=0},load:function(t){this.reset(),this.trigger("pause"),void 0===this.audio&&this.createAudio(),this.audio.setAttribute("src",t),this.audio.load()},play:function(){this.audio&&this.audio.play()},pause:function(){this.audio&&this.audio.pause()},volume:function(t){if(void 0===t||isNaN(parseInt(t,10)))return this.vol;var e=t<0?0:Math.min(1,t);this.audio.volume=e,this.vol=e},seek:function(t){var e=this.playing;this.position=t,this.audio.currentTime=t,e?this.play():null!==this.audio.buffered&&this.audio.buffered.length&&this.trigger("timeupdate",this.position,this.duration)}},a(h,s),a(h,d);var f={swf_path:"/swf/audiojs.swf",throw_errors:!0,format_time:!0,codecs:["mp3"]};return c=function(t){t=t||{};var e;for(e in f)f.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=f[e]);this.init(t)},c.can_play=function(t){return l.can_play(t)},c.prototype={init:function(t){this.ready=!1,this.settings=t,this.audio=this.getPlayer(),this.bindAudioEvents(),this.settings.use_flash?this.audio.init(t.swf_path):this.audio.init()},getPlayer:function(){var t,e,n,i;if(this.settings.use_flash)n=new u,this.settings.player={engine:"flash",codec:"mp3"};else{for(t=0,e=this.settings.codecs.length;t<e;t++)if(i=this.settings.codecs[t],c.can_play(i)){n=new h,this.settings.use_flash=!1,this.settings.player={engine:"html",codec:i};break}void 0===n&&(this.settings.use_flash=!c.can_play("mp3"),n=this.settings.use_flash?new u:new h,this.settings.player={engine:this.settings.use_flash?"flash":"html",codec:"mp3"})}return n},bindAudioEvents:function(){this.audio.on("ready",this.onReady,this),this.audio.on("loadstart",this.onLoadStart,this),this.audio.on("loadedmetadata",this.onLoadedMetadata,this),this.audio.on("play",this.onPlay,this),this.audio.on("pause",this.onPause,this),this.audio.on("ended",this.onEnded,this),this.audio.on("canplay",this.onCanPlay,this),this.audio.on("timeupdate",this.onTimeUpdate,this),this.audio.on("progress",this.onProgress,this),this.audio.on("error",this.onError,this),this.audio.on("seeking",this.onSeeking,this),this.audio.on("seeked",this.onSeeked,this)},unbindAudioEvents:function(){this.audio.off("ready",this.onReady),this.audio.off("loadstart",this.onLoadStart),this.audio.off("loadedmetadata",this.onLoadedMetadata),this.audio.off("play",this.onPlay),this.audio.off("pause",this.onPause),this.audio.off("ended",this.onEnded),this.audio.off("canplay",this.onCanPlay),this.audio.off("timeupdate",this.onTimeUpdate),this.audio.off("progress",this.onProgress),this.audio.off("error",this.onError),this.audio.off("seeking",this.onSeeking),this.audio.off("seeked",this.onSeeked)},load:function(t){var e=this,n=function(t){e.audio.load(t),e.trigger("load")};this.ready?n(t):this.on("ready",n)},play:function(){this.playing||this.audio.play()},pause:function(){this.playing&&this.audio.pause()},playPause:function(){this[this.playing?"pause":"play"]()},volume:function(t){return void 0===t||isNaN(parseInt(t,10))?this.vol:(this.audio.volume(t),void(this.vol=t))},seek:function(t){this.audio.seek(t),this.position=t},destroy:function(){this.unbindAudioEvents(),this.audio.destroyAudio()},onReady:function(){this.ready=!0,"function"==typeof this.settings.ready&&this.settings.ready.call(this,this.settings.player),this.trigger("ready")},onLoadStart:function(){this.trigger("loadstart")},onLoadedMetadata:function(){this.trigger("loadedmetadata")},onPlay:function(){this.playing=!0,this.trigger("play")},onPause:function(){this.playing=!1,this.trigger("pause")},onEnded:function(){this.playing=!1,this.trigger("ended")},onError:function(){var t=new n("Audio Error. Failed to Load Audio");if(this.settings.throw_errors)throw t;this.trigger("error",t)},onCanPlay:function(){this.trigger("canplay")},onSeeking:function(){this.trigger("seeking")},onSeeked:function(){this.trigger("seeked")},onTimeUpdate:function(t,e){this.position=this.settings.format_time?l.formatTime(t):t,this.duration!==e&&(this.duration=this.settings.format_time&&null!==e?l.formatTime(e):e),this.trigger("timeupdate",this.position,this.duration)},onProgress:function(t){this.duration=this.audio.duration,this.load_percent=t,this.trigger("progress",t)}},a(c,s),a(c,d),c}),function(t,e,n){function i(t,n){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|TSPAN)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,n,i){var o=e.createElement("div"),r=e.createElement("div");return i===!0&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(i===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(i===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",n||(o.style.pointerEvents="none"),o.appendChild(r),o}function r(n,i){this.wrapper="string"==typeof i.el?e.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in i)this.options[o]=i[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(t,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,"MSPointerDown",this),s.addEvent(t,"MSPointerUp",this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[s.style.transform]=this.scroller.translateZ,this.wrapperStyle[s.style.transitionDuration]=s.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},s=function(){function i(t){return a!==!1&&(""===a?t:a+t.charAt(0).toUpperCase()+t.substr(1))}var o={},r=e.createElement("div").style,a=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var n in e)t[n]=e[n]},o.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},o.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},o.momentum=function(t,e,i,o,r,a){var s,l,c=t-e,u=n.abs(c)/i;return a=void 0===a?6e-4:a,s=t+u*u/(2*a)*(c<0?-1:1),l=u/a,s<o?(s=r?o-r/2.5*(u/8):o,c=n.abs(s-t),l=c/u):s>0&&(s=r?r/2.5*(u/8):0,c=n.abs(t)+s,l=c/u),{destination:n.round(s),duration:l}};var s=i("transform");return o.extend(o,{hasTransform:s!==!1,hasPerspective:i("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:navigator.msPointerEnabled,hasTransition:i("transition")in r}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:s,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin")}),o.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},o.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},o.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*n.pow(2,-10*t)*n.sin((t-e/4)*(2*n.PI)/e)+1}}}),o.tap=function(t,n){var i=e.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},o.click=function(t){var n,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(n=e.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._constructed=!0,i.dispatchEvent(n))},o}();i.prototype={version:"5.1.1",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd",t)))},_start:function(t){if((1==s.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||s.eventType[t.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e,i=t.touches?t.touches[0]:t;this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,
this._transitionTime(),this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this._execEvent("scrollEnd",t)):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd",t)),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,o,r,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,c=a.pageY-this.pointY,u=s.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=c,o=n.abs(this.distX),r=n.abs(this.distY),!(u-this.endTime>300&&o<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(o>r+this.options.directionLockThreshold?this.directionLocked="h":r>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,i=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+c/3:i>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll",t)),this.options.probeType>1&&this._execEvent("scroll",t)}}},_end:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,o=(t.changedTouches?t.changedTouches[0]:t,s.getTime()-this.startTime),r=n.round(this.x),a=n.round(this.y),l=n.abs(r-this.startX),c=n.abs(a-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,a),!this.moved)return this.options.tap&&s.tap(t,this.options.tap),this.options.click&&s.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&o<200&&l<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&o<300&&(e=this.hasHorizontalScroll?s.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},i=this.hasVerticalScroll?s.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},r=e.destination,a=i.destination,u=n.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(r,a);this.currentPage=d,u=this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-d.x),1e3),n.min(n.abs(a-d.y),1e3)),300),r=d.x,a=d.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return r!=this.x||a!=this.y?((r>0||r<this.maxScrollX||a>0||a<this.maxScrollY)&&(h=s.ease.quadratic),void this.scrollTo(r,a,u,h)):void this._execEvent("scrollEnd",t)}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t,e){if(this._events[t]){var n=0,i=this._events[t].length;if(i)for(;n<i;n++)this._events[t][n].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||s.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,i,o,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=s.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,i===!0&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=i||0,a.top-=o||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-a.left),n.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.scrollerStyle[s.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[s.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var n=e?s.removeEvent:s.addEvent,i=this.options.bindToWrapper?this.wrapper:t;n(t,"orientationchange",this),n(t,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,"MSPointerDown",this),n(i,"MSPointerMove",this),n(i,"MSPointerCancel",this),n(i,"MSPointerUp",this)),s.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,n,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[s.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),n=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},_initIndicators:function(){function t(t){for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,a=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),a.push(e)),this.options.scrollX&&(e={el:o("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),a.push(e))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var l=a.length;l--;)this.indicators.push(new r(this,a[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,o,r,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("scrollEnd",t),a.wheelTimeout=void 0},400),"deltaX"in t)e=-t.deltaX,i=-t.deltaY;else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return o=this.currentPage.pageX,r=this.currentPage.pageY,e>0?o--:e<0&&o++,i>0?r--:i<0&&r++,void this.goToPage(o,r);o=this.x+n.round(this.hasHorizontalScroll?e:0),r=this.y+n.round(this.hasVerticalScroll?i:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(o,r,0),this.options.probeType>1&&this._execEvent("scroll",t)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,o,r,a,s=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=n.round(u/2),o=n.round(h/2);c>-this.scrollerWidth;){for(this.pages[s]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[s][t]={x:n.max(c,this.maxScrollX),y:n.max(r,this.maxScrollY),width:u,height:h,cx:c-i,cy:r-o},r-=h,t++;c-=u,s++}else for(a=this.options.snap,t=a.length,e=-1;s<t;s++)(0===s||a[s].offsetLeft<=a[s-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=n.max(-a[s].offsetLeft,this.maxScrollX),r=n.max(-a[s].offsetTop,this.maxScrollY),i=c-n.round(a[s].offsetWidth/2),o=r-n.round(a[s].offsetHeight/2),this.pages[l][e]={x:c,y:r,width:a[s].offsetWidth,height:a[s].offsetHeight,cx:i,cy:o},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,o=this.pages.length,r=0;if(n.abs(t-this.absStartX)<this.snapThresholdX&&n.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<o;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(o=this.pages[i].length;r<o;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r==this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},goToPage:function(t,e,i,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,a=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-this.x),1e3),n.min(n.abs(a-this.y),1e3)),300):i,this.currentPage={x:r,y:a,pageX:t,pageY:e},this._execEvent("scrollEnd",{}),this.scrollTo(r,a,i,o)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(e){var n,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in i)this.options.keyBindings[n]=this.options.keyBindings[n]||i[n];s.addEvent(t,"keydown",this),this.on("destroy",function(){s.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,o=i?this.currentPage.pageX:this.x,r=i?this.currentPage.pageY:this.y,a=s.getTime(),l=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-l<200?n.min(this.keyAcceleration+c,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=i?1:this.wrapperWidth:r+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=i?1:this.wrapperWidth:r-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=i?this.pages.length-1:this.maxScrollX,r=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,r=0;break;case this.options.keyBindings.left:o+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(o,r);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,r,0),this.keyTime=a}},_animate:function(t,e,n,i){function o(){var d,p,f,v=s.getTime();return v>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd",{}))):(v=(v-u)/n,f=i(v),d=(t-l)*f+l,p=(e-c)*f+c,r._translate(d,p),r.isAnimating&&a(o),void(3==r.options.probeType&&r._execEvent("scroll",{})))}var r=this,l=this.x,c=this.y,u=s.getTime(),h=u+n;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,"MSPointerDown",this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(t,"touchmove",this),s.removeEvent(t,"MSPointerMove",this),s.removeEvent(t,"mousemove",this),s.removeEvent(t,"touchend",this),s.removeEvent(t,"MSPointerUp",this),s.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var n=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(t,"touchmove",this),this.options.disablePointer||s.addEvent(t,"MSPointerMove",this),this.options.disableMouse||s.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,o,r=t.touches?t.touches[0]:t,a=s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),1==this.scroller.options.probeType&&a-this.startTime>300?(this.startTime=a,this.scroller._execEvent("scroll",t)):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll",t),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),s.removeEvent(t,"touchmove",this),s.removeEvent(t,"MSPointerMove",this),s.removeEvent(t,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-i.x),1e3),n.min(n.abs(this.scroller.y-i.y),1e3)),300);this.scroller.x==i.x&&this.scroller.y==i.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd",e)}},transitionTime:function(t){t=t||0,this.indicatorStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.indicatorStyle[s.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[s.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?n.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?n.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[s.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},i.utils=s,"undefined"!=typeof module&&module.exports?module.exports=i:t.iScroll=i}(window,document,Math),function(t,e,n,i){"use strict";function o(t,e,n){return setTimeout(u(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(a(t,n[e],n),!0)}function a(t,e,n){var o;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(o=0;o<t.length;)e.call(n,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function s(t,e,n){for(var o=Object.keys(e),r=0;r<o.length;)(!n||n&&t[o[r]]===i)&&(t[o[r]]=e[o[r]]),r++;return t}function l(t,e){return s(t,e,!0)}function c(t,e,n){var i,o=e.prototype;i=t.prototype=Object.create(o),i.constructor=t,i._super=o,n&&s(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ut?t.apply(e?e[0]||i:i,e):t}function d(t,e){return t===i?e:t}function p(t,e,n){a(m(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){a(m(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var a=e?t[r][e]:t[r];y(o,a)<0&&i.push(t[r]),o[r]=a,r++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function x(t,e){for(var n,o,r=e[0].toUpperCase()+e.slice(1),a=0;a<lt.length;){if(n=lt[a],o=n?n+r:e,o in t)return o;a++}return i}function w(){return ft++}function k(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function T(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget;var i=t.options.pixiContext;this.domHandler=function(e){h(t.options.enable,[t])&&(i?n.handler(e.originalEvent):n.handler(e))},i?(i.mousedown=i.touchstart=function(e){t.options.returnStart(e.originalEvent),n.domHandler(e)},i.mousemove=i.touchmove=function(e){t.options.returnMove(e.originalEvent),n.domHandler(e)},i.mouseup=i.touchend=this.domHandler):this.init()}function C(t){var e,n=t.options.inputClass;return new(e=n?n:mt?X:yt?$:gt?G:L)(t,S)}function S(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&Tt&&i-o===0,a=e&(St|Pt)&&i-o===0;n.isFirst=!!r,n.isFinal=!!a,r&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=A(e)),o>1&&!n.firstMultiple?n.firstMultiple=A(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,l=e.center=O(i);e.timeStamp=pt(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=R(s,l),e.distance=j(s,l),E(n,e),e.offsetDirection=N(e.deltaX,e.deltaY),e.scale=a?F(a.pointers,i):1,e.rotation=a?D(a.pointers,i):0,I(n,e);var c=t.element;v(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function E(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Tt&&r.eventType!==St||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}function I(t,e){var n,o,r,a,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=Pt&&(l>kt||s.velocity===i)){var c=s.deltaX-e.deltaX,u=s.deltaY-e.deltaY,h=M(l,c,u);o=h.x,r=h.y,n=dt(h.x)>dt(h.y)?h.x:h.y,a=N(c,u),t.lastInterval=e}else n=s.velocity,o=s.velocityX,r=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=o,e.velocityY=r,e.direction=a}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ht(t.pointers[n].clientX),clientY:ht(t.pointers[n].clientY)},n++;return{timeStamp:pt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:ht(t[0].clientX),y:ht(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:ht(n/e),y:ht(i/e)}}function M(t,e,n){return{x:e/t||0,y:n/t||0}}function N(t,e){return t===e?Et:dt(t)>=dt(e)?t>0?It:At:e>0?Ot:Mt}function j(t,e,n){n||(n=Dt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function R(t,e,n){n||(n=Dt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function D(t,e){return R(e[1],e[0],Ft)-R(t[1],t[0],Ft)}function F(t,e){return j(e[0],e[1],Ft)/j(t[0],t[1],Ft)}function L(){this.evEl=Xt,this.evWin=Bt,this.allow=!0,this.pressed=!1,T.apply(this,arguments)}function X(){this.evEl=zt,this.evWin=Gt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Yt,this.evWin=Ut,this.started=!1,T.apply(this,arguments)}function H(t,e){var n=_(t.touches),i=_(t.changedTouches);return e&(St|Pt)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function $(){this.evTarget=qt,this.targetIds={},T.apply(this,arguments)}function z(t,e){var n=_(t.touches),i=this.targetIds;if(e&(Tt|Ct)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,a=_(t.changedTouches),s=[],l=this.target;if(r=n.filter(function(t){return v(t.target,l)}),e===Tt)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<a.length;)i[a[o].identifier]&&s.push(a[o]),e&(St|Pt)&&delete i[a[o].identifier],o++;return s.length?[b(r.concat(s),"identifier",!0),s]:void 0}function G(){T.apply(this,arguments);var t=u(this.handler,this);this.touch=new $(this.manager,t),this.mouse=new L(this.manager,t)}function W(t,e){this.manager=t,this.set(e)}function Y(t){if(g(t,ee))return ee;var e=g(t,ne),n=g(t,ie);return e&&n?ne+" "+ie:e||n?e?ne:ie:g(t,te)?te:Qt}function U(t){this.id=w(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function V(t){return t&ce?"cancel":t&se?"end":t&ae?"move":t&re?"start":""}function q(t){return t==Mt?"down":t==Ot?"up":t==It?"left":t==At?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function J(){U.apply(this,arguments)}function Z(){J.apply(this,arguments),this.pX=null,this.pY=null}function Q(){J.apply(this,arguments)}function tt(){U.apply(this,arguments),this._timer=null,this._input=null}function et(){J.apply(this,arguments)}function nt(){J.apply(this,arguments)}function it(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ot(t,e){return e=e||{},e.recognizers=d(e.recognizers,ot.defaults.preset),new rt(t,e)}function rt(t,e){e=e||{},this.options=l(e,ot.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.options.pixiContext||(this.touchAction=new W(this,this.options.touchAction),at(this,!0)),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function at(t,e){var n=t.element;a(t.options.cssProps,function(t,i){n.style[x(n.style,i)]=e?t:""})}function st(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var lt=["","webkit","moz","MS","ms","o"],ct=e.createElement("div"),ut="function",ht=Math.round,dt=Math.abs,pt=Date.now,ft=1,vt=/mobile|tablet|ip(ad|hone|od)|android/i,gt="ontouchstart"in t,mt=x(t,"PointerEvent")!==i,yt=gt&&vt.test(navigator.userAgent),_t="touch",bt="pen",xt="mouse",wt="kinect",kt=25,Tt=1,Ct=2,St=4,Pt=8,Et=1,It=2,At=4,Ot=8,Mt=16,Nt=It|At,jt=Ot|Mt,Rt=Nt|jt,Dt=["x","y"],Ft=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(k(this.element),this.evWin,this.domHandler)}};var Lt={mousedown:Tt,mousemove:Ct,mouseup:St},Xt="mousedown",Bt="mousemove mouseup";c(L,T,{handler:function(t){var e=Lt[t.type];e&Tt&&0===t.button&&(this.pressed=!0),
e&Ct&&1!==t.which&&(e=St),this.pressed&&this.allow&&(e&St&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:xt,srcEvent:t}))}});var Ht={pointerdown:Tt,pointermove:Ct,pointerup:St,pointercancel:Pt,pointerout:Pt},$t={2:_t,3:bt,4:xt,5:wt},zt="pointerdown",Gt="pointermove pointerup pointercancel";t.MSPointerEvent&&(zt="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),c(X,T,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=Ht[i],r=$t[t.pointerType]||t.pointerType,a=r==_t,s=y(e,t.pointerId,"pointerId");o&Tt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(St|Pt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var Wt={touchstart:Tt,touchmove:Ct,touchend:St,touchcancel:Pt},Yt="touchstart",Ut="touchstart touchmove touchend touchcancel";c(B,T,{handler:function(t){var e=Wt[t.type];if(e===Tt&&(this.started=!0),this.started){var n=H.call(this,t,e);e&(St|Pt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:_t,srcEvent:t})}}});var Vt={touchstart:Tt,touchmove:Ct,touchend:St,touchcancel:Pt},qt="touchstart touchmove touchend touchcancel";c($,T,{handler:function(t){var e=Vt[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:_t,srcEvent:t})}}),c(G,T,{handler:function(t,e,n){var i=n.pointerType==_t,o=n.pointerType==xt;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(St|Pt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=x(ct.style,"touchAction"),Jt=Kt!==i,Zt="compute",Qt="auto",te="manipulation",ee="none",ne="pan-x",ie="pan-y";W.prototype={set:function(t){t==Zt&&(t=this.compute()),Jt&&(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Jt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,o=g(i,ee),r=g(i,ie),a=g(i,ne);return o||r&&n&Nt||a&&n&jt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,re=2,ae=4,se=8,le=se,ce=16,ue=32;U.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),y(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=K(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?V(i):""),t)}var n=this,i=this.state;i<se&&e(!0),e(),i>=se&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ue)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ue|oe)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return h(this.options.enable,[this,e])?(this.state&(le|ce|ue)&&(this.state=oe),this.state=this.process(e),void(this.state&(re|ae|se|ce)&&this.tryEmit(e))):(this.reset(),void(this.state=ue))},process:function(t){},getTouchAction:function(){},reset:function(){}},c(J,U,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(re|ae),o=this.attrTest(t);return i&&(n&Pt||!o)?e|ce:i||o?n&St?e|se:e&re?e|ae:re:ue}}),c(Z,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Rt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(ie),t&jt&&e.push(ne),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Nt?(o=0===r?Et:r<0?It:At,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===a?Et:a<0?Ot:Mt,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&re||!(this.state&re)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),c(Q,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&re)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),c(tt,U,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(St|Pt)&&!r)this.reset();else if(t.eventType&Tt)this.reset(),this._timer=o(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&St)return le;return ue},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&St?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),c(et,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&re)}}),c(nt,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Nt|jt,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|jt)?e=t.velocity:n&Nt?e=t.velocityX:n&jt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&dt(e)>this.options.velocity&&t.eventType&St},emit:function(t){var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(it,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Tt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=St)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||j(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=o(function(){this.state=le,this.tryEmit()},e.interval,this),re):le}return ue},failTimeout:function(){return this._timer=o(function(){this.state=ue},this.options.interval,this),ue},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ot.VERSION="2.0.4",ot.defaults={domEvents:!1,touchAction:Zt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[Q,{enable:!1},["rotate"]],[nt,{direction:Nt}],[Z,{direction:Nt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var he=1,de=2;rt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?de:he},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction&&this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&le)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],e.stopped===de||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(re|ae|se)&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof U)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction&&this.touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction&&this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(m(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(ot,{INPUT_START:Tt,INPUT_MOVE:Ct,INPUT_END:St,INPUT_CANCEL:Pt,STATE_POSSIBLE:oe,STATE_BEGAN:re,STATE_CHANGED:ae,STATE_ENDED:se,STATE_RECOGNIZED:le,STATE_CANCELLED:ce,STATE_FAILED:ue,DIRECTION_NONE:Et,DIRECTION_LEFT:It,DIRECTION_RIGHT:At,DIRECTION_UP:Ot,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Rt,Manager:rt,Input:T,TouchAction:W,TouchInput:$,MouseInput:L,PointerEventInput:X,TouchMouseInput:G,SingleTouchInput:B,Recognizer:U,AttrRecognizer:J,Tap:it,Pan:Z,Swipe:nt,Pinch:Q,Rotate:et,Press:tt,on:p,off:f,each:a,merge:l,extend:s,inherit:c,bindFn:u,prefixed:x}),typeof define==ut&&define.amd?define(function(){return ot}):"undefined"!=typeof module&&module.exports?module.exports=ot:t[n]=ot}(window,document,"Hammer"),!Xut.plat.isBrowser&&!MMXCONFIG)if(Xut.plat.isIOS)!function(){var t,e,n="3.7.0";!function(){function n(e){var n=e.factory,i=function(n){var i=n;return"."===n.charAt(0)&&(i=e.id.slice(0,e.id.lastIndexOf(a))+a+n.slice(2)),t(i)};return e.exports={},delete e.factory,n(i,e.exports,e),e.exports}var i={},o=[],r={},a=".";t=function(t){if(!i[t])throw"module "+t+" not found";if(t in r){var e=o.slice(r[t]).join("->")+"->"+t;throw"Cycle in require graph: "+e}if(i[t].factory)try{return r[t]=o.length,o.push(t),n(i[t])}finally{delete r[t],o.pop()}return i[t].exports},e=function(t,e){if(i[t])throw"module "+t+" already defined";i[t]={id:t,factory:e}},e.remove=function(t){delete i[t]},e.moduleMap=i}(),"object"==typeof module&&"function"==typeof t&&(module.exports.require=t,module.exports.define=e),e("cordova",function(t,i,o){function r(t,e){var n=document.createEvent("Events");if(n.initEvent(t,!1,!1),e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}var a=t("cordova/channel"),s=t("cordova/platform"),l=document.addEventListener,c=document.removeEventListener,u=window.addEventListener,h=window.removeEventListener,d={},p={};document.addEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof d[i]?d[i].subscribe(e):l.call(document,t,e,n)},window.addEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof p[i]?p[i].subscribe(e):u.call(window,t,e,n)},document.removeEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof d[i]?d[i].unsubscribe(e):c.call(document,t,e,n)},window.removeEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof p[i]?p[i].unsubscribe(e):h.call(window,t,e,n)};var f={define:e,require:t,version:n,platformVersion:n,platformId:s.id,addWindowEventHandler:function(t){return p[t]=a.create(t)},addStickyDocumentEventHandler:function(t){return d[t]=a.createSticky(t)},addDocumentEventHandler:function(t){return d[t]=a.create(t)},removeWindowEventHandler:function(t){delete p[t]},removeDocumentEventHandler:function(t){delete d[t]},getOriginalHandlers:function(){return{document:{addEventListener:l,removeEventListener:c},window:{addEventListener:u,removeEventListener:h}}},fireDocumentEvent:function(t,e,n){var i=r(t,e);"undefined"!=typeof d[t]?n?d[t].fire(i):setTimeout(function(){"deviceready"==t&&document.dispatchEvent(i),d[t].fire(i)},0):document.dispatchEvent(i)},fireWindowEvent:function(t,e){var n=r(t,e);"undefined"!=typeof p[t]?setTimeout(function(){p[t].fire(n)},0):window.dispatchEvent(n)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(t,e){f.callbackFromNative(t,!0,e.status,[e.message],e.keepCallback)},callbackError:function(t,e){f.callbackFromNative(t,!1,e.status,[e.message],e.keepCallback)},callbackFromNative:function(t,e,n,i,o){try{var r=f.callbacks[t];r&&(e&&n==f.callbackStatus.OK?r.success&&r.success.apply(null,i):r.fail&&r.fail.apply(null,i),o||delete f.callbacks[t])}catch(a){var s="Error in "+(e?"Success":"Error")+" callbackId: "+t+" : "+a;throw console&&console.log&&console.log(s),f.fireWindowEvent("cordovacallbackerror",{message:s}),a}},addConstructor:function(t){a.onCordovaReady.subscribe(function(){try{t()}catch(e){console.log("Failed to run constructor: "+e)}})}};o.exports=f}),e("cordova/argscheck",function(t,e,n){function i(t,e){return/.*?\((.*?)\)/.exec(t)[1].split(", ")[e]}function o(t,e,n,o){if(s.enableChecks){for(var r,c=null,u=0;u<t.length;++u){var h=t.charAt(u),d=h.toUpperCase(),p=n[u];if("*"!=h&&(r=a.typeName(p),(null!==p&&void 0!==p||h!=d)&&r!=l[d])){c="Expected "+l[d];break}}if(c)throw c+=", but got "+r+".",c='Wrong type for parameter "'+i(o||n.callee,u)+'" of '+e+": "+c,"undefined"==typeof jasmine&&console.error(c),TypeError(c)}}function r(t,e){return void 0===t?e:t}var a=(t("cordova/exec"),t("cordova/utils")),s=n.exports,l={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};s.checkArgs=o,s.getValue=r,s.enableChecks=!0}),e("cordova/base64",function(t,e,n){function i(t){for(var e,n=t.byteLength,i="",o=s(),r=0;r<n-2;r+=3)e=(t[r]<<16)+(t[r+1]<<8)+t[r+2],i+=o[e>>12],i+=o[4095&e];return n-r==2?(e=(t[r]<<16)+(t[r+1]<<8),i+=o[e>>12],i+=a[(4095&e)>>6],i+="="):n-r==1&&(e=t[r]<<16,i+=o[e>>12],i+="=="),i}var o=e;o.fromArrayBuffer=function(t){var e=new Uint8Array(t);return i(e)},o.toArrayBuffer=function(t){for(var e="undefined"!=typeof atob?atob(t):new Buffer(t,"base64").toString("binary"),n=new ArrayBuffer(e.length),i=new Uint8Array(n),o=0,r=e.length;o<r;o++)i[o]=e.charCodeAt(o);return n};var r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(){r=[];for(var t=0;t<64;t++)for(var e=0;e<64;e++)r[64*t+e]=a[t]+a[e];return s=function(){return r},r}}),e("cordova/builder",function(t,e,n){function i(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.apply(n,[t[i],i])}function o(t,n,i){e.replaceHookForTesting(t,n),t[n]=i,t[n]!==i&&l.defineGetter(t,n,function(){return i})}function r(t,e,n,i){i?l.defineGetter(t,e,function(){return console.log(i),delete t[e],o(t,e,n),n}):o(t,e,n)}function a(e,n,o,c){i(n,function(n,i){try{var u=n.path?t(n.path):{};o?("undefined"==typeof e[i]?r(e,i,u,n.deprecated):"undefined"!=typeof n.path&&(c?s(e[i],u):r(e,i,u,n.deprecated)),u=e[i]):"undefined"==typeof e[i]?r(e,i,u,n.deprecated):u=e[i],n.children&&a(u,n.children,o,c)}catch(h){l.alert("Exception building Cordova JS globals: "+h+' for key "'+i+'"')}})}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.prototype&&t.prototype.constructor===t?o(t.prototype,n,e[n]):"object"==typeof e[n]&&"object"==typeof t[n]?s(t[n],e[n]):o(t,n,e[n]))}var l=t("cordova/utils");e.buildIntoButDoNotClobber=function(t,e){a(e,t,!1,!1)},e.buildIntoAndClobber=function(t,e){a(e,t,!0,!1)},e.buildIntoAndMerge=function(t,e){a(e,t,!0,!0)},e.recursiveMerge=s,e.assignOrWrapInDeprecateGetter=r,e.replaceHookForTesting=function(){}}),e("cordova/channel",function(t,e,n){function i(t){if("function"!=typeof t)throw"Function required as first argument!"}var o=t("cordova/utils"),r=1,a=function(t,e){this.type=t,this.handlers={},this.state=e?1:0,this.fireArgs=null,this.numHandlers=0,this.onHasSubscribersChange=null},s={join:function(t,e){for(var n=e.length,i=n,o=function(){--i||t()},r=0;r<n;r++){if(0===e[r].state)throw Error("Can only use join with sticky channels.");e[r].subscribe(o)}n||t()},create:function(t){return s[t]=new a(t,(!1))},createSticky:function(t){return s[t]=new a(t,(!0))},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(t){if(t){var e=s[t]||this.createSticky(t);this.deviceReadyChannelsMap[t]=e,this.deviceReadyChannelsArray.push(e)}},initializationComplete:function(t){var e=this.deviceReadyChannelsMap[t];e&&e.fire()}};a.prototype.subscribe=function(t,e){if(i(t),2==this.state)return void t.apply(e||this,this.fireArgs);var n=t,a=t.observer_guid;"object"==typeof e&&(n=o.close(e,t)),a||(a=""+r++),n.observer_guid=a,t.observer_guid=a,this.handlers[a]||(this.handlers[a]=n,this.numHandlers++,1==this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.unsubscribe=function(t){i(t);var e=t.observer_guid,n=this.handlers[e];n&&(delete this.handlers[e],this.numHandlers--,0===this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.fire=function(t){var e=Array.prototype.slice.call(arguments);if(1==this.state&&(this.state=2,this.fireArgs=e),this.numHandlers){var n=[];for(var i in this.handlers)n.push(this.handlers[i]);for(var o=0;o<n.length;++o)n[o].apply(this,e);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}},s.createSticky("onDOMContentLoaded"),s.createSticky("onNativeReady"),s.createSticky("onCordovaReady"),s.createSticky("onPluginsReady"),s.createSticky("onDeviceReady"),s.create("onResume"),s.create("onPause"),s.createSticky("onDestroy"),s.waitForInitialization("onCordovaReady"),s.waitForInitialization("onDOMContentLoaded"),n.exports=s}),e("cordova/exec",function(t,e,n){function i(t,e){var n=document.createElement("iframe");return n.style.display="none",n.onunload=e,n.src=t,document.body.appendChild(n),n}function o(){var t=i("about:blank");return t.contentWindow.history.replaceState(null,null,"file:///#"),t}function r(){if(p===b.XHR_WITH_PAYLOAD)return!0;if(p===b.XHR_OPTIONAL_PAYLOAD){for(var t=0,e=0;e<T.length;++e)t+=T[e].length;return t<4500}return!1}function a(t){if(!t||"Array"!=y.typeName(t))return t;var e=[];return t.forEach(function(t,n){"ArrayBuffer"==y.typeName(t)?e.push({CDVType:"ArrayBuffer",data:_.fromArrayBuffer(t)}):e.push(t)}),e}function s(t){if("ArrayBuffer"==t.CDVType){var e=function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},n=function(t){return e(atob(t))};t=n(t.data)}return t}function l(t){var e=[];return t&&t.hasOwnProperty("CDVType")?"MultiPart"==t.CDVType?t.messages.forEach(function(t){e.push(s(t))}):e.push(s(t)):e.push(t),e}function c(){void 0===p&&(p=b.IFRAME_NAV),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.cordova&&window.webkit.messageHandlers.cordova.postMessage&&(p=b.WK_WEBVIEW_BINDING);var t,e,n,i,o,r,s=null;if("string"!=typeof arguments[0])t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],s="INVALID";else try{return r=arguments[0].split("."),i=r.pop(),n=r.join("."),o=Array.prototype.splice.call(arguments,1),void console.log('The old format of this exec call has been removed (deprecated since 2.1). Change to: cordova.exec(null, null, "'+n+'", "'+i+'",'+JSON.stringify(o)+");")}catch(l){}o=o||[],(t||e)&&(s=n+m.callbackId++,m.callbacks[s]={success:t,fail:e}),o=a(o);var c=[s,n,i,o];if(T.push(JSON.stringify(c)),p===b.WK_WEBVIEW_BINDING)window.webkit.messageHandlers.cordova.postMessage(c);else if(!C&&1==T.length)switch(p){case b.XHR_NO_PAYLOAD:case b.XHR_WITH_PAYLOAD:case b.XHR_OPTIONAL_PAYLOAD:u();break;default:d()}}function u(){g&&4!=g.readyState&&(g=null),g=g||new XMLHttpRequest,g.open("HEAD","/!gap_exec?"+ +new Date,!0),k||(k=/.*\((.*)\)$/.exec(navigator.userAgent)[1]),g.setRequestHeader("vc",k),g.setRequestHeader("rc",++w),r()&&g.setRequestHeader("cmds",c.nativeFetchMessages()),g.send(null)}function h(){f=null,setTimeout(d,0)}function d(){if(!document.body)return void setTimeout(d);if(p===b.IFRAME_HASH_NO_PAYLOAD||p===b.IFRAME_HASH_WITH_PAYLOAD){v=v||o(),v.contentWindow||(v=o()),x=3^x;var t="%0"+x;p===b.IFRAME_HASH_WITH_PAYLOAD&&(t+=c.nativeFetchMessages()),v.contentWindow.location.hash=t}else f&&f.contentWindow?(f.contentWindow.onunload=h,f.src="gap://ready"):f=i("gap://ready",h)}var p,f,v,g,m=t("cordova"),y=(t("cordova/channel"),t("cordova/utils")),_=t("cordova/base64"),b={IFRAME_NAV:0,XHR_NO_PAYLOAD:1,XHR_WITH_PAYLOAD:2,XHR_OPTIONAL_PAYLOAD:3,IFRAME_HASH_NO_PAYLOAD:4,IFRAME_HASH_WITH_PAYLOAD:5,WK_WEBVIEW_BINDING:6},x=1,w=0,k=null,T=[],C=0;c.jsToNativeModes=b,c.setJsToNativeBridgeMode=function(t){f&&(f.parentNode.removeChild(f),f=null),p=t},c.nativeFetchMessages=function(){if(f&&f.contentWindow&&(f.contentWindow.onunload=null),!T.length)return"";var t="["+T.join(",")+"]";return T.length=0,t},c.nativeCallback=function(t,e,n,i){return c.nativeEvalAndFetch(function(){var o=0===e||1===e,r=l(n);m.callbackFromNative(t,o,e,r,i)})},c.nativeEvalAndFetch=function(t){C++;try{return t(),c.nativeFetchMessages()}finally{C--}},n.exports=c}),e("cordova/exec/proxy",function(t,e,n){var i={};n.exports={add:function(t,e){return console.log("adding proxy for "+t),i[t]=e,e},remove:function(t){var e=i[t];return delete i[t],i[t]=null,e},get:function(t,e){return i[t]?i[t][e]:null}}}),e("cordova/init",function(t,e,n){function i(t){for(var e=0;e<t.length;++e)2!=t[e].state&&console.log("Channel not fired: "+t[e].type)}function o(t){var e=function(){};e.prototype=t;var n=new e;if(e.bind)for(var i in t)"function"==typeof t[i]?n[i]=t[i].bind(t):!function(e){u.defineGetterSetter(n,i,function(){return t[e]})}(i);return n}var r=t("cordova/channel"),a=t("cordova"),s=t("cordova/modulemapper"),l=t("cordova/platform"),c=t("cordova/pluginloader"),u=t("cordova/utils"),h=[r.onNativeReady,r.onPluginsReady];window.setTimeout(function(){2!=r.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),i(h),i(r.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=o(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(t){this.log("warn: "+t)}),r.onPause=a.addDocumentEventHandler("pause"),r.onResume=a.addDocumentEventHandler("resume"),r.onDeviceReady=a.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?r.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){r.onDOMContentLoaded.fire()},!1),window._nativeReady&&r.onNativeReady.fire(),s.clobbers("cordova","cordova"),s.clobbers("cordova/exec","cordova.exec"),s.clobbers("cordova/exec","Cordova.exec"),l.bootstrap&&l.bootstrap(),setTimeout(function(){c.load(function(){r.onPluginsReady.fire()})},0),r.join(function(){s.mapModules(window),l.initialize&&l.initialize(),r.onCordovaReady.fire(),r.join(function(){t("cordova").fireDocumentEvent("deviceready")},r.deviceReadyChannelsArray)},h)}),e("cordova/init_b",function(t,e,n){function i(t){for(var e=0;e<t.length;++e)2!=t[e].state&&console.log("Channel not fired: "+t[e].type)}function o(t){var e=function(){};e.prototype=t;var n=new e;if(e.bind)for(var i in t)"function"==typeof t[i]?n[i]=t[i].bind(t):!function(e){l.defineGetterSetter(n,i,function(){return t[e]})}(i);return n}var r=t("cordova/channel"),a=t("cordova"),s=t("cordova/platform"),l=t("cordova/utils"),c=[r.onDOMContentLoaded,r.onNativeReady];a.exec=t("cordova/exec"),window.setTimeout(function(){2!=r.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),i(c),i(r.deviceReadyChannelsArray))},5e3),window.navigator&&(window.navigator=o(window.navigator)),window.console||(window.console={log:function(){}}),window.console.warn||(window.console.warn=function(t){this.log("warn: "+t)}),r.onPause=a.addDocumentEventHandler("pause"),r.onResume=a.addDocumentEventHandler("resume"),r.onDeviceReady=a.addStickyDocumentEventHandler("deviceready"),"complete"==document.readyState||"interactive"==document.readyState?r.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){r.onDOMContentLoaded.fire()},!1),window._nativeReady&&r.onNativeReady.fire(),s.bootstrap&&s.bootstrap(),r.join(function(){s.initialize&&s.initialize(),r.onCordovaReady.fire(),r.join(function(){t("cordova").fireDocumentEvent("deviceready")},r.deviceReadyChannelsArray)},c)}),e("cordova/modulemapper",function(t,n,i){function o(t,e,n,i){if(!(e in c))throw new Error("Module "+e+" does not exist.");a.push(t,e,n),i&&(s[n]=i)}function r(t,e){if(!t)return e;for(var n,i=t.split("."),o=e,r=0;n=i[r];++r)o=o[n]=o[n]||{};return o}var a,s,l=t("cordova/builder"),c=e.moduleMap;n.reset=function(){a=[],s={}},n.clobbers=function(t,e,n){o("c",t,e,n)},n.merges=function(t,e,n){o("m",t,e,n)},n.defaults=function(t,e,n){o("d",t,e,n)},n.runs=function(t){o("r",t,null)},n.mapModules=function(e){var n={};e.CDV_origSymbols=n;for(var i=0,o=a.length;i<o;i+=3){var c=a[i],u=a[i+1],h=t(u);if("r"!=c){var d=a[i+2],p=d.lastIndexOf("."),f=d.substr(0,p),v=d.substr(p+1),g=d in s?"Access made to deprecated symbol: "+d+". "+g:null,m=r(f,e),y=m[v];"m"==c&&y?l.recursiveMerge(y,h):("d"==c&&!y||"d"!=c)&&(d in n||(n[d]=y),l.assignOrWrapInDeprecateGetter(m,v,h,g))}}},n.getOriginalSymbol=function(t,e){var n=t.CDV_origSymbols;if(n&&e in n)return n[e];for(var i=e.split("."),o=t,r=0;r<i.length;++r)o=o&&o[i[r]];return o},n.reset()}),e("cordova/platform",function(t,e,n){n.exports={id:"ios",bootstrap:function(){t("cordova/channel").onNativeReady.fire()}}}),e("cordova/pluginloader",function(t,n,i){function o(t,i,o,r){r=r||o,t in e.moduleMap?o():n.injectScript(i,function(){t in e.moduleMap?o():r()},r)}function r(t,e){for(var n,i=0;n=t[i];i++){if(n.clobbers&&n.clobbers.length)for(var o=0;o<n.clobbers.length;o++)l.clobbers(n.id,n.clobbers[o]);if(n.merges&&n.merges.length)for(var r=0;r<n.merges.length;r++)l.merges(n.id,n.merges[r]);n.runs&&l.runs(n.id)}e()}function a(t,e,n){function i(){--a||r(e,n)}var a=e.length;if(!a)return void n();for(var s=0;s<e.length;s++)o(e[s].id,t+e[s].file,i)}function s(){for(var t=null,e=document.getElementsByTagName("script"),n="/cordova.js",i=e.length-1;i>-1;i--){var o=e[i].src.replace(/\?.*$/,"");if(o.indexOf(n)==o.length-n.length){t=o.substring(0,o.length-n.length)+"/";break}}return t}var l=t("cordova/modulemapper");t("cordova/urlutil");n.injectScript=function(t,e,n){var i=document.createElement("script");i.onload=e,i.onerror=n,i.src=t,document.head.appendChild(i)},n.load=function(e){var n=s();null===n&&(console.log("Could not find cordova.js script tag. Plugin loading may fail."),n=""),o("cordova/plugin_list",n+"cordova_plugins.js",function(){var i=t("cordova/plugin_list");a(n,i,e)},e)}}),e("cordova/urlutil",function(t,e,n){e.makeAbsolute=function(t){var e=document.createElement("a");return e.href=t,e.href}}),e("cordova/utils",function(t,e,n){function i(t){for(var e="",n=0;n<t;n++){var i=parseInt(256*Math.random(),10).toString(16);1==i.length&&(i="0"+i),e+=i}return e}var o=e;o.defineGetterSetter=function(t,e,n,i){if(Object.defineProperty){var o={get:n,configurable:!0};i&&(o.set=i),Object.defineProperty(t,e,o)}else t.__defineGetter__(e,n),i&&t.__defineSetter__(e,i)},o.defineGetter=o.defineGetterSetter,o.arrayIndexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=t.length,i=0;i<n;++i)if(t[i]==e)return i;return-1},o.arrayRemove=function(t,e){var n=o.arrayIndexOf(t,e);return n!=-1&&t.splice(n,1),n!=-1},o.typeName=function(t){return Object.prototype.toString.call(t).slice(8,-1)},o.isArray=function(t){return"Array"==o.typeName(t)},o.isDate=function(t){return"Date"==o.typeName(t)},o.clone=function(t){if(!t||"function"==typeof t||o.isDate(t)||"object"!=typeof t)return t;var e,n;if(o.isArray(t)){for(e=[],n=0;n<t.length;++n)e.push(o.clone(t[n]));return e}e={};for(n in t)n in e&&e[n]==t[n]||(e[n]=o.clone(t[n]));return e},o.close=function(t,e,n){return"undefined"==typeof n?function(){return e.apply(t,arguments)}:function(){return e.apply(t,n)}},o.createUUID=function(){return i(4)+"-"+i(2)+"-"+i(2)+"-"+i(2)+"-"+i(6)},o.extend=function(){var t=function(){};return function(e,n){t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e.prototype.constructor=e}}(),o.alert=function(t){window.alert?window.alert(t):console&&console.log&&console.log(t)}}),e("org.apache.cordova.console-via-logger",function(t,e,n){function i(){}function o(t,e){return function(){var n=[].slice.call(arguments);try{t.apply(s,n)}catch(i){}try{e.apply(a,n)}catch(i){}}}var r=t("cordova/plugin/logger"),a=(t("cordova/utils"),n.exports),s=window.console,l=!1,c={};a.useLogger=function(t){if(arguments.length&&(l=!!t),l&&r.useConsole())throw new Error("console and logger are too intertwingly");return l},a.log=function(){r.useConsole()||r.log.apply(r,[].slice.call(arguments))},a.error=function(){r.useConsole()||r.error.apply(r,[].slice.call(arguments))},a.warn=function(){r.useConsole()||r.warn.apply(r,[].slice.call(arguments))},a.info=function(){r.useConsole()||r.info.apply(r,[].slice.call(arguments))},a.debug=function(){r.useConsole()||r.debug.apply(r,[].slice.call(arguments))},a.assert=function(t){if(!t){var e=r.format.apply(r.format,[].slice.call(arguments,1));a.log("ASSERT: "+e)}},a.clear=function(){},a.dir=function(t){a.log("%o",t)},a.dirxml=function(t){a.log(t.innerHTML)},a.trace=i,a.group=a.log,a.groupCollapsed=a.log,a.groupEnd=i,a.time=function(t){c[t]=(new Date).valueOf()},a.timeEnd=function(t){var e=c[t];if(!e)return void a.warn("unknown timer: "+t);var n=(new Date).valueOf()-e;a.log(t+": "+n+"ms")},a.timeStamp=i,a.profile=i,a.profileEnd=i,a.count=i,a.exception=a.log,a.table=function(t,e){a.log("%o",t)};for(var u in a)"function"==typeof s[u]&&(a[u]=o(s[u],a[u]))}),e("cordova/plugin/logger",function(t,e,n){function i(t,e){e=[t].concat([].slice.call(e)),l.logLevel.apply(l,e)}function o(t){return"string"==typeof t?"":"%o"}function r(t,e){if(null===t||void 0===t)return[""];if(1==arguments.length)return[t.toString()];"string"!=typeof t&&(t=t.toString());for(var n=/(.*?)%(.)(.*)/,i=t,o=[];e.length;){var r=n.exec(i);if(!r)break;var s=e.shift();i=r[3],o.push(r[1]),"%"!=r[2]?o.push(a(s,r[2])):(o.push("%"),e.unshift(s))}o.push(i);var l=[].slice.call(e);return l.unshift(o.join("")),l}function a(t,e){try{switch(e){case"j":case"o":return JSON.stringify(t);case"c":return""}}catch(n){return"error JSON.stringify()ing argument: "+n}return null===t||void 0===t?Object.prototype.toString.call(t):t.toString()}for(var s,l=e,c=t("cordova/exec"),u=(t("cordova/utils"),!1),h=!0,d=[],p=!1,f=console,v=["LOG","ERROR","WARN","INFO","DEBUG"],g={},m=0;m<v.length;m++){var y=v[m];g[y]=m,l[y]=y}s=g.WARN,l.level=function(t){if(arguments.length){if(null===g[t])throw new Error("invalid logging level: "+t);s=g[t]}return v[s]},l.useConsole=function(t){if(arguments.length&&(u=!!t),u){if("undefined"==typeof console)throw new Error("global console object is not defined");if("function"!=typeof console.log)throw new Error("global console object does not have a log function");
if("function"==typeof console.useLogger&&console.useLogger())throw new Error("console and logger are too intertwingly")}return u},l.useLogger=function(t){return arguments.length&&(h=!!t),h},l.log=function(t){i("LOG",arguments)},l.error=function(t){i("ERROR",arguments)},l.warn=function(t){i("WARN",arguments)},l.info=function(t){i("INFO",arguments)},l.debug=function(t){i("DEBUG",arguments)},l.logLevel=function(t){var e=[].slice.call(arguments,1),n=o(e[0]);n.length>0&&e.unshift(n);var i=l.format.apply(l.format,e);if(null===g[t])throw new Error("invalid logging level: "+t);if(!(g[t]>s)){if(!p&&!u)return void d.push([t,i]);if(h&&c(null,null,"Console","logLevel",[t,i]),u){if(console.useLogger())throw new Error("console and logger are too intertwingly");switch(t){case l.LOG:f.log(i);break;case l.ERROR:f.log("ERROR: "+i);break;case l.WARN:f.log("WARN: "+i);break;case l.INFO:f.log("INFO: "+i);break;case l.DEBUG:f.log("DEBUG: "+i)}}}},l.format=function(t,e){return r(arguments[0],[].slice.call(arguments,1)).join(" ")},l.__onDeviceReady=function(){if(!p){p=!0;for(var t=0;t<d.length;t++){var e=d[t];l.logLevel(e[0],e[1])}d=null}},document.addEventListener("deviceready",l.__onDeviceReady,!1)}),e("org.apache.cordova.media.Media",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a={},s=function(t,e,n,s){i.checkArgs("SFFF","Media",arguments),this.id=o.createUUID(),a[this.id]=this,this.src=t,this.successCallback=e,this.errorCallback=n,this.statusCallback=s,this._duration=-1,this._position=-1,r(null,this.errorCallback,"Media","create",[this.id,this.src])};s.MEDIA_STATE=1,s.MEDIA_DURATION=2,s.MEDIA_POSITION=3,s.MEDIA_ERROR=9,s.MEDIA_NONE=0,s.MEDIA_STARTING=1,s.MEDIA_RUNNING=2,s.MEDIA_PAUSED=3,s.MEDIA_STOPPED=4,s.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],s.get=function(t){return a[t]},s.prototype.play=function(t){r(null,null,"Media","startPlayingAudio",[this.id,this.src,t])},s.prototype.stop=function(){var t=this;r(function(){t._position=0},this.errorCallback,"Media","stopPlayingAudio",[this.id])},s.prototype.seekTo=function(t){var e=this;r(function(t){e._position=t},this.errorCallback,"Media","seekToAudio",[this.id,t])},s.prototype.pause=function(){r(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},s.prototype.getDuration=function(){return this._duration},s.prototype.getCurrentPosition=function(t,e){var n=this;r(function(e){n._position=e,t(e)},e,"Media","getCurrentPositionAudio",[this.id])},s.prototype.startRecord=function(){r(null,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},s.prototype.stopRecord=function(){r(null,this.errorCallback,"Media","stopRecordingAudio",[this.id])},s.prototype.release=function(){r(null,this.errorCallback,"Media","release",[this.id])},s.prototype.setVolume=function(t){r(null,null,"Media","setVolume",[this.id,t])},s.onStatus=function(t,e,n){var i=a[t];if(i)switch(e){case s.MEDIA_STATE:i.statusCallback&&i.statusCallback(n),n==s.MEDIA_STOPPED&&i.successCallback&&i.successCallback();break;case s.MEDIA_DURATION:i._duration=n;break;case s.MEDIA_ERROR:i.errorCallback&&i.errorCallback(n);break;case s.MEDIA_POSITION:i._position=Number(n);break;default:console.error&&console.error("Unhandled Media.onStatus :: "+e)}else console.error&&console.error("Received Media.onStatus callback for unknown media :: "+t)},n.exports=s}),e("org.apache.cordova.media.MediaError",function(t,e,n){var i=window.MediaError;i||(window.MediaError=i=function(t,e){this.code="undefined"!=typeof t?t:null,this.message=e||""}),i.MEDIA_ERR_NONE_ACTIVE=i.MEDIA_ERR_NONE_ACTIVE||0,i.MEDIA_ERR_ABORTED=i.MEDIA_ERR_ABORTED||1,i.MEDIA_ERR_NETWORK=i.MEDIA_ERR_NETWORK||2,i.MEDIA_ERR_DECODE=i.MEDIA_ERR_DECODE||3,i.MEDIA_ERR_NONE_SUPPORTED=i.MEDIA_ERR_NONE_SUPPORTED||4,i.MEDIA_ERR_SRC_NOT_SUPPORTED=i.MEDIA_ERR_SRC_NOT_SUPPORTED||4,n.exports=i}),e("cordova/plugin_list",function(t,e,n){n.exports=[]}),window.cordova=t("cordova"),t("cordova/init"),window.console=t("org.apache.cordova.console-via-logger"),window.Media=t("org.apache.cordova.media.Media")}();else if(Xut.plat.isAndroid){!function(){var require,define;!function(){function t(t){var e=t.factory;return t.exports={},delete t.factory,e(require,t.exports,t),t.exports}var e={},n=[],i={};require=function(o){if(!e[o])throw"module "+o+" not found";if(o in i){var r=n.slice(i[o]).join("->")+"->"+o;throw"Cycle in require graph: "+r}if(e[o].factory)try{return i[o]=n.length,n.push(o),t(e[o])}finally{delete i[o],n.pop()}return e[o].exports},define=function(t,n){if(e[t])throw"module "+t+" already defined";e[t]={id:t,factory:n}},define.remove=function(t){delete e[t]},define.moduleMap=e}(),"object"==typeof module&&"function"==typeof require&&(module.exports.require=require,module.exports.define=define),define("cordova",function(t,e,n){function i(t,e){var n=document.createEvent("Events");if(n.initEvent(t,!1,!1),e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}var o=t("cordova/channel");document.addEventListener("DOMContentLoaded",function(){o.onDOMContentLoaded.fire()},!1),"complete"!=document.readyState&&"interactive"!=document.readyState||o.onDOMContentLoaded.fire();var r=document.addEventListener,a=document.removeEventListener,s=window.addEventListener,l=window.removeEventListener,c={},u={};document.addEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof c[i]?c[i].subscribe(e):r.call(document,t,e,n)},window.addEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof u[i]?u[i].subscribe(e):s.call(window,t,e,n)},document.removeEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof c[i]?c[i].unsubscribe(e):a.call(document,t,e,n)},window.removeEventListener=function(t,e,n){var i=t.toLowerCase();"undefined"!=typeof u[i]?u[i].unsubscribe(e):l.call(window,t,e,n)},"undefined"==typeof window.console&&(window.console={log:function(){}});var h={define:define,require:t,addWindowEventHandler:function(t){return u[t]=o.create(t)},addStickyDocumentEventHandler:function(t){return c[t]=o.createSticky(t)},addDocumentEventHandler:function(t){return c[t]=o.create(t)},removeWindowEventHandler:function(t){delete u[t]},removeDocumentEventHandler:function(t){delete c[t]},getOriginalHandlers:function(){return{document:{addEventListener:r,removeEventListener:a},window:{addEventListener:s,removeEventListener:l}}},fireDocumentEvent:function(t,e,n){var o=i(t,e);"undefined"!=typeof c[t]?n?c[t].fire(o):setTimeout(function(){c[t].fire(o)},0):document.dispatchEvent(o)},fireWindowEvent:function(t,e){var n=i(t,e);"undefined"!=typeof u[t]?setTimeout(function(){u[t].fire(n)},0):window.dispatchEvent(n)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(t,e){try{h.callbackFromNative(t,!0,e.status,e.message,e.keepCallback)}catch(n){console.log("Error in error callback: "+t+" = "+n)}},callbackError:function(t,e){try{h.callbackFromNative(t,!1,e.status,e.message,e.keepCallback)}catch(n){console.log("Error in error callback: "+t+" = "+n)}},callbackFromNative:function(t,e,n,i,o){var r=h.callbacks[t];r&&(e&&n==h.callbackStatus.OK?r.success&&r.success(i):e||r.fail&&r.fail(i),o||delete h.callbacks[t])},addConstructor:function(t){o.onCordovaReady.subscribe(function(){try{t()}catch(e){console.log("Failed to run constructor: "+e)}})}};o.onPause=h.addDocumentEventHandler("pause"),o.onResume=h.addDocumentEventHandler("resume"),o.onDeviceReady=h.addStickyDocumentEventHandler("deviceready"),n.exports=h}),define("cordova/argscheck",function(t,e,n){function i(t,e){return/.*?\((.*?)\)/.exec(t)[1].split(", ")[e]}function o(t,e,n,o){if(s.enableChecks){for(var r,c=null,u=0;u<t.length;++u){var h=t.charAt(u),d=h.toUpperCase(),p=n[u];if("*"!=h&&(r=a.typeName(p),(null!==p&&void 0!==p||h!=d)&&r!=l[d])){c="Expected "+l[d];break}}if(c)throw c+=", but got "+r+".",c='Wrong type for parameter "'+i(o||n.callee,u)+'" of '+e+": "+c,"undefined"==typeof jasmine&&console.error(c),TypeError(c)}}function r(t,e){return void 0===t?e:t}var a=(t("cordova/exec"),t("cordova/utils")),s=n.exports,l={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};s.checkArgs=o,s.getValue=r,s.enableChecks=!0}),define("cordova/builder",function(t,e,n){function i(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.apply(n,[t[i],i])}function o(t,e,n){t[e]=n,t[e]!==n&&l.defineGetter(t,e,function(){return n})}function r(t,e,n,i){i?l.defineGetter(t,e,function(){return console.log(i),delete t[e],o(t,e,n),n}):o(t,e,n)}function a(e,n,o,c){i(n,function(n,i){try{var u=n.path?t(n.path):{};o?("undefined"==typeof e[i]?r(e,i,u,n.deprecated):"undefined"!=typeof n.path&&(c?s(e[i],u):r(e,i,u,n.deprecated)),u=e[i]):"undefined"==typeof e[i]?r(e,i,u,n.deprecated):u=e[i],n.children&&a(u,n.children,o,c)}catch(h){l.alert("Exception building cordova JS globals: "+h+' for key "'+i+'"')}})}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.prototype&&t.prototype.constructor===t?o(t.prototype,n,e[n]):"object"==typeof e[n]&&"object"==typeof t[n]?s(t[n],e[n]):o(t,n,e[n]))}var l=t("cordova/utils");n.exports={buildIntoButDoNotClobber:function(t,e){a(e,t,!1,!1)},buildIntoAndClobber:function(t,e){a(e,t,!0,!1)},buildIntoAndMerge:function(t,e){a(e,t,!0,!0)},recursiveMerge:s,assignOrWrapInDeprecateGetter:r}}),define("cordova/channel",function(t,e,n){function i(t){if("function"!=typeof t)throw"Function required as first argument!"}var o=t("cordova/utils"),r=1,a=function(t,e){this.type=t,this.handlers={},this.state=e?1:0,this.fireArgs=null,this.numHandlers=0,this.onHasSubscribersChange=null},s={join:function(t,e){for(var n=e.length,i=n,o=function(){--i||t()},r=0;r<n;r++){if(0===e[r].state)throw Error("Can only use join with sticky channels.");e[r].subscribe(o)}n||t()},create:function(t){return s[t]=new a(t,(!1))},createSticky:function(t){return s[t]=new a(t,(!0))},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(t){if(t){var e=s[t]||this.createSticky(t);this.deviceReadyChannelsMap[t]=e,this.deviceReadyChannelsArray.push(e)}},initializationComplete:function(t){var e=this.deviceReadyChannelsMap[t];e&&e.fire()}};a.prototype.subscribe=function(t,e){if(i(t),2==this.state)return void t.apply(e||this,this.fireArgs);var n=t,a=t.observer_guid;"object"==typeof e&&(n=o.close(e,t)),a||(a=""+r++),n.observer_guid=a,t.observer_guid=a,this.handlers[a]||(this.handlers[a]=n,this.numHandlers++,1==this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.unsubscribe=function(t){i(t);var e=t.observer_guid,n=this.handlers[e];n&&(delete this.handlers[e],this.numHandlers--,0===this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())},a.prototype.fire=function(t){var e=Array.prototype.slice.call(arguments);if(1==this.state&&(this.state=2,this.fireArgs=e),this.numHandlers){var n=[];for(var i in this.handlers)n.push(this.handlers[i]);for(var o=0;o<n.length;++o)n[o].apply(this,e);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}},s.createSticky("onDOMContentLoaded"),s.createSticky("onNativeReady"),s.createSticky("onCordovaReady"),s.createSticky("onCordovaInfoReady"),s.createSticky("onCordovaConnectionReady"),s.createSticky("onDeviceReady"),s.create("onResume"),s.create("onPause"),s.createSticky("onDestroy"),s.waitForInitialization("onCordovaReady"),s.waitForInitialization("onCordovaConnectionReady"),n.exports=s}),define("cordova/commandProxy",function(t,e,n){var i={};n.exports={add:function(t,e){return console.log("adding proxy for "+t),i[t]=e,e},remove:function(t){var e=i[t];return delete i[t],i[t]=null,e},get:function(t,e){return i[t]?i[t][e]:null}}}),define("cordova/common",function(t,e,n){n.exports={defaults:{cordova:{path:"cordova",children:{exec:{path:"cordova/exec"},logger:{path:"cordova/plugin/logger"}}},Cordova:{children:{exec:{path:"cordova/exec"}}},open:{path:"cordova/plugin/InAppBrowser"},navigator:{children:{notification:{path:"cordova/plugin/notification"},accelerometer:{path:"cordova/plugin/accelerometer"},battery:{path:"cordova/plugin/battery"},camera:{path:"cordova/plugin/Camera"},compass:{path:"cordova/plugin/compass"},contacts:{path:"cordova/plugin/contacts"},device:{children:{capture:{path:"cordova/plugin/capture"}}},geolocation:{path:"cordova/plugin/geolocation"},globalization:{path:"cordova/plugin/globalization"},network:{children:{connection:{path:"cordova/plugin/network",deprecated:"navigator.network.connection is deprecated. Use navigator.connection instead."}}},splashscreen:{path:"cordova/plugin/splashscreen"}}},Acceleration:{path:"cordova/plugin/Acceleration"},Camera:{path:"cordova/plugin/CameraConstants"},CameraPopoverOptions:{path:"cordova/plugin/CameraPopoverOptions"},CaptureError:{path:"cordova/plugin/CaptureError"},CaptureAudioOptions:{path:"cordova/plugin/CaptureAudioOptions"},CaptureImageOptions:{path:"cordova/plugin/CaptureImageOptions"},CaptureVideoOptions:{path:"cordova/plugin/CaptureVideoOptions"},CompassHeading:{path:"cordova/plugin/CompassHeading"},CompassError:{path:"cordova/plugin/CompassError"},ConfigurationData:{path:"cordova/plugin/ConfigurationData"},Connection:{path:"cordova/plugin/Connection"},Contact:{path:"cordova/plugin/Contact"},ContactAddress:{path:"cordova/plugin/ContactAddress"},ContactError:{path:"cordova/plugin/ContactError"},ContactField:{path:"cordova/plugin/ContactField"},ContactFindOptions:{path:"cordova/plugin/ContactFindOptions"},ContactName:{path:"cordova/plugin/ContactName"},ContactOrganization:{path:"cordova/plugin/ContactOrganization"},Coordinates:{path:"cordova/plugin/Coordinates"},device:{path:"cordova/plugin/device"},GlobalizationError:{path:"cordova/plugin/GlobalizationError"},Media:{path:"cordova/plugin/Media"},MediaError:{path:"cordova/plugin/MediaError"},MediaFile:{path:"cordova/plugin/MediaFile"},MediaFileData:{path:"cordova/plugin/MediaFileData"},Position:{path:"cordova/plugin/Position"},PositionError:{path:"cordova/plugin/PositionError"},ProgressEvent:{path:"cordova/plugin/ProgressEvent"}},clobbers:{navigator:{children:{connection:{path:"cordova/plugin/network"}}}}}}),define("cordova/exec",function(require,exports,module){function androidExec(t,e,n,i,o){function r(e){s=e,t&&t(e)}void 0===jsToNativeBridgeMode&&androidExec.setJsToNativeBridgeMode(jsToNativeModes.JS_OBJECT);for(var a=0;a<o.length;a++)"ArrayBuffer"==utils.typeName(o[a])&&(o[a]=window.btoa(String.fromCharCode.apply(null,new Uint8Array(o[a]))));var s,l=n+cordova.callbackId++,c=JSON.stringify(o);if(cordova.callbacks[l]={success:r,fail:e},jsToNativeBridgeMode==jsToNativeModes.LOCATION_CHANGE)window.location="http://cdv_exec/"+n+"#"+i+"#"+l+"#"+c;else{var u=nativeApiProvider.get().exec(n,i,l,c);androidExec.processMessages(u)}return cordova.callbacks[l]&&(t||e?cordova.callbacks[l].success=t:delete cordova.callbacks[l]),s}function pollOnce(){var t=nativeApiProvider.get().retrieveJsMessages();androidExec.processMessages(t)}function pollingTimerFunc(){pollEnabled&&(pollOnce(),setTimeout(pollingTimerFunc,50))}function hookOnlineApis(){function t(t){cordova.fireWindowEvent(t.type)}window.addEventListener("online",pollOnce,!1),window.addEventListener("offline",pollOnce,!1),cordova.addWindowEventHandler("online"),cordova.addWindowEventHandler("offline"),document.addEventListener("online",t,!1),document.addEventListener("offline",t,!1)}function processMessage(message){try{var firstChar=message.charAt(0);if("J"==firstChar)eval(message.slice(1));else if("S"==firstChar||"F"==firstChar){var success="S"==firstChar,keepCallback="1"==message.charAt(1),spaceIdx=message.indexOf(" ",2),status=+message.slice(2,spaceIdx),nextSpaceIdx=message.indexOf(" ",spaceIdx+1),callbackId=message.slice(spaceIdx+1,nextSpaceIdx),payloadKind=message.charAt(nextSpaceIdx+1),payload;if("s"==payloadKind)payload=message.slice(nextSpaceIdx+2);else if("t"==payloadKind)payload=!0;else if("f"==payloadKind)payload=!1;else if("N"==payloadKind)payload=null;else if("n"==payloadKind)payload=+message.slice(nextSpaceIdx+2);else if("A"==payloadKind){for(var data=message.slice(nextSpaceIdx+2),bytes=window.atob(data),arraybuffer=new Uint8Array(bytes.length),i=0;i<bytes.length;i++)arraybuffer[i]=bytes.charCodeAt(i);payload=arraybuffer.buffer}else payload=JSON.parse(message.slice(nextSpaceIdx+1));cordova.callbackFromNative(callbackId,success,status,payload,keepCallback)}else console.log("processMessage failed: invalid message:"+message)}catch(e){console.log("processMessage failed: Message: "+message),console.log("processMessage failed: Error: "+e),console.log("processMessage failed: Stack: "+e.stack)}}var cordova=require("cordova"),nativeApiProvider=require("cordova/plugin/android/nativeapiprovider"),utils=require("cordova/utils"),jsToNativeModes={PROMPT:0,JS_OBJECT:1,LOCATION_CHANGE:2},nativeToJsModes={POLLING:0,LOAD_URL:1,ONLINE_EVENT:2,PRIVATE_API:3},jsToNativeBridgeMode,nativeToJsBridgeMode=nativeToJsModes.ONLINE_EVENT,pollEnabled=!1,messagesFromNative=[];hookOnlineApis(),androidExec.jsToNativeModes=jsToNativeModes,androidExec.nativeToJsModes=nativeToJsModes,androidExec.setJsToNativeBridgeMode=function(t){t!=jsToNativeModes.JS_OBJECT||window._cordovaNative||(console.log("Falling back on PROMPT mode since _cordovaNative is missing."),t=jsToNativeModes.PROMPT),nativeApiProvider.setPreferPrompt(t==jsToNativeModes.PROMPT),jsToNativeBridgeMode=t},androidExec.setNativeToJsBridgeMode=function(t){t!=nativeToJsBridgeMode&&(nativeToJsBridgeMode==nativeToJsModes.POLLING&&(pollEnabled=!1),nativeToJsBridgeMode=t,nativeApiProvider.get().setNativeToJsBridgeMode(t),t==nativeToJsModes.POLLING&&(pollEnabled=!0,setTimeout(pollingTimerFunc,1)))},androidExec.processMessages=function(t){if(t)for(messagesFromNative.push(t);messagesFromNative.length;)if(t=messagesFromNative.shift(),"*"!=t){var e=t.indexOf(" "),n=+t.slice(0,e),i=t.substr(e+1,n);t=t.slice(e+n+1),t&&messagesFromNative.unshift(t),i&&processMessage(i)}else window.setTimeout(pollOnce,0)},module.exports=androidExec}),define("cordova/modulemapper",function(t,e,n){function i(t,e,n,i){if(!(e in l))throw new Error("Module "+e+" does not exist.");r.push(t,e,n),i&&(a[n]=i)}function o(t,e){if(!t)return e;for(var n,i=t.split("."),o=e,r=0;n=i[r];++r)o[n]=o[n]||{};return o[i[r-1]]}var r,a,s=t("cordova/builder"),l=define.moduleMap;e.reset=function(){r=[],a={}},e.clobbers=function(t,e,n){i("c",t,e,n)},e.merges=function(t,e,n){i("m",t,e,n)},e.defaults=function(t,e,n){i("d",t,e,n)},e.mapModules=function(e){var n={};e.CDV_origSymbols=n;for(var i=0,l=r.length;i<l;i+=3){var c=r[i],u=r[i+1],h=r[i+2],d=h.lastIndexOf("."),p=h.substr(0,d),f=h.substr(d+1),v=t(u),g=h in a?"Access made to deprecated symbol: "+h+". "+g:null,m=o(p,e),y=m[f];"m"==c&&y?s.recursiveMerge(y,v):("d"==c&&!y||"d"!=c)&&(y&&(n[h]=y),s.assignOrWrapInDeprecateGetter(m,f,v,g))}},e.getOriginalSymbol=function(t,e){var n=t.CDV_origSymbols;if(n&&e in n)return n[e];for(var i=e.split("."),o=t,r=0;r<i.length;++r)o=o&&o[i[r]];return o},e.loadMatchingModules=function(e){for(var n in l)e.exec(n)&&t(n)},e.reset()}),define("cordova/platform",function(t,e,n){n.exports={id:"android",initialize:function(){var e=t("cordova/channel"),n=t("cordova"),i=t("cordova/exec"),o=t("cordova/modulemapper");o.loadMatchingModules(/cordova.*\/symbols$/),o.mapModules(window);var r=n.addDocumentEventHandler("backbutton");r.onHasSubscribersChange=function(){i(null,null,"App","overrideBackbutton",[1==this.numHandlers])},n.addDocumentEventHandler("menubutton"),n.addDocumentEventHandler("searchbutton");var a=t("cordova/plugin/android/storage");if("undefined"==typeof window.openDatabase)window.openDatabase=a.openDatabase;else{var s=window.openDatabase;window.openDatabase=function(t,e,n,i){var o=null;try{o=s(t,e,n,i)}catch(r){if(18!==r.code)throw r;o=null}return null===o?a.openDatabase(t,e,n,i):o}}"undefined"!=typeof window.localStorage&&null!==window.localStorage||(window.localStorage=new a.CupcakeLocalStorage),e.join(function(){i(null,null,"App","show",[])},[e.onCordovaReady])},clobbers:{navigator:{children:{app:{path:"cordova/plugin/android/app"}}},File:{path:"cordova/plugin/File"},FileReader:{path:"cordova/plugin/FileReader"},FileError:{path:"cordova/plugin/FileError"},MediaError:{path:"cordova/plugin/MediaError"},open:{path:"cordova/plugin/InAppBrowser"}},merges:{device:{path:"cordova/plugin/android/device"},navigator:{children:{notification:{path:"cordova/plugin/android/notification"}}}}}}),define("cordova/plugin/Acceleration",function(t,e,n){var i=function(t,e,n,i){this.x=t,this.y=e,this.z=n,this.timestamp=i||(new Date).getTime()};n.exports=i}),define("cordova/plugin/Camera",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/plugin/CameraConstants"),a={};for(var s in r)a[s]=r[s];a.getPicture=function(t,e,n){i.checkArgs("fFO","Camera.getPicture",arguments),n=n||{};var a=i.getValue,s=a(n.quality,50),l=a(n.destinationType,r.DestinationType.FILE_URI),c=a(n.sourceType,r.PictureSourceType.CAMERA),u=a(n.targetWidth,-1),h=a(n.targetHeight,-1),d=a(n.encodingType,r.EncodingType.JPEG),p=a(n.mediaType,r.MediaType.PICTURE),f=!!n.allowEdit,v=!!n.correctOrientation,g=!!n.saveToPhotoAlbum,m=a(n.popoverOptions,null),y=[s,l,c,u,h,d,p,f,v,g,m];o(t,e,"Camera","takePicture",y)},a.cleanup=function(t,e){o(t,e,"Camera","cleanup",[])},n.exports=a}),define("cordova/plugin/CameraConstants",function(t,e,n){n.exports={DestinationType:{DATA_URL:0,FILE_URI:1,NATIVE_URI:2},EncodingType:{JPEG:0,PNG:1},MediaType:{PICTURE:0,VIDEO:1,ALLMEDIA:2},PictureSourceType:{PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},PopoverArrowDirection:{ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15}}}),define("cordova/plugin/CameraPopoverOptions",function(t,e,n){var i=t("cordova/plugin/CameraConstants"),o=function(t,e,n,o,r){this.x=t||0,this.y=e||32,this.width=n||320,this.height=o||480,this.arrowDir=r||i.PopoverArrowDirection.ARROW_ANY};n.exports=o}),define("cordova/plugin/CaptureAudioOptions",function(t,e,n){var i=function(){this.limit=1,this.duration=0,this.mode=null};n.exports=i}),define("cordova/plugin/CaptureError",function(t,e,n){var i=function(t){this.code=t||null};i.CAPTURE_INTERNAL_ERR=0,i.CAPTURE_APPLICATION_BUSY=1,i.CAPTURE_INVALID_ARGUMENT=2,i.CAPTURE_NO_MEDIA_FILES=3,i.CAPTURE_NOT_SUPPORTED=20,n.exports=i}),define("cordova/plugin/CaptureImageOptions",function(t,e,n){var i=function(){this.limit=1,this.mode=null};n.exports=i}),define("cordova/plugin/CaptureVideoOptions",function(t,e,n){var i=function(){this.limit=1,this.duration=0,this.mode=null};n.exports=i}),define("cordova/plugin/CompassError",function(t,e,n){var i=function(t){this.code=void 0!==t?t:null};i.COMPASS_INTERNAL_ERR=0,i.COMPASS_NOT_SUPPORTED=20,n.exports=i}),define("cordova/plugin/CompassHeading",function(t,e,n){var i=function(t,e,n,i){this.magneticHeading=t||null,this.trueHeading=e||null,this.headingAccuracy=n||null,this.timestamp=i||(new Date).getTime()};n.exports=i}),define("cordova/plugin/ConfigurationData",function(t,e,n){function i(){this.type=null,this.height=0,this.width=0}n.exports=i}),define("cordova/plugin/Connection",function(t,e,n){n.exports={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",NONE:"none"}}),define("cordova/plugin/Contact",function(t,e,n){function i(t){var e=t.birthday;try{t.birthday=new Date(parseFloat(e))}catch(n){console.log("Cordova Contact convertIn error: exception creating date.")}return t}function o(t){var e=t.birthday;if(null!==e){if(!l.isDate(e))try{e=new Date(e)}catch(n){e=null}l.isDate(e)&&(e=e.valueOf()),t.birthday=e}return t}var r=t("cordova/argscheck"),a=t("cordova/exec"),s=t("cordova/plugin/ContactError"),l=t("cordova/utils"),c=function(t,e,n,i,o,r,a,s,l,c,u,h,d,p){this.id=t||null,this.rawId=null,this.displayName=e||null,this.name=n||null,this.nickname=i||null,this.phoneNumbers=o||null,this.emails=r||null,this.addresses=a||null,this.ims=s||null,this.organizations=l||null,this.birthday=c||null,this.note=u||null,this.photos=h||null,this.categories=d||null,this.urls=p||null};c.prototype.remove=function(t,e){r.checkArgs("FF","Contact.remove",arguments);var n=e&&function(t){e(new s(t))};null===this.id?n(s.UNKNOWN_ERROR):a(t,n,"Contacts","remove",[this.id])},c.prototype.clone=function(){function t(t){if(t)for(var e=0;e<t.length;++e)t[e].id=null}var e=l.clone(this);return e.id=null,e.rawId=null,t(e.phoneNumbers),t(e.emails),t(e.addresses),t(e.ims),t(e.organizations),t(e.categories),t(e.photos),t(e.urls),e},c.prototype.save=function(e,n){r.checkArgs("FFO","Contact.save",arguments);var c=n&&function(t){n(new s(t))},u=function(n){if(n){if(e){var o=t("cordova/plugin/contacts").create(n);e(i(o))}}else c(s.UNKNOWN_ERROR)},h=o(l.clone(this));a(u,c,"Contacts","save",[h])},n.exports=c}),define("cordova/plugin/ContactAddress",function(t,e,n){var i=function(t,e,n,i,o,r,a,s){this.id=null,this.pref="undefined"!=typeof t&&t,this.type=e||null,this.formatted=n||null,this.streetAddress=i||null,this.locality=o||null,this.region=r||null,this.postalCode=a||null,this.country=s||null};n.exports=i}),define("cordova/plugin/ContactError",function(t,e,n){var i=function(t){this.code="undefined"!=typeof t?t:null};i.UNKNOWN_ERROR=0,i.INVALID_ARGUMENT_ERROR=1,i.TIMEOUT_ERROR=2,i.PENDING_OPERATION_ERROR=3,i.IO_ERROR=4,i.NOT_SUPPORTED_ERROR=5,i.PERMISSION_DENIED_ERROR=20,n.exports=i}),define("cordova/plugin/ContactField",function(t,e,n){var i=function(t,e,n){this.id=null,this.type=t&&t.toString()||null,this.value=e&&e.toString()||null,this.pref="undefined"!=typeof n&&n};n.exports=i}),define("cordova/plugin/ContactFindOptions",function(t,e,n){var i=function(t,e){this.filter=t||"",this.multiple="undefined"!=typeof e&&e};n.exports=i}),define("cordova/plugin/ContactName",function(t,e,n){var i=function(t,e,n,i,o,r){this.formatted=t||null,this.familyName=e||null,this.givenName=n||null,this.middleName=i||null,this.honorificPrefix=o||null,this.honorificSuffix=r||null};n.exports=i}),define("cordova/plugin/ContactOrganization",function(t,e,n){var i=function(t,e,n,i,o){this.id=null,this.pref="undefined"!=typeof t&&t,this.type=e||null,this.name=n||null,this.department=i||null,this.title=o||null};n.exports=i}),define("cordova/plugin/Coordinates",function(t,e,n){var i=function(t,e,n,i,o,r,a){this.latitude=t,this.longitude=e,this.accuracy=i,this.altitude=void 0!==n?n:null,this.heading=void 0!==o?o:null,this.speed=void 0!==r?r:null,0!==this.speed&&null!==this.speed||(this.heading=NaN),this.altitudeAccuracy=void 0!==a?a:null};n.exports=i}),define("cordova/plugin/DirectoryEntry",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a=t("cordova/plugin/Entry"),s=t("cordova/plugin/FileError"),l=t("cordova/plugin/DirectoryReader"),c=function(t,e){c.__super__.constructor.call(this,!1,!0,t,e)};o.extend(c,a),c.prototype.createReader=function(){return new l(this.fullPath)},c.prototype.getDirectory=function(t,e,n,o){i.checkArgs("sOFF","DirectoryEntry.getDirectory",arguments);var a=n&&function(t){var e=new c(t.name,t.fullPath);n(e)},l=o&&function(t){o(new s(t))};r(a,l,"File","getDirectory",[this.fullPath,t,e])},c.prototype.removeRecursively=function(t,e){i.checkArgs("FF","DirectoryEntry.removeRecursively",arguments);var n=e&&function(t){e(new s(t))};r(t,n,"File","removeRecursively",[this.fullPath])},c.prototype.getFile=function(e,n,o,a){i.checkArgs("sOFF","DirectoryEntry.getFile",arguments);var l=o&&function(e){var n=t("cordova/plugin/FileEntry"),i=new n(e.name,e.fullPath);o(i)},c=a&&function(t){a(new s(t))};r(l,c,"File","getFile",[this.fullPath,e,n])},n.exports=c}),define("cordova/plugin/DirectoryReader",function(t,e,n){function i(t){this.path=t||null}var o=t("cordova/exec"),r=t("cordova/plugin/FileError");i.prototype.readEntries=function(e,n){var i="function"!=typeof e?null:function(n){for(var i=[],o=0;o<n.length;o++){var r=null;n[o].isDirectory?r=new(t("cordova/plugin/DirectoryEntry")):n[o].isFile&&(r=new(t("cordova/plugin/FileEntry"))),r.isDirectory=n[o].isDirectory,r.isFile=n[o].isFile,r.name=n[o].name,r.fullPath=n[o].fullPath,i.push(r)}e(i)},a="function"!=typeof n?null:function(t){n(new r(t))};o(i,a,"File","readEntries",[this.path])},n.exports=i}),define("cordova/plugin/Entry",function(t,e,n){function i(t,e,n,i,o){this.isFile=!!t,this.isDirectory=!!e,this.name=n||"",this.fullPath=i||"",this.filesystem=o||null}var o=t("cordova/argscheck"),r=t("cordova/exec"),a=t("cordova/plugin/FileError"),s=t("cordova/plugin/Metadata");i.prototype.getMetadata=function(t,e){o.checkArgs("FF","Entry.getMetadata",arguments);var n=t&&function(e){var n=new s(e);t(n)},i=e&&function(t){e(new a(t))};r(n,i,"File","getMetadata",[this.fullPath])},i.prototype.setMetadata=function(t,e,n){o.checkArgs("FFO","Entry.setMetadata",arguments),r(t,e,"File","setMetadata",[this.fullPath,n])},i.prototype.moveTo=function(e,n,i,s){o.checkArgs("oSFF","Entry.moveTo",arguments);var l=s&&function(t){s(new a(t))},c=this.fullPath,u=n||this.name,h=function(e){if(e){if(i){var n=e.isDirectory?new(t("cordova/plugin/DirectoryEntry"))(e.name,e.fullPath):new(t("cordova/plugin/FileEntry"))(e.name,e.fullPath);i(n)}}else l&&l(a.NOT_FOUND_ERR)};r(h,l,"File","moveTo",[c,e.fullPath,u])},i.prototype.copyTo=function(e,n,i,s){o.checkArgs("oSFF","Entry.copyTo",arguments);var l=s&&function(t){s(new a(t))},c=this.fullPath,u=n||this.name,h=function(e){if(e){if(i){var n=e.isDirectory?new(t("cordova/plugin/DirectoryEntry"))(e.name,e.fullPath):new(t("cordova/plugin/FileEntry"))(e.name,e.fullPath);i(n)}}else l&&l(a.NOT_FOUND_ERR)};r(h,l,"File","copyTo",[c,e.fullPath,u])},i.prototype.toURL=function(){return this.fullPath},i.prototype.toURI=function(t){return console.log("DEPRECATED: Update your code to use 'toURL'"),this.toURL()},i.prototype.remove=function(t,e){o.checkArgs("FF","Entry.remove",arguments);var n=e&&function(t){e(new a(t))};r(t,n,"File","remove",[this.fullPath])},i.prototype.getParent=function(e,n){o.checkArgs("FF","Entry.getParent",arguments);var i=e&&function(n){var i=t("cordova/plugin/DirectoryEntry"),o=new i(n.name,n.fullPath);e(o)},s=n&&function(t){n(new a(t))};r(i,s,"File","getParent",[this.fullPath])},n.exports=i}),define("cordova/plugin/File",function(t,e,n){var i=function(t,e,n,i,o){this.name=t||"",this.fullPath=e||null,this.type=n||null,this.lastModifiedDate=i||null,this.size=o||0,this.start=0,this.end=this.size};i.prototype.slice=function(t,e){var n=this.end-this.start,o=0,r=n;arguments.length&&(o=t<0?Math.max(n+t,0):Math.min(n,t)),arguments.length>=2&&(r=e<0?Math.max(n+e,0):Math.min(e,n));var a=new i(this.name,this.fullPath,this.type,this.lastModifiedData,this.size);return a.start=this.start+o,a.end=this.start+r,a},n.exports=i}),define("cordova/plugin/FileEntry",function(t,e,n){var i=t("cordova/utils"),o=t("cordova/exec"),r=t("cordova/plugin/Entry"),a=t("cordova/plugin/FileWriter"),s=t("cordova/plugin/File"),l=t("cordova/plugin/FileError"),c=function(t,e){c.__super__.constructor.apply(this,[!0,!1,t,e])};i.extend(c,r),c.prototype.createWriter=function(t,e){this.file(function(n){var i=new a(n);null===i.fileName||""===i.fileName?e&&e(new l(l.INVALID_STATE_ERR)):t&&t(i)},e)},c.prototype.file=function(t,e){var n=t&&function(e){var n=new s(e.name,e.fullPath,e.type,e.lastModifiedDate,e.size);t(n)},i=e&&function(t){e(new l(t))};o(n,i,"File","getFileMetadata",[this.fullPath])},n.exports=c}),define("cordova/plugin/FileError",function(t,e,n){function i(t){this.code=t||null}i.NOT_FOUND_ERR=1,i.SECURITY_ERR=2,i.ABORT_ERR=3,i.NOT_READABLE_ERR=4,i.ENCODING_ERR=5,i.NO_MODIFICATION_ALLOWED_ERR=6,i.INVALID_STATE_ERR=7,i.SYNTAX_ERR=8,i.INVALID_MODIFICATION_ERR=9,i.QUOTA_EXCEEDED_ERR=10,i.TYPE_MISMATCH_ERR=11,i.PATH_EXISTS_ERR=12,n.exports=i}),define("cordova/plugin/FileReader",function(t,e,n){function i(t){s.defineGetterSetter(h.prototype,t,function(){return this._realReader[t]||null},function(e){this._realReader[t]=e})}function o(t,e){
if(t.readyState==h.LOADING)throw new l(l.INVALID_STATE_ERR);if(t._result=null,t._error=null,t._readyState=h.LOADING,"string"==typeof e)console.warning("Using a string argument with FileReader.readAs functions is deprecated."),t._fileName=e;else{if("string"!=typeof e.fullPath)return t._fileName="",!0;t._fileName=e.fullPath}t.onloadstart&&t.onloadstart(new c("loadstart",{target:t}))}var r=t("cordova/exec"),a=t("cordova/modulemapper"),s=t("cordova/utils"),l=(t("cordova/plugin/File"),t("cordova/plugin/FileError")),c=t("cordova/plugin/ProgressEvent"),u=a.getOriginalSymbol(this,"FileReader"),h=function(){this._readyState=0,this._error=null,this._result=null,this._fileName="",this._realReader=u?new u:{}};h.EMPTY=0,h.LOADING=1,h.DONE=2,s.defineGetter(h.prototype,"readyState",function(){return this._fileName?this._readyState:this._realReader.readyState}),s.defineGetter(h.prototype,"error",function(){return this._fileName?this._error:this._realReader.error}),s.defineGetter(h.prototype,"result",function(){return this._fileName?this._result:this._realReader.result}),i("onloadstart"),i("onprogress"),i("onload"),i("onerror"),i("onloadend"),i("onabort"),h.prototype.abort=function(){return u&&!this._fileName?this._realReader.abort():(this._result=null,void(this._readyState!=h.DONE&&this._readyState!=h.EMPTY&&(this._readyState=h.DONE,"function"==typeof this.onabort&&this.onabort(new c("abort",{target:this})),"function"==typeof this.onloadend&&this.onloadend(new c("loadend",{target:this})))))},h.prototype.readAsText=function(t,e){if(o(this,t))return this._realReader.readAsText(t,e);var n=e?e:"UTF-8",i=this,a=[this._fileName,n];t.end<t.size?a.push(t.start,t.end):t.start>0&&a.push(t.start),r(function(t){i._readyState!==h.DONE&&(i._result=t,"function"==typeof i.onload&&i.onload(new c("load",{target:i})),i._readyState=h.DONE,"function"==typeof i.onloadend&&i.onloadend(new c("loadend",{target:i})))},function(t){i._readyState!==h.DONE&&(i._readyState=h.DONE,i._result=null,i._error=new l(t),"function"==typeof i.onerror&&i.onerror(new c("error",{target:i})),"function"==typeof i.onloadend&&i.onloadend(new c("loadend",{target:i})))},"File","readAsText",a)},h.prototype.readAsDataURL=function(t){if(o(this,t))return this._realReader.readAsDataURL(t);var e=this,n=[this._fileName];t.end<t.size?n.push(t.start,t.end):t.start>0&&n.push(t.start),r(function(t){e._readyState!==h.DONE&&(e._readyState=h.DONE,e._result=t,"function"==typeof e.onload&&e.onload(new c("load",{target:e})),"function"==typeof e.onloadend&&e.onloadend(new c("loadend",{target:e})))},function(t){e._readyState!==h.DONE&&(e._readyState=h.DONE,e._result=null,e._error=new l(t),"function"==typeof e.onerror&&e.onerror(new c("error",{target:e})),"function"==typeof e.onloadend&&e.onloadend(new c("loadend",{target:e})))},"File","readAsDataURL",n)},h.prototype.readAsBinaryString=function(t){return o(this,t)?this._realReader.readAsBinaryString(t):(console.log('method "readAsBinaryString" is not supported at this time.'),void this.abort())},h.prototype.readAsArrayBuffer=function(t){return o(this,t)?this._realReader.readAsArrayBuffer(t):(console.log("This method is not supported at this time."),void this.abort())},n.exports=h}),define("cordova/plugin/FileSystem",function(t,e,n){var i=t("cordova/plugin/DirectoryEntry"),o=function(t,e){this.name=t||null,e&&(this.root=new i(e.name,e.fullPath))};n.exports=o}),define("cordova/plugin/FileTransfer",function(t,e,n){function i(t){var e=new s;return e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,e}var o=t("cordova/argscheck"),r=t("cordova/exec"),a=t("cordova/plugin/FileTransferError"),s=t("cordova/plugin/ProgressEvent"),l=0,c=function(){this._id=++l,this.onprogress=null};c.prototype.upload=function(t,e,n,s,l,c){o.checkArgs("ssFFO*","FileTransfer.upload",arguments);var u=null,h=null,d=null,p=null,f=!0,v=null;l&&(u=l.fileKey,h=l.fileName,d=l.mimeType,v=l.headers,null===l.chunkedMode&&"undefined"==typeof l.chunkedMode||(f=l.chunkedMode),p=l.params?l.params:{});var g=s&&function(t){var e=new a(t.code,t.source,t.target,t.http_status);s(e)},m=this,y=function(t){"undefined"!=typeof t.lengthComputable?m.onprogress&&m.onprogress(i(t)):n&&n(t)};r(y,g,"FileTransfer","upload",[t,e,u,h,d,p,c,f,v,this._id])},c.prototype.download=function(e,n,s,l,c){o.checkArgs("ssFF*","FileTransfer.download",arguments);var u=this,h=function(e){if("undefined"!=typeof e.lengthComputable){if(u.onprogress)return u.onprogress(i(e))}else if(s){var n=null;e.isDirectory?n=new(t("cordova/plugin/DirectoryEntry")):e.isFile&&(n=new(t("cordova/plugin/FileEntry"))),n.isDirectory=e.isDirectory,n.isFile=e.isFile,n.name=e.name,n.fullPath=e.fullPath,s(n)}},d=l&&function(t){var e=new a(t.code,t.source,t.target,t.http_status);l(e)};r(h,d,"FileTransfer","download",[e,n,c,this._id])},c.prototype.abort=function(t,e){r(t,e,"FileTransfer","abort",[this._id])},n.exports=c}),define("cordova/plugin/FileTransferError",function(t,e,n){var i=function(t,e,n,i){this.code=t||null,this.source=e||null,this.target=n||null,this.http_status=i||null};i.FILE_NOT_FOUND_ERR=1,i.INVALID_URL_ERR=2,i.CONNECTION_ERR=3,i.ABORT_ERR=4,n.exports=i}),define("cordova/plugin/FileUploadOptions",function(t,e,n){var i=function(t,e,n,i,o){this.fileKey=t||null,this.fileName=e||null,this.mimeType=n||null,this.params=i||null,this.headers=o||null};n.exports=i}),define("cordova/plugin/FileUploadResult",function(t,e,n){var i=function(){this.bytesSent=0,this.responseCode=null,this.response=null};n.exports=i}),define("cordova/plugin/FileWriter",function(t,e,n){var i=t("cordova/exec"),o=t("cordova/plugin/FileError"),r=t("cordova/plugin/ProgressEvent"),a=function(t){this.fileName="",this.length=0,t&&(this.fileName=t.fullPath||t,this.length=t.size||0),this.position=0,this.readyState=0,this.result=null,this.error=null,this.onwritestart=null,this.onprogress=null,this.onwrite=null,this.onwriteend=null,this.onabort=null,this.onerror=null};a.INIT=0,a.WRITING=1,a.DONE=2,a.prototype.abort=function(){if(this.readyState===a.DONE||this.readyState===a.INIT)throw new o(o.INVALID_STATE_ERR);this.error=new o(o.ABORT_ERR),this.readyState=a.DONE,"function"==typeof this.onabort&&this.onabort(new r("abort",{target:this})),"function"==typeof this.onwriteend&&this.onwriteend(new r("writeend",{target:this}))},a.prototype.write=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);this.readyState=a.WRITING;var e=this;"function"==typeof e.onwritestart&&e.onwritestart(new r("writestart",{target:e})),i(function(t){e.readyState!==a.DONE&&(e.position+=t,e.length=e.position,e.readyState=a.DONE,"function"==typeof e.onwrite&&e.onwrite(new r("write",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.error=new o(t),"function"==typeof e.onerror&&e.onerror(new r("error",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},"File","write",[this.fileName,t,this.position])},a.prototype.seek=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);(t||0===t)&&(t<0?this.position=Math.max(t+this.length,0):t>this.length?this.position=this.length:this.position=t)},a.prototype.truncate=function(t){if(this.readyState===a.WRITING)throw new o(o.INVALID_STATE_ERR);this.readyState=a.WRITING;var e=this;"function"==typeof e.onwritestart&&e.onwritestart(new r("writestart",{target:this})),i(function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.length=t,e.position=Math.min(e.position,t),"function"==typeof e.onwrite&&e.onwrite(new r("write",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},function(t){e.readyState!==a.DONE&&(e.readyState=a.DONE,e.error=new o(t),"function"==typeof e.onerror&&e.onerror(new r("error",{target:e})),"function"==typeof e.onwriteend&&e.onwriteend(new r("writeend",{target:e})))},"File","truncate",[this.fileName,t])},n.exports=a}),define("cordova/plugin/Flags",function(t,e,n){function i(t,e){this.create=t||!1,this.exclusive=e||!1}n.exports=i}),define("cordova/plugin/GlobalizationError",function(t,e,n){var i=function(t,e){this.code=t||null,this.message=e||""};i.UNKNOWN_ERROR=0,i.FORMATTING_ERROR=1,i.PARSING_ERROR=2,i.PATTERN_ERROR=3,n.exports=i}),define("cordova/plugin/InAppBrowser",function(t,e,n){function i(){this.channels={loadstart:r.create("loadstart"),loadstop:r.create("loadstop"),exit:r.create("exit")}}var o=t("cordova/exec"),r=t("cordova/channel");i.prototype={_eventHandler:function(t){t.type in this.channels&&this.channels[t.type].fire(t)},close:function(t){o(null,null,"InAppBrowser","close",[])},addEventListener:function(t,e){t in this.channels&&this.channels[t].subscribe(e)},removeEventListener:function(t,e){t in this.channels&&this.channels[t].unsubscribe(e)}},n.exports=function(t,e,n){var r=new i,a=function(t){r._eventHandler(t)};return o(a,null,"InAppBrowser","open",[t,e,n]),r},n.exports._orig=window.open}),define("cordova/plugin/LocalFileSystem",function(t,e,n){var i=(t("cordova/exec"),function(){});i.TEMPORARY=0,i.PERSISTENT=1,n.exports=i}),define("cordova/plugin/Media",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/utils"),r=t("cordova/exec"),a={},s=function(t,e,n,s){i.checkArgs("SFFF","Media",arguments),this.id=o.createUUID(),a[this.id]=this,this.src=t,this.successCallback=e,this.errorCallback=n,this.statusCallback=s,this._duration=-1,this._position=-1,r(null,this.errorCallback,"Media","create",[this.id,this.src])};s.MEDIA_STATE=1,s.MEDIA_DURATION=2,s.MEDIA_POSITION=3,s.MEDIA_ERROR=9,s.MEDIA_NONE=0,s.MEDIA_STARTING=1,s.MEDIA_RUNNING=2,s.MEDIA_PAUSED=3,s.MEDIA_STOPPED=4,s.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],s.get=function(t){return a[t]},s.prototype.play=function(t){r(null,null,"Media","startPlayingAudio",[this.id,this.src,t])},s.prototype.stop=function(){var t=this;r(function(){t._position=0},this.errorCallback,"Media","stopPlayingAudio",[this.id])},s.prototype.seekTo=function(t){var e=this;r(function(t){e._position=t},this.errorCallback,"Media","seekToAudio",[this.id,t])},s.prototype.pause=function(){r(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},s.prototype.getDuration=function(){return this._duration},s.prototype.getCurrentPosition=function(t,e){var n=this;r(function(e){n._position=e,t(e)},e,"Media","getCurrentPositionAudio",[this.id])},s.prototype.startRecord=function(){r(null,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},s.prototype.stopRecord=function(){r(null,this.errorCallback,"Media","stopRecordingAudio",[this.id])},s.prototype.release=function(){r(null,this.errorCallback,"Media","release",[this.id])},s.prototype.setVolume=function(t){r(null,null,"Media","setVolume",[this.id,t])},s.onStatus=function(t,e,n){var i=a[t];if(i)switch(e){case s.MEDIA_STATE:i.statusCallback&&i.statusCallback(n),n==s.MEDIA_STOPPED&&i.successCallback&&i.successCallback();break;case s.MEDIA_DURATION:i._duration=n;break;case s.MEDIA_ERROR:i.errorCallback&&i.errorCallback(n);break;case s.MEDIA_POSITION:i._position=Number(n);break;default:console.error&&console.error("Unhandled Media.onStatus :: "+e)}else console.error&&console.error("Received Media.onStatus callback for unknown media :: "+t)},n.exports=s}),define("cordova/plugin/MediaError",function(t,e,n){var i=window.MediaError;i||(window.MediaError=i=function(t,e){this.code="undefined"!=typeof t?t:null,this.message=e||""}),i.MEDIA_ERR_NONE_ACTIVE=i.MEDIA_ERR_NONE_ACTIVE||0,i.MEDIA_ERR_ABORTED=i.MEDIA_ERR_ABORTED||1,i.MEDIA_ERR_NETWORK=i.MEDIA_ERR_NETWORK||2,i.MEDIA_ERR_DECODE=i.MEDIA_ERR_DECODE||3,i.MEDIA_ERR_NONE_SUPPORTED=i.MEDIA_ERR_NONE_SUPPORTED||4,i.MEDIA_ERR_SRC_NOT_SUPPORTED=i.MEDIA_ERR_SRC_NOT_SUPPORTED||4,n.exports=i}),define("cordova/plugin/MediaFile",function(t,e,n){var i=t("cordova/utils"),o=t("cordova/exec"),r=t("cordova/plugin/File"),a=t("cordova/plugin/CaptureError"),s=function(t,e,n,i,o){s.__super__.constructor.apply(this,arguments)};i.extend(s,r),s.prototype.getFormatData=function(t,e){"undefined"==typeof this.fullPath||null===this.fullPath?e(new a(a.CAPTURE_INVALID_ARGUMENT)):o(t,e,"Capture","getFormatData",[this.fullPath,this.type])},n.exports=s}),define("cordova/plugin/MediaFileData",function(t,e,n){var i=function(t,e,n,i,o){this.codecs=t||null,this.bitrate=e||0,this.height=n||0,this.width=i||0,this.duration=o||0};n.exports=i}),define("cordova/plugin/Metadata",function(t,e,n){var i=function(t){this.modificationTime="undefined"!=typeof t?new Date(t):null};n.exports=i}),define("cordova/plugin/Position",function(t,e,n){var i=t("cordova/plugin/Coordinates"),o=function(t,e){t?this.coords=new i(t.latitude,t.longitude,t.altitude,t.accuracy,t.heading,t.velocity,t.altitudeAccuracy):this.coords=new i,this.timestamp=void 0!==e?e:new Date};n.exports=o}),define("cordova/plugin/PositionError",function(t,e,n){var i=function(t,e){this.code=t||null,this.message=e||""};i.PERMISSION_DENIED=1,i.POSITION_UNAVAILABLE=2,i.TIMEOUT=3,n.exports=i}),define("cordova/plugin/ProgressEvent",function(t,e,n){var i=function(){return function(t,e){this.type=t,this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.lengthComputable=!1,this.loaded=e&&e.loaded?e.loaded:0,this.total=e&&e.total?e.total:0,this.target=e&&e.target?e.target:null}}();n.exports=i}),define("cordova/plugin/accelerometer",function(t,e,n){function i(){c(function(t){var e=p.slice(0);f=new u(t.x,t.y,t.z,t.timestamp);for(var n=0,i=e.length;n<i;n++)e[n].win(f)},function(t){for(var e=p.slice(0),n=0,i=e.length;n<i;n++)e[n].fail(t)},"Accelerometer","start",[]),h=!0}function o(){c(null,null,"Accelerometer","stop",[]),h=!1}function r(t,e){return{win:t,fail:e}}function a(t){var e=p.indexOf(t);e>-1&&(p.splice(e,1),0===p.length&&o())}var s=t("cordova/argscheck"),l=t("cordova/utils"),c=t("cordova/exec"),u=t("cordova/plugin/Acceleration"),h=!1,d={},p=[],f=null,v={getCurrentAcceleration:function(t,e,n){s.checkArgs("fFO","accelerometer.getCurrentAcceleration",arguments);var o,l=function(e){a(o),t(e)},c=function(t){a(o),e&&e(t)};o=r(l,c),p.push(o),h||i()},watchAcceleration:function(t,e,n){s.checkArgs("fFO","accelerometer.watchAcceleration",arguments);var o=n&&n.frequency&&"number"==typeof n.frequency?n.frequency:1e4,c=l.createUUID(),u=r(function(){},function(t){a(u),e&&e(t)});return p.push(u),d[c]={timer:window.setInterval(function(){f&&t(f)},o),listeners:u},h?f&&t(f):i(),c},clearWatch:function(t){t&&d[t]&&(window.clearInterval(d[t].timer),a(d[t].listeners),delete d[t])}};n.exports=v}),define("cordova/plugin/android/app",function(t,e,n){var i=t("cordova/exec");n.exports={clearCache:function(){i(null,null,"App","clearCache",[])},loadUrl:function(t,e){i(null,null,"App","loadUrl",[t,e])},cancelLoadUrl:function(){i(null,null,"App","cancelLoadUrl",[])},clearHistory:function(){i(null,null,"App","clearHistory",[])},backHistory:function(){i(null,null,"App","backHistory",[])},overrideBackbutton:function(t){i(null,null,"App","overrideBackbutton",[t])},exitApp:function(){return i(null,null,"App","exitApp",[])}}}),define("cordova/plugin/android/device",function(t,e,n){var i=(t("cordova/channel"),t("cordova/utils"),t("cordova/exec"),t("cordova/plugin/android/app"));n.exports={overrideBackButton:function(){console.log("Device.overrideBackButton() is deprecated.  Use App.overrideBackbutton(true)."),i.overrideBackbutton(!0)},resetBackButton:function(){console.log("Device.resetBackButton() is deprecated.  Use App.overrideBackbutton(false)."),i.overrideBackbutton(!1)},exitApp:function(){console.log("Device.exitApp() is deprecated.  Use App.exitApp()."),i.exitApp()}}}),define("cordova/plugin/android/nativeapiprovider",function(t,e,n){var i=this._cordovaNative||t("cordova/plugin/android/promptbasednativeapi"),o=i;n.exports={get:function(){return o},setPreferPrompt:function(e){o=e?t("cordova/plugin/android/promptbasednativeapi"):i},set:function(t){o=t}}}),define("cordova/plugin/android/notification",function(t,e,n){var i=t("cordova/exec");n.exports={activityStart:function(t,e){"undefined"==typeof t&&"undefined"==typeof e&&(t="Busy",e="Please wait..."),i(null,null,"Notification","activityStart",[t,e])},activityStop:function(){i(null,null,"Notification","activityStop",[])},progressStart:function(t,e){i(null,null,"Notification","progressStart",[t,e])},progressStop:function(){i(null,null,"Notification","progressStop",[])},progressValue:function(t){i(null,null,"Notification","progressValue",[t])}}}),define("cordova/plugin/android/promptbasednativeapi",function(t,e,n){n.exports={exec:function(t,e,n,i){return prompt(i,"gap:"+JSON.stringify([t,e,n]))},setNativeToJsBridgeMode:function(t){prompt(t,"gap_bridge_mode:")},retrieveJsMessages:function(){return prompt("","gap_poll:")}}}),define("cordova/plugin/android/storage",function(t,e,n){function i(t,e){var n=l[t];if(n)try{delete l[t];var i=n.tx;if(i&&i.queryList[t]){var o=new u;o.rows.resultSet=e,o.rows.length=e.length;try{"function"==typeof n.successCallback&&n.successCallback(n.tx,o)}catch(r){console.log("executeSql error calling user success callback: "+r)}i.queryComplete(t)}}catch(a){console.log("executeSql error: "+a)}}function o(t,e){var n=l[e];if(n)try{delete l[e];var i=n.tx;if(i&&i.queryList[e]){i.queryList={};try{"function"==typeof n.errorCallback&&n.errorCallback(n.tx,t)}catch(o){console.log("executeSql error calling user error callback: "+o)}i.queryFailed(e,t)}}catch(r){console.log("executeSql error: "+r)}}var r=t("cordova/utils"),a=t("cordova/exec"),s=t("cordova/channel"),l={},c=function(){this.resultSet=[],this.length=0};c.prototype.item=function(t){return this.resultSet[t]};var u=function(){this.rows=new c},h=function(t){this.id=r.createUUID(),l[this.id]=this,this.resultSet=[],this.tx=t,this.tx.queryList[this.id]=this,this.successCallback=null,this.errorCallback=null},d=function(){this.id=r.createUUID(),this.successCallback=null,this.errorCallback=null,this.queryList={}};d.prototype.queryComplete=function(t){if(delete this.queryList[t],this.successCallback){var e,n=0;for(e in this.queryList)this.queryList.hasOwnProperty(e)&&n++;if(0===n)try{this.successCallback()}catch(i){console.log("Transaction error calling user success callback: "+i)}}},d.prototype.queryFailed=function(t,e){if(this.queryList={},this.errorCallback)try{this.errorCallback(e)}catch(n){console.log("Transaction error calling user error callback: "+n)}},d.prototype.executeSql=function(t,e,n,i){"undefined"==typeof e&&(e=[]);var o=new h(this);l[o.id]=o,o.successCallback=n,o.errorCallback=i,a(null,null,"Storage","executeSql",[t,e,o.id])};var p=function(){};p.prototype.transaction=function(t,e,n){var i=new d;i.successCallback=n,i.errorCallback=e;try{t(i)}catch(o){if(console.log("Transaction error: "+o),i.errorCallback)try{i.errorCallback(o)}catch(r){console.log("Transaction error calling user error callback: "+o)}}};var f=function(t,e,n,i){a(null,null,"Storage","openDatabase",[t,e,n,i]);var o=new p;return o},v=function(){function t(t){this.length=t,localStorage.length=t}s.waitForInitialization("cupcakeStorage");try{this.db=openDatabase("localStorage","1.0","localStorage",2621440);var e={};this.length=0,this.db.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),n.executeSql("SELECT * FROM storage",[],function(n,i){for(var o=0;o<i.rows.length;o++)e[i.rows.item(o).id]=i.rows.item(o).body;t(i.rows.length),s.initializationComplete("cupcakeStorage")})},function(t){r.alert(t.message)}),this.setItem=function(t,n){"undefined"==typeof e[t]&&this.length++,e[t]=n,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("REPLACE INTO storage (id, body) values(?,?)",[t,n])})},this.getItem=function(t){return e[t]},this.removeItem=function(t){delete e[t],this.length--,this.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),e.executeSql("DELETE FROM storage where id=?",[t])})},this.clear=function(){e={},this.length=0,this.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS storage (id NVARCHAR(40) PRIMARY KEY, body NVARCHAR(255))"),t.executeSql("DELETE FROM storage",[])})},this.key=function(t){var n=0;for(var i in e){if(n==t)return i;n++}return null}}catch(n){return void r.alert("Database error "+n+".")}};n.exports={openDatabase:f,CupcakeLocalStorage:v,failQuery:o,completeQuery:i}}),define("cordova/plugin/battery",function(t,e,n){function i(){return s.channels.batterystatus.numHandlers+s.channels.batterylow.numHandlers+s.channels.batterycritical.numHandlers}var o=t("cordova"),r=t("cordova/exec"),a=function(){this._level=null,this._isPlugged=null,this.channels={batterystatus:o.addWindowEventHandler("batterystatus"),batterylow:o.addWindowEventHandler("batterylow"),batterycritical:o.addWindowEventHandler("batterycritical")};for(var t in this.channels)this.channels[t].onHasSubscribersChange=a.onHasSubscribersChange};a.onHasSubscribersChange=function(){1===this.numHandlers&&1===i()?r(s._status,s._error,"Battery","start",[]):0===i()&&r(null,null,"Battery","stop",[])},a.prototype._status=function(t){if(t){var e=s,n=t.level;e._level===n&&e._isPlugged===t.isPlugged||(o.fireWindowEvent("batterystatus",t),20!==n&&5!==n||(20===n?o.fireWindowEvent("batterylow",t):o.fireWindowEvent("batterycritical",t))),e._level=n,e._isPlugged=t.isPlugged}},a.prototype._error=function(t){console.log("Error initializing Battery: "+t)};var s=new a;n.exports=s}),define("cordova/plugin/capture",function(t,e,n){function i(t,e,n,i){var o=function(t){var n,i=[];for(n=0;n<t.length;n++){var o=new a;o.name=t[n].name,o.fullPath=t[n].fullPath,o.type=t[n].type,o.lastModifiedDate=t[n].lastModifiedDate,o.size=t[n].size,i.push(o)}e(i)};r(o,n,"Capture",t,[i])}function o(){this.supportedAudioModes=[],this.supportedImageModes=[],this.supportedVideoModes=[]}var r=t("cordova/exec"),a=t("cordova/plugin/MediaFile");o.prototype.captureAudio=function(t,e,n){i("captureAudio",t,e,n)},o.prototype.captureImage=function(t,e,n){i("captureImage",t,e,n)},o.prototype.captureVideo=function(t,e,n){i("captureVideo",t,e,n)},n.exports=new o}),define("cordova/plugin/compass",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/utils"),a=t("cordova/plugin/CompassHeading"),s=t("cordova/plugin/CompassError"),l={},c={getCurrentHeading:function(t,e,n){i.checkArgs("fFO","compass.getCurrentHeading",arguments);var r=function(e){var n=new a(e.magneticHeading,e.trueHeading,e.headingAccuracy,e.timestamp);t(n)},l=e&&function(t){var n=new s(t);e(n)};o(r,l,"Compass","getHeading",[n])},watchHeading:function(t,e,n){i.checkArgs("fFO","compass.watchHeading",arguments);var o=void 0!==n&&void 0!==n.frequency?n.frequency:100,a=void 0!==n&&void 0!==n.filter?n.filter:0,s=r.createUUID();return a>0?(l[s]="iOS",c.getCurrentHeading(t,e,n)):l[s]=window.setInterval(function(){c.getCurrentHeading(t,e)},o),s},clearWatch:function(t){t&&l[t]&&("iOS"!=l[t]?clearInterval(l[t]):o(null,null,"Compass","stopHeading",[]),delete l[t])}};n.exports=c}),define("cordova/plugin/console-via-logger",function(t,e,n){function i(){}function o(t,e){return function(){var n=[].slice.call(arguments);try{t.apply(l,n)}catch(i){}try{e.apply(s,n)}catch(i){}}}var r=t("cordova/plugin/logger"),a=t("cordova/utils"),s=n.exports,l=window.console,c=!1,u={};s.useLogger=function(t){if(arguments.length&&(c=!!t),c&&r.useConsole())throw new Error("console and logger are too intertwingly");return c},s.log=function(){r.useConsole()||r.log.apply(r,[].slice.call(arguments))},s.error=function(){r.useConsole()||r.error.apply(r,[].slice.call(arguments))},s.warn=function(){r.useConsole()||r.warn.apply(r,[].slice.call(arguments))},s.info=function(){r.useConsole()||r.info.apply(r,[].slice.call(arguments))},s.debug=function(){r.useConsole()||r.debug.apply(r,[].slice.call(arguments))},s.assert=function(t){if(!t){var e=a.vformat(arguments[1],[].slice.call(arguments,2));s.log("ASSERT: "+e)}},s.clear=function(){},s.dir=function(t){s.log("%o",t)},s.dirxml=function(t){s.log(t.innerHTML)},s.trace=i,s.group=s.log,s.groupCollapsed=s.log,s.groupEnd=i,s.time=function(t){u[t]=(new Date).valueOf()},s.timeEnd=function(t){var e=u[t];if(!e)return void s.warn("unknown timer: "+t);var n=(new Date).valueOf()-e;s.log(t+": "+n+"ms")},s.timeStamp=i,s.profile=i,s.profileEnd=i,s.count=i,s.exception=s.log,s.table=function(t,e){s.log("%o",t)};for(var h in s)"function"==typeof l[h]&&(s[h]=o(l[h],s[h]))}),define("cordova/plugin/contacts",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/exec"),r=t("cordova/plugin/ContactError"),a=(t("cordova/utils"),t("cordova/plugin/Contact")),s={find:function(t,e,n,a){if(i.checkArgs("afFO","contacts.find",arguments),t.length){var l=function(t){for(var n=[],i=0,o=t.length;i<o;i++)n.push(s.create(t[i]));e(n)};o(l,n,"Contacts","search",[t,a])}else n&&n(new r(r.INVALID_ARGUMENT_ERROR))},create:function(t){i.checkArgs("O","contacts.create",arguments);var e=new a;for(var n in t)"undefined"!=typeof e[n]&&t.hasOwnProperty(n)&&(e[n]=t[n]);return e}};n.exports=s}),define("cordova/plugin/device",function(t,e,n){function i(){this.available=!1,this.platform=null,this.version=null,this.name=null,this.uuid=null,this.cordova=null,this.model=null;var t=this;r.onCordovaReady.subscribe(function(){t.getInfo(function(e){t.available=!0,t.platform=e.platform,t.version=e.version,t.name=e.name,t.uuid=e.uuid,t.cordova=e.cordova,t.model=e.model,r.onCordovaInfoReady.fire()},function(e){t.available=!1,a.alert("[ERROR] Error initializing Cordova: "+e)})})}var o=t("cordova/argscheck"),r=t("cordova/channel"),a=t("cordova/utils"),s=t("cordova/exec");r.waitForInitialization("onCordovaInfoReady"),i.prototype.getInfo=function(t,e){o.checkArgs("fF","Device.getInfo",arguments),s(t,e,"Device","getDeviceInfo",[])},n.exports=new i}),define("cordova/plugin/echo",function(t,e,n){var i=t("cordova/exec");n.exports=function(t,e,n,o){var r=o?"echoAsync":"echo";o||n.constructor!=ArrayBuffer||(r="echoArrayBuffer"),i(t,e,"Echo",r,[n])}}),define("cordova/plugin/file/symbols",function(t,e,n){var i=t("cordova/modulemapper"),o=t("cordova/plugin/file/symbolshelper");o(i.clobbers)}),define("cordova/plugin/file/symbolshelper",function(t,e,n){n.exports=function(t){t("cordova/plugin/DirectoryEntry","DirectoryEntry"),t("cordova/plugin/DirectoryReader","DirectoryReader"),t("cordova/plugin/Entry","Entry"),t("cordova/plugin/File","File"),t("cordova/plugin/FileEntry","FileEntry"),t("cordova/plugin/FileError","FileError"),t("cordova/plugin/FileReader","FileReader"),t("cordova/plugin/FileSystem","FileSystem"),t("cordova/plugin/FileTransfer","FileTransfer"),t("cordova/plugin/FileTransferError","FileTransferError"),t("cordova/plugin/FileUploadOptions","FileUploadOptions"),t("cordova/plugin/FileUploadResult","FileUploadResult"),t("cordova/plugin/FileWriter","FileWriter"),t("cordova/plugin/Flags","Flags"),t("cordova/plugin/LocalFileSystem","LocalFileSystem"),t("cordova/plugin/Metadata","Metadata"),t("cordova/plugin/requestFileSystem","requestFileSystem"),t("cordova/plugin/resolveLocalFileSystemURI","resolveLocalFileSystemURI")}}),define("cordova/plugin/geolocation",function(t,e,n){function i(t){var e={maximumAge:0,enableHighAccuracy:!1,timeout:1/0};return t&&(void 0!==t.maximumAge&&!isNaN(t.maximumAge)&&t.maximumAge>0&&(e.maximumAge=t.maximumAge),void 0!==t.enableHighAccuracy&&(e.enableHighAccuracy=t.enableHighAccuracy),void 0===t.timeout||isNaN(t.timeout)||(t.timeout<0?e.timeout=0:e.timeout=t.timeout)),e}function o(t,e){var n=setTimeout(function(){clearTimeout(n),n=null,t({code:l.TIMEOUT,message:"Position retrieval timed out."})},e);return n}var r=t("cordova/argscheck"),a=t("cordova/utils"),s=t("cordova/exec"),l=t("cordova/plugin/PositionError"),c=t("cordova/plugin/Position"),u={},h={lastPosition:null,getCurrentPosition:function(t,e,n){r.checkArgs("fFO","geolocation.getCurrentPosition",arguments),n=i(n);var a={timer:null},u=function(e){if(clearTimeout(a.timer),a.timer){var n=new c({latitude:e.latitude,longitude:e.longitude,altitude:e.altitude,accuracy:e.accuracy,heading:e.heading,velocity:e.velocity,altitudeAccuracy:e.altitudeAccuracy},void 0===e.timestamp?new Date:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp));h.lastPosition=n,t(n)}},d=function(t){clearTimeout(a.timer),a.timer=null;var n=new l(t.code,t.message);e&&e(n)};return h.lastPosition&&n.maximumAge&&(new Date).getTime()-h.lastPosition.timestamp.getTime()<=n.maximumAge?t(h.lastPosition):0===n.timeout?d({code:l.TIMEOUT,message:"timeout value in PositionOptions set to 0 and no cached Position object available, or cached Position object's age exceeds provided PositionOptions' maximumAge parameter."}):(n.timeout!==1/0?a.timer=o(d,n.timeout):a.timer=!0,s(u,d,"Geolocation","getLocation",[n.enableHighAccuracy,n.maximumAge])),a},watchPosition:function(t,e,n){r.checkArgs("fFO","geolocation.getCurrentPosition",arguments),n=i(n);var d=a.createUUID();u[d]=h.getCurrentPosition(t,e,n);var p=function(t){clearTimeout(u[d].timer);var n=new l(t.code,t.message);e&&e(n)},f=function(e){clearTimeout(u[d].timer),n.timeout!==1/0&&(u[d].timer=o(p,n.timeout));var i=new c({latitude:e.latitude,longitude:e.longitude,altitude:e.altitude,accuracy:e.accuracy,heading:e.heading,velocity:e.velocity,altitudeAccuracy:e.altitudeAccuracy},void 0===e.timestamp?new Date:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp));h.lastPosition=i,t(i)};return s(f,p,"Geolocation","addWatch",[d,n.enableHighAccuracy]),d},clearWatch:function(t){t&&void 0!==u[t]&&(clearTimeout(u[t].timer),u[t].timer=!1,s(null,null,"Geolocation","clearWatch",[t]))}};n.exports=h}),define("cordova/plugin/globalization",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/exec"),r=(t("cordova/plugin/GlobalizationError"),{getPreferredLanguage:function(t,e){i.checkArgs("fF","Globalization.getPreferredLanguage",arguments),o(t,e,"Globalization","getPreferredLanguage",[])},getLocaleName:function(t,e){i.checkArgs("fF","Globalization.getLocaleName",arguments),o(t,e,"Globalization","getLocaleName",[])},dateToString:function(t,e,n,r){i.checkArgs("dfFO","Globalization.dateToString",arguments);var a=t.valueOf();o(e,n,"Globalization","dateToString",[{date:a,options:r}])},stringToDate:function(t,e,n,r){i.checkArgs("sfFO","Globalization.stringToDate",arguments),o(e,n,"Globalization","stringToDate",[{dateString:t,options:r}])},getDatePattern:function(t,e,n){i.checkArgs("fFO","Globalization.getDatePattern",arguments),o(t,e,"Globalization","getDatePattern",[{options:n}])},getDateNames:function(t,e,n){i.checkArgs("fFO","Globalization.getDateNames",arguments),o(t,e,"Globalization","getDateNames",[{options:n}])},isDayLightSavingsTime:function(t,e,n){i.checkArgs("dfF","Globalization.isDayLightSavingsTime",arguments);var r=t.valueOf();o(e,n,"Globalization","isDayLightSavingsTime",[{date:r}])},getFirstDayOfWeek:function(t,e){i.checkArgs("fF","Globalization.getFirstDayOfWeek",arguments),o(t,e,"Globalization","getFirstDayOfWeek",[])},numberToString:function(t,e,n,r){i.checkArgs("nfFO","Globalization.numberToString",arguments),o(e,n,"Globalization","numberToString",[{number:t,options:r}])},stringToNumber:function(t,e,n,r){i.checkArgs("sfFO","Globalization.stringToNumber",arguments),o(e,n,"Globalization","stringToNumber",[{numberString:t,options:r}])},getNumberPattern:function(t,e,n){i.checkArgs("fFO","Globalization.getNumberPattern",arguments),o(t,e,"Globalization","getNumberPattern",[{options:n}])},getCurrencyPattern:function(t,e,n){i.checkArgs("sfF","Globalization.getCurrencyPattern",arguments),o(e,n,"Globalization","getCurrencyPattern",[{currencyCode:t}])}});n.exports=r}),define("cordova/plugin/logger",function(t,e,n){function i(t,e){e=[t].concat([].slice.call(e)),r.logLevel.apply(r,e)}for(var o,r=e,a=t("cordova/exec"),s=t("cordova/utils"),l=!0,c=[],u=!1,h=["LOG","ERROR","WARN","INFO","DEBUG"],d={},p=0;p<h.length;p++){var f=h[p];d[f]=p,r[f]=f}o=d.WARN,r.level=function(t){if(arguments.length){if(null===d[t])throw new Error("invalid logging level: "+t);
o=d[t]}return h[o]},r.useConsole=function(t){if(arguments.length&&(l=!!t),l){if("undefined"==typeof console)throw new Error("global console object is not defined");if("function"!=typeof console.log)throw new Error("global console object does not have a log function");if("function"==typeof console.useLogger&&console.useLogger())throw new Error("console and logger are too intertwingly")}return l},r.log=function(t){i("LOG",arguments)},r.error=function(t){i("ERROR",arguments)},r.warn=function(t){i("WARN",arguments)},r.info=function(t){i("INFO",arguments)},r.debug=function(t){i("DEBUG",arguments)},r.logLevel=function(t,e){var n=[].slice.call(arguments,2);if(e=s.vformat(e,n),null===d[t])throw new Error("invalid logging level: "+t);if(!(d[t]>o)){if(!u&&!l)return void c.push([t,e]);if(!l)return void a(null,null,"Logger","logLevel",[t,e]);if(console.__usingCordovaLogger)throw new Error("console and logger are too intertwingly");switch(t){case r.LOG:console.log(e);break;case r.ERROR:console.log("ERROR: "+e);break;case r.WARN:console.log("WARN: "+e);break;case r.INFO:console.log("INFO: "+e);break;case r.DEBUG:console.log("DEBUG: "+e)}}},r.__onDeviceReady=function(){if(!u){u=!0;for(var t=0;t<c.length;t++){var e=c[t];r.logLevel(e[0],e[1])}c=null}},document.addEventListener("deviceready",r.__onDeviceReady,!1)}),define("cordova/plugin/network",function(t,e,n){function i(){this.type="unknown"}var o=t("cordova/exec"),r=t("cordova"),a=t("cordova/channel"),s=t("cordova/utils");"undefined"!=typeof navigator&&s.defineGetter(navigator,"onLine",function(){return"none"!=this.connection.type}),i.prototype.getInfo=function(t,e){o(t,e,"NetworkStatus","getConnectionInfo",[])};var l=new i,c=null,u=500;a.onCordovaReady.subscribe(function(){l.getInfo(function(t){l.type=t,"none"===t?c=setTimeout(function(){r.fireDocumentEvent("offline"),c=null},u):(null!==c&&(clearTimeout(c),c=null),r.fireDocumentEvent("online")),2!==a.onCordovaConnectionReady.state&&a.onCordovaConnectionReady.fire()},function(t){2!==a.onCordovaConnectionReady.state&&a.onCordovaConnectionReady.fire(),console.log("Error initializing Network Connection: "+t)})}),n.exports=l}),define("cordova/plugin/notification",function(t,e,n){var i=t("cordova/exec");n.exports={alert:function(t,e,n,o){var r=n||"Alert",a=o||"OK";i(e,null,"Notification","alert",[t,r,a])},confirm:function(t,e,n,o){var r=n||"Confirm",a=o||"OK,Cancel";i(e,null,"Notification","confirm",[t,r,a])},vibrate:function(t){i(null,null,"Notification","vibrate",[t])},beep:function(t){i(null,null,"Notification","beep",[t])}}}),define("cordova/plugin/requestFileSystem",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/plugin/FileError"),r=t("cordova/plugin/FileSystem"),a=t("cordova/exec"),s=function(t,e,n,s){i.checkArgs("nnFF","requestFileSystem",arguments);var l=function(t){s&&s(new o(t))};if(t<0||t>3)l(o.SYNTAX_ERR);else{var c=function(t){if(t){if(n){var e=new r(t.name,t.root);n(e)}}else l(o.NOT_FOUND_ERR)};a(c,l,"File","requestFileSystem",[t,e])}};n.exports=s}),define("cordova/plugin/resolveLocalFileSystemURI",function(t,e,n){var i=t("cordova/argscheck"),o=t("cordova/plugin/DirectoryEntry"),r=t("cordova/plugin/FileEntry"),a=t("cordova/plugin/FileError"),s=t("cordova/exec");n.exports=function(t,e,n){i.checkArgs("sFF","resolveLocalFileSystemURI",arguments);var l=function(t){n&&n(new a(t))};if(!t||t.split(":").length>2)return void setTimeout(function(){l(a.ENCODING_ERR)},0);var c=function(t){var n;t?e&&(n=t.isDirectory?new o(t.name,t.fullPath):new r(t.name,t.fullPath),e(n)):l(a.NOT_FOUND_ERR)};s(c,l,"File","resolveLocalFileSystemURI",[t])}}),define("cordova/plugin/splashscreen",function(t,e,n){var i=t("cordova/exec"),o={show:function(){i(null,null,"SplashScreen","show",[])},hide:function(){i(null,null,"SplashScreen","hide",[])}};n.exports=o}),define("cordova/utils",function(t,e,n){function i(t){for(var e="",n=0;n<t;n++){var i=parseInt(256*Math.random(),10).toString(16);1==i.length&&(i="0"+i),e+=i}return e}function o(t,e){try{switch(e){case"j":case"o":return JSON.stringify(t);case"c":return""}}catch(n){return"error JSON.stringify()ing argument: "+n}return null===t||void 0===t?Object.prototype.toString.call(t):t.toString()}var r=e;r.defineGetterSetter=function(t,e,n,i){if(Object.defineProperty){var o={get:n,configurable:!0};i&&(o.set=i),Object.defineProperty(t,e,o)}else t.__defineGetter__(e,n),i&&t.__defineSetter__(e,i)},r.defineGetter=r.defineGetterSetter,r.arrayIndexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=t.length,i=0;i<n;++i)if(t[i]==e)return i;return-1},r.arrayRemove=function(t,e){var n=r.arrayIndexOf(t,e);return n!=-1&&t.splice(n,1),n!=-1},r.typeName=function(t){return Object.prototype.toString.call(t).slice(8,-1)},r.isArray=function(t){return"Array"==r.typeName(t)},r.isDate=function(t){return"Date"==r.typeName(t)},r.clone=function(t){if(!t||"function"==typeof t||r.isDate(t)||"object"!=typeof t)return t;var e,n;if(r.isArray(t)){for(e=[],n=0;n<t.length;++n)e.push(r.clone(t[n]));return e}e={};for(n in t)n in e&&e[n]==t[n]||(e[n]=r.clone(t[n]));return e},r.close=function(t,e,n){return"undefined"==typeof n?function(){return e.apply(t,arguments)}:function(){return e.apply(t,n)}},r.createUUID=function(){return i(4)+"-"+i(2)+"-"+i(2)+"-"+i(2)+"-"+i(6)},r.extend=function(){var t=function(){};return function(e,n){t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e.prototype.constructor=e}}(),r.alert=function(t){window.alert?window.alert(t):console&&console.log&&console.log(t)},r.format=function(t){var e=[].slice.call(arguments,1);return r.vformat(t,e)},r.vformat=function(t,e){if(null===t||void 0===t)return"";if(1==arguments.length)return t.toString();if("string"!=typeof t)return t.toString();for(var n=/(.*?)%(.)(.*)/,i=t,r=[];e.length;){var a=e.shift(),s=n.exec(i);if(!s)break;i=s[3],r.push(s[1]),"%"!=s[2]?r.push(o(a,s[2])):(r.push("%"),e.unshift(a))}return r.push(i),r.join("")}}),window.cordova=require("cordova"),function(t){if(t.navigator){var e=function(){};e.prototype=t.navigator,t.navigator=new e}var n=require("cordova/channel"),i={boot:function(){n.join(function(){var e=require("cordova/builder"),i=require("cordova/common"),o=require("cordova/platform");e.buildIntoButDoNotClobber(i.defaults,t),e.buildIntoAndClobber(i.clobbers,t),e.buildIntoAndMerge(i.merges,t),e.buildIntoButDoNotClobber(o.defaults,t),e.buildIntoAndClobber(o.clobbers,t),e.buildIntoAndMerge(o.merges,t),o.initialize(),n.onCordovaReady.fire(),n.join(function(){require("cordova").fireDocumentEvent("deviceready")},n.deviceReadyChannelsArray)},[n.onDOMContentLoaded,n.onNativeReady])}};n.onNativeReady.subscribe(i.boot),window._nativeReady&&n.onNativeReady.fire()}(window)}();var PhoneGap=cordova}Xut.Plugin.ReadAssetsFile={readAssetsFileAction:function(t,e,n){return GLOBALIFRAME?CLIENTCONFIGT?GLOBALCONTEXT.Xut.Plugin.ReadAssetsFile.readAssetsFileAction(t,e,n):GLOBALCONTEXT.ReadAssetsFile.readAssetsFileAction(t,e,n):cordova.exec(e,n,"ReadAssetsFile","readAssetsFileAction",[t])}},Xut.Plugin.XXTEbookInit={update:function(t,e,n){return cordova.exec(e,n,"XxtebookInit","update",[t])},startup:function(t,e,n){return GLOBALIFRAME?e():cordova.exec(e,n,"XxtebookInit","startup",[t])},getInfo:function(t,e,n){return cordova.exec(e,n,"XxtebookInit","getInfo",[t])},getChapter:function(t,e,n){return cordova.exec(e,n,"XxtebookInit","getChapter",[t])},getPercent:function(t,e){return cordova.exec(t,e,"XxtebookInit","getPercent",[])}},Xut.Plugin.WebView={open:function(t,e,n,i,o,r){return GLOBALIFRAME?GLOBALCONTEXT.WebView.open(t,e,n,i,o,r):cordova.exec(null,null,"WebView","open",[t,e,n,i,o,r])},close:function(){return GLOBALIFRAME?GLOBALCONTEXT.WebView.close():cordova.exec(null,null,"WebView","close",[])},flag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.WebView.flag(t):cordova.exec(t,null,"WebView","flag",[])}},Xut.Plugin.VideoPlayer={play:function(t,e,n,i,o,r,a,s){if(GLOBALIFRAME)return GLOBALCONTEXT.VideoPlayer.play(t,e,n,0,o,r,a,s);if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){var l={paramA:n,paramB:i,paramC:o,paramD:r,paramE:a,paramF:s};return cordova.exec(t,e,"VideoPlayer","play",[l])}var c=new Array;return c[0]=n,c[1]=i,c[2]=o,c[3]=r,c[4]=a,c[5]=s,cordova.exec(t,e,"VideoPlayer","play",c)},close:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.close(t):cordova.exec(t,null,"VideoPlayer","close",[])},flag:function(t){return GLOBALIFRAME?GLOBALIFRAME.VideoPlayer.flag(t):cordova.exec(t,null,"VideoPlayer","flag",[])},errorFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.errorFlag(t):cordova.exec(t,null,"VideoPlayer","errorFlag",[])},pauseFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.pauseFlag(t):cordova.exec(t,null,"VideoPlayer","pauseFlag",[])},windowFlag:function(t){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.windowFlag(t):cordova.exec(t,null,"VideoPlayer","windowFlag",[])},init:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.VideoPlayer.init(t,e,n):cordova.exec(t,null,"VideoPlayer","init",[e,n])}},Xut.Plugin.OpenApp={openAppAction:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.OpenApp.openAppAction(t,e,n):cordova.exec(e,n,"OpenApp","openAppAction",[t])}},Xut.Plugin.Tablet={paintPath:function(t,e){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.paintPath(t,e):cordova.exec(t,e,"Tablet","paintPath",[])},openAction:function(t,e,n,i,o,r,a,s,l,c){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.openAction(t,e,n,i,o,r,a,s,l,c):cordova.exec(l,c,"Tablet","openAction",[t,e,n,i,o,r,a,s])},closeAction:function(t,e){return GLOBALIFRAME?GLOBALCONTEXT.Tablet.closeAction(t,e):cordova.exec(t,e,"Tablet","closeAction",[])}},Xut.Plugin.statusbarPlugin={setStatus:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.XXT.plugins.statusbarPlugin.setStatus(t,e,n):cordova.exec(t,e,"statusbarSet","set",[n])}},Xut.Plugin.iapPlugin={restore:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.restore(t,e,n):cordova.exec(t,e,"IAPPlguin","restoreGood",[n])},buyGood:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.buyGood(t,e,n):cordova.exec(t,e,"IAPPlguin","buyIAP",[n])},selectInfo:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.iapPlugin.selectInfo(t,e,n):cordova.exec(t,e,"IAPPlguin","selectInfo",[n])}},Xut.Plugin.appStoreLinkPlugin={callProductView:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.appStoreLinkPlugin.callProductView(t,e,n):cordova.exec(t,e,"AppStoreLink","callProductView",[n])}},Xut.Plugin.DownloadPlugin={download:function(t,e,n){return cordova.exec(t,e,"DownloadPlugin","download",[n])},pause:function(t,e,n){return cordova.exec(t,e,"DownloadPlugin","pause",[n])},downloadContinue:function(t,e,n){return cordova.exec(t,e,"DownloadPlugin","downloadContinue",[n])},back:function(t,e){return cordova.exec(t,e,"DownloadPlugin","back",[])}},Xut.Plugin.bookManagerPlugins={getAppOpenWay:function(t,e){return cordova.exec(t,e,"XxtebookManager","getAppOpenWay",[])},pause:function(t,e){return cordova.exec(t,e,"XxtebookManager","pause",[])}},Xut.Plugin.UnzipPlugin={storageAction:function(t,e,n){return cordova.exec(e,n,"UnzipPlugin","storageAction",[t])}},Xut.Plugin.ReadPlugin={loadAction:function(t,e,n,i){return cordova.exec(n,i,"ReadPlugin","loadAction",[t,e])}},Xut.Plugin.DeletePlugin={deleteAction:function(t,e,n){return GLOBALIFRAME?GLOBALCONTEXT.DeletePlugin.deleteAction(directory,t,e):cordova.exec(t,e,"DeletePlugin","deleteAction",[n])}};var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(t,e,n){var i,o,r,a,s,l,c,u,h,d={css:{}},p={css:{}},f={css:{}},v={css:{}},g=_gsScope._gsDefine.globals,m={},y=document,_=y.documentElement||{},b=function(t){return y.createElementNS?y.createElementNS("http://www.w3.org/1999/xhtml",t):y.createElement(t)},x=b("div"),w=[],k=function(){return!1},T=180/Math.PI,C=999999999999999,S=Date.now||function(){return(new Date).getTime()},P=!(y.addEventListener||!y.all),E=y.createElement("div"),I=[],A={},O=0,M=/^(?:a|input|textarea|button|select)$/i,N=0,j=navigator.userAgent.toLowerCase().indexOf("android")!==-1,R=0,D={},F={},L=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var n,i=[],o=t.length;for(n=0;n!==o;i.push(t[n++]));return i},X=function(t){var e,n={};for(e in t)n[e]=t[e];return n},B=function(){for(var t=I.length;--t>-1;)I[t]()},H=function(t){I.push(t),1===I.length&&e.ticker.addEventListener("tick",B,this,!1,1)},$=function(t){for(var n=I.length;--n>-1;)I[n]===t&&I.splice(n,1);e.to(z,0,{overwrite:"all",delay:15,onComplete:z})},z=function(){I.length||e.ticker.removeEventListener("tick",B)},G=function(t,e){var n;for(n in e)void 0===t[n]&&(t[n]=e[n]);return t},W=function(){return null!=window.pageYOffset?window.pageYOffset:null!=y.scrollTop?y.scrollTop:_.scrollTop||y.body.scrollTop||0},Y=function(){return null!=window.pageXOffset?window.pageXOffset:null!=y.scrollLeft?y.scrollLeft:_.scrollLeft||y.body.scrollLeft||0},U=function(t,e){jt(t,"scroll",e),q(t.parentNode)||U(t.parentNode,e)},V=function(t,e){Rt(t,"scroll",e),q(t.parentNode)||V(t.parentNode,e)},q=function(t){return!(t&&t!==_&&t!==y&&t!==y.body&&t!==window&&t.nodeType&&t.parentNode)},K=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n,o="client"+n,r=y.body;return Math.max(0,q(t)?Math.max(_[i],r[i])-(window["inner"+n]||_[o]||r[o]):t[i]-t[o])},J=function(t){var e=q(t),n=K(t,"x"),i=K(t,"y");e?t=F:J(t.parentNode),t._gsMaxScrollX=n,t._gsMaxScrollY=i,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},Z=function(t,e){return t=t||window.event,m.pageX=t.clientX+y.body.scrollLeft+_.scrollLeft,m.pageY=t.clientY+y.body.scrollTop+_.scrollTop,e&&(t.returnValue=!1),m},Q=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},tt=function(t,e){var n,o,r,a=t.style;if(void 0===a[e]){for(r=["O","Moz","ms","Ms","Webkit"],o=5,n=e.charAt(0).toUpperCase()+e.substr(1);--o>-1&&void 0===a[r[o]+n];);if(o<0)return"";i=3===o?"ms":r[o],e=i+n}return e},et=function(t,e,n){var i=t.style;i&&(void 0===i[e]&&(e=tt(t,e)),null==n?i.removeProperty?i.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):i.removeAttribute(e):void 0!==i[e]&&(i[e]=n))},nt=y.defaultView?y.defaultView.getComputedStyle:k,it=/(?:Left|Right|Width)/i,ot=/(?:\d|\-|\+|=|#|\.)*/g,rt=function(t,e,n,i,o){if("px"===i||!i)return n;if("auto"===i||!n)return 0;var r,a=it.test(e),s=t,l=x.style,c=n<0;return c&&(n=-n),"%"===i&&e.indexOf("border")!==-1?r=n/100*(a?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+st(t,"position",!0)+";line-height:0;","%"!==i&&s.appendChild?l[a?"borderLeftWidth":"borderTopWidth"]=n+i:(s=t.parentNode||y.body,l[a?"width":"height"]=n+i),s.appendChild(x),r=parseFloat(x[a?"offsetWidth":"offsetHeight"]),s.removeChild(x),0!==r||o||(r=rt(t,e,n,i,!0))),c?-r:r},at=function(t,e){if("absolute"!==st(t,"position",!0))return 0;var n="left"===e?"Left":"Top",i=st(t,"margin"+n,!0);return t["offset"+n]-(rt(t,e,parseFloat(i),(i+"").replace(ot,""))||0)},st=function(t,e,n){var i,o=(t._gsTransform||{})[e];return o||0===o?o:(t.style[e]?o=t.style[e]:(i=nt(t))?(o=i.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),o=o||i.length?o:i[e]):t.currentStyle&&(o=t.currentStyle[e]),"auto"!==o||"top"!==e&&"left"!==e||(o=at(t,e)),n?o:parseFloat(o)||0)},lt=function(t,e,n){var i=t.vars,o=i[n],r=t._listeners[e];"function"==typeof o&&o.apply(i[n+"Scope"]||i.callbackScope||t,i[n+"Params"]||[t.pointerEvent]),r&&t.dispatchEvent(e)},ct=function(t,e){var n,i,o,r=Q(t);return r?It(r,e):void 0!==t.left?(o=kt(e),{left:t.left-o.x,top:t.top-o.y,width:t.width,height:t.height}):(i=t.min||t.minX||t.minRotation||0,n=t.min||t.minY||0,{left:i,top:n,width:(t.max||t.maxX||t.maxRotation||0)-i,height:(t.max||t.maxY||0)-n})},ut=function(){if(!y.createElementNS)return a=0,void(s=!1);var t,e,n,i,o=b("div"),r=y.createElementNS("http://www.w3.org/2000/svg","svg"),h=b("div"),d=o.style,p=y.body||_;y.body&&pt&&(d.position="absolute",p.appendChild(h),h.appendChild(o),i=o.offsetParent,h.style[pt]="rotate(1deg)",u=o.offsetParent===i,h.style.position="absolute",d.height="10px",i=o.offsetTop,h.style.border="5px solid red",c=i!==o.offsetTop,p.removeChild(h)),d=r.style,r.setAttributeNS(null,"width","400px"),r.setAttributeNS(null,"height","400px"),r.setAttributeNS(null,"viewBox","0 0 400 400"),d.display="block",d.boxSizing="border-box",d.border="0px solid red",d.transform="none",o.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",p.appendChild(o),o.appendChild(r),n=r.createSVGPoint().matrixTransform(r.getScreenCTM()),e=n.y,o.scrollTop=100,n.x=n.y=0,n=n.matrixTransform(r.getScreenCTM()),l=e-n.y<100.1?0:e-n.y-150,o.removeChild(r),p.removeChild(o),p.appendChild(r),t=r.getScreenCTM(),e=t.e,d.border="50px solid red",t=r.getScreenCTM(),0===e&&0===t.e&&0===t.f&&1===t.a?(a=1,s=!0):(a=e!==t.e?1:0,s=1!==t.a),p.removeChild(r)},ht=""!==tt(x,"perspective"),dt=tt(x,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),pt=tt(x,"transform"),ft=pt.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),vt={},gt={},mt=window.SVGElement,yt=function(t){return!!(mt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},_t=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,bt=[],xt=[],wt=function(t){if(!t.getBoundingClientRect||!t.parentNode||!pt)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:_};if(Gt.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var n,i,o,r,c,u,h,d,p,f,v,g,m=t,b=Tt(t);if(b.lastUpdate=e.ticker.frame,t.getBBox&&!b.isSVGRoot){for(m=t.parentNode,n=t.getBBox();m&&"svg"!==(m.nodeName+"").toLowerCase();)m=m.parentNode;return r=wt(m),b.offsetTop=n.y*r.scaleY,b.offsetLeft=n.x*r.scaleX,b.scaleX=r.scaleX,b.scaleY=r.scaleY,b.offsetParent=m||_,b}for(o=b.offsetParent,o===y.body&&(o=_),xt.length=bt.length=0;m&&(c=st(m,pt,!0),"matrix(1, 0, 0, 1, 0, 0)"!==c&&"none"!==c&&"translate3d(0px, 0px, 0px)"!==c&&(xt.push(m),bt.push(m.style[pt]),m.style[pt]="none"),m!==o);)m=m.parentNode;for(i=o.getBoundingClientRect(),c=t.getScreenCTM(),d=t.createSVGPoint(),h=d.matrixTransform(c),d.x=d.y=10,d=d.matrixTransform(c),b.scaleX=(d.x-h.x)/10,b.scaleY=(d.y-h.y)/10,void 0===a&&ut(),b.borderBox&&!s&&t.getAttribute("width")&&(r=nt(t)||{},p=parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth)||0,f=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)||0,v=parseFloat(r.width)||0,g=parseFloat(r.height)||0,b.scaleX*=(v-p)/v,b.scaleY*=(g-f)/g),l?(n=t.getBoundingClientRect(),b.offsetLeft=n.left-i.left,b.offsetTop=n.top-i.top):(b.offsetLeft=h.x-i.left,b.offsetTop=h.y-i.top),b.offsetParent=o,u=xt.length;--u>-1;)xt[u].style[pt]=bt[u];return b},kt=function(t,n){if(n=n||{},!t||t===_||!t.parentNode||t===window)return{x:0,y:0};var i=nt(t),o=dt&&i?i.getPropertyValue(dt):"50% 50%",r=o.split(" "),a=o.indexOf("left")!==-1?"0%":o.indexOf("right")!==-1?"100%":r[0],s=o.indexOf("top")!==-1?"0%":o.indexOf("bottom")!==-1?"100%":r[1];return"center"!==s&&null!=s||(s="50%"),("center"===a||isNaN(parseFloat(a)))&&(a="50%"),t.getBBox&&yt(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),o=t.getBBox(),n.x=t._gsTransform.xOrigin-o.x,n.y=t._gsTransform.yOrigin-o.y):(t.getBBox&&(a+s).indexOf("%")!==-1&&(t=t.getBBox(),t={offsetWidth:t.width,offsetHeight:t.height}),n.x=a.indexOf("%")!==-1?t.offsetWidth*parseFloat(a)/100:parseFloat(a),n.y=s.indexOf("%")!==-1?t.offsetHeight*parseFloat(s)/100:parseFloat(s)),n},Tt=function(t){if(Gt.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var n,i=t._gsCache=t._gsCache||{},o=nt(t),r=t.getBBox&&yt(t),a="svg"===(t.nodeName+"").toLowerCase();if(i.isSVG=r,i.isSVGRoot=a,i.borderBox="border-box"===o.boxSizing,i.computedStyle=o,a)n=t.parentNode||_,n.insertBefore(x,t),i.offsetParent=x.offsetParent||_,n.removeChild(x);else if(r){for(n=t.parentNode;n&&"svg"!==(n.nodeName+"").toLowerCase();)n=n.parentNode;i.offsetParent=n}else i.offsetParent=t.offsetParent;return i},Ct=function(t,e,n,i){if(t===window||!t||!t.style||!t.parentNode)return[1,0,0,1,0,0];var o,r,s,l,h,d,p,f,v,g,m,b,x,w,k=t._gsCache||Tt(t),T=t.parentNode,C=T._gsCache||Tt(T),S=k.computedStyle,P=k.isSVG?C.offsetParent:T.offsetParent;return o=k.isSVG&&(t.style[pt]+"").indexOf("matrix")!==-1?t.style[pt]:S?S.getPropertyValue(ft):t.currentStyle?t.currentStyle[pt]:"1,0,0,1,0,0",t.getBBox&&(t.getAttribute("transform")+"").indexOf("matrix")!==-1&&(o=t.getAttribute("transform")),o=(o+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],o.length>6&&(o=[o[0],o[1],o[4],o[5],o[12],o[13]]),i?o[4]=o[5]=0:k.isSVG&&(h=t._gsTransform)&&(h.xOrigin||h.yOrigin)&&(o[0]=parseFloat(o[0]),o[1]=parseFloat(o[1]),o[2]=parseFloat(o[2]),o[3]=parseFloat(o[3]),o[4]=parseFloat(o[4])-(h.xOrigin-(h.xOrigin*o[0]+h.yOrigin*o[2])),o[5]=parseFloat(o[5])-(h.yOrigin-(h.xOrigin*o[1]+h.yOrigin*o[3]))),e&&(void 0===a&&ut(),s=k.isSVG||k.isSVGRoot?wt(t):t,k.isSVG?(l=t.getBBox(),g=C.isSVGRoot?{x:0,y:0}:T.getBBox(),s={offsetLeft:l.x-g.x,offsetTop:l.y-g.y,offsetParent:k.offsetParent}):k.isSVGRoot?(m=parseInt(S.borderTopWidth,10)||0,b=parseInt(S.borderLeftWidth,10)||0,x=(o[0]-a)*b+o[2]*m,w=o[1]*b+(o[3]-a)*m,d=e.x,p=e.y,f=d-(d*o[0]+p*o[2]),v=p-(d*o[1]+p*o[3]),o[4]=parseFloat(o[4])+f,o[5]=parseFloat(o[5])+v,e.x-=f,e.y-=v,d=s.scaleX,p=s.scaleY,e.x*=d,e.y*=p,o[0]*=d,o[1]*=p,o[2]*=d,o[3]*=p,_t||(e.x+=x,e.y+=w)):!c&&t.offsetParent&&(e.x+=parseInt(st(t.offsetParent,"borderLeftWidth"),10)||0,e.y+=parseInt(st(t.offsetParent,"borderTopWidth"),10)||0),r=T===_||T===y.body,o[4]=Number(o[4])+e.x+(s.offsetLeft||0)-n.x-(r?0:T.scrollLeft||0),o[5]=Number(o[5])+e.y+(s.offsetTop||0)-n.y-(r?0:T.scrollTop||0),T&&"fixed"===st(t,"position",S)&&(o[4]+=Y(),o[5]+=W()),!T||T===_||P!==s.offsetParent||C.isSVG||u&&"100100"!==Ct(T).join("")||(s=C.isSVGRoot?wt(T):T,o[4]-=s.offsetLeft||0,o[5]-=s.offsetTop||0,c||!C.offsetParent||k.isSVG||k.isSVGRoot||(o[4]-=parseInt(st(C.offsetParent,"borderLeftWidth"),10)||0,o[5]-=parseInt(st(C.offsetParent,"borderTopWidth"),10)||0))),o},St=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var n,i,o,r,a,s,l,c,u=kt(t,vt),h=kt(t.parentNode,gt),d=Ct(t,u,h);(t=t.parentNode)&&t.parentNode&&t!==_;)u=h,h=kt(t.parentNode,u===vt?gt:vt),l=Ct(t,u,h),n=d[0],i=d[1],o=d[2],r=d[3],a=d[4],s=d[5],d[0]=n*l[0]+i*l[2],d[1]=n*l[1]+i*l[3],d[2]=o*l[0]+r*l[2],d[3]=o*l[1]+r*l[3],d[4]=a*l[0]+s*l[2]+l[4],d[5]=a*l[1]+s*l[3]+l[5];return e&&(n=d[0],i=d[1],o=d[2],r=d[3],a=d[4],s=d[5],c=n*r-i*o,d[0]=r/c,d[1]=-i/c,d[2]=-o/c,d[3]=n/c,d[4]=(o*s-r*a)/c,d[5]=-(n*s-i*a)/c),d},Pt=function(t,e,n,i,o){t=Q(t);var r=St(t,!1,o),a=e.x,s=e.y;return n&&(kt(t,e),a-=e.x,s-=e.y),i=i===!0?e:i||{},i.x=a*r[0]+s*r[2]+r[4],i.y=a*r[1]+s*r[3]+r[5],i},Et=function(t,e,n){var i=t.x*e[0]+t.y*e[2]+e[4],o=t.x*e[1]+t.y*e[3]+e[5];return t.x=i*n[0]+o*n[2]+n[4],t.y=i*n[1]+o*n[3]+n[5],t},It=function(t,e,n){if(!(t=Q(t)))return null;e=Q(e);var i,o,r,a,s,l,c,u,h,d,p,f,v,g,m,b,x,w,k,T,C,S,E=t.getBBox&&yt(t);if(t===window)a=W(),o=Y(),r=o+(_.clientWidth||t.innerWidth||y.body.clientWidth||0),s=a+((t.innerHeight||0)-20<_.clientHeight?_.clientHeight:t.innerHeight||y.body.clientHeight||0);else{if(void 0===e||e===window)return t.getBoundingClientRect();i=kt(t),o=-i.x,a=-i.y,E?(f=t.getBBox(),v=f.width,g=f.height):"svg"!==(t.nodeName+"").toLowerCase()&&t.offsetWidth?(v=t.offsetWidth,g=t.offsetHeight):(C=nt(t),v=parseFloat(C.width),g=parseFloat(C.height)),r=o+v,s=a+g,"svg"!==t.nodeName.toLowerCase()||P||(m=wt(t),S=m.computedStyle||{},w=(t.getAttribute("viewBox")||"0 0").split(" "),k=parseFloat(w[0]),T=parseFloat(w[1]),b=parseFloat(S.borderLeftWidth)||0,x=parseFloat(S.borderTopWidth)||0,r-=v-(v-b)/m.scaleX-k,s-=g-(g-x)/m.scaleY-T,o-=b/m.scaleX-k,a-=x/m.scaleY-T,C&&(r+=(parseFloat(S.borderRightWidth)+b)/m.scaleX,s+=(x+parseFloat(S.borderBottomWidth))/m.scaleY))}return t===e?{left:o,top:a,width:r-o,height:s-a}:(l=St(t),c=St(e,!0),u=Et({x:o,y:a},l,c),h=Et({x:r,y:a},l,c),d=Et({x:r,y:s},l,c),p=Et({x:o,y:s},l,c),o=Math.min(u.x,h.x,d.x,p.x),a=Math.min(u.y,h.y,d.y,p.y),D.x=D.y=0,n&&kt(e,D),{left:o+D.x,top:a+D.y,width:Math.max(u.x,h.x,d.x,p.x)-o,height:Math.max(u.y,h.y,d.y,p.y)-a})},At=function(t){return!!(t&&t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},Ot=function(t){var e,n,i,o=[],r=t.length;for(e=0;e<r;e++)if(n=t[e],At(n))for(i=n.length,i=0;i<n.length;i++)o.push(n[i]);else n&&0!==n.length&&o.push(n);return o},Mt="ontouchstart"in _&&"orientation"in window,Nt=function(t){for(var e=t.split(","),n=(void 0!==x.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==x.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),i={},o=8;--o>-1;)i[e[o]]=n[o],i[n[o]]=e[o];return i}("touchstart,touchmove,touchend,touchcancel"),jt=function(t,e,n,i){t.addEventListener?t.addEventListener(Nt[e]||e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},Rt=function(t,e,n){t.removeEventListener?t.removeEventListener(Nt[e]||e,n):t.detachEvent&&t.detachEvent("on"+e,n)},Dt=function(t,e){for(var n=t.length;--n>-1;)if(t[n].identifier===e)return!0;return!1},Ft=function(t){o=t.touches&&N<t.touches.length,Rt(t.target,"touchend",Ft)},Lt=function(t){o=t.touches&&N<t.touches.length,jt(t.target,"touchend",Ft)},Xt=function(t,e,n,i,o,r){var a,s,l,c={};if(e)if(1!==o&&e instanceof Array){for(c.end=a=[],l=e.length,s=0;s<l;s++)a[s]=e[s]*o;n+=1.1,i-=1.1}else"function"==typeof e?c.end=function(n){return e.call(t,n)*o}:c.end=e;return(n||0===n)&&(c.max=n),(i||0===i)&&(c.min=i),r&&(c.velocity=0),c},Bt=function(t){var e;return!(!t||!t.getAttribute||"BODY"===t.nodeName)&&(!("true"!==(e=t.getAttribute("data-clickable"))&&("false"===e||!t.onclick&&!M.test(t.nodeName+"")&&"true"!==t.getAttribute("contentEditable")))||Bt(t.parentNode))},Ht=function(t,e){for(var n,i=t.length;--i>-1;)n=t[i],n.ondragstart=n.onselectstart=e?null:k,et(n,"userSelect",e?"text":"none")},$t=function(){var t,e=y.createElement("div"),n=y.createElement("div"),i=n.style,o=y.body||x;return i.display="inline-block",i.position="relative",e.style.cssText=n.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(n),o.appendChild(e),h=n.offsetHeight+18>e.scrollHeight,i.width="100%",pt||(i.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,i.left="-90px",t=t!==e.scrollLeft),o.removeChild(e),t}(),zt=function(t,n){t=Q(t),n=n||{};var i,o,r,a,s,l,c=y.createElement("div"),u=c.style,d=t.firstChild,p=0,f=0,v=t.scrollTop,g=t.scrollLeft,m=t.scrollWidth,_=t.scrollHeight,b=0,x=0,w=0;ht&&n.force3D!==!1?(s="translate3d(",l="px,0px)"):pt&&(s="translate(",l="px)"),this.scrollTop=function(t,e){return arguments.length?void this.top(-t,e):-this.top()},this.scrollLeft=function(t,e){return arguments.length?void this.left(-t,e):-this.left()},this.left=function(i,o){if(!arguments.length)return-(t.scrollLeft+f);var r=t.scrollLeft-g,a=f;return(r>2||r<-2)&&!o?(g=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-g),void(n.onKill&&n.onKill())):(i=-i,i<0?(f=i-.5|0,i=0):i>x?(f=i-x|0,i=x):f=0,(f||a)&&(s?this._suspendTransforms||(u[pt]=s+-f+"px,"+-p+l):u.left=-f+"px",$t&&f+b>=0&&(u.paddingRight=f+b+"px")),t.scrollLeft=0|i,void(g=t.scrollLeft))},this.top=function(i,o){if(!arguments.length)return-(t.scrollTop+p);var r=t.scrollTop-v,a=p;return(r>2||r<-2)&&!o?(v=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-v),void(n.onKill&&n.onKill())):(i=-i,i<0?(p=i-.5|0,i=0):i>w?(p=i-w|0,i=w):p=0,(p||a)&&(s?this._suspendTransforms||(u[pt]=s+-f+"px,"+-p+l):u.top=-p+"px"),t.scrollTop=0|i,void(v=t.scrollTop))},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return x},this.disable=function(){for(d=c.firstChild;d;)a=d.nextSibling,t.appendChild(d),d=a;t===c.parentNode&&t.removeChild(c)},this.enable=function(){if(d=t.firstChild,d!==c){for(;d;)a=d.nextSibling,c.appendChild(d),d=a;t.appendChild(c),this.calibrate()}},this.calibrate=function(e){var n,a,s=t.clientWidth===i;v=t.scrollTop,g=t.scrollLeft,s&&t.clientHeight===o&&c.offsetHeight===r&&m===t.scrollWidth&&_===t.scrollHeight&&!e||((p||f)&&(n=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),s&&!e||(u.display="block",u.width="auto",u.paddingRight="0px",b=Math.max(0,t.scrollWidth-t.clientWidth),b&&(b+=st(t,"paddingLeft")+(h?st(t,"paddingRight"):0))),u.display="inline-block",u.position="relative",u.overflow="visible",u.verticalAlign="top",u.width="100%",u.paddingRight=b+"px",h&&(u.paddingBottom=st(t,"paddingBottom",!0)),P&&(u.zoom="1"),i=t.clientWidth,o=t.clientHeight,m=t.scrollWidth,_=t.scrollHeight,x=t.scrollWidth-i,w=t.scrollHeight-o,r=c.offsetHeight,u.display="block",(n||a)&&(this.left(n),this.top(a)))},this.content=c,this.element=t,this._suspendTransforms=!1,this.enable()},Gt=function(i,a){t.call(this,i),i=Q(i),r||(r=g.com.greensock.plugins.ThrowPropsPlugin),this.vars=a=X(a||{}),this.target=i,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(a.dragResistance)||0,this.edgeResistance=isNaN(a.edgeResistance)?1:parseFloat(a.edgeResistance)||0,this.lockAxis=a.lockAxis,this.autoScroll=a.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!a.allowEventDefault;var s,l,c,u,h,m,b,x,k,I,M,D,B,z,W,Y,K,tt,nt,it,ot,rt,at,ut,ht,dt,pt,ft,vt,gt,mt,yt,_t,bt=(a.type||(P?"top,left":"x,y")).toLowerCase(),xt=bt.indexOf("x")!==-1||bt.indexOf("y")!==-1,wt=bt.indexOf("rotation")!==-1,kt=wt?"rotation":xt?"x":"left",Tt=xt?"y":"top",Ct=bt.indexOf("x")!==-1||bt.indexOf("left")!==-1||"scroll"===bt,Et=bt.indexOf("y")!==-1||bt.indexOf("top")!==-1||"scroll"===bt,It=a.minimumMovement||2,At=this,Ot=L(a.trigger||a.handle||i),Ft={},$t=0,Wt=!1,Yt=a.clickableTest||Bt,Ut=0,qt=function(t){if(At.autoScroll&&At.isDragging&&(Wt||tt)){var e,n,o,r,a,s,c,u,h=i,d=15*At.autoScroll;for(Wt=!1,F.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_.scrollTop?_.scrollTop:y.body.scrollTop,F.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_.scrollLeft?_.scrollLeft:y.body.scrollLeft,r=At.pointerX-F.scrollLeft,a=At.pointerY-F.scrollTop;h&&!n;)n=q(h.parentNode),e=n?F:h.parentNode,o=n?{bottom:Math.max(_.clientHeight,window.innerHeight||0),right:Math.max(_.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),s=c=0,Et&&(u=e._gsMaxScrollY-e.scrollTop,u<0?c=u:a>o.bottom-40&&u?(Wt=!0,c=Math.min(u,d*(1-Math.max(0,o.bottom-a)/40)|0)):a<o.top+40&&e.scrollTop&&(Wt=!0,c=-Math.min(e.scrollTop,d*(1-Math.max(0,a-o.top)/40)|0)),c&&(e.scrollTop+=c)),Ct&&(u=e._gsMaxScrollX-e.scrollLeft,u<0?s=u:r>o.right-40&&u?(Wt=!0,s=Math.min(u,d*(1-Math.max(0,o.right-r)/40)|0)):r<o.left+40&&e.scrollLeft&&(Wt=!0,s=-Math.min(e.scrollLeft,d*(1-Math.max(0,r-o.left)/40)|0)),s&&(e.scrollLeft+=s)),n&&(s||c)&&(window.scrollTo(e.scrollLeft,e.scrollTop),le(At.pointerX+s,At.pointerY+c)),h=e}if(tt){var p=At.x,f=At.y,v=1e-6;p<v&&p>-v&&(p=0),f<v&&f>-v&&(f=0),wt?(ft.data.rotation=At.rotation=p,ft.setRatio(1)):l?(Et&&l.top(f),Ct&&l.left(p)):xt?(Et&&(ft.data.y=f),Ct&&(ft.data.x=p),ft.setRatio(1)):(Et&&(i.style.top=f+"px"),Ct&&(i.style.left=p+"px")),!x||t||mt||(mt=!0,lt(At,"drag","onDrag"),mt=!1)}tt=!1},Kt=function(t,n){var o;At.x,At.y;i._gsTransform||!xt&&!wt||e.set(i,{x:"+=0",overwrite:!1}),xt?(At.y=i._gsTransform.y,At.x=i._gsTransform.x):wt?At.x=At.rotation=i._gsTransform.rotation:l?(At.y=l.top(),At.x=l.left()):(At.y=parseInt(i.style.top,10)||0,At.x=parseInt(i.style.left,10)||0),!it&&!ot||n||(it&&(o=it(At.x),o!==At.x&&(At.x=o,wt&&(At.rotation=o),tt=!0)),ot&&(o=ot(At.y),o!==At.y&&(At.y=o),tt=!0)),tt&&qt(!0),t||lt(At,"throwupdate","onThrowUpdate")},Jt=function(){var t,e,n,o;b=!1,l?(l.calibrate(),At.minX=I=-l.maxScrollLeft(),At.minY=D=-l.maxScrollTop(),
At.maxX=k=At.maxY=M=0,b=!0):a.bounds&&(t=ct(a.bounds,i.parentNode),wt?(At.minX=I=t.left,At.maxX=k=t.left+t.width,At.minY=D=At.maxY=M=0):void 0!==a.bounds.maxX||void 0!==a.bounds.maxY?(t=a.bounds,At.minX=I=t.minX,At.minY=D=t.minY,At.maxX=k=t.maxX,At.maxY=M=t.maxY):(e=ct(i,i.parentNode),At.minX=I=st(i,kt)+t.left-e.left,At.minY=D=st(i,Tt)+t.top-e.top,At.maxX=k=I+(t.width-e.width),At.maxY=M=D+(t.height-e.height)),I>k&&(At.minX=k,At.maxX=k=I,I=At.minX),D>M&&(At.minY=M,At.maxY=M=D,D=At.minY),wt&&(At.minRotation=I,At.maxRotation=k),b=!0),a.liveSnap&&(n=a.liveSnap===!0?a.snap||{}:a.liveSnap,o=n instanceof Array||"function"==typeof n,wt?(it=re(o?n:n.rotation,I,k,1),ot=null):(Ct&&(it=re(o?n:n.x||n.left||n.scrollLeft,I,k,l?-1:1)),Et&&(ot=re(o?n:n.y||n.top||n.scrollTop,D,M,l?-1:1))))},Zt=function(){At.isThrowing=!1,lt(At,"throwcomplete","onThrowComplete")},Qt=function(){At.isThrowing=!1},te=function(t,e){var n,o,s,c;t&&r?(t===!0&&(n=a.snap||{},o=n instanceof Array||"function"==typeof n,t={resistance:(a.throwResistance||a.resistance||1e3)/(wt?10:1)},wt?t.rotation=Xt(At,o?n:n.rotation,k,I,1,e):(Ct&&(t[kt]=Xt(At,o?n:n.x||n.left||n.scrollLeft,k,I,l?-1:1,e||"x"===At.lockedAxis)),Et&&(t[Tt]=Xt(At,o?n:n.y||n.top||n.scrollTop,M,D,l?-1:1,e||"y"===At.lockedAxis)))),At.isThrowing=!0,c=isNaN(a.overshootTolerance)?1===a.edgeResistance?0:1-At.edgeResistance+.2:a.overshootTolerance,At.tween=s=r.to(l||i,{throwProps:t,ease:a.ease||g.Power3.easeOut,onComplete:Zt,onOverwrite:Qt,onUpdate:a.fastMode?lt:Kt,onUpdateParams:a.fastMode?[At,"onthrowupdate","onThrowUpdate"]:w},isNaN(a.maxDuration)?2:a.maxDuration,isNaN(a.minDuration)?0===c?0:.5:a.minDuration,c),a.fastMode||(l&&(l._suspendTransforms=!0),s.render(s.duration(),!0,!0),Kt(!0,!0),At.endX=At.x,At.endY=At.y,wt&&(At.endRotation=At.x),s.play(0),Kt(!0,!0),l&&(l._suspendTransforms=!1))):b&&At.applyBounds()},ee=function(t){var e,n,o,r,a,s,l,h,d,p=ut||[1,0,0,1,0,0];ut=St(i.parentNode,!0),t&&At.isPressed&&p.join(",")!==ut.join(",")&&(e=p[0],n=p[1],o=p[2],r=p[3],a=p[4],s=p[5],l=e*r-n*o,h=c*(r/l)+u*(-o/l)+(o*s-r*a)/l,d=c*(-n/l)+u*(e/l)+-(e*s-n*a)/l,u=h*ut[1]+d*ut[3]+ut[5],c=h*ut[0]+d*ut[2]+ut[4]),ut[1]||ut[2]||1!=ut[0]||1!=ut[3]||0!=ut[4]||0!=ut[5]||(ut=null)},ne=function(){var t=1-At.edgeResistance;ee(!1),ut&&(c=At.pointerX*ut[0]+At.pointerY*ut[2]+ut[4],u=At.pointerX*ut[1]+At.pointerY*ut[3]+ut[5]),tt&&(le(At.pointerX,At.pointerY),qt(!0)),l?(Jt(),m=l.top(),h=l.left()):(ie()?(Kt(!0,!0),Jt()):At.applyBounds(),wt?(K=Pt(i,{x:0,y:0}),Kt(!0,!0),h=At.x,m=At.y=Math.atan2(K.y-At.pointerY,At.pointerX-K.x)*T):(dt=i.parentNode?i.parentNode.scrollTop||0:0,pt=i.parentNode?i.parentNode.scrollLeft||0:0,m=st(i,Tt),h=st(i,kt))),b&&t&&(h>k?h=k+(h-k)/t:h<I&&(h=I-(I-h)/t),wt||(m>M?m=M+(m-M)/t:m<D&&(m=D-(D-m)/t)))},ie=function(){return At.tween&&At.tween.isActive()},oe=function(){!E.parentNode||ie()||At.isDragging||E.parentNode.removeChild(E)},re=function(t,e,n,i){return"function"==typeof t?function(o){var r=At.isPressed?1-At.edgeResistance:1;return t.call(At,o>n?n+(o-n)*r:o<e?e+(o-e)*r:o)*i}:t instanceof Array?function(i){for(var o,r,a=t.length,s=0,l=C;--a>-1;)o=t[a],r=o-i,r<0&&(r=-r),r<l&&o>=e&&o<=n&&(s=a,l=r);return t[s]}:isNaN(t)?function(t){return t}:function(){return t*i}},ae=function(t){var n;if(!(!s||At.isPressed||!t||("mousedown"===t.type||"pointerdown"===t.type)&&S()-Ut<30&&Nt[At.pointerEvent.type])){if(ht=ie(),At.pointerEvent=t,Nt[t.type]?(at=t.type.indexOf("touch")!==-1?t.currentTarget||t.target:y,jt(at,"touchend",ce),jt(at,"touchmove",se),jt(at,"touchcancel",ce),jt(y,"touchstart",Lt)):(at=null,jt(y,"mousemove",se)),gt=null,jt(y,"mouseup",ce),t&&t.target&&jt(t.target,"mouseup",ce),rt=Yt.call(At,t.target)&&!a.dragClickables)return jt(t.target,"change",ce),lt(At,"press","onPress"),void Ht(Ot,!0);if(vt=!(!at||Ct===Et||l||At.vars.allowNativeTouchScrolling===!1)&&(Ct?"y":"x"),P?t=Z(t,!0):vt||At.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=W=t.changedTouches[0],Y=t.identifier):t.pointerId?Y=t.pointerId:W=Y=null,N++,H(qt),u=At.pointerY=t.pageY,c=At.pointerX=t.pageX,(vt||At.autoScroll)&&J(i.parentNode),i.parentNode&&(l||At.autoScroll&&!wt&&i.parentNode._gsMaxScrollX&&!E.parentNode)&&!i.getBBox&&(E.style.width=i.parentNode.scrollWidth+"px",i.parentNode.appendChild(E)),ne(),At.tween&&At.tween.kill(),At.isThrowing=!1,e.killTweensOf(l||i,!0,Ft),l&&e.killTweensOf(i,!0,{scrollTo:1}),At.tween=At.lockedAxis=null,(a.zIndexBoost||!wt&&!l&&a.zIndexBoost!==!1)&&(i.style.zIndex=Gt.zIndex++),At.isPressed=!0,x=!(!a.onDrag&&!At._listeners.drag),!wt)for(n=Ot.length;--n>-1;)et(Ot[n],"cursor",a.cursor||"move");lt(At,"press","onPress")}},se=function(t){var e,n,i,r,a=t;if(s&&!o&&At.isPressed&&t){if(At.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==W&&t.identifier!==Y){for(r=e.length;--r>-1&&(t=e[r]).identifier!==Y;);if(r<0)return}}else if(t.pointerId&&Y&&t.pointerId!==Y)return;if(P)t=Z(t,!0);else{if(at&&vt&&!gt&&(n=t.pageX,i=t.pageY,ut&&(r=n*ut[0]+i*ut[2]+ut[4],i=n*ut[1]+i*ut[3]+ut[5],n=r),gt=Math.abs(n-c)>Math.abs(i-u)&&Ct?"x":"y",At.vars.lockAxisOnTouchScroll!==!1&&(At.lockedAxis="x"===gt?"y":"x","function"==typeof At.vars.onLockAxis&&At.vars.onLockAxis.call(At,a)),j&&vt===gt))return void ce(a);At.allowEventDefault||vt&&(!gt||vt===gt)||a.cancelable===!1||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}At.autoScroll&&(Wt=!0),le(t.pageX,t.pageY)}},le=function(t,e){var n,i,o,r,a,s,l=1-At.dragResistance,d=1-At.edgeResistance;At.pointerX=t,At.pointerY=e,wt?(r=Math.atan2(K.y-e,t-K.x)*T,a=At.y-r,At.y=r,a>180?m-=360:a<-180&&(m+=360),o=h+(m-r)*l):(ut&&(s=t*ut[0]+e*ut[2]+ut[4],e=t*ut[1]+e*ut[3]+ut[5],t=s),i=e-u,n=t-c,i<It&&i>-It&&(i=0),n<It&&n>-It&&(n=0),(At.lockAxis||At.lockedAxis)&&(n||i)&&(s=At.lockedAxis,s||(At.lockedAxis=s=Ct&&Math.abs(n)>Math.abs(i)?"y":Et?"x":null,s&&"function"==typeof At.vars.onLockAxis&&At.vars.onLockAxis.call(At,At.pointerEvent)),"y"===s?i=0:"x"===s&&(n=0)),o=h+n*l,r=m+i*l),it||ot?(it&&(o=it(o)),ot&&(r=ot(r))):b&&(o>k?o=k+(o-k)*d:o<I&&(o=I+(o-I)*d),wt||(r>M?r=M+(r-M)*d:r<D&&(r=D+(r-D)*d))),wt||(o=Math.round(o),r=Math.round(r)),(At.x!==o||At.y!==r&&!wt)&&(wt?At.endRotation=At.x=At.endX=o:(Et&&(At.y=At.endY=r),Ct&&(At.x=At.endX=o)),tt=!0,!At.isDragging&&At.isPressed&&(At.isDragging=!0,lt(At,"dragstart","onDragStart")))},ce=function(t,n){if(s&&At.isPressed&&(!t||null==Y||n||!(t.pointerId&&t.pointerId!==Y||t.changedTouches&&!Dt(t.changedTouches,Y)))){At.isPressed=!1;var o,r,l,c,u,h=t,d=At.isDragging,p=e.delayedCall(.001,oe);if(at?(Rt(at,"touchend",ce),Rt(at,"touchmove",se),Rt(at,"touchcancel",ce),Rt(y,"touchstart",Lt)):Rt(y,"mousemove",se),Rt(y,"mouseup",ce),t&&t.target&&Rt(t.target,"mouseup",ce),tt=!1,rt)return t&&Rt(t.target,"change",ce),Ht(Ot,!1),lt(At,"release","onRelease"),lt(At,"click","onClick"),void(rt=!1);if($(qt),!wt)for(r=Ot.length;--r>-1;)et(Ot[r],"cursor",a.cursor||"move");if(d&&($t=R=S(),At.isDragging=!1),N--,t){if(P&&(t=Z(t,!1)),o=t.changedTouches,o&&(t=o[0],t!==W&&t.identifier!==Y)){for(r=o.length;--r>-1&&(t=o[r]).identifier!==Y;);if(r<0)return}At.pointerEvent=h,At.pointerX=t.pageX,At.pointerY=t.pageY}return h&&!d?(ht&&(a.snap||a.bounds)&&te(a.throwProps),lt(At,"release","onRelease"),j&&"touchmove"===h.type||(lt(At,"click","onClick"),c=h.target||h.srcElement||i,Ut=S(),u=function(){Ut!==yt&&At.enabled()&&!At.isPressed&&(c.click?c.click():y.createEvent&&(l=y.createEvent("MouseEvents"),l.initMouseEvent("click",!0,!0,window,1,At.pointerEvent.screenX,At.pointerEvent.screenY,At.pointerX,At.pointerY,!1,!1,!1,!1,0,null),c.dispatchEvent(l)))},j||e.delayedCall(1e-5,u))):(te(a.throwProps),P||At.allowEventDefault||!h||!a.dragClickables&&Yt.call(At,h.target)||!d||vt&&(!gt||vt!==gt)||h.cancelable===!1||(h.preventDefault(),h.preventManipulation&&h.preventManipulation()),lt(At,"release","onRelease")),ie()&&p.duration(At.tween.duration()),d&&lt(At,"dragend","onDragEnd"),!0}},ue=function(t){if(t&&At.isDragging){var e=t.target||t.srcElement||i.parentNode,n=e.scrollLeft-e._gsScrollX,o=e.scrollTop-e._gsScrollY;(n||o)&&(ut?(c-=n*ut[0]+o*ut[2],u-=o*ut[3]+n*ut[1]):(c-=n,u-=o),e._gsScrollX+=n,e._gsScrollY+=o,le(At.pointerX,At.pointerY))}},he=function(t){var e=S(),n=e-Ut<40,i=e-$t<40,o=n&&yt===Ut,r=!!t.preventDefault,a=n&&_t===Ut,s=t.isTrusted||null==t.isTrusted&&n&&o;return r&&(o||i&&At.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation(),!n||o&&s===a?void((At.isPressed||i||n)&&(r?s&&t.detail&&n||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()):t.returnValue=!1)):(s&&o&&(_t=Ut),void(yt=Ut))};nt=Gt.get(this.target),nt&&nt.kill(),this.startDrag=function(t){ae(t),At.isDragging||(At.isDragging=!0,lt(At,"dragstart","onDragStart"))},this.drag=se,this.endDrag=function(t){ce(t,!0)},this.timeSinceDrag=function(){return At.isDragging?0:(S()-$t)/1e3},this.hitTest=function(t,e){return Gt.hitTest(At.target,t,e)},this.getDirection=function(t,e){var n,i,o,a,s,l,c="velocity"===t&&r?t:"object"!=typeof t||wt?"start":"element";return"element"===c&&(s=Vt(At.target),l=Vt(t)),n="start"===c?At.x-h:"velocity"===c?r.getVelocity(this.target,kt):s.left+s.width/2-(l.left+l.width/2),wt?n<0?"counter-clockwise":"clockwise":(e=e||2,i="start"===c?At.y-m:"velocity"===c?r.getVelocity(this.target,Tt):s.top+s.height/2-(l.top+l.height/2),o=Math.abs(n/i),a=o<1/e?"":n<0?"left":"right",o<e&&(""!==a&&(a+="-"),a+=i<0?"up":"down"),a)},this.applyBounds=function(t){var e,n,o,r,s,l;if(t&&a.bounds!==t)return a.bounds=t,At.update(!0);if(Kt(!0),Jt(),b){if(e=At.x,n=At.y,e>k?e=k:e<I&&(e=I),n>M?n=M:n<D&&(n=D),(At.x!==e||At.y!==n)&&(o=!0,At.x=At.endX=e,wt?At.endRotation=e:At.y=At.endY=n,tt=!0,qt(!0),At.autoScroll&&!At.isDragging))for(J(i.parentNode),r=i,F.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_.scrollTop?_.scrollTop:y.body.scrollTop,F.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_.scrollLeft?_.scrollLeft:y.body.scrollLeft;r&&!l;)l=q(r.parentNode),s=l?F:r.parentNode,Et&&s.scrollTop>s._gsMaxScrollY&&(s.scrollTop=s._gsMaxScrollY),Ct&&s.scrollLeft>s._gsMaxScrollX&&(s.scrollLeft=s._gsMaxScrollX),r=s;At.isThrowing&&(o||At.endX>k||At.endX<I||At.endY>M||At.endY<D)&&te(a.throwProps,o)}return At},this.update=function(t,e,n){var o=At.x,r=At.y;return ee(!e),t?At.applyBounds():(tt&&n&&qt(!0),Kt(!0)),e&&(le(At.pointerX,At.pointerY),tt&&qt(!0)),At.isPressed&&!e&&(Ct&&Math.abs(o-At.x)>.01||Et&&Math.abs(r-At.y)>.01&&!wt)&&ne(),At.autoScroll&&(J(i.parentNode),Wt=At.isDragging,qt(!0)),At.autoScroll&&(V(i,ue),U(i,ue)),At},this.enable=function(t){var o,c,u;if("soft"!==t){for(c=Ot.length;--c>-1;)u=Ot[c],jt(u,"mousedown",ae),jt(u,"touchstart",ae),jt(u,"click",he,!0),wt||et(u,"cursor",a.cursor||"move"),et(u,"touchCallout","none"),et(u,"touchAction",Ct===Et||l?"none":Ct?"pan-y":"pan-x");Ht(Ot,!1)}return U(i,ue),s=!0,r&&"soft"!==t&&r.track(l||i,xt?"x,y":wt?"rotation":"top,left"),l&&l.enable(),i._gsDragID=o="d"+O++,A[o]=this,l&&(l.element._gsDragID=o),e.set(i,{x:"+=0",overwrite:!1}),ft={t:i,data:P?z:i._gsTransform,tween:{},setRatio:P?function(){e.set(i,B)}:n._internals.setTransformRatio||n._internals.set3DTransformRatio},ne(),At.update(!0),At},this.disable=function(t){var e,n,o=At.isDragging;if(!wt)for(e=Ot.length;--e>-1;)et(Ot[e],"cursor",null);if("soft"!==t){for(e=Ot.length;--e>-1;)n=Ot[e],et(n,"touchCallout",null),et(n,"touchAction",null),Rt(n,"mousedown",ae),Rt(n,"touchstart",ae),Rt(n,"click",he);Ht(Ot,!0),at&&(Rt(at,"touchcancel",ce),Rt(at,"touchend",ce),Rt(at,"touchmove",se)),Rt(y,"mouseup",ce),Rt(y,"mousemove",se)}return V(i,ue),s=!1,r&&"soft"!==t&&r.untrack(l||i,xt?"x,y":wt?"rotation":"top,left"),l&&l.disable(),$(qt),At.isDragging=At.isPressed=rt=!1,o&&lt(At,"dragend","onDragEnd"),At},this.enabled=function(t,e){return arguments.length?t?At.enable(e):At.disable(e):s},this.kill=function(){return At.isThrowing=!1,e.killTweensOf(l||i,!0,Ft),At.disable(),delete A[i._gsDragID],At},bt.indexOf("scroll")!==-1&&(l=this.scrollProxy=new zt(i,G({onKill:function(){At.isPressed&&ce(null)}},a)),i.style.overflowY=Et&&!Mt?"auto":"hidden",i.style.overflowX=Ct&&!Mt?"auto":"hidden",i=l.content),a.force3D!==!1&&e.set(i,{force3D:!0}),wt?Ft.rotation=1:(Ct&&(Ft[kt]=1),Et&&(Ft[Tt]=1)),wt?(B=v,z=B.css,B.overwrite=!1):xt&&(B=Ct&&Et?d:Ct?p:f,z=B.css,B.overwrite=!1),this.enable()},Wt=Gt.prototype=new t;Wt.constructor=Gt,Wt.pointerX=Wt.pointerY=0,Wt.isDragging=Wt.isPressed=!1,Gt.version="0.14.8",Gt.zIndex=1e3,jt(y,"touchcancel",function(){}),jt(y,"contextmenu",function(t){var e;for(e in A)A[e].isPressed&&A[e].endDrag()}),Gt.create=function(t,n){"string"==typeof t&&(t=e.selector(t));for(var i=t&&0!==t.length?At(t)?Ot(t):[t]:[],o=i.length;--o>-1;)i[o]=new Gt(i[o],n);return i},Gt.get=function(t){return A[(Q(t)||{})._gsDragID]},Gt.timeSinceDrag=function(){return(S()-R)/1e3};var Yt={},Ut=function(t){var e,n,i=0,o=0;for(t=Q(t),e=t.offsetWidth,n=t.offsetHeight;t;)i+=t.offsetTop,o+=t.offsetLeft,t=t.offsetParent;return{top:i,left:o,width:e,height:n}},Vt=function(t,e){if(t===window)return Yt.left=Yt.top=0,Yt.width=Yt.right=_.clientWidth||t.innerWidth||y.body.clientWidth||0,Yt.height=Yt.bottom=(t.innerHeight||0)-20<_.clientHeight?_.clientHeight:t.innerHeight||y.body.clientHeight||0,Yt;var n=t.pageX!==e?{left:t.pageX-Y(),top:t.pageY-W(),right:t.pageX-Y()+1,bottom:t.pageY-W()+1}:t.nodeType||t.left===e||t.top===e?P?Ut(t):Q(t).getBoundingClientRect():t;return n.right===e&&n.width!==e?(n.right=n.left+n.width,n.bottom=n.top+n.height):n.width===e&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n};return Gt.hitTest=function(t,e,n){if(t===e)return!1;var i,o,r,a=Vt(t),s=Vt(e),l=s.left>a.right||s.right<a.left||s.top>a.bottom||s.bottom<a.top;return l||!n?!l:(r=(n+"").indexOf("%")!==-1,n=parseFloat(n)||0,i={left:Math.max(a.left,s.left),top:Math.max(a.top,s.top)},i.width=Math.min(a.right,s.right)-i.left,i.height=Math.min(a.bottom,s.bottom)-i.top,!(i.width<0||i.height<0)&&(r?(n*=.01,o=i.width*i.height,o>=a.width*a.height*n||o>=s.width*s.height*n):i.width>n&&i.height>n))},E.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Gt},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite","CSSPlugin"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=e())}("Draggable");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},o=function(t,e,n){var i,o,r=t.cycle;for(i in r)o=r[i],t[i]="function"==typeof o?o(n,e[n]):o[n%o.length];delete t.cycle},r=function(t,e,i){n.call(this,t,e,i),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},a=1e-10,s=n._internals,l=s.isSelector,c=s.isArray,u=r.prototype=n.to({},.1,{}),h=[];r.version="1.19.0",u.constructor=r,u.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=n.killTweensOf,r.getTweensOf=n.getTweensOf,r.lagSmoothing=n.lagSmoothing,r.ticker=n.ticker,r.render=n.render,u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},u.updateTo=function(t,e){var i,o=this.ratio,r=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in t)this.vars[i]=t[i];if(this._initted||r)if(e)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||r)for(var s,l=1/(1-o),c=this._firstPT;c;)s=c.s+c.c,c.c*=l,c.s=s-c.c,c=c._next;return this},u.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,o,r,l,c,u,h,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,v=this._totalTime,g=this._cycle,m=this._duration,y=this._rawPrevTime;if(t>=p-1e-7?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===m&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||y===a&&"isPause"!==this.data)&&y!==t&&(n=!0,y>a&&(o="onReverseComplete")),this._rawPrevTime=d=!e||t||y===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===m&&y>0)&&(o="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=d=!e||t||y===t?t:a)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=m+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?this._time=m:this._time<0&&(this._time=0)),this._easeType?(c=this._time/m,u=this._easeType,h=this._easePower,(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===h?c*=c:2===h?c*=c*c:3===h?c*=c*c*c:4===h&&(c*=c*c*c*c),1===u?this.ratio=1-c:2===u?this.ratio=c:this._time/m<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/m)),f===this._time&&!n&&g===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=v,this._rawPrevTime=y,this._cycle=g,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/m):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==m||e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==v||o)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===m&&this._rawPrevTime===a&&d!==a&&(this._rawPrevTime=0)))},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new r(t,e,n)},r.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new r(t,e,i)},r.staggerTo=r.allTo=function(t,e,a,s,u,d,p){s=s||0;var f,v,g,m,y=0,_=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),u.apply(p||a.callbackScope||this,d||h)},x=a.cycle,w=a.startAt&&a.startAt.cycle;for(c(t)||("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t))),t=t||[],s<0&&(t=i(t),t.reverse(),s*=-1),f=t.length-1,g=0;g<=f;g++){v={};for(m in a)v[m]=a[m];if(x&&(o(v,t,g),null!=v.duration&&(e=v.duration,delete v.duration)),w){w=v.startAt={};for(m in a.startAt)w[m]=a.startAt[m];o(v.startAt,t,g)}v.delay=y+(v.delay||0),g===f&&u&&(v.onComplete=b),_[g]=new r(t[g],e,v),y+=s}return _},r.staggerFrom=r.allFrom=function(t,e,n,i,o,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,r.staggerTo(t,e,n,i,o,a,s)},r.staggerFromTo=r.allFromTo=function(t,e,n,i,o,a,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,r.staggerTo(t,e,i,o,a,s,l)},r.delayedCall=function(t,e,n,i,o){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:o,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var d=function(t,e){for(var i=[],o=0,r=t._first;r;)r instanceof n?i[o++]=r:(e&&(i[o++]=r),i=i.concat(d(r,e)),o=i.length),r=r._next;return i},p=r.getAllTweens=function(e){return d(t._rootTimeline,e).concat(d(t._rootFramesTimeline,e))};r.killAll=function(t,n,i,o){null==n&&(n=!0),null==i&&(i=!0);var r,a,s,l=p(0!=o),c=l.length,u=n&&i&&o;for(s=0;s<c;s++)a=l[s],(u||a instanceof e||(r=a.target===a.vars.onComplete)&&i||n&&!r)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var o,a,u,h,d,p=s.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t)),c(t))for(h=t.length;--h>-1;)r.killChildTweensOf(t[h],e);else{o=[];for(u in p)for(a=p[u].target.parentNode;a;)a===t&&(o=o.concat(p[u].tweens)),a=a.parentNode;for(d=o.length,h=0;h<d;h++)e&&o[h].totalTime(o[h].totalDuration()),o[h]._enabled(!1,!1)}}};var f=function(t,n,i,o){n=n!==!1,i=i!==!1,o=o!==!1;for(var r,a,s=p(o),l=n&&i&&o,c=s.length;--c>-1;)a=s[c],(l||a instanceof e||(r=a.target===a.vars.onComplete)&&i||n&&!r)&&a.paused(t)};return r.pauseAll=function(t,e,n){f(!0,t,e,n)},r.resumeAll=function(t,e,n){f(!1,t,e,n)},r.globalTimeScale=function(e){var i=t._rootTimeline,o=n.ticker.time;return arguments.length?(e=e||a,i._startTime=o-(o-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,o=n.ticker.frame,i._startTime=o-(o-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,o=this.vars;for(i in o)n=o[i],l(n)&&n.join("").indexOf("{self}")!==-1&&(o[i]=this._swapSelfInParams(n));l(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},o=1e-10,r=n._internals,a=i._internals={},s=r.isSelector,l=r.isArray,c=r.lazyTweens,u=r.lazyRender,h=_gsScope._gsDefine.globals,d=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=function(t,e,n){var i,o,r=t.cycle;for(i in r)o=r[i],t[i]="function"==typeof o?o.call(e[n],n):o[n%o.length];delete t.cycle},f=a.pauseCallback=function(){},v=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},g=i.prototype=new e;return i.version="1.19.0",g.constructor=i,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,i,o){var r=i.repeat&&h.TweenMax||n;return e?this.add(new r(t,e,i),o):this.set(t,i,o)},g.from=function(t,e,i,o){return this.add((i.repeat&&h.TweenMax||n).from(t,e,i),o)},g.fromTo=function(t,e,i,o,r){var a=o.repeat&&h.TweenMax||n;return e?this.add(a.fromTo(t,e,i,o),r):this.set(t,o,r)},g.staggerTo=function(t,e,o,r,a,l,c,u){var h,f,g=new i({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),m=o.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],s(t)&&(t=v(t)),r=r||0,r<0&&(t=v(t),t.reverse(),r*=-1),f=0;f<t.length;f++)h=d(o),h.startAt&&(h.startAt=d(h.startAt),h.startAt.cycle&&p(h.startAt,t,f)),m&&(p(h,t,f),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[f],e,h,f*r);return this.add(g,a)},g.staggerFrom=function(t,e,n,i,o,r,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,i,o,r,a,s)},g.staggerFromTo=function(t,e,n,i,o,r,a,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,i,o,r,a,s,l)},g.call=function(t,e,i,o){return this.add(n.delayedCall(0,t,e,i),o)},g.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new n(t,0,e),i)},i.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var o,r,a=new i(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,o=s._first;o;)r=o._next,e&&o instanceof n&&o.target===o.vars.onComplete||a.add(o,o._startTime-o._delay),o=r;return s.add(a,0),a},g.add=function(o,r,a,s){var c,u,h,d,p,f;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,o)),!(o instanceof t)){if(o instanceof Array||o&&o.push&&l(o)){for(a=a||"normal",s=s||0,c=r,u=o.length,h=0;h<u;h++)l(d=o[h])&&(d=new i({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?c=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),c+=s;return this._uncache(!0)}if("string"==typeof o)return this.addLabel(o,r);if("function"!=typeof o)throw"Cannot add "+o+" into the timeline; it is not a tween, timeline, function, or string.";o=n.delayedCall(0,o)}if(e.prototype.add.call(this,o,r),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>o._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,n){e.prototype._remove.call(this,t,n);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)},g.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,i,o){var r=n.delayedCall(0,f,i,o||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,n,i,o){var r;if(o instanceof t&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&l(o)))for(r=o.length;--r>-1;)o[r]instanceof t&&o[r].timeline===this&&this.remove(o[r]);if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,i);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(r=e.indexOf("="),r===-1)return null==this._labels[e]?i?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(r-1)+"1",10)*Number(e.substr(r+1)),e=r>1?this._parseTimeOrLabel(e.substr(0,r-1),0,i):this.duration()}return Number(e)+n},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,r,a,s,l,h,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,v=this._startTime,g=this._timeScale,m=this._paused;if(t>=p-1e-7)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(r=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(i=this._first;i&&i._startTime<=t&&!h;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(h=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!h;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(h=i),i=i._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||n||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),d=this._time,d>=f)for(i=this._first;i&&(a=i._next,d===this._time&&(!this._paused||m));)(i._active||i._startTime<=d&&!i._paused&&!i._gc)&&(h===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=a;else for(i=this._last;i&&(a=i._prev,d===this._time&&(!this._paused||m));){if(i._active||i._startTime<=f&&!i._paused&&!i._gc){if(h===i){for(h=i._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,n),h=h._prev;
h=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=a}this._onUpdate&&(e||(c.length&&u(),this._callback("onUpdate"))),s&&(this._gc||v!==this._startTime&&g===this._timeScale||(0===this._time||p>=this.totalDuration())&&(r&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof i&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,i,o){o=o||-9999999999;for(var r=[],a=this._first,s=0;a;)a._startTime<o||(a instanceof n?e!==!1&&(r[s++]=a):(i!==!1&&(r[s++]=a),t!==!1&&(r=r.concat(a.getChildren(!0,e,i)),s=r.length))),a=a._next;return r},g.getTweensOf=function(t,e){var i,o,r=this._gc,a=[],s=0;for(r&&this._enabled(!0,!0),i=n.getTweensOf(t),o=i.length;--o>-1;)(i[o].timeline===this||e&&this._contains(i[o]))&&(a[s++]=i[o]);return r&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,n){n=n||0;for(var i,o=this._first,r=this._labels;o;)o._startTime>=n&&(o._startTime+=t),o=o._next;if(e)for(i in r)r[i]>=n&&(r[i]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,o=!1;--i>-1;)n[i]._kill(t,e)&&(o=!0);return o},g.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,n){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,n)},g.totalTime=function(e,n,i){this._forcingPlayhead=!0;var o=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,o},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,i=0,o=this._last,r=999999999999;o;)e=o._prev,o._dirty&&o.totalDuration(),o._startTime>r&&this._sortChildren&&!o._paused?this.add(o,o._startTime-o._delay):r=o._startTime,o._startTime<0&&!o._paused&&(i-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale),this.shiftChildren(-o._startTime,!1,-9999999999),r=0),n=o._startTime+o._totalDuration/o._timeScale,n>i&&(i=n),o=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},i},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},o=1e-10,r=e._internals,a=r.lazyTweens,s=r.lazyRender,l=_gsScope._gsDefine.globals,c=new n(null,null,1,0),u=i.prototype=new t;return u.constructor=i,u.kill()._gc=!1,i.version="1.19.0",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,n,i,o){return this.add(e.delayedCall(0,t,i,o),n)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),i=n.length,o=this._parseTimeOrLabel(e);--i>-1;)n[i]._startTime===o&&n[i]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,n){n=n||{};var i,o,r,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&l.TweenMax||e;for(o in n)a[o]=n[o];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,r=new s(this,i,a),a.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&i===r.duration()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),n.onStart&&r._callback("onStart")},r},u.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var i=this.tweenTo(e,n);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,r,l,c,u,h,d,p,f=this._dirty?this.totalDuration():this._totalDuration,v=this._duration,g=this._time,m=this._totalTime,y=this._startTime,_=this._timeScale,b=this._rawPrevTime,x=this._paused,w=this._cycle;if(t>=f-1e-7)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===o)&&b!==t&&this._first&&(u=!0,b>o&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=v,t=v+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===v&&b!==o&&(b>0||t<0&&b>=0)&&!this._locked)&&(c="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=r=!0,c="onReverseComplete"):b>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=v||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;t=0,this._initted||(u=!0)}else if(0===v&&b<0&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?(this._time=v,t=v+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=g)for(i=this._first;i&&i._startTime<=t&&!d;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(d=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!d;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(d=i),i=i._prev;d&&(this._time=t=d._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var k=this._yoyo&&0!==(1&w),T=k===(this._yoyo&&0!==(1&this._cycle)),C=this._totalTime,S=this._cycle,P=this._rawPrevTime,E=this._time;if(this._totalTime=w*v,this._cycle<w?k=!k:this._totalTime+=v,this._time=g,this._rawPrevTime=0===v?b-1e-4:b,this._cycle=w,this._locked=!0,g=k?0:v,this.render(g,e,0===v),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),g!==this._time)return;if(T&&(g=k?v+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=E,this._totalTime=C,this._cycle=S,this._rawPrevTime=P}if(!(this._time!==g&&this._first||n||u||d))return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),p=this._time,p>=g)for(i=this._first;i&&(l=i._next,p===this._time&&(!this._paused||x));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(d===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=l;else for(i=this._last;i&&(l=i._prev,p===this._time&&(!this._paused||x));){if(i._active||i._startTime<=g&&!i._paused&&!i._gc){if(d===i){for(d=i._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(t-d._startTime)*d._timeScale:(t-d._startTime)*d._timeScale,e,n),d=d._prev;d=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=l}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),c&&(this._locked||this._gc||y!==this._startTime&&_===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))},u.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var i,o,r=[],a=this.getChildren(t,e,n),s=0,l=a.length;for(i=0;i<l;i++)o=a[i],o.isActive()&&(r[s++]=o);return r},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),i=n.length;for(e=0;e<i;e++)if(n[e].time>t)return n[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},u.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],n=[],i=[],o={},r=_gsScope._gsDefine.globals,a=function(t,e,n,i){n===i&&(n=i-(i-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=i,this.da=i-t,this.ca=n-t,this.ba=e-t},s=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,n,i){var o={a:t},r={},a={},s={c:i},l=(t+e)/2,c=(e+n)/2,u=(n+i)/2,h=(l+c)/2,d=(c+u)/2,p=(d-h)/8;return o.b=l+(t-l)/4,r.b=h+p,o.c=r.a=(o.b+r.b)/2,r.c=a.a=(h+d)/2,a.b=d-p,s.b=u+(i-u)/4,a.c=s.a=(a.b+s.b)/2,[o,r,a,s]},c=function(t,o,r,a,s){var c,u,h,d,p,f,v,g,m,y,_,b,x,w=t.length-1,k=0,T=t[0].a;for(c=0;c<w;c++)p=t[k],u=p.a,h=p.d,d=t[k+1].d,s?(_=e[c],b=n[c],x=(b+_)*o*.25/(a?.5:i[c]||.5),f=h-(h-u)*(a?.5*o:0!==_?x/_:0),v=h+(d-h)*(a?.5*o:0!==b?x/b:0),g=h-(f+((v-f)*(3*_/(_+b)+.5)/4||0))):(f=h-(h-u)*o*.5,v=h+(d-h)*o*.5,g=h-(f+v)/2),f+=g,v+=g,p.c=m=f,0!==c?p.b=T:p.b=T=p.a+.6*(p.c-p.a),p.da=h-u,p.ca=m-u,p.ba=T-u,r?(y=l(u,T,m,h),t.splice(k,1,y[0],y[1],y[2],y[3]),k+=4):k++,T=v;p=t[k],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,r&&(y=l(p.a,T,p.c,p.d),t.splice(k,1,y[0],y[1],y[2],y[3]))},u=function(t,i,o,r){var s,l,c,u,h,d,p=[];if(r)for(t=[r].concat(t),l=t.length;--l>-1;)"string"==typeof(d=t[l][i])&&"="===d.charAt(1)&&(t[l][i]=r[i]+Number(d.charAt(0)+d.substr(2)));if(s=t.length-2,s<0)return p[0]=new a(t[0][i],0,0,t[s<-1?0:1][i]),p;for(l=0;l<s;l++)c=t[l][i],u=t[l+1][i],p[l]=new a(c,0,0,u),o&&(h=t[l+2][i],e[l]=(e[l]||0)+(u-c)*(u-c),n[l]=(n[l]||0)+(h-u)*(h-u));return p[l]=new a(t[l][i],0,0,t[l+1][i]),p},h=function(t,r,a,l,h,d){var p,f,v,g,m,y,_,b,x={},w=[],k=d||t[0];h="string"==typeof h?","+h+",":s,null==r&&(r=1);for(f in t[0])w.push(f);if(t.length>1){for(b=t[t.length-1],_=!0,p=w.length;--p>-1;)if(f=w[p],Math.abs(k[f]-b[f])>.05){_=!1;break}_&&(t=t.concat(),d&&t.unshift(d),t.push(t[1]),d=t[t.length-3])}for(e.length=n.length=i.length=0,p=w.length;--p>-1;)f=w[p],o[f]=h.indexOf(","+f+",")!==-1,x[f]=u(t,f,o[f],d);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),n[p]=Math.sqrt(n[p]);if(!l){for(p=w.length;--p>-1;)if(o[f])for(v=x[w[p]],y=v.length-1,g=0;g<y;g++)m=v[g+1].da/n[g]+v[g].da/e[g]||0,i[g]=(i[g]||0)+m*m;for(p=i.length;--p>-1;)i[p]=Math.sqrt(i[p])}for(p=w.length,g=a?4:1;--p>-1;)f=w[p],v=x[f],c(v,r,a,l,o[f]),_&&(v.splice(0,g),v.splice(v.length-g,g));return x},d=function(t,e,n){e=e||"soft";var i,o,r,s,l,c,u,h,d,p,f,v={},g="cubic"===e?3:2,m="soft"===e,y=[];if(m&&n&&(t=[n].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(c=y.length;--c>-1;){for(d=y[c],v[d]=l=[],p=0,h=t.length,u=0;u<h;u++)i=null==n?t[u][d]:"string"==typeof(f=t[u][d])&&"="===f.charAt(1)?n[d]+Number(f.charAt(0)+f.substr(2)):Number(f),m&&u>1&&u<h-1&&(l[p++]=(i+l[p-2])/2),l[p++]=i;for(h=p-g+1,p=0,u=0;u<h;u+=g)i=l[u],o=l[u+1],r=l[u+2],s=2===g?0:l[u+3],l[p++]=f=3===g?new a(i,o,r,s):new a(i,(2*o+i)/3,(2*o+r)/3,r);l.length=p}return v},p=function(t,e,n){for(var i,o,r,a,s,l,c,u,h,d,p,f=1/n,v=t.length;--v>-1;)for(d=t[v],r=d.a,a=d.d-r,s=d.c-r,l=d.b-r,i=o=0,u=1;u<=n;u++)c=f*u,h=1-c,i=o-(o=(c*c*a+3*h*(c*s+h*l))*c),p=v*n+u-1,e[p]=(e[p]||0)+i*i},f=function(t,e){e=e>>0||6;var n,i,o,r,a=[],s=[],l=0,c=0,u=e-1,h=[],d=[];for(n in t)p(t[n],a,e);for(o=a.length,i=0;i<o;i++)l+=Math.sqrt(a[i]),r=i%e,d[r]=l,r===u&&(c+=l,r=i/e>>0,h[r]=d,s[r]=c,l=0,d=[]);return{length:c,lengths:s,segments:h}},v=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,o,r,a,s,l=e.values||[],c={},u=l[0],p=e.autoRotate||n.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(i in u)this._props.push(i);for(r=this._props.length;--r>-1;)i=this._props[r],this._overwriteProps.push(i),o=this._func[i]="function"==typeof t[i],c[i]=o?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),s||c[i]!==l[0][i]&&(s=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):d(l,e.type,c),this._segCount=this._beziers[i].length,this._timeRes){var v=f(this._beziers,this._timeRes);this._length=v.length,this._lengths=v.lengths,this._segments=v.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),r=p.length;--r>-1;){for(a=0;a<3;a++)i=p[r][a],this._func[i]="function"==typeof t[i]&&t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)];i=p[r][2],this._initialRotations[r]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,i,o,r,a,s,l,c,u,h,d=this._segCount,p=this._func,f=this._target,v=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,h=this._curSeg,e*=this._length,o=this._li,e>this._l2&&o<d-1){for(c=d-1;o<c&&(this._l2=u[++o])<=e;);this._l1=u[o-1],this._li=o,this._curSeg=h=this._segments[o],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&o>0){for(;o>0&&(this._l1=u[--o])>=e;);0===o&&e<this._l1?this._l1=0:o++,this._l2=u[o],this._li=o,this._curSeg=h=this._segments[o],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(n=o,e-=this._l1,o=this._si,e>this._s2&&o<h.length-1){for(c=h.length-1;o<c&&(this._s2=h[++o])<=e;);this._s1=h[o-1],this._si=o}else if(e<this._s1&&o>0){for(;o>0&&(this._s1=h[--o])>=e;);0===o&&e<this._s1?this._s1=0:o++,this._s2=h[o],this._si=o}s=(o+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=e<0?0:e>=1?d-1:d*e>>0,s=(e-n*(1/d))*d;for(i=1-s,o=this._props.length;--o>-1;)r=this._props[o],a=this._beziers[r][n],l=(s*s*a.da+3*i*(s*a.ca+i*a.ba))*s+a.a,this._mod[r]&&(l=this._mod[r](l,f)),p[r]?f[r](l):f[r]=l;if(this._autoRotate){var g,m,y,_,b,x,w,k=this._autoRotate;for(o=k.length;--o>-1;)r=k[o][2],x=k[o][3]||0,w=k[o][4]===!0?1:t,a=this._beziers[k[o][0]],g=this._beziers[k[o][1]],a&&g&&(a=a[n],g=g[n],m=a.a+(a.b-a.a)*s,_=a.b+(a.c-a.b)*s,m+=(_-m)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=g.a+(g.b-g.a)*s,b=g.b+(g.c-g.b)*s,y+=(b-y)*s,b+=(g.c+(g.d-g.c)*s-b)*s,l=v?Math.atan2(b-y,_-m)*w+x:this._initialRotations[o],this._mod[r]&&(l=this._mod[r](l,f)),p[r]?f[r](l):f[r]=l)}}}),g=v.prototype;v.bezierThrough=h,v.cubicToQuadratic=l,v._autoCSS=!0,v.quadraticToCubic=function(t,e,n){return new a(t,(2*e+t)/3,(2*e+n)/3,n)},v._cssRegister=function(){var t=r.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,i=e._setPluginRatio,o=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,r,a,s,l){e instanceof Array&&(e={values:e}),l=new v;var c,u,h,d=e.values,p=d.length-1,f=[],g={};if(p<0)return s;for(c=0;c<=p;c++)h=n(t,d[c],a,s,l,p!==c),f[c]=h.end;for(u in e)g[u]=e[u];return g.values=f,s=new o(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=l,s.setRatio=i,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",c,!1]]:null!=h.end.x&&[["x","y","rotation",c,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(h.proxy,g,a._tween),s}})}},g._mod=function(t){for(var e,n=this._overwriteProps,i=n.length;--i>-1;)e=t[n[i]],e&&"function"==typeof e&&(this._mod[n[i]]=e)},g._kill=function(t){var e,n,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=i.length;--n>-1;)i[n]===e&&i.splice(n,1);if(i=this._autoRotate)for(n=i.length;--n>-1;)t[i[n][2]]&&i.splice(n,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,i,o,r,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},s=_gsScope._gsDefine.globals,l={},c=a.prototype=new t("css");c.constructor=a,a.version="1.19.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,h,d,p,f,v,g,m,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,k=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,P=/([A-Z])/g,E=/-([a-z])/gi,I=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,j=/,(?=[^\)]*(?:\(|$))/gi,R=/[\s,\(]/i,D=Math.PI/180,F=180/Math.PI,L={},X=document,B=function(t){return X.createElementNS?X.createElementNS("http://www.w3.org/1999/xhtml",t):X.createElement(t)},H=B("div"),$=B("img"),z=a._internals={_specialProps:l},G=navigator.userAgent,W=function(){var t=G.indexOf("Android"),e=B("a");return d=G.indexOf("Safari")!==-1&&G.indexOf("Chrome")===-1&&(t===-1||Number(G.substr(t+8,1))>3),f=d&&Number(G.substr(G.indexOf("Version/")+8,1))<6,p=G.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(G)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(G))&&(v=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return k.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},U=function(t){window.console&&console.log(t)},V="",q="",K=function(t,e){e=e||H;var n,i,o=e.style;if(void 0!==o[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===o[n[i]+t];);return i>=0?(q=3===i?"ms":n[i],V="-"+q.toLowerCase()+"-",q+t):null},J=X.defaultView?X.defaultView.getComputedStyle:function(){},Z=a.getStyle=function(t,e,n,i,o){var r;return W||"opacity"!==e?(!i&&t.style[e]?r=t.style[e]:(n=n||J(t))?r=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(r=t.currentStyle[e]),null==o||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:o):Y(t)},Q=z.convertToPixels=function(t,n,i,o,r){if("px"===o||!o)return i;if("auto"===o||!i)return 0;var s,l,c,u=O.test(n),h=t,d=H.style,p=i<0,f=1===i;if(p&&(i=-i),f&&(i*=100),"%"===o&&n.indexOf("border")!==-1)s=i/100*(u?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==o&&h.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)d[u?"borderLeftWidth":"borderTopWidth"]=i+o;else{if(h=t.parentNode||X.body,l=h._gsCache,c=e.ticker.frame,l&&u&&l.time===c)return l.width*i/100;d[u?"width":"height"]=i+o}h.appendChild(H),s=parseFloat(H[u?"offsetWidth":"offsetHeight"]),h.removeChild(H),u&&"%"===o&&a.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=c,l.width=s/i*100),0!==s||r||(s=Q(t,n,i,o,!0))}return f&&(s/=100),p?-s:s},tt=z.calculateOffset=function(t,e,n){if("absolute"!==Z(t,"position",n))return 0;var i="left"===e?"Left":"Top",o=Z(t,"margin"+i,n);return t["offset"+i]-(Q(t,e,parseFloat(o),o.replace(w,""))||0)},et=function(t,e){var n,i,o,r={};if(e=e||J(t,null))if(n=e.length)for(;--n>-1;)o=e[n],o.indexOf("-transform")!==-1&&Et!==o||(r[o.replace(E,A)]=e.getPropertyValue(o));else for(n in e)n.indexOf("Transform")!==-1&&Pt!==n||(r[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===r[n]&&(r[n.replace(E,A)]=e[n]);return W||(r.opacity=Y(t)),i=Ht(t,e,!1),r.rotation=i.rotation,r.skewX=i.skewX,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r.x=i.x,r.y=i.y,At&&(r.z=i.z,r.rotationX=i.rotationX,r.rotationY=i.rotationY,r.scaleZ=i.scaleZ),r.filters&&delete r.filters,r},nt=function(t,e,n,i,o){var r,a,s,l={},c=t.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(r=n[a])||o&&o[a])&&a.indexOf("Origin")===-1&&("number"!=typeof r&&"string"!=typeof r||(l[a]="auto"!==r||"left"!==a&&"top"!==a?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof e[a]||""===e[a].replace(x,"")?r:0:tt(t,a),void 0!==c[a]&&(s=new mt(c,a,c[a],s))));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:s}},it={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||J(t))[e]||0;if(t.getBBox&&Lt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),o=it[e],r=o.length;for(n=n||J(t,null);--r>-1;)i-=parseFloat(Z(t,"padding"+o[r],n,!0))||0,i-=parseFloat(Z(t,"border"+o[r]+"Width",n,!0))||0;return i},at=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,i=t.split(" "),o=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":i[0],r=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(at(i[n]));return t.join(",")}return null==r?r="center"===o?"50%":"0":"center"===r&&(r="50%"),("center"===o||isNaN(parseFloat(o))&&(o+"").indexOf("=")===-1)&&(o="50%"),t=o+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=o.indexOf("%")!==-1,e.oyp=r.indexOf("%")!==-1,e.oxr="="===o.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(o.replace(x,"")),e.oy=parseFloat(r.replace(x,"")),e.v=t),e||t},st=function(t,e){return"function"==typeof t&&(t=t(m,g)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(m,g)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,n,i){var o,r,a,s,l,c=1e-6;return"function"==typeof t&&(t=t(m,g)),null==t?s=e:"number"==typeof t?s=t:(o=360,r=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(t.indexOf("rad")===-1?1:F)-(l?0:e),r.length&&(i&&(i[n]=e+a),t.indexOf("short")!==-1&&(a%=o,a!==a%(o/2)&&(a=a<0?a+o:a-o)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*o)%o-(a/o|0)*o:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*o)%o-(a/o|0)*o)),s=e+a),s<c&&s>-c&&(s=0),s},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},dt=a.parseColor=function(t,e){var n,i,o,r,a,s,l,c,u,h,d;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])n=ut[t];else if("#"===t.charAt(0))4===t.length&&(i=t.charAt(1),o=t.charAt(2),r=t.charAt(3),t="#"+i+i+o+o+r+r),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=d=t.match(y),e){if(t.indexOf("=")!==-1)return t.match(_)}else a=Number(n[0])%360/360,s=Number(n[1])/100,l=Number(n[2])/100,o=l<=.5?l*(s+1):l+s-l*s,i=2*l-o,n.length>3&&(n[3]=Number(t[3])),n[0]=ht(a+1/3,i,o),n[1]=ht(a,i,o),n[2]=ht(a-1/3,i,o);else n=t.match(y)||ut.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ut.black;return e&&!d&&(i=n[0]/255,o=n[1]/255,r=n[2]/255,c=Math.max(i,o,r),u=Math.min(i,o,r),l=(c+u)/2,c===u?a=s=0:(h=c-u,s=l>.5?h/(2-c-u):h/(c+u),a=c===i?(o-r)/h+(o<r?6:0):c===o?(r-i)/h+2:(i-o)/h+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},pt=function(t,e){var n,i,o,r=t.match(ft)||[],a=0,s=r.length?"":t;for(n=0;n<r.length;n++)i=r[n],o=t.substr(a,t.indexOf(i,a)-a),a+=o.length+i.length,i=dt(i,e),3===i.length&&i.push(1),s+=o+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+t.substr(a)},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ut)ft+="|"+c+"\\b";ft=new RegExp(ft+")","gi"),a.colorStringFilter=function(t){var e,n=t[0]+t[1];ft.test(n)&&(e=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,t[0]=pt(t[0],e),t[1]=pt(t[1],e)),ft.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var vt=function(t,e,n,i){if(null==t)return function(t){return t};var o,r=e?(t.match(ft)||[""])[0]:"",a=t.split(r).join("").match(b)||[],s=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",c=t.indexOf(" ")!==-1?" ":",",u=a.length,h=u>0?a[0].replace(y,""):"";return u?o=e?function(t){var e,d,p,f;if("number"==typeof t)t+=h;else if(i&&j.test(t)){for(f=t.replace(j,"|").split("|"),p=0;p<f.length;p++)f[p]=o(f[p]);return f.join(",")}if(e=(t.match(ft)||[r])[0],d=t.split(e).join("").match(b)||[],p=d.length,u>p--)for(;++p<u;)d[p]=n?d[(p-1)/2|0]:a[p];return s+d.join(c)+c+e+l+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,r,d;if("number"==typeof t)t+=h;else if(i&&j.test(t)){for(r=t.replace(j,"|").split("|"),d=0;d<r.length;d++)r[d]=o(r[d]);return r.join(",")}if(e=t.match(b)||[],d=e.length,u>d--)for(;++d<u;)e[d]=n?e[(d-1)/2|0]:a[d];return s+e.join(c)+l}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,n,i,o,r,a,s){var l,c=(n+"").split(" ");for(s={},l=0;l<4;l++)s[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return o.parse(e,s,r,a)}},mt=(z._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,i,o,r,a=this.data,s=a.proxy,l=a.firstMPT,c=1e-6;l;)e=s[l.v],l.r?e=Math.round(e):e<c&&e>-c&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(l=a.firstMPT,r=1===t?"e":"b";l;){if(n=l.t,n.type){if(1===n.type){for(o=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)o+=n["xn"+i]+n["xs"+(i+1)];n[r]=o}}else n[r]=n.s+n.xs0;l=l._next}},function(t,e,n,i,o){this.t=t,this.p=e,this.v=n,this.r=o,i&&(i._prev=this,this._next=i)}),yt=(z._parseToProxy=function(t,e,n,i,o,r){var a,s,l,c,u,h=i,d={},p={},f=n._transform,v=L;for(n._transform=null,L=e,i=u=n.parse(t,e,i,o),L=v,r&&(n._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));i&&i!==h;){if(i.type<=1&&(s=i.p,p[s]=i.s+i.c,d[s]=i.s,r||(c=new mt(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)l="xn"+a,s=i.p+"_"+l,p[s]=i.data[l],d[s]=i[l],r||(c=new mt(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:d,end:p,firstMPT:c,pt:u}},z.CSSPropTween=function(t,e,i,o,a,s,l,c,u,h,d){this.t=t,this.p=e,this.s=i,this.c=o,this.n=l||e,t instanceof yt||r.push(this.n),this.r=c,this.type=s||0,u&&(this.pr=u,n=!0),this.b=void 0===h?i:h,this.e=void 0===d?i+o:d,a&&(this._next=a,a._prev=this)}),_t=function(t,e,n,i,o,r){var a=new yt(t,e,n,i-n,o,(-1),r);return a.b=n,a.e=a.xs0=i,a},bt=a.parseComplex=function(t,e,n,i,o,r,s,l,c,h){n=n||r||"","function"==typeof i&&(i=i(m,g)),s=new yt(t,e,0,0,s,h?2:1,null,(!1),l,n,i),i+="",o&&ft.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var d,p,f,v,b,x,w,k,T,C,S,P,E,I=n.split(", ").join(",").split(" "),A=i.split(", ").join(",").split(" "),O=I.length,M=u!==!1;for(i.indexOf(",")===-1&&n.indexOf(",")===-1||(I=I.join(" ").replace(j,", ").split(" "),A=A.join(" ").replace(j,", ").split(" "),O=I.length),O!==A.length&&(I=(r||"").split(" "),O=I.length),s.plugin=c,s.setRatio=h,ft.lastIndex=0,d=0;d<O;d++)if(v=I[d],b=A[d],k=parseFloat(v),k||0===k)s.appendXtra("",k,st(b,k),b.replace(_,""),M&&b.indexOf("px")!==-1,!0);else if(o&&ft.test(v))P=b.indexOf(")")+1,P=")"+(P?b.substr(P):""),E=b.indexOf("hsl")!==-1&&W,v=dt(v,E),b=dt(b,E),T=v.length+b.length>6,T&&!W&&0===b[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(A[d]).join("transparent")):(W||(T=!1),E?s.appendXtra(T?"hsla(":"hsl(",v[0],st(b[0],v[0]),",",!1,!0).appendXtra("",v[1],st(b[1],v[1]),"%,",!1).appendXtra("",v[2],st(b[2],v[2]),T?"%,":"%"+P,!1):s.appendXtra(T?"rgba(":"rgb(",v[0],b[0]-v[0],",",!0,!0).appendXtra("",v[1],b[1]-v[1],",",!0).appendXtra("",v[2],b[2]-v[2],T?",":P,!0),T&&(v=v.length<4?1:v[3],s.appendXtra("",v,(b.length<4?1:b[3])-v,P,!1))),ft.lastIndex=0;else if(x=v.match(y)){if(w=b.match(_),!w||w.length!==x.length)return s;for(f=0,p=0;p<x.length;p++)S=x[p],C=v.indexOf(S,f),s.appendXtra(v.substr(f,C-f),Number(S),st(w[p],S),"",M&&"px"===v.substr(C+S.length,2),0===p),f=C+S.length;s["xs"+s.l]+=v.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+b:b;if(i.indexOf("=")!==-1&&s.data){for(P=s.xs0+s.data.s,d=1;d<s.l;d++)P+=s["xs"+d]+s.data["xn"+d];s.e=P+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},xt=9;for(c=yt.prototype,c.l=c.pr=0;--xt>0;)c["xn"+xt]=0,c["xs"+xt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,
c.appendXtra=function(t,e,n,i,o,r){var a=this,s=a.l;return a["xs"+s]+=r&&(s||a["xs"+s])?" "+t:t||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=e+n,a.rxp["xn"+s]=o,a["xn"+s]=e,a.plugin||(a.xfirst=new yt(a,"xn"+s,e,n,a.xfirst||a,0,a.n,o,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+n},a.rxp={},a.s=e,a.c=n,a.r=o,a)):(a["xs"+s]+=e+(i||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix?K(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},kt=z._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var i,o,r=t.split(","),a=e.defaultValue;for(n=n||[a],i=0;i<r.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||a,o=new wt(r[i],e)},Tt=z._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";kt(t,{parser:function(t,n,i,o,r,a,c){var u=s.com.greensock.plugins[e];return u?(u._cssRegister(),l[i].parse(t,n,i,o,r,a,c)):(U("Error: "+e+" js file not loaded."),r)}})}};c=wt.prototype,c.parseComplex=function(t,e,n,i,o,r){var a,s,l,c,u,h,d=this.keyword;if(this.multi&&(j.test(n)||j.test(e)?(s=e.replace(j,"|").split("|"),l=n.replace(j,"|").split("|")):d&&(s=[e],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)e=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,d&&(u=e.indexOf(d),h=n.indexOf(d),u!==h&&(h===-1?s[a]=s[a].split(d).join(""):u===-1&&(s[a]+=" "+d)));e=s.join(", "),n=l.join(", ")}return bt(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,o,r)},c.parse=function(t,e,n,i,r,a,s){return this.parseComplex(t.style,this.format(Z(t,this.p,o,!1,this.dflt)),this.format(e),r,a)},a.registerSpecialProp=function(t,e,n){kt(t,{parser:function(t,i,o,r,a,s,l){var c=new yt(t,o,0,0,a,2,o,(!1),n);return c.plugin=s,c.setRatio=e(t,i,r._tween,o),c},priority:n})},a.useSVGTransformAttr=d||p;var Ct,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=K("transform"),Et=V+"transform",It=K("transformOrigin"),At=null!==K("perspective"),Ot=z.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!At)&&(a.defaultForce3D||"auto")},Mt=window.SVGElement,Nt=function(t,e,n){var i,o=X.createElementNS("http://www.w3.org/2000/svg",t),r=/([a-z])([A-Z])/g;for(i in n)o.setAttributeNS(null,i.replace(r,"$1-$2").toLowerCase(),n[i]);return e.appendChild(o),o},jt=X.documentElement,Rt=function(){var t,e,n,i=v||/Android/i.test(G)&&!window.chrome;return X.createElementNS&&!i&&(t=Nt("svg",jt),e=Nt("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[It]="50% 50%",e.style[Pt]="scaleX(0.5)",i=n===e.getBoundingClientRect().width&&!(p&&At),jt.removeChild(t)),i}(),Dt=function(t,e,n,i,o,r){var s,l,c,u,h,d,p,f,v,g,m,y,_,b,x=t._gsTransform,w=Bt(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!i||(s=i.split(" ")).length<2)&&(p=t.getBBox(),e=at(e).split(" "),s=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=u=parseFloat(s[0]),n.yOrigin=h=parseFloat(s[1]),i&&w!==Xt&&(d=w[0],p=w[1],f=w[2],v=w[3],g=w[4],m=w[5],y=d*v-p*f,l=u*(v/y)+h*(-f/y)+(f*m-v*g)/y,c=u*(-p/y)+h*(d/y)-(d*m-p*g)/y,u=n.xOrigin=s[0]=l,h=n.yOrigin=s[1]=c),x&&(r&&(n.xOffset=x.xOffset,n.yOffset=x.yOffset,x=n),o||o!==!1&&a.defaultSmoothOrigin!==!1?(l=u-_,c=h-b,x.xOffset+=l*w[0]+c*w[2]-l,x.yOffset+=l*w[1]+c*w[3]-c):x.xOffset=x.yOffset=0),r||t.setAttribute("data-svg-origin",s.join(" "))},Ft=function(t){try{return t.getBBox()}catch(t){}},Lt=function(t){return!!(Mt&&t.getBBox&&t.getCTM&&Ft(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Xt=[1,0,0,1,0,0],Bt=function(t,e){var n,i,o,r,a,s,l=t._gsTransform||new Ot,c=1e5,u=t.style;if(Pt?i=Z(t,Et,null,!0):t.currentStyle&&(i=t.currentStyle.filter.match(M),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,n&&Pt&&((s="none"===J(t).display)||!t.parentNode)&&(s&&(r=u.display,u.display="block"),t.parentNode||(a=1,jt.appendChild(t)),i=Z(t,Et,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,r?u.display=r:s&&Wt(u,"display"),a&&jt.removeChild(t)),(l.svg||t.getBBox&&Lt(t))&&(n&&(u[Pt]+"").indexOf("matrix")!==-1&&(i=u[Pt],n=0),o=t.getAttribute("transform"),n&&o&&(o.indexOf("matrix")!==-1?(i=o,n=0):o.indexOf("translate")!==-1&&(i="matrix(1,0,0,1,"+o.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Xt;for(o=(i||"").match(y)||[],xt=o.length;--xt>-1;)r=Number(o[xt]),o[xt]=(a=r-(r|=0))?(a*c+(a<0?-.5:.5)|0)/c+r:r;return e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Ht=z.getTransform=function(t,n,i,o){if(t._gsTransform&&i&&!o)return t._gsTransform;var r,s,l,c,u,h,d=i?t._gsTransform||new Ot:new Ot,p=d.scaleX<0,f=2e-5,v=1e5,g=At?parseFloat(Z(t,It,n,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,m=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Lt(t)),d.svg&&(Dt(t,Z(t,It,n,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Ct=a.useSVGTransformAttr||Rt),r=Bt(t),r!==Xt){if(16===r.length){var y,_,b,x,w,k=r[0],T=r[1],C=r[2],S=r[3],P=r[4],E=r[5],I=r[6],A=r[7],O=r[8],M=r[9],N=r[10],j=r[12],R=r[13],D=r[14],L=r[11],X=Math.atan2(I,N);d.zOrigin&&(D=-d.zOrigin,j=O*D-r[12],R=M*D-r[13],D=N*D+d.zOrigin-r[14]),d.rotationX=X*F,X&&(x=Math.cos(-X),w=Math.sin(-X),y=P*x+O*w,_=E*x+M*w,b=I*x+N*w,O=P*-w+O*x,M=E*-w+M*x,N=I*-w+N*x,L=A*-w+L*x,P=y,E=_,I=b),X=Math.atan2(-C,N),d.rotationY=X*F,X&&(x=Math.cos(-X),w=Math.sin(-X),y=k*x-O*w,_=T*x-M*w,b=C*x-N*w,M=T*w+M*x,N=C*w+N*x,L=S*w+L*x,k=y,T=_,C=b),X=Math.atan2(T,k),d.rotation=X*F,X&&(x=Math.cos(-X),w=Math.sin(-X),k=k*x+P*w,_=T*x+E*w,E=T*-w+E*x,I=C*-w+I*x,T=_),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),d.scaleX=(Math.sqrt(k*k+T*T)*v+.5|0)/v,d.scaleY=(Math.sqrt(E*E+M*M)*v+.5|0)/v,d.scaleZ=(Math.sqrt(I*I+N*N)*v+.5|0)/v,d.rotationX||d.rotationY?d.skewX=0:(d.skewX=P||E?Math.atan2(P,E)*F+d.rotation:d.skewX||0,Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180))),d.perspective=L?1/(L<0?-L:L):0,d.x=j,d.y=R,d.z=D,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*k-d.yOrigin*P),d.y-=d.yOrigin-(d.yOrigin*T-d.xOrigin*E))}else if(!At||o||!r.length||d.x!==r[4]||d.y!==r[5]||!d.rotationX&&!d.rotationY){var B=r.length>=6,H=B?r[0]:1,$=r[1]||0,z=r[2]||0,G=B?r[3]:1;d.x=r[4]||0,d.y=r[5]||0,l=Math.sqrt(H*H+$*$),c=Math.sqrt(G*G+z*z),u=H||$?Math.atan2($,H)*F:d.rotation||0,h=z||G?Math.atan2(z,G)*F+u:d.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(p?(l*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,h+=h<=0?180:-180)),d.scaleX=l,d.scaleY=c,d.rotation=u,d.skewX=h,At&&(d.rotationX=d.rotationY=d.z=0,d.perspective=m,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*H+d.yOrigin*z),d.y-=d.yOrigin-(d.xOrigin*$+d.yOrigin*G))}d.zOrigin=g;for(s in d)d[s]<f&&d[s]>-f&&(d[s]=0)}return i&&(t._gsTransform=d,d.svg&&(Ct&&t.style[Pt]?e.delayedCall(.001,function(){Wt(t.style,Pt)}):!Ct&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},$t=function(t){var e,n,i=this.data,o=-i.rotation*D,r=o+i.skewX*D,a=1e5,s=(Math.cos(o)*i.scaleX*a|0)/a,l=(Math.sin(o)*i.scaleX*a|0)/a,c=(Math.sin(r)*-i.scaleY*a|0)/a,u=(Math.cos(r)*i.scaleY*a|0)/a,h=this.t.style,d=this.t.currentStyle;if(d){n=l,l=-c,c=-n,e=d.filter,h.filter="";var p,f,g=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==d.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+u,b=i.x+g*i.xPercent/100,x=i.y+m*i.yPercent/100;if(null!=i.ox&&(p=(i.oxp?g*i.ox*.01:i.ox)-g/2,f=(i.oyp?m*i.oy*.01:i.oy)-m/2,b+=p-(p*s+f*l),x+=f-(p*c+f*u)),y?(p=g/2,f=m/2,_+=", Dx="+(p-(p*s+f*l)+b)+", Dy="+(f-(p*c+f*u)+x)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=e.replace(N,_):h.filter=_+" "+e,0!==t&&1!==t||1===s&&0===l&&0===c&&1===u&&(y&&_.indexOf("Dx=0, Dy=0")===-1||k.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!y){var T,C,S,P=v<8?1:-1;for(p=i.ieOffsetX||0,f=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(l<0?-l:l)*m))/2+b),i.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(c<0?-c:c)*g))/2+x),xt=0;xt<4;xt++)C=ot[xt],T=d[C],n=T.indexOf("px")!==-1?parseFloat(T):Q(this.t,C,parseFloat(T),T.replace(w,""))||0,S=n!==i[C]?xt<2?-i.ieOffsetX:-i.ieOffsetY:xt<2?p-i.ieOffsetX:f-i.ieOffsetY,h[C]=(i[C]=Math.round(n-S*(0===xt||2===xt?1:P)))+"px"}}},zt=z.set3DTransformRatio=z.setTransformRatio=function(t){var e,n,i,o,r,a,s,l,c,u,h,d,f,v,g,m,y,_,b,x,w,k,T,C=this.data,S=this.t.style,P=C.rotation,E=C.rotationX,I=C.rotationY,A=C.scaleX,O=C.scaleY,M=C.scaleZ,N=C.x,j=C.y,R=C.z,F=C.svg,L=C.perspective,X=C.force3D;if(((1===t||0===t)&&"auto"===X&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!X)&&!R&&!L&&!I&&!E&&1===M||Ct&&F||!At)return void(P||C.skewX||F?(P*=D,k=C.skewX*D,T=1e5,e=Math.cos(P)*A,o=Math.sin(P)*A,n=Math.sin(P-k)*-O,r=Math.cos(P-k)*O,k&&"simple"===C.skewType&&(y=Math.tan(k-C.skewY*D),y=Math.sqrt(1+y*y),n*=y,r*=y,C.skewY&&(y=Math.tan(C.skewY*D),y=Math.sqrt(1+y*y),e*=y,o*=y)),F&&(N+=C.xOrigin-(C.xOrigin*e+C.yOrigin*n)+C.xOffset,j+=C.yOrigin-(C.xOrigin*o+C.yOrigin*r)+C.yOffset,Ct&&(C.xPercent||C.yPercent)&&(v=this.t.getBBox(),N+=.01*C.xPercent*v.width,j+=.01*C.yPercent*v.height),v=1e-6,N<v&&N>-v&&(N=0),j<v&&j>-v&&(j=0)),b=(e*T|0)/T+","+(o*T|0)/T+","+(n*T|0)/T+","+(r*T|0)/T+","+N+","+j+")",F&&Ct?this.t.setAttribute("transform","matrix("+b):S[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+b):S[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+O+","+N+","+j+")");if(p&&(v=1e-4,A<v&&A>-v&&(A=M=2e-5),O<v&&O>-v&&(O=M=2e-5),!L||C.z||C.rotationX||C.rotationY||(L=0)),P||C.skewX)P*=D,g=e=Math.cos(P),m=o=Math.sin(P),C.skewX&&(P-=C.skewX*D,g=Math.cos(P),m=Math.sin(P),"simple"===C.skewType&&(y=Math.tan((C.skewX-C.skewY)*D),y=Math.sqrt(1+y*y),g*=y,m*=y,C.skewY&&(y=Math.tan(C.skewY*D),y=Math.sqrt(1+y*y),e*=y,o*=y))),n=-m,r=g;else{if(!(I||E||1!==M||L||F))return void(S[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+j+"px,"+R+"px)"+(1!==A||1!==O?" scale("+A+","+O+")":""));e=r=1,n=o=0}c=1,i=a=s=l=u=h=0,d=L?-1/L:0,f=C.zOrigin,v=1e-6,x=",",w="0",P=I*D,P&&(g=Math.cos(P),m=Math.sin(P),s=-m,u=d*-m,i=e*m,a=o*m,c=g,d*=g,e*=g,o*=g),P=E*D,P&&(g=Math.cos(P),m=Math.sin(P),y=n*g+i*m,_=r*g+a*m,l=c*m,h=d*m,i=n*-m+i*g,a=r*-m+a*g,c*=g,d*=g,n=y,r=_),1!==M&&(i*=M,a*=M,c*=M,d*=M),1!==O&&(n*=O,r*=O,l*=O,h*=O),1!==A&&(e*=A,o*=A,s*=A,u*=A),(f||F)&&(f&&(N+=i*-f,j+=a*-f,R+=c*-f+f),F&&(N+=C.xOrigin-(C.xOrigin*e+C.yOrigin*n)+C.xOffset,j+=C.yOrigin-(C.xOrigin*o+C.yOrigin*r)+C.yOffset),N<v&&N>-v&&(N=w),j<v&&j>-v&&(j=w),R<v&&R>-v&&(R=0)),b=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",b+=(e<v&&e>-v?w:e)+x+(o<v&&o>-v?w:o)+x+(s<v&&s>-v?w:s),b+=x+(u<v&&u>-v?w:u)+x+(n<v&&n>-v?w:n)+x+(r<v&&r>-v?w:r),E||I||1!==M?(b+=x+(l<v&&l>-v?w:l)+x+(h<v&&h>-v?w:h)+x+(i<v&&i>-v?w:i),b+=x+(a<v&&a>-v?w:a)+x+(c<v&&c>-v?w:c)+x+(d<v&&d>-v?w:d)+x):b+=",0,0,0,0,1,0,",b+=N+x+j+x+R+x+(L?1+-R/L:1)+")",S[Pt]=b};c=Ot.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,kt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,r,s,l){if(i._lastParsedTransform===l)return r;i._lastParsedTransform=l;var c;"function"==typeof l[n]&&(c=l[n],l[n]=e);var u,h,d,p,f,v,y,_,b,x=t._gsTransform,w=t.style,k=1e-6,T=St.length,C=l,S={},P="transformOrigin",E=Ht(t,o,!0,C.parseTransform),I=C.transform&&("function"==typeof C.transform?C.transform(m,g):C.transform);if(i._transform=E,I&&"string"==typeof I&&Pt)h=H.style,h[Pt]=I,h.display="block",h.position="absolute",X.body.appendChild(H),u=Ht(H,null,!1),E.svg&&(v=E.xOrigin,y=E.yOrigin,u.x-=E.xOffset,u.y-=E.yOffset,(C.transformOrigin||C.svgOrigin)&&(I={},Dt(t,at(C.transformOrigin),I,C.svgOrigin,C.smoothOrigin,!0),v=I.xOrigin,y=I.yOrigin,u.x-=I.xOffset-E.xOffset,u.y-=I.yOffset-E.yOffset),(v||y)&&(_=Bt(H,!0),u.x-=v-(v*_[0]+y*_[2]),u.y-=y-(v*_[1]+y*_[3]))),X.body.removeChild(H),u.perspective||(u.perspective=E.perspective),null!=C.xPercent&&(u.xPercent=lt(C.xPercent,E.xPercent)),null!=C.yPercent&&(u.yPercent=lt(C.yPercent,E.yPercent));else if("object"==typeof C){if(u={scaleX:lt(null!=C.scaleX?C.scaleX:C.scale,E.scaleX),scaleY:lt(null!=C.scaleY?C.scaleY:C.scale,E.scaleY),scaleZ:lt(C.scaleZ,E.scaleZ),x:lt(C.x,E.x),y:lt(C.y,E.y),z:lt(C.z,E.z),xPercent:lt(C.xPercent,E.xPercent),yPercent:lt(C.yPercent,E.yPercent),perspective:lt(C.transformPerspective,E.perspective)},f=C.directionalRotation,null!=f)if("object"==typeof f)for(h in f)C[h]=f[h];else C.rotation=f;"string"==typeof C.x&&C.x.indexOf("%")!==-1&&(u.x=0,u.xPercent=lt(C.x,E.xPercent)),"string"==typeof C.y&&C.y.indexOf("%")!==-1&&(u.y=0,u.yPercent=lt(C.y,E.yPercent)),u.rotation=ct("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:E.rotation-E.skewY,E.rotation-E.skewY,"rotation",S),At&&(u.rotationX=ct("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":E.rotationX||0,E.rotationX,"rotationX",S),u.rotationY=ct("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":E.rotationY||0,E.rotationY,"rotationY",S)),u.skewX=ct(C.skewX,E.skewX-E.skewY),(u.skewY=ct(C.skewY,E.skewY))&&(u.skewX+=u.skewY,u.rotation+=u.skewY)}for(At&&null!=C.force3D&&(E.force3D=C.force3D,p=!0),E.skewType=C.skewType||E.skewType||a.defaultSkewType,d=E.force3D||E.z||E.rotationX||E.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,d||null==C.scale||(u.scaleZ=1);--T>-1;)b=St[T],I=u[b]-E[b],(I>k||I<-k||null!=C[b]||null!=L[b])&&(p=!0,r=new yt(E,b,E[b],I,r),b in S&&(r.e=S[b]),r.xs0=0,r.plugin=s,i._overwriteProps.push(r.n));return I=C.transformOrigin,E.svg&&(I||C.svgOrigin)&&(v=E.xOffset,y=E.yOffset,Dt(t,at(I),u,C.svgOrigin,C.smoothOrigin),r=_t(E,"xOrigin",(x?E:u).xOrigin,u.xOrigin,r,P),r=_t(E,"yOrigin",(x?E:u).yOrigin,u.yOrigin,r,P),v===E.xOffset&&y===E.yOffset||(r=_t(E,"xOffset",x?v:E.xOffset,E.xOffset,r,P),r=_t(E,"yOffset",x?y:E.yOffset,E.yOffset,r,P)),I=Ct?null:"0px 0px"),(I||At&&d&&E.zOrigin)&&(Pt?(p=!0,b=It,I=(I||Z(t,b,o,!1,"50% 50%"))+"",r=new yt(w,b,0,0,r,(-1),P),r.b=w[b],r.plugin=s,At?(h=E.zOrigin,I=I.split(" "),E.zOrigin=(I.length>2&&(0===h||"0px"!==I[2])?parseFloat(I[2]):h)||0,r.xs0=r.e=I[0]+" "+(I[1]||"50%")+" 0px",r=new yt(E,"zOrigin",0,0,r,(-1),r.n),r.b=h,r.xs0=r.e=E.zOrigin):r.xs0=r.e=I):at(I+"",E)),p&&(i._transformType=E.svg&&Ct||!d&&3!==this._transformType?2:3),c&&(l[n]=c),r},prefix:!0}),kt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),kt("borderRadius",{defaultValue:"0px",parser:function(t,e,n,r,a,s){e=this.format(e);var l,c,u,h,d,p,f,v,g,m,y,_,b,x,w,k,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=K(T[c])),d=h=Z(t,T[c],o,!1,"0px"),d.indexOf(" ")!==-1&&(h=d.split(" "),d=h[0],h=h[1]),p=u=l[c],f=parseFloat(d),_=d.substr((f+"").length),b="="===p.charAt(1),b?(v=parseInt(p.charAt(0)+"1",10),p=p.substr(2),v*=parseFloat(p),y=p.substr((v+"").length-(v<0?1:0))||""):(v=parseFloat(p),y=p.substr((v+"").length)),""===y&&(y=i[n]||_),y!==_&&(x=Q(t,"borderLeft",f,_),w=Q(t,"borderTop",f,_),"%"===y?(d=x/g*100+"%",h=w/m*100+"%"):"em"===y?(k=Q(t,"borderLeft",1,"em"),d=x/k+"em",h=w/k+"em"):(d=x+"px",h=w+"px"),b&&(p=parseFloat(d)+v+y,u=parseFloat(h)+v+y)),a=bt(C,T[c],d+" "+h,p+" "+u,!1,"0px",a);return a},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),kt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,r,a){return bt(t.style,n,this.format(Z(t,n,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),kt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,r,a){var s,l,c,u,h,d,p="background-position",f=o||J(t,null),g=this.format((f?v?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(g.indexOf("%")!==-1!=(m.indexOf("%")!==-1)&&m.split(",").length<2&&(d=Z(t,"backgroundImage").replace(I,""),d&&"none"!==d)){for(s=g.split(" "),l=m.split(" "),$.setAttribute("src",d),c=2;--c>-1;)g=s[c],u=g.indexOf("%")!==-1,u!==(l[c].indexOf("%")!==-1)&&(h=0===c?t.offsetWidth-$.width:t.offsetHeight-$.height,s[c]=u?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=s.join(" ")}return this.parseComplex(t.style,g,m,r,a)},formatter:at}),kt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",at(t.indexOf(" ")===-1?t+" "+t:t)}}),kt("perspective",{defaultValue:"0px",prefix:!0}),kt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),kt("transformStyle",{prefix:!0}),kt("backfaceVisibility",{prefix:!0}),kt("userSelect",{prefix:!0}),kt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),kt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),kt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,r,a){var s,l,c;return v<9?(l=t.currentStyle,c=v<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(s=this.format(Z(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,r,a)}}),kt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),kt("autoRound,strictUnits",{parser:function(t,e,n,i,o){return o}}),kt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,r,a){var s=Z(t,"borderTopWidth",o,!1,"0px"),l=this.format(e).split(" "),c=l[0].replace(w,"");return"px"!==c&&(s=parseFloat(s)/Q(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(s+" "+Z(t,"borderTopStyle",o,!1,"solid")+" "+Z(t,"borderTopColor",o,!1,"#000")),l.join(" "),r,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),kt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),kt("float,cssFloat,styleFloat",{parser:function(t,e,n,i,o,r){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new yt(a,s,0,0,o,(-1),n,(!1),0,a[s],e)}});var Gt=function(t){var e,n=this.t,i=n.filter||Z(this.data,"filter")||"",o=this.s+this.c*t|0;100===o&&(i.indexOf("atrix(")===-1&&i.indexOf("radient(")===-1&&i.indexOf("oader(")===-1?(n.removeAttribute("filter"),e=!Z(this.data,"filter")):(n.filter=i.replace(C,""),e=!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+o+")"),i.indexOf("pacity")===-1?0===o&&this.xn1||(n.filter=i+" alpha(opacity="+o+")"):n.filter=i.replace(k,"opacity="+o))};kt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,r,a){var s=parseFloat(Z(t,"opacity",o,!1,"1")),l=t.style,c="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),c&&1===s&&"hidden"===Z(t,"visibility",o)&&0!==e&&(s=0),W?r=new yt(l,"opacity",s,e-s,r):(r=new yt(l,"opacity",100*s,100*(e-s),r),r.xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=a,r.setRatio=Gt),c&&(r=new yt(l,"visibility",0,0,r,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",i._overwriteProps.push(r.n),i._overwriteProps.push(n)),r}});var Wt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Wt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};kt("className",{parser:function(t,e,i,r,a,s,l){var c,u,h,d,p,f=t.getAttribute("class")||"",v=t.style.cssText;if(a=r._classNamePT=new yt(t,i,0,0,a,2),a.setRatio=Yt,a.pr=-11,n=!0,a.b=f,u=et(t,o),h=t._gsClassPT){for(d={},p=h.data;p;)d[p.p]=1,p=p._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),c=nt(t,u,et(t),l,d),t.setAttribute("class",f),a.data=c.firstMPT,t.style.cssText=v,a=a.xfirst=r.parse(t,c.difs,a,s)}});var Ut=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,o,r,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",o=!0;else for(e=this.e.split(" ").join("").split(","),i=e.length;--i>-1;)n=e[i],l[n]&&(l[n].parse===s?o=!0:n="transformOrigin"===n?It:l[n].p),Wt(a,n);o&&(Wt(a,Pt),r=this.t._gsTransform,r&&(r.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(kt("clearProps",{parser:function(t,e,i,o,r){return r=new yt(t,i,0,0,r,2),r.setRatio=Ut,r.e=e,r.pr=-10,r.data=o._tween,n=!0,r}}),c="bezier,throwProps,physicsProps,physics2D".split(","),xt=c.length;xt--;)Tt(c[xt]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,s,c){if(!t.nodeType)return!1;this._target=g=t,this._tween=s,this._vars=e,m=c,u=e.autoRound,n=!1,i=e.suffixMap||a.suffixMap,o=J(t,""),r=this._overwriteProps;var p,v,y,_,b,x,w,k,C,S=t.style;if(h&&""===S.zIndex&&(p=Z(t,"zIndex",o),"auto"!==p&&""!==p||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(_=S.cssText,p=et(t,o),S.cssText=_+";"+e,p=nt(t,p,et(t)).difs,!W&&T.test(e)&&(p.opacity=parseFloat(RegExp.$1)),e=p,S.cssText=_),e.className?this._firstPT=v=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=v=this.parse(t,e,null),this._transformType){for(C=3===this._transformType,Pt?d&&(h=!0,""===S.zIndex&&(w=Z(t,"zIndex",o),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),f&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(C?"visible":"hidden"))):S.zoom=1,y=v;y&&y._next;)y=y._next;k=new yt(t,"transform",0,0,null,2),this._linkCSSP(k,null,y),k.setRatio=Pt?zt:$t,k.data=this._transform||Ht(t,o,!0),k.tween=s,k.pr=-1,r.pop()}if(n){for(;v;){for(x=v._next,y=_;y&&y.pr>v.pr;)y=y._next;(v._prev=y?y._prev:b)?v._prev._next=v:_=v,(v._next=y)?y._prev=v:b=v,v=x}this._firstPT=_}return!0},c.parse=function(t,e,n,r){var a,s,c,h,d,p,f,v,y,_,b=t.style;for(a in e)p=e[a],"function"==typeof p&&(p=p(m,g)),s=l[a],s?n=s.parse(t,p,a,this,n,r,e):(d=Z(t,a,o)+"",y="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||y&&S.test(p)?(y||(p=dt(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=bt(b,a,d,p,!0,"transparent",n,0,r)):y&&R.test(p)?n=bt(b,a,d,p,!0,null,n,0,r):(c=parseFloat(d),f=c||0===c?d.substr((c+"").length):"",""!==d&&"auto"!==d||("width"===a||"height"===a?(c=rt(t,a,o),f="px"):"left"===a||"top"===a?(c=tt(t,a,o),f="px"):(c="opacity"!==a?0:1,f="")),_=y&&"="===p.charAt(1),_?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),v=p.replace(w,"")):(h=parseFloat(p),v=y?p.replace(w,""):""),""===v&&(v=a in i?i[a]:f),p=h||0===h?(_?h+c:h)+v:e[a],f!==v&&""!==v&&(h||0===h)&&c&&(c=Q(t,a,c,f),"%"===v?(c/=Q(t,a,100,"%")/100,e.strictUnits!==!0&&(d=c+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?c/=Q(t,a,1,v):"px"!==v&&(h=Q(t,a,h,v),v="px"),_&&(h||0===h)&&(p=h+c+v)),_&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(n=new yt(b,a,h||c||0,0,n,(-1),a,(!1),0,d,p),n.xs0="none"!==p||"display"!==a&&a.indexOf("Style")===-1?p:d):U("invalid "+a+" tween value: "+e[a]):(n=new yt(b,a,c,h-c,n,0,a,u!==!1&&("px"===v||"zIndex"===a),0,d,p),n.xs0=v))),r&&n&&!n.plugin&&(n.plugin=r);return n},c.setRatio=function(t){var e,n,i,o=this._firstPT,r=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;o;){if(e=o.c*t+o.s,o.r?e=Math.round(e):e<r&&e>-r&&(e=0),o.type)if(1===o.type)if(i=o.l,2===i)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2;else if(3===i)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===i)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===i)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(n=o.xs0+e+o.xs1,i=1;i<o.l;i++)n+=o["xn"+i]+o["xs"+(i+1)];o.t[o.p]=n}else o.type===-1?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(t);else o.t[o.p]=e+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(t),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&o.type!==-1)if(e=Math.round(o.s+o.c),o.type){if(1===o.type){for(i=o.l,n=o.xs0+e+o.xs1,i=1;i<o.l;i++)n+=o["xn"+i]+o["xs"+(i+1)];o.t[o.p]=n}}else o.t[o.p]=e+o.xs0;else o.t[o.p]=o.e;else o.setRatio(t);o=o._next}},c._enableTransforms=function(t){this._transform=this._transform||Ht(this._target,o,!0),this._transformType=this._transform.svg&&Ct||!t&&3!==this._transformType?2:3};var Vt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var i=this._firstPT=new yt(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=Vt,i.data=this},c._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var n,i,o,r=e;if(e.autoAlpha||e.alpha){r={};for(i in e)r[i]=e[i];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(e.className&&(n=this._classNamePT)&&(o=n.xfirst,o&&o._prev?this._linkCSSP(o._prev,n._next,o._prev._prev):o===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,o._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(e),i=n.plugin),n=n._next;return t.prototype._kill.call(this,r)};var qt=function(t,e,n){var i,o,r,a;if(t.slice)for(o=t.length;--o>-1;)qt(t[o],e,n);else for(i=t.childNodes,o=i.length;--o>-1;)r=i[o],a=r.type,r.style&&(e.push(et(r)),n&&n.push(r)),1!==a&&9!==a&&11!==a||!r.childNodes.length||qt(r,e,n)};return a.cascadeTo=function(t,n,i){var o,r,a,s,l=e.to(t,n,i),c=[l],u=[],h=[],d=[],p=e._internals.reservedProps;for(t=l._targets||l.target,qt(t,u,d),l.render(n,!0,!0),qt(t,h),l.render(0,!0,!0),l._enabled(!0),o=d.length;--o>-1;)if(r=nt(d[o],u[o],h[o]),r.firstMPT){r=r.difs;for(a in i)p[a]&&(r[a]=i[a]);s={};for(a in r)s[a]=u[o][a];c.push(e.fromTo(d[o],n,s,r))}return c},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,n,i,o=this._tween,r=o.vars.roundProps.join?o.vars.roundProps:o.vars.roundProps.split(","),a=r.length,s={},l=o._propLookup.roundProps;--a>-1;)s[r[a]]=Math.round;for(a=r.length;--a>-1;)for(t=r[a],n=o._firstPT;n;)i=n._next,n.pg?n.t._mod(s):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),i&&(i._prev=n._prev),n._prev?n._prev._next=i:o._firstPT===n&&(o._firstPT=i),n._next=n._prev=null,o._propLookup[t]=l)),n=i;return!1},n._add=function(t,e,n,i){this._addTween(t,e,n,n+i,e,Math.round),this._overwriteProps.push(e)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,n,i){var o,r;if("function"!=typeof t.setAttribute)return!1;for(o in e)r=e[o],"function"==typeof r&&(r=r(i,t)),this._addTween(t,"setAttribute",t.getAttribute(o)+"",r+"",o,!1,o),this._overwriteProps.push(o);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,n,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var o,r,a,s,l,c,u=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(o in e)"useRadians"!==o&&(s=e[o],"function"==typeof s&&(s=s(i,t)),c=(s+"").split("_"),r=c[0],a=parseFloat("function"!=typeof t[o]?t[o]:t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]()),s=this.finals[o]="string"==typeof r&&"="===r.charAt(1)?a+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,l=s-a,c.length&&(r=c.join("_"),r.indexOf("short")!==-1&&(l%=u,l!==l%(u/2)&&(l=l<0?l+u:l-u)),r.indexOf("_cw")!==-1&&l<0?l=(l+9999999999*u)%u-(l/u|0)*u:r.indexOf("ccw")!==-1&&l>0&&(l=(l-9999999999*u)%u-(l/u|0)*u)),(l>h||l<-h)&&(this._addTween(t,o,a,a+l,o),this._overwriteProps.push(o)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,i,o=_gsScope.GreenSockGlobals||_gsScope,r=o.com.greensock,a=2*Math.PI,s=Math.PI/2,l=r._class,c=function(e,n){var i=l("easing."+e,function(){},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=n,i},u=t.register||function(){},h=function(t,e,n,i,o){var r=l("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return u(r,t),r},d=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},p=function(e,n){var i=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=n,o.config=function(t){return new i(t)},i},f=h("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=l("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,n){return new v(t,e,n)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},n=l("easing.RoughEase",function(e){e=e||{};for(var n,i,o,r,a,s,l=e.taper||"none",c=[],u=0,h=0|(e.points||20),p=h,f=e.randomize!==!1,v=e.clamp===!0,g=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)n=f?Math.random():1/h*p,i=g?g.getRatio(n):n,"none"===l?o=m:"out"===l?(r=1-n,o=r*r*m):"in"===l?o=n*n*m:n<.5?(r=2*n,o=r*r*.5*m):(r=2*(1-n),o=r*r*.5*m),f?i+=Math.random()*o-.5*o:p%2?i+=.5*o:i-=.5*o,v&&(i>1?i=1:i<0&&(i=0)),c[u++]={x:n,y:i};for(c.sort(function(t,e){return t.x-e.x}),s=new d(1,1,null),p=h;--p>-1;)a=c[p],s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),
g=n.prototype=new t,g.constructor=n,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new n(t)},n.ease=new n,h("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),i=function(e,n,i){var o=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),r=o.prototype=new t;return r.constructor=o,r.getRatio=n,r.config=function(t,e){return new o(t,e)},o},h("Elastic",i("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),i("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),i("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",c("SineOut",function(t){return Math.sin(t*s)}),c("SineIn",function(t){return-Math.cos(t*s)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(o.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var n={},i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var o,r,a,s,l,c=function(t){var e,n=t.split("."),o=i;for(e=0;e<n.length;e++)o[n[e]]=o=o[n[e]]||{};return o},u=c("com.greensock"),h=1e-10,d=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},p=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),v={},g=function(o,r,a,s){this.sc=v[o]?v[o].sc:[],v[o]=this,this.gsClass=null,this.func=a;var l=[];this.check=function(u){for(var h,d,p,f,m,y=r.length,_=y;--y>-1;)(h=v[r[y]]||new g(r[y],[])).gsClass?(l[y]=h.gsClass,_--):u&&h.sc.push(this);if(0===_&&a){if(d=("com.greensock."+o).split("."),p=d.pop(),f=c(d.join("."))[p]=this.gsClass=a.apply(a,l),s)if(i[p]=n[p]=f,m="undefined"!=typeof module&&module.exports,!m&&"function"==typeof define&&define.amd)define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return f});else if(m)if(o===e){module.exports=n[e]=f;for(y in n)f[y]=n[y]}else n[e]&&(n[e][p]=f);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},m=t._gsDefine=function(t,e,n,i){return new g(t,e,n,i)},y=u._class=function(t,e,n){return e=e||function(){},m(t,[],function(){return e},n),e};m.globals=i;var _=[0,0,1,1],b=y("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?_.concat(e):_},!0),x=b.map={},w=b.register=function(t,e,n,i){for(var o,r,a,s,l=e.split(","),c=l.length,h=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(r=l[c],o=i?y("easing."+r,null,!0):u.easing[r]||{},a=h.length;--a>-1;)s=h[a],x[r+"."+s]=x[s+r]=o[s]=t.getRatio?t:t[s]||new t};for(a=b.prototype,a._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:t<.5?i/2:1-i/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=o.length;--r>-1;)a=o[r]+",Power"+r,w(new b(null,null,1,r),a,"easeOut",!0),w(new b(null,null,2,r),a,"easeIn"+(0===r?",easeNone":"")),w(new b(null,null,3,r),a,"easeInOut");x.linear=u.easing.Linear.easeIn,x.swing=u.easing.Quad.easeInOut;var k=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});a=k.prototype,a.addEventListener=function(t,e,n,i,o){o=o||0;var r,a,c=this._listeners[t],u=0;for(this!==s||l||s.wake(),null==c&&(this._listeners[t]=c=[]),a=c.length;--a>-1;)r=c[a],r.c===e&&r.s===n?c.splice(a,1):0===u&&r.pr<o&&(u=a+1);c.splice(u,0,{c:e,s:n,up:i,pr:o})},a.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i)for(n=i.length;--n>-1;)if(i[n].c===e)return void i.splice(n,1)},a.dispatchEvent=function(t){var e,n,i,o=this._listeners[t];if(o)for(e=o.length,e>1&&(o=o.slice(0)),n=this._eventTarget;--e>-1;)i=o[e],i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))};var T=t.requestAnimationFrame,C=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},P=S();for(o=["ms","moz","webkit","o"],r=o.length;--r>-1&&!T;)T=t[o[r]+"RequestAnimationFrame"],C=t[o[r]+"CancelAnimationFrame"]||t[o[r]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var n,i,o,r,a,c=this,u=S(),d=!(e===!1||!T)&&"auto",f=500,v=33,g="tick",m=function(t){var e,s,l=S()-P;l>f&&(u+=l-v),P+=l,c.time=(P-u)/1e3,e=c.time-a,(!n||e>0||t===!0)&&(c.frame++,a+=e+(e>=r?.004:r-e),s=!0),t!==!0&&(o=i(m)),s&&c.dispatchEvent(g)};k.call(c),c.time=c.frame=0,c.tick=function(){m(!0)},c.lagSmoothing=function(t,e){f=t||1/h,v=Math.min(e,f,0)},c.sleep=function(){null!=o&&(d&&C?C(o):clearTimeout(o),i=p,o=null,c===s&&(l=!1))},c.wake=function(t){null!==o?c.sleep():t?u+=-P+(P=S()):c.frame>10&&(P=S()-f+5),i=0===n?p:d&&T?T:function(t){return setTimeout(t,1e3*(a-c.time)+1|0)},c===s&&(l=!0),m(2)},c.fps=function(t){return arguments.length?(n=t,r=1/(n||60),a=this.time+r,void c.wake()):n},c.useRAF=function(t){return arguments.length?(c.sleep(),d=t,void c.fps(n)):d},c.fps(t),setTimeout(function(){"auto"===d&&c.frame<5&&"hidden"!==document.visibilityState&&c.useRAF(!1)},1500)}),a=u.Ticker.prototype=new u.events.EventDispatcher,a.constructor=u.Ticker;var E=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,U){l||s.wake();var n=this.vars.useFrames?Y:U;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});s=E.ticker=new u.Ticker,a=E.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var I=function(){l&&S()-P>2e3&&s.wake(),setTimeout(I,2e3)};I(),a.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},a.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(t,e,n){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale},a._enabled=function(t,e){return l||s.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(t,e){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},a._callback=function(t){var e=this.vars,n=e[t],i=e[t+"Params"],o=e[t+"Scope"]||e.callbackScope||this,r=i?i.length:0;switch(r){case 0:n.call(o);break;case 1:n.call(o,i[0]);break;case 2:n.call(o,i[0],i[1]);break;default:n.apply(o,i)}},a.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[t];null==e?delete o[t]:(o[t]=e,o[t+"Params"]=f(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,o[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,n){if(l||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,o=this._timeline;if(t>i&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?i-t:t)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(j.length&&q(),this.render(t,e,!1),j.length&&q())}return this},a.progress=a.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(l||t||s.wake(),e=i.rawTime(),n=e-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var A=y("core.SimpleTimeline",function(t){E.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});a=A.prototype=new E,a.constructor=A,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(t,e,n,i){var o,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),o=this._last,this._sortChildren)for(r=t._startTime;o&&o._startTime>r;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=o,this._recent=t,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,n){var i,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;o;)i=o._next,(o._active||t>=o._startTime&&!o._paused)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,e,n):o.render((t-o._startTime)*o._timeScale,e,n)),o=i},a.rawTime=function(){return l||s.wake(),this._totalTime};var O=y("TweenLite",function(e,n,i){if(E.call(this,n,i),this.render=O.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:O.selector(e)||e;var o,r,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?W[O.defaultOverwrite]:"number"==typeof l?l>>0:W[l],(s||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=d(e),this._propLookup=[],this._siblings=[],o=0;o<a.length;o++)r=a[o],r?"string"!=typeof r?r.length&&r!==t&&r[0]&&(r[0]===t||r[0].nodeType&&r[0].style&&!r.nodeType)?(a.splice(o--,1),this._targets=a=a.concat(d(r))):(this._siblings[o]=K(r,this,!1),1===l&&this._siblings[o].length>1&&Z(r,this,null,1,this._siblings[o])):(r=a[o--]=O.selector(r),"string"==typeof r&&a.splice(o+1,1)):a.splice(o--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===l&&this._siblings.length>1&&Z(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),M=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},N=function(t,e){var n,i={};for(n in t)G[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!H[n]||H[n]&&H[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i};a=O.prototype=new E,a.constructor=O,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,O.version="1.19.0",O.defaultEase=a._ease=new b(null,null,1,1),O.defaultOverwrite="auto",O.ticker=s,O.autoSleep=120,O.lagSmoothing=function(t,e){s.lagSmoothing(t,e)},O.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(O.selector=n,n(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var j=[],R={},D=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=function(t){for(var e,n=this._firstPT,i=1e-6;n;)e=n.blob?t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<i&&e>-i&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},L=function(t,e,n,i){var o,r,a,s,l,c,u,h=[t,e],d=0,p="",f=0;for(h.start=t,n&&(n(h),t=h[0],e=h[1]),h.length=0,o=t.match(D)||[],r=e.match(D)||[],i&&(i._next=null,i.blob=1,h._firstPT=h._applyPT=i),l=r.length,s=0;s<l;s++)u=r[s],c=e.substr(d,e.indexOf(u,d)-d),p+=c||!s?c:",",d+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),u===o[s]||o.length<=s?p+=u:(p&&(h.push(p),p=""),a=parseFloat(o[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:f&&f<4?Math.round:0}),d+=u.length;return p+=e.substr(d),p&&h.push(p),h.setRatio=F,h},X=function(t,e,n,i,o,r,a,s,l){"function"==typeof i&&(i=i(l||0,t));var c,u,h="get"===n?t[e]:n,d=typeof t[e],p="string"==typeof i&&"="===i.charAt(1),f={t:t,p:e,s:h,f:"function"===d,pg:0,n:o||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:p?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-h||0};if("number"!==d&&("function"===d&&"get"===n&&(u=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f.s=h=a?t[u](a):t[u]()),"string"==typeof h&&(a||isNaN(h))?(f.fp=a,c=L(h,i,s||O.defaultStringFilter,f),f={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):p||(f.s=parseFloat(h),f.c=parseFloat(i)-f.s||0)),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},B=O._internals={isArray:f,isSelector:M,lazyTweens:j,blobDif:L},H=O._plugins={},$=B.tweenLookup={},z=0,G=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Y=E._rootFramesTimeline=new A,U=E._rootTimeline=new A,V=30,q=B.lazyRender=function(){var t,e=j.length;for(R={};--e>-1;)t=j[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);j.length=0};U._startTime=s.time,Y._startTime=s.frame,U._active=Y._active=!0,setTimeout(q,1),E._updateRoot=O.render=function(){var t,e,n;if(j.length&&q(),U.render((s.time-U._startTime)*U._timeScale,!1,!1),Y.render((s.frame-Y._startTime)*Y._timeScale,!1,!1),j.length&&q(),s.frame>=V){V=s.frame+(parseInt(O.autoSleep,10)||120);for(n in $){for(e=$[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete $[n]}if(n=U._first,(!n||n._paused)&&O.autoSleep&&!Y._first&&1===s._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||s.sleep()}}},s.addEventListener("tick",E._updateRoot);var K=function(t,e,n){var i,o,r=t._gsTweenID;if($[r||(t._gsTweenID=r="t"+z++)]||($[r]={target:t,tweens:[]}),e&&(i=$[r].tweens,i[o=i.length]=e,n))for(;--o>-1;)i[o]===e&&i.splice(o,1);return $[r].tweens},J=function(t,e,n,i){var o,r,a=t.vars.onOverwrite;return a&&(o=a(t,e,n,i)),a=O.onOverwrite,a&&(r=a(t,e,n,i)),o!==!1&&r!==!1},Z=function(t,e,n,i,o){var r,a,s,l;if(1===i||i>=4){for(l=o.length,r=0;r<l;r++)if((s=o[r])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===i)break;return a}var c,u=e._startTime+h,d=[],p=0,f=0===e._duration;for(r=o.length;--r>-1;)(s=o[r])===e||s._gc||s._paused||(s._timeline!==e._timeline?(c=c||Q(e,0,f),0===Q(s,c,f)&&(d[p++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((f||!s._initted)&&u-s._startTime<=2e-10||(d[p++]=s)));for(r=p;--r>-1;)if(s=d[r],2===i&&s._kill(n,t,e)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!J(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},Q=function(t,e,n){for(var i=t._timeline,o=i._timeScale,r=t._startTime;i._timeline;){if(r+=i._startTime,o*=i._timeScale,i._paused)return-100;i=i._timeline}return r/=o,r>e?r-e:n&&r===e||!t._initted&&r-e<2*h?h:(r+=t.totalDuration()/t._timeScale/o)>e+h?0:r-e-h};a._init=function(){var t,e,n,i,o,r,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(i in a.startAt)o[i]=a.startAt[i];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=c&&a.lazy!==!1,o.startAt=o.delay=null,this._startAt=O.to(this.target,0,o),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),n={};for(i in a)G[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&a.lazy!==!1,n.immediateRender=c,this._startAt=O.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof b?u:"function"==typeof u?new b(u,a.easeParams):x[u]||O.defaultEase:O.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&O._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(e,n,i,o,r){var a,s,l,c,u,h;if(null==e)return!1;R[e._gsTweenID]&&q(),this.vars.css||e.style&&e!==t&&e.nodeType&&H.css&&this.vars.autoCSS!==!1&&N(this.vars,e);for(a in this.vars)if(h=this.vars[a],G[a])h&&(h instanceof Array||h.push&&f(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(H[a]&&(c=new H[a])._onInitTween(e,this.vars[a],this,r)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)n[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else n[a]=X.call(this,e,a,"get",h,a,0,null,this.vars.stringFilter,r);return o&&this._kill(o,e)?this._initProps(e,n,i,o,r):this._overwrite>1&&this._firstPT&&i.length>1&&Z(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,o,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(R[e._gsTweenID]=!0),l)},a.render=function(t,e,n){var i,o,r,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-7||c===h&&"isPause"!==this.data)&&c!==t&&(n=!0,c>h&&(o="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:h);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(o="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==h||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!e||t||c===t?t:h)),this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,d=this._easeType,p=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),1===d?this.ratio=1-u:2===d?this.ratio=u:t/l<.5?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,j.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==s||i||n)&&this._callback("onUpdate")),o&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===l&&this._rawPrevTime===h&&a!==h&&(this._rawPrevTime=0)))}},a._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:O.selector(e)||e;var i,o,r,a,s,l,c,u,h,d=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((f(e)||M(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(c=t||s,u=t!==o&&"all"!==o&&t!==s&&("object"!=typeof t||!t._tempKill),n&&(O.onOverwrite||this.vars.onOverwrite)){for(r in c)s[r]&&(h||(h=[]),h.push(r));if((h||!t)&&!J(this,n,e,h))return!1}for(r in c)(a=s[r])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[r]),u&&(o[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},a._enabled=function(t,e){if(l||s.wake(),t&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=K(i[n],this,!0);else this._siblings=K(this.target,this,!0)}return E.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(t?"_onEnable":"_onDisable",this)},O.to=function(t,e,n){return new O(t,e,n)},O.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new O(t,e,n)},O.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new O(t,e,i)},O.delayedCall=function(t,e,n,i,o){return new O(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},O.set=function(t,e){return new O(t,0,e)},O.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:O.selector(t)||t;var n,i,o,r;if((f(t)||M(t))&&"number"!=typeof t[0]){for(n=t.length,i=[];--n>-1;)i=i.concat(O.getTweensOf(t[n],e));for(n=i.length;--n>-1;)for(r=i[n],o=n;--o>-1;)r===i[o]&&i.splice(n,1)}else for(i=K(t).concat(),n=i.length;--n>-1;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1);return i},O.killTweensOf=O.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var i=O.getTweensOf(t,e),o=i.length;--o>-1;)i[o]._kill(n,t)};var tt=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=tt.prototype},!0);if(a=tt.prototype,tt.version="1.19.0",tt.API=2,a._firstPT=null,a._addTween=X,a.setRatio=F,a._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},a._mod=a._roundProps=function(t){for(var e,n=this._firstPT;n;)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},O._onPluginEvent=function(t,e){var n,i,o,r,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,i=o;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:o=s,(s._next=i)?i._prev=s:r=s,s=a}s=e._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},tt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===tt.API&&(H[(new t[e])._propName]=t[e]);return!0},m.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,o=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=y("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){tt.call(this,n,i),this._overwriteProps=o||[]},t.global===!0),s=a.prototype=new tt(n);s.constructor=a,a.API=t.API;for(e in r)"function"==typeof t[e]&&(s[r[e]]=t[e]);return a.version=t.version,tt.activate([a]),a},o=t._gsQueue){for(r=0;r<o.length;r++)o[r]();for(a in v)v[a].func||t.console.log("GSAP encountered missing dependency: "+a)}l=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(){if(Xut.IBooks.Enabled){var t=Xut.IBooks.CONFIG.screenSize;if(t)return{width:t.width,height:t.height}}return{width:$(window).width(),height:$(window).height()}}function e(t){return t.width>t.height?"horizontal":"vertical"}function n(t,e){var n=t.screenSize.width,i=t.screenSize.height,o=n,r=i,a=0,s=0;if(1===t.visualMode){e.pptWidth,e.pptHeight;t.pptVertical&&t.screenHorizontal&&(o=e.pptWidth*e.height,s=(n-o)/2),t.pptHorizontal&&t.screenVertical}return 2===t.visualMode&&(t.pptVertical&&(t.screenVertical?(r=e.pptHeight*e.width,a=(i-r)/2):(o=e.pptWidth*e.height,s=(n-o)/2)),t.pptHorizontal&&t.screenVertical&&(r=e.pptHeight*e.width,a=(i-r)/2)),3===t.visualMode&&(t.pptVertical&&t.screenVertical&&(o=e.pptWidth*e.height,s=(n-o)/2),t.pptHorizontal&&t.screenVertical&&(r=e.pptHeight*e.width,a=(i-r)/2)),{width:Pi(o),height:Pi(r),left:Pi(s),top:Pi(a)}}function i(t,e,n){var i=t.screenSize.width,o=t.screenSize.height,r=t.screenHorizontal,a=e?e:r?Ei:Ii,s=n?n:r?Ii:Ei,l=i/a,c=o/s;return{width:l,height:c,left:l,top:c,pptWidth:a,pptHeight:s}}function o(t,e,n){var i=e.width/n.pptWidth,o=e.height/n.pptHeight,r=0,a=0;return{width:i,height:o,left:i,top:o,offsetTop:r,offsetLeft:a}}function r(){Wi=null,Yi=null,Ui=null,Vi=null}function a(){Hi=!1,$i=!1,zi=!1,Gi=!1,Li.pathAddress=Ji()}function s(n,i){Li.screenSize=t(),Li.screenHorizontal=Li.screenSize.width>Li.screenSize.height,Li.screenVertical=!Li.screenHorizontal,Xi=Li.layoutMode=e(Li.screenSize),no(n,i)}function l(t,e,n,i,o){io(t,e,{value:n,enumerable:i,writable:o,configurable:!0})}function c(t,e,n){io(t,e,{get:n.get,set:n.set})}function u(t){return Number(t)||null}function h(){return Object.create(null)}function d(t,e){for(var n in e)n&&(t[n]?console.log("接口方法重复","Key->"+n,"Value->"+t[n]):t[n]=e[n])}function p(t){if(t){var e;try{e=JSON.parse(t)}catch(n){console.log("parseJSON失败:"+t)}return e}}function f(t){return t.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,"")}function v(t){try{var e="(function(){"+f(t)+"})";return new Function("return "+e)()}catch(n){console.log("解析json出错"+t)}}function g(t){if(t&&t.length){for(var e=t.length;--e;)t.lastIndexOf(t[e],e-1)>-1&&t.splice(e,1);return t}return t}function m(t,e){vo(po,t,e)}function y(t,e){vo(fo,t,e)}function b(t,e,n){switch(n.type){case"touchstart":case"mousedown":t.start&&t.start.call(e,n);break;case"touchmove":case"mousemove":t.move&&t.move.call(e,n);
break;case"touchend":case"mouseup":case"mousecancel":case"touchcancel":t.end&&t.end.call(e,n);break;case oo:t.transitionend&&t.transitionend.call(e,n)}}function x(t,e){var n=null;return ao&&(n=t.touches,n&&n.length>0&&(t=n[0])),e?t:t.target}function w(t,e){var n,i=t.sheet,o=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536;if(o)i&&(n=!0);else if(i)try{i.cssRules&&(n=!0)}catch(r){"NS_ERROR_DOM_SECURITY_ERR"===r.name&&(n=!0)}setTimeout(function(){n?e():w(t,e)},20)}function k(t,e,n,i){function o(){if(t.onload=t.onerror=t.onreadystatechange=null,!n){var i=document.getElementsByTagName("head")[0]||document.documentElement;i.removeChild(t)}t=null,e()}var r="onload"in t;+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536;return n?void setTimeout(function(){w(t,e)},1):void(r?(t.onload=o,t.onerror=function(){o()}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&o()})}function T(t,e,n){var i=/\.css(?:\?|$)/i,o=i.test(t),r=document.createElement(o?"link":"script");if(n){var a=$.isFunction(n)?n(t):n;a&&(r.charset=a)}k(r,e,o,t),o?(r.rel="stylesheet",r.href=t):(r.async=!0,r.src=t);var s=document.getElementsByTagName("head")[0]||document.documentElement,l=s.getElementsByTagName("base")[0];l?s.insertBefore(r,l):s.appendChild(r)}function C(t){t=ko(t),xo.removeItem(t)}function S(){_o=null}function P(t,e){To(t||bo,JSON.stringify(e))}function E(t){var e,n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),e=p(n.responseText)}function I(t,e){var n=function(t){return t.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,"")};try{new Function("return "+n(t))()}catch(i){console.log("加载脚本错误",e)}}function A(t){return window.DYNAMICCONFIGT&&-1!==t.indexOf("content/gallery/")&&(t=t.replace(/content\/gallery/gi,Xut.config.pathAddress)),t}function O(t){var e=Po(t.width,t.height,t.left,t.top),n=Po(t.backwidth,t.backheight,t.backleft,t.backtop);return t.scaleWidth=So(e.width),t.scaleHeight=So(e.height),t.scaleLeft=So(e.left),t.scaleTop=So(e.top),t.scaleBackWidth=So(n.width),t.scaleBackHeight=So(n.height),t.scaleBackLeft=So(n.left),t.scaleBackTop=So(n.top),t}function M(t,e,n){var i,o,r;return Xut.IBooks.CONFIG?(/.svg$/.test(t)&&(t=t.replace(".svg",".js")),i=Li.svgPath().replace("svg","js")+t,o=t.replace(".js",""),void T(i,function(){r=window.HTMLCONFIG[o]||window.IBOOKSCONFIG[o],r?(e(r),delete window.HTMLCONFIG[o],delete window.IBOOKSCONFIG[o]):e("编译:脚本加载失败,文件名:"+o)})):"js"===n?(i=Li.svgPath()+t,o=t.replace(".js",""),void T(i,function(){r=window.window.HTMLCONFIG[o],r?(e(r),delete window.window.HTMLCONFIG[o]):e("运行：脚本加载失败,文件名:"+t)})):void(Xut.plat.isBrowser&&!Li.isPlugin?$.ajax({type:"get",dataType:"html",url:Li.svgPath().replace("www/","")+t,success:function(t){e(t)},error:function(n,i){e("ReadFile数据加载失败"),console.log("SVG"+t+"解析出错!")}}):Xut.Plugin.ReadAssetsFile.readAssetsFileAction(Li.svgPath()+t,function(t){e(t)},function(t){e("数据加载失败")}))}function N(t){for(var e=t.length,n=$o(e),i="",o=void 0,r=void 0,a=void 0,s=void 0,l=0;l<e;l++)a=t[l],o=a.seasonId,r=a._id,s=o+"-"+r,i+='<li style="'+n.contentstyle+'">\n                <div data-xxtlink="'+s+'">\n                    '+(l+1)+"\n                </div>\n           </li>";var c='<div id="xut-nav-wrapper" style="'+n.containerstyle+'">\n            <div style="width:'+n.overwidth+"px;\n                                           height:"+n.overHeigth+"px;\n                                           "+n.scroller+'">\n                <ul id="xut-nav-section-list">\n                    '+i+"\n                </ul>\n            </div>\n        </div>";return String.styleFormat(c)}function j(){return window.DUKUCONFIG?void Xut.Application.Stop({processed:function(){Xut.Application.DropApp()}}):void Xut.Application.Stop({processed:function(){Xut.View.GotoSlide(1)}})}function R(t){return'<div class="xut-control-backhome"\n                 style="float:left;text-indent:0.25em;height:'+t+"px;line-height:"+t+'px;color:#007aff">\n                主页\n            </div>'}function D(t){return'<div class="xut-control-navbar"\n                 style="float:left;margin-left:4px;width:'+t+"px;height:"+t+'px;background-size:cover">\n            </div>'}function F(t,e){return'<div class="xut-control-title"\n                 style="z-index:-99;width:100%;position:absolute;line-height:'+t+'px;pointer-events:none">\n                '+e+"\n            </div>"}function L(t,e,n){var i=.25*t,o=.5*t;return'<div class="xut-control-pageIndex"\n                 style="float:right;\n                        margin:'+i+"px 4px;\n                        padding:0 0.25em;\n                        height:"+o+"px;\n                        line-height:"+o+'px;\n                        border-radius:0.5em">\n                  <span class="control-current-page">'+e+"</span>/<span>"+n+"</span>\n            </div>"}function X(t){return'<div class="xut-control-hidebar"\n                 style="float:right;width:'+t+"px;height:"+t+'px;background-size:cover">\n            </div>'}function B(t){return'<div class="si-icon icomoon icon-close"\n                 style="float:right;margin-right:4px;width:'+t+"px;height:"+t+'px">\n            </div>'}function H(t){Qo=t}function z(t,e){if(Qo&&(t||e)){var n=Qo[t],i=0;for(var o in n)o<=e&&(i+=n[o],--i);return i>0?i:0}}function G(t,e){if(Qo&&(t||e)){var n=Qo[t],i=0;for(var o in n)o<e&&(i+=n[o],--i);return i>0?i:0}}function W(t){if(Qo)return Object.keys(Qo[t]).length}function Y(t,e){if(Qo){if(t){if(e)return Qo[t]&&Qo[t][e];var n=Qo[t],i=0;for(var o in n)i+=n[o];return i}console.log("getCounts失败")}}function U(t,e){return!!Y(t,e)}function V(t){Xut.Contents.Canvas.Reset(),Xut.Contents.Canvas.SupportSwipe=t,Xut.Contents.Canvas.isTap=!0}function q(){Xut.Contents.Canvas.isSwipe=!0}function K(t){var e;return e=t.touches&&t.touches[0]?t.touches[0]:t}function J(t,e,n){t.isTap=!1;var i=function(e){var i=K(e);t.pageX=i.pageX,t.isTap=!0,V(n)},o=function(e){if(t.isTap){var i=K(e),o=i.pageX-t.pageX;Math.abs(o)&&(t.isTap=!1,q(n))}},r=function(){t.isTap&&e()};return t=t[0],hr?(t.isTap=!0,t.addEventListener("click",r,!1)):m(t,{start:i,move:o,end:r}),{off:function(){t&&(hr?t.removeEventListener("click",r,!1):y(t,{start:i,move:o,end:r}),t=null)}}}function Z(t){var e=[];switch(t){case"swipeleft":case"swiperight":case"swipeup":case"swipedown":var n=Hammer.DIRECTION_HORIZONTAL;"swipeup"!==t&&"swipedown"!==t||(n=Hammer.DIRECTION_VERTICAL),e.push([Hammer.Swipe,{direction:n,velocity:.01}]);break;case"doubletap":e.push([Hammer.Tap]),e.push([Hammer.Tap,{event:"doubletap",taps:2},["tap"]]);break;case"press":return void e.push([Hammer.Press])}return e}function Q(t,e,n){var i,o=t[0],r=Z(e);return i=r&&r.length?Hammer(o,{recognizers:r}):Hammer(o)}function tt(t,e,n,i){var o=Q(t,e,i);return o.on(e,function(){n()}),o}function et(t){return pr.indexOf(t)===-1}function nt(t,e){t?e.attr("data-behavior","swipe"):e.attr("data-behavior","disable")}function it(t,e){e&&(e.prop("setCursor")||("drag"===t?e.css("cursor","Move"):e.css("cursor","Pointer"),e.prop("setCursor","true")))}function ot(t,e){var n,i,o,r,a,s;switch(r=e.eventContext,a=e.eventName,s=e.supportSwipe,a){case"drag":n=new ur(r,null,e.parameter,t.startRun,t.stopRun);break;case"dragTag":n=new ur(r,e.target,1,t.startRun,t.stopRun);break;default:i=function(){e.eventRun.call(r)},o="tap"===a?J(r,i,s):tt(r,a,i,s)}return[n,o,i]}function rt(t){Xut.plat.isBrowser&&t.domMode&&it(t.eventName,t.eventContext);var e=t.eventDrop,n=ot(e,t);n[0]&&e.init?e.init(n[0]):t.eventHandler(n[1],n[2])}function at(t){return dr[Number(t)-1]||null}function st(t){var e=t.supportSwipe=et(t.eventName);t.domMode&&nt(e,t.eventContext),rt(t)}function lt(t,e){t.eventReference&&(t.eventReference.off(e||t.eventName,t.eventHandler),t.eventReference=null,t.eventHandler=null)}function ct(t,e){gr(t,e)}function ut(t){var e;(e=t.listenerHooks.registerEvents)&&_.each(e,function(t){_.each(t,function(t){t.destroy&&t.destroy()})}),t.listenerHooks.registerEvents=null}function ht(){this.remove()}function dt(t,e,n){switch(t){case"page":return Tr(e,n);case"master":return _r(e,n);case"chapter":return yr(e);case"scenarioChapter":return mr(e)}}function pt(t,e){var n=this,i=n.pageType,o=function(t,e){var i=void 0;if(n._dataCache[t])for(i in e)n._dataCache[t][i]=e[i];else n._dataCache[t]=e},r=function(t,e,i){o(n.pageType,t),o("activitys",e),o("auto",i)};dt(i,{pageIndex:t,pageData:n.chapterData,pptMaster:n.pptMaster},function(t,n,i){r.apply(r,arguments),e(t)})}function ft(t,e,n){var i=void 0,o=void 0,r=t.pageType+"-"+(t.pageIndex+1)+"-"+t.chapterId,a=t.getStyle;return Xut.IBooks.runMode()?(i=$("#"+r),void n(i,o)):(i=Pr(t,e,a,r),void Xut.nextTick({container:t.rootNode,content:i,position:"before"===a.direction?"first":"last"},function(){n(i,o)}))}function vt(t,e){var n=e.imageLayer,i=(e.imageMask,e.backImage),o=e.backMask,r=e.master,a=e.md5,s=e.pptMaster;if(a&&!r&&!s&&!n)return t?String.styleFormat('<div data-multilayer ="true"\n                      class="multilayer">\n                    '+t+"\n                </div>"):"";Ir(e);var l="";if(r&&!s){var c=e.path+r;l='<div class="multilayer-master"\n                  style="background-image:url('+c+')">\n             </div>'}var u="";if(n){var h=e.imageMask?Er+":url("+e.path+e.imageMask+");":"",d=e.path+n;u='<div class="multilayer-imageLayer"\n                  style="width:'+e.imageWidth+"px;\n                         height:"+e.imageHeight+"px;\n                         top:"+e.imageTop+"px;\n                         left:"+e.imageLeft+"px;\n                         background-image:url("+d+");"+h+'">\n            </div>'}var p="";if(i){var f=Ar(e.pageSide),v=f?f:"",g=f?"200%":"100%",m=e.path+i,y=e.path+o;p=o?void 0!=Er?'<div class="multilayer-backImage"\n                          style="width:'+g+";\n                                 background-image:url("+m+");\n                                 "+Er+":url("+y+");\n                                 "+v+'">\n                    </div>':'<canvas class="multilayer-backImage edges"\n                             height='+document.body.clientHeight+"\n                             width="+document.body.clientWidth+"\n                             src="+m+"\n                             mask="+y+'\n                             style="width:'+g+";\n                                    opacity:0;\n                                    "+Er+":url("+m+");\n                                    "+v+'">\n                    </canvas>':'<div class="multilayer-backImage"\n                                  style="width:'+g+";\n                                         background-image:url("+m+");\n                                         "+v+'">\n                            </div>'}var _="";return a&&(_='<div class="multilayer-word">\n                            '+t+"\n                        </div>"),String.styleFormat('<div data-multilayer ="true"\n              class="multilayer">\n            '+l+"\n            "+u+"\n            "+p+"\n            "+_+"\n        </div>")}function gt(t,e){var n,i=e.data,o=t.split(","),r=o.length,a=0,s=o.indexOf("PPT");if(0==s&&(o=o.concat(o.splice(s,1))),r)for(var a=0;a<r;a++)n=o[a],Nr[n]&&Nr[n](e,i)}function mt(t,e,n,i){if(Xut.config.onlyDomMode){if(e){var o=e.split(","),r=o.length;if(r>1){var a=o.indexOf("PPT");-1!=a&&o.splice(a,1)}n.category=o[0]}}else{n.actionTypes={};var s={contentId:t,conData:n,data:i};e&&gt(e,s)}}function yt(t,e){var n,i=[];return t.forEach(function(t,o){n=Xut.data.query("Content",t),i.unshift(n),e&&e(n,t)}),i}function _t(t,e){var n,i,o,r={createUUID:[],containerName:[]};return t.forEach(function(t,a){i=t.imageIds,o="Container_"+e+"_"+i,n="aaron"+Math.random(),r[n]={start:[jr(o,i,e)],end:"</div>"},r.createUUID.push(n),r.containerName.push(o),t.itemIds.forEach(function(t){r[t]=n})}),r}function bt(t,e){var n="";return n+=$r(t,e),n+=Hr(t,e),n+="</div></div>"}function xt(t,e){var n="";if(t.category){var i=t.category.split(","),o=i.length;if(o)for(;o--;)n+=i[o]}var r='<canvas id="{0}" data-ctype={1} width="{2}" height="{3}"></canvas>',a=String.format(r,e.makeId("canvas"),n.toLocaleLowerCase(),t.scaleWidth,t.scaleHeight);return a}function wt(t,e,n){function i(t,e,n){S[n]=e,o(n,t)}function o(t,e){Wr(e,function(e){var n=void 0,i=void 0,o=void 0,a=e.data;Gr(e,a),o=a.canvasMode?xt(a,e):bt(a,e),c&&(n=c[t])?(i=c[n],i.start.push(o)):P.unshift(o),r()})}function r(){if(1===f){var e={contentDas:S,idFix:C,contentHtmlBoxIds:T,containerPrefix:""};if(c){var i,o,r,a;a=[],c.createUUID.forEach(function(t){i=c[t].start.join(""),o=c[t].end,a.push(i.concat(o))}),a=a.join(""),r=c.containerName,c=null,e.contentStr=P.join("").concat(a),e.containerPrefix=r}else e.contentStr=P.join("");t.call(n,e)}f--}var a,s,l,c,u,h,d,f,v=e.pid,g=e.pageType,m=e.containerRelated,y=e.seasonRelated,b="master"===g,x=e.virtualOffset,w=e.floatMaters,k=e.floatPages,T=[],C=[],S={},P=[];m&&m.length&&(c=_t(m,v));var E=function(t,e,n){var i;_.each(t,function(t){i=t.topmost,i&&0!=i&&(b?(w.ids.push(e),w.zIndex[e]=i):(k.ids.push(e),k.zIndex[e]=i))})},I=function(t,n){var i,o,r=t.category;b&&(i=y[n])&&i.BookMarks&&w.ids.push(n),t&&(r&&mt(n,r,t,e),t.parameter&&(o=p(t.parameter))&&E(o.length?o:[o],n,t))};for(h=yt(e.createContentIds,I),d=f=h.length,e.canvasRelated.onlyCompSprite&&(e.canvasRelated.enable=!0);d--;)(a=h[d])?(s=a._id,l=zr(s,a,g,v,x),C.push(l.containerName),l.isJs&&T.push(s),u=O(l.data),i(l,a,s)):r()}function kt(t){var e=t[0],n=t[1],i=t[2],o='<div class="htmlbox_close_container">\n            <a class="htmlbox_close"></a>\n        </div>\n        <ul class="htmlbox_fontsizeUl">\n            <li>\n                <a class="htmlbox_small"\n                   style="width:'+e+"px;height:"+e+"px;margin-top:-"+e/2+'px"></a>\n            </li>\n            <li>\n                <a class="htmlbox_middle"\n                   style="width:'+n+"px;height:"+n+"px;margin-top:-"+n/2+'px"></a></li>\n            <li>\n                <a class="htmlbox_big"\n                   style="width:'+i+"px;height:"+i+"px;margin-top:-"+i/2+'px"></a>\n            </li>\n        </ul>';return String.styleFormat(o)}function Tt(t,e,n,i){var o='<div class="htmlbox-container">\n            <div class="htmlbox-toolbar" style="height:'+t+"px;line-height:"+t+'px;">'+e+'</div>\n            <div class="'+n+'" style="overflow:hidden;position:absolute;width:100%;height:92%;">\n                <ul>'+i+"</ul>\n            </div>\n        </div>";return String.styleFormat(o)}function Ct(t){t.htmlTextBox=function(){var t,e,n,i=this,o=this.relatedData,r=o.contentHtmlBoxIds;this.htmlBoxInstance=[],r.length&&o.contentDas&&_.each(o.contentDas,function(o){~r.indexOf(o._id)&&(t=o._id,e=i.makePrefix("Content",i.pid,t),n=i.getContextNode(e),n.attr("data-htmlbox")||(i.htmlBoxInstance.push(new ta(t,n)),n.attr("data-htmlbox","true")))})}}function St(t){this.parent=t.parent,this.pageId=t.pageId,this.seasonId=t.seasonId,this.isStored=!1,this.init()}function Pt(t){t.createBookMark=function(){var t,e,n,i;"master"===this.pageType?(i=Xut.Presentation.GetPageData(),t=this.relatedData.floatMaters.container,n=i._id,e=i.seasonId):(t=this.$containsNode,e=this.relatedData.seasonId,n=this.pageId);var o={parent:t,seasonId:e,pageId:n};this.bookMark?this.bookMark.restore():this.bookMark=new St(o)}}function Et(t){this.parent=t.parent,this.tips=t.tips,this.init()}function It(t){t.createSearchBar=function(){var t={parent:this.$containsNode};this.searchBar?this.searchBar.restore():this.searchBar=new Et(t)}}function At(t){function e(t){o.style.backgroundImage="url("+Xut.config.pathAddress+t+")"}function n(t){t=t.split(","),Xut.Assist.Run(r,t)}function i(t){t=t.split(","),Xut.Assist.Stop(r,t)}var o=document.querySelector("#Audio_"+t.audioId),r=o.getAttribute("data-belong");return{play:function(){t.startImg&&e(t.startImg),t.startScript&&n(t.startScript)},pause:function(){t.stopImg&&e(t.stopImg),t.stopScript&&i(t.startScript)},destroy:function(){o=null}}}function Ot(t,e,n){var i=function o(){var t=void 0,e=void 0;for(e=0;e<ca;e++)t=new Audio,t.play(),ua.push(t);y(document,{start:o})};m(document,{start:i})}function Mt(){for(var t=0;t<ua.length;t++)ua[t]=null;ua=null}function Nt(){return ua.length}function jt(){var t=ua[la++];return t?t:(la=0,jt())}function Rt(t){t.fillEventData=function(){var t,e,n,i,o=this.eventData;if(e=this.pid,t=o.eventContentId){var r=function(){n=this.makePrefix("Content",e,this.id),o.type="dom",o.canvasMode=!1,o.domMode=!0},a=function(){n=this.makePrefix("canvas",e,this.id),o.type="canvas",o.canvasMode=!0,o.domMode=!1};-1!==this.canvasRelated.cid.indexOf(t)?a.call(this):r.call(this),i=this.getContextNode(n),o.eventContext=i,i?this.relatedCallback.contentsHooks(e,t,{$contentNode:i,isBindEventHooks:!0,type:o.type}):o.parent=this}o.eventName=at(o.eventType)},t.bindEventBehavior=function(t){var e=this,n=this.eventData,i=n.eventName,o=n.eventContext,r=function(){var t,i=5;if(n.domMode&&(t=o.prop("animOffset"))){var r=t.left,a=t.top,s=o.offset(),l=s.left,c=s.top;(r>l-i&&r<l+i||a>c-i&&a<c+i)&&e.runAnimation()}else e.runAnimation()},a=function(t){var i;if(i=t.behaviorSound){var a=function(){return new da({url:i,trackId:9999,complete:function(){this.play()}})};window.MMXCONFIG&&window.audioHandler?e._fixAudio.push(a()):a()}t.isButton?n.domMode?(o.addClass("xut-behavior"),setTimeout(function(){o.removeClass("xut-behavior"),r()},500)):console.log("feedbackBehavior"):r()},s={init:function(t){n.dragDrop=t},startRun:function(){},stopRun:function(t){t&&e.runAnimation()}},l=function(){var t;(t=n.feedbackBehavior[n.eventContentId])?a(t):r()},c=function(t,e){n.eventReference=t,n.eventHandler=e};if(o&&i){var u,h,d;d=n.dragdropPara,"dragTag"===i&&(u=this.makePrefix("Content",this.pid,d),h=this.getContextNode(u)),n.isBind=!0,st({eventDrop:s,eventRun:l,eventHandler:c,eventContext:o,eventName:i,parameter:d,target:h,domMode:n.domMode})}}}function Dt(t,e){var n=1,i=void 0;"loop"==e.playerType&&(n=0),(i=ba[t])?i.play(e.actList,n):console.log("error")}function Ft(t,e){var n=xa(t,e),i=Li.jsWidgetPath()+"gallery/"+t.id+"/",o=t.contentPrefix,r=[],a={};a.contentPrefix=o,a.resourcePath=i,a.type="seniorSprite";for(var s=0;s<n.spiritList.length;s++){var l=n.spiritList[s],c=ka(l,o),u=l.framId,h=l.parentId;_.isObject(t)?("0"!=h&&wa(o,u,h),ba[c]=new _a(l,a),r.push(c)):console.log("inputPara undefine Spirit")}return{stop:function(){r.forEach(function(t){ba[t].stop()})},destroy:function(){r.forEach(function(t){ba[t].destroy(),ba[t]=null,delete ba[t]})}}}function Lt(t,e,n){Ha(t,e,n)}function Xt(t,e,n){Ha(t,e,n)}function Bt(t){if(Na&&Na[t]){for(var e in Na[t])Na[t][e].close();delete Na[t]}Ma&&Ma[t]&&delete Ma[t]}function Ht(){var t=!1;for(var e in Na)for(var n in Na[e])Na[e][n].close(),t=!0;return ja(),t}function $t(t){for(var e in Na)for(var n in Na[e])Na[e][n].stop()}function zt(t,e,n){Ka(t,e,$a,n),Qa(t,e,$a)}function Gt(t,e,n){Ka(t,e,$a,n),ts(t,e,$a)}function Wt(){var t,e,n;for(t in Da)for(e in Da[t])for(n in Da[t][e])Da[t][e][n].pause()}function Yt(t,e){Ka(t,e,za),Qa(t,e,za)}function Ut(t){if(!Da[za]||!Da[za][t])return!1;var e=Da[za][t];if(e)for(var n in e)e[n].end(),delete Da[za][t][n]}function Vt(t){t?Ut(t):es()}function qt(t){t.getEffectAppear=function(t,e,n,i,o,r){var a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});return 0==n?a.to(e,.001,{autoAlpha:1}):a.to(e,.001,{css:{visibility:"hidden"}}),a},t.getEffectFade=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,ease:t.tweenEase,immediateRender:!1})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),a.to(e,i,{autoAlpha:0,ease:t.tweenEase})),a},t.getEffectFlashOnce=function(t,e,n,i,o){var r=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=n/3;return r.to(e,.001,{css:{visibility:"hidden"}}).to(e,2*a,{}).to(e,a,{css:{visibility:"visible"}}),r},t.getEffectDesaturate=function(t,e,n,i,o){function r(){var t=s.progress(),n=t<=.5?2*t:1,i=1+(a-1)*n;e.css(ns,"saturate("+i+")")}if(!(ns in e[0].style))return new TimelineMax;var a=t.saturation?t.saturation:.5,s=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return s.to(e,n,{onUpdate:r}),s},t.getEffectDarken=function(t,e,n,i,o){function r(){var t=s.progress(),n=t<=.5?2*t:1,i=1+(a-1)*n;e.css(ns,"brightness("+i+")")}if(!(ns in e[0].style))return new TimelineMax;var a=t.brightness&&t.brightness<1?a.saturation:.5,s=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return s.to(e,n,{onUpdate:r}),s},t.getEffectLighten=function(t,e,n,i,o){function r(){var t=s.progress(),n=t<=.5?2*t:1,i=1+(a-1)*n;e.css(ns,"brightness("+i+")")}if(!(ns in e[0].style))return new TimelineMax;var a=t.brightness&&t.brightness>1?t.brightness:1.5,s=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return s.to(e,n,{onUpdate:r}),s},t.getEffectTransparency=function(t,e,n,i,o){var r=t.amount?t.amount:.5,a=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});return a.to(e,n,{autoAlpha:r,ease:t.tweenEase}),a}}function Kt(t){t.getEffectFly=function(t,e,n,i,o,r){var a,s,l=t.direction,c=null,u=this._getObjectInfo(e),h=Expo.easeOut;if(t.tweenEase&&t.tweenEase.length>0&&(h=t.tweenEase),1!=t.smoothStart&&1!=t.smoothEnd&&1!=t.bounceEnd||(h=1==n?Power4.easeOut:Elastic.easeOut),0==n)switch(c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"visible"}]}),l){case"DirectionDown":s=u.offsetBottom+u.height,c.from(e,i,{y:s,ease:h,immediateRender:!1});break;case"DirectionLeft":a=0-(u.offsetLeft+u.width),c.from(e,i,{x:a,ease:h,immediateRender:!1});break;case"DirectionUp":s=0-(u.offsetTop+u.height),c.from(e,i,{y:s,ease:h,immediateRender:!1});break;case"DirectionRight":a=u.offsetRight+u.width,c.from(e,i,{x:a,ease:h,immediateRender:!1});break;case"DirectionDownLeft":a=0-(u.offsetLeft+u.width),s=u.offsetBottom+u.height,c.from(e,i,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionDownRight":a=u.offsetRight+u.width,s=u.offsetBottom+u.height,c.from(e,i,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionUpLeft":a=0-(u.offsetLeft+u.width),s=0-(u.offsetTop+u.height),c.from(e,i,{x:a,y:s,ease:h,immediateRender:!1});break;case"DirectionUpRight":a=u.offsetRight+u.width,s=0-(u.offsetTop+u.height),c.from(e,i,{x:a,y:s,ease:h,immediateRender:!1});break;default:console.log("getEffectFly:parameter error.")}else switch(c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{x:0,y:0,visibility:"hidden"}]}),l){case"DirectionDown":s=u.offsetBottom+u.height,c.to(e,i,{y:s,ease:h});break;case"DirectionLeft":a=0-(u.offsetLeft+u.width),c.to(e,i,{x:a,ease:h});break;case"DirectionUp":s=0-(u.offsetTop+u.height),c.to(e,i,{y:s,ease:h});break;case"DirectionRight":a=u.offsetRight+u.width,c.to(e,i,{x:a,ease:h});break;case"DirectionDownLeft":a=0-(u.offsetLeft+u.width),s=u.offsetBottom+u.height,c.to(e,i,{x:a,y:s,ease:h});break;case"DirectionDownRight":a=u.offsetRight+u.width,s=u.offsetBottom+u.height,c.to(e,i,{x:a,y:s,ease:h});break;case"DirectionUpLeft":a=0-(u.offsetLeft+u.width),s=0-(u.offsetTop+u.height),c.to(e,i,{x:a,y:s,ease:h});break;case"DirectionUpRight":a=u.offsetRight+u.width,s=0-(u.offsetTop+u.height),c.to(e,i,{x:a,y:s,ease:h});break;default:console.log("getEffectFly:parameter error.")}return c},t.getEffectAscend=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,y:100,ease:t.tweenEase,immediateRender:!1})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,y:0}]}),a.to(e,i,{autoAlpha:0,y:100,ease:t.tweenEase})),a},t.getEffectDescend=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,y:-100,ease:t.tweenEase,immediateRender:!1})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),a.to(e,i,{autoAlpha:0,y:-100,ease:t.tweenEase,clearProps:"y"})),a},t.getEffectPeek=function(t,e,n,i,o,r){var a=t.direction,s=null,l=this._getObjectInfo(e);if(0==n)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionUp":s.from(e,i,{y:-l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionDown",l]});break;case"DirectionDown":s.from(e,i,{y:l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionUp",l]});break;case"DirectionLeft":s.from(e,i,{x:-l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionRight",l]});break;case"DirectionRight":s.from(e,i,{x:l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionLeft",l]});break;default:console.log("getEffectPeek:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionUp":s.to(e,i,{y:-l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionUp",l]});break;case"DirectionDown":s.to(e,i,{y:l.height,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionDown",l]});break;case"DirectionLeft":s.to(e,i,{x:-l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionLeft",l]});break;case"DirectionRight":s.to(e,i,{x:l.width,ease:Linear.easeNone,onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,"DirectionRight",l]});break;default:console.log("getEffectPeek:parameter error.")}return s},t.getEffectSpiral=function(t,e,n,i,o,r){var a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==n?a.from(e,i,{scale:0,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:-200},{x:0,y:-400},{x:-500,y:-600}]},ease:s}):a.to(e,i,{scale:0,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:-200},{x:0,y:-400},{x:-500,y:-600}]},ease:s}),a},t.getEffectArcUp=function(t,e,n,i,o,r){var a=null,s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,scale:2,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:200},{x:0,y:400},{x:-500,y:600}]},ease:s})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1}]}),a.to(e,i,{autoAlpha:0,scale:2,bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:200},{x:0,y:400},{x:-500,y:600}]},ease:s,clearProps:"x,y"})),a},t.getEffectRiseUp=function(t,e,n,i,o,r){var a=null,s=this._getObjectInfo(e),l=s.offsetBottom+s.height,c=Back.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(c=t.tweenEase),0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,y:l,ease:c})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),a.to(e,i,{autoAlpha:0,y:l,ease:c})),a}}function Jt(t,e){var n=t.x-e.x,i=t.y-e.y;return is(os(n*n+i*i,.5))}function Zt(t,e){var n="";return t.y==e.y&&t.x>e.x?n="+x":t.y==e.y&&t.x<e.x?n="-x":t.x==e.x&&t.y>e.y?n="+y":t.x==e.x&&t.y<e.y?n="-y":t.x>e.x&&t.y<e.y?n="1":t.x>e.x&&t.y>e.y?n="2":t.x<e.x&&t.y>e.y?n="3":t.x<e.x&&t.y<e.y&&(n="4"),n}function Qt(t,e){if(t=t.toUpperCase(),rs.test(t)){for(var n=new Array,i=1,o=1;o<=3;o++)t.length-2*o>3-o?(n.push(Number("0x"+t.substring(i,i+2))),i+=2):(n.push(Number("0x"+t.charAt(i)+t.charAt(i))),i+=1);return e&&e>0?"RGBA("+n.join(",")+","+e+")":"RGB("+n.join(",")+")"}return console.error("Hex Color string("+t+") format conversion error."),t}function te(t){t.getPathAnimation=function(t,e,n,i,o){function r(t,e){C=t,S=e}function a(){if(0!=d){var t=b;b=e.offset(),""==x?b.left>t.left?x="left":b.left<t.left&&(x="right"):b.left>t.left?"right"==x&&(_=0==_?180:0,TweenLite.set(e.children(),{rotationY:_}),x="left"):b.left<t.left&&"left"==x&&(_=0==_?180:0,TweenLite.set(e.children(),{rotationY:_}),x="right")}}var s=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l=t.path?t.path:"";if(!l||""==l)return s;var c=1==t.autoReverse,u=1==c?1:0,h=1==t.objFollow,d=2==t.objFollow,p=0,f=0,v=null;t.attrAlongPath&&(p=t.attrAlongPath.axis?t.attrAlongPath.axis:0,f=Math.abs(t.attrAlongPath.degree)>0?Number(t.attrAlongPath.degree):0,v=t.attrAlongPath.scaleFactor>0?t.attrAlongPath.scaleFactor:null);for(var g,m,y=0,_=0,b=e.offset(),x="",w={top:b.top,left:b.left,oX:b.left+e.width()/2,oY:b.top+e.height()/2},k=0,T=0,C=0,S=0,P=l.indexOf("C")<0&&l.indexOf("c")<0,E=l.split(" "),I="",A=[],O=0;O<E.length;O++){var M=E[O];switch(M){case"M":case"m":g=Math.round(E[O+1]*this.screenWidth),m=Math.round(E[O+2]*this.screenHeight),A.push({x:g,y:m}),O+=2,r(g,m),I+="M "+(w.oX+g)+" "+(w.oY+m);break;case"C":case"c":var N=k+Math.round(E[O+1]*this.screenWidth),j=T+Math.round(E[O+2]*this.screenHeight),R=k+Math.round(E[O+3]*this.screenWidth),D=T+Math.round(E[O+4]*this.screenHeight),F=k+Math.round(E[O+5]*this.screenWidth),L=T+Math.round(E[O+6]*this.screenHeight);A.push({x:N,y:j},{x:R,y:D},{x:F,y:L}),O+=6,r(F,L),I+=" C "+(w.oX+N)+" "+(w.oY+j)+" "+(w.oX+R)+" "+(w.oY+D)+" "+(w.oX+F)+" "+(w.oY+L);break;case"L":case"l":if(g=k+Math.round(E[O+1]*this.screenWidth),m=T+Math.round(E[O+2]*this.screenHeight),g==C&&m==S){O+=2;break}A.push({x:g,y:m}),O+=2,r(g,m),I+=" L "+(w.oX+g)+" "+(w.oY+m);break;case"Z":A[0].x==A[A.length-1].x&&A[0].y==A[A.length-1].y||A.push({x:A[0].x,y:A[0].y}),I+=" Z";break;case"E":}}if(t.gesture){s=new TimelineMax({paused:!0,useFrames:!0}),t.tweenEase="Linear.easeNone";var X=e[0].id;1==t.gesture.controlType&&(X=t.pathContent>0?X.replace(/\d+$/,t.pathContent):"Cont_"+e[0].id);for(var B=0,H=[],$=1;$<A.length;$++)B+=Jt(A[$],A[$-1]),H.push({start:0,end:B,quadrant:Zt(A[$],A[$-1])});n=Math.floor(B);var z=[];if(t.gesture.cuePoints)for(var G=0;G<t.gesture.cuePoints.length;G++)z.push({cueStart:Math.floor(t.gesture.cuePoints[G].cueStart*n),cueEnd:Math.floor(t.gesture.cuePoints[G].cueEnd*n),valueStart:t.gesture.cuePoints[G].valueStart,valueEnd:t.gesture.cuePoints[G].valueEnd,mouseEnter:!1,mouseLeave:!1});var W=null,Y=function(t){W={x:ls?t.changedTouches[0].pageX:t.clientX,y:ls?t.changedTouches[0].pageY:t.clientY}},U=function(){W=null,t.gesture.afterTouch>0&&Xut.Assist.Run(t.pageType,t.gesture.afterTouch,null)},V=function(e){var i,o={x:ls?e.changedTouches[0].pageX:e.clientX,y:ls?e.changedTouches[0].pageY:e.clientY},r=Jt(o,W),l=0;for(i=0;i<H.length;i++)if(y<=H[i].end){
l=H[i].quadrant;break}var c=Zt(o,W);switch(l){case"1":case"2":"1"==c||"2"==c?y+=r:"3"==c||"4"==c?y-=r:"+x"==c||"-x"==c?y+=o.x-W.x:"1"!=l||"+y"!=c&&"-y"!=c?"2"!=l||"+y"!=c&&"-y"!=c||(y+=o.y-W.y):y-=o.y-W.y;break;case"3":case"4":"3"==c||"4"==c?y+=r:"1"==c||"2"==c?y-=r:"+x"==c||"-x"==c?y-=o.x-W.x:"3"!=l||"+y"!=c&&"-y"!=c?"4"!=l||"+y"!=c&&"-y"!=c||(y-=o.y-W.y):y+=o.y-W.y;break;case"+x":"1"==c||"2"==c?y+=r:"3"==c||"4"==c?y-=r:"+x"!=c&&"-x"!=c||(y+=o.x-W.x);break;case"-x":"1"==c||"2"==c?y-=r:"3"==c||"4"==c?y+=r:"+x"!=c&&"-x"!=c||(y-=o.x-W.x);break;case"+y":"1"==c||"4"==c?y-=r:"2"==c||"3"==c?y+=r:"+y"!=c&&"-y"!=c||(y+=o.y-W.y);break;case"-y":"1"==c||"4"==c?y+=r:"2"==c||"3"==c?y-=r:"+y"!=c&&"-y"!=c||(y-=o.y-W.y)}for(y<=0&&(y=0),y>=n&&(y=n),s.seek(y),a(),W=o,i=0;i<z.length;i++){if(0==z[i].mouseEnter&&y>=z[i].cueStart&&y<=z[i].cueEnd){z[i].mouseEnter=!0,z[i].mouseLeave=!1,z[i].valueStart>0&&Xut.Assist.Run(t.pageType,z[i].valueStart,null);break}if(1==z[i].mouseEnter&&0==z[i].mouseLeave&&(y<z[i].cueStart||y>z[i].cueEnd)){z[i].mouseEnter=!1,z[i].mouseLeave=!0,z[i].valueEnd>0&&Xut.Assist.Run(t.pageType,z[i].valueEnd,null);break}}},q=e[0].id;1==t.gesture.controlType&&(q=X),new ss(t.pageType,X,q,Y,V,U)}var K={type:"soft",values:A,autoRotate:h};if(1==P&&(K={curviness:0,values:A,autoRotate:h}),0==f)s.to(e,n,{scale:v,bezier:K,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});else switch(p){default:case 0:s.to(e,n,{scale:v,rotation:f+"deg",bezier:K,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});break;case 1:s.to(e,n,{scale:v,rotationX:f+"deg",bezier:K,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase});break;case 2:s.to(e,n,{scale:v,rotationY:f+"deg",bezier:K,repeat:u,yoyo:c,onUpdate:a,ease:t.tweenEase})}return t.gesture&&t.gesture.initPos>0&&(y=n*t.gesture.initPos,s.seek(y)),s}}function ee(t){t.getEffectSwivel=function(t,e,n,i,o,r){var a=t.direction,s=null,l=Linear.easeNone;if(t.tweenEase&&t.tweenEase.length>0&&(l=t.tweenEase),0==n)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionHorizontal":s.from(e,i,{rotationY:"480deg",ease:l});break;case"DirectionVertical":s.from(e,i,{rotationX:"480deg",ease:l});break;default:console.log("getEffectSwivel:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]}),a){case"DirectionHorizontal":s.to(e,i,{rotationY:"480deg",ease:l});break;case"DirectionVertical":s.to(e,i,{rotationX:"480deg",ease:l});break;default:console.log("getEffectSwivel:parameter error.")}return s},t.getEffectSpin=function(t,e,n,i,o){var r=t.amount?t.amount:360;switch(Math.abs(t.degree)>0&&(r=t.degree),0==t.clockWise&&(r=0-r),t.centerPos){case 1:e.css("-webkit-transform-origin","left top");break;case 2:e.css("-webkit-transform-origin","center top");break;case 3:e.css("-webkit-transform-origin","right top");break;case 4:e.css("-webkit-transform-origin","left cneter");break;case 5:e.css("-webkit-transform-origin","right center");break;case 6:e.css("-webkit-transform-origin","left bottom");break;case 7:e.css("-webkit-transform-origin","center bottom");break;case 8:e.css("-webkit-transform-origin","right bottom");break;case 0:default:e.css("-webkit-transform-origin","center")}var a=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});switch(t.axis){case 1:a.to(e,n,{rotationX:"+="+r+"deg",ease:t.tweenEase});break;case 2:a.to(e,n,{rotationY:"+="+r+"deg",ease:t.tweenEase});break;case 0:default:a.to(e,n,{rotation:"+="+r+"deg",ease:t.tweenEase})}return a},t.getEffectBoomerang=function(t,e,n,i,o,r){var a=null,s=i/3;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.add(TweenMax.to(e,.01,{x:300,y:-200,rotation:"-60deg"}),"first"),a.add(TweenMax.to(e,s,{autoAlpha:1,x:0,y:0,rotation:"0deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"-80deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"0deg"}))):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,x:0,y:0,rotation:"0deg"}]}),a.add(TweenMax.to(e,s,{rotationY:"-80deg"}),"frist"),a.add(TweenMax.to(e,s,{autoAlpha:0,x:300,y:-200,rotation:"-60deg"}),"second"),a.add(TweenMax.to(e,s,{rotationY:"0deg"}),"second")),a},t.getEffectCenterRevolve=function(t,e,n,i,o,r){var a=null,s=Power1.easeInOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:100},{x:200,y:200},{x:0,y:300}]},ease:s})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]}),a.to(e,i,{bezier:{type:"cubic",values:[{x:0,y:0},{x:200,y:100},{x:200,y:200},{x:0,y:300}]},ease:s})),a},t.getEffectSpinner=function(t,e,n,i,o,r){var a=null,s=Expo.easeOut;return t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{scale:0,rotation:"180deg",ease:s})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden",scale:1,rotation:"0deg"}]}),a.to(e,i,{scale:0,rotation:"180deg",ease:s})),a},t.getEffectFadedSwivel=function(t,e,n,i,o,r){var a=null,s=Linear.easeNone,l=Math.abs(t.degree)>0?Number(t.degree):90;switch(0==t.clockWise&&(l=0-l),t.centerPos){case 1:e.css("-webkit-transform-origin","left top");break;case 2:e.css("-webkit-transform-origin","center top");break;case 3:e.css("-webkit-transform-origin","right top");break;case 4:e.css("-webkit-transform-origin","left cneter");break;case 5:e.css("-webkit-transform-origin","right center");break;case 6:e.css("-webkit-transform-origin","left bottom");break;case 7:e.css("-webkit-transform-origin","center bottom");break;case 8:e.css("-webkit-transform-origin","right bottom");break;case 0:default:e.css("-webkit-transform-origin","center")}if(t.tweenEase&&t.tweenEase.length>0&&(s=t.tweenEase),0==n)switch(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),t.axis){case 0:a.from(e,i,{autoAlpha:0,rotation:l+"deg",ease:s,immediateRender:!1});break;case 1:a.from(e,i,{autoAlpha:0,rotationX:l+"deg",ease:s,immediateRender:!1});break;case 2:default:a.from(e,i,{autoAlpha:0,rotationY:l+"deg",ease:s,immediateRender:!1})}else switch(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),t.axis){case 0:a.to(e,i,{autoAlpha:0,rotation:l+"deg",ease:s});break;case 1:a.to(e,i,{autoAlpha:0,rotationX:l+"deg",ease:s});break;case 2:default:a.to(e,i,{autoAlpha:0,rotationY:l+"deg",ease:s})}return a}}function ne(t){t.getTextAnimation=function(t,e,n,i,o){0==i&&(i=.1);var r=t.effectType?t.effectType:"text1",a=t.startColor?t.startColor:"",s=e.find("svg").children(),l=new TimelineMax({repeat:o,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});switch(r){default:case"text5":case"text1":l.staggerFrom(s.children(),n,{css:{opacity:0}},i);break;case"text2":l.staggerFrom(s.children(),n,{css:{opacity:0,"font-size":120},ease:"Strong.easeOut"},i);break;case"text3":l.staggerFrom(s.children(),n,{css:{opacity:0,"font-size":0},ease:"Power1.easeIn"},i);break;case"text4":l.staggerFrom(s.children(),n,{css:{opacity:0,fill:a},ease:"Power1.easeIn"},i)}return l},t.getEffectFlashBulb=function(t,e,n,i,o){var r=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=Number(t.range)?t.range:.1,s=n/2;return r.to(e,s,{autoAlpha:.5,scale:"+="+a}).to(e,s,{autoAlpha:1,scale:"-="+a}),r},t.getEffectBlinds=function(t,e,n,i,o,r){function a(){var t=6,i=l.progress(),o=i/t,r=1/t,a=.01,c="";if(0==n){switch(s){case"DirectionHorizontal":c="-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+o+",rgba(0,0,0,1)),color-stop("+(o+a)+",rgba(0,0,0,0))";for(var u=1;u<t;u++)c+=",color-stop("+u*r+",rgba(0,0,0,0)),color-stop("+(u*r+a)+",rgba(0,0,0,1))",c+=",color-stop("+(u*r+o)+",rgba(0,0,0,1)),color-stop("+(u*r+o+a)+",rgba(0,0,0,0))";c+=")";break;case"DirectionVertical":c="-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+o+",rgba(0,0,0,1)),color-stop("+(o+a)+",rgba(0,0,0,0))";for(var h=1;h<t;h++)c+=",color-stop("+h*r+",rgba(0,0,0,0)),color-stop("+(h*r+a)+",rgba(0,0,0,1))",c+=",color-stop("+(h*r+o)+",rgba(0,0,0,1)),color-stop("+(h*r+o+a)+",rgba(0,0,0,0))";c+=")";break;default:console.log("getEffectBlinds:parameter error.")}e.css("-webkit-mask",c),o>=r-a&&e.css("-webkit-mask","none")}else{switch(s){case"DirectionHorizontal":c="-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+(1-o)+",rgba(0,0,0,0)),color-stop("+(1-o-a)+",rgba(0,0,0,1))";for(var d=1;d<t;d++)c+=",color-stop("+d*r+",rgba(0,0,0,1)),color-stop("+(d*r-a)+",rgba(0,0,0,0))",c+=",color-stop("+(d*r-o)+",rgba(0,0,0,0)),color-stop("+(d*r-o-a)+",rgba(0,0,0,1))";c+=")";break;case"DirectionVertical":c="-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)),color-stop("+(1-o)+",rgba(0,0,0,0)),color-stop("+(1-o-a)+",rgba(0,0,0,1))";for(var p=1;p<t;p++)c+=",color-stop("+p*r+",rgba(0,0,0,1)),color-stop("+(p*r-a)+",rgba(0,0,0,0))",c+=",color-stop("+(p*r-o)+",rgba(0,0,0,0)),color-stop("+(p*r-o-a)+",rgba(0,0,0,1))";c+=")";break;default:console.log("getEffectBlinds:parameter error.")}e.css("-webkit-mask",c),o>=r-a&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,n,i,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return l.to(e,i,{onUpdate:a}),l},t.getEffectSplit=function(t,e,n,i,o,r){function a(){var t=l.progress(),i=t/2;if(0==n){if(t>.9)return void e.css("-webkit-mask","none");switch(s){case"DirectionVerticalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(i-.05)+",rgba(0,0,0,1)),color-stop("+i+",rgba(0,0,0,0)),color-stop("+(1-i)+",rgba(0,0,0,0)),color-stop("+(1-i+.05)+",rgba(0,0,0,1)))");break;case"DirectionHorizontalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(i-.05)+",rgba(0,0,0,1)),color-stop("+i+",rgba(0,0,0,0)),color-stop("+(1-i)+",rgba(0,0,0,0)),color-stop("+(1-i+.05)+",rgba(0,0,0,1)))");break;case"DirectionHorizontalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-i)+",rgba(0,0,0,0)),color-stop("+(.55-i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",rgba(0,0,0,1)),color-stop("+(i+.55)+",rgba(0,0,0,0)))");break;case"DirectionVerticalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-i)+",rgba(0,0,0,0)),color-stop("+(.55-i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",rgba(0,0,0,1)),color-stop("+(i+.55)+",rgba(0,0,0,0)))");break;default:console.log("getEffectSplit:parameter error.")}}else{if(t<.1)return;switch(s){case"DirectionVerticalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(i-.05)+",rgba(0,0,0,0)),color-stop("+i+",rgba(0,0,0,1)),color-stop("+(1-i)+",rgba(0,0,0,1)),color-stop("+(1-i+.05)+",rgba(0,0,0,0)))");break;case"DirectionHorizontalIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(i-.05)+",rgba(0,0,0,0)),color-stop("+i+",rgba(0,0,0,1)),color-stop("+(1-i)+",rgba(0,0,0,1)),color-stop("+(1-i+.05)+",rgba(0,0,0,0)))");break;case"DirectionHorizontalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.55-i)+",rgba(0,0,0,0)),color-stop("+(.5+i)+",rgba(0,0,0,0)),color-stop("+(i+.55)+",rgba(0,0,0,1)))");break;case"DirectionVerticalOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.55-i)+",rgba(0,0,0,0)),color-stop("+(.5+i)+",rgba(0,0,0,0)),color-stop("+(i+.55)+",rgba(0,0,0,1)))");break;default:console.log("getEffectSplit:parameter error.")}i>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,n,i,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return l.to(e,i,{onUpdate:a}),l},t.getEffectWipe=function(t,e,n,i,o,r){var a=t.direction,s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l=this._getObjectInfo(e);return 0==n?s.to(e,i,{onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,a,l]}):s.to(e,i,{onUpdate:this._updateClipRect,onUpdateParams:[s,e,n,a,l]}),s},t.getEffectGrowAndTurn=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,scale:0,rotation:"90deg",ease:t.tweenEase,clearProps:"scale,rotation"})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1,rotation:"0deg"}]}),a.to(e,i,{autoAlpha:0,scale:0,rotation:"90deg",ease:t.tweenEase})),a},t.getEffectPinwheel=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,scale:0,rotation:"540deg",ease:t.tweenEase})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,scale:1,rotation:"0deg"}]}),a.to(e,i,{autoAlpha:0,scale:0,rotation:"540deg",ease:t.tweenEase})),a},t.getEffectExpand=function(t,e,n,i,o,r){var a=null;return 0==n?(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a.from(e,i,{autoAlpha:0,rotationY:"45deg",ease:t.tweenEase})):(a=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1,rotationY:"0deg"}]}),a.to(e,i,{autoAlpha:0,rotationY:"45deg",ease:t.tweenEase})),a},t.getEffectFloat=function(t,e,n,i,o,r){var a,s,l=null,c=this._getObjectInfo(e);return 0==n?(a=c.offsetRight+c.width,s=0-(c.offsetTop+c.height),l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),l.from(e,i,{autoAlpha:0,rotation:"-45deg",x:a,y:s,ease:t.tweenEase})):(a=c.offsetRight+c.width,s=0-(c.offsetTop+c.height),l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),l.to(e,i,{autoAlpha:0,rotation:"-45deg",x:a,y:s,ease:t.tweenEase})),l},t.getEffectCredits=function(t,e,n,i,o,r){var a=this._getObjectInfo(e),s=0,l=0;0==n?(s=0-(this.screenHeight+a.height),l=a.top+a.offsetBottom+a.height):(s=this.screenHeight+a.height,l=a.top-(a.offsetTop+a.height));var c=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible",top:l+"px"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return c.to(e,i,{y:s,ease:t.tweenEase}),c},t.getEffectBounce=function(t,e,n,i,o,r){var a,s,l,c,u,h,d,p,f,v,g,m,y,_=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),b=this._getObjectInfo(e);return 0==n?(m=i,g=m/5,a=m/10,s=m/20,l=m/40,c=m/80,y=89.3,v=this.screenHeight/4,u=v/2,h=v/4,d=v/8,p=v/16,f=b.offsetBottom-v+b.height,_.to(e,.01,{x:-y,y:-v}).to(e,g,{x:"+=50",y:"+="+v,ease:Circ.easeIn}).to(e,g,{x:"+=20",y:"-="+u,scaleY:.8,ease:Circ.easeOut}).to(e,g,{x:"+=10",y:"+="+u,scaleY:1,ease:Circ.easeIn}).to(e,a,{x:"+=5",y:"-="+h,scaleY:.85,ease:Circ.easeOut}).to(e,a,{x:"+=2.5",y:"+="+h,scaleY:1,ease:Circ.easeIn}).to(e,s,{x:"+=1",y:"-="+d,scaleY:.9,ease:Circ.easeOut}).to(e,s,{x:"+=0.5",y:"+="+d,scaleY:1,ease:Circ.easeIn}).to(e,l,{x:"+=0.2",y:"-="+p,scaleY:.95,ease:Circ.easeOut}).to(e,l,{x:"+=0.1",y:"+="+p,scaleY:1,ease:Circ.easeIn,clearProps:"x,y"}),_):(m=i,g=m/5,a=m/10,s=m/20,l=m/40,c=m/80,v=this.screenHeight/4,u=v/2,h=v/4,d=v/8,p=v/16,f=b.offsetBottom-v+b.height,_.to(e,g,{x:"+=50",y:"+="+v,ease:Circ.easeIn}).to(e,g,{x:"+=20",y:"-="+u,scaleY:.8,ease:Circ.easeOut}).to(e,g,{x:"+=10",y:"+="+u,scaleY:1,ease:Circ.easeIn}).to(e,a,{x:"+=5",y:"-="+h,scaleY:.85,ease:Circ.easeOut}).to(e,a,{x:"+=2.5",y:"+="+h,scaleY:1,ease:Circ.easeIn}).to(e,s,{x:"+=1",y:"-="+d,scaleY:.9,ease:Circ.easeOut}).to(e,s,{x:"+=0.5",y:"+="+d,scaleY:1,ease:Circ.easeIn}).to(e,l,{x:"+=0.2",y:"-="+p,scaleY:.95,ease:Circ.easeOut}).to(e,l,{x:"+=0.1",y:"+="+p,scaleY:1,ease:Circ.easeIn}).to(e,c,{x:"+=0.1",y:"+="+f,ease:Circ.easeIn}),_)},t.getEffectFlicker=function(t,e,n,i,o){function r(){var t=v.progress(),n=parseInt(t*(u-h));t>.5&&(n=parseInt((1-t)*(u-h))),e.css(cs,"drop-shadow("+f+" "+p+"px "+p+"px "+(h+n)+"px)")}if(!(cs in e[0].style))return new TimelineMax;var a=t.color2?t.color2:"#fff",s=t.maxGlowSize?t.maxGlowSize:.1,l=t.minGlowSize?t.minGlowSize:.05,c=e.width()>e.height()?e.height():e.width(),u=s*c,h=l*c,d=Number(t.opacity)?t.opcity:.75,p=Number(t.distance)?t.distance*c:0,f=Qt(a,d),v=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{filter:"none"}]});return v.to(e,n,{onUpdate:r}),v},t.getEffectTeeter=function(t,e,n,i,o){var r=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a=Number(t.range)?t.range:.02,s=n/8;switch(t.mode){case 1:a*=e.width(),r.to(e,s,{x:-a}).to(e,2*s,{x:a}),r.to(e,2*s,{x:-a}),r.to(e,2*s,{x:a}),r.to(e,s,{x:0});break;case 2:a*=e.height(),r.to(e,s,{y:-a}).to(e,2*s,{y:a}),r.to(e,2*s,{y:-a}),r.to(e,2*s,{y:a}),r.to(e,s,{y:0});break;case 3:r.to(e,s,{scaleX:1+a}).to(e,2*s,{scaleX:1-a}),r.to(e,2*s,{scaleX:1+a}),r.to(e,2*s,{scaleX:1-a}),r.to(e,s,{scaleX:1});break;case 4:r.to(e,s,{scaleY:1+a}).to(e,2*s,{scaleY:1-a}),r.to(e,2*s,{scaleY:1+a}),r.to(e,2*s,{scaleY:1-a}),r.to(e,s,{scaleY:1});break;case 0:default:a=100*a,r.to(e,s,{rotation:a+"deg"}).to(e,2*s,{rotation:-a+"deg"}),r.to(e,2*s,{rotation:a+"deg"}),r.to(e,2*s,{rotation:-a+"deg"}),r.to(e,s,{rotation:"0deg"})}return r},t.getEffectComplementaryColor=function(t,e,n,i,o){var r=Number(e.css("z-index"));isNaN(r)&&(r=10,console.log("The Z-index property for this object to get error."));var a=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e,{"z-Index":r+100}],onComplete:this._completeHandler,onCompleteParams:[t,e,{"z-Index":r}]});return a.to(e,n,{autoAlpha:1}),a},t._updateClipRect=function(t,e,n,i,o){var r,a,s,l,c=t.progress(),u=c;if(0==n)switch(s=o.height*(1-u),l=o.height-s,a=o.width*(1-u),r=o.width-a,i){case"DirectionUp":e.css("clip","rect(0px "+o.width+"px "+l+"px 0px)");break;case"DirectionDown":e.css("clip","rect("+s+"px "+o.width+"px "+o.height+"px 0px)");break;case"DirectionLeft":e.css("clip","rect(0px "+r+"px "+o.height+"px 0px)");break;case"DirectionRight":e.css("clip","rect(0px "+o.width+"px "+o.height+"px "+a+"px)");break;default:console.log("_updateClipRect:parameter error.")}else switch(s=o.height*u,l=o.height-s,a=o.width*u,r=o.width-a,i){case"DirectionUp":e.css("clip","rect("+s+"px "+o.width+"px "+o.height+"px 0px)");break;case"DirectionDown":e.css("clip","rect(0px "+o.width+"px "+l+"px 0px)");break;case"DirectionLeft":e.css("clip","rect(0px "+o.width+"px "+o.height+"px "+a+"px)");break;case"DirectionRight":e.css("clip","rect(0px "+r+"px "+o.height+"px 0px)");break;default:console.log("_updateClipRect:parameter error.")}}}function ie(t){t.getEffectZoom=function(t,e,n,i,o,r){var a,s=t.direction,l=null;if(e.css("-webkit-transform-origin","center"),0==n)switch(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s){case"DirectionIn":l.from(e,i,{scale:0,ease:t.tweenEase});break;case"DirectionInCenter":a=this._getDirectionInCenter(e),l.from(e,i,{scale:0,x:a.x,y:a.y,ease:t.tweenEase});break;case"DirectionInSlightly":l.from(e,i,{scale:.7,ease:t.tweenEase});break;case"DirectionOut":l.from(e,i,{scale:3,ease:t.tweenEase});break;case"DirectionOutBottom":l.from(e,i,{scale:2,top:this.screenWidth+"px",ease:t.tweenEase});break;case"DirectionOutSlightly":l.from(e,i,{scale:1.5,ease:t.tweenEase});break;default:console.log("getEffectZoom:parameter error.")}else switch(l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{visibility:"hidden"}]}),s){case"DirectionIn":l.to(e,i,{scale:0,ease:t.tweenEase});break;case"DirectionInCenter":a=this._getDirectionInCenter(e),l.to(e,i,{scale:0,x:a.x,y:a.y,ease:t.tweenEase});break;case"DirectionInSlightly":l.to(e,i,{scale:.7,ease:t.tweenEase});break;case"DirectionOut":l.to(e,i,{scale:3,ease:t.tweenEase});break;case"DirectionOutBottom":l.to(e,i,{scale:2,top:this.screenHeight+"px",ease:t.tweenEase});break;case"DirectionOutSlightly":l.to(e,i,{scale:1.5,ease:t.tweenEase});break;default:console.log("getEffectZoom:parameter error.")}return l},t.getEffectFadedZoom=function(t,e,n,i,o,r){var a=t.direction,s=null;e.css("-webkit-transform-origin","center");var l=e.find("svg");l&&l.css("-webkit-transform","translate3d(0px, 0px, 0px)");var c,u=0!=t.keepRatio,h=1==t.fullScreen,d=t.scaleX?t.scaleX:1,p=t.scaleY?t.scaleY:1;if(1==h){var f=this.screenWidth/e.width(),v=this.screenHeight/e.height(),g=f;f>v&&(g=v),c=this._getDirectionInCenter(e),0==n?(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{opacity:0}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s.to(e,i,{x:c.x,y:c.y,autoAlpha:1,scale:g,ease:t.tweenEase})):(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),s.to(e,i,{x:c.x,y:c.y,autoAlpha:0,scale:g,ease:t.tweenEase}))}else if(0==n)switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]}),a){case"DirectionIn":1==u?s.from(e,i,{autoAlpha:0,scale:0,ease:t.tweenEase}):s.from(e,i,{autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;case"DirectionInCenter":c=this._getDirectionInCenter(e),1==u?s.from(e,i,{x:c.x,y:c.y,autoAlpha:0,scale:0,ease:t.tweenEase}):s.from(e,i,{x:c.x,y:c.y,autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;default:console.log("getEffectFadedZoom:parameter error.")}else switch(s=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e,{opacity:1}]}),a){case"DirectionOut":1==u?s.to(e,i,{autoAlpha:0,scale:0,ease:t.tweenEase,clearProps:"scale"}):s.to(e,i,{autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;case"DirectionOutCenter":c=this._getDirectionInCenter(e),1==u?s.to(e,i,{x:c.x,y:c.y,autoAlpha:0,scale:0,ease:t.tweenEase}):s.to(e,i,{x:c.x,y:c.y,autoAlpha:0,scaleX:d,scaleY:p,ease:t.tweenEase});break;default:console.log("getEffectFadedZoom:parameter error.")}return s},t.getEffectGrowShrink=function(t,e,n,i,o){var r=t.scaleX?t.scaleX:1,a=t.scaleY?t.scaleY:1,s=1==t.fullScreen,l=1==t.resetSize,c=Linear.easeNone;t.tweenEase&&t.tweenEase.length>0&&(c=t.tweenEase);var u=new TimelineMax({delay:i,repeat:o,onStart:this._startHandler,onStartParams:[t,e],onComplete:this._completeHandler,onCompleteParams:[t,e]});if(1==s){var h=this.screenWidth/e.width(),d=this.screenHeight/e.height(),p=h;h>d&&(p=d);var f=this._getDirectionInCenter(e);u.to(e,n,{x:f.x,y:f.y,scale:p,ease:t.tweenEase})}else 1==l?u.to(e,n,{scaleX:1,scaleY:1,ease:c}):u.to(e,n,{scaleX:r,scaleY:a,ease:c});return u},t._getDirectionInCenter=function(t){var e=this._getObjectInfo(t),n=Math.round(this.screenWidth/2-e.offsetLeft-e.width/2),i=Math.round(this.screenHeight/2-e.offsetTop-e.height/2);return{x:n,y:i}}}function oe(t){t.getEffectCircle=function(t,e,n,i,o,r){function a(){var t=l.progress(),i=parseInt(t*u);if(0==n)switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(radial,center center,"+(u-i)+",center center,0,from(rgba(0,0,0,1)),to(rgba(0,0,0,0)),color-stop(10%,rgba(0,0,0,0)))"),i==u&&e.css("-webkit-mask","none");break;case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(radial,center center,0,center center, "+i+",from(rgba(0,0,0,1)), to(rgba(0,0,0,0)), color-stop(90%, rgba(0,0,0,1)))"),i==u&&e.css("-webkit-mask","none")}else switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(radial,center center,"+(u-i)+",center center,0,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)),color-stop(10%,rgba(0,0,0,1)))"),i==u&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"));break;case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(radial,center center,0,center center, "+i+",from(rgba(0,0,0,0)), to(rgba(0,0,0,1)), color-stop(90%, rgba(0,0,0,0)))"),i==u&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,n,i,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),c=this._getObjectInfo(e),u=Math.ceil(Math.sqrt(c.width*c.width/4+c.height*c.height/4));switch(s){case"DirectionIn":case"DirectionOut":0==n?l.to(e,i,{onUpdate:a}):l.to(e,i,{onUpdate:a});break;default:console.log("getEffectCircle:parameter error.")}return l},t.getEffectBox=function(t,e,n,i,o,r){function a(){var t,i,o,r,a=l.progress(),u=a/2;if(0==n){switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+u+",rgba(0,0,0,1)),color-stop("+u+",transparent),color-stop("+(1-u)+",transparent),color-stop("+(1-u)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+u+",rgba(0,0,0,1)),color-stop("+u+",transparent),color-stop("+(1-u)+",transparent),color-stop("+(1-u)+",rgba(0,0,0,1)))");break;case"DirectionOut":r=c.height*(.5-u),i=c.height-r,o=c.width*(.5-u),t=c.width-o,e.css("clip","rect("+r+"px "+t+"px "+i+"px "+o+"px)");break;default:console.log("getEffectBox:parameter error.")}u>=.5&&e.css("-webkit-mask","none")}else{switch(s){case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-u)+",rgba(0,0,0,1)),color-stop("+(.5-u)+",transparent),color-stop("+(.5+u)+",transparent),color-stop("+(.5+u)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-u)+",rgba(0,0,0,1)),color-stop("+(.5-u)+",transparent),color-stop("+(.5+u)+",transparent),color-stop("+(.5+u)+",rgba(0,0,0,1)))");break;case"DirectionOut":r=c.height*u,i=c.height-r,o=c.width*u,t=c.width-o,e.css("clip","rect("+r+"px "+t+"px "+i+"px "+o+"px)");break;default:console.log("getEffectBox:parameter error.")}u>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}var s=t.direction;0==this.useMask&&(s="DirectionOut");var l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]}),c=this._getObjectInfo(e);return l.to(e,i,{onUpdate:a}),l},t.getEffectDiamond=function(t,e,n,i,o,r){function a(){var t=l.progress(),i=t/2;if(0==n){switch(s){case"DirectionOut":case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+i+",rgba(0,0,0,1)),color-stop("+i+",transparent),color-stop("+(1-i)+",transparent),color-stop("+(1-i)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 100%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+i+",rgba(0,0,0,1)),color-stop("+i+",transparent),color-stop("+(1-i)+",transparent),color-stop("+(1-i)+",rgba(0,0,0,1)))");break;default:console.log("getEffectBox:parameter error.")}i>=.5&&e.css("-webkit-mask","none")}else{switch(s){case"DirectionOut":case"DirectionIn":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 100% 100%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.5-i)+",transparent),color-stop("+(.5+i)+",transparent),color-stop("+(.5+i)+",rgba(0,0,0,1))),-webkit-gradient(linear,0% 100%, 100% 0%, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.5-i)+",transparent),color-stop("+(.5+i)+",transparent),color-stop("+(.5+i)+",rgba(0,0,0,1)))");break;default:console.log("getEffectBox:parameter error.")}i>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,n,i,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return l.to(e,i,{onUpdate:a}),l},t.getEffectPlus=function(t,e,n,i,o,r){function a(){var t=l.progress(),i=t/2;if(0==n){switch(s){case"DirectionIn":case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-i)+",transparent),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",transparent)),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+(.5-i)+",transparent),color-stop("+(.5-i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",rgba(0,0,0,1)),color-stop("+(.5+i)+",transparent))");break;default:console.log("getEffectPlus:parameter error.")}i>=.5&&e.css("-webkit-mask","none")}else{switch(s){case"DirectionIn":case"DirectionOut":e.css("-webkit-mask","-webkit-gradient(linear,0% 0%, 0% 100%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+i+",transparent),color-stop("+i+",rgba(0,0,0,1)),color-stop("+(1-i)+",rgba(0,0,0,1)),color-stop("+(1-i)+",transparent)),-webkit-gradient(linear,0% 0%, 100% 0%, from(rgba(0,0,0,0)), to(rgba(0,0,0,0)),color-stop("+i+",transparent),color-stop("+i+",rgba(0,0,0,1)),color-stop("+(1-i)+",rgba(0,0,0,1)),color-stop("+(1-i)+",transparent))");break;default:console.log("getEffectPlus:parameter error.")}i>=.5&&(e.css("visibility","hidden"),e.css("-webkit-mask","none"))}}if(0==this.useMask)return this.getEffectAppear(t,e,n,i,o,r);var s=t.direction,l=new TimelineMax({delay:o,repeat:r,onStart:this._startHandler,onStartParams:[t,e,{visibility:"visible"}],onComplete:this._completeHandler,onCompleteParams:[t,e]});return l.to(e,i,{onUpdate:a}),l}}function re(t){var e,n,i;if(bs){e=0;try{n=bs.sheet,
i=n.cssRules,e=i.length,n.insertRule(t,e)}catch(o){console.log(o)}}else bs=document.createElement("style"),bs.type="text/css",bs.innerHTML=t,bs.uuid="aaron",document.head.appendChild(bs)}function ae(t){if(bs){var e,n=bs.sheet,i=n.rules||n.cssRules,o=0,r=i.length;for(o;o<r;o++)if(e=i[o],e.name===t){n.deleteRule(o);break}0==i.length&&(document.head.removeChild(bs),bs=null)}}function se(t){function e(t,e){if(r){var n=[],i=100/v,o=Number(r[0]);n.push("0% { background-position:0% 0%}");for(var a=0;a<v;a++){var s=Math.floor(a/o),l=s*o;e=100*(a-l);var c=100*s;e=0==e?e:"-"+e,c=0==c?c:"-"+c,n.push((a+1)*i+"% { background-position: "+e+"% "+c+"%}")}return t+"{"+n.join("")+"}"}var u="{0} {from { background-position:0 0; } to { background-position: -{1}px 0px}}";return String.format(u,t,Math.round(e))}function n(t,e,n,i){var o;return r?(o="{0} {1}s step-start {2}",String.format(o,t,e,i)):(o="{0} {1}s steps({2}, end) {3}",String.format(o,t,e,n,i))}function i(t){_s&&u.css(_s,t).css(ys,"paused")}function o(t){gs&&re(gs+t)}var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=t.$contentNode.find(".sprite"),h=t.data,d=t.callback||function(){},f="sprite_"+t.id,v=h.thecount,g=h.fps,m=Math.round(1/g*v*10)/10,y=Math.ceil(h.scaleWidth*v),_=h.loop?"infinite":1;return h.parameter&&(a=p(h.parameter),a&&a.matrix&&(r=a.matrix.split("-"))),s=n(f,m,v,_),l=e(f,y),i(s),o(l),u.on(ms,d),{play:function(){c=setTimeout(function(){u.css(ys,"running")},50)},stop:function(){u.css(ys,"paused")},destroy:function(){ae(f),u.off(ms,d),clearTimeout(c),c=null,u=null}}}function le(t){function e(){if(o){for(var t=o[0],e=o[1],n=0;n<e;n++){l=-y*n+"px";for(var i=0;i<t;i++)s=-m*i+"px",c.push(s,l)}if(c.length/2>f)for(var r=c.length/2-f,a=2*r;a>0;a--)c.pop()}else for(var n=0;n<f;n++)s=-m*n+"px",c.push(s)}function n(){if(o)if(u>c.length/2-1){if(!(g>0))return;u=0,i()}else i();else if(u>f-1){if(!(g>0))return;u=0,i()}else i()}function i(){a=setTimeout(function(){o?(s=c[2*u],l=c[2*u+1],h.css("backgroundPositionX",s),h.css("backgroundPositionY",l)):(s=c[u],h.css("backgroundPositionX",s)),u++,n()},1e3/v)}var o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=[],u=0,h=t.$contentNode.find(".sprite"),d=t.data,f=(t.callback||function(){},d.thecount),v=d.fps,g=d.loop,m=d.scaleWidth,y=d.scaleHeight;return d.parameter&&(r=p(d.parameter),r&&r.matrix&&(o=r.matrix.split("-"))),e(),{play:function(){n()},stop:function(){clearTimeout(a)},destroy:function(){this.stop(),u=0,h=null,d=null,c=null}}}function ce(t){var e=t.mode||"css";return"css"===e&&xs?se(t):le(t)}function ue(t){var e=void 0;try{e=JSON.parse(t.getParameter()[0].parameter)}catch(n){return!1}var i=t.pid,o=js(e),r=this.relatedData.pageOffset&&this.relatedData.pageOffset.split("-"),a=r[0],s=r[1],l=(a-1)/(s-1),c=Rs(o,l),u=1/(s-1),h=Ns(t.$contentNode,_.extend({},c),t.transformOffset);return t.parallax={calculateRangePage:function(){return{start:i-a+1,end:s-a+i}},translate:o,offsetTranslate:c,nodeProportion:u,$contentNode:t.$contentNode,parallaxOffset:h},t}function he(t){var e=t.seed.animation,n=t.seed.parallax,i=[],o=Xs(t);switch(t.pageType){case"page":o(e,function(t){i.push(t)});break;case"master":var r={},a={},s=[];o(n,function(t){r[t.id]=t}),o(e,function(t){a[t.id]=t});var l=_.keys(r).length,c=_.keys(a).length;l&&c&&(_.each(a,function(t){var e=t.id,n=r[e];n&&(Bs(t,n),t.processType="both",delete r[e])}),_.keys(r).length&&_.extend(a,r),r=null),_.each(c?a:r,function(t){s.push(t)}),i=s}return o=null,i}function de(t){return{context:{wait:!1,statas:!1,_ids:[],event:[],pre:{},check:function(){var e=this.length();if(e.length||(this.statas=!0),this.wait)return void(t&&t())},add:function(t){-1===this._ids.indexOf(t)&&this._ids.push(t)},remove:function(t){if(t){var e=this._ids.indexOf(t),n=this._ids.splice(e,1);return this.check(n),n}},length:function(){return this._ids.length}}}}function pe(t,e){t&&t.dragDrop&&e(t.dragDrop)}function fe(t){return zs[t.category]?"JsWidget":t.actType}function ve(t,e){t.seasonRelated[e]||(t.seasonRelated[e]={})}function ge(t,e,n){var i,o,r=e.imageId;_.each(["seasonId","Inapp","SearchBar","BookMarks"],function(e){if(o=n[e],void 0!==o)switch(ve(t,r),e){case"seasonId":i=n.chapterId||n.chapter,t.seasonRelated[r]={seasonId:o[0],chapterId:i?i[0]:""};break;case"Inapp":t.seasonRelated[r].Inapp=o[0];break;default:t.seasonRelated[r][e]=r}})}function me(t,e,n,i){function o(t){if(t&&h){var e=t.indexOf(h);-1!==e&&t.splice(e,1)}}var r,a,s,l,c,u="",h=e.imageId,d=xe(e.itemArray)||[],p=t(d),f=Object.keys(p)[0];switch(f){case"Container":r=p.Container,o(r);break;case"Contents":return p.Contents;default:_.keys(p).length&&(c=p.Animation,s=p.Parallax,"page"===n?c&&(r=c.ids,u=c.das):(c&&(r=c.ids,u=c.das),s&&(a=s.ids,l=s.das)),r&&a&&(r=r.concat(a)),!r&&a&&(r=a),o(r))}return{pageType:n,activity:e,imageIds:h,seed:{animation:u,parallax:l},ids:{content:r,parallax:a}}}function ye(t,e,n){function i(t,e,n){for(var i,o=e.length;o--;)i=Number(e[o]),t.push(i),n&&n(i)}for(var o,r,a,s,l,c,u=[],h=[],d=t.length;d--;)l=t[d],o=l.ids,r=o.content,c=o.parallax,s=l.imageIds,r&&r.length&&i(u,r),c&&c.length&&i(u,c),s&&h.push(Number(s));return e&&e.length&&_.each(e,function(t){t&&(u=u.concat(t))}),a=g(h.length?u.concat(h):u),a=a.sort(function(t,e){return t-e}),[h,a]}function _e(t,e){var n,i={};return _.each(t,function(t){(n=e[t])&&(i[t]?console.log("未处理解析同一个表"):i[t]=be(t,n))}),i}function be(t,e){var n,i,o,r,a={},s=[],l=[],c=Xut.data.query;_.each(e,function(e){(o=c(t,e))&&(r=o.contentId,-1===l.indexOf(r)&&l.push(r),i="contentId-"+r,a[i]?a[i].push(o):a[i]=[o])});for(n in a)s.push(a[n]);return{das:s,ids:l}}function xe(t){var e,n,i={};if(t)return e=p(t),e.length?_.each(e,function(t){n=t.actType,i[n]||(i[n]=[]),i[n].push(t.id)}):(n=e.actType,i[n]=[],i[n].push(e.id||e.value)),i}function we(t){var e=void 0,n=[];return _.each(t.activitys,function(t){if(e=t.actType||t.animation,!e&&t.note&&(t.actType=e="ShowNote"),t.itemArray||2!==t.autoPlay)switch(e){case"Container":case"Content":case"Parallax":case"Contents":n.push(t)}}),n}function ke(t,e){for(var n,i,o,r=(t.length,e.pageType),a=e.pid,s=[],l=[],c={seasonRelated:{},containerRelated:[],eventRelated:{},partContentRelated:[]},u=function(t){return me(function(e){return t(e)},n,r,a)},h={Container:function(){c.containerRelated.push(u(function(t){return{Container:t.Content}}))},Contents:function(){var t;if(t=u(function(t){return{Contents:[t]}})[0]){var e=n.imageId,i={eventContentId:e,activityId:n._id,registers:t.activity,eventType:n.eventType,dragdropPara:n.para1},o=c.eventRelated["eventContentId->"+e];o?o.push(i):c.eventRelated["eventContentId->"+e]=[i]}},JsWidget:function(){var t=p(n.itemArray);_.isArray(t)?_.each(t,function(t){c.partContentRelated.push(t.id)}):c.partContentRelated.push(t.id)}};n=t.shift();)i=fe(n),(!h[i]||h[i]&&h[i](c))&&(o=u(function(t){return ge(c,n,t),"page"===r?_e(["Animation"],t):"master"===r?_e(["Animation","Parallax"],t):void 0}),n.imageId?l.push(o):s.push(o),o=null);l.length&&(s=s.concat(l),l=null);var d=ye(s,c.partContentRelated,r),f=d[0],v=d[1];if(Xut.CreateFilter.size()){var g=Xut.CreateFilter.each(e.chapterId);g&&(g(f,function(t){f.splice(t,1)}),g(v,function(t){v.splice(t,1)}),g=null)}return _.extend(e,c,{createEventIds:f,createContentIds:v,createActivitys:s})}function Te(t,e,n){var i=t[e];i||(i=t[e]={}),n.call(i)}function Ce(t){var e=[];return _.each(t,function(t){e.push(t)}),e}function Se(t){var e={};return _.each($(t),function(t,n){e[t.id]=t}),e}function Pe(t){var e,n,i,o,r=t.feedbackBehavior={};_.each(t.activitys,function(t){t.parameter&&(e=p(t.parameter))&&(i=t.imageId,(o=e.isButton)&&0!=o&&Te(r,i,function(){this.isButton=!0}),(n=e.behaviorSound)&&0!=n&&Te(r,i,function(){this.behaviorSound=n}))})}function Ee(t,e,n,i,o){var r=[],a="Content_"+i.pid+"_";n.ids=g(n.ids);var s,l,c,u=n.zIndex;i.count++,_.each(n.ids,function(t){s=a+t,(l=i.contentsFragment[s])&&(c=u[t],r.push(l),delete i.contentsFragment[s])}),c="floatPages"===e&&0===i.getStyle.offset?2001:2e3;var h="overflow:hidden;";"floatMaters"===e&&(h="");var d=String.format('<div id="'+e+'-li-{0}" class="xut-float" style="'+qs+":{1};z-index:"+c+';{2}"></div>',i.pid,i.getStyle.translate,h),p=$(d);$(i.rootNode).after(p),t(r,p)}function Ie(t,e,n){Ee(function(i,o){e.floatMaters.container=o,Vs({container:o,content:i},function(){t.pageBaseHooks.collector.floatMaters(e.floatMaters),n(e)})},"floatMaters",e.floatMaters,e,t)}function Ae(t,e,n){Ee(function(i,o){e.floatPages.container=o,Vs({container:o,content:i},function(){t.pageBaseHooks.collector.floatPages(e.floatPages),n(e)})},"floatPages",e.floatPages,e,t)}function Oe(){return"autoRun-"+Math.random().toString(36).substring(2,15)}function Me(t,e,n){for(var i,o=t.$containsNode,r=t.eventRelated,a=t.pid,s=t.createActivitys,l=t.feedbackBehavior,c=t.pageBaseHooks,u=t.chapterId,h=function(t,e){return function(n){return t.length&&t[n]?e:0}}(t.floatMaters.ids,t.getStyle.offset),d={iscrollHooks:[],contentsHooks:c.collector.contents},p={floatMaters:t.floatMaters,seasonId:t.chpaterData.seasonId,pageId:u,contentDas:e,container:t.liRootNode,seasonRelated:t.seasonRelated,containerPrefix:t.containerPrefix,nodes:t.nodes,pageOffset:t.pageOffset,createContentIds:t.createContentIds,partContentRelated:t.partContentRelated,transformOffset:h,contentsFragment:t.contentsFragment,contentHtmlBoxIds:t.contentHtmlBoxIds},f=function(){r&&c.eventBinding&&c.eventBinding(r),delete d.contentsHooks,n(d)},v=function(e){return function(n){var i,s=e.imageIds,h=e.activity,f=h.eventType,v=h.para1,g=s;(i=r["eventContentId->"+s])&&_.each(i,function(t){t.eventType==h.eventType&&(f=v=void 0)});var m={eventContentId:g,eventType:f,dragdropPara:v,feedbackBehavior:l},y={noticeComplete:n,pageIndex:t.pageIndex,canvasRelated:t.canvasRelated,id:s||Oe(),type:"Content",pageId:u,activityId:h._id,$containsNode:o,pageType:e.pageType,seed:e.seed,pid:a,eventData:m,relatedData:p,relatedCallback:d};c.registerAbstractActivity(new Hs(y))}},g=[];i=s.shift();)g.push(v(i));var m=function y(){if(!g.length)return void f();var t=g.shift();t(function(){y()})};m()}function Ne(t,e){var n=void 0,i=void 0,o=void 0,r=void 0;return 1===arguments.length&&_.isFunction(t)?(e=t,t=Xut.Presentation.GetPageObj()):t=t||Xut.Presentation.GetPageObj(),t&&(i=t.baseGetContent(),o=t.baseGetComponent(),r=t.pageType||"page",n=e(t,i.length&&i,o.length&&o,r)),n}function je(t,e,n){if(!Xut.IBooks.compileMode())return Zs()?void Ne(t,function(t,i,o,r){if("master"===t.pageType){if(t.onceMaster)return;t.onceMaster=!0}n=n||Qs;var a=t.baseAutoRun();a&&el(t,e,a,r),i?tl(i,n):n(),Xut.log("debug",r+"层，第"+(e+1)+"页开始,本页面Id为"+t.chapterId)}):void n()}function Re(t,e,n,i){var o=t.id;if(o){var r=o.split("_"),a=r[0],s=r[1],l=Cl[a];if(l&&l.trigger){var c=function(){return n&&n.id?/page/.test(n.id)?"page":"master":"page"}(),u={id:s,activityId:s,key:o,type:a,rootNode:n,target:t,pageIndex:i,pageType:c},h=void 0;if((h=Xut.Application.GetSpecifiedObject(c,u))&&h.toggle)return h.toggle();l.trigger(u)}}}function De(t,e,n){Ne(t,function(t,i){void 0!==e&&(Bt(e),"master"===t.pageType&&Wt()),i&&_.each(i,function(t){t.stop&&t.stop()}),n&&($t(),Wt())})}function Fe(t){Ne(t,function(t,e,n){if("master"!==t.pageType){var i;(i=t.getContainsNode())&&(nl(function(){i.hide()}),e&&_.each(e,function(t){Xut.CreateFilter.has(t.pageId,t.id)||t.reset&&t.reset()}),n&&(_.each(n,function(t){t&&t.destroy()}),t.baseRemoveComponent()),nl(function(){setTimeout(function(){i.show(),i=null},0)}))}})}function Le(){return Vt(),Ht(),Ne(function(t,e,n){var i=!1;return e&&_.each(e,function(t){t.stop&&t.stop()&&(i=!0)}),n&&_.each(n,function(t){t.stop&&t.stop()&&(i=!0)}),i})}function Xe(t){var e=parseInt(t.id),n=Xut.data.query("Action",e,"activityId"),i=n.para1,o=parseInt(n.actionType);0==o&&il(i)}function Be(t,e){return Li.jsWidgetPath()+e+"/"+t}function He(){sl={}}function $e(t,e){var n,i,o,r=e.widgetId,a=e.widgetName+".min.js",s="page"==e.widgetType||"js"==e.widgetType?"style.min.css":0,o=function(){var n=0;return a&&n++,s&&n++,function(){return 1===n?t&&t.call(e):void n--}}();s&&(i=Be(s,r),ll(i,o)),a&&(n=Be(a,r),ll(n,o))}function ze(t,e,n){var i,o,r=[],a=Xut.data.Image,s=null,l=t.source;for(i in l)l.hasOwnProperty(i)&&(o={},s=a.item((parseInt(l[i])||1)-1),o.img=s.md5,o.thumb="",o.title=s.imageTitle,r.push(o));return t.source=r,t.scrollPaintingMode=e,t.calculate=n,t.rootPath=Xut.config.jsWidgetPath(),t}function Ge(t){var e=bl(t);e.id=e.activityId,e.inputPara=xl(e),e.inputPara||(e.inputPara={}),"page"===e.widgetType&&(e.inputPara.container=e.rootNode),e.inputPara.uuid=Li.appId+"-"+e.activityId,e.inputPara.id=e.activityId,e.inputPara.screenSize=Li.viewSize,e.inputPara.contentPrefix=Xut.Presentation.MakeContentPrefix(e.pageIndex,e.pageType),e.scrollPaintingMode=1===Li.visualMode,e.calculate=Li.viewSize,ml[(e.widgetType||"widget").toLowerCase()](e)}function We(t,e,n){if(Xut.IBooks.runMode())return void n();if(t.activitys.length){var i;this.$containsNode=t.$containsNode,this.callback={suspendCallback:e,successCallback:n},i=this.create(t),this.compileSuspend(i)}else n()}function Ye(t,e){var n=Li.viewSize.width,i=Dl("prevEffect"===e?-n:n);t.css(Pl,i)}function Ue(t){t.prototype.getInitDistance=function(){return this._initDistance},t.prototype.simulationComplete=function(){var t=this;setTimeout(function(){t._restore(),t._unlock()})},t.prototype.allowliding=function(){this._unlock()},t.prototype.bansliding=function(){this._lock()},t.prototype.openSwipe=function(){this._initOperation()},t.prototype.closeSwipe=function(){this._isMoving||this._off()},t.prototype.isBorder=function(){this._borderBounce.apply(this,arguments)},t.prototype.isMoving=function(){return this._isMoving},t.prototype.prev=function(){this._borderBounce(1)?this._setRebound(this._hindex,"next"):this._slideTo("prev")},t.prototype.next=function(){this._borderBounce(-1)?this._setRebound(this._hindex,"prev"):this._slideTo("next")},t.prototype.getHindex=function(){return this._hindex},t.prototype.setPointer=function(t,e){this.pagePointer=Ll(t,e||this.pagetotal)},t.prototype.getPointer=function(){return this.pagePointer},t.prototype.scrollToPage=function(t){if(!this._fliplock){var e=this._hindex;switch(t){case e-1:if(this.options.multiplePages)return this.prev();break;case e:return void(0==e&&this.$emit("onDropApp"));case e+1:if(this.options.multiplePages)return this.next()}var n=Bl(e,t,this.pagetotal);this._updataPointer(n),n.pagePointer=this.pagePointer,this.$emit("onJumpPage",n)}},t.prototype.destroy=function(){this._off(),this.$off(),this._bubbleNode&&(this._bubbleNode.page=null,this._bubbleNode.master=null),this.container=null},t.prototype.setTransitionComplete=function(){this._distributed.apply(this,arguments)},t.prototype.findBubbleRootNode=function(t,e){for(var n=void 0,i=void 0,o=this._hindex,r=this.options.sectionRang,a=this._bubbleNode[e].childNodes,s=a.length;s--;){if(n=a[s],i=n.getAttribute("data-map"),r&&(o+=r.start),i==o)return n;o=this._hindex}}}function Ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.$pinchNode,n=t.dataNode,i=(t.chapterId,t.callback),o=$(n.html());Xut.nextTick({container:e,content:o},function(){return i(o)})}function qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=t.distance,i=t.direction,o=t.leftIndex,r=t.pageIndex,a=t.rightIndex,s=arguments[1],l=Li.viewSize.width,c={left:void 0,middle:void 0,right:void 0,view:void 0},u=function(t){if(t){var e=Vl();e.$$leftIndex=o,e.$$middleIndex=r,e.$$rightIndex=a,e.$$right=c.right,e.$$left=c.left,t(e),_.each(e,function(t,e){c[e]=t})}};if("flipMove"===e){c.left=n-l,c.middle=n,c.right=n+l;var h=s&&s.flipMove;h&&("prev"===i&&u(h.left),"next"===i&&u(h.right))}if("flipRebound"===e){c.left=-l,c.middle=n,c.right=l;var d=s&&s.flipRebound;d&&("prev"===i&&u(d.left),"next"===i&&u(d.right))}if("flipOver"===e){var p=s&&s.flipOver;"prev"===i&&(c.left=0,c.middle=l,c.right=2*l,p&&u(p.left),c.view=c.left),"next"===i&&(c.left=-2*l,c.middle=-l,c.right=n,p&&u(p.right),c.view=c.right)}return[c.left,c.middle,c.right,c.view]}function Ke(){return Kl[Jl]?Kl[Jl]:Kl[Jl]=ql.view()}function Je(){return ql.translate.apply(ql,arguments)}function Ze(){return ql.distance.apply(ql,arguments)}function Qe(){Kl={}}function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Zl(e,n);return i.on("touchend mouseup",function(){t()}),i}function en(t,e){var n=t.chapterData;"page"===t.pageType&&U(n.seasonId,t.chapterId)?t._flows.register(new rc({pageIndex:t.pageIndex,$pinchNode:t.getContainsNode(),seasonId:t.chapterData.seasonId,chapterId:t.chapterId,successCallback:e})):e()}function nn(t){return{tasksHang:null,tasksTimer:0,isTaskSuspend:!1,preCreateTasks:!1,nextRunTask:"container",cacheTasks:function(){var t={};return _.each(["Flow","background","components","contents"],function(e){t[e]=!1}),t}(),preforkComplete:lc,createTasksComplete:lc}}function on(t,e){var n=Xut.Presentation.GetPageObj("master",e),i=void 0;return n&&(i=n.getContainsNode()[0]),new oc({$pagePinch:t,update:function(t,e){i&&(i.style[cc]=t,i.style[uc]=e+"ms")}})}function rn(t){var e=t.createRelated=nn(t),n=function(t){e.nextRunTask=t},i=function(e,n){return sc[e](n,t)};t.threadtasks={container:function(){i("Container",function(i,o){t.$pageNode=i,t.$pseudoElement=o;var r=i.children(".page-pinch");t.getContainsNode=function(){return o?o:r},n("background"),e.preforkComplete(),t.isMaster&&t.nextTasks({taskName:"外部Background",outNextTasks:function(){t.dispatchTasks()}})})},background:function(){i("Background",function(){e.preCreateTasks=!1,n("flow"),e.tasksHang&&!t.isMaster||t.nextTasks({taskName:"外部widgets",outNextTasks:function(){t.dispatchTasks()}}),e.tasksHang&&e.tasksHang()})},flow:function(){var o=function(e){if("page"===t.pageType&&Li.saleMode){var n=t.getContainsNode();e||(t._pinchObj=new on(n,t.pageIndex))}};"flow"==t.chapterData.note?i("Flow",function(){o("flow"),n("complete"),e.createTasksComplete()}):(o(),n("components"),t.dispatchTasks())},components:function(){i("Components",function(){n("contents"),t.nextTasks({taskName:"外部contents",outNextTasks:function(){t.dispatchTasks()}})})},contents:function(){i("Contents",function(){n("complete"),e.createTasksComplete()})}}}function an(t){t.initState=function(t){var e=this;_.extend(e,t),this._dataCache={},this.scenarioId=this.chapterData.seasonId,this.chapterId=this.chapterData._id,this.isMultithread=!!this.multiplePages,"master"===e.pageType&&(this.isMaster=!0),this.canvasRelated=new hc,this._abActivitys=new ht,this._components=new ht,this._contentsCollector={},this._flows=new ht,"master"===this.pageType&&this.isFlows&&(this.isFlows=!1);var n=this.floatContents={PageContainer:null,Page:{},MasterContainer:null,Master:{}};this.listenerHooks={registerAbstractActivity:function(t){e._abActivitys.register(t)},collector:{contents:function(t,n,i){var o=e.baseGetContentObject[n];o&&o.isBindEventHooks&&(e._contentsCollector[n]=i),o||(e._contentsCollector[n]=i)},floatPages:function(t){var i=void 0;n.PageContainer=t.container,_.each(t.ids,function(t){(i=e.baseGetContentObject(t))?(i.parallax&&(i.parallaxOffset=i.parallax.parallaxOffset),n.Page[t]=i):console.log("页面浮动对象找不到")})},floatMaters:function(t){var i=void 0,o=void 0,r=void 0,a=void 0;n.MasterContainer=t.container,_.each(t.ids,function(t){(o=e.baseGetContentObject(t))?(o.parallax&&(o.parallaxOffset=o.parallax.parallaxOffset),n.Master[t]=o):(Xut.plat.isBrowser&&console.log("浮动母版对象数据不存在原始对象,制作伪对象母版移动",t),(a=e.createRelated.cacheTasks.contents.contentsFragment)&&(i="Content_"+e.pid+"_",_.each(a,function(e){var n=i+t;e.id==n&&(r=e)})),n.Master[t]={id:t,pid:e.pid,$contentNode:$(r),empty:!0})})}},eventBinding:function(t){ct(e,t)}},rn(e)}}function sn(t){t.startThreadTask=function(t,e){var n=this;this.createRelated.preforkComplete=function(){return function(){t?e():n._checkTasksCreate(e,n)}}(),this.dispatchTasks()},t.dispatchTasks=function(){var t=void 0;(t=this.threadtasks[this.createRelated.nextRunTask])&&t()},t.destroyPageAction=function(){this.stopLastPageAction&&(this.stopLastPageAction(),this.stopLastPageAction=null)},t.createPageAction=function(){this.runLastPageAction&&(this.stopLastPageAction=this.runLastPageAction())},t.checkThreadTask=function(t){var e=this;this.isAutoRun=!0,this._checkTasksCreate(function(){e.isAutoRun=!1,t()})},t.nextTasks=function(t){this._asyTasks({suspendCallback:function(){t.outSuspendTasks&&t.outSuspendTasks()},nextTaskCallback:function(){t.outNextTasks&&t.outNextTasks()}},t.interrupt)},t.setTaskSuspend=function(){this.isAutoRun=!1,this.canvasRelated.isTaskSuspend=!0,this.createRelated.preCreateTasks=!1,this.createRelated.tasksHang=null},t.createPreforkTasks=function(t,e){var n=this;return this.createRelated.preCreateTasks?void(this.createRelated.tasksHang=function(t){return function(){n._checkTasksCreate(t)}}(t)):(e&&(this.createRelated.preCreateTasks=!0),void this._checkTasksCreate(t))},t._checkTasksCreate=function(t,e){if("complete"===this.createRelated.nextRunTask)return t.call(e);var n=this;this._cancelTaskSuspend(),this.createRelated.createTasksComplete=function(){t.call(e)},this.nextTasks({outNextTasks:function(){n.dispatchTasks()}})},t._cancelTaskSuspend=function(){this.canvasRelated.isTaskSuspend=!1},t._checkTaskSuspend=function(){return this.canvasRelated.isTaskSuspend},t._multithreadCheck=function(t,e){var n=this,i=function(){n._checkTaskSuspend()?(n.tasksTimeOutId&&clearTimeout(n.tasksTimeOutId),t.suspendCallback.call(n)):t.nextTaskCallback.call(n)},o=function(){n.tasksTimeOutId=setTimeout(function(){i()},n.canvasRelated.tasksTimer)};this.isAutoRun?e?o():i():o()},t._asyTasks=function(t,e){return this.isMultithread?void this._multithreadCheck(t,e):t.nextTaskCallback.call(this)}}function ln(t){t.checkInstanceTasks=function(t){var e;if(e=this.createRelated.cacheTasks[t])return e.runSuspendTasks(),!0},t.baseData=function(){return this._dataCache[this.pageType]},t.baseActivits=function(){return this._dataCache.activitys},t.baseAutoRun=function(){var t=this._dataCache.auto;return t&&t},t.baseGetPageId=function(t){return this.baseData(t)._id},t.baseGetContentObject=function(t){var e;return(e=this._contentsCollector[t])?e:this.floatContents.Master[t]},t.baseContentMutex=function(t,e){var n=void 0;(n=this.baseGetContentObject(t))&&!function(){var t=n.$contentNode.view?n.$contentNode.view:n.$contentNode,i={Show:function(){"dom"===n.type?t.css({display:"blcok",visibility:"visible"}).prop("mutex",!1):t.visible=!0},Hide:function(){"dom"===n.type?t.css({display:"none",visibility:"hidden"}).prop("mutex",!0):t.visible=!1},StopAnim:function(){n.stopAnims&&n.stopAnims()}};i[e]()}()},_.each(["Get","Specified"],function(e){t["base"+e+"Content"]=function(t){switch(e){case"Get":return this._abActivitys.get();case"Specified":return this._abActivitys.specified(t)}}}),_.each(["Get","Remove","Register","Specified"],function(e){t["base"+e+"Component"]=function(t){switch(e){case"Register":return this._components.register(t);case"Get":return this._components.get();case"Specified":return this._components.specified(t);case"Remove":return this._components.remove()}}}),t.baseAssistRun=function(t,e,n){var i;(i=this._abActivitys)&&_.each(i.get(),function(i,o){t==i.activityId&&("Run"==n&&i.runAnimation(e,!0),"Stop"==n&&i.stopAnimation(e))},this)}}function cn(t){t.baseDestroy=function(){this.destroyPageAction(),this._pinchObj&&this._pinchObj.destroy();var t=this._flows.get();t.length&&(t.forEach(function(t){t.destroy(),t=null}),this._flows=null);var e=void 0,n=void 0,i=void 0;if(e=this.createRelated.cacheTasks)for(n in e)(i=e[n])&&i.clearReference();var o=this.floatContents.Master,r=!_.isEmpty(o),a=void 0;(a=this._abActivitys.get())&&a.forEach(function(t){t.destroy(function(t){(!r||t&&!o[t.id])&&(t.$contentNode=null)})}),r&&this.floatContents.MasterContainer&&this.floatContents.MasterContainer.remove(),this.floatContents.Page&&this.floatContents.PageContainer&&this.floatContents.PageContainer.remove();var s=void 0;(s=this.baseGetComponent())&&s.length&&s.forEach(function(t){t.destroy&&t.destroy()}),ut(this),this.$pseudoElement&&(this.$pseudoElement=null),this.$pageNode.remove(),this.rootNode=null,this.$pageNode=null}}function un(t,e,n){var i,o={};for(i in t)switch(i){case"translateX":case"translateZ":o[i]=e*n*t[i];break;case"translateY":o[i]=e*(Li.viewSize.height/Li.viewSize.width)*n*t[i];break;case"opacityStart":o[i]=t.opacityStart;break;default:o[i]=-1*e/Li.viewSize.width*t[i]*n}return o}function hn(t,e){var n={},i=t.opacityStart;for(var o in t)n[o]=t[o]+e[o];return i>-1&&(n.opacityStart=i),n}function dn(t,e){return hn(t,e)}function pn(t,e){var n={};for(var i in t)n[i]=e[i]||t[i];return n}function fn(t,e){for(var n in t)e[n]=t[n]}function vn(t,e,n,i){var o={},r="",a=0,s=0,l=0,c=Math.round;if(vc(n.translateX)||vc(n.translateY)||vc(n.translateZ)){a=c(n.translateX)||0,s=c(n.translateY)||0,l=c(n.translateZ)||0;var u=fc(l);r+="translate("+a+"px,"+s+"px) "+u}(vc(n.rotateX)||vc(n.rotateY)||vc(n.rotateZ))&&(a=c(n.rotateX),s=c(n.rotateY),l=c(n.rotateZ),r+=a?"rotateX("+a+"deg) ":"",r+=s?"rotateY("+s+"deg) ":"",r+=l?"rotateZ("+l+"deg) ":""),(vc(n.scaleX)||vc(n.scaleY)||vc(n.scaleZ))&&(a=c(100*n.scaleX)/100||1,s=c(100*n.scaleY)/100||1,l=c(100*n.scaleZ)/100||1,r+=String.format("scale3d({0},{1},{2}) ",a,s,l)),void 0!=n.opacity&&(o.opacity=c(100*n.opacity)/100+i,r+=";"),r&&(o[dc]=e+"ms",o[pc]=r,t.css(o))}function gn(t){t.toMove=function(t,e,n,i){var o=this.$pageNode[0];if("page"===this.pageType){var r=this.floatContents.PageContainer;r&&Rl[t](r[0],e,n)}if("master"===this.pageType){this.onceMaster=!1;var a=this.floatContents.MasterContainer;a&&Rl[t](a[0],e,n)}var s=!1;"flipOver"===t&&"page"===this.pageType&&e===i&&(o.setAttribute("data-view",!0),s=!0),Rl[t](o,e,n,function(){if(Li.flipMode&&s)return Xut.Application.SetTransitionComplete(o,o.getAttribute("data-view")),!0})},t.moveParallax=function(t,e,n,i,o,r){var a=this,s=this.baseGetContent();s&&!function(){var l=n[1];_.each(s,function(n){n.eachAssistContents(function(n){if(n.parallax){var s=n.parallax.$contentNode,c=a.baseGetContentObject(n.id);if("flipMove"===t&&c.anminInstance&&!c.parallaxProcessed){var u=c.actName;c.stopAnimations(),c.parallaxProcessed=!0,s.attr("data-parallaxProcessed",u),r[u]=c}gc(s,n.parallax,e,t,i,o,l)}})})}()}}function mn(t){var e,n,i=document.getElementsByTagName("canvas"),o=new Array,r=0,a=0;for(r=0;r<i.length;r++){e=i[r],n=e.className.split(" ");for(var a=0;a<n.length;a++)if(n[a]==t){o.push(e);break}}return o}function yn(t){function e(){a.clearRect(0,0,t.width,t.height),a.globalCompositeOperation="source-over",a.drawImage(i,0,0,t.width,t.height),o.src=t.getAttribute("mask"),i.removeEventListener("load",e),i.src=null,i=null}function n(){a.globalCompositeOperation="destination-atop",a.drawImage(o,0,0,t.width,t.height),t.style.opacity=1,o.removeEventListener("load",n),o.src=null,o=null,a=null,r=null,t.className=t.className.replace("edges","")}var i=new Image,o=new Image,r=t.className.split(" "),a=t.getContext("2d");i.addEventListener("load",e),o.addEventListener("load",n),i.src=t.getAttribute("src")}function _n(){var t,e=mn("edges");for(t=0;t<e.length;t++)yn(e[t])}function bn(t,e,n){Pc(t,e),Ec(t,e,function(e){Ic(t,e),n.call(t,e)})}function xn(t){var e=(t.action,t.hasFlow),n=t.usefulData;n.getStyle=function(t){return this[this["_"+t]]};var i=new jc;return _.each(n,function(t,o){_.isFunction(t)||i["middle"==t.direction?"shift":"push"](function(){_.extend(t,Nc.view()),t.isFlows&&_.extend(t,Ke());var i=Nc.translate({hooks:e?Je(t,n):{},createIndex:t.pid,currIndex:t.visiblePid,direction:t.direction});n["_"+t.direction]=t.pid,_.extend(t,i)})}),i.shiftAll().destroy(),n}function wn(t){var e=window.DYNAMICCONFIGT&&window.DYNAMICCONFIGT.database;e?T(e,function(){Lc=window.SQLResult,window.SQLResult=null,t()}):window.SQLResult?(Lc=window.SQLResult,window.SQLResult=null,t()):t()}function kn(){return Lc}function Tn(){Lc=null}function Cn(t,e){var n;if("string"==typeof t)e(n,t);else for(n in t)e(n,t[n])}function Sn(t,e,n,i){var o=kn(),r=void 0,a=void 0;o?o[i]?(r=o[i],a={length:Object.keys(r).length,item:function(t){return r[t]}},e(a)):n({tName:":table not exist!!"}):$.ajax({url:Li.onlineModeUrl,dataType:"json",data:{xxtsql:t},success:function(t){r=t,a={length:t.length,item:function(t){return r[t]}},e(a)},error:n})}function Pn(t,e){function n(t,e){d--,u.push(a(t,e)),0===d&&i()}function i(){if(u.length){var t=u.shift();s=t.tableName,t.execute()}else e(c.results?c.results:c,h)}function o(){i()}function r(t){h.push(s),console.log("数据查询错误 "+t.message,"类型",s),i()}function a(t,e){return{tableName:t,execute:function(){l?l.transaction(function(n){n.executeSql(e,[],function(e,n){c[t]=n.rows})},r,o):Sn(e,function(e){c[t]=e,o()},r,t)}}}var s,l=Li.db,c={},u=[],h=[],d=function(){return"string"==typeof t?1:Object.keys(t).length}();Cn(t,function(t,e){n(t||"results",e)})}function En(t,e){Pn("select * FROM "+t+" order by _id ASC",function(t,n){e(t,n)})}function In(t){Xut.IBooks.CONFIG?t(Xut.IBooks.CONFIG.data):Pn(Xc,function(e,n){t(e,n)})}function An(t,e,n,i){var o="delete from "+t+" where _id = "+e;Pn(o,function(t,e){t?t():e&&i()})}function On(){return zc}function Mn(t,e){zc=e||[],Xut.data=Bc=t}function Nn(){Bc=null,Hc=null,$c=null,Xut.data=null}function jn(){Rc(Bc),Bc.Video&&($c=Dc(Bc)),Hc=Fc(Bc)}function Rn(t){Bc.novelId=t,Bc.preventContent=function(){return!Bc.Content.length}(),Bc.query=function(t,e,n,i){switch(n){case"activityId":for(var o,r=e,a=Bc[t],s=0,l=a.length;s<l;s++)if(o=a.item(s),o&&o[n]==r)return o;return;case"chapterId":case"seasonId":var c=e,a=Bc[t];if(a)for(var o,s=0,l=a.length;s<l;s++)o=a.item(s),o&&o[n]==c&&i&&i(o);return}var u=function(){var n=Bc[t];if(e){var i=e-n.start;return n.item(i)}return n.length?n.item(0):null};switch(t){case"appPage":return Bc.Chapter;case"appSection":return Bc.Season;case"sectionRelated":return Hc["seasonId->"+e];case"Video":if(n)return u();var e=$c[e];return Bc.query("Video",e,!0);default:return u()}},Bc.oneQuery=function(t,e){En(t,function(t){e&&e(t)})},Bc.remove=function(t,e,n,i){An(t,e,n,i)}}function Dn(t,e){var n=void 0;return t<e?n="before":t>e?n="after":e==t&&(n="middle"),n}function Fn(t,e){if(this.options.multiScenario){var n=this.options.sectionRang;if(!e&&_.isArray(t))return Gc(t,n.start);t-=n.start,e+=n.start}else if(_.isArray(t))return t;return{pageIndex:t,visiblePid:e}}function Ln(t,e,n){function i(t){void 0!==t.leftIndex&&(r.leftIndex=t.leftIndex,a.push(t.leftIndex)),void 0!==t.currIndex&&(r.currIndex=t.currIndex,a.push(t.currIndex)),void 0!==t.rightIndex&&(r.rightIndex=t.rightIndex,a.push(t.rightIndex))}var o=0,r={},a=[];return i(1!==e&&n?t===o?{currIndex:t,rightIndex:t+1}:t===e-1?{currIndex:t,leftIndex:t-1}:{currIndex:t,leftIndex:t-1,rightIndex:t+1}:{currIndex:t}),{createPointer:a,initPointer:r}}function Xn(t,e){var n=this;if(t[0]!==e){var i=t.indexOf(e),o=t.splice(i,1);t=o.concat(t)}return this.options.multiScenario&&!function(){var e=n.options.sectionRang.start;t.forEach(function(n,i){t.splice(i,1,n+e)})}(),t}function Bn(t){return dt("chapter",t)}function Hn(){var t=On();return!(-1!==t.indexOf("Master")||!Xut.data.Master||!Xut.data.Master.length)}function $n(t,e){var n,i,o,r,a=t.target;if(a.nodeType){if(a===this)return{rootNode:this,elem:a,handlers:Yc["data-container"]};try{for(;a!==this;a=a.parentNode||this){if(a.nodeName&&"canvas"===a.nodeName.toLowerCase())return!!Xut.Contents.Canvas.getSupportState();o=a.attributes;for(n in Yc)if(i=o[n])return r=i.value,{rootNode:this,elem:a,attribute:r,pageType:e,handlers:Yc[n]}}}catch(s){}}}function zn(t){function e(t){var e=Xut.data.query("Content",t);if(e)return O(_.extend({},e))}function n(t){return!t||"string"!=typeof t}var i=t.$globalEvent,o=t.options,r=t.$dispatcher,a=Vc({page:r.pageMgr,master:r.masterMgr}),s=qc(i);Xut.Presentation.GetPageIndex=function(){return i.getHindex()},_.each(["Section","Page"],function(t){Xut.Presentation["GetApp"+t+"Data"]=function(e){var n=0,i=[],o=Xut.data.query("app"+t),r=o.length;for(n;n<r;n++)i.push(o.item(n));return i}}),Xut.Presentation.GetFirstPageId=function(t){var e=Xut.data.query("sectionRelated",t),n=Xut.data.query("appPage");
return n.item(e.start)},_.each(["GetPageId","GetPageNode","GetPageData","GetPageObj"],function(t){Xut.Presentation[t]=function(e,n){return a(function(e,n,i){return i=s(i),e["abstract"+t](i,n)},e,n)}}),Xut.Presentation.GetPageElement=function(){var t=Xut.Presentation.GetPageObj();return t.$pageNode},Xut.Presentation.GetPagePrefix=function(t,e){var n=Xut.Presentation.GetPageObj(t,e);return n.pid};var l="Content_";return Xut.Presentation.MakeContentPrefix=function(t){return l+Xut.Presentation.GetPagePrefix(t)+"_"},Xut.Presentation.GetContentName=function(t){return t?l+Xut.Presentation.GetPagePrefix()+"_"+t:l+Xut.Presentation.GetPagePrefix()},Xut.View.setPointer=function(t){i.setPointer(t)},Xut.View.PageUpdate=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t.$emit.apply(t,["change:pageUpdate"].concat(n))},Xut.View.ShowToolBar=function(e){t.$emit("change:toggleToolbar","show",e)},Xut.View.HideToolBar=function(e){t.$emit("change:toggleToolbar","hide",e)},Xut.View.Toolbar=function(e){t.$emit("change:toggleToolbar",e)},Xut.View.GotoPrevSlide=function(t,e){return t&&e?void Xut.View.LoadScenario({scenarioId:t,chapterId:e}):Xut.IBooks.Enabled&&Xut.IBooks.runMode()?void(location.href=Xut.IBooks.pageIndex-1+".xhtml"):void(o.multiplePages&&i.prev())},Xut.View.GotoNextSlide=function(t,e){return t&&e?void Xut.View.LoadScenario({scenarioId:t,chapterId:e}):Xut.IBooks.Enabled&&Xut.IBooks.runMode()?void(location.href=Xut.IBooks.pageIndex+1+".xhtml"):void(o.multiplePages&&i.next())},Xut.View.GotoSlide=function(e,n){var r=function(t){return t=Number(t)-1,t<0&&(t=0),t};if(Xut.IBooks.Enabled&&Xut.IBooks.runMode()&&n)return void(location.href=n+".xhtml");if(e||n){if(1===arguments.length)return t.$emit("change:showNext"),i.scrollToPage(r(e));if(o.scenarioId==e){var a=Xut.data.query("sectionRelated",e),s=n-a.start;return t.$emit("change:showNext"),i.scrollToPage(r(s))}return Xut.View.LoadScenario({scenarioId:e,chapterId:n})}},Xut.View.isFlipBorderBounce=function(t){return i.isBorder(t)},Xut.View.MovePage=function(t,e,n,a){if(!(!o.multiplePages||i.isMoving()||"flipMove"===a&&i.isBorder(t))){var s=i.getPointer(),l={distance:t,speed:e,direction:n,action:a,leftIndex:s.leftIndex,pageIndex:s.currIndex,rightIndex:s.rightIndex};r.movePageBase(l)}},_.each(["Run","Stop"],function(t){Xut.Assist[t]=function(e,n,o){a(function(e,n,o,r){if(_.isArray(o)){var a=function(){var t=o.length;return function(){1===t&&(r&&r(),a=null),t--}}();_.each(o,function(n){e.abstractAssistAppoint(n,i.getHindex(),a,t)})}else e.abstractAssistAppoint(o,i.getHindex(),r,t)},e,n,o)}}),Xut.Contents.Get=function(t,e,n){return a(function(t,e,n,i){function o(e,n){var i;if(i=t.abstractGetPageObj(e))return i.baseGetContentObject(n)}var r,a,s=Xut.Presentation.GetPageIndex();if(_.isArray(n))return a=[],_.each(n,function(t){r=o(s,t),i?i(t,r):r?a.push(r):Xut.log("error","找不到对应的content数据"+t)}),a;if(/_/.test(n)){var l=n.split("_");if(l.length>1)return o(l[1],l[2])}return r=o(s,n),i?void i(r):r},t,e,n)},Xut.Contents.GetPageWidgetData=function(t,n){if(-1===Uc.indexOf(t)&&(n=t,t="page"),n&&n.length){_.isString(n)&&(n=[n]);var i,o=[];return Xut.Contents.Get(t,n,function(t,n){if(n&&(i=n.contentDas))o.push({id:n.id,idName:n.actName,element:n.$contentNode,theTitle:i.theTitle,scaleHeight:i.scaleHeight,scaleLeft:i.scaleLeft,scaleTop:i.scaleTop,scaleWidth:i.scaleWidth,contentData:i,source:"innerObjet"});else if(i=e(t)){var r,a=Xut.Presentation.GetContentName(t);r=n&&n.$contentNode?n.$contentNode:$("#"+a),o.push({id:t,idName:a,element:r,theTitle:i.theTitle,scaleHeight:i.scaleHeight,scaleLeft:i.scaleLeft,scaleTop:i.scaleTop,scaleWidth:i.scaleWidth,contentData:i,source:"dataBase"})}else Xut.log("error","找不到对应的GetPageWidgetData数据"+t)}),o}},_.each(["Show","Hide","StopAnim"],function(t){Xut.Contents[t]=function(e,o){a(function(e,o,r){if(!n(r)){var a;return(a=e.abstractAssistPocess(i.getHindex()))?void _.each(r.split(","),function(e){a.baseContentMutex(e,t)}):void console.log("注入互斥接口数据错误！")}},e,o)}}),Xut.Application.GetSpecifiedObject=function(t,e){return a(function(t,n){var i;if(i=t.abstractGetPageObj(e.pageIndex))return"Content"===e.type?i.baseSpecifiedContent(e):i.baseSpecifiedComponent(e)},t)},Xut.Application.Swiping=function(){return i.isMoving()},Xut.Application.Bansliding=function(){i.bansliding()},Xut.Application.Allowliding=function(){i.allowliding()},Xut.Application.SetTransitionComplete=function(){i.setTransitionComplete()},_.each(["closeSwipe","openSwipe"],function(t){Xut.Application[t]=function(){i[t]()}}),function(){i=null,r=null,a=null,s=null}}function Gn(){var t=Li.iconHeight,e=Li.proportion,n=Li.viewSize.width,i=Li.viewSize.height,o="horizontal"==Li.layoutMode;e=o?e.width:e.height,t=nu?t:tu(e*t);var r=o?"100%":Math.min(n,i)/(nu?8:3)+"px",a=tu(o?i/eu:.96*(i-t-iu)),s=o?"":"top:"+(t+iu+2)+"px;",l=o?"":"left:"+t+"px;",c=o?"bottom:4px;":"",u=o?"hidden":"visible",h='<div class="xut-nav-bar"\n              style="width:'+r+";\n                     height:"+a+"px;\n                     "+s+"\n                     "+l+"\n                     "+c+"\n                     background-color:white;\n                     border-top:1px solid rgba(0,0,0,0.1);\n                     overflow:"+u+';">\n        </div>',d=Li.viewSize.width,p=Li.viewSize.left,f=Xut.sceneController.createIndex(),v=1===Li.visualMode?"visible":"hidden",g='<div id="xut-main-scene"\n              style="width:'+d+"px;\n                     height:100%;\n                     top:0;\n                     left:"+p+"px;\n                     position:absolute;\n                     z-index:"+f+";\n                     overflow:"+v+';">\n\n            <div id="xut-control-bar" class="xut-control-bar"></div>\n            <ul id="xut-page-container" class="xut-flip"></ul>\n            <ul id="xut-master-container" class="xut-master xut-flip"></ul>\n            '+h+'\n            <div id="xut-tool-tip"></div>\n        </div>';return String.styleFormat(g)}function Wn(t){var e="scenario-"+t,n=1===Li.visualMode?"visible":"hidden",i="scenarioPage-"+t,o="scenarioMaster-"+t,r='<div id="'+e+'"\n              style="width:'+Li.viewSize.width+"px;\n                     height:100%;\n                     left:"+Li.viewSize.left+"px;\n                     z-index:"+Xut.sceneController.createIndex()+";\n                     position:absolute;\n                     overflow:"+n+';">\n            <ul id="'+i+'" class="xut-flip" style="z-index:2"></ul>\n            <ul id="'+o+'" class="xut-flip" style="z-index:1"></ul>\n        </div>';return String.styleFormat(r)}function Yn(t){var e=Xut.data.query("sectionRelated",t),n=e.toolbar,i=e.length,o=[1],r=i>1?2:0;return ou(n,o,r)}function Un(t,e){var n=[0],i=e>1?1:0;return ou(t,n,i)}function Vn(t){Nn()}function qn(t){Tn()}function Kn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"destory";ir.destroyAllScene(),"exit"===t&&(Xut.plat.isBrowser&&($(document).off(),$(window).off()),Mt()),"destory"!==t&&"exit"!==t||qn(),r(),Vn(),Vt(),Ht(),Qe(),S(),Xut.TransformFilter=null,Xut.CreateFilter=null,Xut.Application.$$removeNode()}function Jn(t){t=cu(t||{}),lu(t),uu();var e,n,i;for(i=0;i<Xut.data.Season.length;i++)if(n=Xut.data.Season.item(i),Xut.data.query("sectionRelated",n._id)){e=n._id;break}Xut.View.LoadScenario({main:!0,scenarioId:e,pageIndex:t.pageIndex,history:t.history})}function Zn(){if(!vu){for(var t=Li.viewSize.width,e=Li.viewSize.height,n=Math.min(t,e)/4,i=Math.round((e-n)/2),o=[0,.9167,.833,.75,.667,.5833,.5,.41667,.333,.25,.1667,.0833],r=[0,30,60,90,120,150,180,210,240,270,300,330],a=12,s="",l="";a--;)l+='<div class="xut-busy-spinner"\n                  style="'+hu+":rotate("+r[a]+"deg) translate(0,-142%);"+du+":-"+o[a]+'s">\n            </div>';s='<div style="width:'+n+"px;height:"+n+"px;margin:"+i+"px auto;margin-top:"+(Li.viewSize.top+i)+'px;">\n            <div style="height:30%;"></div>\n            <div class="xut-busy-middle">'+l+'</div>\n            <div class="xut-busy-text"></div>\n        </div>',fu=$(".xut-busy-icon").html(String.styleFormat(s))}}function Qn(){return Au.state}function ti(){Au.closeVideo()}function ei(){Au.load()}function ni(){Xut.Application.delayAppRun(),Ia({url:"duku.mp4",startBoot:function(){Xut.Application.LaunchApp()}})}function ii(t){function e(e){P(t,e)}function n(){var e=Co(t);return p(e)}function i(e,n,i){return"transformFilter"===t&&void 0===i&&(i=n,n="transformFilter"),e(n,Number(i))}var o=function(){var t=n(),e=h();return t&&_.each(t,function(t,n){e[n]=t}),e}();return{add:function(t,n){i(function(t,n){o[t]||(o[t]=[]),-1===o[t].indexOf(n)&&(o[t].push(n),e(o))},t,n)},remove:function(t,n){i(function(t,n){var i=o[t]||[],r=i.indexOf(n);-1!==r&&(i.splice(r,1),e(o))},t,n)},has:function(t,e){return i(function(t,e){var n=o[t];return!!n&&-1!==n.indexOf(e)},t,e)},each:function(t){return i(function(t,e){var n;if(n=o[t])return function(t,e){_.each(n,function(n){var i=t.indexOf(n);-1!==i&&e(i)})}},t)},size:function(){return _.keys(o).length},empty:function(){C(t),o={}}}}function oi(t){In(function(e,n){Mn(e,n),jn(),Rn(e.Novel.item(0)._id),t(e)})}function ri(t){ju(function(){return Nu(t)})}function ai(){var t=$("#xut-stream-flow");if(t.length){var e=t.children();if(e.length){var n=Object.create(null),i=Ke(),o=i.viewWidth,r=Fu=i.viewHeight;e.each(function(t,i){var a=i.id,s=a.match(/\d/)[0];e.children();n[s]=Object.create(null),Bu(i,s,o,r,n)}),t.css({width:o,height:r,overflow:"hidden"}).show(),e.each(function(t,i){var o=i.id,r=o.match(/\d/)[0],a=e.children();a.each(function(t,e){var i=e.id,o=i.match(/\d/)[0],a=Xu($(e));n[r][o]=Number(a)})}),t.hide(),H(n)}}}function si(t){wn(function(){ri(function(e,n){Xut.CreateFilter=ii("createFilter"),Xut.TransformFilter=ii("transformFilter"),s(e.pptWidth,e.pptHeight),$u(n),zu(n),Xut.IBooks.Enabled||Zn(),a(),ai(),Hu(function(){return t(e)})})})}function li(t){t._event={back:function(){Qn()?ti():Gu("back")},pause:function(){Gu("pause")}}}function ci(){li(Li),window.DUKUCONFIG||window.GLOBALIFRAME||!Xut.plat.isIOS||ni(),window.GLOBALIFRAME?Vu():Li.isBrowser?Uu():(window.openDatabase(Li.dbName,"1.0","Xxtebook Database",Li.dbSize),document.addEventListener("deviceready",function(){Xut.plat.hasPlugin=!0,Xut.Plugin.XXTEbookInit.startup(Li.dbName,Vu,function(){})},!1))}var ui="content/gallery/",hi="content/widget/",di=function(){return window.DYNAMICCONFIGT?window.DYNAMICCONFIGT.resource+"/gallery/":ui},pi=function(){return window.DYNAMICCONFIGT?window.DYNAMICCONFIGT.resource+"/widget/":hi},fi=Xut.plat.isIOS,vi=Xut.plat.isAndroid,gi={resources:function(t){return fi?di():vi?parseInt(t.storageMode)?"/sdcard/appcarrier/magazine/"+t.appId+"/"+di():"/android_asset/www/"+di():void 0},video:function(){return fi?di():vi?"android.resource://#packagename#/raw/":void 0},audio:function(){return fi?di():vi?"/android_asset/www/"+di():void 0},svg:function(){return"www/"+di()},jsWidget:function(){return fi?pi():vi?"/android_asset/www/"+pi():void 0}},mi=Xut.plat.isIOS,yi=Xut.plat.isAndroid,_i=window.DUKUCONFIG,bi=window.MMXCONFIG,xi=window.CLIENTCONFIGT,wi=window.SUbCONFIGT;_i&&(_i.path=_i.path.replace("//","/"));var ki=function(t){if("string"!=typeof t)return t;var e=t.length-1;return"/"===t.charAt(e)?t.substr(0,e):t},Ti=location.href.replace(/^file:\/\/\/?/i,"/").replace(/[^\/]*$/,"");bi&&bi.path&&(Ti=ki(bi.path));var Ci=function(){var t=void 0;return wi&&_i?t="iframeDuKuSubDoc":(wi&&(t="iframeSubDoc"),_i&&(t="iframeDuKu"),xi&&(t="iframeClient"),bi&&(t="iframeMiaomiaoxue")),t}(),Si={resources:function(){if(mi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return di();case"iframeDuKuSubDoc":return di();case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}if(yi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return"/android_asset/www/content/subdoc/"+wi.path+"/content/gallery/";case"iframeDuKuSubDoc":return _i.path.replace("gallery","subdoc")+wi.path+"/content/gallery/";case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}},video:function(){if(mi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return di();case"iframeDuKuSubDoc":return di();case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}if(yi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return"android.resource://#packagename#/raw/";case"iframeDuKuSubDoc":return _i.path.replace("gallery","subdoc")+wi.path+"/content/gallery/";case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}},audio:function(){if(mi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return di();case"iframeDuKuSubDoc":return di();case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}if(yi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return"/android_asset/www/content/subdoc/"+wi.path+"/content/gallery/";case"iframeDuKuSubDoc":return _i.path.replace("gallery","subdoc")+wi.path+"/content/gallery/";case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}},svg:function(){if(mi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return"www/content/subdoc/"+wi.path+"/content/gallery/";case"iframeDuKuSubDoc":return _i.path.replace("gallery","subdoc")+wi.path+"/content/gallery/";case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}if(yi)switch(Ci){case"iframeDuKu":return _i.path;case"iframeSubDoc":return"www/content/subdoc/"+wi.path+"/content/gallery/";case"iframeDuKuSubDoc":return _i.path.replace("gallery","subdoc")+wi.path+"/content/gallery/";case"iframeClient":return xi.path;case"iframeMiaomiaoxue":return Ti+"/content/gallery/"}},jsWidget:function(){return Ti+"/content/widget/"}},Pi=Math.ceil,Ei=1024,Ii=768,Ai=void 0,Oi={visualMode:0,flipMode:0,lauchMode:0,orientateMode:!!Xut.plat.isBrowser,saleMode:!1,pageMode:Ai,toolType:{mian:Ai,deputy:Ai,number:Ai},doublePageMode:!1,debugMode:!1,onlyDomMode:!1,deBugHistory:Ai},Mi={onlineModeUrl:"lib/data/database.php",isPlugin:window.DUKUCONFIG&&Xut.plat.isIOS,dbName:window.xxtmagzinedbname||"magazine",storageMode:0,appId:null,pathAddress:null},Ni=Xut.plat.isIphone,ji=Xut.plat.isBrowser,Ri=window.GLOBALIFRAME,Di=window.CLIENTCONFIGT,Fi=window.MMXCONFIG,Li=Object.create(null),Xi=void 0,Bi=void 0;Xut.zIndexlevel=function(){return++Li.zIndexlevel},/xinxuetang/.test(window.location.href)&&(Li.iframeFullScreen=!0);var Hi=!1,$i=!1,zi=!1,Gi=!1,Wi=void 0,Yi=void 0,Ui=void 0,Vi=void 0,qi=function(){return window.DYNAMICCONFIGT?di():Ri&&Di?Di.path:"undefined"!=typeof initGalleryUrl?di():Number(Li.storageMode)?"sdcard/"+Li.appId+"/"+di():di()},Ki=function(){return!Fi&&ji}(),Ji=function(){return ji?qi():Ri?Si.resources(Li):gi.resources(Li)},Zi=function(){return Ki?qi():Ri?Si.video():gi.video()},Qi=function(){return Ki?qi():Ri?Si.audio():gi.audio()},to=function(){return ji?qi():Ri?Si.svg():gi.svg()},eo=function(){return ji?pi():Ri?Si.jsWidget():gi.jsWidget()};Xut.log=function(t,e){if(Li.debugMode)switch(t){case"error":console.error&&console.error(e);break;case"debug":console.debug&&console.debug(e);break;default:console.log(t)}},_.extend(Li,{videoPath:function(){return Hi&&Wi?Wi:(Hi=!0,Wi=Zi())},audioPath:function(){return $i&&Yi?Yi:($i=!0,Yi=Qi())},svgPath:function(){return zi&&Ui?Ui:(zi=!0,Ui=to())},jsWidgetPath:function(){return Gi&&Vi?Vi:(Gi=!0,Vi=eo())},layoutMode:Xi,proportion:Bi,isBrowser:ji,zIndexlevel:1e3,iconHeight:Ni?32:44,dbSize:1},Oi,Mi),Xut.config=Li;var no=function(t,e){t&&e&&(Li.pptHorizontal=t>e,Li.pptVertical=!Li.pptHorizontal);var r=i(Li,t,e),a=Li.viewSize=n(Li,r);a.overflowWidth=!1,a.notFillWidth=!1,a.left<0?a.overflowWidth=!0:a.left>0&&(a.notFillWidth=!0),a.overflowHeight=!1,a.notFillHeight=!1,a.top<0?a.overflowHeight=!0:a.top>0&&(a.notFillHeight=!0),Bi=Li.proportion=o(Li,a,r)},io=Object.defineProperty,oo=Xut.style.transitionEnd,ro=Xut.plat.isSurface,ao=Xut.plat.hasTouch,so=["touchstart","touchmove","touchend","touchcancel",oo],lo=["mousedown","mousemove","mouseup","mousecancel",oo],co={start:0,move:1,end:2,cancel:3,transitionend:4},uo=function(){return ro?{touch:so,mouse:lo}:ao?so:lo}(),ho=function(t,e,n){_.each(e,function(e,i){return e&&n(t[co[i]],e)})},po=function(t,e,n){ho(e,n,function(e,n){return t.addEventListener(e,n,!1)})},fo=function(t,e,n){ho(e,n,function(e,n){return t.removeEventListener(e,n,!1)})},vo=function(t,e,n){ro?_.each(uo,function(i){t(e,i,n)}):t(e,uo,n)},go=function(){return{load:function(t,e,n,i){if(t.length&&i){var o=[];t.forEach(function(t,e){t&&o.push(t)}),t=o.reverse(),o=null}var n=n||this,r=document.getElementsByTagName("head")[0],a=document.createDocumentFragment(),s=t.length,l=0,c=function(e){r.appendChild(n.buildScriptTag(t[e],u))},u=function(){l++,s==l&&"function"==typeof e?e.call(n):i===!0&&c(l)};if(i===!0)c.call(this,0);else{for(var h=0,d=t.length;h<d;h++)a.appendChild(this.buildScriptTag(t[h],u));r.appendChild(a)}},buildScriptTag:function(t,e){var n=t.substr(t.lastIndexOf(".")+1);if("js"==n){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.onload=e,i}if("css"==n){var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=t,e(),o}}}}(),mo=function(){var t=[],e=null,n=function(){for(var e=0;e<t.length;e++)t[e].end?t.splice(e--,1):t[e]();!t.length&&i()},i=function(){clearInterval(e),e=null};return function(i,o,r,a){var s,l,c,u,h,d=new Image;return d.src=i,d.complete?(o&&o.call(d),void(r&&r.call(d))):(l=d.width,c=d.height,d.onerror=function(){a&&a.call(d),s.end=!0,d=d.onload=d.onerror=null},s=function(){u=d.width,h=d.height,(u!==l||h!==c||u*h>1024)&&(o&&o.call(d),s.end=!0)},s(),d.onload=function(){!s.end&&s(),r&&r.call(d),d=d.onload=d.onerror=null},void(s.end||(t.push(s),null===e&&(e=setInterval(n,40)))))}}(),yo=T,_o=void 0,bo="aaron",xo=window.localStorage,wo=function(){var t="aaron-"+(new Date).getDate();return Xut.config.db&&Xut.config.db.transaction(function(e){e.executeSql("UPDATE Setting SET 'value' = "+t+" WHERE [name] = 'appId'",function(){},function(){})},function(){},function(){}),t},ko=function(t){return _o?t+_o:(Xut.config.appUUID||(Xut.config.appUUID=wo()),_o=window.SUbCONFIGT&&window.SUbCONFIGT.dbId?"-"+Xut.config.appUUID+"-"+window.SUbCONFIGT.dbId:"-"+Xut.config.appUUID,t+_o)},To=function(t,e){function n(t,e){try{xo.setItem(t,e)}catch(n){console.log("storage.setItem(setkey, key[i]);")}}var i;if(_.isObject(t))for(var o in t)t.hasOwnProperty(o)&&(i=ko(o),n(i,t[o]));else t=ko(t),n(t,e)},Co=function(t){return t=ko(t),xo.getItem(t)||void 0},So=Math.ceil,Po=function(t,e,n,i){var o=Li.proportion;return{width:t*o.width,height:e*o.height,left:n*o.left,top:i*o.top}},Eo=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var s={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=s:(r=a=s,i(t,e))})}function i(n,r){try{var a=e[n](r),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(a.done?"return":"normal",a.value)}catch(l){o("throw",l)}}function o(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}r=r.next,r?i(r.key,r.arg):a=null}var r,a;this._invoke=n,"function"!=typeof e["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype["throw"]=function(t){return this._invoke("throw",t)},e.prototype["return"]=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),Io=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ao=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Oo=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Mo=Xut.plat.isIOS,No=function(){var t=Li.iconHeight,e=Li.settings,n="height:"+t+"px;width:"+t+"px";switch(e.NavbarPos){case 0:n+=";top:0";break;case 1:n+=";margin-top:"+-t/2+"px";break;case 2:n+=";top:auto;bottom:0"}return n},jo=function(){Xut.View.GotoPrevSlide()},Ro=function(){Xut.View.GotoNextSlide()},Do=function(){function t(){Eo(this,t),this.super_barHeight=Mo?20:0;var e=Li.proportion,n=Li.iconHeight;this.super_propHeight="horizontal"==Li.layoutMode?e.width:e.height,this.super_iconHeight=Mo?n:Math.round(this.super_propHeight*n),this.appName=Li.shortName,this.settings=Li.settings}return Io(t,[{key:"super_createArrows",value:function(){this.arrows=h();var t=this.settings.customButton,e=void 0;e=t?$(this._createIcon()):$(this._createArrow());var n=e.eq(0),i=e.eq(e.length-1);this.arrows={prev:{off:this._onArrow(n,jo),el:n,able:!0},next:{off:this._onArrow(i,Ro),el:i,able:!0}},this.$sceneNode.append(e)}},{key:"_onArrow",value:function(t,e){return t.on("mouseup touchend",function(t){return e(),!1}),function(){t.off(),t=null}}},{key:"_getArrowOption",value:function(){var t=No(),e=this.barStatus?"":"hide",n=Li.iconHeight;return{style:t,state:e,height:n}}},{key:"_createArrow",value:function(){var t=this._getArrowOption();return'<div class="si-icon xut-flip-control xut-flip-control-left icomoon icon-angle-left '+t.state+'"\n                     style="'+t.style+";text-align:center;line-height:"+t.height+'px;font-size:4vh;">\n                </div>\n                <div class="si-icon xut-flip-control xut-flip-control-right icomoon icon-angle-right '+t.state+'"\n                     style="'+t.style+";text-align:center;line-height:"+t.height+'px;">\n                </div>'}},{key:"_createIcon",value:function(){var t=No(),e=this.toolBarStatus?"":"hide",n=t+";background-image:url(images/icons/pageforward_"+Li.appId+".svg);background-size:cover",i=t+";background-image:url(images/icons/pageback_"+Li.appId+".svg);background-size:cover";return'<div name="prevArrow"\n                     class="xut-flip-control xut-flip-control-left '+e+'"\n                     style="'+n+'">\n               </div>\n                <div name="nextArrow"\n                     class="xut-flip-control xut-flip-control-right '+e+'"\n                     style="'+i+'">\n                </div>'}},{key:"_toggleArrow",value:function(t,e){if(this.arrows){var n=this.arrows[t];n&&(n.able=e,this.hasTopBar&&!this.toolBarStatus&&e||n.el[e?"show":"hide"]())}}},{key:"_showArrow",value:function(){var t=this.arrows;for(var e in t){var n=t[e];n.able&&n.el.show()}}},{key:"_hideArrow",value:function(){var t=this.arrows;for(var e in t)t[e].el.hide()}},{key:"super_showSystemBar",value:function(){Mo&&Xut.plat.hasPlugin&&Xut.Plugin.statusbarPlugin.setStatus(null,null,0)}},{key:"super_hideSystemBar",value:function(){Mo&&Xut.plat.hasPlugin&&Xut.Plugin.statusbarPlugin.setStatus(null,null,1)}},{key:"super_destory",value:function(){this.arrows&&(this.arrows.prev.off(),this.arrows.next.off(),this.arrows=null)}},{key:"hideNext",value:function(){this._toggleArrow("next",!1)}},{key:"showNext",value:function(){this._toggleArrow("next",!0)}},{key:"hidePrev",value:function(){this._toggleArrow("prev",!1)}},{key:"showPrev",value:function(){this._toggleArrow("prev",!0)}},{key:"_showToolBar",value:function(t){switch(t){case"controlBar":this.showTopBar();break;case"button":this._showArrow(),this.Lock=!1;break;default:this.showTopBar(),this._showArrow()}}},{key:"_hideToolBar",value:function(t){switch(t){case"controlBar":this.hideTopBar();break;case"button":this._hideArrow(),this.Lock=!1;break;default:this.hideTopBar(),this._hideArrow()}}},{key:"toggle",value:function(t,e){if(!this.Lock)switch(this.Lock=!0,t){case"show":this._showToolBar(e);break;case"hide":this._hideToolBar(e);break;default:this.toolBarStatus?this._hideToolBar(e):this._showToolBar(e)}}},{key:"resetArrow",value:function(){this.toolBarStatus?this._showArrow():this._hideArrow()}}]),t}(),Fo=Math.round,Lo=6,Xo=Xut.plat.isIOS,Bo=Xo?20:0,Ho=function(){var t=Li.iconHeight,e=Li.proportion,n=Li.viewSize,i="horizontal"==Li.layoutMode;e=i?e.width:e.height,t=Xo?t:Fo(e*t);var o=void 0,r=void 0,a=n.width,s=n.height;return i?o=Fo(s/Lo):(r=Math.min(a,s)/(Xo?8:3),o=Fo(.96*(s-t-Bo))),{sWidth:a,sHeight:s,navHeight:o,navWidth:r,proportion:e}},$o=function(t){var e=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=Ho(),u=Fo(2*c.proportion),h=c.navWidth,d=c.navHeight,p=c.sWidth,f=c.sHeight;return"horizontal"==Li.layoutMode?(n=Fo(.9*d),e=Fo(n*p/f),i=Fo(.05*d),o="width:"+t*(e+i)+"px>",r="float:left;width:"+e+"px;height:"+n+"px;margin-left:"+i+"px",a="width:96%;height:"+n+"px;margin:"+i+"px auto;font-size:"+u+"em",s=e*t+t*i):(e=Fo(.9*h),n=Fo(1.1*h),i=Fo(.05*h),r="width:"+e+"px;height:"+n+"px;margin:"+i+"px auto;border-bottom:1px solid rgba(0,0,0,0.3)",a="height:"+(d-4)+"px;overflow:hidden;margin:2px auto;font-size:"+u+"em",l=n*t+t*i),{contentstyle:r,containerstyle:a,overwidth:s,overHeigth:l,scroller:o}},zo=function(){function t(e){Eo(this,t),this._isHorizontal="horizontal"===Li.layoutMode,this._pagedata=e,this._$section=$("#xut-nav-section-list"),this._$list=this._$section.find("li")}return Io(t,[{key:"userIscroll",value:function(t){var e=this,n=this._isHorizontal;this.hBox?n?this.hBox.goToPage(t,0,0):this.hBox.goToPage(0,t,0):(this.hBox=new iScroll("#xut-nav-wrapper",{snap:"li",tap:!0,scrollX:n,scrollY:!n,scrollbars:!0,fadeScrollbars:!0,stopPropagation:!0}),this.hBox.on("scrollEnd",function(t){e.createThumb(),e._removeThumb()}),this._$section.on("tap",this._toJump))}},{key:"_toJump",value:function(t){var e=t.target;if(e){var n=e.getAttribute("data-xxtlink");n&&(n=n.split("-"),Xut.View.GotoSlide(n[0],n[1]))}}},{key:"createThumb",value:function(){var t=this._getPageIndex(),e=this._getViewLen(),n=this.createBak||[],i=[],o=this._pagedata,r=o.length,a=Li.pathAddress;e=e>r?r:e,t=t+e>r?r-e:t;var s=0,l=void 0,c=void 0;for(s=0;s<e;s++)l=t+s,c=o[l],i.push(l),_.contains(n,l)||(n.push(l),c.iconImage?this._$list.eq(l).css({"background-image":"url("+a+c.iconImage+")"}):this._$list.eq(l).css({"background-image":"url("+a+c.md5+")","background-color":"white"}));this.createNew=i,this.createBak=n}},{key:"_removeThumb",value:function(){var t=this._$list,e=this.createNew,n=this.createBak;_.each(n,function(i,o){_.contains(e,i)||(n[o]=-1,t.eq(i).css({background:""}))}),this.createBak=_.without(n,-1)}},{key:"_getPageIndex",value:function(){return this.hBox.options.scrollX?this.hBox.currentPage.pageX:this.hBox.currentPage.pageY}},{key:"_getViewLen",value:function(){var t=this.hBox,e=1,n=1,i=this._pagedata.length;return this._isHorizontal?(e=t.scrollerWidth/i,n=t.wrapperWidth/e):(e=t.scrollerHeight/i,n=t.wrapperHeight/e),Math.ceil(n)+1}},{key:"scrollTo",value:function(t){this.userIscroll(t)}},{key:"refresh",value:function(){this.hBox&&this.hBox.refresh()}},{key:"destroy",value:function(){this.hBox&&(this._$section.off(),this._$section=null,this._$list=null,this.hBox.destroy(),this.hBox=null),this._pagedata=null}}]),t}(),Go=function(){function t(e){Eo(this,t),this.pageIndex=e,this.isRunning=!1,this.$container=$(".xut-nav-bar"),this.$button=$(".xut-control-navbar"),this._initialize()}return Io(t,[{key:"toggle",value:function(t){this.pageIndex=t,this._navControl()}},{key:"hide",value:function(){this.isRunning&&this._navControl()}},{key:"destroy",value:function(){this.sectionObj&&(this.sectionObj.destroy(),this.sectionObj=null),this.$container=null,this.$button=null}}]),Io(t,[{key:"_initialize",value:function(){var t=this,e=[];Xut.data.query("Chapter",Xut.data.novelId,"seasonId",function(t){return e.push(t)}),Xut.nextTick({container:this.$container,content:N(e)},function(){t.sectionObj=new zo(e),t.sectionObj.userIscroll(t.pageIndex),t.sectionObj.createThumb(),t._navControl()})}},{key:"_navControl",value:function(){var t=this.$button.attr("fly")||"in",e="in"===t;e&&this.$container.css({"z-index":0,opacity:0,display:"block"}),this.$button.css("opacity",e?.5:1),e?(this.sectionObj.refresh(),this.sectionObj.scrollTo(this.pageIndex),this.$container.css({"z-index":Xut.zIndexlevel(),opacity:1}),this.$button.attr("fly","out"),this.isRunning=!0):(this.$button.attr("fly","in"),this.$container.hide(),this.isRunning=!1)}}]),t}(),Wo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.controlNode,i=t.sceneNode,o=t.pageMode,r=t.pageTotal,a=t.currentPage,s=t.toolType;Eo(this,e);var l=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return l.curTips=null,l.Lock=!1,l.delay=50,l.hasTopBar=!0,l.$controlNode=n,l.eventElement=n[0],l.$sceneNode=i,l.pageTotal=r,l.currentPage=a,_.some(s)&&l._initToolbar(),2==o&&l.super_createArrows(),l}return Ao(e,t),Io(e,[{key:"_initToolbar",value:function(){var t=this.$controlNode,e=this.settings,n=this.super_iconHeight;this.toolBarStatus="none"!==t.css("display"),this._toolbarPostion(t,e.ToolbarPos);var i="";e.HomeBut&&(i+=R(n)),e.ContentBut&&(i+=D(n)),i+=F(n,this.appName),i+=X(n),e.CloseBut&&(i+=B(n)),e.PageBut&&(i+=L(n,this.currentPage,this.pageTotal)),Xut.nextTick(t.append(String.styleFormat(i))),this.curTips=t.find(".control-current-page"),m(this.eventElement,{start:this})}},{key:"handleEvent",value:function(t){b({start:function(t){switch(x(t).className){case"xut-control-backhome":j();break;case"xut-control-navbar":this._toggleNavBar();break;case"xut-control-hidebar":this.hideTopBar()}}},this,t)}},{key:"_toolbarPostion",value:function(t,e){var n=this.super_iconHeight;1==e?t.css({bottom:0,height:n+"px"}):t.css({top:0,height:n+"px",paddingTop:this.super_barHeight+"px"})}},{key:"_toggleNavBar",value:function(){var t=Xut.Presentation.GetPageIndex();this.navbarObj?this.navbarObj.toggle(t):this.navbarObj=new Go(t)}},{key:"updatePointer",value:function(t){var e=t.parentIndex;this.curTips&&this.curTips.html(e+1)}},{key:"hideNavbar",value:function(){this.navbarObj&&this.navbarObj.hide("hide")}},{key:"showTopBar",value:function(){var t=this;return this.toolBarStatus?void(this.Lock=!1):(this.$controlNode.css({display:"block",opacity:0}),void Xut.nextTick(function(){t.$controlNode&&t.$controlNode.animate({opacity:1},t.delay,"linear",function(){t.hideNavbar(),t.super_showSystemBar(),t.toolBarStatus=!0,t.Lock=!1})}))}},{key:"hideTopBar",value:function(){var t=this;return this.toolBarStatus?void this.$controlNode.animate({opacity:0},t.delay,"linear",function(){t.hideNavbar(),t.$controlNode.hide(),t.super_hideSystemBar(),t.toolBarStatus=!1,t.Lock=!1}):void(this.Lock=!1)}},{key:"destroy",value:function(){this.navbarObj&&this.navbarObj.destroy(),y(this.eventElement,{start:this}),this.super_destory(),this.curTips=null,this.toolBarStatus=!1,this.$controlNode=null,this.eventElement=null}}]),e}(Do),Yo=Xut.plat.isIOS,Uo=function(){Xut.View.CloseScenario()},Vo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pageMode,i=t.sceneNode,o=t.toolType,r=t.pageTotal,a=t.currentPage;Eo(this,e);var s=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return s.pageTips=null,s.currTip=null,s.tipsMode=0,s.top=0,s.Lock=!1,s.delay=50,s.hasTopBar=!1,s.barStatus=!0,s.pageMode=n,s.$sceneNode=i,s.toolType=o,s.pageTotal=r,s.currentPage=a,s._initTool(),s}return Ao(e,t),Io(e,[{key:"_initTool",value:function(){var t=this.$sceneNode,e=void 0;for(t.hide(),this.controlBar=[];e=this.toolType.shift();)switch(e){case 1:this._createSystemBar();break;case 2:this._createCloseIcon();
break;case 3:this._createBackIcon();break;case 4:this._createPageTips();break;default:this.barStatus=!1,this.hasTopBar=!1}2===this.pageMode&&this.super_createArrows(),t.show()}},{key:"_createSystemBar",value:function(){var t=this.super_barHeight,e='<div class="xut-control-bar"\n                         style="top:0;height:'+this.super_iconHeight+"px;padding-top:"+t+'px">\n                    </div>';e=$(String.styleFormat(e)),this.top=t,this.super_showSystemBar(),this._createBackIcon(e),this._createTitle(e),this._createPageNum(e),this.controlBar=e,this.$sceneNode.append(e),this.hasTopBar=!0}},{key:"_createPageTips",value:function(){var t=this,e=this.pageTotal,n=this.super_iconHeight,i="",o="";if(e<2)return i;for(var r=Yo?7:Math.max(8,Math.round(8*this.super_propHeight)),a=2.5*r,s=e*a,l=(n-r)/2,c=(Li.viewSize.width-s)/2,u=1;u<=e;u++)o+='<li class="xut-scenario-dark" \n                      style="float:left;width:'+a+"px;height:"+n+'px;" \n                      data-index="'+u+'">\n                    <div class="xut-scenario-radius" \n                          style="width:'+r+"px;height:"+r+"px;margin:"+l+'px auto">\n                    </div>\n                </li>';i='<ul class="xut-scenario-tips"  \n                    style="top:'+this.top+"px;left:"+c+"px;width:"+s+'px;opacity:0.6">\n                    '+o+"\n                </ul>",i=$(String.styleFormat(i)),this.$tipsNode=i,this.$tipsNode.on("click",function(e){var n=e.target;switch(n.className){case"xut-control-nav-hide":t.hideTopBar();break;case"xut-scenario-dark":if(t.pageMode){var i=n.getAttribute("data-index")||1;Xut.View.GotoSlide(Number(i))}}}),this.pageTips=i.children(),this.tipsMode=1,this.controlBar.push(i),this.$sceneNode.append(i)}},{key:"updatePointer",value:function(t){var e=t.parentIndex;switch(this.tipsMode){case 1:this.prevTip&&(this.prevTip.className="xut-scenario-dark"),this.currTip=this.pageTips[e],this.currTip.className="xut-scenario-light",this.prevTip=this.currTip;break;case 2:this.currTip.html(e+1)}}},{key:"_onBackClose",value:function(t){return t.on("mouseup touchend",function(t){return Uo(),!1}),function(){t.off(),t=null}}},{key:"_createCloseIcon",value:function(){var t=this.super_iconHeight,e=$('<div class="si-icon xut-scenario-close icomoon icon-close" \n                style="top:'+this.top+"px;width:"+t+"px;height:"+t+"px;line-height:"+t+'px;text-align:center;font-size:3vh;">\n            </div>');this.$closeIcon=e,this._onBackClose(this.$closeIcon),this.controlBar.push(e),this.$sceneNode.append(e)}},{key:"_createBackIcon",value:function(){var t=this.super_iconHeight,e=$('<div class="si-icon xut-scenario-back icomoon icon-arrow-left" \n                  style="top:'+this.top+"px;width:"+t+"px;height:"+t+"px;line-height:"+t+'px;">\n            </div>');this.$backIcon=e,this._onBackClose(this.$backIcon),this.controlBar.push(e),this.$sceneNode.append(e)}},{key:"_createPageNum",value:function(t){var e,n=this.pageTotal,i=this.top,o=this.super_iconHeight,r=this.currentPage;e='<div class="xut-control-pageindex" \n                  style="position:absolute;\n                         right:4px;\n                         top:'+(.25*o+i)+"px;\n                         padding:0 0.25em;\n                         height:"+.5*o+"px;\n                         line-height:"+.5*o+'px;\n                         border-radius:0.5em">\n                <span class="currentPage">'+r+"</span>/<span>"+n+"</span>\n            </div>",e=$(String.styleFormat(e)),this.tipsMode=2,this.currTip=e.children().first(),t.append(e)}},{key:"_createTitle",value:function(t){var e='<div class="xut-control-title"\n                  style="line-height:'+this.super_iconHeight+'px">\n                '+this.appName+"\n            </div>";t.append(String.styleFormat(e))}},{key:"showTopBar",value:function(){var t=this,e=this.delay,n=this.controlBar;return this.barStatus?void(this.Lock=!1):void(this.hasTopBar?(n.css({display:"block",opacity:0}),setTimeout(function(){n.animate({opacity:1},e,"linear",function(){t.__showSystemBar(),t.barStatus=!0,t.Lock=!1})})):n.forEach(function(e){e.show(),t.Lock=!1,t.barStatus=!0}))}},{key:"hideTopBar",value:function(){var t=this,e=this.delay,n=this.controlBar;return this.barStatus?void(this.hasTopBar?n.animate({opacity:0},e,"linear",function(){t.controlBar.hide(),t.__hideSystemBar(),t.barStatus=!1,t.Lock=!1}):n.forEach(function(n){n.hide(e,function(){t.Lock=!1,t.barStatus=!1})})):void(this.Lock=!1)}},{key:"destroy",value:function(){this.$sceneNode=null,this.controlBar=null,this.pageTips=null,this.currTip=null,this.prevTip=null,this.$tipsNode&&(this.$tipsNode.off(),this.$tipsNode=null),this.$closeIcon&&(this.$closeIcon.off(),this.$closeIcon=null),this.$backIcon&&(this.$backIcon.off(),this.$backIcon=null),this.super_destory()}}]),e}(Do),qo=parseInt($("body").css("font-size"))||16,Ko=void 0,Jo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.parent,i=e.pageId,o=e.seasonId;Eo(this,t),this.parent=n,this.pageId=i,this.seasonId=o,this.viewSize=Li.viewSize,this.sHeight=this.viewSize.height,this.sWidth=this.viewSize.width,this.isStored=!1,this.init()}return Io(t,[{key:"init",value:function(){var t=this.createBookMarkFont(),e=this.parent[0],n=this;this.parent.append(t),this.bookMarkMenu=t.eq(0),setTimeout(function(){n.restore()},20),Ko=this.getHistory(),m(e,{end:this})}},{key:"createBookMarkFont",value:function(){var t=3*qo,e=this.sHeight,n='<div class="xut-bookmark-menu" \n               style="width:100%;height:'+t+"px;left:0;top:"+e+'px;">\n              <div class="xut-bookmark-wrap">\n                <div class="xut-bookmark-add">加入书签</div>\n                <div class="xut-bookmark-off icomoon icon-chevron-down" style="vertical-align:bottom;"></div>\n                <div class="xut-bookmark-view">书签记录</div>\n              </div>\n            </div>\n            <div class="xut-bookmark-list" style="display:none;width:100%;height:'+e+'px;">\n              <ul class="xut-bookmark-head">\n                <li class="xut-bookmark-back">返回</li>\n                <li>书签</li>\n              </ul>\n              <ul class="xut-bookmark-body"></ul>\n            </div>';return this.markHeight=t,$(n)}},{key:"createMarkList",value:function(){var t,e,n,i="",o=this;return _.each(Ko,function(r){t=r.split("-"),e=t[0],n=t[1],r=o.getMarkId(e,n),i+='<li>\n               <a data-mark="'+r+'" class="xut-bookmark-id" href="javascript:0">第'+n+'页</a>\n               <a class="xut-bookmark-del" data-mark="'+r+'" href="javascript:0">X</a>\n             </li>'}),i}},{key:"getMarkId",value:function(t,e){return t+"-"+e}},{key:"getHistory",value:function(){var t=Co("bookMark");return t?t.split(","):[]}},{key:"addBookMark",value:function(){var t;this.updatePageInfo(),t=this.getMarkId(this.seasonId,this.pageId),Ko.indexOf(t)>-1||(Ko.push(t),To("bookMark",Ko))}},{key:"updatePageInfo",value:function(){var t=Xut.Presentation.GetPageData();this.pageId=t._id,this.seasonId=t.seasonId}},{key:"delBookMark",value:function(t){if(t&&t.dataset){var e=t.dataset.mark,n=Ko.indexOf(e);Ko.splice(n,1),To("bookMark",Ko),0==Ko.length&&C("bookMark"),$(t).parent().remove()}}},{key:"viewBookMark",value:function(t){var e,n=this.createMarkList();e=this.bookMarkList?this.bookMarkList:$(t).parent().parent().next(),e.find(".xut-bookmark-body").html(n),this.bookMarkList=e,e.fadeIn()}},{key:"iconManager",value:function(t){var e=this.bookMarkIcon=$(t),n=this.iconRestore;e.css({transform:"scale(1.2)","transition-duration":"500ms"})[0].addEventListener(Xut.style.transitionEnd,n.bind(this),!1)}},{key:"iconRestore",value:function(){this.bookMarkIcon.css("transform","")}},{key:"goBookMark",value:function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),n=Number(e[0]),i=Number(e[1]);this.updatePageInfo(),this.backBookMark(),this.pageId==i&&this.seasonId==n||Xut.View.LoadScenario({scenarioId:n,chapterId:i})}}},{key:"backBookMark",value:function(){this.bookMarkList.fadeOut()}},{key:"handleEvent",value:function(t){var e=t.target;b({end:function(t){switch(x(t).className){case"xut-bookmark-add":this.addBookMark(),this.iconManager(e);break;case"xut-bookmark-view":this.viewBookMark(e),this.iconManager(e);break;case"xut-bookmark-off":case"xut-bookmark-off icomoon icon-chevron-down":this.closeBookMark(e);break;case"xut-bookmark-back":this.backBookMark();break;case"xut-bookmark-del":this.delBookMark(e);break;case"xut-bookmark-id":this.goBookMark(e)}}},this,t)}},{key:"closeBookMark",value:function(t){this.bookMarkMenu.css({transform:"translate3d(0,0,0)","transition-duration":"1s"})}},{key:"restore",value:function(){this.bookMarkMenu.css({transform:"translate3d(0,-"+this.markHeight+"px,0)","transition-duration":"1s"})}},{key:"destroy",value:function(){var t=this.parent[0];y(t,{end:this}),this.bookMarkMenu&&(this.bookMarkMenu.remove(),this.bookMarkMenu=null),this.bookMarkList&&(this.bookMarkList.remove(),this.bookMarkList=null),this.bookMarkIcon&&(this.bookMarkIcon[0].removeEventListener(Xut.style.transitionEnd,this.iconRestore,!1),this.bookMarkIcon=null),this.parent=null}}]),t}(),Zo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pageMode,i=t.sceneNode,o=t.controlNode;Eo(this,e);var r=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.$sceneNode=i,r.$controlNode=o,r.pageMode=n,r.hasTopBar=!0,r.Lock=!1,r.delay=50,r.topBarHeight=1.25*r.super_iconHeight,r.initTool(),r}return Ao(e,t),Io(e,[{key:"initTool",value:function(){var t=this.$controlNode.css("display");this.barStatus="none"!=t,this.setToolbarStyle(),this.createBackIcon(),this.createDirIcon(),this.createMarkIcon(),2==this.pageMode&&this.super_createArrows(),m(this.$sceneNode[0],{end:this})}},{key:"setToolbarStyle",value:function(){var t=this.topBarHeight,e=this.barHeight;this.$controlNode.css({top:0,height:t+"px",paddingTop:e+"px",backgroundColor:"rgba(0, 0, 0, 0.2)",fontSize:"0.625em",color:"white"})}},{key:"updatePointer",value:function(){}},{key:"createDirIcon",value:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div");t.style.width="48px",t.style.height="100%",t.style["float"]="left",t.style.marginLeft="3vw",t.style.cursor="pointer",t.style.position="relative",e.style.fontSize="2.5vh",e.style.color="#fff",e.className="icomoon icon-th-list2",e.style.position="absolute",e.style.bottom=.5*this.super_iconHeight+"px",n.innerHTML="目录",n.className="xut-book-dirFont",n.style.position="absolute",n.style.bottom="0",t.appendChild(e),t.appendChild(n),this.$controlNode.append(t)}},{key:"createMarkIcon",value:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div");t.style.width="48px",t.style.height="100%",t.style["float"]="left",t.style.marginLeft="1vw",t.style.cursor="pointer",t.style.position="relative",e.style.fontSize="2.5vh",e.style.color="#fff",e.style.position="absolute",e.style.bottom=.5*this.super_iconHeight+"px",e.className="icomoon icon-bookmark2",n.innerHTML="书签",n.className="xut-book-markFont",n.style.position="absolute",n.style.bottom="0",t.appendChild(e),t.appendChild(n),this.$controlNode.append(t)}},{key:"createStarIcon",value:function(t){var e=document.createElement("div");e.innerHTML="评分",e.style.width=this.super_iconHeight+"px",e.style.lineHeight=1.5*this.topBarHeight+"px",e.className="xut-book-bar-star",this.$controlNode.append(e)}},{key:"createBackIcon",value:function(){var t=document.createElement("div");t.style.width=this.topBarHeight+"px",t.style.lineHeight=this.topBarHeight+"px",t.style.color="#fff",t.className="icomoon icon-angle-left icon-book-bar",t.style.fontSize="6vh",this.$controlNode.append(t)}},{key:"showTopBar",value:function(){var t=this;return this.barStatus?void(this.Lock=!1):(this.$controlNode.css({display:"block",opacity:0}),void setTimeout(function(){t.$controlNode.animate({opacity:1},t.delay,"linear",function(){t.super_showSystemBar(),t.barStatus=!0,t.Lock=!1})},50))}},{key:"hideTopBar",value:function(){var t=this;return this.barStatus?void this.$controlNode.animate({opacity:0},t.delay,"linear",function(){t.$controlNode.hide(),t.super_hideSystemBar(),t.barStatus=!1,t.Lock=!1}):void(this.Lock=!1)}},{key:"hideNavbar",value:function(){}},{key:"createDirMenu",value:function(){var t=this,e=document.createElement("div"),n=document.createElement("div");n.className="xut-book-menu-mask",this.getDirContent(),e.className="xut-book-menu",e.innerHTML="<ul>"+this.contentText+"</ul>",this.$sceneNode.append(e),this.isScrolled=!1,this.iscroll=new iScroll(e,{scrollbars:!0,fadeScrollbars:!0,scrollX:!1}),this.menu=e,this.setColor(),this.iscroll.on("scrollStart",function(e){t.isScrolled=!0}),this.iscroll.on("scrollEnd",function(e){t.isScrolled=!1}),e.appendChild(n)}},{key:"showDirMenu",value:function(){var t=Xut.Presentation.GetPageElement();this.menu?this.menu.style.display="block":this.createDirMenu(),t.addClass("filter"),this.page=t,this.$controlNode.hide();var e=this.iscroll;e.y>e.wrapperHeight&&e.scrollToElement(this.selectedChild)}},{key:"hideDirMenu",value:function(){this.menu.style.display="none",this.$controlNode.show(),this.page.removeClass("filter")}},{key:"getDirContent",value:function(){function t(t,e){var n,i="";for(t;t<=e;t++)n=r.item(t-1),n&&n.chapterTitle&&(i+='<section><a class="xut-book-menu-item" data-mark='+o+"-"+t+' href="javascript:0">'+n.chapterTitle+"</a></section>");return i}var e=Xut.Presentation,n=e.GetAppSectionData(),i=n[0],o=i._id,r=Xut.data.Chapter;if(n=p(i.parameter),!n)return void console.log("book模式parameter数据出错");var a,s,l,o,c,u,h=0,d=n.length,f='<li class="title"><center class="select">目录</center></li>';for(h;h<d;h++)a=n[h],c=a.ChapterList[0],u=a.ChapterList[1],s=o+"-"+c,a.SeasonTitle.length<=0||(l=a.SeasonTitle||"第"+(h+1)+"章",f+='<li><a class="xut-book-menu-item" data-mark="'+s+'" href="javascript:0">'+l+"</a>"+t(c,u)+"</li>");this.contentText=f}},{key:"setColor",value:function(t){this.selectedChild&&(this.selectedChild.className="xut-book-menu-item"),t=t||this.menu.querySelectorAll("li")[1].children[0],t.className="select",this.selectedChild=t}},{key:"turnToPage",value:function(t){if(!this.isScrolled){this.setColor(t),this.hideDirMenu();var e=t.dataset.mark||"";e&&(e=e.split("-"),Xut.View.LoadScenario({scenarioId:e[0],chapterId:e[1]}))}}},{key:"showBookMark",value:function(){if(this.bookMark)this.bookMark.restore();else{var t=Xut.Presentation.GetPageData();this.bookMark=new Jo({parent:this.$sceneNode,seasonId:t.seasonId,pageId:t._id})}}},{key:"goBack",value:function(){var t=this;Xut.Application.Stop({processed:function(){Xut.View.GotoSlide(1),t.setColor()}})}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;b({end:function(t){switch(x(t).className){case"icomoon icon-angle-left icon-book-bar":this.goBack();break;case"icomoon icon-th-list2":case"xut-book-dirFont":this.showDirMenu();break;case"icomoon icon-bookmark2":case"xut-book-markFont":this.showBookMark();break;case"xut-book-bar-star":break;case"xut-book-menu-item":this.turnToPage(e);break;case"xut-book-menu-mask":case"select":this.hideDirMenu()}}},this,t)}},{key:"destroy",value:function(){this.iscroll&&this.iscroll.destroy(),this.bookMark&&this.bookMark.destroy(),y(this.$sceneNode[0],{end:this}),this.iscroll=null,this.menu=null,this.page=null,this.super_destory()}}]),e}(Do),Qo=void 0,tr=function(){function t(e){var n=this,i=e.$rootNode,o=e.pageTotal;e.currentPage;Eo(this,t),this.$container=this._createDom(o),this.$currtNode=this.$container.find("div:first"),this.$allNode=this.$container.find("div:last"),this.toolBarStatus=!0,Xut.nextTick(function(){i.append(n.$container)})}return Io(t,[{key:"_createDom",value:function(t){var e=0;return Li.viewSize.overflowWidth&&(e=Math.abs(Li.viewSize.left)+"px"),$('<div class="xut-page-number" style="right:'+e+';">\n                <div>1</div>\n                <strong>/</strong>\n                <div>'+t+"</div>\n             </div>")}},{key:"_showToolBar",value:function(){this.$container.show()}},{key:"_hideToolBar",value:function(){this.$container.hide()}},{key:"toggle",value:function(t,e){if("pageNumber"===e)switch(t){case"show":this._showToolBar();break;case"hide":this._hideToolBar();break;default:this.toolBarStatus?this._hideToolBar():this._showToolBar()}}},{key:"updatePointer",value:function(t){var e=this,n=t.action,i=t.direction,o=t.parentIndex,r=t.hasSon,a=void 0!==r&&r,s=t.sonIndex,l=void 0===s?0:s,c=Xut.Presentation.GetPageData("page",o);++o;var u=G(c.seasonId,c._id),h=o+u+l;"prev"===i&&(h=a?o+u+l-2:o+z(c.seasonId,c._id)),Xut.nextTick(function(){e.$currtNode.text(h),"init"===n&&e.$container.show()})}}]),t}(),er=999999,nr={scenarioStack:[],scenarioChain:[]},ir={createIndex:function(){return--er},add:function(t,e,n){return nr.scenarioStack.push(t),nr["scenarioId->"+t]=n,nr.scenarioChain.push({scenarioId:t,chapterId:e}),n},takeOutPrevChainId:function(){nr.scenarioChain.pop();return nr.scenarioChain.length>1?nr.scenarioChain.pop():nr.scenarioChain[0]},checkToRepeat:function(t){var e,n=nr.scenarioChain.length;if(e=n>1?nr.scenarioChain[n-2]:nr.scenarioChain[n-1],e.scenarioId==t&&this.takeOutPrevChainId(),nr.scenarioStack[0]==t){var i=nr.scenarioChain.shift();nr.scenarioChain.length=0,nr.scenarioChain.push(i)}},containerObj:function(t){if("current"===t){var e=nr.scenarioStack;t=e[e.length-1]}return nr["scenarioId->"+t]},findIndexOfId:function(t){return nr.scenarioStack.lastIndexOf(t)},remove:function(t){var e=this.findIndexOfId(t);nr.scenarioStack.splice(e,1),delete nr["scenarioId->"+t]},destroyAllScene:function(){var t=_.clone(nr.scenarioStack);_.each(t,function(t){nr["scenarioId->"+t].destroy()}),nr.scenarioChain=[]},rewrite:function(t,e){_.each(nr.scenarioChain,function(n){n.scenarioId==t&&(n.chapterId=e)})},expose:function(){return nr},sequence:function(t,e){var n=nr.scenarioChain;if(n.length>1){var i=[];return _.each(n,function(n){n.scenarioId==t?i.push(n.scenarioId+"-"+n.chapterId+"-"+e):i.push(n.scenarioId+"-"+n.chapterId)}),i}},seqReverse:function(t){var t=t.split(","),e=t.length;return 1!==e&&(2===e?t[1]:(_.each(t,function(t,n){if(n>=1&&n<e-1){var t=t.split("-");nr.scenarioChain.push({scenarioId:t[0],chapterId:t[1],pageIndex:t[2]})}}),t[e-1]))}};Xut.sceneController=ir;var or=Array.prototype,rr=or.indexOf,ar=or.slice,sr=function(t,e){var n,i;if(rr&&t.indexOf===rr)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},lr=function(){function t(){Eo(this,t),this.$watch=this.bind,this.$off=this.unbind,this.$emit=this.trigger,this.$once=this.one,this._handleName={}}return Io(t,[{key:"bind",value:function(t,e){var n,i,o=this.events=this.events||{},r=t.split(/\s+/),a=r.length;for(n=0;n<a;n++)o[i=r[n]]=o[i]||[],sr(o[i],e)===-1&&o[i].push(e);var s;return(s=this._handleName[t])&&this.$emit(t,s[0]),this}},{key:"one",value:function(t,e){var n=function i(){this.unbind(t,i),e.apply(this,ar.call(arguments))};return this.bind(t,n),this}},{key:"unbind",value:function(t,e){var n,i,o,r,a,s=this.events;if(!s)return this;if(arguments.length)for(a=t.split(/\s+/),i=0,r=a.length;i<r;i++)(n=a[i])in s!=!1&&(o=e?sr(s[n],e):-1,o!==-1&&s[n].splice(o,1));else this.events=null;return this}},{key:"trigger",value:function(t){var e,n,i,o=this.events;if(e=ar.call(arguments,1),!o||t in o==!1)return this._handleName[t]=e,this;for(i=o[t],n=0;n<i.length;n++)i[n].apply(this,e);return this}}]),t}(),cr=function(){function t(){Eo(this,t)}return Io(t,[{key:"abstractCreateCollection",value:function(){this.Collections={}}},{key:"abstractAddCollection",value:function(t,e){this.Collections[t]=e}},{key:"abstractGetCollection",value:function(){return this.Collections}},{key:"abstractRemoveCollection",value:function(t){delete this.Collections[t]}},{key:"abstractDestroyCollection",value:function(){var t,e=this.Collections;for(t in e)e[t].baseDestroy();this.Collections=null}},{key:"abstractGetPageObj",value:function(t,e){return e=e||this.pageType,"master"===e&&(/-/.test(t)||(t=this._conversionMasterId(t))),this.Collections&&this.Collections[t]}},{key:"abstractAssistPocess",value:function(t,e){var n;if(n=this.abstractGetPageObj(t,this.pageType)){if(!e)return n;e(n)}}},{key:"abstractGetPageId",value:function(t,e){var n="page"===e?"_id":"pptMaster";return this.abstractGetPageData(t,n,e)}},{key:"abstractGetPageData",value:function(t,e,n){var i;if((!n&&"page"==e||"master"==e)&&(n=e,e=null),i=this.abstractGetPageObj(t,n))return e?i.chapterData[e]:i.chapterData}},{key:"abstractGetPageNode",value:function(t,e){return this.abstractGetPageData(t,"nodes",e)}},{key:"abstractAssistAppoint",value:function(t,e,n,i){var o;if(o=this.abstractGetPageObj(e))return o.baseAssistRun(t,n,i)}}]),t}(),ur=function(){function t(e,n,i,o,r,a,s){Eo(this,t),this.dragElement=e,this.defaultPoint=null,this.dropElement=n,this.autoReturn=i>=1,this.dragCallback="function"==typeof o?o:null,this.dropCallback="function"==typeof r?r:null,this.throwProps=0!=s&&!this.autoReturn,this.container=a,this.dragElement.attr("data-defaultindex",this.dragElement.css("z-index"));var l=this.dragElement.attr("data-DragDrop");null==l?(this.init(),this.dragElement.attr("data-DragDrop",!0)):console.log("This element has binding DragDropClass.")}return Io(t,[{key:"init",value:function(){if(null==this.dragObject)var t=this,e=this.dragObject=Draggable.create(this.dragElement,{bounds:this.container,dragResistance:0,edgeResistance:.8,type:"left,top",force3D:!1,throwProps:this.throwProps,snap:{left:function(t){return t},top:function(t){return t}},onDragStart:function(e){var n=t.dragElement.offset();t.defaultPoint={x:n.left,y:n.top,left:Number(t.dragElement.css("left").replace("px","")),top:Number(t.dragElement.css("top").replace("px",""))},t.dragCallback&&t.dragCallback()},onDragEnd:function(n){var i=t.dropElement,o=!1;if(i){var r=t.dragElement.offset(),a={x:r.left,y:r.top,w:t.dragElement.width(),h:t.dragElement.height()},s=i.offset(),l={x:s.left,y:s.top,w:i.width(),h:i.height()},c={pointerX:l.x+l.w/2,pointerY:l.y+l.h/2};if(e.pointerX>l.x&&e.pointerX<l.x+l.w&&e.pointerY>l.y&&e.pointerY<l.y+l.h?(o=!0,e.disable()):c.pointerX>a.x&&c.pointerX<a.x+a.w&&c.pointerY>a.y&&c.pointerY<a.y+a.h&&(o=!0,e.disable()),t.dragElement.css("z-index",t.dragElement.attr("data-defaultindex")),1==o){var u=c.pointerX-(t.defaultPoint.x+a.w/2),h=c.pointerY-(t.defaultPoint.y+a.h/2),d=t.defaultPoint.left+u,p=t.defaultPoint.top+h;TweenLite.to(t.dragElement,.3,{css:{left:d,top:p},ease:Expo.easeOut})}else t.autoReturn&&TweenLite.to(t.dragElement,.7,{css:{left:t.defaultPoint.left,top:t.defaultPoint.top}})}else t.autoReturn&&TweenLite.to(t.dragElement,.7,{css:{left:t.defaultPoint.left,top:t.defaultPoint.top}});t.dropCallback&&t.dropCallback(o)}})[0]}},{key:"reset",value:function(){var t,e=this;(t=this.dragObject)&&(t.enable(),e.defaultPoint&&(e.dragElement.css("left",e.defaultPoint.left),e.dragElement.css("top",e.defaultPoint.top)))}},{key:"disable",value:function(){var t;(t=this.dragObject)&&t.disable()}},{key:"destroy",value:function(){this.dragObject&&this.dragObject.kill(),this.dropElement=null,this.dragElement=null,this.dragObject=null}}]),t}(),hr=10===document.documentMode,dr=["null","auto","tap","drag","dragTag","swipeleft","swiperight","swipeup","swipedown","doubletap","press","pinchout","pinchin","rotate","assist"],pr=["drag","dragTag","swipeleft","swiperight","swipeup","swipedown"],fr=function(t,e){var n;(n=this._abActivitys)&&_.each(n.get(),function(n,i){if(t==n.activityId)return void e(n)},this)},vr=function(t){var e,n=this.registers;return function(){var i=n[0];fr.call(t,i,function(t){t.runAnimation(function(){e=n.shift(),n.push(e)})})}},gr=function(t,e){var n,i;_.each(e,function(o){_.each(o,function(e){return(n=t.baseGetContentObject(e.eventContentId))?(i=at(e.eventType),e.runAnimation=vr.call(e,t),e.destroy=function(){lt(e,i),e.registers=null,e.runAnimation=null},void st({eventRun:function(){e.runAnimation()},eventHandler:function(t,n){e.eventReference=t,e.eventHandler=n},eventContext:n.$contentNode,eventName:i,parameter:e.dragdropPara,target:null,domMode:!0})):void Xut.log("error","pagebase.js第"+t.pageIndex+"页多事件处理出错!!!!")}),t.listenerHooks.registerEvents=e})};ht.prototype={register:function(t){this.list?this.list.push(t):this.list=[t]},get:function(){return this.list},isExist:function(){return this.list.length},specified:function(t){for(var e,n=this.list.length;n;)if(n--,(e=this.list[n])&&e.type===t.type&&e.id===t.id)return e},remove:function(){this.list=[]},reset:function(){this.remove()}};var mr=function(t){var e=Xut.data.chapterSection,n=e["seasonId->"+t];return n},yr=function(t){for(var e,n,i=[],o=Xut.data.Chapter,r=t.length;r--;)n=t[r],(e=o.item(n))&&i.unshift(e);return i},_r=function(t,e){var n=t.pptMaster,i=Xut.data.query("Master",n);wr(i,function(t,n){e(i,t,n)})},br=function(t){if(t&&t.length){var e=void 0,n=[];return t.forEach(function(t,i){t.autoPlay&&"Content"!==t.actType&&(e={id:t._id,actType:t.actType,category:t.category,autoPlay:t.autoPlay},n.push(e))}),n.length&&n}},xr=function(t,e){t.note&&e.push(t)},wr=function(t,e){t||e();var n=[],i=t._id;Xut.data.query("Activity",i,"chapterId",function(t){n.push(t)}),xr(t,n);var o=br(n);e(n,o)},kr=function(t,e){wr(t,function(n,i){e(t,n,i)})},Tr=function(t,e){var n=t.pageIndex,i=t.pageData;i?kr(i,e):yr(n,function(t){kr(t.length?t[0]:t,e)})},Cr=Xut.style.transform,Sr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.base,n=t.prefix,i=t.translate,o=t.customStyle,r=t.pageData,a=t.background,s=e.getStyle;return String.styleFormat('<li id="'+n+'"\n            data-id="'+r._id+'"\n            data-map="'+e.pid+'"\n            data-pageType="'+e.pageType+'"\n            data-container="true"\n            class="xut-flip fix-transform"\n            style="width:'+s.viewWidth+"px;\n                   height:"+s.viewHeight+"px;\n                   left:"+s.viewLeft+"px;\n                   top:"+s.viewTop+"px;\n                   "+Cr+":"+i+";\n                   "+a+"\n                   "+o+'\n                   overflow:hidden;">\n            <div class="page-pinch"></div>\n        </li>')},Pr=function(t,e,n,i){var o="";/.svg$/i.test(e.md5)||(o="background-image:url("+Li.pathAddress+e.md5+");");var r="",a=n.userStyle;return void 0!==a&&_.each(a,function(t,e){r+=e+":"+t+";"}),$(Sr({base:t,prefix:i,translate:n.translate,customStyle:r,pageData:e,background:o}))},Er=Xut.style.maskBoxImage,Ir=function(t){var e=Li.proportion;t.path=Li.pathAddress,t.imageWidth&&(t.imageWidth=t.imageWidth*e.width),t.imageHeight&&(t.imageHeight=t.imageHeight*e.height),t.imageLeft&&(t.imageLeft=t.imageLeft*e.left),t.imageTop&&(t.imageTop=t.imageTop*e.top)},Ar=function(t){var e=void 0;switch(Number(t)){case 1:e="background-position:0";break;case 2:e="background-position:"+Li.screenSize.width+"px"}return e},Or=function(){function t(e){var n=e.data,i=e.$containsNode,o=e.suspendCallback,r=e.successCallback;Eo(this,t);var a=this,s=n.md5,l=!!/.svg$/i.test(s);return this.callback={suspendCallback:o,successCallback:r},Xut.IBooks.runMode()?void r():void this.parseMaster(l,s,function(t){t=A(t);var e=vt(t,n);e?(t=null,a.compileSuspend($(e),i)):r()})}return Io(t,[{key:"clearReference",value:function(){}},{key:"compileSuspend",value:function(t,e){var n,i,o=this;n=function(){Xut.nextTick({container:e,content:t},function(){o.clearReference(),o.callback.successCallback()})},i=function(){o.suspendQueues=[],o.suspendQueues.push(function(){n()})},o.callback.suspendCallback(n,i)}},{key:"runSuspendTasks",value:function(){if(this.suspendQueues){var t;(t=this.suspendQueues.pop())&&t(),this.suspendQueues=null}}},{key:"parseMaster",value:function(t,e,n){t?M(e,function(t){n(t)}):n("")}}]),t}(),Mr=function(t,e){var n=e.data,i=e.contentId,o=e.conData;n.canvasRelated[t].indexOf(i)==-1&&(n.canvasRelated[t].push(i),o.actionTypes[t]=!0),n.canvasRelated.cid.indexOf(i)==-1&&n.canvasRelated.cid.push(i),o.canvasMode=!0,o.zIndex&&o.zIndex>n.canvasRelated.containerIndex&&(n.canvasRelated.containerIndex=o.zIndex)},Nr={Sprite:function(t,e){e.canvasRelated.enable&&Mr("spiritId",t)},PPT:function(t,e){e.canvasRelated.enable&&t.conData.canvasMode&&Mr("pptId",t)},SeniorSprite:function(t,e){e.canvasRelated.enable&&Mr("widgetId",t)},CompSprite:function(t){var e=t.data;t.conData;return/\./i.test(t.conData.md5)?void console.log("复杂精灵动画数据错误"):(e.canvasRelated.enable||e.canvasRelated.onlyCompSprite||(e.canvasRelated.onlyCompSprite=!0),void Mr("compSpriteId",t))}},jr=function(t,e,n){var i=yt([e]),o=O(i[0]),r='<div  id="'+t+'"\n               data-behavior="click-swipe"\n               style="width:'+o.scaleWidth+"px;\n                      height:"+o.scaleHeight+"px;\n                      top:"+o.scaleTop+"px;\n                      left:"+o.scaleLeft+"px;\n                      position:absolute;\n                      z-index:"+o.zIndex+';">';return String.styleFormat(r)},Rr=Xut.style.maskBoxImage,Dr=Math.floor,Fr=function(t,e){var n="",i=t.mask?Rr+":url("+Xut.config.pathAddress+t.mask+");":"",o=e.pathImg;if(t.mask||e.isGif)n+=void 0!=Rr?String.styleFormat('<img data-type="mask-images"\n                      class="inherit-size fullscreen-background edges"\n                      src="'+o+'"\n                      style="'+i+'"/>'):String.styleFormat('<canvas class="inherit-size fullscreen-background edges"\n                         src="'+o+'"\n                         mask="'+i+'"\n                         width="'+t.scaleWidth+'"\n                         height="'+t.scaleHeight+'"\n                         style="opacity:0;'+(Xut.config.pathAddress.replace(/\//g,"/")+t.mask)+'"/>');else if("Sprite"==t.category){var r=100*t.thecount,a=100;if(t.parameter){var s=p(t.parameter);if(s&&s.matrix){var l=s.matrix.split("-");r=100*Number(l[0]),a=100*Number(l[1])}}n+=String.styleFormat('<div data-type="sprite-images"\n                  class="sprite"\n                  style="height:'+t.scaleHeight+"px;\n                         background-image:url("+e.pathImg+");\n                         background-size:"+r+"% "+a+'%;">\n            </div>')}else n+=String.styleFormat('<img data-type="ordinary-images"\n                  class="inherit-size fullscreen-background"\n                  src="'+o+'"\n                  style="'+i+'"/>');return n},Lr=function(t){return String.styleFormat('<div id = "'+t._id+'" style="background-size:100% 100%;height:auto">\n              '+t.content+"\n         </div>")},Xr=function(t,e){return A(e.htmlstr)},Br=function(t,e){var n="",i=e.svgstr,o=t.scaleWidth;if(void 0!=i){i=A(i);var r=i.search('viewBox="'),a=i.substring(r,r+64).replace('viewBox="',"").replace("0 0 ",""),s=a.search('"'),l=a.substring(0,s),c=l.split(" "),u=c[0],h=c[1],d=Dr(o*h/u);if(d>t.scaleHeight+1){var p=Dr(o),f=e.backMode?t.scaleLeft-t.scaleBackLeft:0,v=e.backMode?t.scaleTop-t.scaleBackTop:0;n=t.isScroll?String.styleFormat('<div data-type="svg"\n                          style="width:'+p+"px;\n                                 height:"+d+"px;\n                                 margin-left:"+f+"px;\n                                 margin-top:"+v+'px;">\n                        '+i+"\n                     </div>"):String.styleFormat('<div data-type="svg"\n                          class="inherit-size"\n                          style="margin-left:'+f+"px;\n                                 margin-top:"+v+'px;">\n                        '+i+"\n                    </div>")}else n+=i}return n},Hr=function(t,e){var n="";return n+=e.imgContent?e.isSvg?Br(t,e):e.isJs?Xr(t,e):Fr(t,e):Lr(t,e)},$r=function(t,e){var n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=t.zIndex,l=(t._id,e.containerName),c=(e.pid,e.makeId,t.background?"background-image: url("+Xut.config.pathAddress+t.background+");":"");t.scaleBackWidth&&t.scaleBackHeight?(i=t.scaleBackWidth,o=t.scaleBackHeight,r=t.scaleBackLeft,a=t.scaleBackTop,e.backMode=!0):(i=t.scaleWidth,o=t.scaleHeight,r=t.scaleLeft,a=t.scaleTop);var u="visible";return t.visible&&(u="hidden"),e.isJs?(n='<div id="'+l+'"\n                       data-behavior="click-swipe"\n                       class="fullscreen-background "\n                       style="width:'+i+"px;\n                              height:"+o+"px;\n                              top:"+a+"px;\n                              left:"+r+"px;\n                              position:absolute;\n                              z-index:"+s+";\n                              visibility:"+u+';\n                              {10}">\n                 <div data-type="scroller"\n                      style="width:'+i+'px;\n                             position:absolute;">',
String.styleFormat(n)):(n='<div id="'+l+'"\n                   data-behavior="click-swipe"\n                   style="width:'+i+"px;\n                          height:"+o+"px;\n                          top:"+a+"px;\n                          left:"+r+"px;\n                          position:absolute;\n                          z-index:"+s+";\n                          visibility:"+u+'">\n              <div data-type="scroller"\n                   class="fullscreen-background "\n                   style="width:'+i+"px;\n                          height:"+o+"px;\n                          position:absolute;\n                          "+c+'">',String.styleFormat(n))},zr=function(t,e,n,i,o){var r="_"+i+"_"+t;return{pageType:n,contentId:t,isJs:/.js$/i.test(e.md5),isSvg:/.svg$/i.test(e.md5),data:e,pid:i,virtualOffset:o,containerName:"Content"+r,makeId:function(t){return t+r}}},Gr=function(t,e){var n,i,o,r,a,s,l;if(i=e.md5,o=/.gif$/i.test(i),r=Li.pathAddress+i,n=o?Xut.createRandomImg(r):r,"AutoCompSprite"===e.category)try{a=Li.pathAddress+i+"/app.json",s=E(a);var c=s.spiritList[0],u=c.params.actList;l=c.params[u].ImageList[0].name,n+="/"+l,e.resource=s,e.containerName=t.containerName}catch(h){console.log("AutoCompSprite获取数据失败")}t.imgContent=i,t.isGif=o,t.pathImg=n},Wr=function(t,e){t.isSvg?M(t.data.md5,function(n){t.svgstr=n,e(t)}):t.isJs?M(t.data.md5,function(n){t.htmlstr=n,e(t)},"js"):e(t)},Yr=document.documentElement,Ur=void 0;try{Ur=parseInt(getComputedStyle(Yr).fontSize)}catch(Vr){Ur=16}var qr,Kr=void 0,Jr={"rgb(255, 255, 255)":!0,"#ffffff":!0,"#FFFFFF":!0,"#fff":!0,"#FFF":!0},Zr=["1","1.5","2.0"],Qr=function(){return Kr=Ur*Li.proportion.width,[Math.floor(1.5*Kr),Math.floor(2*Kr),Math.floor(2.5*Kr)]},ta=function(){function t(e,n){Eo(this,t),this.contentId=e,this.$contentNode=n;var i=this,o=function(t,e){i.eventReference=t,i.eventHandler=e};st({eventRun:function(){Xut.View.HideToolBar("pageNumber"),i._init(e,n)},eventHandler:o,eventContext:n,eventName:"tap",domMode:!0})}return Io(t,[{key:"_init",value:function(t,e){var n=this;n._adjustColor();var i=e.find(">").html();i=i.replace(/translate\(0px, -\d+px\)/g,"translate(0px,0px)");var o="htmlbox-iscroll-"+t;this.storageName=o+Li.appId;var r=Qr(),a=r[2]+2,s=Math.floor(a/2),l=Co(this.storageName);l?this._adjustSize(l):this._adjustSize(Kr),this.$htmlbox=$(Tt(a,kt(r),o,i)),e.after(this.$htmlbox),document.styleSheets[0].addRule(".htmlbox_close::before","top:"+s+"px"),document.styleSheets[0].insertRule(".htmlbox_close::before { top:"+s+"px }",0),document.styleSheets[0].addRule(".htmlbox_close::after","top:"+s+"px"),document.styleSheets[0].insertRule(".htmlbox_close::after { top:"+s+"px }",0),this._relocateToolbar(o),this._createIscroll(this.$htmlbox,o),this.eventContext=this.$htmlbox.find(".htmlbox-toolbar")[0];var c=function(t){n._adjustSize(t*Kr,!0),n.iscroll&&n.iscroll.refresh()},u=function(){n._restoreColor(),n._adjustSize(Ur),n.removeBox(),Xut.View.ShowToolBar("pageNumber")},h={htmlbox_close_container:u,htmlbox_close:u,htmlbox_small:function(){c(Zr[0])},htmlbox_middle:function(){c(Zr[1])},htmlbox_big:function(){c(Zr[2])}};this.start=function(t){var e=t.target.className;h[e]&&h[e]()},m(this.eventContext,{start:this.start})}},{key:"_adjustColor",value:function(){this.textLabelArray=["p","span"];var t=this;_.each(t.textLabelArray,function(e){_.each(t.$contentNode.find(e),function(t){var e=getComputedStyle(t).color;Jr.hasOwnProperty(e)&&(t.hasFormerColor=!0,t.style.color="black")})})}},{key:"_adjustSize",value:function(t,e){t=parseInt(t),Yr.style.fontSize=t+"px",e&&To(this.storageName,t)}},{key:"_restoreColor",value:function(){var t=this;_.each(t.textLabelArray,function(e){_.each(t.$contentNode.find(e),function(t){t.hasFormerColor&&(t.style.color="white",t.hasFormerColor=!1)})})}},{key:"_relocateToolbar",value:function(t){var e=Li.viewSize,n=e.overflowWidth&&Math.abs(e.left)||0,i=e.overflowHeight&&Math.abs(e.top)||0;this.$htmlbox[0].style.cssText+="margin-top:"+i+"px",document.styleSheets[0].addRule(".htmlbox_close::before","left:2%"),document.styleSheets[0].insertRule(".htmlbox_close::before { left:2% }",0),document.styleSheets[0].addRule(".htmlbox_close::after","left:2%"),document.styleSheets[0].insertRule(".htmlbox_close::after { left:2% }",0);var o=window.getComputedStyle(this.$htmlbox.find(".htmlbox_close")[0],"::before").getPropertyValue("left"),r=parseInt(o)+n;document.styleSheets[0].addRule(".htmlbox_close::before","left:"+r+"px"),document.styleSheets[0].insertRule(".htmlbox_close::before { left:"+r+"px }",0),document.styleSheets[0].addRule(".htmlbox_close::after","left:"+r+"px"),document.styleSheets[0].insertRule(".htmlbox_close::after { left:"+r+"px }",0),this.$htmlbox.find(".htmlbox_fontsizeUl")[0].style.cssText+="margin-right:"+n+"px",this.$htmlbox.find("."+t)[0].style.cssText+="margin-left:"+n+"px;";var a=window.getComputedStyle(this.$htmlbox.find("."+t)[0]).getPropertyValue("width"),s=parseInt(a)-2*n;this.$htmlbox.find("."+t).width(s)}},{key:"_createIscroll",value:function(t,e){var n=t.find("."+e+" >ul").css("height"),i=t.find("."+e).css("height");parseInt(n)>parseInt(i)&&(this.iscroll=new iScroll("."+e,{scrollbars:!0,fadeScrollbars:!0}))}},{key:"removeBox",value:function(){y(this.eventContext,{start:this.start}),this.$htmlbox&&this.$htmlbox.remove(),this.iscroll&&(this.iscroll.destroy(),this.iscroll=null)}},{key:"destroy",value:function(){_.each(this.eventReference,function(t){t("tap")}),this.removeBox()}}]),t}(),ea={hide:"images/icons/arrowDown.svg"},na=parseInt($("body").css("font-size"))||16;St.prototype.init=function(){var t=this.createBookMark(),e=this.parent[0],n=this;this.parent.append(t),this.bookMarkMenu=t.eq(0),setTimeout(function(){n.restore()},20),qr=this.getHistory(),m(e,{end:this})},St.prototype.createBookMark=function(){var t=Xut.config.viewSize.height,e=3*na,n='<div class="xut-bookmark-menu" style="width:100%;height:{0}px;left:0;top:{1}px;"><div class="xut-bookmark-wrap"><div class="xut-bookmark-add">加入书签</div><div class="xut-bookmark-off" style="background-image:url({2})"></div><div class="xut-bookmark-view">书签记录</div></div></div><div class="xut-bookmark-list" style="display:none;width:100%;height:{3}px;"><ul class="xut-bookmark-head"><li class="xut-bookmark-back">返回</li><li>书签</li></ul><ul class="xut-bookmark-body"></ul></div>';return n=String.format(n,e,t,ea.hide,t),this.markHeight=e,$(n)},St.prototype.createMarkList=function(){var t,e,n,i="",o=this;return _.each(qr,function(r){t=r.split("-"),e=t[0],n=t[1],r=o.getMarkId(e,n),i+='<li><a data-mark="'+r+'" class="xut-bookmark-id" href="javascript:0">第'+n+'页</a><a class="xut-bookmark-del" data-mark="'+r+'" href="javascript:0">X</a></li>'}),i},St.prototype.getMarkId=function(t,e){return t+"-"+e},St.prototype.getHistory=function(){var t=Co("bookMark");return t?t.split(","):[]},St.prototype.addBookMark=function(){var t;this.updatePageInfo(),t=this.getMarkId(this.seasonId,this.pageId),qr.indexOf(t)>-1||(qr.push(t),To("bookMark",qr))},St.prototype.updatePageInfo=function(){var t=Xut.Presentation.GetPageData();this.pageId=t._id,this.seasonId=t.seasonId},St.prototype.delBookMark=function(t){if(t&&t.dataset){var e=t.dataset.mark,n=qr.indexOf(e);qr.splice(n,1),To("bookMark",qr),0==qr.length&&C("bookMark"),$(t).parent().remove()}},St.prototype.viewBookMark=function(t){var e,n=this.createMarkList();e=this.bookMarkList?this.bookMarkList:$(t).parent().parent().next(),e.find(".xut-bookmark-body").html(n),this.bookMarkList=e,e.fadeIn()},St.prototype.iconManager=function(t){var e=this.bookMarkIcon=$(t),n=this.iconRestore;console.log(Xut.style),e.css({transform:"scale(1.2)","transition-duration":"500ms"})[0].addEventListener(Xut.style.transitionEnd,n.bind(this),!1)},St.prototype.iconRestore=function(){this.bookMarkIcon.css("transform","")},St.prototype.goBookMark=function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),n=Number(e[0]),i=Number(e[1]);this.updatePageInfo(),this.backBookMark(),this.pageId==i&&this.seasonId==n||Xut.View.LoadScenario({scenarioId:n,chapterId:i})}},St.prototype.backBookMark=function(){this.bookMarkList.fadeOut()},St.prototype.handleEvent=function(t){var e=t.target;switch(e.className){case"xut-bookmark-add":this.addBookMark(),this.iconManager(e);break;case"xut-bookmark-view":this.viewBookMark(e),this.iconManager(e);break;case"xut-bookmark-off":this.closeBookMark(e);break;case"xut-bookmark-back":this.backBookMark();break;case"xut-bookmark-del":this.delBookMark(e);break;case"xut-bookmark-id":this.goBookMark(e)}},St.prototype.closeBookMark=function(){this.bookMarkMenu.css({transform:"translate3d(0,0,0)","transition-duration":"1s"})},St.prototype.restore=function(){this.bookMarkMenu.css({transform:"translate3d(0,-"+this.markHeight+"px,0)","transition-duration":"1s"})},St.prototype.destroy=function(){var t=this.parent[0];t.removeEventListener("touchend",this,!1),t.removeEventListener("mouseup",this,!1),this.bookMarkMenu&&(this.bookMarkMenu.remove(),this.bookMarkMenu=null),this.bookMarkList&&(this.bookMarkList.remove(),this.bookMarkList=null),this.bookMarkIcon&&(this.bookMarkIcon[0].removeEventListener(Xut.plat.transitionEnd,this.iconRestore,!1),this.bookMarkIcon=null),this.parent=null};var ia={search:"images/icons/search.svg",clear:"images/icons/clear.svg",exit:"images/icons/exit.svg"};Et.prototype.init=function(){var t=this.searchForm(),e=this.parent[0];this.parent.append(t),this.searchBox=t,this.resultBox=t.find(".xut-search-result"),this.input=t.find(".xut-search-input"),this.searchBtn=t.find(".xut-search-btn"),m(e,{end:this}),e.addEventListener("keyup",this,!1)},Et.prototype.searchForm=function(){var t=.3*window.innerWidth,e=window.innerHeight,n=this.tips||"请在搜索框中输入要搜索的关键字",i='<div class="xut-form-search"><div class="xut-form-search-wrap"><div style="height:17%;"><div style="height:20%"></div><div class="xut-search-row"><input type="text" class="xut-search-input"><div class="xut-search-btn" style="background-image: url('+ia.search+')"></div></div><p class="xut-search-tips" style="line-height:'+Math.round(.06*e)+'px">'+n+'</p></div><div style="height:76%"><ul class="xut-search-result"></ul></div><div style="height:7%"><div class="xut-search-exit" style="background-image: url('+ia.exit+')"></div></div></div></div>',o=$(i);return o.css("width",t<200?200:t),o},Et.prototype.search=function(t){var e,n,i,o=Xut.data.Chapter,r=o.length,a="";if(!t)return void this.resultBox.html("");for(var s=0;s<r;s++)e=o.item(s),e.chapterTitle.indexOf(t)>-1&&(n=e._id,i=e.seasonId,a+='<li><a class="xut-search-link" data-mark="'+i+"-"+n+'" href="javascript:0">'+e.chapterTitle+"</a></li>");this.resultBox.html(a)},Et.prototype.iconManager=function(t){this.isChange&&this.searchBtn.css("background-image","url("+t+")")},Et.prototype.searchLink=function(t){if(t&&t.dataset){var e=t.dataset.mark.split("-"),n=e[0],i=e[1];Xut.View.LoadScenario({scenarioId:n,chapterId:i})}},Et.prototype.handleEvent=function(t){var e=t.target;switch(e.className){case"xut-search-btn":this.search(this.input.val()),this.isChange=!0,this.iconManager(ia.clear);break;case"xut-search-input":this.search(e.value),this.iconManager(ia.search),this.isChange=!1;break;case"xut-search-exit":this.exit();break;case"xut-search-link":this.searchLink(e)}},Et.prototype.exit=function(){this.input.val(""),this.resultBox.empty(),this.searchBox.hide()},Et.prototype.restore=function(){var t=this.searchBox;t&&t.show()},Et.prototype.destroy=function(){var t=this.parent[0];t.removeEventListener("keyup",this,!1),t.removeEventListener("touchend",this,!1),t.removeEventListener("mouseup",this,!1),this.searchBox.remove(),this.searchBox=null,this.resultBox=null,this.searchBtn=null,this.input=null,this.parent=null};var oa=50,ra=function(t,e){var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return n.getPropertyValue(e)},aa=function(){function t(e,n,i){Eo(this,t);var o=void 0,r=void 0,a={};this.getAudioTime=i,this.options=e,this.parents=n.parents,this.ancestors=n.ancestors,this.timer=0,this.cacheCreateDivs={},r=this.orgAncestorVisibility={},_.each(this.ancestors,function(t,e){o=ra(t,"visibility"),o&&(r[e]=o)}),this.recordRepart={},this.changeValue=0,_.each(e.subtitles,function(t){a[t.start+"-start"]=t,a[t.end+"-end"]=t}),this.createSubtitle(a)}return Io(t,[{key:"createSubtitle",value:function(t){var e=this,n=this.getAudioTime,i=(this.options,function(n){var i=void 0;_.each(t,function(t,o){i=o.split("-"),e.action(i[0],n,i[1],t)}),e.createSubtitle(t)}),o=function(){n(function(t){i(t)})};this.timer=setTimeout(function(){o()},oa)}},{key:"action",value:function(t,e,n,i){if(e>t-oa&&e<t+oa)if(this.recordRepart[i.start]||"start"!==n){if(!this.recordRepart[i.end]&&"end"===n){this.recordRepart[i.end]=!0;var o=this.ancestors[i.id];o&&(o.style.visibility="hidden")}}else this.recordRepart[i.start]=!0,this.createDom(i)}},{key:"createDom",value:function(t){function e(t,e,o){n(t,o),i(e,o)}function n(t,e){var n="position       :absolute; display        :table;vertical-align :center;top            :{0}px;left           :{1}px;height         :{2}px;width          :{3}px;";t.style.cssText=String.format(n,d,p,f,v)}function i(t,e){var n=" text-align     :center; display        :table-cell; vertical-align :middle; color          :{0}; font-family    :{1}; font-bold      :{2}; font-size      :{3}px; line-height    :{4}%";t.style.cssText=String.format(n,e.fontColor,e.fontName,e.fontBold,e.fontSize*a,g),t.innerHTML=e.title}var o=Xut.config,r=o.proportion,a=r.width,s=(r.height,t.id),l=this.parents[s],c=this.ancestors[s],u=this.cacheCreateDivs[s],h=u&&u.children[0],d=t.top*r.top,p=t.left*r.left,f=t.height*r.height,v=t.width*r.width,g=t.lineHeight?t.lineHeight:"100%";if(u)e(u,h,t);else{var m=document.createElement("div"),y=document.createElement("p");e(m,y,t),m.appendChild(y),l.appendChild(m),this.cacheCreateDivs[s]=m}if(c){var _=ra(c,"visibility");"visible"!=_&&(c.style.visibility="visible")}}},{key:"destroy",value:function(){var t=this;_.each(this.cacheCreateDivs,function(t){t.parentNode.removeChild(t)}),_.each(this.ancestors,function(e,n){var i=t.orgAncestorVisibility[n],o=ra(e,"visibility");o!=i&&(e.style.visibility=i)}),this.ancestors=null,this.cacheCreateDivs=null,this.changeValue=0,this.parents=null,this.timer&&(clearTimeout(this.timer),this.timer=0)}}]),t}(),sa=function(){function t(){Eo(this,t)}return Io(t,[{key:"preRelated",value:function(t,e){this.innerCallback=e.innerCallback,this.outerCallback=9999==t?e.complete:null}},{key:"afterRelated",value:function(t,e){var n=this;t.data&&t.data.repeat&&(this.repeat=Number(t.data.repeat)),t.action&&(this.acitonObj=At(t)),t.subtitles&&t.subtitles.length>0&&(this.subtitleObject=new aa(t,e,function(t){return n.getAudioTime(t)})),this.outerCallback&&this.outerCallback.call(this)}},{key:"callbackProcess",value:function(t){this.outerCallback?this.end():!Xut.plat.isAndroid&&this.repeat?this.repeatProcess():this.innerCallback(this)}},{key:"repeatProcess",value:function(){--this.repeat,this.play()}},{key:"play",value:function(){this.audio&&!this.isFlash&&(this.status="playing",this.audio.play()),this.acitonObj&&this.acitonObj.play()}},{key:"pause",value:function(){this.status="paused",this.audio.pause(),this.acitonObj&&this.acitonObj.pause()}},{key:"end",value:function(){this.status="ended",this.audio.end(),this.audio=null,this.acitonObj&&this.acitonObj.destroy()}},{key:"destroyRelated",value:function(){this.subtitleObject&&(this.subtitleObject.destroy(),this.subtitleObject=null),this.acitonObj&&(this.acitonObj.destroy(),this.acitonObj=null)}}]),t}(),la=0,ca=5,ua=[],ha=h(),da=void 0,pa=Xut.plat,fa=function(t){for(var e="",n=void 0,i=0;i<t;i++)n=parseInt(256*Math.random(),10).toString(16),1==n.length&&(n="0"+n),e+=n;return e},va=function(){return[4,2,2,2,6].map(fa).join("-")},ga=function(t){function e(t,n){Eo(this,e);var i,o=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=Li.audioPath()+t.url,a=t.trackId,s=o;return o.preRelated(a,t),i=new window.GLOBALCONTEXT.Media(r,function(){s.callbackProcess(!0)},function(){s.callbackProcess(!0)}),o.audio=i,o.trackId=a,o.options=t,o.afterRelated(t,n),o.play(),o}return Ao(e,t),Io(e,[{key:"getAudioTime",value:function(t){var e=this;this.audio.getCurrentPosition(function(n){var i=void 0;n=1e3*n,e.changeValue||(e.changeValue=n),n-=e.changeValue,n>-1&&(i=Math.round(n)),t(i)},function(e){console.log("error:"+e),t()})}},{key:"end",value:function(){this.audio&&(this.audio.release(),this.audio=null),this.status="ended",this.destroyRelated()}}]),e}(sa),ma=(function(t){function e(t,n){Eo(this,e);var i,o=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=t.trackId,a=Li.audioPath()+t.url,s=o;return o.preRelated(r,t),i=new Audio5js({swf_path:"./lib/data/audio5js.swf",throw_errors:!0,format_time:!0,ready:function(t){this.load(a),this.play(),s.status="playing"}}),o.audio=i,o.trackId=r,o.status="playing",o.options=t,o.isFlash=!0,o.afterRelated(t,n),o}return Ao(e,t),Io(e,[{key:"getAudioTime",value:function(t){t(Math.round(1e3*this.audio.audio.audio.currentTime))}},{key:"end",value:function(){this.audio&&(this.audio.destroy(),this.audio=null),this.status="ended",this.destroyRelated()}}]),e}(sa),function(t){function e(t,n){Eo(this,e);var i,o=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=t.trackId,a=Li.audioPath()+t.url,s=o;return o.preRelated(r,t),i=new Audio5js({ready:function(t){this.load(a),this.play(),s.status="playing"}}),o.audio=i,o.trackId=r,o.status="playing",o.options=t,o.afterRelated(t,n),o}return Ao(e,t),Io(e,[{key:"getAudioTime",value:function(t){t(Math.round(1e3*this.audio.audio.audio.currentTime))}},{key:"end",value:function(){this.audio&&(this.audio.destroy(),this.audio=null),this.status="ended",this.destroyRelated()}}]),e}(sa),function(t){function e(t,n){Eo(this,e);var i=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=t.trackId,r=Li.audioPath()+t.url,a=void 0,s=i,l=Nt();return i.preRelated(o,t),ha[o]?(a=l?jt():ha[o],a.src=r):l?(a=jt(),a.src=r):(a=new Audio(r),ha[o]=a),i._callback=function(){s.callbackProcess()},i._throughCallback=function(){s.play()},a.autoplay=!0,a.addEventListener("canplaythrough",i._throughCallback,!1),a.addEventListener("ended",i._callback,!1),a.addEventListener("error",i._callback,!1),i.audio=a,i.trackId=o,i.status="playing",i.options=t,i.afterRelated(t,n),i}return Ao(e,t),Io(e,[{key:"getAudioTime",value:function(t){t(Math.round(1e3*this.audio.currentTime))}},{key:"end",value:function(){this.audio&&(this.audio.pause(),this.audio.removeEventListener("canplaythrough",this._throughCallback,!1),this.audio.removeEventListener("ended",this._callback,!1),this.audio.removeEventListener("error",this._callback,!1),this.audio=null),this.status="ended",this.destroyRelated()}}]),e}(sa)),ya=function(t){function e(t,n){Eo(this,e);var i,o=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=Li.audioPath()+t.url,a=t.trackId,s=o;o.id=va(),o.preRelated(a,t);var i={startPlayingAudio:function(){window.audioHandler.startPlayingAudio(s.id,r)},pausePlayingAudio:function(){window.audioHandler.pausePlayingAudio(s.id)},release:function(){window.audioHandler.release(s.id)},expansionCurrentPosition:function(){return window.getCurrentPosition(s.id)}};return o.audio=i,o.trackId=a,o.options=t,o.afterRelated(t,n),o.play(),o}return Ao(e,t),Io(e,[{key:"getAudioTime",value:function(t){t(Math.round(1e3*this.audio.expansionCurrentPosition()))}},{key:"play",value:function(){this.audio&&(this.status="playing",this.audio.startPlayingAudio()),this.acitonObj&&this.acitonObj.play()}},{key:"pause",value:function(){this.status="paused",this.audio&&this.audio.pausePlayingAudio(),this.acitonObj&&this.acitonObj.pause()}},{key:"end",value:function(){this.audio&&(this.audio.release(),this.audio=null),this.status="ended",this.destroyRelated()}}]),e}(sa);da=pa.isAndroid&&!pa.isBrowser?ga:window.MMXCONFIG&&window.audioHandler?ya:ma;var _a=function(){function t(e,n){Eo(this,t),this.data=e,this.animationType=!0,"seniorSprite"==n.type?(this.contentPrefix=n.contentPrefix,this.obj=$("#"+this.contentPrefix+this.data.framId),this.resourcePath=n.resourcePath):(this.animationType=!1,this.contentId=n.contentId,this.obj=$(n.ele),this.resourcePath=Li.pathAddress+n.resourcePath+"/"),this.isMask=!1,this.curFPS=0,this.loop=1,this.resetCount=0;var i=this.data.params,o=this.action=i.actList.split(",")[0],r=i[o];this.FPS=parseInt(r.fps),this.playerType=r.playerType,this.isSports=parseInt(r.isSports),this.originalImageList=r.ImageList,this.totalFPS=this.originalImageList.length,this._imgArray=[],this.sprObj=null,"loop"==this.playerType&&(this.loop=0),this._init()}return Io(t,[{key:"_init",value:function(){this._initImage(),this.isSports&&this._initPosition(),this._initStructure()}},{key:"_checkNextAction",value:function(t){this._initImageState?t():(this._waitTask=[],this._waitTask.push(t))}},{key:"_initImage",value:function(){var t=this,e=0,n=10,i=this.qualified=this.totalFPS>=n?n:this.totalFPS,o=function(){return function(){1==i?(t._initImageState=!0,t._waitTask&&t._waitTask.length&&t._waitTask.pop()()):i--}}();for(e;e<this.qualified;e++)this._preloadImage(e,o)}},{key:"_initPosition",value:function(){var t=this.obj,e=this.data.params,n=this.action;this.startPoint={x:this.originalImageList[0].X,y:this.originalImageList[0].Y,w:parseInt(e[n].width),h:parseInt(e[n].height)},this.xRote=parseInt(t.css("width"))/this.startPoint.w,this.yRote=parseInt(t.css("height"))/this.startPoint.h,this.startLeft=parseInt(t.css("left")),this.startTop=parseInt(t.css("top"))}},{key:"_initStructure",value:function(){var t=this.obj,e=this.resourcePath,n="";if(this.isMask){var i=this._getFilename(this.originalImageList[0].name),o=e+i;n='<div style="width:100%;height:100%;\n                             background: url('+o+".jpg) no-repeat;\n                             background-size: 100% 100%;\n                             -webkit-mask: url("+o+".png) no-repeat;\n                             -webkit-mask-size: 100% 100%;'>\n                </div>",this.sprObj=$(String.styleFormat(n)),t.append(this.sprObj)}else{var r=e+this.originalImageList[0].name;n='<img src="'+r+'" style="width:100%;height:100%;"/>',this.sprObj=$(String.styleFormat(n)),t.html(this.sprObj)}}},{key:"_getFilename",value:function(t){return t.substr(0,t.indexOf("."))}},{key:"_preloadImage",value:function(t,e){if(!(t>=this.totalFPS)){var n=this,i=function(){n._imgArray&&n._imgArray.push(this),e&&e()},o=this.originalImageList,r=this.resourcePath;if(this.isMask){var a=this._getFilename(o[t].name);mo(r+a+".png",i),mo(r+a+".jpg",i)}else mo(r+o[t].name,i)}}},{key:"_changeImageUrl",value:function(){var t=this.originalImageList,e=t[this.curFPS],n=this.resourcePath;if(0===this.resetCount&&this._preloadImage(this.curFPS+this.qualified),this.isMask){var i=this._getFilename(e.name);this.sprObj.css("background-image","url("+n+i+".jpg)"),this.sprObj.css("-webkit-mask-image","url("+n+i+".png)")}else{var o=n+e.name;this.sprObj.attr("src",o)}}},{key:"_changePosition",value:function(){var t=this.originalImageList,e=t[this.curFPS],n=e.X-this.startPoint.x,i=e.Y-this.startPoint.y;this.obj.css({left:this.startLeft+n*this.xRote,top:this.startTop+i*this.yRote})}},{key:"_change",value:function(){this._changeImageUrl(),this.isSports&&this._changePosition()}},{key:"_time",value:function(){var t=this;this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t._change(),t.curFPS++,t._set()},1e3/this.FPS)}},{key:"_set",value:function(){var t=this;return this.curFPS>=this.totalFPS-1&&(this.curFPS=0,this.resetCount++),this.loop&&this.loop==this.resetCount?void this._stop():void this._checkNextAction(function(){t._time()})}},{key:"_stop",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.curFPS=0,this.resetCount=0}},{key:"play",value:function(t,e){return this.action=t,this.data.params[t]?(this.loop=e,this._stop(),void this._set()):void console.log(" Function changeSwitchAni  parameters "+t+" error")}},{key:"stop",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop(),this.obj=null,this.sprObj=null,this.data.params=null,this.data=null,this._imgArray.forEach(function(t){t=null}),this.originalImageList=null,this._imgArray=null}}]),t}(),ba={},xa=function(t,e){var n=void 0,i=Li.jsWidgetPath()+"gallery/"+t.id+"/",o=new XMLHttpRequest;o.open("GET",i+"app.json",!1),o.send(null);try{n=p(o.responseText)}catch(r){console.log("app.json get error:"+r)}return n},wa=function(t,e,n){var i=$("#"+t+e),o=$("#"+t+n),r=$("#spirit_parent_"+n);0==r.length&&o.append("<div style='position:absolute; width:100%; height:100%'  id='spirit_parent_"+n+"'></div>"),r.append(i)},ka=function(t,e){var n="";return n=_.isObject(t)?e+t.framId:t},Ta=(function(){var t=document.createElement("video"),e='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';return!!t.canPlayType&&"probably"==t.canPlayType(e)}(),function(){var t=!1;if(navigator.plugins)for(var e=0;e<navigator.plugins.length;e++)navigator.plugins[e].name.toLowerCase().indexOf("shockwave flash")!=-1&&(t=!0);return t}(),window.devicePixelRatio),Ca=window.screen,Sa=null,Pa=function(t){function e(){r&&r.show()}function n(){r&&r.hide()}function i(){r&&(r.remove(),r=null)}var o=t.pageUrl;if(2==t.hyperlink)window.open(o),$.get("http://www.appcarrier.cn/index.php/adplugin/recordads?aid=16&esbId=ios");else{var r,a,s,l=t.padding||0,c=t.width,u=t.height,h=t.videoId,d=t.left,p=t.top;l?(a=c-2*l,s=u-2*l):(a=c,s=u),r=$('<div id="videoWrap_'+h+'" style="position:absolute;left:'+d+"px;top:"+p+"px;width:"+c+"px;height:"+u+"px;z-index:"+Xut.zIndexlevel()+'"><div style="position:absolute;left:'+l+"px;top:"+l+"px;width:"+a+"px;height:"+s+'px;"><iframe src="'+o+'" style="position:absolute;left:0;top:0;width:100%;height:100%;"></iframe></div></div>'),t.container.append(r)}return e(),{play:e,stop:n,close:i}},Ea=function(t){var e=void 0,n=void 0,i=void 0,o=void 0,r=void 0;r=window.MMXCONFIG||window.DUKUCONFIG?t.url:t.url.substring(0,t.url.lastIndexOf(".")),window.DUKUCONFIG?(e=Ca.width,n=Ca.height,o=0,i=0):(e=t.width*Ta,n=t.height*Ta,i=t.left*Ta||0,o=t.top*Ta||0);var a=function(){Xut.Plugin.VideoPlayer.play(function(){},function(){},Xut.config.videoPath()+r,1,i,o,n,e)},s=function(){Xut.Plugin.VideoPlayer.close()};return a(),{play:a,stop:s,close:s}},Ia=function(t){var e=t.container||$("body"),n=Xut.config.videoPath()+t.url,i=t.width,o=t.height,r=t.top,a=t.left,s=t.zIndex,l=$("<div></div>"),c=$(document.createElement("video")),u=c[0];c.css({width:i,height:o}).attr({src:n,controls:"controls",autoplay:"autoplay"}),l.append(c).css({position:"absolute","z-index":-1,top:r,left:a,width:0,height:0});var h=function(){l.show(),u.play()};(Xut.plat.isIOS||Xut.plat.isAndroid)&&h();var d=function(){u.pause(),window.MMXCONFIG||(u.duration&&(u.currentTime=.01),l.hide(),t.startBoot&&(t.startBoot(),v()))},p=function(){t.startBoot&&(t.startBoot(),v())},f=function(){l.css({width:i+"px",height:o+"px",zIndex:s}),h()},v=function(){u.removeEventListener("ended",d,!1),u.removeEventListener("error",p,!1),u.removeEventListener("loadeddata",f,!1),u.removeEventListener("webkitendfullscreen",d,!1),l.hide().remove()};return e.append(l),u.addEventListener("ended",d,!1),u.addEventListener("error",p,!1),u.addEventListener("loadeddata",f,!1),u.addEventListener("webkitendfullscreen",d,!1),{play:h,stop:d,close:v}},Aa=function(t){var e,n,i,o=t.container||$("body"),r=t.videoId,a=Xut.config.videoPath()+t.url,s=t.width,l=t.height,c=t.zIndex,u=t.top,h=t.left;e=document.createElement("video"),n=document.createElement("source"),n.setAttribute("src",a),n.setAttribute("type","video/mp4"),e.id="video_"+r,e.className="video-js vjs-sublime-skin",e.appendChild(n),o.append(e),videojs.options.flash.swf="lib/data/video-js.swf";var d=function(){Bt(t.pageId)};i=videojs(e,{techOrder:["html5","flash"],preload:"auto",controls:!0,autoplay:!0,width:s,height:l,children:{bigPlayButton:!1,errorDisplay:!1,posterImage:!1,textTrackDisplay:!1,volumeMenuButton:!1},controlBar:{captionsButton:!1,chaptersButton:!1,liveDisplay:!1,remainingTimeDisplay:!0,subtitlesButton:!1,playbackRateMenuButton:!1,timeDivider:!1,currentTimeDisplay:!1,durationDisplay:!1}},function(){this.on("canplay",function(){p.style.zIndex=c}),this.on("ended",function(){d()}),this.on("error",function(){d()}),this.on("touchend mouseup",function(t){var e=t.target.className.toLowerCase();-1!=e.indexOf("vjs-fullscreen-control")&&d()})});var p=i.el();p.children[0];return p.style.left=h+"px",p.style.top=u+"px",p.style.zIndex=-1,{play:function(){console.log(111)},stop:function(){i.pause()},close:function(){i.dispose(),i=null}}};Xut.plat.isBrowser?Sa=Ia:Xut.plat.isIOS||top.EduStoreClient?Sa=Xut.IBooks.Enabled?Aa:Ia:Xut.plat.isAndroid&&(Sa=window.MMXCONFIG?Ia:Ea);var Oa=function(){function t(e,n){Eo(this,t),e.container=n,"video"==e.category?this.video=Sa(e):"webpage"==e.category?this.video=Pa(e):console.log("options.category must be video or webPage "),Xut.View.Toolbar("hide")}return Io(t,[{key:"play",value:function(){Xut.View.Toolbar("hide"),this.video.play()}},{key:"stop",value:function(){Xut.View.Toolbar("show"),this.video.stop()}},{key:"close",value:function(){this.video.close()}}]),t}(),Ma=void 0,Na=void 0,ja=function(){Ma=h(),Na=h()};ja();var Ra,Da,Fa=function(t,e,n){var i=Li.proportion,o={pageId:e,videoId:n,url:t.md5,pageUrl:t.url,left:t.left*i.left||0,top:t.top*i.top||0,width:t.width*i.width||Li.viewSize.width,height:t.height*i.height||Li.viewSize.height,padding:t.padding*i.left||0,zIndex:t.zIndex||2147483647,background:t.background,category:t.category,hyperlink:t.hyperlink};_.isObject(Ma[e])||(Ma[e]={}),Ma[e][n]=o},La=function(t,e){var n=Ma[t];return!(!n||!n[e])},Xa=function(t,e){if(!La(t,e)){var n=Xut.data.query("Video",e);Fa(n,t,e)}},Ba=function(t,e,n){var i=Ma[t][e];Na[t]&&Na[t][e]?Na[t][e].play():(_.isObject(Na[t])||(Na[t]={}),Na[t][e]=new Oa(i,n))},Ha=function(t,e,n){Xa(t,e),Ba(t,e,n)},$a="hot",za="content",Ga="season",Wa=function(){Ra=h(),Da=h()};Wa();var Ya=function(t,e){var n;switch(t){case za:n=Xut.data.query("Video",e,!0);break;case Ga:n=Xut.data.query("Video",e,!0);break;default:n=Xut.data.query("Video",e)}return n},Ua=function(t,e,n){var i,o,r=h(),a=h(),s=e-1;if(t){i=Xut.Contents.contentsFragment[e];var l=e>9e3;l&&(s=Xut.Presentation.GetPageIndex()),_.each(t,function(t){if(!r[t.id]){o=i["Content_"+s+"_"+t.id],a[t.id]=o;var e=$(o);if(e.length){var n=e.find("div").last();n.length&&(r[t.id]=n[0])}}})}return{parents:r,ancestors:a}},Va=function(t,e,n){var i=Ra[n];return!!(i&&i[t]&&i[t][e])},qa=function(t,e,n,i,o){if(Ra[i]||(Ra[i]=h()),Ra[i][e]||(Ra[i][e]=h()),t.theTitle)var r=p(t.theTitle);return Ra[i][e][n]={trackId:t.track,url:t.md5,subtitles:r,audioId:n,data:t}},Ka=function(t,e,n,i){if(Va(t,e,n))return!1;var o=Ya(n,e);if(o&&o.md5){var r=qa(o,t,e,n,i);i&&_.extend(r,i,{action:!0})}},Ja=function(t,e,n,i){var o=Da[t][e][n],r=i.trackId,a=o.trackId;return t==Ga&&o.url==i.url||(0!=r&&0!=a&&r!=a||(o.end(),delete Da[t][e][n]),!1)},Za=function(t,e,n){var i,o,r,a=Ra[n][t][e],s=null;for(i in Da)for(o in Da[i])for(r in Da[i][o])Ja(i,o,r,a)&&(s=Da[i][o][r]);return s},Qa=function(t,e,n){var i=Ra[n][t][e],o=Za(t,e,n);if(Ht(),Da[n]||(Da[n]=h()),Da[n][t]||(Da[n][t]=h()),i.subtitles)var r=Ua(i.subtitles,t,e);i.innerCallback=function(i){Da[n]&&Da[n][t]&&Da[n][t][e]&&(i.end(),delete Da[n][t][e])},Da[n][t][e]=o||new da(i,r)},ts=function(t,e,n){var i,o;switch(Da[n]&&Da[n][t]&&Da[n][t][e]&&(i=Da[n][t][e],o=i.audio?i.status:null),o){case"playing":i.pause();break;case"paused":i.play();break;default:Qa(t,e,n)}},es=function(){var t,e,n;for(t in Da)for(e in Da[t])for(n in Da[t][e])Da[t][e][n].end();Wa()},ns=Xut.style.filter,is=Math.ceil,os=Math.pow,rs=/^#[0-9a-fA-F]{3,6}$/,as=Xut.plat.hasTouch,ss=function(){function t(e,n,i,o,r,a){return Eo(this,t),this.hasTouch=as,this.parent=document.getElementById(n),this.scroller=document.getElementById(i),this.startCallback=o,this.moveCallback=r,this.endCallback=a,null==this.scroller?void console.error("The control area of the object is empty."):(Xut.Contents.ResetDefaultControl&&Xut.Contents.ResetDefaultControl(e,n),
this.scroller.bindMoveMent&&this.scroller.bindMoveMent.destroy(),m(this.scroller,{start:this}),void(this.scroller.bindMoveMent=this))}return Io(t,[{key:"handleEvent",value:function(t){b({start:function(t){this._start(t)},move:function(t){this._move(t)},end:function(t){this._end(t)},cancel:function(t){this._end(t)}},this,t)}},{key:"_start",value:function(t){t.preventDefault(),"function"==typeof this.startCallback&&this.startCallback(t),m(this.scroller,{move:this,end:this,cancel:this})}},{key:"_move",value:function(t){"function"==typeof this.moveCallback&&this.moveCallback(t)}},{key:"_end",value:function(t){y(this.scroller,{move:this,end:this,cancel:this}),"function"==typeof this.endCallback&&this.endCallback(t)}},{key:"destroy",value:function(t,e,n){y(this.scroller,{start:this,move:this,end:this,cancel:this}),this.scroller=null}}]),t}(),ls=Xut.plat.hasTouch,cs=Xut.style.filter,us=Math.round,hs=Math.ceil,ds=Xut.plat.isMacOS,ps=Xut.plat.isDesktop,fs=function(){function t(e,n,i,o,r,a){return Eo(this,t),_.isArray(r)&&r.length?(this.options=r,this.screenWidth=Li.viewSize.width,this.screenHeight=Li.viewSize.height,this.container=a||$(document.body),this.isDebug=!1,this.pageIndex=e,this.pageType=n,this.chapterId=i,this.element=o,this.elementStyle="",this.elementVisibility="visible",this.useMask=!(!ps&&!ds),this.parameter0=null,this.isExit0=!1,this.preCode="",this.postCode="",this.codeDelay=0,this.isCompleted=!1,void this._initElement()):void console.log("Animation options error is not Array.")}return Io(t,[{key:"_parseCode",value:function(t,e){return t&&t.length>0?v(t):e&&e.length>0?v(e):void 0}},{key:"_parseDelayCode",value:function(t,e){return t&&t.length>0?t:e&&e.length>0?e:void 0}},{key:"_initElement",value:function(){var t=this.options[0];if(this.parameter0=p(t.parameter),this.parameter0.pageType=this.pageType,this.parameter0.pageIndex=this.pageIndex,this.isExit0=!!this.parameter0.exit&&"true"==this.parameter0.exit.toLowerCase(),this.preCode=this._parseCode(t.preCode,this.parameter0.preCode),this.postCode=this._parseCode(t.postCode,this.parameter0.postCode),this.codeDelay=this._parseDelayCode(t.codeDelay,this.parameter0.codeDelay),!this.element.attr("data-pptAnimation")){var e=t.animationName;if(0==e.indexOf("EffectPath")||"EffectCustom"==e)this.element.css("visibility","visible");else switch(e){case"EffectFlashBulb":case"EffectFlicker":case"EffectTeeter":case"EffectSpin":case"EffectGrowShrink":case"EffectDesaturate":case"EffectDarken":case"EffectLighten":case"EffectTransparency":case"EffectColorBlend":case"EffectComplementaryColor":case"EffectChangeLineColor":case"EffectChangeFillColor":case"EffectFlashOnce":this.element.css("visibility","visible");break;case"EffectCredits":this.element.css("visibility","hidden");break;default:this.isExit0?this.element.css("visibility","visible"):this.element.css("visibility","hidden")}this.element.attr("data-pptAnimation",!0),this.elementStyle=this.element[0].style.cssText,this.elementVisibility=this.element.css("visibility")}}},{key:"_getObjectInfo",value:function(t){var e=us(t.width()),n=us(t.height()),i=us(parseInt(t.css("top"))),o=us(parseInt(t.css("left"))),r=us(t.offset().top);t.attr("offsetTop")?r=parseInt(t.attr("offsetTop")):t.attr("offsetTop",r);var a=hs(this.screenHeight-r-n),s=us(t.offset().left);t.attr("offsetLeft")?s=parseInt(t.attr("offsetLeft")):t.attr("offsetLeft",s);var l=hs(this.screenWidth-s-e);return{width:e,height:n,top:i,left:o,offsetTop:r,offsetLeft:s,offsetBottom:a,offsetRight:l}}},{key:"_startHandler",value:function(t,e,n){for(var i in n)switch(i){case"x":TweenLite.set(e,{x:n[i]});break;case"y":TweenLite.set(e,{y:n[i]});break;case"rotation":TweenLite.set(e,{rotation:n[i]});break;case"rotationX":TweenLite.set(e,{rotationX:n[i]});break;case"rotationY":TweenLite.set(e,{rotationY:n[i]});break;case"scale":TweenLite.set(e,{scale:n[i]});break;default:e.css(i,n[i])}if(t.videoId>0&&Yt(t.chapterId,t.videoId),t.pptanimation&&t.pptanimation.pptapi){var n=t.pptanimation.parameters?t.pptanimation.parameters:{};switch(t.pptanimation.pptapi){case"bonesWidget":bonesWidget.updateAction(e.attr("id"),n.actList);break;case"spiritWidget":Dt(e.attr("id"),n)}}}},{key:"_completeHandler",value:function(t,e,n){for(var i in n)switch(i){case"x":TweenLite.set(e,{x:n[i]});break;case"y":TweenLite.set(e,{y:n[i]});break;case"rotation":TweenLite.set(e,{rotation:n[i]});break;case"rotationX":TweenLite.set(e,{rotationX:n[i]});break;case"rotationY":TweenLite.set(e,{rotationY:n[i]});break;case"scale":TweenLite.set(e,{scale:n[i]});break;default:e.css(i,n[i])}}},{key:"_getTimeline",value:function(t,e){var n=this.element,i=this.parameter0,o=this.isExit0;(e>0||null==this.parameter0)&&(i=p(t.parameter),o=!!i.exit&&"true"==i.exit.toLowerCase(),0==e&&(this.parameter0=i,this.isExit0=o));var r=t.speed/1e3,a=t.delay/1e3;navigator.epubReadingSystem&&(a+=.15);var s=t.repeat>=0?t.repeat-1:0;i.pageType=this.pageType,i.chapterId=this.chapterId,i.animationName=t.animationName,i.videoId=t.videoId;var l=i.animationName;if("xxtTextEffect"==l)return this.getTextAnimation(i,n,r,a,s);if(0==l.indexOf("EffectPath")||"EffectCustom"==l)return this.getPathAnimation(i,n,r,a,s);switch(l){case"EffectFade":return this.getEffectFade(i,n,o,r,a,s);case"EffectFly":return this.getEffectFly(i,n,o,r,a,s);case"EffectAscend":return this.getEffectAscend(i,n,o,r,a,s);case"EffectDescend":return this.getEffectDescend(i,n,o,r,a,s);case"EffectSplit":return this.getEffectSplit(i,n,o,r,a,s);case"EffectWipe":return this.getEffectWipe(i,n,o,r,a,s);case"EffectCircle":return this.getEffectCircle(i,n,o,r,a,s);case"EffectBox":return this.getEffectBox(i,n,o,r,a,s);case"EffectDiamond":return this.getEffectDiamond(i,n,o,r,a,s);case"EffectPlus":return this.getEffectPlus(i,n,o,r,a,s);case"EffectGrowAndTurn":return this.getEffectGrowAndTurn(i,n,o,r,a,s);case"EffectZoom":return this.getEffectZoom(i,n,o,r,a,s);case"EffectFadedZoom":return this.getEffectFadedZoom(i,n,o,r,a,s);case"EffectSwivel":return this.getEffectSwivel(i,n,o,r,a,s);case"EffectFadedSwivel":return this.getEffectFadedSwivel(i,n,o,r,a,s);case"EffectBounce":return this.getEffectBounce(i,n,o,r,a,s);case"EffectBlinds":return this.getEffectBlinds(i,n,o,r,a,s);case"EffectPeek":return this.getEffectPeek(i,n,o,r,a,s);case"EffectExpand":return this.getEffectExpand(i,n,o,r,a,s);case"EffectRiseUp":return this.getEffectRiseUp(i,n,o,r,a,s);case"EffectCenterRevolve":return this.getEffectCenterRevolve(i,n,o,r,a,s);case"EffectSpinner":return this.getEffectSpinner(i,n,o,r,a,s);case"EffectFloat":return this.getEffectFloat(i,n,o,r,a,s);case"EffectSpiral":return this.getEffectSpiral(i,n,o,r,a,s);case"EffectPinwheel":return this.getEffectPinwheel(i,n,o,r,a,s);case"EffectCredits":return this.getEffectCredits(i,n,o,r,a,s);case"EffectBoomerang":return this.getEffectBoomerang(i,n,o,r,a,s);case"EffectArcUp":return this.getEffectArcUp(i,n,o,r,a,s);case"EffectFlashBulb":return this.getEffectFlashBulb(i,n,r,a,s);case"EffectFlicker":return this.getEffectFlicker(i,n,r,a,s);case"EffectTeeter":return this.getEffectTeeter(i,n,r,a,s);case"EffectSpin":return this.getEffectSpin(i,n,r,a,s);case"EffectGrowShrink":return this.getEffectGrowShrink(i,n,r,a,s);case"EffectDesaturate":return this.getEffectDesaturate(i,n,r,a,s);case"EffectDarken":return this.getEffectDarken(i,n,r,a,s);case"EffectLighten":return this.getEffectLighten(i,n,r,a,s);case"EffectTransparency":return this.getEffectTransparency(i,n,r,a,s);case"EffectColorBlend":return new TimelineMax;case"EffectComplementaryColor":return this.getEffectComplementaryColor(i,n,r,a,s);case"EffectChangeLineColor":return new TimelineMax;case"EffectChangeFillColor":return new TimelineMax;case"EffectFlashOnce":return this.getEffectFlashOnce(i,n,r,a,s);default:case"EffectAppear":return this.getEffectAppear(i,n,o,r,a,s)}}},{key:"_initAnimation",value:function(t){for(var e=this,n=function(){t&&_.isFunction(t)&&t()},i=new TimelineLite({paused:!0,onStartParams:[this.preCode],onCompleteParams:[this.postCode,this.codeDelay],onStart:function(t){if(t&&_.isFunction(t)){e.animation.pause();var i=!1;try{i=t()}catch(o){console.log("Run preCode is error in startHandler:"+o)}1==i?e.animation.resume():(e.animation.stop(),n())}},onComplete:function(t,i){e.isCompleted=!0;try{"function"==typeof t&&(i>0?setTimeout(t,i):t())}catch(o){console.log("Run postCode is error in completeHandler:"+o)}n()}}),o=0;o<this.options.length;o++)if(0==o)i.add(this._getTimeline(this.options[o],o),"shape0");else{var r=this.options[o].invokeMode;2==r?i.add(this._getTimeline(this.options[o],o)):i.add(this._getTimeline(this.options[o],o),"shape0")}return i}},{key:"play",value:function(t){this.isCompleted&&this.reset(),this.animation&&this.stop(),this.animation=this._initAnimation(t),this.animation.play()}},{key:"stop",value:function(){this.animation instanceof TimelineLite&&(this.animation.stop(),this.animation.kill(),this.animation.clear(),this.animation.vars=null),this.animation=null}},{key:"reset",value:function(){if(this.animation&&this.stop(),this.elementStyle&&this.elementStyle.length){var t=this.element.css("-webkit-transform-origin");null==this.element.attr("isscroll")&&(this.element[0].style.cssText=this.elementStyle),this.element.css("-webkit-transform-origin",t),this.element.css("visibility",this.elementVisibility),this.element.css("-webkit-transform","none"),this.element[0]._gsTransform=null}this.isCompleted=!1}},{key:"destroy",value:function(){this.stop(),this.container=null,this.options=null,this.element=null}}]),t}();qt(fs.prototype),Kt(fs.prototype),te(fs.prototype),ee(fs.prototype),ne(fs.prototype),ie(fs.prototype),oe(fs.prototype);var vs=Xut.style,gs=vs.keyframes,ms=vs.animationEnd,ys=vs.animationPlayState,_s=vs.animation,bs=null,xs=Xut.style.animationPlayState,ws=function(t,e,n){var i=$("#"+t+e),o=$("#"+t+n),r=$("#spirit_parent_"+n);0==r.length&&o.append("<div style='position:absolute; width:100%; height:100%'  id='spirit_parent_"+n+"'></div>"),r.append(i)},ks=function(){function t(e){Eo(this,t),this.options=e,this.ids=[]}return Io(t,[{key:"play",value:function(){var t=void 0,e=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0;c=this.options,n=c.data,i=n.resource,o=n.loop,this.spiritObjs={};var u={};u.contentId=c.id,u.ele=c.$contentNode,u.resourcePath=n.md5,u.type="advSprite";for(var h=0;h<i.spiritList.length;h++){if(r=i.spiritList[h],t=n.containerName,a=r.framId,s=r.parentId,this.ids.push(t),"0"!=s){var d=t.split("_"),p=d[0]+"_"+d[1];ws(p,a,s)}this.spiritObjs[t]=new _a(r,u),l=r.params,e=l.actList.split(",")[0],this.spiritObjs[t].play(e,o)}}},{key:"stop",value:function(){var t=this;this.ids.forEach(function(e){t.spiritObjs[e].stop()})}},{key:"reset",value:function(){this.stop()}},{key:"destroy",value:function(){var t=this;this.ids.forEach(function(e){t.spiritObjs[e]&&(t.spiritObjs[e].destroy(),t.spiritObjs[e]=null,delete t.spiritObjs[e])}),this.options.data=null,this.options.$contentNode=null,this.options=null,this.ids=null}}]),t}(),Ts={},Cs={},Ss=function(t,e){var n=!1;t&&_.each(t,function(t){if(t.videoId)return n=!0,"breaker"}),n&&Ut(e)},Ps=["pptObj","pixiObj","comSpriteObj","autoSpriteObj"],Es=function(t){Ps.forEach(function(e){t(e)})},Is=function(){function t(e){Eo(this,t),_.extend(this,e)}return Io(t,[{key:"_createCanvas",value:function(t,e,n,i){var o=this,r=void 0,a=this.contentDas.actionTypes,s={data:this.contentDas,renderer:this.$contentNode,pageIndex:this.pageIndex},l=function(){(e||a.pptId)&&o.$contentNode.view&&(o.pptObj=i(fs,$(o.$contentNode.view)),o.pptObj.contentId=t)},c=this.$contentNode.view;c&&(r=c.getAttribute("data-init"));var u=function(){c.setAttribute("data-init",!0)};a.spiritId&&(r?l():(this.nextTask.context.add(t),this.pixiObj=new Ts(s),this.pixiObj.$once("load",function(){l(),o.nextTask.context.remove(t)}),u())),a.compSpriteId&&(r?l():(this.pixiObj=new Cs(s),u(),l()))}},{key:"_createDom",value:function(t,e){if(t){var n={id:this.id,data:this.contentDas,$contentNode:this.$contentNode};switch(t){case"Sprite":this.comSpriteObj=ce(n);break;case"AutoCompSprite":this.autoSpriteObj=new ks(n)}}this.pptObj=e(fs)}},{key:"init",value:function(t,e,n,i,o,r){var a=void 0,s=void 0,l=void 0;l=this.contentDas.category,a=this.pageIndex,s=function(t,s){var l=s||e;return l.length?new t(a,r,i,l,o,n):void console.log("创建:"+t+"失败")},this.domMode?this._createDom(l,s):this._createCanvas(t,o,l,s)}},{key:"play",value:function(t){var e=this,n=this.$contentNode;n&&n.view&&(n=this.$contentNode.view),Es(function(i){e[i]&&("pptObj"===i&&n.prop&&n.prop("mutex")&&n.css({display:"block"}),e[i].play&&e[i].play(t))})}},{key:"stop",value:function(t){var e=this;Es(function(n){e[n]&&("pptObj"===n&&Ss(e[n].options,t),e[n].stop&&e[n].stop())})}},{key:"reset",value:function(){var t=this;Es(function(e){t[e]&&t[e].reset&&t[e].reset()})}},{key:"destroy",value:function(){var t=this;Es(function(e){t[e]&&t[e].destroy&&t[e].destroy()}),this.canvasMode&&this.$contentNode.view&&this.$contentNode.destroy(),this.contentDas.$contentNode&&(this.contentDas.$contentNode=null),Es(function(e){t[e]=null}),this.getParameter=null}}]),t}(),As=Xut.style.transform,Os=Xut.style.setTranslateZ,Ms=function(t){return void 0!=t},Ns=function(t,e,n){var i,o={},r="",a=0,s=0,l=0,c=Math.round;if(i=n,Ms(e.translateX)||Ms(e.translateY)||Ms(e.translateZ)){a=c(e.translateX)||0,s=c(e.translateY)||0,l=c(e.translateZ)||0,i+=a;var u=Os(l);r+="translate("+i+"px,"+s+"px) "+u}return(Ms(e.rotateX)||Ms(e.rotateY)||Ms(e.rotateZ))&&(a=c(e.rotateX),s=c(e.rotateY),l=c(e.rotateZ),r+=a?"rotateX("+a+"deg) ":"",r+=s?"rotateY("+s+"deg) ":"",r+=l?"rotateZ("+l+"deg) ":""),(Ms(e.scaleX)||Ms(e.scaleY)||Ms(e.scaleZ))&&(a=c(100*e.scaleX)/100||1,s=c(100*e.scaleY)/100||1,l=c(100*e.scaleZ)/100||1,r+=String.format("scale3d({0},{1},{2}) ",a,s,l)),Ms(e.opacity)&&(o.opacity=c(100*(e.opacityStart+e.opacity))/100,r+=";"),r&&(o[As]=r,t.css(o)),i},js=function(t){return t.opacityStart>-1&&(t.opacity=(t.opacityEnd||1)-t.opacityStart,delete t.opacityEnd),t},Rs=function(t,e){var n={},i=-Li.viewSize.width,o=-Li.viewSize.height;for(var r in t)switch(r){case"translateX":case"translateZ":n[r]=t[r]*e*i;break;case"translateY":n[r]=t[r]*e*o;break;case"opacityStart":n[r]=t[r];break;default:n[r]=t[r]*e}return n},Ds=function(t,e){var n,i,o,r;if(r=t.getParameter(),1===r.length&&(o=t.contentDas.category,n=r[0],"EffectAppear"===n.animationName&&t.domMode&&"auto"===e&&!n.videoId&&!n.delay&&"Sprite"!==o&&"AutoCompSprite"!==o&&!n.preCode&&!n.postCode&&!/"inapp"/i.test(n.parameter))){var i=t.isRreRun=/"exit":"False"/i.test(n.parameter)===!0?"visible":"hidden";return i}},Fs=function(t,e,n,i,o,r){var a,s,l,c={type:"dom",canvasMode:!1,domMode:!0},u=t.pageType,h=t.relatedData.contentDas[e];if(t.canvasRelated.enable&&-1!==t.canvasRelated.cid.indexOf(e)&&(s="canvas_"+n+"_"+e,l=t.getContextNode(s)[0],h.$contentNode&&(a=h.$contentNode),c.type="canvas",c.canvasMode=!0,c.domMode=!1),a||(a=t.getContextNode(i)))return _.extend(c,{base:t,id:e,pid:n,actName:i,contentDas:h,$contentNode:a,pageType:u,pageIndex:t.pageIndex,canvasRelated:t.canvasRelated,nextTask:t.nextTask,canvasDom:l}),r&&"master"===u?c.processType="parallax":c.processType="animation",c.getParameter=function(){var t="parameter-"+u+"-"+c.processType;return c[t]=o,function(){return c[t]}}(),"parallax"===c.processType?(c.transformOffset=t.relatedData.transformOffset(c.id),ue.call(t,c)):(Ds(c,t.eventData.eventName),new Is(c))},Ls=function(t,e){var n=e[0],i=n.contentId,o=t.pid,r=t.makePrefix("Content",o,i);return Fs(t,i,o,r,e,n.masterId)},Xs=function(t){return function(e,n){var i,o;if(e&&e.length)for(;i=e.shift();)(o=Ls(t,i))&&n(o)}},Bs=function(t,e){var n;for(n in e)void 0===t[n]&&(t[n]=e[n])},Hs=function(){function t(e){return Eo(this,t),_.extend(this,e),this.nextTask=de(this.noticeComplete),this.fillEventData(),this.abstractContents=he(this),this.htmlTextBox(),this.bindEventBehavior(),this._initContents(),this._fixAudio=[],this.nextTask.context.length()?(this.nextTask.context.wait=!0,this):void this.noticeComplete()}return Io(t,[{key:"_initContents",value:function(){var t=this.relatedData.pageId,e=this.$containsNode,n=this.relatedCallback.contentsHooks,i=this.pageType;this.eachAssistContents(function(o){var r,a,s,l;return(r=o.$contentNode)?"parallax"===o.processType?void n(o.pid,o.id,o):(a=o.id,s=o.isRreRun,l=o.getParameter(),void 0===s&&o.init(a,r,e,t,l,i),void this._toRepeatBind(a,r,s,o,n)):void console.log("$contentNode不存在")})}},{key:"_toRepeatBind",value:function(t,e,n,i,o){var r,a;a=this.relatedData,-1!==(r=a.createContentIds.indexOf(t))&&(a.createContentIds.splice(r,1),o(i.pid,t,i),this._addIScroll(i,e),n&&e.css({visibility:n}))}},{key:"_addIScroll",value:function(t,e){var n=this,i=this,o=t.contentDas,r=function(e){if(!Xut.plat.isAndroid)return function(){i.iscroll=new iScroll(e,{scrollbars:!0,fadeScrollbars:!0})};var n=i.makePrefix("Content",t.pid,t.id),o=i.getContextNode(n),r=o.css("visibility"),a=function(){},s=void 0;return"hidden"==r&&(s=o.css("opacity"),0==s?(o.css({visibility:"visible"}),a=function(){o.css({visibility:r})}):(o.css({opacity:0}).css({visibility:"visible"}),a=function(){o.css({opacity:s}).css({visibility:r})})),function(){a(),o=null,a=null}},a=function(){e.css("overflow","hidden"),e.children().css("height",""),n.relatedCallback.iscrollHooks.push(r(e[0]))};if(o.isScroll){var s=e.find("svg");s?s.text()&&a():a()}o.mask&&o.isGif||e.find&&e.find("img").css({height:o.scaleHeight})}},{key:"makePrefix",value:function(t,e,n){return t+"_"+e+"_"+n}},{key:"getContextNode",value:function(t,e){var n=void 0,i=void 0,o=void 0,r=void 0;return r=this.relatedData.contentsFragment,(n=r[t])?i=$(n):(o=this.relatedData.containerPrefix)&&_.each(o,function(e){n=r[e],i=$(n).find("#"+t),i.length}),i}},{key:"_resetAloneAnim",value:function(){pe(this.eventData,function(t){t.reset()})}},{key:"_relevantOperation",value:function(){var t,e;if(this.eventData&&(e=this.eventData.eventContentId),e&&(t=this.relatedData.seasonRelated[e])){if(t.SearchBar)return void this.createSearchBar();if(t.BookMarks)return void this.createBookMark();if(t.seasonId||t.chapterId)return void setTimeout(function(){Xut.View.LoadScenario({scenarioId:t.seasonId,chapterId:t.chapterId})},Nt()?1e3:0)}}},{key:"eachAssistContents",value:function(t){_.each(this.abstractContents,function(e){t.call(this,e)},this)}},{key:"runAnimation",value:function(t,e){var n=this,i=this.relatedData.pageId;if(e&&(this.preventRepeat=!1),this.preventRepeat)return!1;if(this.preventRepeat=!0,!this.seed.animation)return this.preventRepeat=!1,void this._relevantOperation();var o=this.relatedData.partContentRelated,r=this.captureAnimComplete=function(e){return function(o){o&&o.$contentNode&&o.$contentNode.removeProp&&o.$contentNode.removeProp("animOffset");var r=i!=Xut.Presentation.GetPageId();r&&o&&(o.stop&&o.stop(i),o.reset&&o.reset()),1===e?(r&&n._resetAloneAnim(),n.preventRepeat=!1,n._relevantOperation(),t&&t(),n.captureAnimComplete=null):--e}}(this.abstractContents.length),a=function(t){o&&o.length&&-1!==o.indexOf(t.id)?r():(t.$contentNode&&(t.canvasMode?console.log("canvsa isRreRunPocess"):t.$contentNode.attr("isscroll")||t.$contentNode.css({visibility:t.isRreRun})),r())};this.eachAssistContents(function(t){t.isRreRun?a(t):(t.$contentNode&&t.$contentNode.prop&&t.$contentNode.prop({animOffset:t.$contentNode.offset()}),t.play(function(){r(t)}))}),this.runState=!0}},{key:"stopAnimation",value:function(){var t=this.relatedData.pageId;this.runState=!1,this.eachAssistContents(function(e){!e.isRreRun&&e.stop&&e.stop(t)})}},{key:"_destroyAnimation",value:function(t){pe(this.eventData,function(t){t.destroy()}),this.eachAssistContents(function(e){e.destroy&&e.destroy(),t&&t(e)})}},{key:"autoPlay",value:function(t){var e=this.eventData;e&&"auto"===e.eventName?this.runAnimation(t):t()}},{key:"reset",value:function(){this.eachAssistContents(function(t){!t.isRreRun&&t.reset&&t.reset()}),this._resetAloneAnim()}},{key:"stop",value:function(){this.runState&&this.stopAnimation(),this.preventRepeat=!1,this.htmlBoxInstance.length&&_.each(this.htmlBoxInstance,function(t){t.removeBox()}),this._fixAudio.length&&(_.each(this._fixAudio,function(t){setTimeout(function(){t.end()},5e3)}),this._fixAudio=[])}},{key:"destroy",value:function(t){this.eventData.eventContext&&(lt(this.eventData),this.eventData.eventContext=null),this.htmlBoxInstance.length&&(_.each(this.htmlBoxInstance,function(t){t.destroy()}),this.htmlBoxInstance=null),this._destroyAnimation(t),this.abstractContents=null,this.iscroll&&(this.iscroll.destroy(),this.iscroll=null),this.searchBar&&(this.searchBar.destroy(),this.searchBar=null),this.bookMark&&(this.bookMark.destroy(),this.bookMark=null),this.$containsNode=null}}]),t}(),$s=Hs.prototype;Ct($s),Pt($s),It($s),Rt($s);var zs={};_.each("jsWidget content svgWidget canvasWidget path".split(" "),function(t,e){zs[t]=!0});var Gs=document,Ws=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Ys=Gs.implementation.hasFeature("MutationEvents","2.0"),Us=function(){function t(){i=!1;var t=n.slice(0);n=[];for(var e=0;e<t.length;e++)t[e]()}var e,n=[],i=!1;if("undefined"==typeof Ws||Xut.plat.hasMutationObserverBug){var o=Xut.plat.isBrowser?window:"undefined"!=typeof global?global:{};e=o.setImmediate||setTimeout}else{var r=1,a=new Ws(t),s=document.createTextNode(r);a.observe(s,{characterData:!0}),e=function(){r=(r+1)%2,s.data=r}}return function(o,r){var a=r?function(){o.call(r)}:o;n.push(a),i||(i=!0,e(t,0))}}(),Vs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container,n=t.content,i=t.position,o=t.delay,r=void 0===o?0:o,a=arguments[1],s=arguments[2];if(1===arguments.length&&"function"==typeof arguments[0])return a=arguments[0],"function"==typeof a?Us(a):void console.log("nextTick: 参数提供错误");if(e&&n){if(e instanceof $&&(e=e[0]),1!==e.nodeType)return void console.log("nextTick: container must be HTMLLIElement ");var l="T"+(1e4*Math.random()<<1),c=Gs.createElement("input");if(c.setAttribute("value",l),"string"==typeof n){var u=$(n);u[0]||(u=Gs.createTextNode(n),u=$(u)),n=u,u=null}var h=function(){e.removeChild(c),a.call(s),e=null,c=null,s=null},d=function(){for(var t=Gs.createDocumentFragment(),o=n.length,r=0;r<o;r++)t.appendChild(n[r]);t.appendChild(c),"first"===i?e.insertBefore(t,e.firstChild):e.appendChild(t),t=null,c.setAttribute("value",l)};if(Ws){var p=new Ws(function(t){t.forEach(function(t){t.oldValue===l&&(h(),p=null)})});p.observe(c,{attributes:!0,attributeOldValue:!0,attributeFilter:["value"]}),d()}else Ys?!function(){var t=function n(t){t.target.value===l&&(e.removeEventListener("DOMNodeInserted",n,!1),a.call(s))};e.addEventListener("DOMNodeInserted",t,!1),d(),e.removeChild(c)}():(d(),setTimeout(function(){h()},r))}};Xut.nextTick=Vs;var qs=Xut.style.transform,Ks=function(){function t(e){Eo(this,t),_.extend(this,e);var n=we(e);n?(e=ke(n,e),e.createContentIds.length?this._dataAfterCheck(e):this._loadComplete()):this._loadComplete()}return Io(t,[{key:"_loadComplete",value:function(){this.pageBaseHooks.success()}},{key:"_assert",value:function(t,e){var n=this,i=function(){n.suspendQueues=[],n.suspendQueues.push(function(){e.call(n)})},o=function(){e.call(n)};n.pageBaseHooks.suspend(t,o,i)}},{key:"_dataAfterCheck",value:function(t){this._assert("dataAfter",function(){var e=this;t.floatMaters={ids:[],container:{},zIndex:{}},t.floatPages={ids:[],zIndex:{}},Pe(t),wt(function(n){t.contentHtmlBoxIds=n.contentHtmlBoxIds,t.contentsFragment={},Xut.IBooks.runMode()?_.each(n.idFix,function(e){t.contentsFragment[e]=t.$containsNode.find("#"+e)[0]}):(t.contentsFragment=Se(n.contentStr),delete n.contentStr),t.containerPrefix=n.containerPrefix,Xut.Contents.contentsFragment[t.chapterId]||Xut.Contents.contentsFragment[t.chapterId],Xut.Contents.contentsFragment[t.chapterId]=t.contentsFragment,e._dataStrCheck(t,n.contentDas)},t,this)})}},{key:"_dataStrCheck",value:function(t,e){this._assert("strAfter",function(){var n=this;Xut.sceneController.seasonRelated=t.seasonRelated,Me(t,e,function(e){return n._eventAfterCheck(t,e)})})}},{key:"_eventAfterCheck",value:function(t,e){var n=this;this._assert("eventAfter",function(){t.count=1;var i=function(){var t;_.each(e,function(e){for(;t=e.shift();)t()})},o=function(){i(),n._applyAfterCheck()},r=function(t){return function(){return 1===t.count?void o():void t.count--}}(t);t.floatPages.ids&&t.floatPages.ids.length&&Ae(this,t,r),t.floatMaters.ids&&t.floatMaters.ids.length&&Ie(this,t,r),Xut.IBooks.runMode()?r():Vs({container:t.$containsNode,content:Ce(t.contentsFragment)},r)})}},{key:"_applyAfterCheck",value:function(){this._assert("applyAfter",function(){this._loadComplete(!0)})}},{key:"runSuspendTasks",value:function(){if(this.suspendQueues){var t;(t=this.suspendQueues.pop())&&t(),this.suspendQueues=null}}},{key:"clearReference",value:function(){Xut.Contents.contentsFragment[this.chapterId]&&delete Xut.Contents.contentsFragment[this.chapterId],this.canvasRelated=null,this.pageBaseHooks=null,this.$containsNode=null,this.rootNode=null,this.contentsFragment=null}}]),t}(),Js=function(){return window.MMXCONFIG?function(){return!(window.MMXCONFIG.back||Xut.Application.IsBackStage())}:function(){return!0}},Zs=Js(),Qs=function(){},tl=function(t,e){var n=function(){var i=t.length;return function(){1===i&&(e&&e(),n=null),i--}}();_.each(t,function(t,e){Xut.CreateFilter.has(t.pageId,t.id)?n():t.autoPlay(n)})},el=function(t,e,n,i){var o=t.baseGetPageId(e),r=void 0;void 0===e&&(e=Xut.Presentation.GetPageIndex()),_.each(n,function(n,a){r=Cl[n.actType],r&&r.autoPlay&&r.autoPlay({id:n.id,pageType:i,rootNode:t.getContainsNode(),chapterId:o,category:n.category,autoPlay:n.autoPlay,pageIndex:e})})},nl=function(t){1!==!Xut.config.visualMode&&t&&t()},il=function(t){t=JSON.parse(t),t.seasonId?Xut.View.GotoSlide(t.seasonId,t.chapterId):Xut.View.GotoSlide(t)},ol={createDom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t._id,n=t.md5,i=t.actType,o=t.scaleWidth,r=t.scaleHeight,a=t.scaleTop,s=t.scaleLeft,l=(arguments[1],arguments[2],arguments[3],arguments[4]),c=arguments[5],u="";n&&(u="background-image: url("+Xut.config.pathAddress+n+");");var h=i+"_"+e,d='<div id="'+h+'"\n                           data-belong="'+c+'"\n                           data-delegate="action"\n                           style="cursor:pointer;\n                                  width:'+o+"px;\n                                  height:"+r+"px;\n                                  left:"+s+"px;\n                                  top:"+a+"px;\n                                  background-size:100% 100%;\n                                  position:absolute;\n                                  z-index:"+l+";\n                                  "+u+'">\n                      </div>';return String.styleFormat(d)},trigger:function(t){Xe(t)}},rl={},al={createDom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t._id,n=(t.md5,t.actType,t.category),i=t.itemArray,o=t.scaleWidth,r=t.scaleHeight,a=t.scaleTop,s=t.scaleLeft,l=(arguments[1],arguments[2],arguments[3],arguments[4]),c=arguments[5],u="",h="";if(!o||!r)return"";if(i){i=p(i);var d=i[0],f=i[1];rl[e]={},d&&(d.startImg&&(h=d.startImg,rl[e].startImg=h,h="background-image:url("+Li.pathAddress+h+");"),d.script&&(rl[e].startScript=d.script)),f&&(f.stopImg&&(rl[e].stopImg=f.stopImg),f.script&&(rl[e].stopScript=f.script))}var v=n.replace(/(\w)/,function(t){return t.toUpperCase()}),g=Li.viewSize;if("webpage"==n&&o>200&&r>100&&o<=g.width&&r<=g.height){var m=74,y=(o-m)/2,_=(r-m)/2,b="background-image:url(images/icons/web_hotspot.png)";u='<div id="icon_'+e+'"\n                                  type="icon"\n                                  style="width:'+m+"px;\n                                         height:"+m+"px;\n                                         top:"+_+"px;\n                                         left:"+y+"px;\n                                         position:absolute;\n                                         "+b+'">\n                          </div>'}return String.styleFormat('<div id="'+(v+"_"+e)+'"\n                      data-belong="'+c+'"\n                      data-delegate="'+n+'"\n                      style="width:'+o+"px;\n                             height:"+r+"px;\n                             left:"+s+"px;\n                             top:"+a+"px;\n                             z-index:"+l+";\n                             "+h+'\n                             background-size:100% 100%;\n                             position:absolute;">\n                '+u+"\n            </div>")},onlyCreateOnce:function(t){var e;if(e=rl[t])return delete rl[t],e},autoPlay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.category,i=t.rootNode,o=(t.pageIndex,t.chapterId);n&&("audio"==n?zt(o,e,this.onlyCreateOnce(e)):Lt(o,e,i))},trigger:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.target,i=t.rootNode,o=t.pageIndex,r=t.activityId,a=n.getAttribute("data-delegate");if(a){var s=Xut.Presentation.GetPageId(o);"audio"==a?Gt(s,r,this.onlyCreateOnce(e)):Xt(s,r,$(i))}}},sl={},ll=function(t,e){sl[t]||(sl[t]=[]),sl[t].push(e),sl[t].length>1||yo(t,function(){_.each(sl[t],function(t){t&&t()}),sl[t]=null,delete sl[t]})},cl=function(){function t(e,n){Eo(this,t),this.data=e,this.options=n,this.scrolls=[],this._init()}return Io(t,[{key:"_init",value:function(){for(var t=this.options,e=this.data.contentPrefix,n=0;n<t.length;n++){var i=this._create(t[n],e);i&&this.scrolls.push(i)}}},{key:"_createWrapper",value:function(){return String.styleFormat('<div data-type="area-wrapper"\n                  style="position:absolute;width:100%; height:100%;overflow:hidden;">\n                <ul data-type="area-scroller"\n                     data-behavior="disable"\n                     style="position:absolute; width:100%; height:100%;overflow:hidden;">\n                </ul>\n             </div>')}},{key:"_create",value:function(t,e){var n=t.id,i=e+n,o=p(t.theTitle),r=o["data-widgetscrollareaList"].split(",");if(0!=r.length){var a=$("#"+i);if(0==a.length)return void console.log(n+"not find obj");var s=o["data-widgetscrollareascrolltype"]?o["data-widgetscrollareascrolltype"]:"xy";s=s.toLowerCase();var l=s.indexOf("x")>-1,c=s.indexOf("y")>-1,u=void 0,h=a.attr("data-iscroll");if(!h){Xut.Contents.ResetDefaultControl("page",i,"");var d={x:parseInt(a.css("left")),y:parseInt(a.css("top")),w:parseInt(a.css("width")),h:parseInt(a.css("height"))},f=this._getSize(r,e),v=f.min,g=f.max;u=$(this._createWrapper());var m=u.children();a.append(u),this._setScrollerStyle(g,v,d,l,c,m);var y=this._resetContents(r,e,d,l,c,v),_=this._createSnapContainer(y,m,n,l,c);if(l)for(var b=0;b<r.length;b++){var x=e+r[b],w=$("#"+x);w.appendTo(_[Math.floor(b/y.contentsPerSnapX)])}if(c)for(var b=0;b<r.length;b++){var x=e+r[b],w=$("#"+x);w.appendTo(_[Math.floor(b/y.contentsPerSnapY)])}var k=_.parent();if(l){var T=parseInt(k.css("width"));T<d.w&&(l=!1)}if(c){var C=parseInt(k.css("height"));C<d.h&&(c=!1)}return c||l?(a.attr("data-iscroll","visible"),1==_.length?this._bindIscroll(u[0],l,c):this._bindIscroll(u[0],l,c,n)):void a.attr("data-iscroll","hidden")}if("visible"===h)return u=a.children('div[data-type="area-wrapper"]'),this._bindIscroll(u[0],l,c,n)}}},{key:"_bindIscroll",value:function(t,e,n,i){return i?new iScroll(t,{scrollX:!!e,scrollY:!!n,snap:".contentsContainer"+i}):new iScroll(t,{scrollX:!!e,scrollY:!!n})}},{key:"_getSize",value:function(t,e){for(var n={l:null,t:null},i={l:null,t:null},o=void 0,r=0;r<t.length;r++)if(o=$("#"+e+t[r]),0!=o.length){var a=parseInt(o.css("width")),s=parseInt(o.css("left")),l=parseInt(o.css("height")),c=parseInt(o.css("top")),u=s,h=c;(null==i.l||i.l>u)&&(i.l=u),(null==i.t||i.t>h)&&(i.t=h);var d=a+s,p=l+c;(null==n.l||n.l<d)&&(n.l=d),(null==n.t||n.t<p)&&(n.t=p)}else console.log(t[r]+" not find");return{min:i,max:n}}},{key:"_setScrollerStyle",value:function(t,e,n,i,o,r){var a=0,s=0,l={x:0,y:0},c={x:0,y:0};e.l<n.x?l.x=e.l:l.x=n.x,
e.t<n.y?l.y=e.t:l.y=n.y,t.l>n.x+n.w?c.x=t.l:c.x=n.x+n.w,t.t>n.y+n.h?c.y=t.t:c.y=n.y+n.h,a=!i&&c.x-l.x>n.w?n.w:c.x-l.x,s=!o&&c.y-l.y>n.h?n.h:c.y-l.y,r.css({width:a+"px",height:s+"px"})}},{key:"_resetContents",value:function(t,e,n,i,o,r){for(var a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=0,p=0,f=t.length,v=0;v<f;v++){var g=e+t[v],m=$("#"+g);if(Xut.Contents.ResetDefaultControl("page",g,""),"true"!=m.attr("data-iscroll")){var y=parseInt(m.css("left")),_=parseInt(m.css("top"));parseInt(m.css("width"));y-=r.l<n.x&&i?r.l:n.x,_-=r.t<n.y&&o?r.t:n.y,m.css("left",y),m.css("top",_),i&&(y<n.w?d++:a||(a=d,u=y)),o&&(_<n.h?p++:s||(s=p,h=_)),m.css("visibility","inherit"),m.attr("data-iscroll","true")}}if(i&&(a?l=Math.ceil(t.length/a):(a=t.length,l=1,u=n.w)),o){for(var b=1,x=0;x<f;x++){var g=e+t[x],m=$("#"+g),_=parseInt(m.css("top"));if(x>0){var w=e+t[x-1],k=$("#"+w),T=parseInt(k.css("top"));if(!(_<T+10))break;b++}}s?c=Math.ceil(t.length/s):(s=Math.floor(t.length/b)+1,c=1,h=n.h)}return{contentsPerSnapX:a,snapXCount:l,snapContainerWidth:u,contentsPerSnapY:s,snapYCount:c,snapContainerHeight:h}}},{key:"_createSnapContainer",value:function(t,e,n,i,o){var r="";if(i)for(var a=parseInt(e.css("width")),s=t.snapXCount,l=t.snapContainerWidth,c=a-(s-1)*l,u=void 0,h=0;h<t.snapXCount;h++)u=h==t.snapXCount-1?c:l,r+='<li class="contentsContainer'+n+"\"\n                                      style='width:"+u+"px;height:100%;float:left;'>\n                                  </li>";else if(o)for(var d=(parseInt(e.css("height")),t.snapYCount,t.snapContainerHeight),h=0;h<t.snapYCount;h++)r+='<li class="contentsContainer'+n+"\"\n                                      style='height:"+d+"px;width:100%;float:left;'>\n                                  </li>";return r=$(r),r.appendTo(e),r}},{key:"destroy",value:function(){if(this.scrolls.length){for(var t=0;t<this.scrolls.length;t++){var e=this.scrolls[t];e&&(e.scrollTo(0,0),e.destroy()),this.scrolls[t]=null}this.scrolls=null}this.data.container=null,this.options=null}}]),t}(),ul=function(t,e){var n=[];return e.content&&_.each(e.content,function(t){n.push(t)}),Xut.Contents.GetPageWidgetData(t,n)},hl=function(){function t(e){Eo(this,t),_.extend(this,e),this.pageObj=null,this._init()}return Io(t,[{key:"_getOptions",value:function(){return[ze(this.inputPara,this.scrollPaintingMode,this.calculate),ul(this.pageType,this.inputPara)]}},{key:"_init",value:function(){if(60==this.widgetId&&"scrollarea"==this.widgetName){var t=this._getOptions();this.pageObj=new cl(t[0],t[1])}else if(72==this.widgetId&&"spirit"==this.widgetName){var t=this._getOptions();this.pageObj=Ft(t[0],t[1])}else"function"!=typeof window[this.widgetName+"Widget"]?(this.hasload=!0,$e(this._executive,this)):this._executive()}},{key:"_executive",value:function(){if("function"==typeof window[this.widgetName+"Widget"]){var t=this._getOptions();this.pageObj=new window[this.widgetName+"Widget"](t[0],t[1])}else console.error("Function ["+this.widgetName+"Widget] does not exist.")}},{key:"play",value:function(){return this.pageObj.play()}},{key:"toggle",value:function(){this.pageObj&&this.pageObj.toggle&&this.pageObj.toggle()}},{key:"stop",value:function(){this.pageObj&&this.pageObj.stop&&this.pageObj.stop()}},{key:"destroy",value:function(){this.hasload&&He(),this.pageObj&&this.pageObj.destroy&&this.pageObj.destroy()}}]),t}(),dl=function(){function t(e){var n=this;return Eo(this,t),_.extend(this,e),this._$wapper=this._createWapper(),Xut.nextTick({container:this.rootNode,content:this._$wapper},function(){n.rootNode=null,n._bindPMS()}),this}return Io(t,[{key:"_createWapper",value:function(){0!==this.zIndex&&(this.zIndex=this.zIndex||Xut.zIndexlevel());var t=String.styleFormat('<div id="widget_iframe_'+this.id+'"\n                  style="z-index:'+this.zIndex+";\n                         width:"+this.width+"px;\n                         height:"+this.height+"px;\n                         top:"+this.top+"px;\n                         left:"+this.left+'px;\n                         position:absolute;">\n             </div>');return this._$iframe=this._createIframe(),$(t).append(this._$iframe)}},{key:"_createIframe",value:function(){var t=this,e=document.createElement("iframe"),n=Li.pathAddress.replace("gallery/",""),i=n+"widget/"+this.widgetId+"/index.html?xxtParaIn="+this.key;return e.id="iframe_"+this.id,e.src=i,e.style.width="100%",e.style.height="100%",e.sandbox="allow-scripts allow-same-origin",e.frameborder=0,e.attachEvent?e.attachEvent("onload",function(){t._iframeComplete()}):e.onload=function(){t._iframeComplete()},e}},{key:"_iframeComplete",value:function(){var t=this._loadData(),e=this._$iframe.offsetWidth,n=this._$iframe.offsetHeight;.98*t.screenSize.width<=e&&.98*t.screenSize.height<=n?Xut.View.Toolbar({show:"button",hide:"controlBar"}):.7*t.screenSize.width<=e&&.7*t.screenSize.height<=n&&Xut.View.Toolbar({show:"button"}),PMS.send({target:this._$iframe.contentWindow,origin:"*",type:"loadData",data:t,success:function(){},error:function(){}}),this.state=!0}},{key:"_loadData",value:function(){var t,e,n=[],i=Xut.data.Image,o=null,r=this.inputPara,a=r.source;for(t in a)a.hasOwnProperty(t)&&(e={},o=i.item((parseInt(a[t])||1)-1),e.img="../gallery/"+o.md5,e.thumb="",e.title=o.imageTitle,n.push(e));return r.source=n,r}},{key:"_bindPMS",value:function(){var t=this,e=this.id,n=this._$wapper,i=$(this._$iframe);PMS.bind("onHideWapper"+e,function(){n.hide(),t.state=!1},"*"),PMS.bind("onFullscreen"+e,function(e){if(i.length){if(Ht(),n.css({width:"100%",height:"100%",zIndex:Xut.zIndexlevel(),top:0,left:0}),0==e.full){var o=document.body,r=parseInt(o.clientWidth),a=parseInt(o.clientHeight),s=t.width/t.height,l=function(t,e,n){var i=t,o=t/n;return o>e&&(o=e,i=o*n),{w:parseInt(i),h:parseInt(o)}},c=l(r,a,s),u=(r-c.w)/2,h=(a-c.h)/2;i.css({width:c.w,height:c.h,position:"absolute",top:h,left:u})}Xut.View.Toolbar("hide")}},"*"),PMS.bind("onReset"+e,function(){i.length&&(n.css({zIndex:t.zIndex,width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px"}),i.css({width:"100%",height:"100%",position:"",top:"0",left:"0"}),Xut.View.Toolbar("show"))},"*"),PMS.bind("onShowToolbar"+e,function(){},"*"),PMS.bind("onHideToolbar"+e,function(){Xut.View.HideToolBar()},"*"),PMS.bind("scrollToPage"+e,function(t){Xut.View.GotoSlide(t.ppts,t.pageIndex)},"*")}},{key:"_start",value:function(){var t=this;this._domWapper(),PMS.send({target:this._$iframe.contentWindow,url:this._$iframe.src,origin:"*",type:"onShow",success:function(){}}),setTimeout(function(){t.state=!0},0)}},{key:"_stop",value:function(){var t=this;this._domWapper(),PMS.send({target:this._$iframe.contentWindow,url:this._$iframe.src,origin:"*",type:"onHide",success:function(){}}),setTimeout(function(){t.state=!1},0)}},{key:"_domWapper",value:function(){this.state?this._$wapper.hide():this._$wapper.show()}},{key:"stop",value:function(){this._stop()}},{key:"toggle",value:function(){this.state?this._stop():this._start()}},{key:"destroy",value:function(){var t=this;PMS.send({target:this._$iframe.contentWindow,url:this._$iframe.src,origin:"*",type:"onDestory",success:function(){}}),PMS.unbind(),setTimeout(function(){t._$iframe=null,t._$wapper.remove(),t._$wapper=null},0)}}]),t}(),pl=Math.floor,fl=Math.ceil,vl=function(t){var e=ir.containerObj("current");e.vm.$injectionComponent=t},gl=function(t,e,n){vl({pageType:e.pageType,pageIndex:e.pageIndex,widget:new n(e)})},ml={iframe:function(t){gl("widget",t,dl)},widget:function(t){gl("widget",t,dl)},js:function(t){gl("js",t,hl)},page:function(t){gl("page",t,hl)},svg:function(t){gl("svg",t,hl)},canvas:function(t){gl("canvas",t,hl)},webgL:function(t){gl("webgL",t,hl)}},yl=function(t){return t.widgetId?_.extend(t,Xut.data.query("Widget",t.widgetId)):_.extend(t,Xut.data.query("Widget",t.activityId,"activityId")),t},_l=function(t){var t=_.extend({},t),e=Li.proportion;return t.width=fl(t.width*e.width),t.height=fl(t.height*e.height),t.top=pl(t.top*e.top),t.left=pl(t.left*e.left),t},bl=function(t){return t=yl(t),_l(t)},xl=function(t){var e,n;return(e=t.inputPara)&&(n=p(e)),n},wl={createDom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t._id,n=t.md5,i=t.autoPlay,o=t.actType,r=t.scaleWidth,a=t.scaleHeight,s=t.scaleTop,l=t.scaleLeft,c=(arguments[1],arguments[2],arguments[3],arguments[4]),u=arguments[5],h="";if(i)return"";n&&(h="background-image: url("+Xut.config.pathAddress+n+");");var d=o+"_"+e,p='<div id="'+d+'"\n                  data-belong="'+u+'"\n                  data-delegate="'+o+'"\n                  style="cursor:pointer;\n                         background-size:100% 100%;\n                         position:absolute;\n                         width:'+r+"px;\n                         height:"+a+"px;\n                         left:"+l+"px;\n                         top:"+s+"px;\n                         z-index:"+c+";\n                         "+h+'">\n            </div>';return String.styleFormat(p)},autoPlay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.rootNode,i=t.pageType,o=t.pageIndex;Ge({rootNode:n,pageType:i,pageIndex:o,activityId:e,isAutoPlay:!0})},trigger:function(t){return Ge(t)}},kl=function(){function t(e){Eo(this,t),e.id=parseInt(e.id),e.actType=e.type,_.extend(this,e),this.setup()}return Io(t,[{key:"setup",value:function(){var t=this,e=this.data.note,n=Xut.config.proportion,i=Math.round((n.width+n.height)/2*Xut.config.iconHeight),o=Math.round(i/2),r='<div class="xut-shownote-box" style="z-index:'+Xut.zIndexlevel()+'"><div class="close" style="width:'+i+"px;height:"+i+"px;top:-"+o+"px;right:-"+o+'px"></div><div class="content">'+e+"</div></div>";return this._dom=$(r),this._dom.find(".close").on("touchend mouseup",function(){t.toggle()}),$(this.rootNode).append(this._dom),this.show(),this.iscroll=new iScroll(this._dom.find(".content")[0],{scrollbars:!0,fadeScrollbars:!0}),!0}},{key:"toggle",value:function(){this.isAutoPlay||(this.state?this.hide():this.show())}},{key:"stop",value:function(){return!!this.state&&(this.toggle(),!0)}},{key:"hide",value:function(){this.state=!1,$("#ShowNote_"+this.id).css("background-image","url(images/icons/hideNote.png)"),this._dom.hide()}},{key:"show",value:function(){this.state=!0,$("#ShowNote_"+this.id).css("background-image","url(images/icons/showNote.png)"),this._dom.show()}},{key:"destroy",value:function(){this._dom&&(this._dom.find(".close").off(),this._dom&&this._dom.hide().remove()),this.iscroll&&(this.iscroll.destroy(),this.iscroll=null)}}]),t}(),Tl={createDom:function(t,e,n,i,o,r){var a=t._id,s=t.scaleWidth,l=t.scaleHeight,c=(s+l)/2*Li.iconHeight,u='<div id="ShowNote_'+a+'"\n                      class="xut-showNote"\n                      data-belong ="'+r+'"\n                      data-delegate="shownote"\n                      style="width:'+c+"px;height:"+c+'px">\n                 </div>';return String.styleFormat(u)},trigger:function(t){t.data=Xut.Presentation.GetPageData(t.pageIndex),new kl(t)},autoPlay:function(){},destroy:function(t){this&&this.destroy()}},Cl={Video:al,Audio:al,Webpage:al,Action:ol,Widget:wl,ShowNote:Tl};We.prototype={clearReference:function(){this.$containsNode=null},create:function(t){function e(t,e){l.push(Cl[t].createDom(e,r,a,s,Xut.zIndexlevel(),i))}var n,i=t.pageType,o=t.activitys,r=t.chpaterData,a=t.chapterId,s=t.pid,l=(t.virtualOffset,[]);return o.forEach(function(t,i){switch(n=t.actType||t.animation,!n&&t.note&&(t.actType=n="ShowNote"),n){case"ShowNote":case"Action":case"Widget":case"Audio":case"Video":t=O(t),e(n,t)}}),l.join("")},compileSuspend:function(t){var e,n,i=this;e=function(){Xut.nextTick({container:i.$containsNode,content:$(t)},function(){i.clearReference(),i.callback.successCallback()})},n=function(){i.suspendQueues=[],i.suspendQueues.push(function(){e()})},i.callback.suspendCallback(e,n)},runSuspendTasks:function(){if(this.suspendQueues){var t;(t=this.suspendQueues.pop())&&t(),this.suspendQueues=null}}};var Sl=Xut.style.transitionDuration,Pl=Xut.style.transform,El=Xut.style.translateZ,Il=function(t,e,n,i){t&&Xut.nextTick(function(){t.style[Pl]="translate("+e+"px,0px) "+El,t.style[Sl]=n+"ms",i&&i()})},Al=function(t,e){t&&(t.style[Pl]="translate("+e+"px,0px) "+El)},Ol=function(t){t&&(t.style[Pl]="translate(0px,0px) "+El,t.style[Sl]="")},Ml=function(){Il.apply(void 0,arguments)},Nl=function(){Il.apply(void 0,arguments)},jl=function(){Il.apply(void 0,arguments)},Rl={set:Al,reset:Ol,flipMove:Ml,flipRebound:Nl,flipOver:jl},Dl=function(t){return"translate("+t+"px,0px)"+El},Fl=function(t,e,n){var i=void 0,o=void 0;switch(t){case"prev":i=e-1,o=n;break;case"next":i=n+1,o=e}return{createPointer:i,destroyPointer:o}},Ll=function(t,e){var n=0,i={};return t===n?(i.currIndex=t,i.rightIndex=t+1):t===e-1?(i.currIndex=t,i.leftIndex=t-1):(i.leftIndex=t-1,i.currIndex=t,i.rightIndex=t+1),i},Xl=function(t){var e;return e=t.touches&&t.touches[0]?t.touches[0]:t},Bl=function(t,e,n){var i,o,r,a,s,l=0,c=[],u=[];for(i=0===t?[t,t+1]:t===n-1?[t-1,t]:[t-1,t,t+1],o=0===e?[e,e+1]:e===n-1?[e-1,e]:[e-1,e,e+1];l<o.length;l++)r=o[l],-1===i.indexOf(r)?u.push(r):c.push(r);return _.each(c,function(t){i.splice(i.indexOf(t),1)}),a=i,s=[].concat(u).concat(c).sort(function(t,e){return t-e}),{create:u,ruleOut:c,destroy:a,viewFlip:s,targetIndex:e,currIndex:t}},Hl=600,$l={min:0,mix:500},zl=function(){return+new Date},Gl=Xut.style.transitionDuration,Wl="data-viewlinear",Yl=function(t){function e(t){var n=t.flipWidth,i=t.initIndex,o=t.container,r=t.flipMode,a=t.pagetotal,s=t.multiplePages,l=t.stopPropagation,c=void 0!==l&&l,u=t.preventDefault,h=t.linear,d=void 0!==h&&h,p=t.borderBounce,f=void 0!==p&&p,v=t.extraGap,g=void 0===v?0:v,m=t.sectionRang;Eo(this,e);var y=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(y.options={stopPropagation:c,preventDefault:!u||u,linear:d,borderBounce:f,flipMode:r,multiplePages:s,sectionRang:m},y._hindex=i,y.pagetotal=a,y.container=o,y._viewWidth=n||Li.viewSize.width,y._pageTime=y.options.flipMode?$l.min:$l.mix,y._speedRate=y._originalRate=y._pageTime/y._viewWidth,y._isMoving=!1,y.pagePointer=Ll(i,a),d)o.setAttribute(Wl,!0),y._initDistance=-y._hindex*(y._viewWidth+g),o.style[Xut.style.transform]="translate("+y._initDistance+"px,0px)"+Xut.style.translateZ,o.style.width=y._viewWidth*y.pagetotal+"px";else{var _=o.querySelectorAll("ul");y._bubbleNode={page:_[0],master:_[1]}}return y._initEvents(),y}return Ao(e,t),Io(e,[{key:"_initEvents",value:function(){var t={start:this,end:this,cancel:this};this.options.flipMode||this.options.multiplePages&&(t.move=this,t.transitionend=this),m(this.container,t)}},{key:"_onStart",value:function(t){if(!(this._fliplock||t.touches&&t.touches.length>1)){var e=zl();if(!(this._clickTime&&e-this._clickTime<350)){this._clickTime=e;var n=void 0,i=Xl(t);if(!i)return n=this._preventSwipe=!0;this.$emit("onFilter",function(){n=!0},i,t),n||(this._deltaX=0,this._deltaY=0,this._preventSwipe=!1,this._isBounce=!1,this._isRollX=!1,this._isRollY=!1,this._isTap=!0,this._start={pageX:i.pageX,pageY:i.pageY,time:zl()})}}}},{key:"_onMove",value:function(t){if(!this._fliplock&&this._isTap&&!this._isRollY&&!this._preventSwipe){this._isMoving=!0;var e=Xl(t),n=e.pageX-this._start.pageX,i=e.pageY-this._start.pageY,o=Math.abs(n),r=Math.abs(i);if(!this._isRollY&&r>o)return void(this._isRollY=!0);if(this.options.borderBounce||!(this._isBounce=this._borderBounce(n))){this._deltaX=n/(!this._hindex&&n>0||this._hindex==this.pagetotal-1&&n<0?o/this._viewWidth+1:1),!this._isRollX&&this._deltaX&&(this._isRollX=!0),this.direction=this._deltaX>0?"prev":"next";var a=20;o<=a||(this._deltaX>0&&(a=-a),this._distributeMove({pageIndex:this._hindex,distance:this._deltaX+a,speed:0,direction:this.direction,action:"flipMove"}))}}}},{key:"_onEnd",value:function(t){if(!(this._fliplock||t.touches&&t.touches.length>1||(this._isTap=!1,this._isMoving=!1,this._isBounce||this._preventSwipe))){if(!this._isRollX&&!this._isRollY){var e=!1;if(this.$emit("onTap",this._hindex,function(){return e=!0},t),e)return}if(this._isRollX){var n=zl()-this._start.time,i=Math.abs(this._deltaX),o=!this.options.linear&&(!this._hindex&&this._deltaX>0||this._hindex==this.pagetotal-1&&this._deltaX<0),r=Number(n)<200&&Math.abs(i)>30||Math.abs(i)>this._viewWidth/6;r&&!o?this._slideTo(this._deltaX<0?"next":"prev"):this._setRebound(this._hindex,this._deltaX>0?"prev":"next")}}}},{key:"_borderBounce",value:function(t){return 0===this._hindex&&t>0||(this._hindex===this.pagetotal-1&&t<0||void 0)}},{key:"_setRebound",value:function(t,e){this._distributeMove({pageIndex:t,direction:e,distance:0,speed:300,action:"flipRebound"})}},{key:"_distributeMove",value:function(t){var e=this.pagePointer;t.leftIndex=e.leftIndex,t.rightIndex=e.rightIndex,this.$emit("onMove",t)}},{key:"_isBorder",value:function(t){var e=void 0,n=this.pagePointer,i=Object.keys(n).length;switch(t){case"prev":e=0===n.currIndex&&2===i;break;case"next":e=n.currIndex===this.pagetotal-1&&2===i}return e}},{key:"_resetRate",value:function(){this._speedRate=this._originalRate,this._isQuickTurn=!1}},{key:"_setRate",value:function(){this._speedRate=50/this._viewWidth,this._isQuickTurn=!0}},{key:"_quickTurn",value:function(){var t=zl();this._preTapTime&&t-this._preTapTime<Hl&&this._setRate(),this._preTapTime=zl()}},{key:"_lock",value:function(){this._fliplock=!0}},{key:"_fixHindex",value:function(t){this._hindex=t}},{key:"_updataPointer",value:function(t,e,n){if(3===arguments.length)return void(this.pagePointer={leftIndex:t,currIndex:e,rightIndex:n});if(1===arguments.length){var i=t,o=i.viewFlip;return this._fixHindex(i.targetIndex),3===o.length&&this._updataPointer(o[0],o[1],o[2]),void(2===o.length&&(0===o[0]?(this.pagePointer.rightIndex=o[1],this.pagePointer.currIndex=o[0],delete this.pagePointer.leftIndex):(this.pagePointer.leftIndex=o[0],this.pagePointer.currIndex=o[1],delete this.pagePointer.rightIndex)))}}},{key:"_updateActionPointer",value:function(t){var e=Fl(this.direction,t.leftIndex,t.rightIndex),n=e.createPointer,i=t.currIndex;switch(this.direction){case"prev":-1<n&&this._updataPointer(n,t.leftIndex,t.currIndex),-1===n&&(this.pagePointer.rightIndex=t.currIndex,this.pagePointer.currIndex=t.leftIndex,delete this.pagePointer.leftIndex);break;case"next":this.pagetotal>n&&this._updataPointer(t.currIndex,t.rightIndex,n),this.pagetotal===n&&(this.pagePointer.leftIndex=t.currIndex,this.pagePointer.currIndex=t.rightIndex,delete this.pagePointer.rightIndex)}this.pagePointer.createPointer=n,this.pagePointer.destroyPointer=e.destroyPointer,this.pagePointer.stopPointer=i}},{key:"_slideTo",value:function(t){var e=this;if(!this._fliplock&&(this.options.linear||!this._isBorder(t))){this._lock(),this.direction=t,this._quickTurn();var n=function(){return(e._viewWidth-Math.abs(e._deltaX))*e._speedRate||e._pageTime};this._distributeMove({pageIndex:this._hindex,speed:n(),distance:0,direction:this.direction,action:"flipOver"}),setTimeout(function(){e._updateActionPointer(e.pagePointer),e.$emit("onUpSlider",e.pagePointer),e._fixHindex(e.pagePointer.currIndex)})}}},{key:"_onAnimComplete",value:function(t){var e=t.target,n=e.getAttribute("data-pageType"),i=e.getAttribute("data-view"),o=e.getAttribute(Wl);return e&&(e.style[Gl]=""),o&&!i?void this._distributed(e,i):i?void this._distributed(e,i):void(n||this.$emit("onMasterMove",this._hindex,e))}},{key:"_restore",value:function(t,e){this._isMoving=!1,this._preventSwipe=!0,this._isTap=!1,this._resetRate(),e&&t.removeAttribute("data-view","false")}},{key:"_distributed",value:function(){var t=this;this._restore.apply(this,arguments),setTimeout(function(){t.$emit("onComplete",t.direction,t.pagePointer,t._unlock.bind(t),t._isQuickTurn)},50)}},{key:"_unlock",value:function(){this._fliplock=!1}},{key:"_off",value:function(){y(this.container,{start:this,move:this,end:this,cancel:this,transitionend:this})}},{key:"handleEvent",value:function(t){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),b({start:function(t){this._onStart(t)},move:function(t){this._onMove(t)},end:function(t){this._onEnd(t)},transitionend:function(t){this._onAnimComplete(t)}},this,t)}}]),e}(lr);Ue(Yl);var Ul=function(t){var e=Xut.Presentation.GetPageObj(t);return e&&e.isFlows},Vl=function(){var t=h();return t.$$checkFlows=Ul,t},ql={view:function(){var t=Li.screenSize.width,e=Li.screenSize.height,n=0,i=0;return 2===Li.visualMode?(Li.pptVertical&&(Li.screenVertical?(t=Li.screenSize.width,e=Li.screenSize.height,n=0):(t=Li.viewSize.width,e=Li.viewSize.height,n=0)),{viewWidth:t,viewHeight:e,viewTop:n}):(3===Li.visualMode&&Li.pptVertical&&Li.screenVertical&&(Li.viewSize.overflowWidth&&(t=Li.screenSize.width),Li.viewSize.notFillWidth&&(t=Li.viewSize.width)),{viewWidth:t,viewHeight:e,viewTop:n,viewLeft:i})},translate:function(t,e){if(Li.viewSize.overflowWidth)return{left:function(t){var n=e.getStyle("middle");if(n&&n.isFlows)return-(n.viewWidth+n.offset)},middle:function(e){if(t.isFlows)return-Li.viewSize.left},right:function(t){var n=e.getStyle("middle");if(n&&n.isFlows)return n.viewWidth+n.offset}}},distance:function(){if(Li.viewSize.overflowWidth)return{flipMove:{left:function(t){var e=t.$$checkFlows(t.$$leftIndex);e&&(t.left=t.$$left+2*Math.abs(Li.viewSize.left))},right:function(t){var e=t.$$checkFlows(t.$$middleIndex);e&&(t.right=t.$$right-2*Math.abs(Li.viewSize.left))}},flipRebound:{left:function(t){var e=t.$$checkFlows(t.$$middleIndex);e&&(t.middle=Math.abs(Li.viewSize.left))},right:function(t){var e=t.$$checkFlows(t.$$middleIndex);e&&(t.middle=Math.abs(Li.viewSize.left))}},flipOver:{left:function(t){var e=t.$$checkFlows(t.$$leftIndex);e&&(t.left=-Li.viewSize.left)},right:function(t){var e=t.$$checkFlows(t.$$rightIndex);e&&(t.right=Math.abs(Li.viewSize.left))}}}}},Kl={},Jl="flow",Zl=function(t,e){var n='<div class="page-pinch-close" style="right:'+t+"px;top:"+e+'px;">\n           <div class="si-icon icomoon icon-close" style="font-size:4vh;background:white;border-radius:4vh;width:4vh;height:4vh;position:absolute;right:0;"></div>\n        </div>';return $(String.styleFormat(n))},Ql=Xut.style.transform,tc=Xut.style.transitionDuration,ec=Xut.style.translateZ,nc=0,ic=0,oc=function(){function t(e){var n=e.$pagePinch,i=e.hasButton,o=void 0===i||i,r=e.update,a=e.doubletap;Eo(this,t),this.update=r,this.doubletap=a,this.hasButton=o,this.$pinchNode=n,this.pinchNode=n[0],this._offsetWidth=this.pinchNode.offsetWidth,this._offsetHeight=this.pinchNode.offsetHeight,this._initState(),this._initEvent()}return Io(t,[{key:"_initState",value:function(){this.overflowValue=.3,this.scaleing=!1,this.lastScale=1,this.ticking=!1,this.currentX=nc,this.currentY=ic,this.data={translate:{x:nc,y:ic},scale:1},this._buttonHide()}},{key:"_initEvent",value:function(){var t=this;this.hammer=new Hammer.Manager(this.pinchNode),this.hammer.add(new Hammer.Pan({threshold:0,pointers:0,enable:!1})),this.hammer.add(new Hammer.Pinch({threshold:0})).recognizeWith(this.hammer.get("pan")),this.hammer.add(new Hammer.Tap({event:"doubletap",taps:2,posThreshold:30})),this.hammer.add(new Hammer.Tap),_.each({doubletap:"_onDoubletap",pinchstart:"_onPinchStart",pinchmove:"_onPinchMove",pinchend:"_onPinchEnd","panstart panmove":"_onPan",panend:"_onPanEnd",pinchcancel:"_onPinchEnd"},function(e,n){t.hammer.on(n,function(n){n.preventDefault(),n.srcEvent.stopPropagation(),t[e](n)})})}},{key:"_onDoubletap",value:function(){this.doubletap?this.doubletap():this._reset()}},{key:"_onPinchStart",value:function(t){this.lastScale=this.data.scale||1}},{key:"_onPinchMove",value:function(t){if(!this.scaleing){if(t.scale<this.overflowValue+1)return;this.scaleing=!0}var e=t.scale-this.overflowValue;this.data.scale=this.lastScale*e,this._buttonShow(),this._isBoundry(),this._updateNodeStyle()}},{key:"_onPinchEnd",value:function(t){var e=this;this.data.scale<=1?Xut.nextTick(function(){e._initState(),e._updateNodeStyle(500)}):this.overflowValue=0}},{key:"_onPan",value:function(t){this._isRunning&&(this.currentX!=nc||this.currentY!=ic?this.data.translate={x:this.currentX+t.deltaX,y:this.currentY+t.deltaY}:this.data.translate={x:nc+t.deltaX,y:ic+t.deltaY},this._isBoundry(),this._updateNodeStyle())}},{key:"_onPanEnd",value:function(){this.currentX=this.data.translate.x,this.currentY=this.data.translate.y}},{key:"_isBoundry",value:function(){if(this._isRunning){var t=(this.data.scale-1)/2*this._offsetWidth,e=(this.data.scale-1)/2*this._offsetHeight;this.data.translate.x>=t&&(this.data.translate.x=t),this.data.translate.x<=-t&&(this.data.translate.x=-t),this.data.translate.y>=e&&(this.data.translate.y=e),this.data.translate.y<=-e&&(this.data.translate.y=-e)}else this.data.scale=1,this.data.translate.x=nc,this.data.translate.y=ic}},{key:"_updateNodeStyle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.ticking||(Xut.nextTick(function(){var n=t.data,i="translate("+n.translate.x+"px,"+n.translate.y+"px) "+ec+"\n            scale("+n.scale+","+n.scale+")";t.pinchNode.style[Ql]=i,t.pinchNode.style[tc]=e+"ms",t.update&&t.update(i,e),t.ticking=!1}),this.ticking=!0)}},{key:"_reset",value:function(){this._initState(),this._updateNodeStyle(500)}},{key:"_createPinchButton",value:function(){var t=this,e=Li.viewSize,n=e.overflowWidth&&Math.abs(e.left)||0,i=e.overflowHeight&&Math.abs(e.top)||0,o=tn(function(){t._reset()},n,i);return this.$pinchNode.after(o),o}},{key:"_buttonShow",value:function(){var t=this;this._isRunning||this.data.scale>1&&(this.hasButton&&(this.$buttonNode?Xut.nextTick(function(){t.$buttonNode.show()}):this.$buttonNode=this._createPinchButton()),Xut.Application.Bansliding(),this._isRunning=!0,this.hammer.get("pan").set({enable:!0}))}},{key:"_buttonHide",value:function(){this._isRunning&&(this.hasButton&&this.$buttonNode.hide(),this._isRunning=!1,Xut.Application.Allowliding(),this.hammer.get("pan").set({enable:!1}))}},{key:"destroy",value:function(){this.hammer.destroy(),this.$buttonNode&&this.$buttonNode.off()}}]),t}(),rc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.pageIndex,i=e.$pinchNode,o=e.seasonId,r=e.chapterId,a=e.successCallback;Eo(this,t);var s=this,l=$("#chapter-flow-"+r);this.initIndex=n,this.$pinchNode=i,Ve({$pinchNode:i,dataNode:l,chapterId:r,callback:function(t){s._init(t,o,r),a()}})}return Io(t,[{key:"_setImage",value:function(t,e,n,i,o){var r=this,a=n<i,s=Li.screenSize.width,l=Li.screenSize.height,c=void 0,u=0,h=0,d=function(){c=s/n,n=s,i*=c,u=(l-i)/2},p=function(){c=l/i,i=l,n*=c,h=(s-n)/2};a?Li.screenVertical?d():p():d();var f='<div class="page-pinch-image">\n                    <div style="width:'+n+"px;\n                                height:"+i+"px;\n                                top:"+u+"px;\n                                left:"+h+"px;\n                                background-image:url("+o+');">\n                    </div>\n             </div>',v=$(String.styleFormat(f));this.$pinchNode.after(v),this.swipe.bansliding(),Xut.Application.Bansliding(),Xut.View.HideToolBar("pageNumber");var g=void 0,m=function(){e=null,g&&g.destroy(),v.remove(),t.style.visibility="",r._destroyZoomImage=null,r.swipe.allowliding(),Xut.Application.Allowliding(),Xut.View.ShowToolBar("pageNumber")};Xut.plat.hasTouch&&Li.saleMode&&(g=new oc({hasButton:!1,$pagePinch:v.children(),doubletap:m}));var y=tn(function(){return m()});t.style.visibility="hidden",v.append(y)}},{key:"_zoomImage",value:function(t){var e=this,n=Xut.config.pathAddress+t.src.match(/\w+.(jpg|png)/gi),i=new Image;i.src=n,i.onload=function(){e._setImage(t,i,i.width,i.height,n)},i.onerror=function(){i=null}}},{key:"_init",value:function(t,e,n){var i=this,o=Y(e,n),r=Ke(),a=0,s=o-1,l=r.viewWidth,c=(r.viewLeft,Li.viewSize.left),u=Xut.View,h=this.initIndex,d=t[0],p=this.swipe=new Yl({flipWidth:l,borderBounce:!0,linear:!0,initIndex:Xut.Presentation.GetPageIndex()>h?s:a,container:d,flipMode:0,multiplePages:1,stopPropagation:!0,pagetotal:o}),f=0,v=p.getInitDistance();p.$watch("onTap",function(t,e,n){var o=n.target;o&&"img"===o.nodeName.toLowerCase()&&i._zoomImage(o),Xut.Contents.Canvas.getIsTap()||u.Toolbar()}),p.$watch("onMove",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=t.speed,i=t.distance,o=(t.leftIndex,t.pageIndex,t.rightIndex,t.direction);if(this._hindex===a&&"prev"===this.direction)"flipOver"===e?(u.GotoPrevSlide(),this.simulationComplete()):(Li.viewSize.overflowWidth&&(i-=c),u.MovePage(i,n,this.direction,e));else if(this._hindex===s&&"next"===this.direction)"flipOver"===e?(u.GotoNextSlide(),this.simulationComplete()):(Li.viewSize.overflowWidth&&(i-=c),u.MovePage(i,n,this.direction,e));else{var r=void 0;Li.viewSize.overflowWidth&&(r={flipOver:{left:function(t){t.middle=l},right:function(t){t.middle=-l}}});var g=qe({action:e,distance:i,direction:o},r)[1];switch(f=g,o){case"next":f+=v;break;case"prev":f+=v}"flipRebound"===e&&(f="next"===o?-l*this._hindex-this._hindex:-(l*this._hindex+this._hindex)),"flipOver"===e&&Xut.View.PageUpdate({parentIndex:h,sonIndex:p.getHindex()+1,hasSon:!0,direction:o}),Rl[e](d,f,n)}}),p.$watch("onComplete",function(t,e,n,i){v=f,n()})}},{key:"destroy",value:function(){this.swipe&&this.swipe.destroy()}}]),t}(),ac=function(t,e){var n=t.parameter;if(n)try{n=JSON.parse(n),n&&(n.contentMode&&1==n.contentMode&&(Xut.config.onlyDomMode||(e.canvasRelated.enable=!0)),n.lastPage&&"page"===e.pageType&&(e.runLastPageAction=function(){var t=Number(Xut.config.delayTime),e=void 0;return t&&(e=setTimeout(function(){Xut.Application.Notify("complete")},1e3*t)),function(){e&&(clearTimeout(e),e=null)}}))}catch(i){console.log("JSON错误,chpterId为",e.chapterId,n)}},sc={Container:function(t,e){pt.call(e,[e.pid],function(){var n=e.baseData();ac(n,e),ft(e,n,t)})},Flow:function(t,e){en(e,t)},Background:function(t,e){if(!e.checkInstanceTasks("background")){var n=e.baseData(e.pid),i=function(t,n){e.nextTasks({taskName:"内部background",outSuspendTasks:n,outNextTasks:t})},o=function(){t()};e.createRelated.cacheTasks.background=new Or({data:n,$containsNode:e.getContainsNode(),suspendCallback:i,successCallback:o})}},Components:function(t,e){if(!e.checkInstanceTasks("components")){var n=e.chapterData,i=e.baseData(),o=function(t,n){e.nextTasks({taskName:"内部widgets",outSuspendTasks:n,outNextTasks:t})},r=function(){t()};e.createRelated.cacheTasks.components=new We({$containsNode:e.getContainsNode(),nodes:n.nodes,pageOffset:n.pageOffset,activitys:e.baseActivits(),chpaterData:i,chapterId:i._id,pid:e.pid,pageType:e.pageType,virtualOffset:e.virtualOffset},o,r)}},Contents:function(t,e){if(Xut.data.preventContent)return t();if(!e.checkInstanceTasks("contents")){var n=e.chapterData,i=e.baseData(),o=i._id,r=e.baseActivits(),a=_.extend({},{suspend:function(t,n,i){var o;e.isAutoRun&&"strAfter"===t&&(o=!0),e.nextTasks({interrupt:o,taskName:"内部contents",outSuspendTasks:i,outNextTasks:n})},success:function(){t()}},e.listenerHooks);e.createRelated.cacheTasks.contents=new Ks({canvasRelated:e.canvasRelated,rootNode:e.rootNode,$containsNode:e.getContainsNode(),pageType:e.pageType,nodes:n.nodes,pageOffset:n.pageOffset,activitys:r,chpaterData:i,chapterId:o,pageIndex:e.pageIndex,pid:e.pid,pageBaseHooks:a,virtualOffset:e.virtualOffset,getStyle:e.getStyle})}}},lc=function(){},cc=Xut.style.transform,uc=Xut.style.transitionDuration,hc=function(t){function e(){Eo(this,e);var t=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.enable=!1,t.onlyCompSprite=!1,t.failCid=[],t.cid=[],t.pptId=[],t.spiritId=[],t.widgetId=[],t.compSpriteId=[],t.containerIndex=1,t.collections={},t}return Ao(e,t),e}(lr),dc=Xut.style.transitionDuration,pc=Xut.style.transform,fc=Xut.style.setTranslateZ,vc=function(t){return void 0!=t},gc=function(t,e,n,i,o,r,a){var s=e.translate,l=e.offsetTranslate,c=void 0;"prev"===n&&(c=e.nodeProportion,r=r==c?0:c);var u=un(s,a,r);switch(i){case"flipMove":u=hn(u,l);break;case"flipRebound":u=pn(u,l);break;case"flipOver":"prev"===n&&(u=dn(u,l)),fn(u,l)}vn(t,o,u,l.opacityStart||0)},mc=function Qu(t){Eo(this,Qu),this.initState(t);
},yc=mc.prototype;an(yc),sn(yc),ln(yc),cn(yc),gn(yc);var _c=function(t,e){var n=t.chapterData[e];n&&I(n,e)},bc=function(t){function e(t){Eo(this,e);var n=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.pageType="page",n.pagesNode=t.options.rootPage,n.abstractCreateCollection(),n}return Ao(e,t),Io(e,[{key:"create",value:function(t,e){var n=new mc(_.extend(t,{pageType:this.pageType,rootNode:this.pagesNode}));return this.abstractAddCollection(e,n),n}},{key:"move",value:function(t){var e=(t.nodes,t.speed),n=t.action,i=t.moveDist,o=t.leftIndex,r=t.currIndex,a=t.rightIndex;t.direction;this.swipe?this.swipe.move(n,e,r,i):_.each([this.abstractGetPageObj(o),this.abstractGetPageObj(r),this.abstractGetPageObj(a)],function(t,o){if(t){var r=i[o];t.toMove(n,r,e,i[3])}})}},{key:"suspend",value:function(t){var e=t.stopPointer,n=this.abstractGetPageObj(e),i=n.baseGetPageId(e);_c(n,"postCode"),this.$$suspendInnerCreateTasks(t),n.destroyPageAction(),De(n,i)}},{key:"resetOriginal",value:function(t){var e,n;(e=this.abstractGetPageObj(t))&&((n=e.floatContents.PageContainer)&&n.css({zIndex:2e3,overflow:"hidden"}),Fe(e))}},{key:"autoRun",value:function(t){var e=this,n=function(n){var i;i=t.isQuickTurn||!t.direction?[t.prevIndex,t.nextIndex]:t.createPointer||t.nextIndex||t.prevIndex,e._checkPreforkTasks(i,n)},i=function(t,e){function i(){e.processComplete(),n()}function o(){je(t,e.currIndex,i)}var r=t.getContainsNode();return r?void(e.suspendCallback?e.suspendCallback(o):o()):i()};this._checkTaskCompleted(t.currIndex,function(o){o.createPageAction();var r;(r=o.floatContents.PageContainer)&&r.css({zIndex:2001,overflow:""}),Xut.style.noMaskBoxImage&&_n(),t.buildComplete(o.scenarioId),_c(o,"preCode"),e.resetOriginal(t.suspendIndex),n("background"),i(o,t)})}},{key:"clearPage",value:function(t){var e=this.abstractGetPageObj(t);e&&(e.baseDestroy(),this.abstractRemoveCollection(t))}},{key:"destroy",value:function(){var t=Xut.Presentation.GetPageId(Xut.Presentation.GetPageIndex());Bt(t),this.abstractDestroyCollection(),this.pagesNode=null}},{key:"$$suspendInnerCreateTasks",value:function(t){var e,n=this;[t.leftIndex,t.currIndex,t.rightIndex].forEach(function(t){(e=n.abstractGetPageObj(t))&&e.setTaskSuspend()})}},{key:"_checkTaskCompleted",value:function(t,e){var n,i=this;(n=i.abstractGetPageObj(t))&&n.checkThreadTask(function(){e(n)})}},{key:"_checkPreforkTasks",value:function(t,e){var n,i;for(t.length||(t=[t]),i=t.length;i--;)(n=this.abstractGetPageObj(t[i]))&&n.createPreforkTasks(function(){},e)}}]),e}(cr),xc=function(t){var e=[];if(!t.length){for(var n in t)e.push(t[n]);t=e}return t},wc="-",kc=Xut.style.transitionDuration,Tc=Xut.style.transform,Cc=Xut.style.translateZ,Sc=function(t){function e(t){Eo(this,e);var n=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.viewWidth=Li.viewSize.width,n.viewHeight=Li.viewSize.height,n.pageType="master",n.rootNode=t.options.rootMaster,n.recordMasterscope={},n.recordMasterId={},n.currMasterId=null,n.parallaxProcessedContetns={},n.abstractCreateCollection(),n}return Ao(e,t),Io(e,[{key:"register",value:function(t,e,n){var i=this.abstractGetPageObj(this._conversionMasterId(t));i&&i.registerCotents.apply(i,arguments)}},{key:"create",value:function(t,e,n){var i,o,r,a=t.chapterData.pptMaster,s=t.chapterData.pageOffset;if(o=s&&s.split(wc),r=o&&3===o.length?a+wc+o[2]:a,!this._checkRepeat(r,s,e))return n(),i=new mc(_.extend(t,{pageType:this.pageType,rootNode:this.rootNode,pptMaster:a})),this.abstractAddCollection(r,i),i}},{key:"move",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.nodes,i=e.speed,o=e.action,r=e.moveDist,a=e.leftIndex,s=e.currIndex,l=e.rightIndex,c=e.direction,u=!1,h=this._findMaster(a,s,l,c,o);if(_.each(h,function(t,e){if(t){u=!0;var n=r[e];t.toMove(o,n,i,r[3])}}),this.isBoundary=u,!u){var d=function(e){t._moveParallaxs(s,o,c,r,i,e,t.parallaxProcessedContetns)};switch(c){case"prev":d();break;case"next":n&&d(n)}}}},{key:"suspend",value:function(t){if(this.isBoundary){var e,n=t.stopPointer;if(e=this.abstractGetPageObj(n)){var i=e.baseGetPageId(n);De(e,i)}}}},{key:"resetOriginal",value:function(t){var e;(e=this.abstractGetPageObj(t))&&Fe(e)}},{key:"autoRun",value:function(t){var e;(e=this.abstractGetPageObj(t.currIndex))&&(this.resetOriginal(t.suspendIndex),je(e,t.currIndex))}},{key:"reactivation",value:function(t){if(this.parallaxProcessedContetns){var e=t.id,n=this.parallaxProcessedContetns[e];n&&(n.runAnimations(),n.parallaxProcessed=!1,t.removeAttribute("data-parallaxProcessed"),delete this.parallaxProcessedContetns[e])}}},{key:"makeJumpPocesss",value:function(t){var e,n=this;return{pre:function(){var i=t.targetIndex,o=n._conversionMasterId(i);e=n._scanBounds(i,o),n._checkClear(e,!0),n.currMasterId=o},clean:function(t,i){n._fixPosition(e),n._checkParallaxPox(t,i)}}}},{key:"destroy",value:function(){this.rootNode=null,this.abstractDestroyCollection()}},{key:"_findMaster",value:function(t,e,n,i,o){var r,a,s,l,c,u=this._conversionMasterId(t),h=this._conversionMasterId(e),d=this._conversionMasterId(n);switch(i){case"prev":(r=h!==u)&&(l=this.abstractGetPageObj(h)),u&&r&&("flipOver"===o&&this._checkClear([h,u]),s=this.abstractGetPageObj(u));break;case"next":(a=h!==d)&&(l=this.abstractGetPageObj(h)),d&&a&&("flipOver"===o&&this._checkClear([h,d]),c=this.abstractGetPageObj(d))}return[s,l,c]}},{key:"_moveParallaxs",value:function(t){var e=this._conversionMasterId(t),n=this.abstractGetPageObj(e);if(n){for(var i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];n.moveParallax.apply(n,o)}}},{key:"_scanBounds",value:function(t,e){for(var n,i,o=this._conversionMasterId(t),r={},a=t;a--;)if(n=this._conversionMasterId(a),n&&n!==e){r.prev=n;break}return i=this._conversionMasterId(t+1),i&&i!==e&&(r.next=i),o&&(r.curr=o),r}},{key:"_fixPosition",value:function(t){var e=this,n=function(t,n){var i=function(e,n){var i=t.$pageNode;i&&(i.css(kc,n+"ms"),i.css(Tc,"translate("+e+"px,0px)"+Cc))};"prev"===n?i(-e.viewWidth):"next"===n?i(e.viewWidth):"curr"===n&&i(0)};for(var i in t)switch(i){case"prev":n(this.abstractGetPageObj(t[i]),"prev");break;case"curr":n(this.abstractGetPageObj(t[i]),"curr");break;case"next":n(this.abstractGetPageObj(t[i]),"next")}}},{key:"_checkParallaxPox",value:function(t,e){var n,i,o=this.abstractGetCollection();for(n in o)i=o[n],this._fixParallaxPox(i,t,e)}},{key:"_toRepeat",value:function(t,e){var n;return!!(n=this.recordMasterscope[t])&&n}},{key:"_updataMasterscope",value:function(t,e){var n;(n=this.recordMasterscope[t])?-1===n.indexOf(e)&&n.push(e):this.recordMasterscope[t]=[e]}},{key:"_updatadParallaxMaster",value:function(t,e){this.recordMasterId[e]=t,this.currMasterId=this._conversionMasterId(Xut.Presentation.GetPageIndex())}},{key:"_checkRepeat",value:function(t,e,n){var i=this._toRepeat(t,n);return this._updataMasterscope(t,n),this._updatadParallaxMaster(t,n),i}},{key:"_fixParallaxPox",value:function(t,e,n){var i=this,o=void 0,r=function(t,e,n){var o,r=t.calculateRangePage(),a=t.$contentNode,s=t.translate,l=t.offsetTranslate,c=Xut.Presentation.GetPageNode(n-1);n>e?n>r.end&&(c=1):n<r.start&&(c=0),o=un(s,-i.viewWidth,c),vn(a,300,o,l.opacityStart),fn(o,l)};(o=t.baseGetContent())&&o.forEach(function(t){t.eachAssistContents(function(t){t.parallax&&r.call(i,t.parallax,e,n)})})}},{key:"_checkClear",value:function(t,e){var n,i=_.keys(this.abstractGetCollection());(i.length>2||e)&&(t=xc(t),_.each(t,function(t){void 0!==t&&(n=i.indexOf(t.toString()),-1!==n&&i.splice(n,1))}),this._clearMemory(i))}},{key:"_clearMemory",value:function(t){var e,n=this;_.each(t,function(t){(e=n.abstractGetPageObj(t))&&(e.baseDestroy(),n.abstractRemoveCollection(t),n._removeRecordMasterscope(t)),delete n.recordMasterscope[t]})}},{key:"_conversionMasterId",value:function(t){return this.recordMasterId?this.recordMasterId[t]:void 0}},{key:"_removeRecordMasterscope",value:function(t){var e=this,n=e.recordMasterscope[t];n.forEach(function(t){delete e.recordMasterId[t]})}}]),e}(cr),Pc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.currIndex;t.pageMgr.abstractAssistPocess(n,function(t){t.$pageNode.css({"z-index":9997})}),t.masterContext(function(){this.abstractAssistPocess(n,function(t){t.$pageNode.css({"z-index":1})})})},Ec=function(t,e,n){for(var i,o=0,r=[],a=e.create,s=e.targetIndex;o<a.length;o++)i=a[o],r.push(function(e,n){return function(i){t.createPageBase([n],e,"toPage",i,{opacity:0})}}(s,i));e.pageBaseCollect=[];var l,c,o=0,c=l=r.length;if(r&&l)for(;o<l;o++)r[o].call(t,function(t){1===c&&(r=null,setTimeout(function(){n(e)},100)),e.pageBaseCollect.push(t),c--})},Ic=function(t,e){var n=e.currIndex,i=t.pageMgr;t.suspendPageBase({stopPointer:n}),_.each(e.destroy,function(t){t!==e.currIndex&&i.clearPage(t)}),_.each(e.ruleOut,function(t){t>e.targetIndex&&i.abstractAssistAppoint(t,function(t){Ye(t.$pageNode,"nextEffect")}),t<e.targetIndex&&i.abstractAssistAppoint(t,function(t){Ye(t.$pageNode,"prevEffect")})});var o=void 0;t.masterContext(function(){o=this.makeJumpPocesss(e),o.pre()}),i.clearPage(n),o&&o.clean(e.currIndex,e.targetIndex),_.each(e.pageBaseCollect,function(t){_.each(t,function(t){t.$pageNode&&t.$pageNode.css({opacity:1})})}),e.pageBaseCollect=null,o=null},Ac=Xut.style.translateZ,Oc=function(t){return"translate("+t+"px,0px)"+Ac},Mc=function(t,e){if(e){var n=e(t);if(void 0!==n)return n}return t},Nc={view:function(){var t=Li.viewSize;return{viewWidth:t.width,viewHeight:t.height,viewTop:t.top,viewLeft:0}},translate:function th(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hooks,n=void 0===e?{}:e,i=(t.createIndex,t.currIndex,t.direction),th=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=Li.viewSize.width;switch(i){case"before":r=-l,r=Mc(r,n.left),th=Oc(r),o=r;break;case"middle":a=0,a=Mc(a,n.middle),th=Oc(a),o=a;break;case"after":s=l,s=Mc(s,n.right),th=Oc(s),o=s}return{translate:th,offset:o}}},jc=function(){function t(){Eo(this,t),this._cache=[]}return Io(t,[{key:"shift",value:function(t){this._cache.unshift(t)}},{key:"push",value:function(t){this._cache.push(t)}},{key:"shiftAll",value:function(){if(this._cache.length)for(var t=void 0;t=this._cache.shift();)t.apply(null,arguments);return this}},{key:"popAll",value:function(){if(this._cache.length)for(var t=void 0;t=this._cache.pop();)t.apply(null,arguments);return this}},{key:"destroy",value:function(){this._cache=null}}]),t}(),Rc=function(t){var e=function(e){var n=void 0,i=t[e];i.length&&i.item(0)&&(n=i.item(0)._id)&&(t[e].start=n)};for(var n in t)t[n].item&&e(n);return t},Dc=function(t){var e=void 0,n={},i=t.Video;return _.each(i,function(t,o){e=i.item(o),e&&e.activityId&&(n[e.activityId]=e._id)}),n},Fc=function(t){var e,n,i,o,r,a,s,l={},c=t.Chapter,u=c.length,h=function(e){for(var n,i=t.Season.length;i--;)if((n=t.Season.item(i))&&n._id==e)return n};for(i=0;i<u;i++)s=c.item(i),s&&(o=s._id-1,e=s.seasonId,n="seasonId->"+e,l[n]?(l[n].end=o,l[n].length=l[n].length+1):((r=h(e))&&(a=r.parameter),l[n]={start:o,length:1,end:o,toolbar:a}));return l},Lc=void 0,Xc={};"Setting,Parallax,Master,Activity,Content,Video,Image,Action,Animation,Widget,Novel,Season,Chapter".replace(/[^, ]+/g,function(t){Xc[t]="select * FROM "+t+" order by _id ASC"});var Bc=void 0,Hc=void 0,$c=void 0,zc=void 0,Gc=function(t,e){return t.map(function(t){return t-e})},Wc=function(){function t(e){Eo(this,t),this.vm=e,this.options=e.options,this.pageMgr=new bc(e),Hn()&&(this.masterMgr=new Sc(e))}return Io(t,[{key:"initCreate",value:function(){var t=this.options,e=Ln(t.initIndex,t.pagetotal,t.multiplePages);this.pagePointer=e.initPointer,this.pageMgr.swipe&&this.pageMgr.swipe.initTranslation(e.createPointer,t.initIndex),this.createPageBase(e.createPointer,t.initIndex,"init")}},{key:"createPageBase",value:function(t,e,n,i,o){if(void 0!==t[0]){var r=this,a=this.options.multiplePages,s=t.length,l="toPage"===n,c="flipOver"===n,u=Xn.call(this,t,e),d=[],p=!1,f=function(){var t=0;return function(e){++t,t===s&&e()}}(),v={init:function(){f(function(){r._loadPage("init")})},flipOver:function(){f(function(){r._autoRun({createPointer:u,createMaster:p})})},toPage:function(){f(function(){i(d)})}},g=Bn(u),m=new jc,y=h(),b=!1;_.each(g,function(t,i){m.push(function(){var h=u[i],f=Fn.call(r,h,e),g=f.visiblePid,m=f.pageIndex;1===s&&(r.options.chapterId=t._id);var _="flow"===t.note;return _&&(b=!0),l&&g!==h&&(o=void 0),y[h]={isFlows:_,pid:h,visiblePid:g,userStyle:o,direction:Dn(h,g)},function(e){var i=function(i){var r=this.create({pid:h,visiblePid:g,chapterData:t,isFlows:_,getStyle:e[h],pageIndex:m,multiplePages:a},m,i);r&&(r.startThreadTask(c,function(){v[n]()}),o&&d.push(r))};t.pptMaster&&r.masterMgr&&i.call(r.masterMgr,function(){++s,p=!0}),i.call(r.pageMgr)}}())});var x=xn({action:n,hasFlow:b,usefulData:y});m.shiftAll(x).destroy()}}},{key:"movePageBase",value:function(t){var e=this,n=t.action,i=t.speed,o=t.distance,r=t.leftIndex,a=t.pageIndex,s=t.rightIndex,l=t.direction;if(!this.options.flipMode||"flipMove"!=n){var c=a,u=qe({action:n,distance:o,direction:l,leftIndex:r,pageIndex:a,rightIndex:s},Ze()),h=this.pageMgr.abstractGetPageObj(c),d=h.chapterData,p=d&&d.nodes?d.nodes:void 0,f={nodes:p,speed:i,action:n,moveDist:u,leftIndex:r,currIndex:c,rightIndex:s,direction:l};this.pageMgr.move(f),this.masterContext(function(){this.move(f)}),"flipOver"===n&&Xut.nextTick(function(){e.vm.$emit("change:pageUpdate",{action:n,parentIndex:"next"===l?s:r,direction:l})})}}},{key:"suspendPageBase",value:function(t){this.pageMgr.suspend(t),this.masterContext(function(){this.suspend(t)}),this.vm.$emit("change:resetToolbar")}},{key:"completePageBase",value:function(t,e,n,i){this.direction=t,this.isQuickTurn=i||!1,this.unfliplock=n,this._clearPage(e.destroyPointer),this._updatePointer(e),this._advanceCreate(t,e)}},{key:"gotoPageBase",value:function(t){Xut.View.ShowBusy(),this.options.multiplePages||(t.create=[t.targetIndex],t.destroy=[t.currIndex],t.ruleOut=[t.targetIndex],t.pagePointer={currIndex:t.targetIndex}),bn(this,t,function(t){this._updatePointer(t.pagePointer),this._autoRun({action:"toPage",createPointer:t.create}),Xut.View.HideBusy()})}},{key:"masterContext",value:function(t){this.masterMgr&&t.call(this.masterMgr)}},{key:"destroyPageBase",value:function(){this.pageMgr.destroy(),this.masterContext(function(){this.destroy()})}},{key:"_autoRun",value:function(t){var e=this.options,n=this.pagePointer,i=n.leftIndex,o=n.currIndex,r=n.rightIndex,a=t?t.action:"",s=t?t.createPointer:"",l=this.direction,c="init"===a?"":"next"===l?i:r;s&&(s=Fn.call(this,s));var u={prevIndex:i,currIndex:o,nextIndex:r,suspendIndex:c,createPointer:s,direction:l,isQuickTurn:this.isQuickTurn,suspendCallback:e.suspendAutoCallback,buildComplete:function(t){if(Li.recordHistory&&!e.isInApp&&e.multiScenario){var n;(n=ir.sequence(t,o))&&To("history",n)}},processComplete:function(){}};this.pageMgr.autoRun(u),this.masterContext(function(){(a||this.isBoundary)&&this.autoRun(u)});var h=this.vm,d=function(){0==o?h.$emit("change:hidePrev"):o==e.pagetotal-1?(h.$emit("change:hideNext"),h.$emit("change:showPrev")):(h.$emit("change:showNext"),h.$emit("change:showPrev"))};switch(a){case"init":h.$emit("change:pageUpdate",{action:a,parentIndex:o,direction:l}),d.call(this);break;case"toPage":h.$emit("change:pageUpdate",{action:a,parentIndex:o,direction:l}),d.call(this)}e.multiScenario||To("pageIndex",o),this.unfliplock&&(this.unfliplock(),this.unfliplock=null),this.isQuickTurn=!1}},{key:"_clearPage",value:function(t){this.pageMgr.clearPage(t)}},{key:"_updatePointer",value:function(t){this.pagePointer=t}},{key:"_advanceCreate",value:function(t,e){var n=this,i=this.options.pagetotal,o=this.vm,r=e.createPointer,a=function(){delete e.createPointer,delete e.destroyPointer},s=function(t){return n.createPageBase([r],t,"flipOver")};if("prev"===t){if(0===e.currIndex)return this._autoRun(),2==i&&o.$emit("change:showNext"),void o.$emit("change:hidePrev");if(e.currIndex>-1)return s(e.currIndex),a(),void o.$emit("change:showNext")}if("next"===t){if(e.currIndex===i-1)return this._autoRun(),2==i&&o.$emit("change:showPrev"),void o.$emit("change:hideNext");if(r<i)return s(e.currIndex),a(),void o.$emit("change:showPrev")}a()}},{key:"_loadPage",value:function(t){var e=this,n=this,i=function(){var e=$(".xut-cover");e.length?e.animate({opacity:0},1e3,function(){e.hide().remove(),n._autoRun({action:t})}):(n._autoRun({action:t}),e=null,n=null)};this.vm.$emit("change:createComplete",function(){if(e.options.multiScenario)i();else{if(window.GLOBALIFRAME)return void i();if(Xut.Application.getAppState()){var t=Xut.Application.LaunchApp;Xut.Application.LaunchApp=function(){t(),i()}}else i()}})}}]),t}(),Yc={"data-xxtlink":function(t,e,n,i){try{var o=e.split("-");o.length>1?Xut.View.GotoSlide(o[0],o[1]):Xut.View.GotoSlide(o[0])}catch(r){console.log("跳转错误")}},"data-delegate":function(t,e,n,i){Re.apply(null,arguments)},"data-flow":function(){},"data-canvas":function(t){}},Uc=["page","master"],Vc=function(t){return function(e,n,i,o){if(void 0!==n&&-1===Uc.indexOf(n)){var r=i;i=n,o=r,n="page"}if(-1!==Uc.indexOf(i)&&(n=i,i=null),n=n||"page",t[n])return e(t[n],n,i,o)}},qc=function(t){return function(e){return void 0==e&&(e=t.getHindex()),e}},Kc=function(t){Xut.IBooks.Enabled?t.multiplePages=!1:t.multiplePages=t.flipMode?t.flipMode:!!t.pageMode},Jc=function(t){var e="page";return t.dataset&&t.dataset.belong&&(e=t.dataset.belong),e},Zc=function(t,e){!Xut.plat.isBrowser||Xut.IBooks.Enabled||window.MMXCONFIG||window.DUKUCONFIG||t.preventDefault&&t.preventDefault()},Qc=function(t){function e(t){Eo(this,e);var n=Oo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=n,o=i.options=_.extend({multiScenario:!1,multiplePages:!1},t,{flipMode:Xut.config.flipMode});Kc(o);var r=i.$globalEvent=new Yl(o),a=i.$dispatcher=new Wc(i);o.multiplePages&&n.addTools(i);var s=null;return r.$watch("onFilter",function(t,e,n){var i=e.target;Zc(n,i);var o=Jc(i),a=r.findBubbleRootNode(e,o);s=$n.call(a,e,o),s&&"disable"!==s.attribute||t()}),r.$watch("onMove",function(t){a.movePageBase(t)}),r.$watch("onTap",function(t,e){s&&(s.handlers?s.handlers(s.elem,s.attribute,s.rootNode,t):Xut.Contents.Canvas.getIsTap()||i.$emit("change:toggleToolbar"),s=null,e())}),r.$watch("onUpSlider",function(t){a.suspendPageBase(t)}),r.$watch("onComplete",function(){a.completePageBase.apply(a,arguments)}),r.$watch("onJumpPage",function(t){a.gotoPageBase(t)}),r.$watch("onDropApp",function(t){window.GLOBALIFRAME&&Xut.publish("magazine:dropApp")}),r.$watch("onMasterMove",function(t,e){/Content/i.test(e.id)&&e.getAttribute("data-parallaxProcessed")&&a.masterMgr&&a.masterMgr.reactivation(e)}),n.destoryDynamicApi=zn(n),n}return Ao(e,t),Io(e,[{key:"addTools",value:function(t){_.extend(Yc,{"data-container":function(){t.$emit("change:toggleToolbar")},"data-multilayer":function(){t.$emit("change:toggleToolbar")},"data-behavior":function(e,n,i,o){"click-swipe"==n&&t.$emit("change:toggleToolbar")}})}}]),e}(lr);c(Qc.prototype,"$multiScenario",{get:function(){return this.options.multiScenario}}),c(Qc.prototype,"$injectionComponent",{set:function(t){var e;(e=this.$dispatcher[t.pageType+"Mgr"])?e.abstractAssistPocess(t.pageIndex,function(e){e.baseRegisterComponent.call(e,t.widget)}):console.log("注册injection失败,regData="+t)}}),c(Qc.prototype,"$curVmPage",{get:function(){return this.$dispatcher.pageMgr.abstractGetPageObj(this.$globalEvent.getHindex())}}),l(Qc.prototype,"$bind",function(t,e){var n=this;n.$watch("change:"+t,function(){e.apply(n,arguments)})}),l(Qc.prototype,"$init",function(){this.$dispatcher.initCreate()}),l(Qc.prototype,"$run",function(){var t=this;t.$dispatcher.pageMgr.activateAutoRuns(t.$globalEvent.getHindex(),Xut.Presentation.GetPageObj())}),l(Qc.prototype,"$reset",function(){return this.$dispatcher.pageMgr.resetOriginal(this.$globalEvent.getHindex())}),l(Qc.prototype,"$suspend",function(){Xut.Application.Stop({skipAudio:!0})}),l(Qc.prototype,"$destroy",function(){this.$off(),this.$globalEvent.destroy(),this.$dispatcher.destroyPageBase(),this.$dispatcher=null,this.$globalEvent=null,this.destoryDynamicApi()});var tu=Math.round,eu=6,nu=Xut.plat.isIOS,iu=nu?20:0,ou=function(t,e,n){if(t=p(t)){var i=Number(t.pageMode);n=_.isFinite(i)?i:n,_.isString(t.tbType)&&(e=_.map(t.tbType.split(","),function(t){return Number(t)}))}return{toolType:e,pageMode:n}},ru=function(t,e,n){return function(i,o){var r;return r=n?"#"+i:"#"+o+e,t.find(r)[0]}},au=function(t){if(Li.deBugHistory)return Xut.View.LoadScenario(Li.deBugHistory),!0;if(t){var e=ir.seqReverse(t);return!!e&&(e=e.split("-"),Xut.View.LoadScenario({scenarioId:e[0],chapterId:e[1],pageIndex:e[2]}),!0)}},su=function(){function t(e){var n=this;Eo(this,t);var i=e.seasonId,o=e.chapterId,r=_.extend(this,e,{scenarioId:i,chapterId:o,$container:$(".xut-scene-container")});this._createHTML(r,function(){Xut.IBooks.Enabled||_.extend(n,n._initToolBar()),n._createMediator(),ir.add(i,o,n)})}return Io(t,[{key:"_createHTML",value:function(t,e){if(Xut.IBooks.runMode())return this.$rootNode=$("#xut-main-scene"),void e();var n=void 0;n=t.isMain?Gn():Wn(this.scenarioId),this.$rootNode=$(n),Xut.nextTick({container:this.$container,content:this.$rootNode},e)}},{key:"_initToolBar",value:function(){var t=this.scenarioId,e=this.pageTotal,n=this.pageIndex,i=this.$rootNode,o=function(){return i.find(".xut-control-bar")},r={};this.isMain?(r=Yn(t,e),1===Li.visualMode?this.mainToolbar=new Zo({sceneNode:i,controlNode:o(),pageMode:r.pageMode}):_.some(r.toolType)&&(this.mainToolbar=new Wo({sceneNode:i,controlNode:o(),pageTotal:e,currentPage:n+1,pageMode:r.pageMode,toolType:r.toolType}))):(r=Un(this.barInfo,e),_.some(r.toolType)&&(this.deputyToolbar=new Vo({sceneNode:i,toolType:r.toolType,pageTotal:e,currentPage:n,pageMode:r.pageMode})));var a=Y(this.seasonId);if(Li.toolType.number!==!1&&a){var s=W(this.seasonId);this.numberToolbar=new tr({$rootNode:i,currentPage:n,pageTotal:e+a-s})}return r}},{key:"_createMediator",value:function(){var t=this,e=this,n=this.scenarioId,i=this.pageTotal,o=this.pageIndex,r=this.$rootNode,a=this.isMain,s=ru(r,n,a),l=s("xut-page-container","scenarioPage-"),c=s("xut-master-container","scenarioMaster-"),u=this.vm=new Qc({pageMode:this.pageMode,container:this.$rootNode[0],multiScenario:!a,rootPage:l,rootMaster:c,initIndex:o,pagetotal:i,sectionRang:this.sectionRang,scenarioId:n,chapterId:this.chapterId,isInApp:this.isInApp}),h=this.isToolbar=this.deputyToolbar?this.deputyToolbar:this.mainToolbar;u.$bind("pageUpdate",function(){if(h&&h.updatePointer.apply(h,arguments),t.numberToolbar){var e;t.numberToolbar&&(e=t.numberToolbar).updatePointer.apply(e,arguments)}}),u.$bind("showNext",function(){h&&h.showNext()}),u.$bind("hideNext",function(){h&&h.hideNext()}),u.$bind("showPrev",function(){h&&h.showPrev()}),u.$bind("hidePrev",function(){h&&h.hidePrev()}),u.$bind("toggleToolbar",function(){if(h&&h.toggle.apply(h,arguments),t.numberToolbar){var e;t.numberToolbar&&(e=t.numberToolbar).toggle.apply(e,arguments)}}),u.$bind("resetToolbar",function(){t.mainToolbar&&(t.mainToolbar.resetArrow(),t.mainToolbar.hideNavbar())}),u.$bind("createComplete",function(t){e.complete&&setTimeout(function(){a?e.complete(function(){Xut.View.HideBusy(),au(e.history)||t&&t(),Xut.Application.AddEventListener()}):e.complete(t)},200)}),window.DUKUCONFIG&&a&&window.DUKUCONFIG.success?(window.DUKUCONFIG.success(),u.$init()):window.CLIENTCONFIGT&&a&&window.CLIENTCONFIGT.success?(window.CLIENTCONFIGT.success(),u.$init()):u.$init()}},{key:"destroy",value:function(){this.vm.$destroy(),this.isToolbar&&(this.isToolbar.destroy(),this.isToolbar=null),this.$container=null,this.$rootNode.off(),this.$rootNode.remove(),this.$rootNode=null,ir.remove(this.scenarioId)}}]),t}(),lu=function(t){Li.pageIndex=t.pageIndex,Li.novelId=t.novelId,To({pageIndex:t.pageIndex,novelId:t.novelId})},cu=function(t){return{novelId:Number(t.novelId),pageIndex:Number(t.pageIndex),history:t.history}},uu=function(){var t,e=Xut.data.query("Novel");(t=e.preCode)&&I(t,"novelpre脚本")},hu=Xut.style.transform,du=Xut.style.animationDelay,pu=500,fu=null,vu=!1,gu=!1,mu=null,yu=function(){clearTimeout(mu),mu=null},_u=function(){vu||Xut.IBooks.Enabled||mu||(mu=setTimeout(function(){fu.show(),yu(),gu&&(bu(),gu=!1)},pu))},bu=function(){vu||Xut.IBooks.Enabled||_u.lock||(mu?gu=!0:fu.hide())},xu=function(t){vu||Xut.IBooks.Enabled||(fu.css("pointer-events","none").find(".xut-busy-text").html(t),_u())},wu=function(t){vu=t},ku=(Xut.Presentation=h(),Xut.View=h()),Tu=Xut.Contents=h(),Cu=Xut.Application=h();Xut.Assist=h(),d(ku,{ShowBusy:_u,HideBusy:bu,ShowTextBusy:xu});var Su=!1;d(ku,{CloseScenario:function(){if(!Su){Su=!0;var t=ir.takeOutPrevChainId();ku.LoadScenario({scenarioId:t.scenarioId,chapterId:t.chapterId,createMode:"sysClose"},function(){Su=!1})}},LoadScenario:function(t,e){var n=u(t.scenarioId),i=u(t.chapterId),o=u(t.pageIndex),r=t.createMode,a=t.isInApp;if(!t.main&&Xut.IBooks.Enabled&&Xut.IBooks.runMode())return void(location.href=i+".xhtml");var s="sysClose"!==r,l=ir.containerObj("current");if(l&&l.vm){var c;if((c=l.vm.$curVmPage)&&c.scenarioId==n&&c.chapterId==i)return void console.log("过滤多次重复点击加载页面")}if(s&&l&&l.scenarioId===n)return void ku.GotoSlide(n,i);l&&l.vm.$suspend(),l&&s&&ir.checkToRepeat(n),window.DUKUCONFIG&&t.main?ku.HideBusy():ku.ShowBusy(),l&&!l.vm.$multiScenario&&ku.HideToolBar();var h;l&&(h=Xut.Presentation.GetPageId())&&ir.rewrite(l.scenarioId,h);var d=Xut.data.query("sectionRelated",n),p=d.toolbar,f=d.length,v=function(){return i?function(){return"GotoSlide"===r?i:i-d.start-1}():0},g={seasonId:n,chapterId:i,pageIndex:o||v(),isInApp:a,pageTotal:f,barInfo:p,history:t.history,sectionRang:d,complete:function(t){l&&l.destroy(),t&&t(),ku.HideBusy(),e&&e()}};(t.main||ir.mianId===n)&&(C("history"),ir.mianId=n,g.isMain=!0),new su(g)}}),d(ku,{Open:function(t,e,n,i,o){Xut.Plugin.WebView.open(t,i,o,n,e,1)},Close:function(){Xut.Plugin.WebView.close()}}),d(Tu,{contentsFragment:{},Canvas:{SupportSwipe:!0,isSwipe:!1,isTap:!1,Reset:function(){Tu.Canvas.SupportSwipe=!0,Tu.Canvas.isSwipe=!1},getSupportState:function(){var t;return t=!!Tu.Canvas.SupportSwipe,Tu.Canvas.Reset(),t},getIsSwipe:function(){var t;return t=!!Tu.Canvas.isSwipe,Tu.Canvas.Reset(),t},getIsTap:function(){var t=Tu.Canvas.isTap;return Tu.Canvas.isTap=!1,t}},ResetDefaultControl:function(t,e,n){if(e){var i,o=function(t){n?t.attr("data-behavior",n):t.attr("data-behavior","disable")};(i=Tu.Get(t,e))&&i.$contentNode?o(i.$contentNode):(i=$("#"+e),i.length&&o(i))}},DisableControl:function(t){return{behavior:"data-behavior",value:"disable"}},EnableControl:function(t){return{behavior:"data-behavior",value:t||"click-swipe"}}});var Pu=new lr;Cu.Watch=function(t,e){Pu.$watch("app:"+t,function(){e.apply(Pu,arguments)})},Cu.Notify=function(t,e){Pu.$emit("app:"+t,e)};var Eu=0,Iu=!1;d(Cu,{IsBackStage:function(){return Eu},Original:function(){Eu=1,De("","",!0),Fe()},Activate:function(){Eu=0,je()},Destroy:function(){Kn("destroy")},Refresh:function(){Kn("refresh")},DropApp:function(){var t=function(){Xut.plat.isAndroid&&(window.GLOBALCONTEXT.document.removeEventListener("backbutton",Li._event.back,!1),window.GLOBALCONTEXT.document.removeEventListener("pause",Li._event.pause,!1))},e=function(){Pu.$off(),Kn("exit"),window.GLOBALCONTEXT=null};if(window.DYNAMICCONFIGT)return t(),void e();if(window.DUKUCONFIG){if(window.DUKUCONFIG.iframeDrop){var n=Co("appId");window.DUKUCONFIG.iframeDrop(["appId-"+n,"novelId-"+n,"pageIndex-"+n])}return window.DUKUCONFIG=null,t(),void e()}return window.CLIENTCONFIGT?(window.CLIENTCONFIGT.iframeDrop&&window.CLIENTCONFIGT.iframeDrop(),window.CLIENTCONFIGT=null,t(),void e()):window.MMXCONFIG?(window.MMXCONFIG.iframeDrop&&window.MMXCONFIG.iframeDrop(),window.MMXCONFIG=null,void e()):void 0},Stop:function(t){var e=t.skipAudio,n=t.dispose,i=t.processed,o=Le(e);o&&n?n():i&&i()},Suspend:Cu.Stop}),d(Cu,{Launch:function(){},setAppState:function(){Iu=!0},delAppState:function(){Iu=!1},getAppState:function(){return Iu},delayAppRun:function(){Cu.setAppState()},LaunchApp:function(){Cu.delAppState()},AddEventListener:function(){}}),Xut.U3d={View:function(t,e){ku.LoadScenario({scenarioId:t,chapterId:e})}},window.XXTAPI={ReadVar:function(t,e){var n;return(n=Co(t))?n:(To(t,e),e)},SaveVar:function(t,e){To(t,e)},SetVar:function(t,e){To(t,e)}};var Au={state:!1,path:window.DUKUCONFIG?window.DUKUCONFIG.path+"duku.mp4":"android.resource://#packagename#/raw/duku",load:function(){this.play(),this.state=!0},play:function(){Xut.Application.delayAppRun(),Xut.Plugin.VideoPlayer.play(function(){Au.launchApp()},function(){Au.launchApp()},Au.path,1,0,0,window.innerHeight,window.innerWidth)},closeVideo:function(){Xut.Plugin.VideoPlayer.close(function(){Au.launchApp()})},launchApp:function(){this.state=!1,Xut.Application.LaunchApp()}},Ou={ToolbarPos:0,NavbarPos:1,HomeBut:1,ContentBut:1,PageBut:1,NavLeft:1,NavRight:1,customButton:0,CloseBut:window.SUbDOCCONTEXT?1:0},Mu=function(t){var e=void 0,n={},i={};_.each(t,function(i,o){e=t.item(o),n[e.name]=e.value}),_.defaults(n,Ou);for(var o in Ou)i[o]=Number(n[o]);return Li.settings=i,Li.appId=n.appId,Li.shortName=n.shortName,Li.Inapp=n.Inapp,Li.delayTime=n.delayTime,Li.appUUID=n.adUpdateTime?n.appId+"-"+/\S*/.exec(n.adUpdateTime)[0]:n.adUpdateTime,To({appId:n.appId}),Xut.Presentation.AdsId=n.adsId,n},Nu=function(t){oi(function(e){var n=e.Novel.item(0);t(n,Mu(e.Setting))})},ju=function(t){if(window.openDatabase)try{Xut.config.db=window.openDatabase(Li.dbName,"1.0","Xxtebook Database",Li.dbSize)}catch(e){console.log("window.openDatabase出错")}Xut.config.db?Xut.config.db.transaction(function(e){e.executeSql("SELECT * FROM Novel",[],function(e,n){t()},function(){Xut.config.db=null,t()})}):t()},Ru=Xut.style.columnWidth,Du=Xut.style.columnGap,Fu=0,Lu=function(t,e,n,i,o){var r=Number(o[0]),a=Number(o[1]),s=Number(o[2]),l=Number(o[3]),c=n/100*(a+l),u=i/100*(r+s),h=n-c,d=i-u,p=c/2,f=i/100*r;/fix-transform/.test(e)&&(e=$(e).find("#columns-content").html());var v=Du+":"+c+"px",g=Ru+":"+h+"px",m='\n            <section class="fix-transform" data-flow="true">\n                <div class="page-flow-pinch" data-role="margin" style="width:'+h+"px;height:"+d+"px;margin-top:"+f+"px;margin-left:"+p+'px;">\n                    <div data-role="column" id="columns-content" style="'+g+";height:100%;"+v+'">\n                        '+e+"\n                    </div>\n                </div>\n            </section>";return Fu=d,String.styleFormat(m)},Xu=function(t){for(var e=t.find("#columns-content").children(),n=0,i=0;i<e.length;i++)n+=$(e[i]).height();return Math.ceil(n/Fu)},Bu=function(t,e,n,i,o){for(var r=0;r<t.childNodes.length;r++){var a=t.childNodes[r];if(1==a.nodeType){var s=a.id,l=s.match(/\d/)[0],c=a.getAttribute("data-margin");c=c?c.split(","):[0,0,0,0],a.innerHTML=Lu(l,a.innerHTML,n,i,c),o[e][l]=0}}},Hu=function(t){var e=window.DYNAMICCONFIGT?window.DYNAMICCONFIGT.resource+"/gallery/svgsheet.css":Li.pathAddress+"svgsheet.css",n=window.nodeBuildMode?window.nodeBuildMode.csspath:"./css/"+Li.layoutMode+".css",i=[n,e];Xut.IBooks.Enabled&&!Xut.IBooks.existSvg&&(i=[n]),go.load(i,t,null,!0)},$u=function(t){var e=1;void 0!==t.recordHistory&&(e=Number(t.recordHistory)),!e&&Li.isBrowser&&Li.debugMode&&(e=1),Li.recordHistory=e},zu=function(t){!Li.visualMode&&Number(t.scrollPaintingMode)&&(Li.visualMode=1)},Gu=function(t){return Xut.isRunSubDoc?void Xut.publish("subdoc:dropApp"):void window.GLOBALCONTEXT.navigator.notification.confirm("您确认要退出吗？",function(t){1==t&&Xut.Application.Stop({processed:function(){window.GLOBALCONTEXT.navigator.app.exitApp()}})},"退出","确定,取消")},Wu=function(t){return parseInt(Co(t))},Yu=function(t){var e=void 0,n=void 0,i=Wu("pageIndex"),o=Wu("flipMode")||0;return Xut.IBooks.Enabled?($(".xut-cover").remove(),void Jn({pageIndex:Xut.IBooks.CONFIG.pageIndex})):((n=t.parameter)&&(n=p(n),void 0!==n.pageflip&&(o=Number(n.pageflip),To({flipMode:o}))),o&&(Li.flipMode=Number(o)),Li.recordHistory&&void 0!==i&&(e=Wu("novelId"))?Jn({novelId:e,pageIndex:i,history:Co("history")}):void Jn({
novelId:t._id,pageIndex:0}))},Uu=function(){return si(Yu)},Vu=function(){Xut.plat.isAndroid&&(window.MMXCONFIG||window.DUKUCONFIG||ei(),window.SUbCONFIGT||(Xut.Application.AddEventListener=function(){window.GLOBALCONTEXT.document.addEventListener("backbutton",Li._event.back,!1),window.GLOBALCONTEXT.document.addEventListener("pause",Li._event.pause,!1)})),window.DUKUCONFIG&&PMS.bind("MagazineExit",function(){PMS.unbind(),Xut.Application.DropApp()},"*"),Uu()};Xut.Version=862,Xut.plat.isBrowser&&(Xut.plat.noAutoPlayMedia&&Ot(),$(document).keyup(function(t){switch(t.keyCode){case 37:Xut.View.GotoPrevSlide();break;case 39:Xut.View.GotoNextSlide()}}));var qu=void 0,Ku=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#xxtppt-app-container",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0;t&&(n=$(t)),n.length||(t="",n=$("body"));var i='<div class="xut-busy-icon xut-fullscreen"></div>';e||(wu(!0),i="");var o=window.DYNAMICCONFIGT&&window.DYNAMICCONFIGT.resource?window.DYNAMICCONFIGT.resource+"/gallery/cover.jpg":"./content/gallery/cover.jpg",r='<div class="xut-cover xut-fullscreen" style="background-image: url('+o+');"></div>\n         <div class="xut-scene-container xut-fullscreen xut-overflow-hidden"></div>',a=""+i+r;t||(a='<div id="xxtppt-app-container" class="xut-fullscreen xut-overflow-hidden "> '+a+"</div>");var s=$(String.styleFormat(a));Xut.Application.$$removeNode=function(){qu=null,s.remove(),n=null,s=null,Xut.Application.$$removeNode=null},Vs({container:n,content:s},ci)},Ju=function(){document.getElementById("sceneContainer")&&"busyIcon message removelayer startupPage sceneContainer".split(" ").forEach(function(t){$("#"+t).hide().remove()}),Ku.apply(void 0,arguments)};Xut.plat.isBrowser&&$(window).on("orientationchange",function(){if(Li.orientateMode){var t=qu;Xut.Application.Refresh(),t.length?(Xut.Application.Launch.apply(null,t.pop()),t=null):Ju()}});var Zu=function(t){t&&Xut.extend(Li,t)};Xut.Application.Launch=function(t){var e=t.el,n=t.paths,i=t.cursor,o=Xut.Application.setConfig;o&&1===o.lauchMode&&(Zu(o),(qu=[]).push(arguments),window.DYNAMICCONFIGT={resource:n.resource,database:n.database},Ju(e,i))},setTimeout(function(){var t=Xut.Application.setConfig;(!t||t&&!t.lauchMode)&&(Zu(t),Ju())},100)});