<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta content="email=no" name="format-detection" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <title>AppCarrier</title>
    <link rel="stylesheet" type="text/css" href="css/dev.css">
    <script type="text/javascript" src="lib/external.js"></script>
</head>

<body>
    <button id="launchMini">进入</button>
    <button id="closeMini">退出</button>
    <button id="home">home</button>
    <button id="activate">激活</button>
    <div id="xxtppt-app-container" class="xut-fullscreen xut-overflow-hidden"></div>
</body>

</html>
<script type="text/javascript">
Xut.Application.setConfig = {
    lauchMode: 1,
    platform: 'mini',
    historyMode: true,
    visualMode: 2,
    cursor: {
        url: 'images/icons/busyicon.gif',
        delayTime: 300
    },
    salePicture: true,
    salePictureMultiples: 3,
    // imageSuffix: {
    //     1080: 'mi',
    //     1440: 'hi'
    // },
    pageBar: {
        // type: 'circular',
        // mode: 1
        // position: {
        //     top: '90%',
        //     left: '20%'
        // }
    },
    brModel:0,
    // trackCode: ['app', 'page', 'action', 'hot'],
    supportQR: true,
    swipeDelegate: true,
    useHDImageZoom: false
};

function openurl() {
    window.location.href = 'http://www.kidreadcool.com/downloads.php?esp=mios'
}


/**
 * 监听代码追踪
 * type:类型
 *   app //应用运行时间
 *   page //每个页面运行时间
 *   action => (content的事件)
 *   hot => (包含除去content后的所有热点，例如：action,audio,video,widget零件触发的事件)
 *
 *  options:参数
 *    app => time 应用运行时间
 *    page => time 页面运行时间
 *
 *    action
 *    hot
 *      => {
 *        appId  应用的id
 *        appName 应用标题
 *        id 元素的id
 *        type  触发的类型
 *        pageId 页面的id,对应数据库chapter ID
 *        eventName 事件名
 *      }
 *
 */
Xut.Application.Watch('trackCode', function(type, options) {

    switch (type) {
        case 'app':
            // console.log(type, options)
            // localStorage.setItem('aaaa', options.time);
            break;
        case 'page':
            break;
        case 'aciton':
            break;
        case 'hot':
            break;
    }
})

$("#home").click(function() {
    Xut.Application.Original()
})

$("#activate").click(function() {
    Xut.Application.Activate()
})

var appId = 320
$("#launchMini").click(function() {
    Xut.Application.Launch({
        el: '#xxtppt-app-container', //根节点
        launchAnim: false, //关闭启动动画
        convert: 'svg', //转化资源svg转化成js
        path: {
            resource: 'content/' + appId,
            database: 'content/' + appId + '/SQLResult.js'
        }
    });
})
$("#launchMini").trigger('click')

$("#closeMini").click(function() {
    Xut.Application.Exit()
})
</script>
