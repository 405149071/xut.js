/******/ (function(modules) { // webpackBootstrap
/******/ 	var parentHotUpdateCallback = this["webpackHotUpdate"];
/******/ 	this["webpackHotUpdate"] = 
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	}
/******/ 	
/******/ 	function hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars
/******/ 		var head = document.getElementsByTagName("head")[0];
/******/ 		var script = document.createElement("script");
/******/ 		script.type = "text/javascript";
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		head.appendChild(script);
/******/ 	}
/******/ 	
/******/ 	function hotDownloadManifest(callback) { // eslint-disable-line no-unused-vars
/******/ 		if(typeof XMLHttpRequest === "undefined")
/******/ 			return callback(new Error("No browser support"));
/******/ 		try {
/******/ 			var request = new XMLHttpRequest();
/******/ 			var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 			request.open("GET", requestPath, true);
/******/ 			request.timeout = 10000;
/******/ 			request.send(null);
/******/ 		} catch(err) {
/******/ 			return callback(err);
/******/ 		}
/******/ 		request.onreadystatechange = function() {
/******/ 			if(request.readyState !== 4) return;
/******/ 			if(request.status === 0) {
/******/ 				// timeout
/******/ 				callback(new Error("Manifest request to " + requestPath + " timed out."));
/******/ 			} else if(request.status === 404) {
/******/ 				// no update available
/******/ 				callback();
/******/ 			} else if(request.status !== 200 && request.status !== 304) {
/******/ 				// other failure
/******/ 				callback(new Error("Manifest request to " + requestPath + " failed."));
/******/ 			} else {
/******/ 				// success
/******/ 				try {
/******/ 					var update = JSON.parse(request.responseText);
/******/ 				} catch(e) {
/******/ 					callback(e);
/******/ 					return;
/******/ 				}
/******/ 				callback(null, update);
/******/ 			}
/******/ 		};
/******/ 	}

/******/ 	
/******/ 	
/******/ 	// Copied from https://github.com/facebook/react/blob/bef45b0/src/shared/utils/canDefineProperty.js
/******/ 	var canDefineProperty = false;
/******/ 	try {
/******/ 		Object.defineProperty({}, "x", {
/******/ 			get: function() {}
/******/ 		});
/******/ 		canDefineProperty = true;
/******/ 	} catch(x) {
/******/ 		// IE will fail on defineProperty
/******/ 	}
/******/ 	
/******/ 	var hotApplyOnUpdate = true;
/******/ 	var hotCurrentHash = "1034095938d229cca4e4"; // eslint-disable-line no-unused-vars
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentParents = []; // eslint-disable-line no-unused-vars
/******/ 	
/******/ 	function hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var me = installedModules[moduleId];
/******/ 		if(!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if(me.hot.active) {
/******/ 				if(installedModules[request]) {
/******/ 					if(installedModules[request].parents.indexOf(moduleId) < 0)
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					if(me.children.indexOf(request) < 0)
/******/ 						me.children.push(request);
/******/ 				} else hotCurrentParents = [moduleId];
/******/ 			} else {
/******/ 				console.warn("[HMR] unexpected require(" + request + ") from disposed module " + moduleId);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		for(var name in __webpack_require__) {
/******/ 			if(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {
/******/ 				if(canDefineProperty) {
/******/ 					Object.defineProperty(fn, name, (function(name) {
/******/ 						return {
/******/ 							configurable: true,
/******/ 							enumerable: true,
/******/ 							get: function() {
/******/ 								return __webpack_require__[name];
/******/ 							},
/******/ 							set: function(value) {
/******/ 								__webpack_require__[name] = value;
/******/ 							}
/******/ 						};
/******/ 					}(name)));
/******/ 				} else {
/******/ 					fn[name] = __webpack_require__[name];
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		function ensure(chunkId, callback) {
/******/ 			if(hotStatus === "ready")
/******/ 				hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			__webpack_require__.e(chunkId, function() {
/******/ 				try {
/******/ 					callback.call(null, fn);
/******/ 				} finally {
/******/ 					finishChunkLoading();
/******/ 				}
/******/ 	
/******/ 				function finishChunkLoading() {
/******/ 					hotChunksLoading--;
/******/ 					if(hotStatus === "prepare") {
/******/ 						if(!hotWaitingFilesMap[chunkId]) {
/******/ 							hotEnsureUpdateChunk(chunkId);
/******/ 						}
/******/ 						if(hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 							hotUpdateDownloaded();
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			});
/******/ 		}
/******/ 		if(canDefineProperty) {
/******/ 			Object.defineProperty(fn, "e", {
/******/ 				enumerable: true,
/******/ 				value: ensure
/******/ 			});
/******/ 		} else {
/******/ 			fn.e = ensure;
/******/ 		}
/******/ 		return fn;
/******/ 	}
/******/ 	
/******/ 	function hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 	
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfAccepted = true;
/******/ 				else if(typeof dep === "function")
/******/ 					hot._selfAccepted = dep;
/******/ 				else if(typeof dep === "object")
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback;
/******/ 				else
/******/ 					hot._acceptedDependencies[dep] = callback;
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfDeclined = true;
/******/ 				else if(typeof dep === "number")
/******/ 					hot._declinedDependencies[dep] = true;
/******/ 				else
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if(idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if(!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if(idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		return hot;
/******/ 	}
/******/ 	
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/ 	
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for(var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/ 	
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailibleFilesMap = {};
/******/ 	var hotCallback;
/******/ 	
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/ 	
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = (+id) + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/ 	
/******/ 	function hotCheck(apply, callback) {
/******/ 		if(hotStatus !== "idle") throw new Error("check() is only allowed in idle status");
/******/ 		if(typeof apply === "function") {
/******/ 			hotApplyOnUpdate = false;
/******/ 			callback = apply;
/******/ 		} else {
/******/ 			hotApplyOnUpdate = apply;
/******/ 			callback = callback || function(err) {
/******/ 				if(err) throw err;
/******/ 			};
/******/ 		}
/******/ 		hotSetStatus("check");
/******/ 		hotDownloadManifest(function(err, update) {
/******/ 			if(err) return callback(err);
/******/ 			if(!update) {
/******/ 				hotSetStatus("idle");
/******/ 				callback(null, null);
/******/ 				return;
/******/ 			}
/******/ 	
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotAvailibleFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			for(var i = 0; i < update.c.length; i++)
/******/ 				hotAvailibleFilesMap[update.c[i]] = true;
/******/ 			hotUpdateNewHash = update.h;
/******/ 	
/******/ 			hotSetStatus("prepare");
/******/ 			hotCallback = callback;
/******/ 			hotUpdate = {};
/******/ 			var chunkId = 0;
/******/ 			{ // eslint-disable-line no-lone-blocks
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if(hotStatus === "prepare" && hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 		});
/******/ 	}
/******/ 	
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		if(!hotAvailibleFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for(var moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if(!hotAvailibleFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var callback = hotCallback;
/******/ 		hotCallback = null;
/******/ 		if(!callback) return;
/******/ 		if(hotApplyOnUpdate) {
/******/ 			hotApply(hotApplyOnUpdate, callback);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for(var id in hotUpdate) {
/******/ 				if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			callback(null, outdatedModules);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotApply(options, callback) {
/******/ 		if(hotStatus !== "ready") throw new Error("apply() is only allowed in ready status");
/******/ 		if(typeof options === "function") {
/******/ 			callback = options;
/******/ 			options = {};
/******/ 		} else if(options && typeof options === "object") {
/******/ 			callback = callback || function(err) {
/******/ 				if(err) throw err;
/******/ 			};
/******/ 		} else {
/******/ 			options = {};
/******/ 			callback = callback || function(err) {
/******/ 				if(err) throw err;
/******/ 			};
/******/ 		}
/******/ 	
/******/ 		function getAffectedStuff(module) {
/******/ 			var outdatedModules = [module];
/******/ 			var outdatedDependencies = {};
/******/ 	
/******/ 			var queue = outdatedModules.slice();
/******/ 			while(queue.length > 0) {
/******/ 				var moduleId = queue.pop();
/******/ 				var module = installedModules[moduleId];
/******/ 				if(!module || module.hot._selfAccepted)
/******/ 					continue;
/******/ 				if(module.hot._selfDeclined) {
/******/ 					return new Error("Aborted because of self decline: " + moduleId);
/******/ 				}
/******/ 				if(moduleId === 0) {
/******/ 					return;
/******/ 				}
/******/ 				for(var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if(parent.hot._declinedDependencies[moduleId]) {
/******/ 						return new Error("Aborted because of declined dependency: " + moduleId + " in " + parentId);
/******/ 					}
/******/ 					if(outdatedModules.indexOf(parentId) >= 0) continue;
/******/ 					if(parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if(!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push(parentId);
/******/ 				}
/******/ 			}
/******/ 	
/******/ 			return [outdatedModules, outdatedDependencies];
/******/ 		}
/******/ 	
/******/ 		function addAllToSet(a, b) {
/******/ 			for(var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if(a.indexOf(item) < 0)
/******/ 					a.push(item);
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/ 		for(var id in hotUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				var moduleId = toModuleId(id);
/******/ 				var result = getAffectedStuff(moduleId);
/******/ 				if(!result) {
/******/ 					if(options.ignoreUnaccepted)
/******/ 						continue;
/******/ 					hotSetStatus("abort");
/******/ 					return callback(new Error("Aborted because " + moduleId + " is not accepted"));
/******/ 				}
/******/ 				if(result instanceof Error) {
/******/ 					hotSetStatus("abort");
/******/ 					return callback(result);
/******/ 				}
/******/ 				appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 				addAllToSet(outdatedModules, result[0]);
/******/ 				for(var moduleId in result[1]) {
/******/ 					if(Object.prototype.hasOwnProperty.call(result[1], moduleId)) {
/******/ 						if(!outdatedDependencies[moduleId])
/******/ 							outdatedDependencies[moduleId] = [];
/******/ 						addAllToSet(outdatedDependencies[moduleId], result[1][moduleId]);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for(var i = 0; i < outdatedModules.length; i++) {
/******/ 			var moduleId = outdatedModules[i];
/******/ 			if(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 		}
/******/ 	
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		var queue = outdatedModules.slice();
/******/ 		while(queue.length > 0) {
/******/ 			var moduleId = queue.pop();
/******/ 			var module = installedModules[moduleId];
/******/ 			if(!module) continue;
/******/ 	
/******/ 			var data = {};
/******/ 	
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for(var j = 0; j < disposeHandlers.length; j++) {
/******/ 				var cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/ 	
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/ 	
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/ 	
/******/ 			// remove "parents" references from all children
/******/ 			for(var j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if(!child) continue;
/******/ 				var idx = child.parents.indexOf(moduleId);
/******/ 				if(idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// remove outdated dependency from module children
/******/ 		for(var moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				var module = installedModules[moduleId];
/******/ 				var moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 				for(var j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 					var dependency = moduleOutdatedDependencies[j];
/******/ 					var idx = module.children.indexOf(dependency);
/******/ 					if(idx >= 0) module.children.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Not in "apply" phase
/******/ 		hotSetStatus("apply");
/******/ 	
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/ 	
/******/ 		// insert new code
/******/ 		for(var moduleId in appliedUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for(var moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				var module = installedModules[moduleId];
/******/ 				var moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 				var callbacks = [];
/******/ 				for(var i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 					var dependency = moduleOutdatedDependencies[i];
/******/ 					var cb = module.hot._acceptedDependencies[dependency];
/******/ 					if(callbacks.indexOf(cb) >= 0) continue;
/******/ 					callbacks.push(cb);
/******/ 				}
/******/ 				for(var i = 0; i < callbacks.length; i++) {
/******/ 					var cb = callbacks[i];
/******/ 					try {
/******/ 						cb(outdatedDependencies);
/******/ 					} catch(err) {
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Load self accepted modules
/******/ 		for(var i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			var moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch(err) {
/******/ 				if(typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch(err) {
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				} else if(!error)
/******/ 					error = err;
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if(error) {
/******/ 			hotSetStatus("fail");
/******/ 			return callback(error);
/******/ 		}
/******/ 	
/******/ 		hotSetStatus("idle");
/******/ 		callback(null, outdatedModules);
/******/ 	}

/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: hotCurrentParents,
/******/ 			children: []
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";

/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };

/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(25);
	module.exports = __webpack_require__(26);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lang = __webpack_require__(105);\n\nObject.keys(_lang).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _lang[key];\n    }\n  });\n});\n\nvar _dom = __webpack_require__(11);\n\nObject.keys(_dom).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _dom[key];\n    }\n  });\n});\n\nvar _loader = __webpack_require__(12);\n\nObject.keys(_loader).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _loader[key];\n    }\n  });\n});\n\nvar _stroage = __webpack_require__(5);\n\nObject.keys(_stroage).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _stroage[key];\n    }\n  });\n});\n\nvar _option = __webpack_require__(4);\n\nObject.keys(_option).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _option[key];\n    }\n  });\n});\n\nvar _buffer = __webpack_require__(103);\n\nObject.keys(_buffer).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _buffer[key];\n    }\n  });\n});\n\nvar _execute = __webpack_require__(20);\n\nObject.keys(_execute).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _execute[key];\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvaW5kZXguanM/ZjgwNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9sYW5nJ1xyXG5leHBvcnQgKiBmcm9tICcuL2RvbSdcclxuZXhwb3J0ICogZnJvbSAnLi9sb2FkZXInXHJcbmV4cG9ydCAqIGZyb20gJy4vc3Ryb2FnZSdcclxuZXhwb3J0ICogZnJvbSAnLi9vcHRpb24nXHJcbmV4cG9ydCAqIGZyb20gJy4vYnVmZmVyJ1xyXG5leHBvcnQgKiBmcm9tICcuL2V4ZWN1dGUnXHJcblxyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3V0aWwvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _auto = __webpack_require__(92);\n\nObject.keys(_auto).forEach(function (key) {\n    if (key === \"default\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _auto[key];\n        }\n    });\n});\n\nvar _trigger = __webpack_require__(96);\n\nObject.keys(_trigger).forEach(function (key) {\n    if (key === \"default\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _trigger[key];\n        }\n    });\n});\n\nvar _suspend = __webpack_require__(95);\n\nObject.keys(_suspend).forEach(function (key) {\n    if (key === \"default\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _suspend[key];\n        }\n    });\n});\n\nvar _original = __webpack_require__(93);\n\nObject.keys(_original).forEach(function (key) {\n    if (key === \"default\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _original[key];\n        }\n    });\n});\n\nvar _recovery = __webpack_require__(94);\n\nObject.keys(_recovery).forEach(function (key) {\n    if (key === \"default\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _recovery[key];\n        }\n    });\n});\n\n\n/**\r\n * 获取访问对象参数\r\n *\r\n * 如果pageObj 不存在，则取当前页面的\r\n * \r\n * @return {[type]} [description]\r\n */\nXut.accessControl = function (pageObj, callback) {\n    var flag,\n        pageObj = pageObj || Xut.Presentation.GetPageObj();\n    if (pageObj) {\n        var contents = pageObj.baseGetContent();\n        var components = pageObj.baseGetComponent();\n        var pageType = pageObj.pageType || 'page';\n        flag = callback(pageObj, contents.length && contents, components.length && components, pageType);\n    }\n    return flag;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci9pbmRleC5qcz8zZWU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBVUEsSUFBSSxhQUFKLEdBQW9CLFVBQVMsT0FBVCxFQUFrQixRQUFsQixFQUE0QjtBQUM1QyxRQUFJLElBQUo7UUFBVSxVQUFVLFdBQVcsSUFBSSxZQUFKLENBQWlCLFVBQWpCLEVBQS9CO0FBQ0EsUUFBSSxPQUFKLEVBQWE7QUFDVCxZQUFJLFdBQVcsUUFBUSxjQUFSLEVBQWY7QUFDQSxZQUFJLGFBQWEsUUFBUSxnQkFBUixFQUFqQjtBQUNBLFlBQUksV0FBVyxRQUFRLFFBQVIsSUFBb0IsTUFBbkM7QUFDQSxlQUFPLFNBQVMsT0FBVCxFQUFrQixTQUFTLE1BQVQsSUFBbUIsUUFBckMsRUFBK0MsV0FBVyxNQUFYLElBQXFCLFVBQXBFLEVBQWdGLFFBQWhGLENBQVA7QUFDSDtBQUNELFdBQU8sSUFBUDtBQUNILENBVEQiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYXV0bydcclxuZXhwb3J0ICogZnJvbSAnLi90cmlnZ2VyJ1xyXG5leHBvcnQgKiBmcm9tICcuL3N1c3BlbmQnXHJcbmV4cG9ydCAqIGZyb20gJy4vb3JpZ2luYWwnXHJcbmV4cG9ydCAqIGZyb20gJy4vcmVjb3ZlcnknXHJcblxyXG5cclxuLyoqXHJcbiAqIOiOt+WPluiuv+mXruWvueixoeWPguaVsFxyXG4gKlxyXG4gKiDlpoLmnpxwYWdlT2JqIOS4jeWtmOWcqO+8jOWImeWPluW9k+WJjemhtemdoueahFxyXG4gKiBcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5YdXQuYWNjZXNzQ29udHJvbCA9IGZ1bmN0aW9uKHBhZ2VPYmosIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgZmxhZywgcGFnZU9iaiA9IHBhZ2VPYmogfHwgWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlT2JqKCk7XHJcbiAgICBpZiAocGFnZU9iaikge1xyXG4gICAgICAgIHZhciBjb250ZW50cyA9IHBhZ2VPYmouYmFzZUdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgY29tcG9uZW50cyA9IHBhZ2VPYmouYmFzZUdldENvbXBvbmVudCgpO1xyXG4gICAgICAgIHZhciBwYWdlVHlwZSA9IHBhZ2VPYmoucGFnZVR5cGUgfHwgJ3BhZ2UnO1xyXG4gICAgICAgIGZsYWcgPSBjYWxsYmFjayhwYWdlT2JqLCBjb250ZW50cy5sZW5ndGggJiYgY29udGVudHMsIGNvbXBvbmVudHMubGVuZ3RoICYmIGNvbXBvbmVudHMsIHBhZ2VUeXBlKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZsYWc7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3NjaGVkdWxlci9pbmRleC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n *\r\n * 基本事件管理\r\n *\r\n */\n\nvar observe = function (slice) {\n\n    var ArrayProto = Array.prototype;\n    var nativeIndexOf = ArrayProto.indexOf;\n    var slice = ArrayProto.slice;\n\n    function bind(event, fn) {\n        var i, part;\n        var events = this.events = this.events || {};\n        var parts = event.split(/\\s+/);\n        var num = parts.length;\n\n        for (i = 0; i < num; i++) {\n            events[part = parts[i]] = events[part] || [];\n            if (_indexOf(events[part], fn) === -1) {\n                events[part].push(fn);\n            }\n        }\n        return this;\n    }\n\n    function one(event, fn) {\n        // [notice] The value of fn and fn1 is not equivalent in the case of the following MSIE.\n        // var fn = function fn1 () { alert(fn === fn1) } ie.<9 false\n        var fnc = function fnc() {\n            this.unbind(event, fnc);\n            fn.apply(this, slice.call(arguments));\n        };\n        this.bind(event, fnc);\n        return this;\n    }\n\n    function unbind(event, fn) {\n        var eventName, i, index, num, parts;\n        var events = this.events;\n\n        if (!events) return this;\n\n        //指定\n        if (arguments.length) {\n            parts = event.split(/\\s+/);\n            for (i = 0, num = parts.length; i < num; i++) {\n                if ((eventName = parts[i]) in events !== false) {\n                    index = fn ? _indexOf(events[eventName], fn) : -1;\n                    if (index !== -1) {\n                        events[eventName].splice(index, 1);\n                    }\n                }\n            }\n        } else {\n            this.events = null;\n        }\n\n        return this;\n    }\n\n    function trigger(event) {\n        var args, i;\n        var events = this.events,\n            handlers;\n\n        if (!events || event in events === false) {\n            return this;\n        }\n\n        args = slice.call(arguments, 1);\n        handlers = events[event];\n        for (i = 0; i < handlers.length; i++) {\n            handlers[i].apply(this, args);\n        }\n        return this;\n    }\n\n    function _indexOf(array, needle) {\n        var i, l;\n\n        if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n            return array.indexOf(needle);\n        }\n\n        for (i = 0, l = array.length; i < l; i++) {\n            if (array[i] === needle) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    return function () {\n        this.$watch = this.bind = bind;\n        this.$off = this.unbind = unbind;\n        this.$emit = trigger;\n        this.$once = one;\n        return this;\n    };\n}([].slice);\n\nexports.observe = observe;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL29ic2VydmVyL29ic2VydmUuanM/ZGI5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQU1BLElBQUksVUFBVyxVQUFTLEtBQVQsRUFBZ0I7O0FBRTNCLFFBQUksYUFBYSxNQUFNLFNBQXZCO0FBQ0EsUUFBSSxnQkFBZ0IsV0FBVyxPQUEvQjtBQUNBLFFBQUksUUFBUSxXQUFXLEtBQXZCOztBQUVBLGFBQVMsSUFBVCxDQUFjLEtBQWQsRUFBcUIsRUFBckIsRUFBeUI7QUFDckIsWUFBSSxDQUFKLEVBQU8sSUFBUDtBQUNBLFlBQUksU0FBUyxLQUFLLE1BQUwsR0FBYyxLQUFLLE1BQUwsSUFBZSxFQUExQztBQUNBLFlBQUksUUFBUSxNQUFNLEtBQU4sQ0FBWSxLQUFaLENBQVo7QUFDQSxZQUFJLE1BQU0sTUFBTSxNQUFoQjs7QUFFQSxhQUFLLElBQUksQ0FBVCxFQUFZLElBQUksR0FBaEIsRUFBcUIsR0FBckIsRUFBMEI7QUFDdEIsbUJBQVEsT0FBTyxNQUFNLENBQU4sQ0FBZixJQUE0QixPQUFPLElBQVAsS0FBZ0IsRUFBNUM7QUFDQSxnQkFBSSxTQUFTLE9BQU8sSUFBUCxDQUFULEVBQXVCLEVBQXZCLE1BQStCLENBQUMsQ0FBcEMsRUFBdUM7QUFDbkMsdUJBQU8sSUFBUCxFQUFhLElBQWIsQ0FBa0IsRUFBbEI7QUFDSDtBQUNKO0FBQ0QsZUFBTyxJQUFQO0FBQ0g7O0FBRUQsYUFBUyxHQUFULENBQWEsS0FBYixFQUFvQixFQUFwQixFQUF3Qjs7O0FBR3BCLFlBQUksTUFBTSxTQUFOLEdBQU0sR0FBVztBQUNqQixpQkFBSyxNQUFMLENBQVksS0FBWixFQUFtQixHQUFuQjtBQUNBLGVBQUcsS0FBSCxDQUFTLElBQVQsRUFBZSxNQUFNLElBQU4sQ0FBVyxTQUFYLENBQWY7QUFDSCxTQUhEO0FBSUEsYUFBSyxJQUFMLENBQVUsS0FBVixFQUFpQixHQUFqQjtBQUNBLGVBQU8sSUFBUDtBQUNIOztBQUVELGFBQVMsTUFBVCxDQUFnQixLQUFoQixFQUF1QixFQUF2QixFQUEyQjtBQUN2QixZQUFJLFNBQUosRUFBZSxDQUFmLEVBQWtCLEtBQWxCLEVBQXlCLEdBQXpCLEVBQThCLEtBQTlCO0FBQ0EsWUFBSSxTQUFTLEtBQUssTUFBbEI7O0FBRUEsWUFBSSxDQUFDLE1BQUwsRUFBYSxPQUFPLElBQVA7OztBQUdiLFlBQUksVUFBVSxNQUFkLEVBQXNCO0FBQ2xCLG9CQUFRLE1BQU0sS0FBTixDQUFZLEtBQVosQ0FBUjtBQUNBLGlCQUFLLElBQUksQ0FBSixFQUFPLE1BQU0sTUFBTSxNQUF4QixFQUFnQyxJQUFJLEdBQXBDLEVBQXlDLEdBQXpDLEVBQThDO0FBQzFDLG9CQUFJLENBQUMsWUFBWSxNQUFNLENBQU4sQ0FBYixLQUEwQixNQUExQixLQUFxQyxLQUF6QyxFQUFnRDtBQUM1Qyw0QkFBUyxFQUFELEdBQU8sU0FBUyxPQUFPLFNBQVAsQ0FBVCxFQUE0QixFQUE1QixDQUFQLEdBQXlDLENBQUMsQ0FBbEQ7QUFDQSx3QkFBSSxVQUFVLENBQUMsQ0FBZixFQUFrQjtBQUNkLCtCQUFPLFNBQVAsRUFBa0IsTUFBbEIsQ0FBeUIsS0FBekIsRUFBZ0MsQ0FBaEM7QUFDSDtBQUNKO0FBQ0o7QUFDSixTQVZELE1BVU87QUFDSCxpQkFBSyxNQUFMLEdBQWMsSUFBZDtBQUNIOztBQUdELGVBQU8sSUFBUDtBQUNIOztBQUVELGFBQVMsT0FBVCxDQUFpQixLQUFqQixFQUF3QjtBQUNwQixZQUFJLElBQUosRUFBVSxDQUFWO0FBQ0EsWUFBSSxTQUFTLEtBQUssTUFBbEI7WUFDSSxRQURKOztBQUdBLFlBQUksQ0FBQyxNQUFELElBQVcsU0FBUyxNQUFULEtBQW9CLEtBQW5DLEVBQTBDO0FBQ3RDLG1CQUFPLElBQVA7QUFDSDs7QUFFRCxlQUFPLE1BQU0sSUFBTixDQUFXLFNBQVgsRUFBc0IsQ0FBdEIsQ0FBUDtBQUNBLG1CQUFXLE9BQU8sS0FBUCxDQUFYO0FBQ0EsYUFBSyxJQUFJLENBQVQsRUFBWSxJQUFJLFNBQVMsTUFBekIsRUFBaUMsR0FBakMsRUFBc0M7QUFDbEMscUJBQVMsQ0FBVCxFQUFZLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0IsSUFBeEI7QUFDSDtBQUNELGVBQU8sSUFBUDtBQUNIOztBQUVELGFBQVMsUUFBVCxDQUFrQixLQUFsQixFQUF5QixNQUF6QixFQUFpQztBQUM3QixZQUFJLENBQUosRUFBTyxDQUFQOztBQUVBLFlBQUksaUJBQWlCLE1BQU0sT0FBTixLQUFrQixhQUF2QyxFQUFzRDtBQUNsRCxtQkFBTyxNQUFNLE9BQU4sQ0FBYyxNQUFkLENBQVA7QUFDSDs7QUFFRCxhQUFLLElBQUksQ0FBSixFQUFPLElBQUksTUFBTSxNQUF0QixFQUE4QixJQUFJLENBQWxDLEVBQXFDLEdBQXJDLEVBQTBDO0FBQ3RDLGdCQUFJLE1BQU0sQ0FBTixNQUFhLE1BQWpCLEVBQXlCO0FBQ3JCLHVCQUFPLENBQVA7QUFDSDtBQUNKO0FBQ0QsZUFBTyxDQUFDLENBQVI7QUFDSDs7QUFFRCxXQUFPLFlBQVc7QUFDZCxhQUFLLE1BQUwsR0FBYyxLQUFLLElBQUwsR0FBWSxJQUExQjtBQUNBLGFBQUssSUFBTCxHQUFZLEtBQUssTUFBTCxHQUFjLE1BQTFCO0FBQ0EsYUFBSyxLQUFMLEdBQWEsT0FBYjtBQUNBLGFBQUssS0FBTCxHQUFhLEdBQWI7QUFDQSxlQUFPLElBQVA7QUFDSCxLQU5EO0FBUUgsQ0FqR2EsQ0FpR1gsR0FBRyxLQWpHUSxDQUFkOztRQW1HUyxPLEdBQUEsTyIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqXHJcbiAqIOWfuuacrOS6i+S7tueuoeeQhlxyXG4gKlxyXG4gKi9cclxuXHJcbnZhciBvYnNlcnZlID0gKGZ1bmN0aW9uKHNsaWNlKSB7XHJcblxyXG4gICAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XHJcbiAgICB2YXIgbmF0aXZlSW5kZXhPZiA9IEFycmF5UHJvdG8uaW5kZXhPZjtcclxuICAgIHZhciBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2U7XHJcblxyXG4gICAgZnVuY3Rpb24gYmluZChldmVudCwgZm4pIHtcclxuICAgICAgICB2YXIgaSwgcGFydDtcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICB2YXIgcGFydHMgPSBldmVudC5zcGxpdCgvXFxzKy8pO1xyXG4gICAgICAgIHZhciBudW0gPSBwYXJ0cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICAgICAgICBldmVudHNbKHBhcnQgPSBwYXJ0c1tpXSldID0gZXZlbnRzW3BhcnRdIHx8IFtdO1xyXG4gICAgICAgICAgICBpZiAoX2luZGV4T2YoZXZlbnRzW3BhcnRdLCBmbikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHNbcGFydF0ucHVzaChmbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25lKGV2ZW50LCBmbikge1xyXG4gICAgICAgIC8vIFtub3RpY2VdIFRoZSB2YWx1ZSBvZiBmbiBhbmQgZm4xIGlzIG5vdCBlcXVpdmFsZW50IGluIHRoZSBjYXNlIG9mIHRoZSBmb2xsb3dpbmcgTVNJRS5cclxuICAgICAgICAvLyB2YXIgZm4gPSBmdW5jdGlvbiBmbjEgKCkgeyBhbGVydChmbiA9PT0gZm4xKSB9IGllLjw5IGZhbHNlXHJcbiAgICAgICAgdmFyIGZuYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnVuYmluZChldmVudCwgZm5jKTtcclxuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuYmluZChldmVudCwgZm5jKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmJpbmQoZXZlbnQsIGZuKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50TmFtZSwgaSwgaW5kZXgsIG51bSwgcGFydHM7XHJcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50cykgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgIC8v5oyH5a6aXHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcGFydHMgPSBldmVudC5zcGxpdCgvXFxzKy8pO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBudW0gPSBwYXJ0cy5sZW5ndGg7IGkgPCBudW07IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKChldmVudE5hbWUgPSBwYXJ0c1tpXSkgaW4gZXZlbnRzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gKGZuKSA/IF9pbmRleE9mKGV2ZW50c1tldmVudE5hbWVdLCBmbikgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1tldmVudE5hbWVdLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnQpIHtcclxuICAgICAgICB2YXIgYXJncywgaTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHMsXHJcbiAgICAgICAgICAgIGhhbmRsZXJzO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50cyB8fCBldmVudCBpbiBldmVudHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgICBoYW5kbGVycyA9IGV2ZW50c1tldmVudF07XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5kZXhPZihhcnJheSwgbmVlZGxlKSB7XHJcbiAgICAgICAgdmFyIGksIGw7XHJcblxyXG4gICAgICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YobmVlZGxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBuZWVkbGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy4kd2F0Y2ggPSB0aGlzLmJpbmQgPSBiaW5kO1xyXG4gICAgICAgIHRoaXMuJG9mZiA9IHRoaXMudW5iaW5kID0gdW5iaW5kO1xyXG4gICAgICAgIHRoaXMuJGVtaXQgPSB0cmlnZ2VyO1xyXG4gICAgICAgIHRoaXMuJG9uY2UgPSBvbmU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxufSkoW10uc2xpY2UpO1xyXG5cclxuZXhwb3J0IHsgb2JzZXJ2ZSB9XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9vYnNlcnZlci9vYnNlcnZlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.injectScript = injectScript;\nexports.messageBox = messageBox;\nexports.reviseSize = reviseSize;\nexports.readFile = readFile;\n\nvar _notice = __webpack_require__(21);\n\nvar _loader = __webpack_require__(12);\n\n/**\r\n * 执行脚本注入\r\n */\nfunction injectScript(code, type) {\n    //过滤回车符号\n    var enterReplace = function enterReplace(str) {\n        return str.replace(/\\r\\n/ig, '').replace(/\\r/ig, '').replace(/\\n/ig, '');\n    };\n    try {\n        new Function(\"return \" + enterReplace(code))();\n    } catch (e) {\n        console.log('加载脚本错误', type);\n    }\n}\n\n/**\r\n * [ 消息框]\r\n * @param  {[type]} message [description]\r\n * @return {[type]}         [description]\r\n */\nfunction messageBox(message) {\n    (0, _notice.messageBox)(message);\n}\n\n//缩放比\nfunction fiexdProportion(width, height, left, top) {\n    var proportion = Xut.config.proportion;\n    return {\n        width: width * proportion.width,\n        height: height * proportion.height,\n        left: left * proportion.left,\n        top: top * proportion.top\n    };\n}\n\n/*\r\n * 修复元素的尺寸\r\n * @type {[type]}\r\n */\n\nfunction reviseSize(results) {\n    //不同设备下缩放比计算\n    var layerSize = fiexdProportion(results.width, results.height, results.left, results.top);\n    //新的背景图尺寸\n    var backSize = fiexdProportion(results.backwidth, results.backheight, results.backleft, results.backtop);\n\n    //赋值新的坐标\n    results.scaleWidth = Math.ceil(layerSize.width);\n    results.scaleHeight = Math.ceil(layerSize.height);\n    results.scaleLeft = Math.floor(layerSize.left);\n    results.scaleTop = Math.floor(layerSize.top);\n\n    //背景坐标\n    results.scaleBackWidth = Math.ceil(backSize.width);\n    results.scaleBackHeight = Math.ceil(backSize.height);\n    results.scaleBackLeft = Math.floor(backSize.left);\n    results.scaleBackTop = Math.floor(backSize.top);\n\n    return results;\n}\n\n/**\r\n *  读取SVG内容\r\n *  @return {[type]} [string]\r\n */\nfunction readFile(path, callback, type) {\n\n    var paths, name, data;\n    var config = Xut.config;\n\n    /**\r\n     * ibooks模式 单独处理svg转化策划给你js,加载js文件\r\n     * @param  {[type]} IBOOKSCONFIG [description]\r\n     * @return {[type]}              [description]\r\n     */\n    if (Xut.IBooks.CONFIG) {\n\n        //如果是.svg结尾\n        //把svg替换成js\n        if (/.svg$/.test(path)) {\n            path = path.replace(\".svg\", '.js');\n        }\n\n        //全路径\n        paths = Config.svgPath().replace(\"svg\", 'js') + path;\n        //文件名\n        name = path.replace(\".js\", '');\n\n        //加载脚本\n        (0, _loader.request)(paths, function () {\n            data = HTMLCONFIG[name] || IBOOKSCONFIG[name];\n            if (data) {\n                callback(data);\n                delete HTMLCONFIG[name];\n                delete IBOOKSCONFIG[name];\n            } else {\n                callback('编译:脚本加载失败,文件名:' + name);\n            }\n        });\n\n        return;\n    }\n\n    //con str\n    //externalFile使用\n    //如果是js动态文件\n    //content的html结构\n    if (type === \"js\") {\n        paths = Config.svgPath() + path;\n        name = path.replace(\".js\", '');\n        (0, _loader.request)(paths, function () {\n            data = window.HTMLCONFIG[name];\n            if (data) {\n                callback(data);\n                delete window.HTMLCONFIG[name];\n            } else {\n                callback('运行：脚本加载失败,文件名:' + path);\n            }\n        });\n        return;\n    }\n\n    //svg文件\n    //游览器模式\n    if (Xut.plat.isBrowser) {\n        $.ajax({\n            type: 'get',\n            dataType: 'html',\n            url: config.svgPath().replace(\"www/\", \"\") + path,\n            success: function success(svgContent) {\n                callback(svgContent);\n            },\n            error: function error(xhr, type) {\n                callback('ReadFile数据加载失败');\n                console.log('SVG' + path + '解析出错!');\n            }\n        });\n    } else {\n        //手机模式\n        Xut.Plugin.ReadAssetsFile.readAssetsFileAction(config.svgPath() + path, function (svgContent) {\n            callback(svgContent);\n        }, function (err) {\n            callback('数据加载失败');\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvb3B0aW9uLmpzP2RjN2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFXZ0IsWSxHQUFBLFk7UUFrQkEsVSxHQUFBLFU7UUFzQkEsVSxHQUFBLFU7UUEwQkEsUSxHQUFBLFE7O0FBN0VoQjs7QUFLQTs7Ozs7QUFNTyxTQUFTLFlBQVQsQ0FBc0IsSUFBdEIsRUFBNEIsSUFBNUIsRUFBa0M7O0FBRXJDLFFBQUksZUFBZSxTQUFmLFlBQWUsQ0FBUyxHQUFULEVBQWM7QUFDN0IsZUFBTyxJQUFJLE9BQUosQ0FBWSxRQUFaLEVBQXNCLEVBQXRCLEVBQTBCLE9BQTFCLENBQWtDLE1BQWxDLEVBQTBDLEVBQTFDLEVBQThDLE9BQTlDLENBQXNELE1BQXRELEVBQThELEVBQTlELENBQVA7QUFDSCxLQUZEO0FBR0EsUUFBSTtBQUNDLFlBQUksUUFBSixDQUFhLFlBQVksYUFBYSxJQUFiLENBQXpCLENBQUQ7QUFDSCxLQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDUixnQkFBUSxHQUFSLENBQVksUUFBWixFQUFzQixJQUF0QjtBQUNIO0FBQ0o7Ozs7Ozs7QUFRTSxTQUFTLFVBQVQsQ0FBb0IsT0FBcEIsRUFBNkI7QUFDaEMsNEJBQUksT0FBSjtBQUNIOzs7QUFLRCxTQUFTLGVBQVQsQ0FBeUIsS0FBekIsRUFBZ0MsTUFBaEMsRUFBd0MsSUFBeEMsRUFBOEMsR0FBOUMsRUFBbUQ7QUFDL0MsUUFBSSxhQUFhLElBQUksTUFBSixDQUFXLFVBQTVCO0FBQ0EsV0FBTztBQUNILGVBQU8sUUFBUSxXQUFXLEtBRHZCO0FBRUgsZ0JBQVEsU0FBUyxXQUFXLE1BRnpCO0FBR0gsY0FBTSxPQUFPLFdBQVcsSUFIckI7QUFJSCxhQUFLLE1BQU0sV0FBVztBQUpuQixLQUFQO0FBTUg7Ozs7Ozs7QUFPTSxTQUFTLFVBQVQsQ0FBb0IsT0FBcEIsRUFBNkI7O0FBRWhDLFFBQUksWUFBWSxnQkFBZ0IsUUFBUSxLQUF4QixFQUErQixR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QUFSLENBQVksUUFBUSxJQUFSLEdBQWUsT0FBM0I7QUFDSDtBQVZFLFNBQVA7QUFhSCxLQWRELE1BY087O0FBRUgsWUFBSSxNQUFKLENBQVcsY0FBWCxDQUEwQixvQkFBMUIsQ0FBK0MsT0FBTyxPQUFQLEtBQW1CLElBQWxFLEVBQXdFLFVBQVMsVUFBVCxFQUFxQjtBQUN6RixxQkFBUyxVQUFUO0FBQ0gsU0FGRCxFQUVHLFVBQVMsR0FBVCxFQUFjO0FBQ2IscUJBQVMsUUFBVDtBQUNILFNBSkQ7QUFLSDtBQUNKIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgbWVzc2FnZUJveCBhcyBib3hcclxufVxyXG5mcm9tICcuL25vdGljZSdcclxuXHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcuL2xvYWRlcidcclxuXHJcblxyXG4vKipcclxuICog5omn6KGM6ISa5pys5rOo5YWlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0U2NyaXB0KGNvZGUsIHR5cGUpIHtcclxuICAgIC8v6L+H5ruk5Zue6L2m56ym5Y+3XHJcbiAgICB2YXIgZW50ZXJSZXBsYWNlID0gZnVuY3Rpb24oc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHJcXG4vaWcsICcnKS5yZXBsYWNlKC9cXHIvaWcsICcnKS5yZXBsYWNlKC9cXG4vaWcsICcnKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgKG5ldyBGdW5jdGlvbihcInJldHVybiBcIiArIGVudGVyUmVwbGFjZShjb2RlKSkpKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+WKoOi9veiEmuacrOmUmeivrycsIHR5cGUpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogWyDmtojmga/moYZdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gbWVzc2FnZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbWVzc2FnZUJveChtZXNzYWdlKSB7XHJcbiAgICBib3gobWVzc2FnZSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy/nvKnmlL7mr5RcclxuZnVuY3Rpb24gZmlleGRQcm9wb3J0aW9uKHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCkge1xyXG4gICAgdmFyIHByb3BvcnRpb24gPSBYdXQuY29uZmlnLnByb3BvcnRpb247XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHdpZHRoOiB3aWR0aCAqIHByb3BvcnRpb24ud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiBwcm9wb3J0aW9uLmhlaWdodCxcclxuICAgICAgICBsZWZ0OiBsZWZ0ICogcHJvcG9ydGlvbi5sZWZ0LFxyXG4gICAgICAgIHRvcDogdG9wICogcHJvcG9ydGlvbi50b3BcclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICog5L+u5aSN5YWD57Sg55qE5bC65a+4XHJcbiAqIEB0eXBlIHtbdHlwZV19XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJldmlzZVNpemUocmVzdWx0cykge1xyXG4gICAgLy/kuI3lkIzorr7lpIfkuIvnvKnmlL7mr5TorqHnrpdcclxuICAgIHZhciBsYXllclNpemUgPSBmaWV4ZFByb3BvcnRpb24ocmVzdWx0cy53aWR0aCwgcmVzdWx0cy5oZWlnaHQsIHJlc3VsdHMubGVmdCwgcmVzdWx0cy50b3ApO1xyXG4gICAgLy/mlrDnmoTog4zmma/lm77lsLrlr7hcclxuICAgIHZhciBiYWNrU2l6ZSA9IGZpZXhkUHJvcG9ydGlvbihyZXN1bHRzLmJhY2t3aWR0aCwgcmVzdWx0cy5iYWNraGVpZ2h0LCByZXN1bHRzLmJhY2tsZWZ0LCByZXN1bHRzLmJhY2t0b3ApO1xyXG5cclxuICAgIC8v6LWL5YC85paw55qE5Z2Q5qCHXHJcbiAgICByZXN1bHRzLnNjYWxlV2lkdGggPSBNYXRoLmNlaWwobGF5ZXJTaXplLndpZHRoKTtcclxuICAgIHJlc3VsdHMuc2NhbGVIZWlnaHQgPSBNYXRoLmNlaWwobGF5ZXJTaXplLmhlaWdodCk7XHJcbiAgICByZXN1bHRzLnNjYWxlTGVmdCA9IE1hdGguZmxvb3IobGF5ZXJTaXplLmxlZnQpO1xyXG4gICAgcmVzdWx0cy5zY2FsZVRvcCA9IE1hdGguZmxvb3IobGF5ZXJTaXplLnRvcCk7XHJcblxyXG4gICAgLy/og4zmma/lnZDmoIdcclxuICAgIHJlc3VsdHMuc2NhbGVCYWNrV2lkdGggPSBNYXRoLmNlaWwoYmFja1NpemUud2lkdGgpO1xyXG4gICAgcmVzdWx0cy5zY2FsZUJhY2tIZWlnaHQgPSBNYXRoLmNlaWwoYmFja1NpemUuaGVpZ2h0KTtcclxuICAgIHJlc3VsdHMuc2NhbGVCYWNrTGVmdCA9IE1hdGguZmxvb3IoYmFja1NpemUubGVmdCk7XHJcbiAgICByZXN1bHRzLnNjYWxlQmFja1RvcCA9IE1hdGguZmxvb3IoYmFja1NpemUudG9wKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiAg6K+75Y+WU1ZH5YaF5a65XHJcbiAqICBAcmV0dXJuIHtbdHlwZV19IFtzdHJpbmddXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGUocGF0aCwgY2FsbGJhY2ssIHR5cGUpIHtcclxuXHJcbiAgICB2YXIgcGF0aHMsIG5hbWUsIGRhdGE7XHJcbiAgICB2YXIgY29uZmlnID0gWHV0LmNvbmZpZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIGlib29rc+aooeW8jyDljZXni6zlpITnkIZzdmfovazljJbnrZbliJLnu5nkvaBqcyzliqDovb1qc+aWh+S7tlxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBJQk9PS1NDT05GSUcgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBpZiAoWHV0LklCb29rcy5DT05GSUcpIHtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK8uc3Zn57uT5bC+XHJcbiAgICAgICAgLy/miopzdmfmm7/mjaLmiJBqc1xyXG4gICAgICAgIGlmICgvLnN2ZyQvLnRlc3QocGF0aCkpIHtcclxuICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShcIi5zdmdcIiwgJy5qcycpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WFqOi3r+W+hFxyXG4gICAgICAgIHBhdGhzID0gQ29uZmlnLnN2Z1BhdGgoKS5yZXBsYWNlKFwic3ZnXCIsICdqcycpICsgcGF0aDtcclxuICAgICAgICAvL+aWh+S7tuWQjVxyXG4gICAgICAgIG5hbWUgPSBwYXRoLnJlcGxhY2UoXCIuanNcIiwgJycpXHJcblxyXG4gICAgICAgIC8v5Yqg6L296ISa5pysXHJcbiAgICAgICAgcmVxdWVzdChwYXRocywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBIVE1MQ09ORklHW25hbWVdIHx8IElCT09LU0NPTkZJR1tuYW1lXVxyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSlcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBIVE1MQ09ORklHW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIElCT09LU0NPTkZJR1tuYW1lXVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soJ+e8luivkTrohJrmnKzliqDovb3lpLHotKUs5paH5Lu25ZCNOicgKyBuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vY29uIHN0clxyXG4gICAgLy9leHRlcm5hbEZpbGXkvb/nlKhcclxuICAgIC8v5aaC5p6c5pivanPliqjmgIHmlofku7ZcclxuICAgIC8vY29udGVudOeahGh0bWznu5PmnoRcclxuICAgIGlmICh0eXBlID09PSBcImpzXCIpIHtcclxuICAgICAgICBwYXRocyA9IENvbmZpZy5zdmdQYXRoKCkgKyBwYXRoO1xyXG4gICAgICAgIG5hbWUgPSBwYXRoLnJlcGxhY2UoXCIuanNcIiwgJycpXHJcbiAgICAgICAgcmVxdWVzdChwYXRocywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSB3aW5kb3cuSFRNTENPTkZJR1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LkhUTUxDT05GSUdbbmFtZV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygn6L+Q6KGM77ya6ISa5pys5Yqg6L295aSx6LSlLOaWh+S7tuWQjTonICsgcGF0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vc3Zn5paH5Lu2XHJcbiAgICAvL+a4uOiniOWZqOaooeW8j1xyXG4gICAgaWYgKFh1dC5wbGF0LmlzQnJvd3Nlcikge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxyXG4gICAgICAgICAgICB1cmw6IGNvbmZpZy5zdmdQYXRoKCkucmVwbGFjZShcInd3dy9cIiwgXCJcIikgKyBwYXRoLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihzdmdDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzdmdDb250ZW50KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soJ1JlYWRGaWxl5pWw5o2u5Yqg6L295aSx6LSlJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1ZHJyArIHBhdGggKyAn6Kej5p6Q5Ye66ZSZIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v5omL5py65qih5byPXHJcbiAgICAgICAgWHV0LlBsdWdpbi5SZWFkQXNzZXRzRmlsZS5yZWFkQXNzZXRzRmlsZUFjdGlvbihjb25maWcuc3ZnUGF0aCgpICsgcGF0aCwgZnVuY3Rpb24oc3ZnQ29udGVudCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhzdmdDb250ZW50KTtcclxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soJ+aVsOaNruWKoOi9veWksei0pScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi91dGlsL29wdGlvbi5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nexports._key = _key;\nexports._set = _set;\nexports._get = _get;\nexports._remove = _remove;\nexports._fetch = _fetch;\nexports._save = _save;\nvar dbId,\n    onlyId,\n    storage = window.localStorage;\n\nvar TAG = 'aaron';\n\n//如果数据库为写入appid ,则创建\nvar createAppid = function createAppid() {\n    //添加UUID\n    var appId = 'aaron-' + new Date().getDate();\n    //写入数据库\n    Xut.config.db && Xut.config.db.transaction(function (tx) {\n        tx.executeSql(\"UPDATE Setting SET 'value' = \" + appId + \" WHERE [name] = 'appId'\", function () {}, function () {});\n    }, function () {\n        //  callback && callback();\n    }, function () {\n        //  callback && callback();\n    });\n    return appId;\n};\n\n//过滤\nvar filter = function filter(key) {\n    //添加头部标示\n    if (onlyId) {\n        return key + onlyId;\n    } else {\n        if (!Xut.config.appUUID) {\n            Xut.config.appUUID = createAppid();\n        }\n        //子文档标记\n        if (SUbCONFIGT && SUbCONFIGT.dbId) {\n            onlyId = \"-\" + Xut.config.appUUID + \"-\" + SUbCONFIGT.dbId;\n        } else {\n            onlyId = \"-\" + Xut.config.appUUID;\n        }\n    }\n    return key + onlyId;\n};\n\n/**\r\n * *按索引值获取存储项的key\r\n * @param  {[type]} index [description]\r\n * @return {[type]}       [description]\r\n */\nfunction _key(index) {\n    //本地方法\n    return storage.key(index);\n};\n\n/**\r\n * 设置localStorage\r\n * @param {[type]} key [description]\r\n * @param {[type]} val [description]\r\n */\nfunction _set(key, val) {\n    var setkey;\n\n    //ipad ios8.3setItem出问题\n    function set(key, val) {\n        try {\n            storage.setItem(key, val);\n        } catch (e) {\n            console.log('storage.setItem(setkey, key[i]);');\n        }\n    }\n\n    if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n        for (var i in key) {\n            if (key.hasOwnProperty(i)) {\n                setkey = filter(i);\n                set(setkey, key[i]);\n            }\n        }\n    } else {\n        key = filter(key);\n        set(key, val);\n    }\n};\n\n/**\r\n * 获取localstorage中的值\r\n * @param  {[type]} key [description]\r\n * @return {[type]}     [description]\r\n */\nfunction _get(key) {\n    key = filter(key);\n    return storage.getItem(key);\n};\n\n/**\r\n * 删除localStorage中指定项\r\n * @param  {[type]} key [description]\r\n * @return {[type]}     [description]\r\n */\nfunction _remove(key) {\n    key = filter(key);\n    storage.removeItem(key);\n};\n\n/**\r\n * 序列化\r\n * @return {[type]} [description]\r\n */\nfunction _fetch() {\n    return JSON.parse(get(name || TAG) || '[]');\n}\n\nfunction _save(name, val) {\n    set(name || TAG, JSON.stringify(val));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvc3Ryb2FnZS5qcz84ZmNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O1FBOENnQixJLEdBQUEsSTtRQVNBLEksR0FBQSxJO1FBOEJBLEksR0FBQSxJO1FBVUEsTyxHQUFBLE87UUFTQSxNLEdBQUEsTTtRQUtBLEssR0FBQSxLO0FBN0doQixJQUFJLElBQUo7SUFDSSxNQURKO0lBRUksVUFBVSxPQUFPLFlBRnJCOztBQUlBLElBQU0sTUFBTSxPQUFaOzs7QUFJQSxJQUFJLGNBQWMsU0FBZCxXQUFjLEdBQVc7O0FBRXpCLFFBQUksUUFBUSxXQUFXLElBQUksSUFBSixHQUFXLE9BQVgsRUFBdkI7O0FBRUEsUUFBSSxNQUFKLENBQVcsRUFBWCxJQUFpQixJQUFJLE1BQUosQ0FBVyxFQUFYLENBQWMsV0FBZCxDQUEwQixVQUFTLEVBQVQsRUFBYTtBQUNwRCxXQUFHLFVBQUgsQ0FBYyxrQ0FBa0MsS0FBbEMsR0FBMEMseUJBQXhELEVBQW1GLFlBQVcsQ0FBRSxDQUFoRyxFQUFrRyxZQUFXLENBQUUsQ0FBL0c7QUFDSCxLQUZnQixFQUVkLFlBQVc7O0FBRWIsS0FKZ0IsRUFJZCxZQUFXOztBQUViLEtBTmdCLENBQWpCO0FBT0EsV0FBTyxLQUFQO0FBQ0gsQ0FaRDs7O0FBZUEsSUFBSSxTQUFTLFNBQVQsTUFBUyxDQUFTLEdBQVQsRUFBYzs7QUFFdkIsUUFBSSxNQUFKLEVBQVk7QUFDUixlQUFPLE1BQU0sTUFBYjtBQUNILEtBRkQsTUFFTztBQUNILFlBQUksQ0FBQyxJQUFJLE1BQUosQ0FBVyxPQUFoQixFQUF5QjtBQUNyQixnQkFBSSxNQUFKLENBQVcsT0FBWCxHQUFxQixhQUFyQjtBQUNIOztBQUVELFlBQUksY0FBYyxXQUFXLElBQTdCLEVBQW1DO0FBQy9CLHFCQUFTLE1BQU0sSUFBSSxNQUFKLENBQVcsT0FBakIsR0FBMkIsR0FBM0IsR0FBaUMsV0FBVyxJQUFyRDtBQUNILFNBRkQsTUFFTztBQUNILHFCQUFTLE1BQU0sSUFBSSxNQUFKLENBQVcsT0FBMUI7QUFDSDtBQUNKO0FBQ0QsV0FBTyxNQUFNLE1BQWI7QUFDSCxDQWhCRDs7Ozs7OztBQXVCTyxTQUFTLElBQVQsQ0FBYyxLQUFkLEVBQXFCOztBQUN4QixXQUFPLFFBQVEsR0FBUixDQUFZLEtBQVosQ0FBUDtBQUNIOzs7Ozs7O0FBT00sU0FBUyxJQUFULENBQWMsR0FBZCxFQUFtQixHQUFuQixFQUF3QjtBQUMzQixRQUFJLE1BQUo7OztBQUdBLGFBQVMsR0FBVCxDQUFhLEdBQWIsRUFBa0IsR0FBbEIsRUFBdUI7QUFDbkIsWUFBSTtBQUNBLG9CQUFRLE9BQVIsQ0FBZ0IsR0FBaEIsRUFBcUIsR0FBckI7QUFDSCxTQUZELENBRUUsT0FBTyxDQUFQLEVBQVU7QUFDUixvQkFBUSxHQUFSLENBQVksa0NBQVo7QUFDSDtBQUNKOztBQUVELFFBQUksUUFBTyxHQUFQLHlDQUFPLEdBQVAsT0FBZSxRQUFuQixFQUE2QjtBQUN6QixhQUFLLElBQUksQ0FBVCxJQUFjLEdBQWQsRUFBbUI7QUFDZixnQkFBSSxJQUFJLGNBQUosQ0FBbUIsQ0FBbkIsQ0FBSixFQUEyQjtBQUN2Qix5QkFBUyxPQUFPLENBQVAsQ0FBVDtBQUNBLG9CQUFJLE1BQUosRUFBWSxJQUFJLENBQUosQ0FBWjtBQUNIO0FBQ0o7QUFDSixLQVBELE1BT087QUFDSCxjQUFNLE9BQU8sR0FBUCxDQUFOO0FBQ0EsWUFBSSxHQUFKLEVBQVMsR0FBVDtBQUNIO0FBQ0o7Ozs7Ozs7QUFPTSxTQUFTLElBQVQsQ0FBYyxHQUFkLEVBQW1CO0FBQ3RCLFVBQU0sT0FBTyxHQUFQLENBQU47QUFDQSxXQUFPLFFBQVEsT0FBUixDQUFnQixHQUFoQixDQUFQO0FBQ0g7Ozs7Ozs7QUFPTSxTQUFTLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0I7QUFDekIsVUFBTSxPQUFPLEdBQVAsQ0FBTjtBQUNBLFlBQVEsVUFBUixDQUFtQixHQUFuQjtBQUNIOzs7Ozs7QUFNTSxTQUFTLE1BQVQsR0FBa0I7QUFDckIsV0FBTyxLQUFLLEtBQUwsQ0FBVyxJQUFJLFFBQVEsR0FBWixLQUFvQixJQUEvQixDQUFQO0FBQ0g7O0FBR00sU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQixHQUFyQixFQUEwQjtBQUM3QixRQUFJLFFBQVEsR0FBWixFQUFpQixLQUFLLFNBQUwsQ0FBZSxHQUFmLENBQWpCO0FBQ0giLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBkYklkLFxyXG4gICAgb25seUlkLFxyXG4gICAgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcblxyXG5jb25zdCBUQUcgPSAnYWFyb24nXHJcblxyXG5cclxuLy/lpoLmnpzmlbDmja7lupPkuLrlhpnlhaVhcHBpZCAs5YiZ5Yib5bu6XHJcbnZhciBjcmVhdGVBcHBpZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy/mt7vliqBVVUlEXHJcbiAgICB2YXIgYXBwSWQgPSAnYWFyb24tJyArIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xyXG4gICAgLy/lhpnlhaXmlbDmja7lupNcclxuICAgIFh1dC5jb25maWcuZGIgJiYgWHV0LmNvbmZpZy5kYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xyXG4gICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJVUERBVEUgU2V0dGluZyBTRVQgJ3ZhbHVlJyA9IFwiICsgYXBwSWQgKyBcIiBXSEVSRSBbbmFtZV0gPSAnYXBwSWQnXCIsIGZ1bmN0aW9uKCkge30sIGZ1bmN0aW9uKCkge30pO1xyXG4gICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XHJcbiAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGFwcElkO1xyXG59XHJcblxyXG4vL+i/h+a7pFxyXG52YXIgZmlsdGVyID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAvL+a3u+WKoOWktOmDqOagh+ekulxyXG4gICAgaWYgKG9ubHlJZCkge1xyXG4gICAgICAgIHJldHVybiBrZXkgKyBvbmx5SWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghWHV0LmNvbmZpZy5hcHBVVUlEKSB7XHJcbiAgICAgICAgICAgIFh1dC5jb25maWcuYXBwVVVJRCA9IGNyZWF0ZUFwcGlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5a2Q5paH5qGj5qCH6K6wXHJcbiAgICAgICAgaWYgKFNVYkNPTkZJR1QgJiYgU1ViQ09ORklHVC5kYklkKSB7XHJcbiAgICAgICAgICAgIG9ubHlJZCA9IFwiLVwiICsgWHV0LmNvbmZpZy5hcHBVVUlEICsgXCItXCIgKyBTVWJDT05GSUdULmRiSWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb25seUlkID0gXCItXCIgKyBYdXQuY29uZmlnLmFwcFVVSUQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleSArIG9ubHlJZDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiAq5oyJ57Si5byV5YC86I635Y+W5a2Y5YKo6aG555qEa2V5XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gaW5kZXggW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfa2V5KGluZGV4KSB7IC8v5pys5Zyw5pa55rOVXHJcbiAgICByZXR1cm4gc3RvcmFnZS5rZXkoaW5kZXgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOiuvue9rmxvY2FsU3RvcmFnZVxyXG4gKiBAcGFyYW0ge1t0eXBlXX0ga2V5IFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHtbdHlwZV19IHZhbCBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX3NldChrZXksIHZhbCkge1xyXG4gICAgdmFyIHNldGtleTtcclxuXHJcbiAgICAvL2lwYWQgaW9zOC4zc2V0SXRlbeWHuumXrumimFxyXG4gICAgZnVuY3Rpb24gc2V0KGtleSwgdmFsKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdG9yYWdlLnNldEl0ZW0oc2V0a2V5LCBrZXlbaV0pOycpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4ga2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgIHNldGtleSA9IGZpbHRlcihpKTtcclxuICAgICAgICAgICAgICAgIHNldChzZXRrZXksIGtleVtpXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAga2V5ID0gZmlsdGVyKGtleSk7XHJcbiAgICAgICAgc2V0KGtleSwgdmFsKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDojrflj5Zsb2NhbHN0b3JhZ2XkuK3nmoTlgLxcclxuICogQHBhcmFtICB7W3R5cGVdfSBrZXkgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX2dldChrZXkpIHtcclxuICAgIGtleSA9IGZpbHRlcihrZXkpO1xyXG4gICAgcmV0dXJuIHN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOWIoOmZpGxvY2FsU3RvcmFnZeS4reaMh+WumumhuVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGtleSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfcmVtb3ZlKGtleSkge1xyXG4gICAga2V5ID0gZmlsdGVyKGtleSk7XHJcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDluo/liJfljJZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX2ZldGNoKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZ2V0KG5hbWUgfHwgVEFHKSB8fCAnW10nKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfc2F2ZShuYW1lLCB2YWwpIHtcclxuICAgIHNldChuYW1lIHx8IFRBRywgSlNPTi5zdHJpbmdpZnkodmFsKSk7XHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvdXRpbC9zdHJvYWdlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.bindEvents = bindEvents;\nexports.conversionEventType = conversionEventType;\nexports.defaultBehavior = defaultBehavior;\nexports.destroyEvents = destroyEvents;\n/**\r\n * ppt事件接口\r\n *\r\n * 允许用户自定义其行为\r\n *     1 支持14种操作行为\r\n *     2 默认对象都具有滑动翻页的特性\r\n *     3 翻页的特性在遇到特性的情况可以被覆盖\r\n *     比如\r\n *         行为1：用户定义该名字可以支持  click 点击行为， 那么该元素左右滑动能过翻页\r\n *         行为2：用户如果定义swipeLeft 行为，该元素左右滑动将不会翻页，因为默认翻页已经被覆盖\r\n *\r\n * 此接口函数有作用域隔离\r\n */\n\n/**\r\n * ie10下面mouse事件怪异\r\n * @return {Boolean} [description]\r\n */\nvar isIE10 = document.documentMode === 10;\n\n/**\r\n * 事件类型\r\n * @type {Array}\r\n */\nvar eventName = ['null', 'auto', 'tap', 'drag', 'dragTag', 'swipeleft', 'swiperight', 'swipeup', 'swipedown', 'doubletap', 'press', 'pinchout', 'pinchin', 'rotate', 'assist'];\n\n/*********************************************************************\r\n *                重写默认事件\r\n *\r\n *                Content对象默认具有左右翻页的特性\r\n *                根据过滤来选择是否覆盖重写这个特性\r\n *                比如 用户如果遇到 swipeLeft，swipeRight 这种本身与翻页行为冲突的\r\n *                将要覆盖这个行为\r\n *                                                         *\r\n **********************************************************************/\n\n//过滤事件\n//如果用户指定了如下操作行为,将覆盖默认的翻页行为\nvar filterEvent = ['drag', 'dragTag', 'swipeleft', 'swiperight', 'swipeup', 'swipedown'];\n\n/**\r\n * 是否过滤\r\n * @param  {[type]} evtName [description]\r\n * @return {[type]}         [description]\r\n */\nfunction isfilter(eventName) {\n    return filterEvent.indexOf(eventName) === -1 ? true : false;\n}\n\n/**\r\n * 特性摘除\r\n * 1 ：无事件，默认可以翻页，还可以切换工具栏\r\n * 2 ：静态事件，默认可以翻页\r\n * 3 : 冲突事件，默认删除\r\n * 去除默认元素具有的翻页特性\r\n * @param  {[type]} evtName [事件名]\r\n * @return {[type]}         [description]\r\n */\nfunction checkDefaultBehavior(supportSwipe, element) {\n    if (supportSwipe) {\n        //静态事件，默认可以翻页，还可以切换工具栏\n        element.attr('data-behavior', 'swipe');\n    } else {\n        //如果事件存在\n        element.attr('data-behavior', 'disable');\n    }\n}\n\n/**\r\n * 针对软件培训的操作行为下光标状态需求\r\n * @param {[type]} element [description]\r\n */\nfunction addCursor(eventName, $element) {\n    if ($element) {\n        if (!$element.prop('setCursor')) {\n            //只设置一次\n            if (eventName === ('drag' || 'dragTag')) {\n                $element.css('cursor', 'Move');\n            } else {\n                $element.css('cursor', 'Pointer');\n            }\n            $element.prop('setCursor', 'true');\n        }\n    }\n}\n\n/**\r\n * 针对canvas模式\r\n * 特殊的hack\r\n */\nfunction setCanvasStart(supportSwipe) {\n    Xut.Contents.Canvas.Reset();\n    //当前点击的元素是滑动元素\n    //处理元素的全局事件\n    Xut.Contents.Canvas.SupportSwipe = supportSwipe;\n    Xut.Contents.Canvas.isTap = true;\n}\n\nfunction setCanvasMove() {\n    Xut.Contents.Canvas.isSwipe = true;\n}\n\n/**\r\n * 兼容事件对象\r\n * @return {[type]}   [description]\r\n */\nfunction compatibilityEvent(e) {\n    var point;\n    if (e.touches && e.touches[0]) {\n        point = e.touches[0];\n    } else {\n        point = e;\n    }\n    return point;\n}\n\n/**\r\n * 如果是简单的点击事件\r\n */\nfunction tapEvent(eventContext, domMode, eventHandle, supportSwipe) {\n\n    eventContext.isTap = false;\n\n    //这里单独绑定事件有个问题,单击move被触发\n    //如果停止e.stopPropagation，那么默认行为就不会被触发\n    //你绑定单击的情况下可以翻页\n    //这里通过坐标的位置来判断\n    var start = function start(e) {\n        var point = compatibilityEvent(e);\n        //记录开始坐标\n        eventContext.pageX = point.pageX;\n        //是否是tap事件\n        eventContext.isTap = true;\n        setCanvasStart(supportSwipe);\n    },\n        move = function move(e) {\n        if (!eventContext.isTap) {\n            return;\n        }\n        var point = compatibilityEvent(e),\n            deltaX = point.pageX - eventContext.pageX;\n        //如果有move事件，则取消tap事件\n        if (Math.abs(deltaX)) {\n            eventContext.isTap = false;\n            setCanvasMove(supportSwipe);\n        }\n    },\n        end = function end(e) {\n        //触发tap事件\n        eventContext.isTap && eventHandle();\n    };\n\n    //绑定canvas事件\n    function onCanvas(eventContext) {\n        eventContext.mousedown = eventContext.touchstart = start;\n        eventContext.mousemove = eventContext.touchmove = move;\n        eventContext.mouseup = eventContext.touchend = end;\n    }\n\n    function offCanvas(eventContext) {\n        eventContext.mousedown = eventContext.touchstart = null;\n        eventContext.mousemove = eventContext.touchmove = null;\n        eventContext.mouseup = eventContext.touchend = null;\n    }\n\n    if (domMode) {\n        eventContext = eventContext[0];\n        //IE10是不支持touch事件，直接绑定click事件\n        if (isIE10) {\n            eventContext.isTap = true;\n            eventContext.addEventListener('click', end, false);\n        } else {\n            Xut.plat.execEvent('on', {\n                context: eventContext,\n                callback: {\n                    start: start,\n                    move: move,\n                    end: end\n                }\n            });\n        }\n    } else {\n        //canvas开启模式\n        eventContext.interactive = true;\n        onCanvas(eventContext);\n    }\n\n    //销毁接口\n    return {\n        off: function off() {\n            if (eventContext) {\n                if (domMode) {\n                    if (isIE10) {\n                        eventContext.removeEventListener('click', end, false);\n                    } else {\n                        Xut.plat.execEvent('off', {\n                            context: eventContext,\n                            callback: {\n                                start: start,\n                                move: move,\n                                end: end\n                            }\n                        });\n                    }\n                    eventContext = null;\n                } else {\n                    //canvas模式处理\n                    if (eventContext.destroy) {\n                        eventContext.destroy();\n                    } else {\n                        offCanvas(eventContext);\n                    }\n                    eventContext = null;\n                }\n            }\n        }\n    };\n}\n\n/**\r\n * 优化hammer创建,生成必要配置文件\r\n * @return {[type]} [description]\r\n */\nfunction createRecognizers(eventName) {\n    var recognizers = [];\n    switch (eventName) {\n        //如果是swipe处理\n        case 'swipeleft':\n        case 'swiperight':\n        case 'swipeup':\n        case 'swipedown':\n            var direction = Hammer.DIRECTION_HORIZONTAL;\n            if (eventName === 'swipeup' || eventName === \"swipedown\") {\n                direction = Hammer.DIRECTION_VERTICAL;\n            }\n            recognizers.push([Hammer.Swipe, { 'direction': direction, 'velocity': 0.01 }]);\n            break;\n        case 'doubletap':\n            //双击\n            recognizers.push([Hammer.Tap]);\n            recognizers.push([Hammer.Tap, { event: 'doubletap', taps: 2 }, ['tap']]);\n            break;\n        case 'press':\n            //长按\n            recognizers.push([Hammer.Press]);\n            return;\n    }\n    return recognizers;\n}\n\n/**\r\n * 创建hammer引用\r\n * @return {[type]}         [description]\r\n */\nfunction createHammer(eventContext, eventName, domMode, supportSwipe) {\n    var eventReference;\n    if (domMode) {\n        var context = eventContext[0];\n        var recognizer = createRecognizers(eventName);\n        if (recognizer && recognizer.length) {\n            eventReference = Hammer(context, {\n                'recognizers': recognizer\n            });\n        } else {\n            eventReference = Hammer(context);\n        }\n    } else {\n        //canvas模式事件绑定\n        eventContext.interactive = true;\n        eventReference = Hammer(context, {\n            'recognizers': recognizer,\n            'pixiContext': eventContext,\n            'returnStart': function returnStart(evt) {\n                setCanvasStart(supportSwipe);\n            },\n            'returnMove': function returnMove() {\n                setCanvasMove(supportSwipe);\n            }\n        });\n    }\n    return eventReference;\n}\n\n/**\r\n * 复杂的事件\r\n * @return {[type]} [description]\r\n */\nfunction complexEvent(eventContext, eventName, domMode, eventHandler, supportSwipe) {\n    var eventReference = createHammer(eventContext, eventName, domMode, supportSwipe);\n    eventReference.on(eventName, function (ev) {\n        eventHandler();\n    });\n    return eventReference;\n}\n\n//绑定事件\nfunction bindEvent(eventDrop, data) {\n    var dragObj, eventHandler, eventReference;\n    var eventContext = data.eventContext;\n    var eventName = data.eventName;\n    var domMode = data.domMode;\n    switch (eventName) {\n        case 'drag':\n            //拖动\n            dragObj = new DragDropClass(eventContext, null, data.parameter, eventDrop.startRun, eventDrop.stopRun);\n            break;\n        case 'dragTag':\n            //拖拽\n            dragObj = new DragDropClass(eventContext, data.target, 1, eventDrop.startRun, eventDrop.stopRun);\n            break;\n        default:\n            //事件句柄\n            eventHandler = function eventHandler() {\n                data.eventRun.call(eventContext);\n            };\n            eventReference = eventName === 'tap' ? tapEvent(eventContext, domMode, eventHandler, data.supportSwipe) : complexEvent(eventContext, eventName, domMode, eventHandler, data.supportSwipe);\n            break;\n    }\n    return [dragObj, eventReference, eventHandler];\n}\n\n//绑定事件\n// parameter 参数\n// 1：对于自由拖动drag，para参数为0，表示松手后，停留在松手的地方\n//                      para参数为1，表示松手后，返回原来的位置\n//\n// 2: 对于拖拽dragTag， para表示目标对象的target\nfunction applyEvent(data) {\n\n    //针对软件培训的操作行为下光标状态需求\n    Xut.plat.isBrowser && data.domMode && addCursor(data.eventName, data.eventContext);\n\n    //绑定事件\n    var eventDrop = data.eventDrop,\n        eventObj = bindEvent(eventDrop, data);\n\n    //拖动,拖拽对象处理\n    if (eventObj[0] && eventDrop.init) {\n        eventDrop.init(eventObj[0]);\n    } else {\n        //传递引用\n        data.eventHandler(eventObj[1], eventObj[2]);\n    }\n}\n\n//================事件接口====================\n\n/**\r\n * 注册自定义事件\r\n * this还是引用的当前实例的上下文\r\n *\r\n *   'element'   : 事件对象\r\n *   'target'    : 目标对象\r\n *   'parameter' : 拖动参数\r\n *   'evtName'   : 事件名,\r\n *\r\n *   callbackHook 回调函数 ,处理具体的事情\r\n */\nfunction bindEvents(data) {\n    //是否支持翻页\n    var supportSwipe = data.supportSwipe = isfilter(data.eventName);\n    //检测是否移除元素的默认行为,因为元素都具有翻页的特性\n    if (data.domMode) {\n        checkDefaultBehavior(supportSwipe, data.eventContext);\n    }\n    //执行事件绑定\n    applyEvent(data);\n}\n\n//数据库预定义14个事件接口\n//提供给content文件\n//用于过滤数据库字段指定的行为\n//https://github.com/EightMedia/hammer.js/wiki/Getting-Started\n//2014.3.18 新增assist 辅助对象事件\nfunction conversionEventType(eventType) {\n    return eventName[Number(eventType) - 1] || null;\n}\n\nfunction defaultBehavior(element) {\n    element && element.attr('data-behavior', 'disable');\n}\n\n//销毁对象事件\nfunction destroyEvents(eventData, eventName) {\n    if (eventData.eventReference) {\n        eventData.eventReference.off(eventName || eventData.eventName, eventData.eventHandler);\n        eventData.eventReference = null;\n        eventData.eventHandler = null;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2V2ZW50LmpzP2Q2ODMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFrWGdCLFUsR0FBQSxVO1FBZ0JBLG1CLEdBQUEsbUI7UUFLQSxlLEdBQUEsZTtRQUtBLGEsR0FBQSxhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMVhoQixJQUFJLFNBQVMsU0FBUyxZQUFULEtBQTBCLEVBQXZDOzs7Ozs7QUFPQSxJQUFJLFlBQVksQ0FBQyxNQUFELEVBQVMsTUFBVCxFQUFpQixLQUFqQixFQUF3QixNQUF4QixFQUFnQyxTQUFoQyxFQUNaLFdBRFksRUFDQyxZQURELEVBQ2UsU0FEZixFQUMwQixXQUQxQixFQUN1QyxXQUR2QyxFQUVaLE9BRlksRUFFSCxVQUZHLEVBRVMsU0FGVCxFQUVvQixRQUZwQixFQUU4QixRQUY5QixDQUFoQjs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsSUFBSSxjQUFjLENBQUMsTUFBRCxFQUFTLFNBQVQsRUFBb0IsV0FBcEIsRUFBaUMsWUFBakMsRUFBK0MsU0FBL0MsRUFBMEQsV0FBMUQsQ0FBbEI7Ozs7Ozs7QUFRQSxTQUFTLFFBQVQsQ0FBa0IsU0FBbEIsRUFBNkI7QUFDekIsV0FBTyxZQUFZLE9BQVosQ0FBb0IsU0FBcEIsTUFBbUMsQ0FBQyxDQUFwQyxHQUF3QyxJQUF4QyxHQUErQyxLQUF0RDtBQUNIOzs7Ozs7Ozs7OztBQVdELFNBQVMsb0JBQVQsQ0FBOEIsWUFBOUIsRUFBNEMsT0FBNUMsRUFBcUQ7QUFDakQsUUFBSSxZQUFKLEVBQWtCOztBQUVkLGdCQUFRLElBQVIsQ0FBYSxlQUFiLEVBQThCLE9BQTlCO0FBQ0gsS0FIRCxNQUdPOztBQUVILGdCQUFRLElBQVIsQ0FBYSxlQUFiLEVBQThCLFNBQTlCO0FBQ0g7QUFDSjs7Ozs7O0FBTUQsU0FBUyxTQUFULENBQW1CLFNBQW5CLEVBQThCLFFBQTlCLEVBQXdDO0FBQ3BDLFFBQUksUUFBSixFQUFjO0FBQ1YsWUFBSSxD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NkIsYUFBYSxVQUFVLFNBQXBELEVBQStELFVBQVUsWUFBekU7QUFDQSxrQkFBVSxjQUFWLEdBQTJCLElBQTNCO0FBQ0Esa0JBQVUsWUFBVixHQUF5QixJQUF6QjtBQUNIO0FBQ0oiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBwcHTkuovku7bmjqXlj6NcclxuICpcclxuICog5YWB6K6455So5oi36Ieq5a6a5LmJ5YW26KGM5Li6XHJcbiAqICAgICAxIOaUr+aMgTE056eN5pON5L2c6KGM5Li6XHJcbiAqICAgICAyIOm7mOiupOWvueixoemDveWFt+aciea7keWKqOe/u+mhteeahOeJueaAp1xyXG4gKiAgICAgMyDnv7vpobXnmoTnibnmgKflnKjpgYfliLDnibnmgKfnmoTmg4XlhrXlj6/ku6Xooqvopobnm5ZcclxuICogICAgIOavlOWmglxyXG4gKiAgICAgICAgIOihjOS4ujHvvJrnlKjmiLflrprkuYnor6XlkI3lrZflj6/ku6XmlK/mjIEgIGNsaWNrIOeCueWHu+ihjOS4uu+8jCDpgqPkuYjor6XlhYPntKDlt6blj7Pmu5Hliqjog73ov4fnv7vpobVcclxuICogICAgICAgICDooYzkuLoy77ya55So5oi35aaC5p6c5a6a5LmJc3dpcGVMZWZ0IOihjOS4uu+8jOivpeWFg+e0oOW3puWPs+a7keWKqOWwhuS4jeS8mue/u+mhte+8jOWboOS4uum7mOiupOe/u+mhteW3sue7j+iiq+imhuebllxyXG4gKlxyXG4gKiDmraTmjqXlj6Plh73mlbDmnInkvZznlKjln5/pmpTnprtcclxuICovXHJcblxyXG4vKipcclxuICogaWUxMOS4i+mdom1vdXNl5LqL5Lu25oCq5byCXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnZhciBpc0lFMTAgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUgPT09IDEwO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDkuovku7bnsbvlnotcclxuICogQHR5cGUge0FycmF5fVxyXG4gKi9cclxudmFyIGV2ZW50TmFtZSA9IFsnbnVsbCcsICdhdXRvJywgJ3RhcCcsICdkcmFnJywgJ2RyYWdUYWcnLFxyXG4gICAgJ3N3aXBlbGVmdCcsICdzd2lwZXJpZ2h0JywgJ3N3aXBldXAnLCAnc3dpcGVkb3duJywgJ2RvdWJsZXRhcCcsXHJcbiAgICAncHJlc3MnLCAncGluY2hvdXQnLCAncGluY2hpbicsICdyb3RhdGUnLCAnYXNzaXN0J1xyXG5dXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqICAgICAgICAgICAgICAgIOmHjeWGmem7mOiupOS6i+S7tlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICBDb250ZW505a+56LGh6buY6K6k5YW35pyJ5bem5Y+z57+76aG155qE54m55oCnXHJcbiAqICAgICAgICAgICAgICAgIOagueaNrui/h+a7pOadpemAieaLqeaYr+WQpuimhueblumHjeWGmei/meS4queJueaAp1xyXG4gKiAgICAgICAgICAgICAgICDmr5TlpoIg55So5oi35aaC5p6c6YGH5YiwIHN3aXBlTGVmdO+8jHN3aXBlUmlnaHQg6L+Z56eN5pys6Lqr5LiO57+76aG16KGM5Li65Yay56qB55qEXHJcbiAqICAgICAgICAgICAgICAgIOWwhuimgeimhueblui/meS4quihjOS4ulxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vL+i/h+a7pOS6i+S7tlxyXG4vL+WmguaenOeUqOaIt+aMh+WumuS6huWmguS4i+aTjeS9nOihjOS4uizlsIbopobnm5bpu5jorqTnmoTnv7vpobXooYzkuLpcclxudmFyIGZpbHRlckV2ZW50ID0gWydkcmFnJywgJ2RyYWdUYWcnLCAnc3dpcGVsZWZ0JywgJ3N3aXBlcmlnaHQnLCAnc3dpcGV1cCcsICdzd2lwZWRvd24nXTtcclxuXHJcblxyXG4vKipcclxuICog5piv5ZCm6L+H5rukXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZXZ0TmFtZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBpc2ZpbHRlcihldmVudE5hbWUpIHtcclxuICAgIHJldHVybiBmaWx0ZXJFdmVudC5pbmRleE9mKGV2ZW50TmFtZSkgPT09IC0xID8gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICog54m55oCn5pGY6ZmkXHJcbiAqIDEg77ya5peg5LqL5Lu277yM6buY6K6k5Y+v5Lul57+76aG177yM6L+Y5Y+v5Lul5YiH5o2i5bel5YW35qCPXHJcbiAqIDIg77ya6Z2Z5oCB5LqL5Lu277yM6buY6K6k5Y+v5Lul57+76aG1XHJcbiAqIDMgOiDlhrLnqoHkuovku7bvvIzpu5jorqTliKDpmaRcclxuICog5Y676Zmk6buY6K6k5YWD57Sg5YW35pyJ55qE57+76aG154m55oCnXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZXZ0TmFtZSBb5LqL5Lu25ZCNXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tEZWZhdWx0QmVoYXZpb3Ioc3VwcG9ydFN3aXBlLCBlbGVtZW50KSB7XHJcbiAgICBpZiAoc3VwcG9ydFN3aXBlKSB7XHJcbiAgICAgICAgLy/pnZnmgIHkuovku7bvvIzpu5jorqTlj6/ku6Xnv7vpobXvvIzov5jlj6/ku6XliIfmjaLlt6XlhbfmoI9cclxuICAgICAgICBlbGVtZW50LmF0dHIoJ2RhdGEtYmVoYXZpb3InLCAnc3dpcGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy/lpoLmnpzkuovku7blrZjlnKhcclxuICAgICAgICBlbGVtZW50LmF0dHIoJ2RhdGEtYmVoYXZpb3InLCAnZGlzYWJsZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog6ZKI5a+56L2v5Lu25Z+56K6t55qE5pON5L2c6KGM5Li65LiL5YWJ5qCH54q25oCB6ZyA5rGCXHJcbiAqIEBwYXJhbSB7W3R5cGVdfSBlbGVtZW50IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGFkZEN1cnNvcihldmVudE5hbWUsICRlbGVtZW50KSB7XHJcbiAgICBpZiAoJGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoISRlbGVtZW50LnByb3AoJ3NldEN1cnNvcicpKSB7IC8v5Y+q6K6+572u5LiA5qyhXHJcbiAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09ICgnZHJhZycgfHwgJ2RyYWdUYWcnKSkge1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKCdjdXJzb3InLCAnTW92ZScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoJ2N1cnNvcicsICdQb2ludGVyJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkZWxlbWVudC5wcm9wKCdzZXRDdXJzb3InLCAndHJ1ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDpkojlr7ljYW52YXPmqKHlvI9cclxuICog54m55q6K55qEaGFja1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q2FudmFzU3RhcnQoc3VwcG9ydFN3aXBlKSB7XHJcbiAgICBYdXQuQ29udGVudHMuQ2FudmFzLlJlc2V0KClcclxuICAgICAgICAvL+W9k+WJjeeCueWHu+eahOWFg+e0oOaYr+a7keWKqOWFg+e0oFxyXG4gICAgICAgIC8v5aSE55CG5YWD57Sg55qE5YWo5bGA5LqL5Lu2XHJcbiAgICBYdXQuQ29udGVudHMuQ2FudmFzLlN1cHBvcnRTd2lwZSA9IHN1cHBvcnRTd2lwZTtcclxuICAgIFh1dC5Db250ZW50cy5DYW52YXMuaXNUYXAgPSB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRDYW52YXNNb3ZlKCkge1xyXG4gICAgWHV0LkNvbnRlbnRzLkNhbnZhcy5pc1N3aXBlID0gdHJ1ZTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlhbzlrrnkuovku7blr7nosaFcclxuICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNvbXBhdGliaWxpdHlFdmVudChlKSB7XHJcbiAgICB2YXIgcG9pbnQ7XHJcbiAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlc1swXSkge1xyXG4gICAgICAgIHBvaW50ID0gZS50b3VjaGVzWzBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb2ludCA9IGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9pbnRcclxufVxyXG5cclxuLyoqXHJcbiAqIOWmguaenOaYr+eugOWNleeahOeCueWHu+S6i+S7tlxyXG4gKi9cclxuZnVuY3Rpb24gdGFwRXZlbnQoZXZlbnRDb250ZXh0LCBkb21Nb2RlLCBldmVudEhhbmRsZSwgc3VwcG9ydFN3aXBlKSB7XHJcblxyXG4gICAgZXZlbnRDb250ZXh0LmlzVGFwID0gZmFsc2U7XHJcblxyXG4gICAgLy/ov5nph4zljZXni6znu5Hlrprkuovku7bmnInkuKrpl67popgs5Y2V5Ye7bW92Zeiiq+inpuWPkVxyXG4gICAgLy/lpoLmnpzlgZzmraJlLnN0b3BQcm9wYWdhdGlvbu+8jOmCo+S5iOm7mOiupOihjOS4uuWwseS4jeS8muiiq+inpuWPkVxyXG4gICAgLy/kvaDnu5HlrprljZXlh7vnmoTmg4XlhrXkuIvlj6/ku6Xnv7vpobVcclxuICAgIC8v6L+Z6YeM6YCa6L+H5Z2Q5qCH55qE5L2N572u5p2l5Yik5patXHJcbiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludCA9IGNvbXBhdGliaWxpdHlFdmVudChlKTtcclxuICAgICAgICAgICAgLy/orrDlvZXlvIDlp4vlnZDmoIdcclxuICAgICAgICAgICAgZXZlbnRDb250ZXh0LnBhZ2VYID0gcG9pbnQucGFnZVg7XHJcbiAgICAgICAgICAgIC8v5piv5ZCm5pivdGFw5LqL5Lu2XHJcbiAgICAgICAgICAgIGV2ZW50Q29udGV4dC5pc1RhcCA9IHRydWU7XHJcbiAgICAgICAgICAgIHNldENhbnZhc1N0YXJ0KHN1cHBvcnRTd2lwZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50Q29udGV4dC5pc1RhcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBvaW50ID0gY29tcGF0aWJpbGl0eUV2ZW50KGUpLFxyXG4gICAgICAgICAgICAgICAgZGVsdGFYID0gcG9pbnQucGFnZVggLSBldmVudENvbnRleHQucGFnZVg7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5pyJbW92ZeS6i+S7tu+8jOWImeWPlua2iHRhcOS6i+S7tlxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGFYKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0LmlzVGFwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZXRDYW52YXNNb3ZlKHN1cHBvcnRTd2lwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVuZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy/op6blj5F0YXDkuovku7ZcclxuICAgICAgICAgICAgZXZlbnRDb250ZXh0LmlzVGFwICYmIGV2ZW50SGFuZGxlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvL+e7keWummNhbnZhc+S6i+S7tlxyXG4gICAgZnVuY3Rpb24gb25DYW52YXMoZXZlbnRDb250ZXh0KSB7XHJcbiAgICAgICAgZXZlbnRDb250ZXh0Lm1vdXNlZG93biA9IGV2ZW50Q29udGV4dC50b3VjaHN0YXJ0ID0gc3RhcnRcclxuICAgICAgICBldmVudENvbnRleHQubW91c2Vtb3ZlID0gZXZlbnRDb250ZXh0LnRvdWNobW92ZSA9IG1vdmVcclxuICAgICAgICBldmVudENvbnRleHQubW91c2V1cCA9IGV2ZW50Q29udGV4dC50b3VjaGVuZCA9IGVuZFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9mZkNhbnZhcyhldmVudENvbnRleHQpIHtcclxuICAgICAgICBldmVudENvbnRleHQubW91c2Vkb3duID0gZXZlbnRDb250ZXh0LnRvdWNoc3RhcnQgPSBudWxsXHJcbiAgICAgICAgZXZlbnRDb250ZXh0Lm1vdXNlbW92ZSA9IGV2ZW50Q29udGV4dC50b3VjaG1vdmUgPSBudWxsXHJcbiAgICAgICAgZXZlbnRDb250ZXh0Lm1vdXNldXAgPSBldmVudENvbnRleHQudG91Y2hlbmQgPSBudWxsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChkb21Nb2RlKSB7XHJcbiAgICAgICAgZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0WzBdO1xyXG4gICAgICAgIC8vSUUxMOaYr+S4jeaUr+aMgXRvdWNo5LqL5Lu277yM55u05o6l57uR5a6aY2xpY2vkuovku7ZcclxuICAgICAgICBpZiAoaXNJRTEwKSB7XHJcbiAgICAgICAgICAgIGV2ZW50Q29udGV4dC5pc1RhcCA9IHRydWU7XHJcbiAgICAgICAgICAgIGV2ZW50Q29udGV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVuZCwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb24nLCB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBldmVudENvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBtb3ZlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogZW5kXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL2NhbnZhc+W8gOWQr+aooeW8j1xyXG4gICAgICAgIGV2ZW50Q29udGV4dC5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb25DYW52YXMoZXZlbnRDb250ZXh0KVxyXG4gICAgfVxyXG5cclxuICAgIC8v6ZSA5q+B5o6l5Y+jXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9mZjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkb21Nb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSUUxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudENvbnRleHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbmQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBYdXQucGxhdC5leGVjRXZlbnQoJ29mZicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGV2ZW50Q29udGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmU6IG1vdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYW52YXPmqKHlvI/lpITnkIZcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRDb250ZXh0LmRlc3Ryb3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0LmRlc3Ryb3koKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZkNhbnZhcyhldmVudENvbnRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5LyY5YyWaGFtbWVy5Yib5bu6LOeUn+aIkOW/heimgemFjee9ruaWh+S7tlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlY29nbml6ZXJzKGV2ZW50TmFtZSkge1xyXG4gICAgdmFyIHJlY29nbml6ZXJzID0gW107XHJcbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xyXG4gICAgICAgIC8v5aaC5p6c5pivc3dpcGXlpITnkIZcclxuICAgICAgICBjYXNlICdzd2lwZWxlZnQnOlxyXG4gICAgICAgIGNhc2UgJ3N3aXBlcmlnaHQnOlxyXG4gICAgICAgIGNhc2UgJ3N3aXBldXAnOlxyXG4gICAgICAgIGNhc2UgJ3N3aXBlZG93bic6XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBIYW1tZXIuRElSRUNUSU9OX0hPUklaT05UQUw7XHJcbiAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09ICdzd2lwZXVwJyB8fCBldmVudE5hbWUgPT09IFwic3dpcGVkb3duXCIpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEhhbW1lci5ESVJFQ1RJT05fVkVSVElDQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVjb2duaXplcnMucHVzaChbSGFtbWVyLlN3aXBlLCB7ICdkaXJlY3Rpb24nOiBkaXJlY3Rpb24sICd2ZWxvY2l0eSc6IDAuMDEgfV0pXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2RvdWJsZXRhcCc6IC8v5Y+M5Ye7XHJcbiAgICAgICAgICAgIHJlY29nbml6ZXJzLnB1c2goW0hhbW1lci5UYXBdKVxyXG4gICAgICAgICAgICByZWNvZ25pemVycy5wdXNoKFtIYW1tZXIuVGFwLCB7IGV2ZW50OiAnZG91YmxldGFwJywgdGFwczogMiB9LFxyXG4gICAgICAgICAgICAgICAgWyd0YXAnXVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ3ByZXNzJzogLy/plb/mjIlcclxuICAgICAgICAgICAgcmVjb2duaXplcnMucHVzaChbSGFtbWVyLlByZXNzXSlcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVjb2duaXplcnM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yib5bu6aGFtbWVy5byV55SoXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVIYW1tZXIoZXZlbnRDb250ZXh0LCBldmVudE5hbWUsIGRvbU1vZGUsIHN1cHBvcnRTd2lwZSkge1xyXG4gICAgdmFyIGV2ZW50UmVmZXJlbmNlO1xyXG4gICAgaWYgKGRvbU1vZGUpIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IGV2ZW50Q29udGV4dFswXTtcclxuICAgICAgICB2YXIgcmVjb2duaXplciA9IGNyZWF0ZVJlY29nbml6ZXJzKGV2ZW50TmFtZSlcclxuICAgICAgICBpZiAocmVjb2duaXplciAmJiByZWNvZ25pemVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBldmVudFJlZmVyZW5jZSA9IEhhbW1lcihjb250ZXh0LCB7XHJcbiAgICAgICAgICAgICAgICAncmVjb2duaXplcnMnOiByZWNvZ25pemVyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50UmVmZXJlbmNlID0gSGFtbWVyKGNvbnRleHQpXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL2NhbnZhc+aooeW8j+S6i+S7tue7keWumlxyXG4gICAgICAgIGV2ZW50Q29udGV4dC5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgZXZlbnRSZWZlcmVuY2UgPSBIYW1tZXIoY29udGV4dCwge1xyXG4gICAgICAgICAgICAncmVjb2duaXplcnMnOiByZWNvZ25pemVyLFxyXG4gICAgICAgICAgICAncGl4aUNvbnRleHQnOiBldmVudENvbnRleHQsXHJcbiAgICAgICAgICAgICdyZXR1cm5TdGFydCc6IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q2FudmFzU3RhcnQoc3VwcG9ydFN3aXBlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3JldHVybk1vdmUnOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNldENhbnZhc01vdmUoc3VwcG9ydFN3aXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV2ZW50UmVmZXJlbmNlO1xyXG59XHJcblxyXG4vKipcclxuICog5aSN5p2C55qE5LqL5Lu2XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY29tcGxleEV2ZW50KGV2ZW50Q29udGV4dCwgZXZlbnROYW1lLCBkb21Nb2RlLCBldmVudEhhbmRsZXIsIHN1cHBvcnRTd2lwZSkge1xyXG4gICAgdmFyIGV2ZW50UmVmZXJlbmNlID0gY3JlYXRlSGFtbWVyKGV2ZW50Q29udGV4dCwgZXZlbnROYW1lLCBkb21Nb2RlLCBzdXBwb3J0U3dpcGUpO1xyXG4gICAgZXZlbnRSZWZlcmVuY2Uub24oZXZlbnROYW1lLCBmdW5jdGlvbihldikge1xyXG4gICAgICAgIGV2ZW50SGFuZGxlcigpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZXZlbnRSZWZlcmVuY2U7XHJcbn1cclxuXHJcbi8v57uR5a6a5LqL5Lu2XHJcbmZ1bmN0aW9uIGJpbmRFdmVudChldmVudERyb3AsIGRhdGEpIHtcclxuICAgIHZhciBkcmFnT2JqLCBldmVudEhhbmRsZXIsIGV2ZW50UmVmZXJlbmNlO1xyXG4gICAgdmFyIGV2ZW50Q29udGV4dCA9IGRhdGEuZXZlbnRDb250ZXh0O1xyXG4gICAgdmFyIGV2ZW50TmFtZSA9IGRhdGEuZXZlbnROYW1lO1xyXG4gICAgdmFyIGRvbU1vZGUgPSBkYXRhLmRvbU1vZGU7XHJcbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ2RyYWcnOiAvL+aLluWKqFxyXG4gICAgICAgICAgICBkcmFnT2JqID0gbmV3IERyYWdEcm9wQ2xhc3MoZXZlbnRDb250ZXh0LCBudWxsLCBkYXRhLnBhcmFtZXRlciwgZXZlbnREcm9wLnN0YXJ0UnVuLCBldmVudERyb3Auc3RvcFJ1bik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2RyYWdUYWcnOiAvL+aLluaLvVxyXG4gICAgICAgICAgICBkcmFnT2JqID0gbmV3IERyYWdEcm9wQ2xhc3MoZXZlbnRDb250ZXh0LCBkYXRhLnRhcmdldCwgMSwgZXZlbnREcm9wLnN0YXJ0UnVuLCBldmVudERyb3Auc3RvcFJ1bik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8v5LqL5Lu25Y+l5p+EXHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5ldmVudFJ1bi5jYWxsKGV2ZW50Q29udGV4dCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGV2ZW50UmVmZXJlbmNlID0gZXZlbnROYW1lID09PSAndGFwJyA/IHRhcEV2ZW50KGV2ZW50Q29udGV4dCwgZG9tTW9kZSwgZXZlbnRIYW5kbGVyLCBkYXRhLnN1cHBvcnRTd2lwZSkgOiBjb21wbGV4RXZlbnQoZXZlbnRDb250ZXh0LCBldmVudE5hbWUsIGRvbU1vZGUsIGV2ZW50SGFuZGxlciwgZGF0YS5zdXBwb3J0U3dpcGUpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtkcmFnT2JqLCBldmVudFJlZmVyZW5jZSwgZXZlbnRIYW5kbGVyXVxyXG59XHJcblxyXG5cclxuXHJcbi8v57uR5a6a5LqL5Lu2XHJcbi8vIHBhcmFtZXRlciDlj4LmlbBcclxuLy8gMe+8muWvueS6juiHqueUseaLluWKqGRyYWfvvIxwYXJh5Y+C5pWw5Li6MO+8jOihqOekuuadvuaJi+WQju+8jOWBnOeVmeWcqOadvuaJi+eahOWcsOaWuVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICBwYXJh5Y+C5pWw5Li6Me+8jOihqOekuuadvuaJi+WQju+8jOi/lOWbnuWOn+adpeeahOS9jee9rlxyXG4vL1xyXG4vLyAyOiDlr7nkuo7mi5bmi71kcmFnVGFn77yMIHBhcmHooajnpLrnm67moIflr7nosaHnmoR0YXJnZXRcclxuZnVuY3Rpb24gYXBwbHlFdmVudChkYXRhKSB7XHJcblxyXG4gICAgLy/pkojlr7nova/ku7bln7norq3nmoTmk43kvZzooYzkuLrkuIvlhYnmoIfnirbmgIHpnIDmsYJcclxuICAgIFh1dC5wbGF0LmlzQnJvd3NlciAmJiBkYXRhLmRvbU1vZGUgJiYgYWRkQ3Vyc29yKGRhdGEuZXZlbnROYW1lLCBkYXRhLmV2ZW50Q29udGV4dClcclxuXHJcbiAgICAvL+e7keWumuS6i+S7tlxyXG4gICAgdmFyIGV2ZW50RHJvcCA9IGRhdGEuZXZlbnREcm9wLFxyXG4gICAgICAgIGV2ZW50T2JqID0gYmluZEV2ZW50KGV2ZW50RHJvcCwgZGF0YSk7XHJcblxyXG4gICAgLy/mi5bliqgs5ouW5ou95a+56LGh5aSE55CGXHJcbiAgICBpZiAoZXZlbnRPYmpbMF0gJiYgZXZlbnREcm9wLmluaXQpIHtcclxuICAgICAgICBldmVudERyb3AuaW5pdChldmVudE9ialswXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v5Lyg6YCS5byV55SoXHJcbiAgICAgICAgZGF0YS5ldmVudEhhbmRsZXIoZXZlbnRPYmpbMV0sIGV2ZW50T2JqWzJdKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT3kuovku7bmjqXlj6M9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIOazqOWGjOiHquWumuS5ieS6i+S7tlxyXG4gKiB0aGlz6L+Y5piv5byV55So55qE5b2T5YmN5a6e5L6L55qE5LiK5LiL5paHXHJcbiAqXHJcbiAqICAgJ2VsZW1lbnQnICAgOiDkuovku7blr7nosaFcclxuICogICAndGFyZ2V0JyAgICA6IOebruagh+WvueixoVxyXG4gKiAgICdwYXJhbWV0ZXInIDog5ouW5Yqo5Y+C5pWwXHJcbiAqICAgJ2V2dE5hbWUnICAgOiDkuovku7blkI0sXHJcbiAqXHJcbiAqICAgY2FsbGJhY2tIb29rIOWbnuiwg+WHveaVsCAs5aSE55CG5YW35L2T55qE5LqL5oOFXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYmluZEV2ZW50cyhkYXRhKSB7XHJcbiAgICAvL+aYr+WQpuaUr+aMgee/u+mhtVxyXG4gICAgdmFyIHN1cHBvcnRTd2lwZSA9IGRhdGEuc3VwcG9ydFN3aXBlID0gaXNmaWx0ZXIoZGF0YS5ldmVudE5hbWUpO1xyXG4gICAgLy/mo4DmtYvmmK/lkKbnp7vpmaTlhYPntKDnmoTpu5jorqTooYzkuLos5Zug5Li65YWD57Sg6YO95YW35pyJ57+76aG155qE54m55oCnXHJcbiAgICBpZiAoZGF0YS5kb21Nb2RlKSB7XHJcbiAgICAgICAgY2hlY2tEZWZhdWx0QmVoYXZpb3Ioc3VwcG9ydFN3aXBlLCBkYXRhLmV2ZW50Q29udGV4dCk7XHJcbiAgICB9XHJcbiAgICAvL+aJp+ihjOS6i+S7tue7keWumlxyXG4gICAgYXBwbHlFdmVudChkYXRhKTtcclxufVxyXG5cclxuLy/mlbDmja7lupPpooTlrprkuYkxNOS4quS6i+S7tuaOpeWPo1xyXG4vL+aPkOS+m+e7mWNvbnRlbnTmlofku7ZcclxuLy/nlKjkuo7ov4fmu6TmlbDmja7lupPlrZfmrrXmjIflrprnmoTooYzkuLpcclxuLy9odHRwczovL2dpdGh1Yi5jb20vRWlnaHRNZWRpYS9oYW1tZXIuanMvd2lraS9HZXR0aW5nLVN0YXJ0ZWRcclxuLy8yMDE0LjMuMTgg5paw5aKeYXNzaXN0IOi+heWKqeWvueixoeS6i+S7tlxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVyc2lvbkV2ZW50VHlwZShldmVudFR5cGUpIHtcclxuICAgIHJldHVybiBldmVudE5hbWVbTnVtYmVyKGV2ZW50VHlwZSkgLSAxXSB8fCBudWxsO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRCZWhhdmlvcihlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ICYmIGVsZW1lbnQuYXR0cignZGF0YS1iZWhhdmlvcicsICdkaXNhYmxlJyk7XHJcbn1cclxuXHJcbi8v6ZSA5q+B5a+56LGh5LqL5Lu2XHJcbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95RXZlbnRzKGV2ZW50RGF0YSwgZXZlbnROYW1lKSB7XHJcbiAgICBpZiAoZXZlbnREYXRhLmV2ZW50UmVmZXJlbmNlKSB7XHJcbiAgICAgICAgZXZlbnREYXRhLmV2ZW50UmVmZXJlbmNlLm9mZihldmVudE5hbWUgfHwgZXZlbnREYXRhLmV2ZW50TmFtZSwgZXZlbnREYXRhLmV2ZW50SGFuZGxlcilcclxuICAgICAgICBldmVudERhdGEuZXZlbnRSZWZlcmVuY2UgPSBudWxsO1xyXG4gICAgICAgIGV2ZW50RGF0YS5ldmVudEhhbmRsZXIgPSBudWxsXHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2V2ZW50LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Bind = undefined;\n\nvar _action = __webpack_require__(83);\n\nvar _content = __webpack_require__(84);\n\nvar _media = __webpack_require__(85);\n\nvar _widget = __webpack_require__(87);\n\nvar _shownote = __webpack_require__(86);\n\nvar Webpage = _media.Media;\nvar Video = _media.Media;\nvar Audio = _media.Media;\n\nvar Bind = {\n    Video: Video,\n    Audio: Audio,\n    Action: _action.Action,\n    Content: _content.Content,\n    Webpage: Webpage,\n    Widget: _widget.Widget,\n    ShowNote: _shownote.ShowNote\n};\n\nexports.Bind = Bind;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvYmluZC5qcz81YTFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLHNCQUFKO0FBQ0EsSUFBSSxvQkFBSjtBQUNBLElBQUksb0JBQUo7O0FBR0EsSUFBSSxPQUFPO0FBQ1AsZ0JBRE87QUFFUCxnQkFGTztBQUdQLDBCQUhPO0FBSVAsNkJBSk87QUFLUCxvQkFMTztBQU1QLDBCQU5PO0FBT1A7QUFQTyxDQUFYOztRQVVRLEksR0FBQSxJIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL2FjdGlvbidcclxuaW1wb3J0IHsgQ29udGVudCB9IGZyb20gJy4vY29udGVudCdcclxuaW1wb3J0IHsgTWVkaWEgfSBmcm9tICcuL21lZGlhJ1xyXG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuL3dpZGdldCdcclxuaW1wb3J0IHsgU2hvd05vdGUgfSBmcm9tICcuL3Nob3dub3RlJ1xyXG5cclxubGV0IFdlYnBhZ2UgPSBNZWRpYVxyXG5sZXQgVmlkZW8gICA9IE1lZGlhXHJcbmxldCBBdWRpbyAgID0gTWVkaWFcclxuXHJcblxyXG5sZXQgQmluZCA9IHtcclxuICAgIFZpZGVvLFxyXG4gICAgQXVkaW8sXHJcbiAgICBBY3Rpb24sXHJcbiAgICBDb250ZW50LFxyXG4gICAgV2VicGFnZSxcclxuICAgIFdpZGdldCxcclxuICAgIFNob3dOb3RlXHRcclxufVxyXG5cclxuZXhwb3J0IHtCaW5kfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvcGFnZWJhc2UvdGhyZWFkL2Rpc3BlbnNlci9iaW5kLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createTransform = createTransform;\nexports.fix = fix;\nexports.reset = reset;\nexports.flipMove = flipMove;\nexports.flipRebound = flipRebound;\nexports.flipOver = flipOver;\n/**\r\n * 页面切换效果\r\n * 平移\r\n * @return {[type]} [description]\r\n */\nvar prefix = Xut.plat.prefixStyle,\n    xxtTrans = function xxtTrans(offset) {\n    offset = Xut.config.virtualMode ? offset / 2 : offset;\n    return \"translate3d(\" + offset + \"px, 0, 0)\";\n};\n\nfunction dydTransform(distance) {\n    distance = Xut.config.virtualMode ? distance / 2 : distance;\n    return prefix('transform') + ':' + 'translate3d(' + distance + 'px,0px,0px)';\n}\n\n//保持缩放比,计算缩放比情况下的转化\nvar calculateContainer = void 0;\nvar offsetLeft = void 0;\nvar offsetRight = void 0;\nvar offsetCut = void 0;\nvar prevEffect = void 0;\nvar currEffect = void 0;\nvar nextEffect = void 0;\n\nfunction setConfig() {\n    calculateContainer = Xut.config.proportion.calculateContainer(), offsetLeft = -1 * calculateContainer.width, offsetRight = calculateContainer.width, offsetCut = 0, prevEffect = xxtTrans(offsetLeft), currEffect = xxtTrans(offsetCut), nextEffect = xxtTrans(offsetRight);\n}\n\n//切换坐标\nfunction toTranslate3d(distance, speed, element) {\n    distance = Xut.config.virtualMode ? distance / 2 : distance;\n    if (element = element || this.element || this.$contentProcess) {\n        element.css(prefix('transform'), 'translate3d(' + distance + 'px,0px,0px)');\n        if (Xut.config.pageFlip) {\n            //修正pageFlip切换页面的处理\n            //没有翻页效果\n            if (distance === 0) {\n                var cur = Xut.sceneController.containerObj('current');\n                cur.vm.$globalEvent.setAnimComplete(element);\n            }\n        } else {\n            element.css(prefix('transition-duration'), speed + \"ms\");\n        }\n    }\n}\n\n/**\r\n * 创建起始坐标\r\n * @return {[type]}\r\n */\nfunction createTransform(currPageIndex, createPageIndex) {\n    setConfig();\n    var translate3d, direction, offset;\n    if (createPageIndex < currPageIndex) {\n        translate3d = prevEffect;\n        offset = offsetLeft;\n        direction = 'before';\n    } else if (createPageIndex > currPageIndex) {\n        translate3d = nextEffect;\n        offset = offsetRight;\n        direction = 'after';\n    } else if (currPageIndex == createPageIndex) {\n        translate3d = currEffect;\n        offset = offsetCut;\n        direction = 'original';\n    }\n    return [translate3d, direction, offset, dydTransform];\n}\n\n/**\r\n * 修正坐标\r\n * @return {[type]} [description]\r\n */\nfunction fix(translate3d) {\n    var transform = prefix('transform');\n    var translate3d = translate3d === 'prevEffect' ? prevEffect : nextEffect;\n    this.element.css(transform, translate3dt);\n}\n\nfunction reset() {\n    var element;\n    if (element = this.element || this.$contentProcess) {\n        element.css(prefix('transition-duration'), '');\n        element.css(prefix('transform'), 'translate3d(0px,0px,0px)');\n    }\n}\n\n/**\r\n * 移动\r\n * @return {[type]} [description]\r\n */\nfunction flipMove(distance, speed, element) {\n    toTranslate3d.apply(this, arguments);\n}\n\n/**\r\n * 移动反弹\r\n * @return {[type]} [description]\r\n */\nfunction flipRebound(distance, speed) {\n    toTranslate3d.apply(this, arguments);\n}\n\n/**\r\n * 移动结束\r\n * @return {[type]} [description]\r\n */\nfunction flipOver(distance, speed) {\n    /**\r\n     * 过滤多个动画回调，保证指向始终是当前页面\r\n     */\n    if (this.pageType === 'page') {\n        if (distance === 0) {\n            //目标页面传递属性\n            this.element.attr('data-view', true);\n        }\n    }\n    toTranslate3d.apply(this, arguments);\n}\n\nvar translation = {\n    reset: reset,\n    flipMove: flipMove,\n    flipRebound: flipRebound,\n    flipOver: flipOver\n};\n\nexports.translation = translation;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RyYW5zbGF0aW9uLmpzPzVjNTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUEwRGdCLGUsR0FBQSxlO1FBeUJBLEcsR0FBQSxHO1FBTUEsSyxHQUFBLEs7UUFZQSxRLEdBQUEsUTtRQVFBLFcsR0FBQSxXO1FBUUEsUSxHQUFBLFE7Ozs7OztBQWhIaEIsSUFBSSxTQUFTLElBQUksSUFBSixDQUFTLFdBQXRCO0lBQ0ksV0FBVyxTQUFYLFFBQVcsQ0FBUyxNQUFULEVBQWlCO0FBQ3hCLGFBQVMsSUFBSSxNQUFKLENBQVcsV0FBWCxHQUF5QixTQUFTLENBQWxDLEdBQXNDLE1BQS9DO0FBQ0EsV0FBTyxpQkFBaUIsTUFBakIsR0FBMEIsV0FBakM7QUFDSCxDQUpMOztBQU1BLFNBQVMsWUFBVCxDQUFzQixRQUF0QixFQUFnQztBQUM1QixlQUFXLElBQUksTUFBSixDQUFXLFdBQVgsR0FBeUIsV0FBVyxDQUFwQyxHQUF3QyxRQUFuRDtBQUNBLFdBQU8sT0FBTyxXQUFQLElBQXNCLEdBQXRCLEdBQTRCLGNBQTVCLEdBQTZDLFFBQTdDLEdBQXdELGFBQS9EO0FBQ0g7OztBQUlELElBQUksMkJBQUo7QUFDQSxJQUFJLG1CQUFKO0FBQ0EsSUFBSSxvQkFBSjtBQUNBLElBQUksa0JBQUo7QUFDQSxJQUFJLG1CQUFKO0FBQ0EsSUFBSSxtQkFBSjtBQUNBLElBQUksbUJBQUo7O0FBRUEsU0FBUyxTQUFULEdBQXFCO0FBQ2pCLHlCQUFxQixJQUFJLE1BQUosQ0FBVyxVQUFYLENBQXNCLGtCQUF0QixFQUFyQixFQUNBLGFBQWMsQ0FBQyxDQUFELEdBQUssbUJBQW1CLEtBRHRDLEVBRUEsY0FBYyxtQkFBbUIsS0FGakMsRUFHQSxZQUFZLENBSFosRUFJQSxhQUFhLFNBQVMsVUFBVCxDQUpiLEVBS0EsYUFBYSxTQUFTLFNBQVQsQ0FMYixFQU1BLGFBQWEsU0FBUyxXQUFULENBTmI7QUFPSDs7O0FBR0QsU0FBUyxh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QUFBLFciLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpobXpnaLliIfmjaLmlYjmnpxcclxuICog5bmz56e7XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudmFyIHByZWZpeCA9IFh1dC5wbGF0LnByZWZpeFN0eWxlLFxyXG4gICAgeHh0VHJhbnMgPSBmdW5jdGlvbihvZmZzZXQpIHtcclxuICAgICAgICBvZmZzZXQgPSBYdXQuY29uZmlnLnZpcnR1YWxNb2RlID8gb2Zmc2V0IC8gMiA6IG9mZnNldDtcclxuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUzZChcIiArIG9mZnNldCArIFwicHgsIDAsIDApXCI7XHJcbiAgICB9O1xyXG5cclxuZnVuY3Rpb24gZHlkVHJhbnNmb3JtKGRpc3RhbmNlKSB7XHJcbiAgICBkaXN0YW5jZSA9IFh1dC5jb25maWcudmlydHVhbE1vZGUgPyBkaXN0YW5jZSAvIDIgOiBkaXN0YW5jZTtcclxuICAgIHJldHVybiBwcmVmaXgoJ3RyYW5zZm9ybScpICsgJzonICsgJ3RyYW5zbGF0ZTNkKCcgKyBkaXN0YW5jZSArICdweCwwcHgsMHB4KSdcclxufVxyXG5cclxuXHJcbi8v5L+d5oyB57yp5pS+5q+ULOiuoeeul+e8qeaUvuavlOaDheWGteS4i+eahOi9rOWMllxyXG5sZXQgY2FsY3VsYXRlQ29udGFpbmVyXHJcbmxldCBvZmZzZXRMZWZ0XHJcbmxldCBvZmZzZXRSaWdodFxyXG5sZXQgb2Zmc2V0Q3V0XHJcbmxldCBwcmV2RWZmZWN0XHJcbmxldCBjdXJyRWZmZWN0XHJcbmxldCBuZXh0RWZmZWN0XHJcblxyXG5mdW5jdGlvbiBzZXRDb25maWcoKSB7XHJcbiAgICBjYWxjdWxhdGVDb250YWluZXIgPSBYdXQuY29uZmlnLnByb3BvcnRpb24uY2FsY3VsYXRlQ29udGFpbmVyKCksXHJcbiAgICBvZmZzZXRMZWZ0ID0gKC0xICogY2FsY3VsYXRlQ29udGFpbmVyLndpZHRoKSxcclxuICAgIG9mZnNldFJpZ2h0ID0gY2FsY3VsYXRlQ29udGFpbmVyLndpZHRoLFxyXG4gICAgb2Zmc2V0Q3V0ID0gMCxcclxuICAgIHByZXZFZmZlY3QgPSB4eHRUcmFucyhvZmZzZXRMZWZ0KSxcclxuICAgIGN1cnJFZmZlY3QgPSB4eHRUcmFucyhvZmZzZXRDdXQpLFxyXG4gICAgbmV4dEVmZmVjdCA9IHh4dFRyYW5zKG9mZnNldFJpZ2h0KTtcclxufVxyXG5cclxuLy/liIfmjaLlnZDmoIdcclxuZnVuY3Rpb24gdG9UcmFuc2xhdGUzZChkaXN0YW5jZSwgc3BlZWQsIGVsZW1lbnQpIHtcclxuICAgIGRpc3RhbmNlID0gWHV0LmNvbmZpZy52aXJ0dWFsTW9kZSA/IGRpc3RhbmNlIC8gMiA6IGRpc3RhbmNlO1xyXG4gICAgaWYgKGVsZW1lbnQgPSBlbGVtZW50IHx8IHRoaXMuZWxlbWVudCB8fCB0aGlzLiRjb250ZW50UHJvY2Vzcykge1xyXG4gICAgICAgIGVsZW1lbnQuY3NzKHByZWZpeCgndHJhbnNmb3JtJyksICd0cmFuc2xhdGUzZCgnICsgZGlzdGFuY2UgKyAncHgsMHB4LDBweCknKTtcclxuICAgICAgICBpZiAoWHV0LmNvbmZpZy5wYWdlRmxpcCkge1xyXG4gICAgICAgICAgICAvL+S/ruato3BhZ2VGbGlw5YiH5o2i6aG16Z2i55qE5aSE55CGXHJcbiAgICAgICAgICAgIC8v5rKh5pyJ57+76aG15pWI5p6cXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1ciA9IFh1dC5zY2VuZUNvbnRyb2xsZXIuY29udGFpbmVyT2JqKCdjdXJyZW50JylcclxuICAgICAgICAgICAgICAgIGN1ci52bS4kZ2xvYmFsRXZlbnQuc2V0QW5pbUNvbXBsZXRlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MocHJlZml4KCd0cmFuc2l0aW9uLWR1cmF0aW9uJyksIHNwZWVkICsgXCJtc1wiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uui1t+Wni+WdkOagh1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtKGN1cnJQYWdlSW5kZXgsIGNyZWF0ZVBhZ2VJbmRleCkge1xyXG4gICAgc2V0Q29uZmlnKCk7XHJcbiAgICB2YXIgdHJhbnNsYXRlM2QsIGRpcmVjdGlvbiwgb2Zmc2V0O1xyXG4gICAgaWYgKGNyZWF0ZVBhZ2VJbmRleCA8IGN1cnJQYWdlSW5kZXgpIHtcclxuICAgICAgICB0cmFuc2xhdGUzZCA9IHByZXZFZmZlY3Q7XHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0TGVmdDtcclxuICAgICAgICBkaXJlY3Rpb24gPSAnYmVmb3JlJztcclxuICAgIH0gZWxzZSBpZiAoY3JlYXRlUGFnZUluZGV4ID4gY3VyclBhZ2VJbmRleCkge1xyXG4gICAgICAgIHRyYW5zbGF0ZTNkID0gbmV4dEVmZmVjdDtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXRSaWdodDtcclxuICAgICAgICBkaXJlY3Rpb24gPSAnYWZ0ZXInO1xyXG4gICAgfSBlbHNlIGlmIChjdXJyUGFnZUluZGV4ID09IGNyZWF0ZVBhZ2VJbmRleCkge1xyXG4gICAgICAgIHRyYW5zbGF0ZTNkID0gY3VyckVmZmVjdDtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXRDdXQ7XHJcbiAgICAgICAgZGlyZWN0aW9uID0gJ29yaWdpbmFsJztcclxuICAgIH1cclxuICAgIHJldHVybiBbdHJhbnNsYXRlM2QsIGRpcmVjdGlvbiwgb2Zmc2V0LCBkeWRUcmFuc2Zvcm1dO1xyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDkv67mraPlnZDmoIdcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZml4KHRyYW5zbGF0ZTNkKSB7XHJcbiAgICB2YXIgdHJhbnNmb3JtID0gcHJlZml4KCd0cmFuc2Zvcm0nKVxyXG4gICAgdmFyIHRyYW5zbGF0ZTNkID0gdHJhbnNsYXRlM2QgPT09ICdwcmV2RWZmZWN0JyA/IHByZXZFZmZlY3QgOiBuZXh0RWZmZWN0XHJcbiAgICB0aGlzLmVsZW1lbnQuY3NzKHRyYW5zZm9ybSwgdHJhbnNsYXRlM2R0KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICB2YXIgZWxlbWVudDtcclxuICAgIGlmIChlbGVtZW50ID0gdGhpcy5lbGVtZW50IHx8IHRoaXMuJGNvbnRlbnRQcm9jZXNzKSB7XHJcbiAgICAgICAgZWxlbWVudC5jc3MocHJlZml4KCd0cmFuc2l0aW9uLWR1cmF0aW9uJyksICcnKTtcclxuICAgICAgICBlbGVtZW50LmNzcyhwcmVmaXgoJ3RyYW5zZm9ybScpLCAndHJhbnNsYXRlM2QoMHB4LDBweCwwcHgpJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnp7vliqhcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmxpcE1vdmUoZGlzdGFuY2UsIHNwZWVkLCBlbGVtZW50KSB7XHJcbiAgICB0b1RyYW5zbGF0ZTNkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxufVxyXG5cclxuLyoqXHJcbiAqIOenu+WKqOWPjeW8uVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmbGlwUmVib3VuZChkaXN0YW5jZSwgc3BlZWQpIHtcclxuICAgIHRvVHJhbnNsYXRlM2QuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG59XHJcblxyXG4vKipcclxuICog56e75Yqo57uT5p2fXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZsaXBPdmVyKGRpc3RhbmNlLCBzcGVlZCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiDov4fmu6TlpJrkuKrliqjnlLvlm57osIPvvIzkv53or4HmjIflkJHlp4vnu4jmmK/lvZPliY3pobXpnaJcclxuICAgICAqL1xyXG4gICAgaWYgKHRoaXMucGFnZVR5cGUgPT09ICdwYWdlJykge1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCkgeyAvL+ebruagh+mhtemdouS8oOmAkuWxnuaAp1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXR0cignZGF0YS12aWV3JywgdHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0b1RyYW5zbGF0ZTNkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxufVxyXG5cclxuXHJcbnZhciB0cmFuc2xhdGlvbiA9IHtcclxuICAgIHJlc2V0ICAgICAgIDogcmVzZXQsXHJcbiAgICBmbGlwTW92ZSAgICA6IGZsaXBNb3ZlLFxyXG4gICAgZmxpcFJlYm91bmQgOiBmbGlwUmVib3VuZCxcclxuICAgIGZsaXBPdmVyICAgIDogZmxpcE92ZXJcclxufVxyXG5cclxuZXhwb3J0IHt0cmFuc2xhdGlvbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvcGFnZWJhc2UvdHJhbnNsYXRpb24uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ToolBar = undefined;\n\nvar _svgicon = __webpack_require__(98);\n\nvar _iconconfig = __webpack_require__(97);\n\nvar isIOS = Xut.plat.isIOS;\n\n//获取翻页按钮位置\nvar arrowStyle = function arrowStyle() {\n    var config = Xut.config;\n    var height = config.iconHeight;\n    var settings = config.settings;\n    var styleText = 'height:' + height + 'px;width:' + height + 'px';\n    switch (settings.NavbarPos) {\n        case 0:\n            styleText += ';top:0';\n            break; //顶部\n        case 1:\n            styleText += ';margin-top:' + -height / 2 + 'px';\n            break; //中间\n        case 2:\n            styleText += ';top:auto;bottom:0';\n            break; //底部\n        default:\n            break;\n    }\n\n    return styleText;\n};\n\n//工具栏基础类\nvar ToolBar = Xut.CoreObject.extend({\n    barHeight: isIOS ? 20 : 0, //系统状态栏高度\n    enableLeft: true, //默认创建左翻页按钮\n    enableRight: true //默认创建右翻页按钮\n});\n\nToolBar.prototype.initConfig = function (config) {\n    var propHeight;\n    //获取高度缩放比\n    //自动选择缩放比例\n    this.propHeight = propHeight = function () {\n        var layout = config.layoutMode,\n            prop = config.proportion;\n        return layout == \"horizontal\" ? prop.width : prop.height;\n    }();\n\n    //获取图标高度\n    //工具栏图标高度\n    this.iconHeight = function () {\n        var height = config.iconHeight;\n        return isIOS ? height : Math.round(propHeight * height);\n    }();\n\n    this.appName = config.shortName; //应用标题\n    this.settings = config.settings; //应用默认配置\n};\n\n//创建翻页按钮\nToolBar.prototype.createArrows = function () {\n    //是否使用自定义的翻页按钮: true /false\n    //图标名称是客户端指定的：pageforward_'+appId+'.svg\n    var isCustom = this.settings.customButton;\n\n    if (this.enableLeft) {\n        isCustom ? this.createLeftIcon() : this.createLeftArrow();\n    }\n\n    if (this.enableRight) {\n        isCustom ? this.createRightIcon() : this.createRightArrow();\n    }\n};\n\n//左箭头翻页按钮\nToolBar.prototype.createLeftArrow = function () {\n    var style = arrowStyle(),\n        state = this.barStatus ? '' : 'hide',\n        $dom;\n    $dom = $('<div class=\"si-icon xut-flip-control left ' + state + '\" data-icon-name=\"prevArrow\" style=\"' + style + '\"></div>');\n\n    this.createSVGIcon($dom[0], function () {\n        Xut.View.GotoPrevSlide();\n    });\n\n    this.container.append($dom);\n    this.arrows.prev = {\n        el: $dom,\n        able: true\n    };\n};\n\n//右箭头翻页按钮\nToolBar.prototype.createRightArrow = function () {\n    var style = arrowStyle(),\n        state = this.barStatus ? '' : 'hide',\n        $dom;\n    $dom = $('<div class=\"si-icon xut-flip-control right ' + state + '\" data-icon-name=\"nextArrow\" style=\"' + style + '\"></div>');\n\n    this.createSVGIcon($dom[0], function () {\n        Xut.View.GotoNextSlide();\n    });\n\n    this.container.append($dom);\n    this.arrows.next = {\n        el: $dom,\n        able: true\n    };\n};\n\n//自定义左翻页按钮\nToolBar.prototype.createLeftIcon = function () {\n    var style = arrowStyle(),\n        appId = this.config.appId,\n        state = this.barStatus ? '' : 'hide',\n        $dom;\n    style += ';background-image:url(images/icons/pageforward_' + appId + '.svg);background-size:cover';\n    $dom = $('<div name=\"prevArrow\" class=\"xut-flip-control left ' + state + '\" style=\"' + style + '\"></div>');\n\n    $dom.on(\"touchend mouseup\", function () {\n        Xut.View.GotoPrevSlide();\n    });\n\n    this.container.append($dom);\n    this.arrows.prev = {\n        el: $dom,\n        able: true\n    };\n};\n\n//自定义右翻页按钮\nToolBar.prototype.createRightIcon = function () {\n    var style = arrowStyle(),\n        appId = this.config.appId,\n        state = this.barStatus ? '' : 'hide',\n        $dom;\n    style += ';background-image:url(images/icons/pageback_' + appId + '.svg);background-size:cover';\n    $dom = $('<div name=\"nextArrow\" class=\"xut-flip-control right ' + state + '\" style=\"' + style + '\"></div>');\n\n    $dom.on(\"touchend mouseup\", function () {\n        Xut.View.GotoNextSlide();\n    });\n\n    this.container.append($dom);\n    this.arrows.next = {\n        el: $dom,\n        able: true\n    };\n};\n\n/**\r\n * [ description]\r\n * @param  {[type]} dir [next,prev]\r\n * @param  {[type]} status  [true/false]\r\n * @return {[type]}       [description]\r\n */\nToolBar.prototype.toggleArrow = function (dir, status) {\n    var arrow = this.arrows[dir];\n    //如果没有创建翻页按钮,则不处理\n    if (!arrow) return;\n    arrow.able = status;\n    //如果人为隐藏了工具栏,则不显示翻页按钮\n    if (this.hasTopBar && !this.barStatus && status) {\n        return;\n    }\n    arrow.el[status ? 'show' : 'hide']();\n};\n\n//隐藏下一页按钮\nToolBar.prototype.hideNext = function () {\n    this.toggleArrow('next', false);\n};\n\n//显示下一页按钮\nToolBar.prototype.showNext = function () {\n    this.toggleArrow('next', true);\n};\n\n//隐藏上一页按钮\nToolBar.prototype.hidePrev = function () {\n    this.toggleArrow('prev', false);\n};\n\n//显示上一页按钮\nToolBar.prototype.showPrev = function () {\n    this.toggleArrow('prev', true);\n};\n\n/**\r\n * [ 显示翻页按钮]\r\n * @return {[type]}        [description]\r\n */\nToolBar.prototype.showPageBar = function () {\n    var arrows = this.arrows;\n\n    for (var dir in arrows) {\n        var arrow = arrows[dir];\n        arrow.able && arrow.el.show();\n    }\n};\n\n/**\r\n * [ 隐藏翻页按钮]\r\n * @param  {[type]} unlock [description]\r\n * @return {[type]}        [description]\r\n */\nToolBar.prototype.hidePageBar = function () {\n    var arrows = this.arrows;\n    for (var dir in arrows) {\n        arrows[dir].el.hide();\n    }\n};\n\n/**\r\n * [description]\r\n * @param  {[type]} state   [description]\r\n * @param  {[type]} pointer [description]\r\n * @return {[type]}         [description]\r\n */\nToolBar.prototype.toggle = function (state, pointer) {\n    if (this.Lock) return;\n    this.Lock = true;\n\n    switch (state) {\n        case 'show':\n            this.showToolbar(pointer);\n            break;\n        case 'hide':\n            this.hideToolbar(pointer);\n            break;\n        default:\n            this.barStatus ? this.hideToolbar(pointer) : this.showToolbar(pointer);\n            break;\n    }\n};\n\n/**\r\n * [ 显示工具栏]\r\n * @param  {[type]} pointer [description]\r\n * @return {[type]}         [description]\r\n */\nToolBar.prototype.showToolbar = function (pointer) {\n    switch (pointer) {\n        case 'controlBar':\n            this.showTopBar();\n            break;\n        case 'button':\n            this.showPageBar();\n            this.Lock = false;\n            break;\n        default:\n            this.showTopBar();\n            this.showPageBar();\n    }\n};\n\n/**\r\n * [ 隐藏工具栏]\r\n * @param  {[type]} pointer [description]\r\n * @return {[type]}         [description]\r\n */\nToolBar.prototype.hideToolbar = function (pointer) {\n    switch (pointer) {\n        case 'controlBar':\n            this.hideTopBar();\n            break;\n        case 'button':\n            this.hidePageBar();\n            this.Lock = false;\n            break;\n        default:\n            this.hideTopBar();\n            this.hidePageBar();\n    }\n};\n\n/**\r\n * 显示IOS系统工具栏\r\n *  iOS状态栏0=show,1=hide\r\n * @return {[type]} [description]\r\n */\nToolBar.prototype.showSystemBar = function () {\n    isIOS && Xut.Plugin.statusbarPlugin.setStatus(null, null, 0);\n};\n\n/**\r\n * 隐藏IOS系统工具栏\r\n * @return {[type]} [description]\r\n */\nToolBar.prototype.hideSystemBar = function () {\n    isIOS && Xut.Plugin.statusbarPlugin.setStatus(null, null, 1);\n};\n\n//创建SVG按钮\nToolBar.prototype.createSVGIcon = function (el, callback) {\n    var options = {\n        speed: 6000,\n        size: {\n            w: this.iconHeight,\n            h: this.iconHeight\n        },\n        onToggle: callback\n    };\n    return new _svgicon.svgIcon(el, _iconconfig.iconConfig, options);\n};\n\n//重置翻页按钮,状态以工具栏为标准\nToolBar.prototype.reset = function () {\n    this.barStatus ? this.showPageBar() : this.hidePageBar();\n};\n\nexports.ToolBar = ToolBar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS90b29sQmFyLmpzPzI2MzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUlBOztBQUtBLElBQUksUUFBUSxJQUFJLElBQUosQ0FBUyxLQUFyQjs7O0FBR0EsSUFBSSxhQUFhLFNBQWIsVUFBYSxHQUFXO0FBQ3hCLFFBQUksU0FBUyxJQUFJLE1BQWpCO0FBQ0EsUUFBSSxTQUFTLE9BQU8sVUFBcEI7QUFDQSxRQUFJLFdBQVcsT0FBTyxRQUF0QjtBQUNBLFFBQUksWUFBWSxZQUFZLE1BQVosR0FBcUIsV0FBckIsR0FBbUMsTUFBbkMsR0FBNEMsSUFBNUQ7QUFDQSxZQUFRLFNBQVMsU0FBakI7QUFDSSxhQUFLLENBQUw7QUFDSSx5QkFBYSxRQUFiO0FBQ0Esa0I7QUFDSixhQUFLLENBQUw7QUFDSSx5QkFBYSxpQkFBa0IsQ0FBQyxNQUFELEdBQVUsQ0FBNUIsR0FBaUMsSUFBOUM7QUFDQSxrQjtBQUNKLGFBQUssQ0FBTDtBQUNJLHlCQUFhLG9CQUFiO0FBQ0Esa0I7QUFDSjtBQUNJO0FBWFI7O0FBY0EsV0FBTyxTQUFQO0FBQ0gsQ0FwQkQ7OztBQXVCQSxJQUFJLFVBQVUsSUFBSSxVQUFKLENBQWUsTUFBZixDQUFzQjtBQUNoQyxlQUFXLFFBQVEsRUFBUixHQUFhLENBRFEsRTtBQUVoQyxnQkFBWSxJQUZvQixFO0FBR2hDLGlCQUFhLEk7QUFIbUIsQ0FBdEIsQ0FBZDs7QUFNQSxRQUFRLFNBQVIsQ0FBa0IsVUFBbEIsR0FBK0IsVUFBUyxNQUFULEVBQWlCO0FBQzVDLFFBQUksVUFBSjs7O0FBR0EsU0FBSyxVQUFMLEdBQWtCLGFBQWEsWUFBVztBQUN0QyxZQUFJLFNBQVMsT0FBTyxVQUFwQjtZQUNJLE9BQU8sT0FBTyxVQURsQjtBQUVBLGVBQU8sVUFBVSxZQUFWLEdBQXlCLEtBQUssS0FBOUIsR0FBc0MsS0FBSyxNQUFsRDtBQUNILEtBSjhCLEVBQS9COzs7O0FBUUEsU0FB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SSxPLEdBQUEsTyIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIHN2Z0ljb25cclxufVxyXG5mcm9tICcuL3N2Z2ljb24nXHJcbmltcG9ydCB7XHJcbiAgICBpY29uQ29uZmlnXHJcbn1mcm9tICcuL2ljb25jb25maWcnXHJcblxyXG5cclxubGV0IGlzSU9TID0gWHV0LnBsYXQuaXNJT1NcclxuXHJcbi8v6I635Y+W57+76aG15oyJ6ZKu5L2N572uXHJcbnZhciBhcnJvd1N0eWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29uZmlnID0gWHV0LmNvbmZpZ1xyXG4gICAgdmFyIGhlaWdodCA9IGNvbmZpZy5pY29uSGVpZ2h0XHJcbiAgICB2YXIgc2V0dGluZ3MgPSBjb25maWcuc2V0dGluZ3NcclxuICAgIHZhciBzdHlsZVRleHQgPSAnaGVpZ2h0OicgKyBoZWlnaHQgKyAncHg7d2lkdGg6JyArIGhlaWdodCArICdweCc7XHJcbiAgICBzd2l0Y2ggKHNldHRpbmdzLk5hdmJhclBvcykge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc3R5bGVUZXh0ICs9ICc7dG9wOjAnO1xyXG4gICAgICAgICAgICBicmVhazsgLy/pobbpg6hcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIHN0eWxlVGV4dCArPSAnO21hcmdpbi10b3A6JyArICgtaGVpZ2h0IC8gMikgKyAncHgnO1xyXG4gICAgICAgICAgICBicmVhazsgLy/kuK3pl7RcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIHN0eWxlVGV4dCArPSAnO3RvcDphdXRvO2JvdHRvbTowJztcclxuICAgICAgICAgICAgYnJlYWs7IC8v5bqV6YOoXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0eWxlVGV4dDtcclxufVxyXG5cclxuLy/lt6XlhbfmoI/ln7rnoYDnsbtcclxubGV0IFRvb2xCYXIgPSBYdXQuQ29yZU9iamVjdC5leHRlbmQoe1xyXG4gICAgYmFySGVpZ2h0OiBpc0lPUyA/IDIwIDogMCwgLy/ns7vnu5/nirbmgIHmoI/pq5jluqZcclxuICAgIGVuYWJsZUxlZnQ6IHRydWUsIC8v6buY6K6k5Yib5bu65bem57+76aG15oyJ6ZKuXHJcbiAgICBlbmFibGVSaWdodDogdHJ1ZSAvL+m7mOiupOWIm+W7uuWPs+e/u+mhteaMiemSrlxyXG59KVxyXG5cclxuVG9vbEJhci5wcm90b3R5cGUuaW5pdENvbmZpZyA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgdmFyIHByb3BIZWlnaHQ7XHJcbiAgICAvL+iOt+WPlumrmOW6pue8qeaUvuavlFxyXG4gICAgLy/oh6rliqjpgInmi6nnvKnmlL7mr5TkvotcclxuICAgIHRoaXMucHJvcEhlaWdodCA9IHByb3BIZWlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbGF5b3V0ID0gY29uZmlnLmxheW91dE1vZGUsXHJcbiAgICAgICAgICAgIHByb3AgPSBjb25maWcucHJvcG9ydGlvbjtcclxuICAgICAgICByZXR1cm4gbGF5b3V0ID09IFwiaG9yaXpvbnRhbFwiID8gcHJvcC53aWR0aCA6IHByb3AuaGVpZ2h0O1xyXG4gICAgfSgpXHJcblxyXG4gICAgLy/ojrflj5blm77moIfpq5jluqZcclxuICAgIC8v5bel5YW35qCP5Zu+5qCH6auY5bqmXHJcbiAgICB0aGlzLmljb25IZWlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmljb25IZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIGlzSU9TID8gaGVpZ2h0IDogTWF0aC5yb3VuZChwcm9wSGVpZ2h0ICogaGVpZ2h0KTtcclxuICAgIH0oKVxyXG5cclxuICAgIHRoaXMuYXBwTmFtZSA9IGNvbmZpZy5zaG9ydE5hbWUgLy/lupTnlKjmoIfpophcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBjb25maWcuc2V0dGluZ3MgLy/lupTnlKjpu5jorqTphY3nva5cclxufVxyXG5cclxuXHJcbi8v5Yib5bu657+76aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLmNyZWF0ZUFycm93cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy/mmK/lkKbkvb/nlKjoh6rlrprkuYnnmoTnv7vpobXmjInpkq46IHRydWUgL2ZhbHNlXHJcbiAgICAvL+Wbvuagh+WQjeensOaYr+WuouaIt+err+aMh+WumueahO+8mnBhZ2Vmb3J3YXJkXycrYXBwSWQrJy5zdmdcclxuICAgIHZhciBpc0N1c3RvbSA9IHRoaXMuc2V0dGluZ3MuY3VzdG9tQnV0dG9uO1xyXG5cclxuICAgIGlmICh0aGlzLmVuYWJsZUxlZnQpIHtcclxuICAgICAgICBpc0N1c3RvbSA/IHRoaXMuY3JlYXRlTGVmdEljb24oKSA6IHRoaXMuY3JlYXRlTGVmdEFycm93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZW5hYmxlUmlnaHQpIHtcclxuICAgICAgICBpc0N1c3RvbSA/IHRoaXMuY3JlYXRlUmlnaHRJY29uKCkgOiB0aGlzLmNyZWF0ZVJpZ2h0QXJyb3coKTtcclxuICAgIH1cclxufVxyXG5cclxuLy/lt6bnrq3lpLTnv7vpobXmjInpkq5cclxuVG9vbEJhci5wcm90b3R5cGUuY3JlYXRlTGVmdEFycm93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3R5bGUgPSBhcnJvd1N0eWxlKCksXHJcbiAgICAgICAgc3RhdGUgPSB0aGlzLmJhclN0YXR1cyA/ICcnIDogJ2hpZGUnLFxyXG4gICAgICAgICRkb207XHJcbiAgICAkZG9tID0gJCgnPGRpdiBjbGFzcz1cInNpLWljb24geHV0LWZsaXAtY29udHJvbCBsZWZ0ICcgKyBzdGF0ZSArICdcIiBkYXRhLWljb24tbmFtZT1cInByZXZBcnJvd1wiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2PicpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlU1ZHSWNvbigkZG9tWzBdLFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBYdXQuVmlldy5Hb3RvUHJldlNsaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJGRvbSk7XHJcbiAgICB0aGlzLmFycm93cy5wcmV2ID0ge1xyXG4gICAgICAgIGVsOiAkZG9tLFxyXG4gICAgICAgIGFibGU6IHRydWVcclxuICAgIH07XHJcbn1cclxuXHJcbi8v5Y+z566t5aS057+76aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLmNyZWF0ZVJpZ2h0QXJyb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzdHlsZSA9IGFycm93U3R5bGUoKSxcclxuICAgICAgICBzdGF0ZSA9IHRoaXMuYmFyU3RhdHVzID8gJycgOiAnaGlkZScsXHJcbiAgICAgICAgJGRvbTtcclxuICAgICRkb20gPSAkKCc8ZGl2IGNsYXNzPVwic2ktaWNvbiB4dXQtZmxpcC1jb250cm9sIHJpZ2h0ICcgKyBzdGF0ZSArICdcIiBkYXRhLWljb24tbmFtZT1cIm5leHRBcnJvd1wiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2PicpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlU1ZHSWNvbigkZG9tWzBdLFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBYdXQuVmlldy5Hb3RvTmV4dFNsaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJGRvbSk7XHJcbiAgICB0aGlzLmFycm93cy5uZXh0ID0ge1xyXG4gICAgICAgIGVsOiAkZG9tLFxyXG4gICAgICAgIGFibGU6IHRydWVcclxuICAgIH07XHJcbn1cclxuXHJcbi8v6Ieq5a6a5LmJ5bem57+76aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLmNyZWF0ZUxlZnRJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3R5bGUgPSBhcnJvd1N0eWxlKCksXHJcbiAgICAgICAgYXBwSWQgPSB0aGlzLmNvbmZpZy5hcHBJZCxcclxuICAgICAgICBzdGF0ZSA9IHRoaXMuYmFyU3RhdHVzID8gJycgOiAnaGlkZScsXHJcbiAgICAgICAgJGRvbTtcclxuICAgIHN0eWxlICs9ICc7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2ljb25zL3BhZ2Vmb3J3YXJkXycgKyBhcHBJZCArICcuc3ZnKTtiYWNrZ3JvdW5kLXNpemU6Y292ZXInO1xyXG4gICAgJGRvbSA9ICQoJzxkaXYgbmFtZT1cInByZXZBcnJvd1wiIGNsYXNzPVwieHV0LWZsaXAtY29udHJvbCBsZWZ0ICcgKyBzdGF0ZSArICdcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIj48L2Rpdj4nKTtcclxuXHJcbiAgICAkZG9tLm9uKFwidG91Y2hlbmQgbW91c2V1cFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBYdXQuVmlldy5Hb3RvUHJldlNsaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJGRvbSk7XHJcbiAgICB0aGlzLmFycm93cy5wcmV2ID0ge1xyXG4gICAgICAgIGVsOiAkZG9tLFxyXG4gICAgICAgIGFibGU6IHRydWVcclxuICAgIH07XHJcbn1cclxuXHJcbi8v6Ieq5a6a5LmJ5Y+z57+76aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLmNyZWF0ZVJpZ2h0SWNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHN0eWxlID0gYXJyb3dTdHlsZSgpLFxyXG4gICAgICAgIGFwcElkID0gdGhpcy5jb25maWcuYXBwSWQsXHJcbiAgICAgICAgc3RhdGUgPSB0aGlzLmJhclN0YXR1cyA/ICcnIDogJ2hpZGUnLFxyXG4gICAgICAgICRkb207XHJcbiAgICBzdHlsZSArPSAnO2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9pY29ucy9wYWdlYmFja18nICsgYXBwSWQgKyAnLnN2Zyk7YmFja2dyb3VuZC1zaXplOmNvdmVyJztcclxuICAgICRkb20gPSAkKCc8ZGl2IG5hbWU9XCJuZXh0QXJyb3dcIiBjbGFzcz1cInh1dC1mbGlwLWNvbnRyb2wgcmlnaHQgJyArIHN0YXRlICsgJ1wiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2PicpO1xyXG5cclxuICAgICRkb20ub24oXCJ0b3VjaGVuZCBtb3VzZXVwXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFh1dC5WaWV3LkdvdG9OZXh0U2xpZGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCgkZG9tKTtcclxuICAgIHRoaXMuYXJyb3dzLm5leHQgPSB7XHJcbiAgICAgICAgZWw6ICRkb20sXHJcbiAgICAgICAgYWJsZTogdHJ1ZVxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFsgZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGlyIFtuZXh0LHByZXZdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gc3RhdHVzICBbdHJ1ZS9mYWxzZV1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Ub29sQmFyLnByb3RvdHlwZS50b2dnbGVBcnJvdyA9IGZ1bmN0aW9uKGRpciwgc3RhdHVzKSB7XHJcbiAgICB2YXIgYXJyb3cgPSB0aGlzLmFycm93c1tkaXJdO1xyXG4gICAgLy/lpoLmnpzmsqHmnInliJvlu7rnv7vpobXmjInpkq4s5YiZ5LiN5aSE55CGXHJcbiAgICBpZiAoIWFycm93KSByZXR1cm47XHJcbiAgICBhcnJvdy5hYmxlID0gc3RhdHVzO1xyXG4gICAgLy/lpoLmnpzkurrkuLrpmpDol4/kuoblt6XlhbfmoI8s5YiZ5LiN5pi+56S657+76aG15oyJ6ZKuXHJcbiAgICBpZiAodGhpcy5oYXNUb3BCYXIgJiYgIXRoaXMuYmFyU3RhdHVzICYmIHN0YXR1cykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGFycm93LmVsW3N0YXR1cyA/ICdzaG93JyA6ICdoaWRlJ10oKTtcclxufVxyXG5cclxuLy/pmpDol4/kuIvkuIDpobXmjInpkq5cclxuVG9vbEJhci5wcm90b3R5cGUuaGlkZU5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMudG9nZ2xlQXJyb3coJ25leHQnLCBmYWxzZSk7XHJcbn1cclxuXHJcbi8v5pi+56S65LiL5LiA6aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLnNob3dOZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUFycm93KCduZXh0JywgdHJ1ZSk7XHJcbn1cclxuXHJcbi8v6ZqQ6JeP5LiK5LiA6aG15oyJ6ZKuXHJcblRvb2xCYXIucHJvdG90eXBlLmhpZGVQcmV2ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUFycm93KCdwcmV2JywgZmFsc2UpO1xyXG59XHJcblxyXG4vL+aYvuekuuS4iuS4gOmhteaMiemSrlxyXG5Ub29sQmFyLnByb3RvdHlwZS5zaG93UHJldiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy50b2dnbGVBcnJvdygncHJldicsIHRydWUpO1xyXG59XHJcblxyXG4vKipcclxuICogWyDmmL7npLrnv7vpobXmjInpkq5dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblRvb2xCYXIucHJvdG90eXBlLnNob3dQYWdlQmFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYXJyb3dzID0gdGhpcy5hcnJvd3M7XHJcblxyXG4gICAgZm9yICh2YXIgZGlyIGluIGFycm93cykge1xyXG4gICAgICAgIHZhciBhcnJvdyA9IGFycm93c1tkaXJdO1xyXG4gICAgICAgIGFycm93LmFibGUgJiYgYXJyb3cuZWwuc2hvdygpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogWyDpmpDol4/nv7vpobXmjInpkq5dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gdW5sb2NrIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuVG9vbEJhci5wcm90b3R5cGUuaGlkZVBhZ2VCYXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBhcnJvd3MgPSB0aGlzLmFycm93cztcclxuICAgIGZvciAodmFyIGRpciBpbiBhcnJvd3MpIHtcclxuICAgICAgICBhcnJvd3NbZGlyXS5lbC5oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gc3RhdGUgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gcG9pbnRlciBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Ub29sQmFyLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihzdGF0ZSwgcG9pbnRlcikge1xyXG4gICAgaWYgKHRoaXMuTG9jaykgcmV0dXJuO1xyXG4gICAgdGhpcy5Mb2NrID0gdHJ1ZTtcclxuXHJcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgY2FzZSAnc2hvdyc6XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2xiYXIocG9pbnRlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2hpZGUnOlxyXG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sYmFyKHBvaW50ZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aGlzLmJhclN0YXR1cyA/IHRoaXMuaGlkZVRvb2xiYXIocG9pbnRlcikgOiB0aGlzLnNob3dUb29sYmFyKHBvaW50ZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFsg5pi+56S65bel5YW35qCPXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHBvaW50ZXIgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuVG9vbEJhci5wcm90b3R5cGUuc2hvd1Rvb2xiYXIgPSBmdW5jdGlvbihwb2ludGVyKSB7XHJcbiAgICBzd2l0Y2ggKHBvaW50ZXIpIHtcclxuICAgICAgICBjYXNlICdjb250cm9sQmFyJzpcclxuICAgICAgICAgICAgdGhpcy5zaG93VG9wQmFyKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2J1dHRvbic6XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1BhZ2VCYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1RvcEJhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dQYWdlQmFyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBbIOmakOiXj+W3peWFt+agj11cclxuICogQHBhcmFtICB7W3R5cGVdfSBwb2ludGVyIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblRvb2xCYXIucHJvdG90eXBlLmhpZGVUb29sYmFyID0gZnVuY3Rpb24ocG9pbnRlcikge1xyXG4gICAgc3dpdGNoIChwb2ludGVyKSB7XHJcbiAgICAgICAgY2FzZSAnY29udHJvbEJhcic6XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVRvcEJhcigpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdidXR0b24nOlxyXG4gICAgICAgICAgICB0aGlzLmhpZGVQYWdlQmFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aGlzLmhpZGVUb3BCYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlUGFnZUJhcigpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5pi+56S6SU9T57O757uf5bel5YW35qCPXHJcbiAqICBpT1PnirbmgIHmoI8wPXNob3csMT1oaWRlXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuVG9vbEJhci5wcm90b3R5cGUuc2hvd1N5c3RlbUJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaXNJT1MgJiYgWHV0LlBsdWdpbi5zdGF0dXNiYXJQbHVnaW4uc2V0U3RhdHVzKG51bGwsIG51bGwsIDApO1xyXG59XHJcblxyXG4vKipcclxuICog6ZqQ6JePSU9T57O757uf5bel5YW35qCPXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuVG9vbEJhci5wcm90b3R5cGUuaGlkZVN5c3RlbUJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaXNJT1MgJiYgWHV0LlBsdWdpbi5zdGF0dXNiYXJQbHVnaW4uc2V0U3RhdHVzKG51bGwsIG51bGwsIDEpO1xyXG59XHJcblxyXG4vL+WIm+W7ulNWR+aMiemSrlxyXG5Ub29sQmFyLnByb3RvdHlwZS5jcmVhdGVTVkdJY29uID0gZnVuY3Rpb24oZWwsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBzcGVlZDogNjAwMCxcclxuICAgICAgICBzaXplOiB7XHJcbiAgICAgICAgICAgIHc6IHRoaXMuaWNvbkhlaWdodCxcclxuICAgICAgICAgICAgaDogdGhpcy5pY29uSGVpZ2h0XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblRvZ2dsZTogY2FsbGJhY2tcclxuICAgIH07XHJcbiAgICByZXR1cm4gbmV3IHN2Z0ljb24oZWwsIGljb25Db25maWcsIG9wdGlvbnMpO1xyXG59XHJcblxyXG4vL+mHjee9rue/u+mhteaMiemSriznirbmgIHku6Xlt6XlhbfmoI/kuLrmoIflh4ZcclxuVG9vbEJhci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYmFyU3RhdHVzID8gdGhpcy5zaG93UGFnZUJhcigpIDogdGhpcy5oaWRlUGFnZUJhcigpO1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBUb29sQmFyXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS90b29sQmFyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 10 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 目录列表\r\n * @param  {[type]} hindex    [description]\r\n * @param  {[type]} pageArray [description]\r\n * @param  {[type]} modules   [description]\r\n * @return {[type]}           [description]\r\n *\r\n */\n\nvar config = Xut.config;\nvar pageIndex = 0;\nvar prefix = Xut.plat.prefixStyle;\nvar _layoutMode = config.layoutMode;\nvar initializeBusy = false;\nvar sectionInstance = null;\nvar directory = 'images/icons/directory.png';\nvar directory_act = 'images/icons/directory_act.png';\nvar lockAnimation = void 0; //动画加锁\n\n/*********************************************************************\r\n *                 下拉章节列表                                      *\r\n **********************************************************************/\n\nfunction SectionList(artControl) {\n    var me = this,\n        pageArray = [];\n\n    Xut.data.query('Chapter', Xut.data.novelId, 'seasonId', function (item) {\n        pageArray.push(item);\n    });\n\n    this.pageArray = pageArray;\n\n    // //显示下拉菜单\n    Xut.nextTick({\n        'container': artControl,\n        'content': SceneLayout.nav(pageArray)\n    }, function () {\n        me.userIscroll();\n        sectionInstance = me;\n        initialize();\n    });\n};\n\nSectionList.prototype = {\n    userIscroll: function userIscroll() {\n        var me = this,\n            hBox = this.hBox,\n            H = !!(_layoutMode === 'horizontal'),\n\n        //滑动到指定章节\n        list = this.list = $('#SectionThelist li'),\n            ele = list.eq(pageIndex)[0];\n\n        if (hBox) {\n            if (H) {\n                hBox.goToPage(pageIndex, 0, 0);\n            } else {\n                hBox.goToPage(0, pageIndex, 0);\n            }\n        } else {\n            hBox = new iScroll('#SectionWrapper', {\n                snap: 'li',\n                tap: true,\n                scrollX: H,\n                scrollY: !H,\n                scrollbars: true,\n                fadeScrollbars: true,\n                stopPropagation: true\n            });\n            hBox.on('scrollEnd', function (e) {\n                me.createThumb();\n                me.removeThumb();\n            });\n\n            $('#SectionThelist').on('tap', this.clickElement);\n            this.hBox = hBox;\n        }\n    },\n    /**\r\n     * [ 创建缩略图]\r\n     * @return {[type]} [description]\r\n     */\n    createThumb: function createThumb() {\n        var index = this.getPageIndex(),\n            //最左边的索引\n        count = this.getViewLen(),\n            //允许显示的页数\n        createBak = this.createBak || [],\n            //已创建的页码索引\n        createNew = [],\n            //新建的页码索引\n        pageArray = this.pageArray,\n            list = this.list,\n            maxLen = pageArray.length,\n            path = config.pathAddress;\n\n        //确保不会溢出\n        count = count > maxLen ? maxLen : count;\n        //尽可能地填满\n        index = index + count > maxLen ? maxLen - count : index;\n\n        for (var i = 0; i < count; i++) {\n            var j = index + i,\n                page = pageArray[j];\n\n            createNew.push(j);\n\n            if (_.contains(createBak, j)) continue;\n\n            createBak.push(j);\n\n            //如果是分层母板了,此时用icon代替\n            if (page.iconImage) {\n                list.eq(j).css({\n                    'background-image': 'url(' + path + page.iconImage + ')'\n                });\n            } else {\n                list.eq(j).css({\n                    'background-image': 'url(' + path + page.md5 + ')',\n                    'background-color': 'white'\n                });\n            }\n        }\n\n        this.createNew = createNew;\n        this.createBak = createBak;\n    },\n    /**\r\n     * [ 清理隐藏的缩略图]\r\n     * @return {[type]} [description]\r\n     */\n    removeThumb: function removeThumb() {\n        var list = this.list,\n            createNew = this.createNew,\n            createBak = this.createBak;\n\n        _.each(createBak, function (val, i) {\n            if (!_.contains(createNew, val)) {\n                //标记要清理的索引\n                createBak[i] = -1;\n                list.eq(val).css({\n                    'background': ''\n                });\n            }\n        });\n\n        //执行清理\n        this.createBak = _.without(createBak, -1);\n    },\n\n    /**\r\n     * [ 得到滑动列表中最左侧的索引]\r\n     * @return {[type]} [description]\r\n     */\n    getPageIndex: function getPageIndex() {\n        if (this.hBox.options.scrollX) {\n            return this.hBox.currentPage.pageX;\n        } else {\n            return this.hBox.currentPage.pageY;\n        }\n    },\n\n    /**\r\n     * [ 获取待创建的缩略图的个数]\r\n     * @return {[type]} [description]\r\n     */\n    getViewLen: function getViewLen() {\n        var hBox = this.hBox,\n            eleSize = 1,\n            //单个li的高度,\n        count = 1,\n            len = this.pageArray.length; //li的总数\n\n        if (_layoutMode === 'horizontal') {\n            eleSize = hBox.scrollerWidth / len;\n            count = hBox.wrapperWidth / eleSize;\n        } else {\n            eleSize = hBox.scrollerHeight / len;\n            count = hBox.wrapperHeight / eleSize;\n        }\n        //多创建一个\n        return Math.ceil(count) + 1;\n    },\n\n    touchCallback: function touchCallback(env) {\n        var absDistX = this.hBox.absDistX;\n        if (!absDistX) {\n            this.hBox.swipe = true;\n            this.clickElement(env);\n        }\n    },\n\n    clickElement: function clickElement(env) {\n        var target = env.target,\n            xxtlink;\n\n        if (target) {\n            initializeBusy = true;\n            initialize();\n            if (xxtlink = target.getAttribute('data-xxtlink')) {\n                xxtlink = xxtlink.split('-');\n                Xut.View.GotoSlide(xxtlink[0], xxtlink[1]);\n            }\n        }\n    },\n\n    resetList: function resetList() {\n        return initialize();\n    },\n\n    scrollTo: function scrollTo() {\n        this.userIscroll();\n    },\n\n    refresh: function refresh() {\n        this.hBox && this.hBox.refresh();\n    },\n\n    destroy: function destroy() {\n        if (this.hBox) {\n            $('#SectionThelist').off('tap', this.clickElement);\n            this.hBox.destroy();\n            this.hBox = null;\n        }\n        this.pageArray = null;\n    }\n\n};\n\n//执行动画\nfunction toAnimation(navControlBar, navhandle, action) {\n    var end = function end() {\n        navControlBar.css(prefix('transition'), '');\n        Xut.View.HideBusy();\n        lockAnimation = false;\n    };\n\n    if (action == 'in') {\n        sectionInstance.refresh();\n        sectionInstance.scrollTo();\n        navControlBar.animate({\n            'z-index': Xut.zIndexlevel(),\n            'opacity': 1\n        }, 'fast', 'linear', function () {\n            navhandle.attr('fly', 'out');\n            end();\n        });\n    } else {\n        navhandle.attr('fly', 'in');\n        navControlBar.hide();\n        end();\n    }\n}\n\n//控制按钮改变\nfunction navControl(action, navhandle) {\n    navhandle.css('opacity', action === \"in\" ? 0.5 : 1);\n}\n\nfunction initialize() {\n    //动画状态\n    if (lockAnimation) {\n        return false;\n    }\n\n    lockAnimation = true;\n    Xut.View.ShowBusy();\n    startpocess();\n};\n\nfunction startpocess() {\n    //控制按钮\n    var navhandle = $(\"#backDir\"),\n        action = navhandle.attr('fly') || 'in',\n        navControlBar = $(\"#navBar\");\n\n    //初始化样式\n    initStyle(navControlBar, action, function () {\n        //触发控制条\n        navControl(action, navhandle);\n        //执行动画\n        toAnimation(navControlBar, navhandle, action);\n    });\n};\n\nfunction initStyle(navControlBar, action, fn) {\n    sectionInstance.state = false;\n    if (action == 'in') {\n        sectionInstance.state = true;\n        navControlBar.css({\n            'z-index': 0,\n            'opacity': 0,\n            'display': 'block'\n        });\n    }\n    fn && fn();\n}\n\n/**\r\n * 销毁对象\r\n * @return {[type]} [description]\r\n */\nfunction destroy() {\n    if (sectionInstance) {\n        sectionInstance.destroy();\n        sectionInstance = null;\n    }\n};\n\n/**\r\n * 预先缓存加载\r\n * @return {[type]} [description]\r\n */\nfunction load() {\n    new SectionList($(\"#navBar\"));\n};\n\n//关闭\nfunction close(callback) {\n    if (sectionInstance && sectionInstance.state) {\n        callback && callback();\n        initialize();\n    }\n}\n\nfunction init(index) {\n    pageIndex = index;\n    if (sectionInstance) {\n        initialize();\n    } else {\n        load();\n    }\n}\n\nexports.load = load;\nexports.init = init;\nexports.close = close;\nexports.destroy = destroy;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvbmF2YmFyLmpzP2RjMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFTQyxJQUFJLFNBQVMsSUFBSSxNQUFqQjtBQUNBLElBQUksWUFBWSxDQUFoQjtBQUNBLElBQUksU0FBUyxJQUFJLElBQUosQ0FBUyxXQUF0QjtBQUNBLElBQUksY0FBYyxPQUFPLFVBQXpCO0FBQ0EsSUFBSSxpQkFBaUIsS0FBckI7QUFDQSxJQUFJLGtCQUFrQixJQUF0QjtBQUNBLElBQUksWUFBWSw0QkFBaEI7QUFDQSxJQUFJLGdCQUFnQixnQ0FBcEI7QUFDQSxJQUFJLHNCQUFKLEM7Ozs7OztBQU1BLFNBQVMsV0FBVCxDQUFxQixVQUFyQixFQUFpQztBQUM3QixRQUFJLEtBQUssSUFBVDtRQUNJLFlBQVksRUFEaEI7O0FBR0EsUUFBSSxJQUFKLENBQVMsS0FBVCxDQUFlLFNBQWYsRUFBMEIsSUFBSSxJQUFKLENBQVMsT0FBbkMsRUFBNEMsVUFBNUMsRUFBd0QsVUFBUyxJQUFULEVBQWU7QUFDbkUsa0JBQVUsSUFBVixDQUFlLElBQWY7QUFDSCxLQUZEOztBQUlBLFNBQUssU0FBTCxHQUFpQixTQUFqQjs7O0FBR0EsUUFBSSxRQUFKLENBQWE7QUFDVCxxQkFBYSxVQURKO0FBRVQsbUJBQVcsWUFBWSxHQUFaLENBQWdCLFNBQWhCO0FBRkYsS0FBYixFQUdHLFlBQVc7QUFDVixXQUFHLFdBQUg7QUFDQSwwQkFBa0IsRUFBbEI7QUFDQTtBQUNILEtBUEQ7QUFRSDs7QUFHRCxZQUFZLFNBQVosR0FBd0I7QUFDcEIsaUJBQWEsdUJBQVc7QUFDcEIsWUFBSSxLQUFLLElBQVQ7WUFDSSxPQUFPLEtBQUssSUFEaEI7WUFFSSxJQUFJLENBQUMsRUFBRSxnQkFBZ0IsWUFBbEIsQ0FGVDs7O0FBSUksZUFBTyxLQUFLLElBQUwsR0FBWSxFQUFFLG9CQUFGLENBSnZCO1lBS0ksTUFBTSxLQUFLLEVBQUwsQ0FBUSxTQUFS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R0FBbUI7QUFDZixRQUFJLGVBQUosRUFBcUI7QUFDakIsd0JBQWdCLE9BQWhCO0FBQ0EsMEJBQWtCLElBQWxCO0FBQ0g7QUFDSjs7Ozs7O0FBT0QsU0FBUyxJQUFULEdBQWdCO0FBQ1osUUFBSSxXQUFKLENBQWdCLEVBQUUsU0FBRixDQUFoQjtBQUNIOzs7QUFJRCxTQUFTLEtBQVQsQ0FBZSxRQUFmLEVBQXlCO0FBQ3JCLFFBQUksbUJBQW1CLGdCQUFnQixLQUF2QyxFQUE4QztBQUMxQyxvQkFBWSxVQUFaO0FBQ0E7QUFDSDtBQUNKOztBQUVELFNBQVMsSUFBVCxDQUFjLEtBQWQsRUFBcUI7QUFDakIsZ0JBQVksS0FBWjtBQUNBLFFBQUksZUFBSixFQUFxQjtBQUNqQjtBQUNILEtBRkQsTUFFTztBQUNIO0FBQ0g7QUFDSjs7UUFJRyxJLEdBQUEsSTtRQUNBLEksR0FBQSxJO1FBQ0EsSyxHQUFBLEs7UUFDQSxPLEdBQUEsTyIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAvKipcclxuICAqIOebruW9leWIl+ihqFxyXG4gICogQHBhcmFtICB7W3R5cGVdfSBoaW5kZXggICAgW2Rlc2NyaXB0aW9uXVxyXG4gICogQHBhcmFtICB7W3R5cGVdfSBwYWdlQXJyYXkgW2Rlc2NyaXB0aW9uXVxyXG4gICogQHBhcmFtICB7W3R5cGVdfSBtb2R1bGVzICAgW2Rlc2NyaXB0aW9uXVxyXG4gICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICpcclxuICAqL1xyXG5cclxuIGxldCBjb25maWcgPSBYdXQuY29uZmlnXHJcbiBsZXQgcGFnZUluZGV4ID0gMFxyXG4gbGV0IHByZWZpeCA9IFh1dC5wbGF0LnByZWZpeFN0eWxlXHJcbiBsZXQgX2xheW91dE1vZGUgPSBjb25maWcubGF5b3V0TW9kZVxyXG4gbGV0IGluaXRpYWxpemVCdXN5ID0gZmFsc2VcclxuIGxldCBzZWN0aW9uSW5zdGFuY2UgPSBudWxsXHJcbiBsZXQgZGlyZWN0b3J5ID0gJ2ltYWdlcy9pY29ucy9kaXJlY3RvcnkucG5nJ1xyXG4gbGV0IGRpcmVjdG9yeV9hY3QgPSAnaW1hZ2VzL2ljb25zL2RpcmVjdG9yeV9hY3QucG5nJ1xyXG4gbGV0IGxvY2tBbmltYXRpb24gLy/liqjnlLvliqDplIFcclxuXHJcbiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiAgICAgICAgICAgICAgICAg5LiL5ouJ56ug6IqC5YiX6KGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiBmdW5jdGlvbiBTZWN0aW9uTGlzdChhcnRDb250cm9sKSB7XHJcbiAgICAgdmFyIG1lID0gdGhpcyxcclxuICAgICAgICAgcGFnZUFycmF5ID0gW107XHJcblxyXG4gICAgIFh1dC5kYXRhLnF1ZXJ5KCdDaGFwdGVyJywgWHV0LmRhdGEubm92ZWxJZCwgJ3NlYXNvbklkJywgZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICBwYWdlQXJyYXkucHVzaChpdGVtKTtcclxuICAgICB9KVxyXG5cclxuICAgICB0aGlzLnBhZ2VBcnJheSA9IHBhZ2VBcnJheTtcclxuXHJcbiAgICAgLy8gLy/mmL7npLrkuIvmi4noj5zljZVcclxuICAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICAnY29udGFpbmVyJzogYXJ0Q29udHJvbCxcclxuICAgICAgICAgJ2NvbnRlbnQnOiBTY2VuZUxheW91dC5uYXYocGFnZUFycmF5KVxyXG4gICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBtZS51c2VySXNjcm9sbCgpO1xyXG4gICAgICAgICBzZWN0aW9uSW5zdGFuY2UgPSBtZTtcclxuICAgICAgICAgaW5pdGlhbGl6ZSgpO1xyXG4gICAgIH0pO1xyXG4gfTtcclxuXHJcblxyXG4gU2VjdGlvbkxpc3QucHJvdG90eXBlID0ge1xyXG4gICAgIHVzZXJJc2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIG1lID0gdGhpcyxcclxuICAgICAgICAgICAgIGhCb3ggPSB0aGlzLmhCb3gsXHJcbiAgICAgICAgICAgICBIID0gISEoX2xheW91dE1vZGUgPT09ICdob3Jpem9udGFsJyksXHJcbiAgICAgICAgICAgICAvL+a7keWKqOWIsOaMh+WumueroOiKglxyXG4gICAgICAgICAgICAgbGlzdCA9IHRoaXMubGlzdCA9ICQoJyNTZWN0aW9uVGhlbGlzdCBsaScpLFxyXG4gICAgICAgICAgICAgZWxlID0gbGlzdC5lcShwYWdlSW5kZXgpWzBdO1xyXG5cclxuICAgICAgICAgaWYgKGhCb3gpIHtcclxuICAgICAgICAgICAgIGlmIChIKSB7XHJcbiAgICAgICAgICAgICAgICAgaEJveC5nb1RvUGFnZShwYWdlSW5kZXgsIDAsIDApO1xyXG4gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICBoQm94LmdvVG9QYWdlKDAsIHBhZ2VJbmRleCwgMCk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBoQm94ID0gbmV3IGlTY3JvbGwoJyNTZWN0aW9uV3JhcHBlcicsIHtcclxuICAgICAgICAgICAgICAgICBzbmFwOiAnbGknLFxyXG4gICAgICAgICAgICAgICAgIHRhcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICBzY3JvbGxYOiBILFxyXG4gICAgICAgICAgICAgICAgIHNjcm9sbFk6ICFILFxyXG4gICAgICAgICAgICAgICAgIHNjcm9sbGJhcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgZmFkZVNjcm9sbGJhcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiB0cnVlXHJcbiAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIGhCb3gub24oJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICBtZS5jcmVhdGVUaHVtYigpO1xyXG4gICAgICAgICAgICAgICAgIG1lLnJlbW92ZVRodW1iKCk7XHJcbiAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAkKCcjU2VjdGlvblRoZWxpc3QnKS5vbigndGFwJywgdGhpcy5jbGlja0VsZW1lbnQpO1xyXG4gICAgICAgICAgICAgdGhpcy5oQm94ID0gaEJveDtcclxuICAgICAgICAgfVxyXG4gICAgIH0sXHJcbiAgICAgLyoqXHJcbiAgICAgICogWyDliJvlu7rnvKnnlaXlm75dXHJcbiAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICovXHJcbiAgICAgY3JlYXRlVGh1bWI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldFBhZ2VJbmRleCgpLCAvL+acgOW3pui+ueeahOe0ouW8lVxyXG4gICAgICAgICAgICAgY291bnQgPSB0aGlzLmdldFZpZXdMZW4oKSwgLy/lhYHorrjmmL7npLrnmoTpobXmlbBcclxuICAgICAgICAgICAgIGNyZWF0ZUJhayA9IHRoaXMuY3JlYXRlQmFrIHx8IFtdLCAvL+W3suWIm+W7uueahOmhteeggee0ouW8lVxyXG4gICAgICAgICAgICAgY3JlYXRlTmV3ID0gW10sIC8v5paw5bu655qE6aG156CB57Si5byVXHJcbiAgICAgICAgICAgICBwYWdlQXJyYXkgPSB0aGlzLnBhZ2VBcnJheSxcclxuICAgICAgICAgICAgIGxpc3QgPSB0aGlzLmxpc3QsXHJcbiAgICAgICAgICAgICBtYXhMZW4gPSBwYWdlQXJyYXkubGVuZ3RoLFxyXG4gICAgICAgICAgICAgcGF0aCA9IGNvbmZpZy5wYXRoQWRkcmVzcztcclxuXHJcbiAgICAgICAgIC8v56Gu5L+d5LiN5Lya5rqi5Ye6XHJcbiAgICAgICAgIGNvdW50ID0gY291bnQgPiBtYXhMZW4gPyBtYXhMZW4gOiBjb3VudDtcclxuICAgICAgICAgLy/lsL3lj6/og73lnLDloavmu6FcclxuICAgICAgICAgaW5kZXggPSBpbmRleCArIGNvdW50ID4gbWF4TGVuID8gbWF4TGVuIC0gY291bnQgOiBpbmRleDtcclxuXHJcbiAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgdmFyIGogPSBpbmRleCArIGksXHJcbiAgICAgICAgICAgICAgICAgcGFnZSA9IHBhZ2VBcnJheVtqXTtcclxuXHJcbiAgICAgICAgICAgICBjcmVhdGVOZXcucHVzaChqKTtcclxuXHJcbiAgICAgICAgICAgICBpZiAoXy5jb250YWlucyhjcmVhdGVCYWssIGopKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICBjcmVhdGVCYWsucHVzaChqKTtcclxuXHJcbiAgICAgICAgICAgICAvL+WmguaenOaYr+WIhuWxguavjeadv+S6hizmraTml7bnlKhpY29u5Luj5pu/XHJcbiAgICAgICAgICAgICBpZiAocGFnZS5pY29uSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICBsaXN0LmVxKGopLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnICsgcGF0aCArIHBhZ2UuaWNvbkltYWdlICsgJyknXHJcbiAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgIGxpc3QuZXEoaikuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKCcgKyBwYXRoICsgcGFnZS5tZDUgKyAnKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3doaXRlJ1xyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICB0aGlzLmNyZWF0ZU5ldyA9IGNyZWF0ZU5ldztcclxuICAgICAgICAgdGhpcy5jcmVhdGVCYWsgPSBjcmVhdGVCYWs7XHJcbiAgICAgfSxcclxuICAgICAvKipcclxuICAgICAgKiBbIOa4heeQhumakOiXj+eahOe8qeeVpeWbvl1cclxuICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgKi9cclxuICAgICByZW1vdmVUaHVtYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBsaXN0ID0gdGhpcy5saXN0LFxyXG4gICAgICAgICAgICAgY3JlYXRlTmV3ID0gdGhpcy5jcmVhdGVOZXcsXHJcbiAgICAgICAgICAgICBjcmVhdGVCYWsgPSB0aGlzLmNyZWF0ZUJhaztcclxuXHJcbiAgICAgICAgIF8uZWFjaChjcmVhdGVCYWssIGZ1bmN0aW9uKHZhbCwgaSkge1xyXG4gICAgICAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGNyZWF0ZU5ldywgdmFsKSkge1xyXG4gICAgICAgICAgICAgICAgIC8v5qCH6K6w6KaB5riF55CG55qE57Si5byVXHJcbiAgICAgICAgICAgICAgICAgY3JlYXRlQmFrW2ldID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgbGlzdC5lcSh2YWwpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kJzogJydcclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAvL+aJp+ihjOa4heeQhlxyXG4gICAgICAgICB0aGlzLmNyZWF0ZUJhayA9IF8ud2l0aG91dChjcmVhdGVCYWssIC0xKTtcclxuICAgICB9LFxyXG5cclxuICAgICAvKipcclxuICAgICAgKiBbIOW+l+WIsOa7keWKqOWIl+ihqOS4reacgOW3puS+p+eahOe0ouW8lV1cclxuICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgKi9cclxuICAgICBnZXRQYWdlSW5kZXg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBpZiAodGhpcy5oQm94Lm9wdGlvbnMuc2Nyb2xsWCkge1xyXG4gICAgICAgICAgICAgcmV0dXJuIHRoaXMuaEJveC5jdXJyZW50UGFnZS5wYWdlWDtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIHJldHVybiB0aGlzLmhCb3guY3VycmVudFBhZ2UucGFnZVk7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgfSxcclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogWyDojrflj5blvoXliJvlu7rnmoTnvKnnlaXlm77nmoTkuKrmlbBdXHJcbiAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICovXHJcbiAgICAgZ2V0Vmlld0xlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBoQm94ID0gdGhpcy5oQm94LFxyXG4gICAgICAgICAgICAgZWxlU2l6ZSA9IDEsIC8v5Y2V5LiqbGnnmoTpq5jluqYsXHJcbiAgICAgICAgICAgICBjb3VudCA9IDEsXHJcbiAgICAgICAgICAgICBsZW4gPSB0aGlzLnBhZ2VBcnJheS5sZW5ndGg7IC8vbGnnmoTmgLvmlbBcclxuXHJcbiAgICAgICAgIGlmIChfbGF5b3V0TW9kZSA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgICBlbGVTaXplID0gaEJveC5zY3JvbGxlcldpZHRoIC8gbGVuO1xyXG4gICAgICAgICAgICAgY291bnQgPSBoQm94LndyYXBwZXJXaWR0aCAvIGVsZVNpemU7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBlbGVTaXplID0gaEJveC5zY3JvbGxlckhlaWdodCAvIGxlbjtcclxuICAgICAgICAgICAgIGNvdW50ID0gaEJveC53cmFwcGVySGVpZ2h0IC8gZWxlU2l6ZTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvL+WkmuWIm+W7uuS4gOS4qlxyXG4gICAgICAgICByZXR1cm4gTWF0aC5jZWlsKGNvdW50KSArIDE7XHJcbiAgICAgfSxcclxuXHJcbiAgICAgdG91Y2hDYWxsYmFjazogZnVuY3Rpb24oZW52KSB7XHJcbiAgICAgICAgIHZhciBhYnNEaXN0WCA9IHRoaXMuaEJveC5hYnNEaXN0WDtcclxuICAgICAgICAgaWYgKCFhYnNEaXN0WCkge1xyXG4gICAgICAgICAgICAgdGhpcy5oQm94LnN3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgIHRoaXMuY2xpY2tFbGVtZW50KGVudik7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgfSxcclxuXHJcbiAgICAgY2xpY2tFbGVtZW50OiBmdW5jdGlvbihlbnYpIHtcclxuICAgICAgICAgdmFyIHRhcmdldCA9IGVudi50YXJnZXQsXHJcbiAgICAgICAgICAgICB4eHRsaW5rO1xyXG5cclxuICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgaW5pdGlhbGl6ZUJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICAgaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgaWYgKHh4dGxpbmsgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXh4dGxpbmsnKSkge1xyXG4gICAgICAgICAgICAgICAgIHh4dGxpbmsgPSB4eHRsaW5rLnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICAgWHV0LlZpZXcuR290b1NsaWRlKHh4dGxpbmtbMF0sIHh4dGxpbmtbMV0pO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgfSxcclxuXHJcbiAgICAgcmVzZXRMaXN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgcmV0dXJuIGluaXRpYWxpemUoKTtcclxuICAgICB9LFxyXG5cclxuICAgICBzY3JvbGxUbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHRoaXMudXNlcklzY3JvbGwoKTtcclxuICAgICB9LFxyXG5cclxuICAgICByZWZyZXNoOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdGhpcy5oQm94ICYmIHRoaXMuaEJveC5yZWZyZXNoKCk7XHJcbiAgICAgfSxcclxuXHJcbiAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGlmICh0aGlzLmhCb3gpIHtcclxuICAgICAgICAgICAgICQoJyNTZWN0aW9uVGhlbGlzdCcpLm9mZigndGFwJywgdGhpcy5jbGlja0VsZW1lbnQpO1xyXG4gICAgICAgICAgICAgdGhpcy5oQm94LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgIHRoaXMuaEJveCA9IG51bGw7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgdGhpcy5wYWdlQXJyYXkgPSBudWxsO1xyXG4gICAgIH1cclxuXHJcbiB9XHJcblxyXG4gLy/miafooYzliqjnlLtcclxuIGZ1bmN0aW9uIHRvQW5pbWF0aW9uKG5hdkNvbnRyb2xCYXIsIG5hdmhhbmRsZSwgYWN0aW9uKSB7XHJcbiAgICAgdmFyIGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBuYXZDb250cm9sQmFyLmNzcyhwcmVmaXgoJ3RyYW5zaXRpb24nKSwgJycpO1xyXG4gICAgICAgICBYdXQuVmlldy5IaWRlQnVzeSgpO1xyXG4gICAgICAgICBsb2NrQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgfTtcclxuXHJcbiAgICAgaWYgKGFjdGlvbiA9PSAnaW4nKSB7XHJcbiAgICAgICAgIHNlY3Rpb25JbnN0YW5jZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgIHNlY3Rpb25JbnN0YW5jZS5zY3JvbGxUbygpO1xyXG4gICAgICAgICBuYXZDb250cm9sQmFyLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgJ3otaW5kZXgnOiBYdXQuekluZGV4bGV2ZWwoKSxcclxuICAgICAgICAgICAgICdvcGFjaXR5JzogMVxyXG4gICAgICAgICB9LCAnZmFzdCcsICdsaW5lYXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgIG5hdmhhbmRsZS5hdHRyKCdmbHknLCAnb3V0Jyk7XHJcbiAgICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgICAgbmF2aGFuZGxlLmF0dHIoJ2ZseScsICdpbicpO1xyXG4gICAgICAgICBuYXZDb250cm9sQmFyLmhpZGUoKTtcclxuICAgICAgICAgZW5kKCk7XHJcbiAgICAgfVxyXG4gfVxyXG5cclxuXHJcbiAvL+aOp+WItuaMiemSruaUueWPmFxyXG4gZnVuY3Rpb24gbmF2Q29udHJvbChhY3Rpb24sIG5hdmhhbmRsZSkge1xyXG4gICAgIG5hdmhhbmRsZS5jc3MoJ29wYWNpdHknLCBhY3Rpb24gPT09IFwiaW5cIiA/IDAuNSA6IDEpO1xyXG4gfVxyXG5cclxuXHJcbiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gICAgIC8v5Yqo55S754q25oCBXHJcbiAgICAgaWYgKGxvY2tBbmltYXRpb24pIHtcclxuICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgIH1cclxuXHJcbiAgICAgbG9ja0FuaW1hdGlvbiA9IHRydWU7XHJcbiAgICAgWHV0LlZpZXcuU2hvd0J1c3koKTtcclxuICAgICBzdGFydHBvY2VzcygpO1xyXG4gfTtcclxuXHJcblxyXG4gZnVuY3Rpb24gc3RhcnRwb2Nlc3MoKSB7XHJcbiAgICAgLy/mjqfliLbmjInpkq5cclxuICAgICB2YXIgbmF2aGFuZGxlID0gJChcIiNiYWNrRGlyXCIpLFxyXG4gICAgICAgICBhY3Rpb24gPSBuYXZoYW5kbGUuYXR0cignZmx5JykgfHwgJ2luJyxcclxuICAgICAgICAgbmF2Q29udHJvbEJhciA9ICQoXCIjbmF2QmFyXCIpO1xyXG5cclxuICAgICAvL+WIneWni+WMluagt+W8j1xyXG4gICAgIGluaXRTdHlsZShuYXZDb250cm9sQmFyLCBhY3Rpb24sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAvL+inpuWPkeaOp+WItuadoVxyXG4gICAgICAgICBuYXZDb250cm9sKGFjdGlvbiwgbmF2aGFuZGxlKTtcclxuICAgICAgICAgLy/miafooYzliqjnlLtcclxuICAgICAgICAgdG9BbmltYXRpb24obmF2Q29udHJvbEJhciwgbmF2aGFuZGxlLCBhY3Rpb24pO1xyXG4gICAgIH0pXHJcbiB9O1xyXG5cclxuXHJcbiBmdW5jdGlvbiBpbml0U3R5bGUobmF2Q29udHJvbEJhciwgYWN0aW9uLCBmbikge1xyXG4gICAgIHNlY3Rpb25JbnN0YW5jZS5zdGF0ZSA9IGZhbHNlO1xyXG4gICAgIGlmIChhY3Rpb24gPT0gJ2luJykge1xyXG4gICAgICAgICBzZWN0aW9uSW5zdGFuY2Uuc3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICBuYXZDb250cm9sQmFyLmNzcyh7XHJcbiAgICAgICAgICAgICAnei1pbmRleCc6IDAsXHJcbiAgICAgICAgICAgICAnb3BhY2l0eSc6IDAsXHJcbiAgICAgICAgICAgICAnZGlzcGxheSc6ICdibG9jaydcclxuICAgICAgICAgfSk7XHJcbiAgICAgfVxyXG4gICAgIGZuICYmIGZuKCk7XHJcbiB9XHJcblxyXG4gLyoqXHJcbiAgKiDplIDmr4Hlr7nosaFcclxuICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICovXHJcbiBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgIGlmIChzZWN0aW9uSW5zdGFuY2UpIHtcclxuICAgICAgICAgc2VjdGlvbkluc3RhbmNlLmRlc3Ryb3koKTtcclxuICAgICAgICAgc2VjdGlvbkluc3RhbmNlID0gbnVsbDtcclxuICAgICB9XHJcbiB9O1xyXG5cclxuXHJcbiAvKipcclxuICAqIOmihOWFiOe8k+WtmOWKoOi9vVxyXG4gICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgKi9cclxuIGZ1bmN0aW9uIGxvYWQoKSB7XHJcbiAgICAgbmV3IFNlY3Rpb25MaXN0KCQoXCIjbmF2QmFyXCIpKTtcclxuIH07XHJcbiBcclxuXHJcbiAvL+WFs+mXrVxyXG4gZnVuY3Rpb24gY2xvc2UoY2FsbGJhY2spIHtcclxuICAgICBpZiAoc2VjdGlvbkluc3RhbmNlICYmIHNlY3Rpb25JbnN0YW5jZS5zdGF0ZSkge1xyXG4gICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xyXG4gICAgICAgICBpbml0aWFsaXplKCk7XHJcbiAgICAgfVxyXG4gfVxyXG5cclxuIGZ1bmN0aW9uIGluaXQoaW5kZXgpIHtcclxuICAgICBwYWdlSW5kZXggPSBpbmRleDtcclxuICAgICBpZiAoc2VjdGlvbkluc3RhbmNlKSB7XHJcbiAgICAgICAgIGluaXRpYWxpemUoKTtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBsb2FkKCk7XHJcbiAgICAgfVxyXG4gfVxyXG5cclxuXHJcbiBleHBvcnQge1xyXG4gICAgIGxvYWQsXHJcbiAgICAgaW5pdCxcclxuICAgICBjbG9zZSxcclxuICAgICBkZXN0cm95XHJcbiB9O1xyXG4gIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi90b29sYmFyL25hdmJhci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 11 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseJSON = parseJSON;\nexports.execJson = execJson;\nexports.hash = hash;\n\n/**\r\n * /解析json字符串\r\n * @param  {[type]} itemArray [description]\r\n * @return {[type]}           [description]\r\n */\nfunction parseJSON(itemArray) {\n    var anminJson;\n    try {\n        anminJson = JSON.parse(itemArray);\n    } catch (error) {\n        console.log('parseJSON失败');\n        // anminJson = (new Function(\"return \" + itemArray))();\n    }\n    return anminJson;\n}\n\nfunction execJson(itemArray) {\n    var json;\n    try {\n        json = new Function(\"return \" + itemArray)();\n    } catch (error) {\n        console.log('解析json出错' + itemArray);\n    }\n    return json;\n}\n\n/**\r\n * 创建一个纯存的hash对象\r\n */\nfunction hash() {\n    return Object.create(null);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvZG9tLmpzPzlmZTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFNZ0IsUyxHQUFBLFM7UUFZQSxRLEdBQUEsUTtRQWNBLEksR0FBQSxJOzs7Ozs7O0FBMUJULFNBQVMsU0FBVCxDQUFtQixTQUFuQixFQUE4QjtBQUNqQyxRQUFJLFNBQUo7QUFDQSxRQUFJO0FBQ0Esb0JBQVksS0FBSyxLQUFMLENBQVcsU0FBWCxDQUFaO0FBQ0gsS0FGRCxDQUVFLE9BQU8sS0FBUCxFQUFjO0FBQ1osZ0JBQVEsR0FBUixDQUFZLGFBQVo7O0FBRUg7QUFDRCxXQUFPLFNBQVA7QUFDSDs7QUFHTSxTQUFTLFFBQVQsQ0FBa0IsU0FBbEIsRUFBNkI7QUFDaEMsUUFBSSxJQUFKO0FBQ0EsUUFBSTtBQUNBLGVBQVEsSUFBSSxRQUFKLENBQWEsWUFBWSxTQUF6QixDQUFELEVBQVA7QUFDSCxLQUZELENBRUUsT0FBTyxLQUFQLEVBQWM7QUFDWixnQkFBUSxHQUFSLENBQVksYUFBWSxTQUF4QjtBQUNIO0FBQ0QsV0FBTyxJQUFQO0FBQ0g7Ozs7O0FBTU0sU0FBUyxJQUFULEdBQWdCO0FBQ25CLFdBQU8sT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFQO0FBQ0giLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcbiAqIC/op6PmnpBqc29u5a2X56ym5LiyXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gaXRlbUFycmF5IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSlNPTihpdGVtQXJyYXkpIHtcclxuICAgIHZhciBhbm1pbkpzb247XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFubWluSnNvbiA9IEpTT04ucGFyc2UoaXRlbUFycmF5KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3BhcnNlSlNPTuWksei0pScpXHJcbiAgICAgICAgLy8gYW5taW5Kc29uID0gKG5ldyBGdW5jdGlvbihcInJldHVybiBcIiArIGl0ZW1BcnJheSkpKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5taW5Kc29uO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWNKc29uKGl0ZW1BcnJheSkge1xyXG4gICAgdmFyIGpzb247XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGpzb24gPSAobmV3IEZ1bmN0aW9uKFwicmV0dXJuIFwiICsgaXRlbUFycmF5KSkoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+ino+aekGpzb27lh7rplJknKyBpdGVtQXJyYXkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4ganNvbjtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rkuIDkuKrnuq/lrZjnmoRoYXNo5a+56LGhXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzaCgpIHtcclxuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3V0aWwvZG9tLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 12 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 资源加载\r\n * @return {[type]} [description]\r\n */\nvar loader = function () {\n    return {\n        /**入口函数,动态脚本加载\r\n         * @param fileList:           需要动态加载的资源列表\r\n         * @param callback:           所有资源都加载完后调用的回调函数,通常是页面上需要onload就执行的函数\r\n         * @param scope:              作用范围\r\n         * @param preserveOrder:      是否保持脚本顺序\r\n         */\n        load: function load(fileList, callback, scope, preserveOrder) {\n            //过来数组元素\n            if (fileList.length && preserveOrder) {\n                var temp = [];\n                fileList.forEach(function (val, index) {\n                    if (val) {\n                        temp.push(val);\n                    }\n                });\n                fileList = temp.reverse();\n                temp = null;\n            }\n\n            var scope = scope || this,\n\n            //var scope =this,//默认作用范围是当前页面\n            head = document.getElementsByTagName(\"head\")[0],\n                fragment = document.createDocumentFragment(),\n                numFiles = fileList.length,\n                loadedFiles = 0;\n\n            //加载一个特定的文件从fileList通过索引\n            var loadFileIndex = function loadFileIndex(index) {\n                head.appendChild(scope.buildScriptTag(fileList[index], onFileLoaded));\n            };\n\n            /**\r\n             * 调用回调函数,当所有文件都加载完后调用\r\n             */\n            var onFileLoaded = function onFileLoaded() {\n                loadedFiles++;\n                //如果当前文件是最后一个要加载的文件，则调用回调函数，否则加载下一个文件\n                if (numFiles == loadedFiles && typeof callback == 'function') {\n                    callback.call(scope);\n                } else {\n                    if (preserveOrder === true) {\n                        loadFileIndex(loadedFiles);\n                    }\n                }\n            };\n\n            if (preserveOrder === true) {\n                loadFileIndex.call(this, 0);\n            } else {\n                for (var i = 0, len = fileList.length; i < len; i++) {\n                    fragment.appendChild(this.buildScriptTag(fileList[i], onFileLoaded));\n                }\n                head.appendChild(fragment);\n            }\n        },\n\n        //构造javascript和link 标签\n        buildScriptTag: function buildScriptTag(filename, callback) {\n            var exten = filename.substr(filename.lastIndexOf('.') + 1);\n            if (exten == 'js') {\n                var script = document.createElement('script');\n                script.type = \"text/javascript\";\n                script.src = filename;\n                script.onload = callback;\n                return script;\n            }\n            if (exten == 'css') {\n                var style = document.createElement('link');\n                style.rel = 'stylesheet';\n                style.type = 'text/css';\n                style.href = filename;\n                callback();\n                return style;\n            }\n        }\n    };\n}();\n\nfunction pollCss(node, callback) {\n    var sheet = node.sheet,\n        isLoaded;\n    var isOldWebKit = +navigator.userAgent.replace(/.*AppleWebKit\\/(\\d+)\\..*/, \"$1\") < 536;\n    // for WebKit < 536\n    if (isOldWebKit) {\n        if (sheet) {\n            isLoaded = true;\n        }\n    }\n    // for Firefox < 9.0\n    else if (sheet) {\n            try {\n                if (sheet.cssRules) {\n                    isLoaded = true;\n                }\n            } catch (ex) {\n                // The value of `ex.name` is changed from \"NS_ERROR_DOM_SECURITY_ERR\"\n                // to \"SecurityError\" since Firefox 13.0. But Firefox is less than 9.0\n                // in here, So it is ok to just rely on \"NS_ERROR_DOM_SECURITY_ERR\"\n                if (ex.name === \"NS_ERROR_DOM_SECURITY_ERR\") {\n                    isLoaded = true;\n                }\n            }\n        }\n\n    setTimeout(function () {\n        if (isLoaded) {\n            // Place callback here to give time for style rendering\n            callback();\n        } else {\n            pollCss(node, callback);\n        }\n    }, 20);\n}\n\nfunction addOnload(node, callback, isCSS, url) {\n    var supportOnload = \"onload\" in node;\n    var isOldWebKit = +navigator.userAgent.replace(/.*AppleWebKit\\/(\\d+)\\..*/, \"$1\") < 536;\n    // for Old WebKit and Old Firefox\n    if (isCSS) {\n        setTimeout(function () {\n            pollCss(node, callback);\n        }, 1); // Begin after node insertion\n        return;\n    }\n\n    if (supportOnload) {\n        node.onload = onload;\n        node.onerror = function () {\n            onload();\n        };\n    } else {\n        node.onreadystatechange = function () {\n            if (/loaded|complete/.test(node.readyState)) {\n                onload();\n            }\n        };\n    }\n\n    function onload() {\n        // Ensure only run once and handle memory leak in IE\n        node.onload = node.onerror = node.onreadystatechange = null;\n        // Remove the script to reduce memory leak\n        if (!isCSS) {\n            var head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n            head.removeChild(node);\n        }\n        // Dereference the node\n        node = null;\n        callback();\n    }\n}\n\nfunction request(url, callback, charset) {\n    var IS_CSS_RE = /\\.css(?:\\?|$)/i,\n        isCSS = IS_CSS_RE.test(url),\n        node = document.createElement(isCSS ? \"link\" : \"script\");\n\n    if (charset) {\n        var cs = isFunction(charset) ? charset(url) : charset;\n        if (cs) {\n            node.charset = cs;\n        }\n    }\n    addOnload(node, callback, isCSS, url);\n    if (isCSS) {\n        node.rel = \"stylesheet\";\n        node.href = url;\n    } else {\n        node.async = true;\n        node.src = url;\n    }\n    // For some cache cases in IE 6-8, the script executes IMMEDIATELY after\n    // the end of the insert execution, so use `currentlyAddingScript` to\n    // hold current node, for deriving url in `define` call\n    //currentlyAddingScript = node\n    var head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n    var baseElement = head.getElementsByTagName(\"base\")[0];\n    // ref: #185 & http://dev.jquery.com/ticket/2709\n    baseElement ? head.insertBefore(node, baseElement) : head.appendChild(node);\n    //currentlyAddingScript = null\n}\n\nvar loadfile = request;\n\nexports.loader = loader;\nexports.request = request;\nexports.loadfile = loadfile;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvbG9hZGVyLmpzPzU1ZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSUEsSUFBSSxTQUFTLFlBQVc7QUFDcEIsV0FBTzs7Ozs7OztBQU9ILGNBQU0sY0FBUyxRQUFULEVBQW1CLFFBQW5CLEVBQTZCLEtBQTdCLEVBQW9DLGFBQXBDLEVBQW1EOztBQUVyRCxnQkFBSSxTQUFTLE1BQVQsSUFBbUIsYUFBdkIsRUFBc0M7QUFDbEMsb0JBQUksT0FBTyxFQUFYO0FBQ0EseUJBQVMsT0FBVCxDQUFpQixVQUFTLEdBQVQsRUFBYyxLQUFkLEVBQXFCO0FBQ2xDLHdCQUFJLEdBQUosRUFBUztBQUNMLDZCQUFLLElBQUwsQ0FBVSxHQUFWO0FBQ0g7QUFDSixpQkFKRDtBQUtBLDJCQUFXLEtBQUssT0FBTCxFQUFYO0FBQ0EsdUJBQU8sSUFBUDtBQUNIOztBQUVELGdCQUFJLFFBQVEsU0FBUyxJQUFyQjs7O0FBRUksbUJBQU8sU0FBUyxvQkFBVCxDQUE4QixNQUE5QixFQUFzQyxDQUF0QyxDQUZYO2dCQUdJLFdBQVcsU0FBUyxzQkFBVCxFQUhmO2dCQUlJLFdBQVcsU0FBUyxNQUp4QjtnQkFLSSxjQUFjLENBTGxCOzs7QUFRQSxnQkFBSSxnQkFBZ0IsU0FBaEIsYUFBZ0IsQ0FBUyxLQUFULEVBQWdCO0FBQ2hDLHFCQUFLLFdBQUwsQ0FBaUIsTUFBTSxjQUFOLENBQXFCLFNBQVMsS0FBVCxDQUFyQixFQUFzQyxZQUF0QyxDQUFqQjtBQUNILGFBRkQ7Ozs7O0FBT0EsZ0JBQUksZUFBZSxTQUFmLFlBQWUsR0FBVztBQUMxQjs7QUFFQSxvQkFBSSxZQUFZLFdBQVosSUFBMkIsT0FBTyxRQUFQLElBQW1CLFVBQWxELEVBQThEO0FBQzFELDZCQUFTLElBQVQsQ0FBYyxLQUFkO0FBQ0gsaUJBRkQsTUFFTztBQUNILHdCQUFJLGtCQUFrQixJQUF0QixFQUE0QjtBQUN4QixzQ0FBYyxXQUFkO0FBQ0g7QUFDSjtBQUNK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QixJQUFsQixFQUF3QixXQUF4QixDQURKLEdBRUksS0FBSyxXQUFMLENBQWlCLElBQWpCLENBRko7O0FBSUg7O0FBRUQsSUFBSSxXQUFXLE9BQWY7O1FBR0ksTSxHQUFBLE07UUFDQSxPLEdBQUEsTztRQUNBLFEsR0FBQSxRIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOi1hOa6kOWKoOi9vVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnZhciBsb2FkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLyoq5YWl5Y+j5Ye95pWwLOWKqOaAgeiEmuacrOWKoOi9vVxyXG4gICAgICAgICAqIEBwYXJhbSBmaWxlTGlzdDogICAgICAgICAgIOmcgOimgeWKqOaAgeWKoOi9veeahOi1hOa6kOWIl+ihqFxyXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjazogICAgICAgICAgIOaJgOaciei1hOa6kOmDveWKoOi9veWujOWQjuiwg+eUqOeahOWbnuiwg+WHveaVsCzpgJrluLjmmK/pobXpnaLkuIrpnIDopoFvbmxvYWTlsLHmiafooYznmoTlh73mlbBcclxuICAgICAgICAgKiBAcGFyYW0gc2NvcGU6ICAgICAgICAgICAgICDkvZznlKjojIPlm7RcclxuICAgICAgICAgKiBAcGFyYW0gcHJlc2VydmVPcmRlcjogICAgICDmmK/lkKbkv53mjIHohJrmnKzpobrluo9cclxuICAgICAgICAgKi9cclxuICAgICAgICBsb2FkOiBmdW5jdGlvbihmaWxlTGlzdCwgY2FsbGJhY2ssIHNjb3BlLCBwcmVzZXJ2ZU9yZGVyKSB7XHJcbiAgICAgICAgICAgIC8v6L+H5p2l5pWw57uE5YWD57SgXHJcbiAgICAgICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGggJiYgcHJlc2VydmVPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24odmFsLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGZpbGVMaXN0ID0gdGVtcC5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHNjb3BlID0gc2NvcGUgfHwgdGhpcyxcclxuICAgICAgICAgICAgICAgIC8vdmFyIHNjb3BlID10aGlzLC8v6buY6K6k5L2c55So6IyD5Zu05piv5b2T5YmN6aG16Z2iXHJcbiAgICAgICAgICAgICAgICBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLFxyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcbiAgICAgICAgICAgICAgICBudW1GaWxlcyA9IGZpbGVMaXN0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGxvYWRlZEZpbGVzID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8v5Yqg6L295LiA5Liq54m55a6a55qE5paH5Lu25LuOZmlsZUxpc3TpgJrov4fntKLlvJVcclxuICAgICAgICAgICAgdmFyIGxvYWRGaWxlSW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzY29wZS5idWlsZFNjcmlwdFRhZyhmaWxlTGlzdFtpbmRleF0sIG9uRmlsZUxvYWRlZCkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOiwg+eUqOWbnuiwg+WHveaVsCzlvZPmiYDmnInmlofku7bpg73liqDovb3lrozlkI7osIPnlKhcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBvbkZpbGVMb2FkZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRlZEZpbGVzKys7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOW9k+WJjeaWh+S7tuaYr+acgOWQjuS4gOS4quimgeWKoOi9veeahOaWh+S7tu+8jOWImeiwg+eUqOWbnuiwg+WHveaVsO+8jOWQpuWImeWKoOi9veS4i+S4gOS4quaWh+S7tlxyXG4gICAgICAgICAgICAgICAgaWYgKG51bUZpbGVzID09IGxvYWRlZEZpbGVzICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZU9yZGVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRGaWxlSW5kZXgobG9hZGVkRmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcmVzZXJ2ZU9yZGVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkRmlsZUluZGV4LmNhbGwodGhpcywgMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZmlsZUxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkU2NyaXB0VGFnKGZpbGVMaXN0W2ldLCBvbkZpbGVMb2FkZWQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/mnoTpgKBqYXZhc2NyaXB05ZKMbGluayDmoIfnrb5cclxuICAgICAgICBidWlsZFNjcmlwdFRhZzogZnVuY3Rpb24oZmlsZW5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBleHRlbiA9IGZpbGVuYW1lLnN1YnN0cihmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpICsgMSk7XHJcbiAgICAgICAgICAgIGlmIChleHRlbiA9PSAnanMnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQub25sb2FkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChleHRlbiA9PSAnY3NzJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUucmVsID0gJ3N0eWxlc2hlZXQnO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5ocmVmID0gZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSgpO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBwb2xsQ3NzKG5vZGUsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgc2hlZXQgPSBub2RlLnNoZWV0LFxyXG4gICAgICAgIGlzTG9hZGVkO1xyXG4gICAgdmFyIGlzT2xkV2ViS2l0ID0gK25hdmlnYXRvci51c2VyQWdlbnRcclxuICAgICAgICAucmVwbGFjZSgvLipBcHBsZVdlYktpdFxcLyhcXGQrKVxcLi4qLywgXCIkMVwiKSA8IDUzNlxyXG4gICAgICAgIC8vIGZvciBXZWJLaXQgPCA1MzZcclxuICAgIGlmIChpc09sZFdlYktpdCkge1xyXG4gICAgICAgIGlmIChzaGVldCkge1xyXG4gICAgICAgICAgICBpc0xvYWRlZCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBmb3IgRmlyZWZveCA8IDkuMFxyXG4gICAgZWxzZSBpZiAoc2hlZXQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoc2hlZXQuY3NzUnVsZXMpIHtcclxuICAgICAgICAgICAgICAgIGlzTG9hZGVkID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgLy8gVGhlIHZhbHVlIG9mIGBleC5uYW1lYCBpcyBjaGFuZ2VkIGZyb20gXCJOU19FUlJPUl9ET01fU0VDVVJJVFlfRVJSXCJcclxuICAgICAgICAgICAgLy8gdG8gXCJTZWN1cml0eUVycm9yXCIgc2luY2UgRmlyZWZveCAxMy4wLiBCdXQgRmlyZWZveCBpcyBsZXNzIHRoYW4gOS4wXHJcbiAgICAgICAgICAgIC8vIGluIGhlcmUsIFNvIGl0IGlzIG9rIHRvIGp1c3QgcmVseSBvbiBcIk5TX0VSUk9SX0RPTV9TRUNVUklUWV9FUlJcIlxyXG4gICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gXCJOU19FUlJPUl9ET01fU0VDVVJJVFlfRVJSXCIpIHtcclxuICAgICAgICAgICAgICAgIGlzTG9hZGVkID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYWNlIGNhbGxiYWNrIGhlcmUgdG8gZ2l2ZSB0aW1lIGZvciBzdHlsZSByZW5kZXJpbmdcclxuICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvbGxDc3Mobm9kZSwgY2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgfSwgMjApXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGRPbmxvYWQobm9kZSwgY2FsbGJhY2ssIGlzQ1NTLCB1cmwpIHtcclxuICAgIHZhciBzdXBwb3J0T25sb2FkID0gXCJvbmxvYWRcIiBpbiBub2RlO1xyXG4gICAgdmFyIGlzT2xkV2ViS2l0ID0gK25hdmlnYXRvci51c2VyQWdlbnRcclxuICAgICAgICAucmVwbGFjZSgvLipBcHBsZVdlYktpdFxcLyhcXGQrKVxcLi4qLywgXCIkMVwiKSA8IDUzNlxyXG4gICAgICAgIC8vIGZvciBPbGQgV2ViS2l0IGFuZCBPbGQgRmlyZWZveFxyXG4gICAgaWYgKGlzQ1NTKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHBvbGxDc3Mobm9kZSwgY2FsbGJhY2spXHJcbiAgICAgICAgICAgIH0sIDEpIC8vIEJlZ2luIGFmdGVyIG5vZGUgaW5zZXJ0aW9uXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN1cHBvcnRPbmxvYWQpIHtcclxuICAgICAgICBub2RlLm9ubG9hZCA9IG9ubG9hZFxyXG4gICAgICAgIG5vZGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBvbmxvYWQoKVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKC9sb2FkZWR8Y29tcGxldGUvLnRlc3Qobm9kZS5yZWFkeVN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgb25sb2FkKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbmxvYWQoKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIG9ubHkgcnVuIG9uY2UgYW5kIGhhbmRsZSBtZW1vcnkgbGVhayBpbiBJRVxyXG4gICAgICAgIG5vZGUub25sb2FkID0gbm9kZS5vbmVycm9yID0gbm9kZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc2NyaXB0IHRvIHJlZHVjZSBtZW1vcnkgbGVha1xyXG4gICAgICAgIGlmICghaXNDU1MpIHtcclxuICAgICAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBoZWFkLnJlbW92ZUNoaWxkKG5vZGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERlcmVmZXJlbmNlIHRoZSBub2RlXHJcbiAgICAgICAgbm9kZSA9IG51bGxcclxuICAgICAgICBjYWxsYmFjaygpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlcXVlc3QodXJsLCBjYWxsYmFjaywgY2hhcnNldCkge1xyXG4gICAgdmFyIElTX0NTU19SRSA9IC9cXC5jc3MoPzpcXD98JCkvaSxcclxuICAgICAgICBpc0NTUyA9IElTX0NTU19SRS50ZXN0KHVybCksXHJcbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXNDU1MgPyBcImxpbmtcIiA6IFwic2NyaXB0XCIpO1xyXG5cclxuICAgIGlmIChjaGFyc2V0KSB7XHJcbiAgICAgICAgdmFyIGNzID0gaXNGdW5jdGlvbihjaGFyc2V0KSA/IGNoYXJzZXQodXJsKSA6IGNoYXJzZXRcclxuICAgICAgICBpZiAoY3MpIHtcclxuICAgICAgICAgICAgbm9kZS5jaGFyc2V0ID0gY3NcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRPbmxvYWQobm9kZSwgY2FsbGJhY2ssIGlzQ1NTLCB1cmwpXHJcbiAgICBpZiAoaXNDU1MpIHtcclxuICAgICAgICBub2RlLnJlbCA9IFwic3R5bGVzaGVldFwiXHJcbiAgICAgICAgbm9kZS5ocmVmID0gdXJsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5vZGUuYXN5bmMgPSB0cnVlXHJcbiAgICAgICAgbm9kZS5zcmMgPSB1cmxcclxuICAgIH1cclxuICAgIC8vIEZvciBzb21lIGNhY2hlIGNhc2VzIGluIElFIDYtOCwgdGhlIHNjcmlwdCBleGVjdXRlcyBJTU1FRElBVEVMWSBhZnRlclxyXG4gICAgLy8gdGhlIGVuZCBvZiB0aGUgaW5zZXJ0IGV4ZWN1dGlvbiwgc28gdXNlIGBjdXJyZW50bHlBZGRpbmdTY3JpcHRgIHRvXHJcbiAgICAvLyBob2xkIGN1cnJlbnQgbm9kZSwgZm9yIGRlcml2aW5nIHVybCBpbiBgZGVmaW5lYCBjYWxsXHJcbiAgICAvL2N1cnJlbnRseUFkZGluZ1NjcmlwdCA9IG5vZGVcclxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIHZhciBiYXNlRWxlbWVudCA9IGhlYWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJiYXNlXCIpWzBdO1xyXG4gICAgLy8gcmVmOiAjMTg1ICYgaHR0cDovL2Rldi5qcXVlcnkuY29tL3RpY2tldC8yNzA5XHJcbiAgICBiYXNlRWxlbWVudCA/XHJcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUobm9kZSwgYmFzZUVsZW1lbnQpIDpcclxuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKG5vZGUpXHJcbiAgICAgICAgLy9jdXJyZW50bHlBZGRpbmdTY3JpcHQgPSBudWxsXHJcbn1cclxuXHJcbmxldCBsb2FkZmlsZSA9IHJlcXVlc3RcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBsb2FkZXIsXHJcbiAgICByZXF1ZXN0LFxyXG4gICAgbG9hZGZpbGVcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvdXRpbC9sb2FkZXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 13 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n     value: true\n});\nexports.Iscroll = Iscroll;\n// *  iscroll 控制\n// *    传入dom ID\n// *     [onIscroll description]\n// * @param  {[type]} contentWrapperDomId [description]\n// * @return {[type]}                     [description]\n\nfunction Iscroll(element) {\n     //是否移动，中途停止了动画\n     var distX = 0,\n         distY = 0,\n         startX,\n         startY,\n         absDistY,\n         absDistX,\n         iscroll,\n         that = this,\n         screenWidth = Xut.config.screenSize.width,\n         useswipeleft = function useswipeleft() {\n          Xut.View.GotoPrevSlide();\n     },\n         useswiperight = function useswiperight() {\n          Xut.View.GotoNextSlide();\n     };\n\n     return new iScroll(element, {\n          scrollbars: true,\n          fadeScrollbars: true\n          //click          : true,\n          //tap            : true,\n          //probeType      : 2\n     });\n\n     // this.iscroll.on('scrollStart', function() {\n     //     iscroll.initDirection = false; //初始化一次滑动方向\n     // });\n     // this.iscroll.on('scrollEnd', function(e) {\n     //     //如果是Y轴滑动者不作处理跳过\n     //     if (iscroll.initDirection) {\n     //          startY= startX=distX = distY = 0;\n     //         iscroll.startTime = 0;\n     //         iscroll.initDirection = false;\n     //         return;\n     //     }\n\n     //     var duration, deltaX, validSlide, distance;\n     //     //滑动的距离、\n\n     //     deltaX = distX || 0;\n     //     duration = +new Date - iscroll.startTime;\n     //     distance = Math.abs(deltaX);\n     //     //反弹的边界值\n     //     validSlide = Math.ceil(screenWidth / 5);\n     //     if (distance < validSlide) {\n     //         //快速滑动允许翻页\n     //         if (duration < 200 && distance > 20) {\n     //             iscroll.swipe = true;\n     //             deltaX > 0 ? useswipeleft() : useswiperight();\n     //         } else {\n     //             //反弹\n     //             Xut.View.MovePage(0, 300, deltaX > 0 ? 'prev' : 'next', 'flipRebound')\n     //         }\n     //     } else {\n     //         iscroll.swipe = true;\n     //         deltaX > 0 ? useswipeleft() : useswiperight();\n     //     }\n     //    startY= startX=distX = distY = 0;\n     //     iscroll.startTime = 0;\n     //     iscroll.initDirection = false;\n     // });\n     // this.iscroll.on('scroll', function(e) {\n     //     startX=startX||e.pageX;\n     //     startY=startY||e.pageY;\n\n     //     distX =e.pageX-startX;\n     //     distY = e.pageY-startY;\n\n     //     absDistX = Math.abs(distX);\n     //     absDistY = Math.abs(distY);\n\n     //     iscroll.startTime = iscroll.startTime || e.timeStamp;\n     //     if (absDistY * 1.5 > absDistX) {\n     //           //如果是Y轴滑动则做标记不作处理\n     //         iscroll.initDirection = true;\n     //     } else {\n     //         Xut.View.MovePage(distX, 0, distX > 0 ? 'prev' : 'next', 'flipMove');\n     //         iscroll.initDirection = false\n     //     }\n     // });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2lzY3JvbGwuanM/YjZhMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQU1pQixPLEdBQUEsTzs7Ozs7OztBQUFULFNBQVMsT0FBVCxDQUFpQixPQUFqQixFQUEwQjs7QUFFN0IsU0FBSSxRQUFRLENBQVo7U0FDSSxRQUFRLENBRFo7U0FFSSxNQUZKO1NBR0ksTUFISjtTQUlJLFFBSko7U0FLSSxRQUxKO1NBTUksT0FOSjtTQU9JLE9BQU8sSUFQWDtTQVFJLGNBQWMsSUFBSSxNQUFKLENBQVcsVUFBWCxDQUFzQixLQVJ4QztTQVNJLGVBQWUsU0FBZixZQUFlLEdBQVc7QUFDdEIsY0FBSSxJQUFKLENBQVMsYUFBVDtBQUNILE1BWEw7U0FZSSxnQkFBZ0IsU0FBaEIsYUFBZ0IsR0FBVztBQUN2QixjQUFJLElBQUosQ0FBUyxhQUFUO0FBQ0gsTUFkTDs7QUFnQkEsWUFBTyxJQUFJLE9BQUosQ0FBWSxPQUFaLEVBQXFCO0FBQ3hCLHNCQUFZLElBRFk7QUFFeEIsMEJBQWdCOzs7O0FBRlEsTUFBckIsQ0FBUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1FSCIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAvLyAqICBpc2Nyb2xsIOaOp+WItlxyXG4gLy8gKiAgICDkvKDlhaVkb20gSURcclxuIC8vICogICAgIFtvbklzY3JvbGwgZGVzY3JpcHRpb25dXHJcbiAvLyAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudFdyYXBwZXJEb21JZCBbZGVzY3JpcHRpb25dXHJcbiAvLyAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcblxyXG4gZXhwb3J0IGZ1bmN0aW9uIElzY3JvbGwoZWxlbWVudCkge1xyXG4gICAgIC8v5piv5ZCm56e75Yqo77yM5Lit6YCU5YGc5q2i5LqG5Yqo55S7XHJcbiAgICAgdmFyIGRpc3RYID0gMCxcclxuICAgICAgICAgZGlzdFkgPSAwLFxyXG4gICAgICAgICBzdGFydFgsXHJcbiAgICAgICAgIHN0YXJ0WSxcclxuICAgICAgICAgYWJzRGlzdFksXHJcbiAgICAgICAgIGFic0Rpc3RYLFxyXG4gICAgICAgICBpc2Nyb2xsLFxyXG4gICAgICAgICB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgc2NyZWVuV2lkdGggPSBYdXQuY29uZmlnLnNjcmVlblNpemUud2lkdGgsXHJcbiAgICAgICAgIHVzZXN3aXBlbGVmdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgWHV0LlZpZXcuR290b1ByZXZTbGlkZSgpXHJcbiAgICAgICAgIH0sXHJcbiAgICAgICAgIHVzZXN3aXBlcmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgIFh1dC5WaWV3LkdvdG9OZXh0U2xpZGUoKVxyXG4gICAgICAgICB9O1xyXG5cclxuICAgICByZXR1cm4gbmV3IGlTY3JvbGwoZWxlbWVudCwge1xyXG4gICAgICAgICBzY3JvbGxiYXJzOiB0cnVlLFxyXG4gICAgICAgICBmYWRlU2Nyb2xsYmFyczogdHJ1ZVxyXG4gICAgICAgICAgICAgLy9jbGljayAgICAgICAgICA6IHRydWUsXHJcbiAgICAgICAgICAgICAvL3RhcCAgICAgICAgICAgIDogdHJ1ZSxcclxuICAgICAgICAgICAgIC8vcHJvYmVUeXBlICAgICAgOiAyXHJcbiAgICAgfSk7XHJcblxyXG5cclxuICAgICAvLyB0aGlzLmlzY3JvbGwub24oJ3Njcm9sbFN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgLy8gICAgIGlzY3JvbGwuaW5pdERpcmVjdGlvbiA9IGZhbHNlOyAvL+WIneWni+WMluS4gOasoea7keWKqOaWueWQkVxyXG4gICAgIC8vIH0pO1xyXG4gICAgIC8vIHRoaXMuaXNjcm9sbC5vbignc2Nyb2xsRW5kJywgZnVuY3Rpb24oZSkge1xyXG4gICAgIC8vICAgICAvL+WmguaenOaYr1novbTmu5HliqjogIXkuI3kvZzlpITnkIbot7Pov4dcclxuICAgICAvLyAgICAgaWYgKGlzY3JvbGwuaW5pdERpcmVjdGlvbikge1xyXG4gICAgIC8vICAgICAgICAgIHN0YXJ0WT0gc3RhcnRYPWRpc3RYID0gZGlzdFkgPSAwO1xyXG4gICAgIC8vICAgICAgICAgaXNjcm9sbC5zdGFydFRpbWUgPSAwO1xyXG4gICAgIC8vICAgICAgICAgaXNjcm9sbC5pbml0RGlyZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgLy8gICAgIHZhciBkdXJhdGlvbiwgZGVsdGFYLCB2YWxpZFNsaWRlLCBkaXN0YW5jZTtcclxuICAgICAvLyAgICAgLy/mu5HliqjnmoTot53nprvjgIFcclxuXHJcbiAgICAgLy8gICAgIGRlbHRhWCA9IGRpc3RYIHx8IDA7XHJcbiAgICAgLy8gICAgIGR1cmF0aW9uID0gK25ldyBEYXRlIC0gaXNjcm9sbC5zdGFydFRpbWU7XHJcbiAgICAgLy8gICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoZGVsdGFYKTtcclxuICAgICAvLyAgICAgLy/lj43lvLnnmoTovrnnlYzlgLxcclxuICAgICAvLyAgICAgdmFsaWRTbGlkZSA9IE1hdGguY2VpbChzY3JlZW5XaWR0aCAvIDUpO1xyXG4gICAgIC8vICAgICBpZiAoZGlzdGFuY2UgPCB2YWxpZFNsaWRlKSB7XHJcbiAgICAgLy8gICAgICAgICAvL+W/q+mAn+a7keWKqOWFgeiuuOe/u+mhtVxyXG4gICAgIC8vICAgICAgICAgaWYgKGR1cmF0aW9uIDwgMjAwICYmIGRpc3RhbmNlID4gMjApIHtcclxuICAgICAvLyAgICAgICAgICAgICBpc2Nyb2xsLnN3aXBlID0gdHJ1ZTtcclxuICAgICAvLyAgICAgICAgICAgICBkZWx0YVggPiAwID8gdXNlc3dpcGVsZWZ0KCkgOiB1c2Vzd2lwZXJpZ2h0KCk7XHJcbiAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgIC8vICAgICAgICAgICAgIC8v5Y+N5by5XHJcbiAgICAgLy8gICAgICAgICAgICAgWHV0LlZpZXcuTW92ZVBhZ2UoMCwgMzAwLCBkZWx0YVggPiAwID8gJ3ByZXYnIDogJ25leHQnLCAnZmxpcFJlYm91bmQnKVxyXG4gICAgIC8vICAgICAgICAgfVxyXG4gICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgIC8vICAgICAgICAgaXNjcm9sbC5zd2lwZSA9IHRydWU7XHJcbiAgICAgLy8gICAgICAgICBkZWx0YVggPiAwID8gdXNlc3dpcGVsZWZ0KCkgOiB1c2Vzd2lwZXJpZ2h0KCk7XHJcbiAgICAgLy8gICAgIH1cclxuICAgICAvLyAgICBzdGFydFk9IHN0YXJ0WD1kaXN0WCA9IGRpc3RZID0gMDtcclxuICAgICAvLyAgICAgaXNjcm9sbC5zdGFydFRpbWUgPSAwO1xyXG4gICAgIC8vICAgICBpc2Nyb2xsLmluaXREaXJlY3Rpb24gPSBmYWxzZTtcclxuICAgICAvLyB9KTtcclxuICAgICAvLyB0aGlzLmlzY3JvbGwub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAvLyAgICAgc3RhcnRYPXN0YXJ0WHx8ZS5wYWdlWDtcclxuICAgICAvLyAgICAgc3RhcnRZPXN0YXJ0WXx8ZS5wYWdlWTtcclxuXHJcbiAgICAgLy8gICAgIGRpc3RYID1lLnBhZ2VYLXN0YXJ0WDtcclxuICAgICAvLyAgICAgZGlzdFkgPSBlLnBhZ2VZLXN0YXJ0WTtcclxuXHJcbiAgICAgLy8gICAgIGFic0Rpc3RYID0gTWF0aC5hYnMoZGlzdFgpO1xyXG4gICAgIC8vICAgICBhYnNEaXN0WSA9IE1hdGguYWJzKGRpc3RZKTtcclxuXHJcblxyXG4gICAgIC8vICAgICBpc2Nyb2xsLnN0YXJ0VGltZSA9IGlzY3JvbGwuc3RhcnRUaW1lIHx8IGUudGltZVN0YW1wO1xyXG4gICAgIC8vICAgICBpZiAoYWJzRGlzdFkgKiAxLjUgPiBhYnNEaXN0WCkge1xyXG4gICAgIC8vICAgICAgICAgICAvL+WmguaenOaYr1novbTmu5HliqjliJnlgZrmoIforrDkuI3kvZzlpITnkIZcclxuICAgICAvLyAgICAgICAgIGlzY3JvbGwuaW5pdERpcmVjdGlvbiA9IHRydWU7XHJcbiAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgLy8gICAgICAgICBYdXQuVmlldy5Nb3ZlUGFnZShkaXN0WCwgMCwgZGlzdFggPiAwID8gJ3ByZXYnIDogJ25leHQnLCAnZmxpcE1vdmUnKTtcclxuICAgICAvLyAgICAgICAgIGlzY3JvbGwuaW5pdERpcmVjdGlvbiA9IGZhbHNlXHJcbiAgICAgLy8gICAgIH1cclxuICAgICAvLyB9KTtcclxuXHJcbiB9XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvY29udGVudC9pc2Nyb2xsLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 14 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.errorTable = errorTable;\nexports.createStore = createStore;\n\nvar _store = __webpack_require__(59);\n\n//数据缓存\nvar dataCache = void 0;\n//带有场景信息存数\nvar sectionRelated = void 0;\n//音频的ActivityId信息;\nvar videoActivityIdCache = void 0;\n\n//混入数据到data中\nfunction mixToData(collections) {\n    Xut.data = dataCache = collections;\n}\n\n//计算数据偏移量\nfunction dataOffset(tableName) {\n    var start,\n        data = dataCache[tableName];\n    if (data.length) {\n        if (data.item(0)) {\n            if (start = data.item(0)._id) {\n                dataCache[tableName].start = start;\n            }\n        }\n    }\n}\n\n//转化video的activtiy信息\n//因为Video不是靠id关联的 是靠activtiy关联\nfunction videoActivity() {\n    var d,\n        activityIds = {},\n        data = dataCache.Video;\n    _.each(data, function (_, index) {\n        d = data.item(index);\n        if (d && d.activityId) {\n            //确保activityIdID是有值，这样才是靠activity关联的video,而不是动画的video\n            activityIds[d.activityId] = d._id;\n        }\n    });\n    return activityIds;\n}\n\n//chpater分段\n//转化section信息\n//带有场景处理\nfunction conversionSectionRelated() {\n    var seasonId,\n        start,\n        length,\n        sid,\n        i,\n        id,\n        seasonInfo,\n        toolbar,\n        Chapters,\n        container = {},\n        Chapter = dataCache.Chapter,\n        l = Chapter.length,\n        end = 0;\n\n    //找到指定的season信息\n    var findSeasonInfo = function findSeasonInfo(seasonId) {\n        var temp,\n            seasonNum = dataCache.Season.length;\n        while (seasonNum--) {\n            if (temp = dataCache.Season.item(seasonNum)) {\n                if (temp._id == seasonId) {\n                    return temp;\n                }\n            }\n        }\n    };\n\n    for (i = 0; i < l; i++) {\n        Chapters = Chapter.item(i);\n        if (Chapters) {\n            id = Chapters._id - 1; //保存兼容性,用0开头\n            seasonId = Chapters.seasonId;\n            sid = 'seasonId->' + seasonId;\n            //如果不在集合,先创建\n            if (!container[sid]) {\n                //场景工具栏配置信息\n                if (seasonInfo = findSeasonInfo(seasonId)) {\n                    toolbar = seasonInfo.parameter;\n                }\n                container[sid] = {\n                    start: id,\n                    length: 1,\n                    end: id,\n                    toolbar: toolbar\n                };\n            } else {\n                container[sid].end = id;\n                container[sid].length = container[sid].length + 1;\n            }\n        }\n    }\n\n    return container;\n}\n\n//转化数据结构\nfunction conversion() {\n\n    //数据段标记\n    for (var k in dataCache) {\n        if (dataCache[k].item) {\n            dataOffset(k);\n        }\n    }\n\n    //============数据特殊处理================\n\n    //vidoe特殊处理，需要记录chapterId范围\n    if (dataCache.Video) {\n        videoActivityIdCache = videoActivity();\n    }\n\n    /**\r\n     * 带有场景处理\r\n     * @type {[type]}\r\n     */\n    sectionRelated = conversionSectionRelated();\n\n    /**\r\n     * 标记应用ID\r\n     * @type {[type]}\r\n     */\n    dataCache.novelId = _store.Store.novelId;\n\n    /**\r\n     * 针对数据库content为空的处理\r\n     * @return {[type]} [description]\r\n     */\n    dataCache.preventContent = function () {\n        return dataCache.Content.length ? false : true;\n    }();\n\n    //===============================================\n    // \n    //  查询数据接口\n    //\n    //  1 video表传递是activityId关联\n    //  2 其余表都是传递当前表的id\n    //  type 查询ID的类型, 数据的id或者activityId\n    //  callback 提供给chapterId使用\n    //================================================\n\n    /**\r\n     * 通过ID查询方式\r\n     * @param  {[type]}  tableName [description]\r\n     */\n    dataCache.query = function (tableName, id, type, callback) {\n        /**\r\n         * 特殊的字段关联\r\n         * 1 activityId\r\n         * 2 chpaterId\r\n         */\n        switch (type) {\n            /**\r\n             * 通过activityId查询的方式\r\n             *\r\n             * 表名,ID,类型\r\n             * Xut.data.query('Action', id, 'activityId');\r\n             *   \r\n             * @type {[type]}\r\n             */\n            case 'activityId':\n                var item;\n                var activityId = id;\n                var data = dataCache[tableName];\n                for (var i = 0, len = data.length; i < len; i++) {\n                    item = data.item(i);\n                    if (item) {\n                        if (item[type] == activityId) {\n                            return item;\n                        }\n                    }\n                }\n                return;\n\n            /**\r\n             * 通过chpaterId查询方式\r\n             * parser中的scanActivity过滤处理\r\n             */\n            case 'chapterId':\n            case 'seasonId':\n                var chapterId = id;\n                var data = dataCache[tableName];\n                if (data) {\n                    var item;\n                    for (var i = 0, len = data.length; i < len; i++) {\n                        item = data.item(i);\n                        if (item) {\n                            if (item[type] == chapterId) {\n                                callback && callback(item);\n                            }\n                        }\n                    }\n                }\n                return;\n        }\n\n        /**\r\n         * 通过id查询的方式\r\n         */\n        switch (tableName) {\n            //////////////////////////\n            //获取整个一个用的chapter数据 //\n            //////////////////////////\n            case 'appPage':\n                return dataCache.Chapter;\n\n            //////////////////////////\n            //获取整个一个用的Section数据 //\n            //////////////////////////\n            case 'appSection':\n                return dataCache.Season;\n\n            //////////////////////\n            //如果是是section信息 //\n            //////////////////////\n            case 'sectionRelated':\n                return sectionRelated['seasonId->' + id];\n\n            //////////////\n            //如果是音频 //\n            //////////////\n            case 'Video':\n                if (type) {\n                    return Query();\n                } else {\n                    //传递的id是activityId\n                    var id = videoActivityIdCache[id];\n                    return dataCache.query('Video', id, true);\n                }\n\n            default:\n                /////////////////\n                //默认其余所有表 //\n                /////////////////\n                return Query();\n        }\n\n        //数据信息\n        function Query() {\n            var data = dataCache[tableName];\n            if (id) {\n                var index = id - data.start;\n                return data.item(index);\n            } else {\n                return data.length ? data.item(0) : null;\n            }\n        }\n    };\n\n    /**\r\n     * 针对动态表查询\r\n     * 每次需要重新取数据\r\n     * Xut.data.oneQuery('Image',function(){});\r\n     * @return {[type]} [description]\r\n     */\n    dataCache.oneQuery = function (tableName, callback) {\n        _store.Store.oneQuery(tableName, function (data) {\n            callback && callback(data);\n        });\n    };\n\n    /**\r\n     * 删除数据\r\n     * 表名,表ID\r\n     * @return {[type]} [description]\r\n     */\n    dataCache.remove = function (tableName, id, success, failure) {\n        var dfd = _store.Store.remove(tableName, id);\n        dfd.done(success, failure);\n    };\n}\n\n/**\r\n * 返回错误的表\r\n * @return {[type]} [description]\r\n */\nfunction errorTable() {\n    return _store.Store.collectError;\n}\n\n/**\r\n *     初始化数据类\r\n    获取ppt总数\r\n * @return {[type]} [description]\r\n */\nfunction createStore() {\n    return $.Deferred(function (dfd) {\n        _store.Store.query().done(function (data) {\n            var novel = data.Novel;\n            //novel的id\n            var novelId = _store.Store.novelId = novel.item(0)['_id'];\n            //数据转换\n            mixToData(data);\n            //转化数据结构\n            conversion();\n            //数据缓存已存在\n            // storeMgr.dataCache = true\n            dfd.resolve(data.Setting, novel.item(0));\n        });\n    }).promise();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2RhdGEvaW5kZXguanM/NTNlZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQWlTZ0IsVSxHQUFBLFU7UUFTQSxXLEdBQUEsVzs7QUExU2hCOzs7QUFNQSxJQUFJLGtCQUFKOztBQUVBLElBQUksdUJBQUo7O0FBRUEsSUFBSSw2QkFBSjs7O0FBSUEsU0FBUyxTQUFULENBQW1CLFdBQW5CLEVBQWdDO0FBQzVCLFFBQUksSUFBSixHQUFXLFlBQVksV0FBdkI7QUFDSDs7O0FBSUQsU0FBUyxVQUFULENBQW9CLFNBQXBCLEVBQStCO0FBQzNCLFFBQUksS0FBSjtRQUNJLE9BQU8sVUFBVSxTQUFWLENBRFg7QUFFQSxRQUFJLEtBQUssTUFBVCxFQUFpQjtBQUNiLFlBQUksS0FBSyxJQUFMLENBQVUsQ0FBVixDQUFKLEVBQWtCO0FBQ2QsZ0JBQUksUUFBUSxLQUFLLElBQUwsQ0FBVSxDQUFWLEVBQWEsR0FBekIsRUFBOEI7QUFDMUIsMEJBQVUsU0FBVixFQUFxQixLQUFyQixHQUE2QixLQUE3QjtBQUNIO0FBQ0o7QUFDSjtBQUNKOzs7O0FBS0QsU0FBUyxhQUFULEdBQXlCO0FBQ3JCLFFBQUksQ0FBSjtRQUFPLGNBQWMsRUFBckI7UUFDSSxPQUFPLFVBQVUsS0FEckI7QUFFQSxNQUFFLElBQUYsQ0FBTyxJQUFQLEVBQWEsVUFBUyxDQUFULEVBQVksS0FBWixFQUFtQjtBQUM1QixZQUFJLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBSjtBQUNBLFlBQUksS0FBSyxFQUFFLFVBQVgsRUFBdUI7O0FBQ25CLHdCQUFZLEVBQUUsVUFBZCxJQUE0QixFQUFFLEdBQTlCO0FBQ0g7QUFDSixLQUxEO0FBTUEsV0FBTyxXQUFQO0FBQ0g7Ozs7O0FBTUQsU0FBUyx3QkFBVCxHQUFvQztBQUNoQyxRQUFJLFFBQUo7UUFBYyxLQUFkO1FBQXFCLE1BQXJCO1FBQTZCLEdBQTdCO1FBQWtDLENBQWxDO1FBQXFDLEVBQXJDO1FBQXlDLFVBQXpD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QUFNLFFBQU4sQ0FBZSxTQUFmLEVBQTBCLFVBQVMsSUFBVCxFQUFlO0FBQ3JDLHdCQUFZLFNBQVMsSUFBVCxDQUFaO0FBQ0gsU0FGRDtBQUdILEtBSkQ7Ozs7Ozs7QUFXQSxjQUFVLE1BQVYsR0FBbUIsVUFBUyxTQUFULEVBQW9CLEVBQXBCLEVBQXdCLE9BQXhCLEVBQWlDLE9BQWpDLEVBQTBDO0FBQ3pELFlBQUksTUFBTSxhQUFNLE1BQU4sQ0FBYSxTQUFiLEVBQXdCLEVBQXhCLENBQVY7QUFDQSxZQUFJLElBQUosQ0FBUyxPQUFULEVBQWtCLE9BQWxCO0FBQ0gsS0FIRDtBQUlIOzs7Ozs7QUFPTSxTQUFTLFVBQVQsR0FBc0I7QUFDekIsV0FBTyxhQUFNLFlBQWI7QUFDSDs7Ozs7OztBQU9NLFNBQVMsV0FBVCxHQUF1QjtBQUMxQixXQUFPLEVBQUUsUUFBRixDQUFXLFVBQVMsR0FBVCxFQUFjO0FBQzVCLHFCQUFNLEtBQU4sR0FBYyxJQUFkLENBQW1CLFVBQVMsSUFBVCxFQUFlO0FBQzlCLGdCQUFJLFFBQVEsS0FBSyxLQUFqQjs7QUFFQSxnQkFBSSxVQUFVLGFBQU0sT0FBTixHQUFnQixNQUFNLElBQU4sQ0FBVyxDQUFYLEVBQWMsS0FBZCxDQUE5Qjs7QUFFQSxzQkFBVSxJQUFWOztBQUVBOzs7QUFHQSxnQkFBSSxPQUFKLENBQVksS0FBSyxPQUFqQixFQUEwQixNQUFNLElBQU4sQ0FBVyxDQUFYLENBQTFCO0FBQ0gsU0FYRDtBQVlILEtBYk0sRUFhSixPQWJJLEVBQVA7QUFjSCIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBTdG9yZSBhcyBzdG9yZVxyXG59XHJcbmZyb20gJy4vc3RvcmUnXHJcblxyXG4vL+aVsOaNrue8k+WtmFxyXG5sZXQgZGF0YUNhY2hlXHJcbiAgICAvL+W4puacieWcuuaZr+S/oeaBr+WtmOaVsFxyXG5sZXQgc2VjdGlvblJlbGF0ZWRcclxuICAgIC8v6Z+z6aKR55qEQWN0aXZpdHlJZOS/oeaBrztcclxubGV0IHZpZGVvQWN0aXZpdHlJZENhY2hlXHJcblxyXG5cclxuLy/mt7flhaXmlbDmja7liLBkYXRh5LitXHJcbmZ1bmN0aW9uIG1peFRvRGF0YShjb2xsZWN0aW9ucykge1xyXG4gICAgWHV0LmRhdGEgPSBkYXRhQ2FjaGUgPSBjb2xsZWN0aW9ucztcclxufVxyXG5cclxuXHJcbi8v6K6h566X5pWw5o2u5YGP56e76YePXHJcbmZ1bmN0aW9uIGRhdGFPZmZzZXQodGFibGVOYW1lKSB7XHJcbiAgICB2YXIgc3RhcnQsXHJcbiAgICAgICAgZGF0YSA9IGRhdGFDYWNoZVt0YWJsZU5hbWVdO1xyXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuaXRlbSgwKSkge1xyXG4gICAgICAgICAgICBpZiAoc3RhcnQgPSBkYXRhLml0ZW0oMCkuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQ2FjaGVbdGFibGVOYW1lXS5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy/ovazljJZ2aWRlb+eahGFjdGl2dGl55L+h5oGvXHJcbi8v5Zug5Li6VmlkZW/kuI3mmK/pnaBpZOWFs+iBlOeahCDmmK/pnaBhY3RpdnRpeeWFs+iBlFxyXG5mdW5jdGlvbiB2aWRlb0FjdGl2aXR5KCkge1xyXG4gICAgdmFyIGQsIGFjdGl2aXR5SWRzID0ge30sXHJcbiAgICAgICAgZGF0YSA9IGRhdGFDYWNoZS5WaWRlbztcclxuICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbihfLCBpbmRleCkge1xyXG4gICAgICAgIGQgPSBkYXRhLml0ZW0oaW5kZXgpXHJcbiAgICAgICAgaWYgKGQgJiYgZC5hY3Rpdml0eUlkKSB7IC8v56Gu5L+dYWN0aXZpdHlJZElE5piv5pyJ5YC877yM6L+Z5qC35omN5piv6Z2gYWN0aXZpdHnlhbPogZTnmoR2aWRlbyzogIzkuI3mmK/liqjnlLvnmoR2aWRlb1xyXG4gICAgICAgICAgICBhY3Rpdml0eUlkc1tkLmFjdGl2aXR5SWRdID0gZC5faWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBhY3Rpdml0eUlkcztcclxufVxyXG5cclxuXHJcbi8vY2hwYXRlcuWIhuautVxyXG4vL+i9rOWMlnNlY3Rpb27kv6Hmga9cclxuLy/luKbmnInlnLrmma/lpITnkIZcclxuZnVuY3Rpb24gY29udmVyc2lvblNlY3Rpb25SZWxhdGVkKCkge1xyXG4gICAgdmFyIHNlYXNvbklkLCBzdGFydCwgbGVuZ3RoLCBzaWQsIGksIGlkLCBzZWFzb25JbmZvLCB0b29sYmFyLCBDaGFwdGVycyxcclxuICAgICAgICBjb250YWluZXIgPSB7fSxcclxuICAgICAgICBDaGFwdGVyID0gZGF0YUNhY2hlLkNoYXB0ZXIsXHJcbiAgICAgICAgbCA9IENoYXB0ZXIubGVuZ3RoLFxyXG4gICAgICAgIGVuZCA9IDA7XHJcblxyXG4gICAgLy/mib7liLDmjIflrprnmoRzZWFzb27kv6Hmga9cclxuICAgIHZhciBmaW5kU2Vhc29uSW5mbyA9IGZ1bmN0aW9uKHNlYXNvbklkKSB7XHJcbiAgICAgICAgdmFyIHRlbXAsXHJcbiAgICAgICAgICAgIHNlYXNvbk51bSA9IGRhdGFDYWNoZS5TZWFzb24ubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChzZWFzb25OdW0tLSkge1xyXG4gICAgICAgICAgICBpZiAodGVtcCA9IGRhdGFDYWNoZS5TZWFzb24uaXRlbShzZWFzb25OdW0pKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcC5faWQgPT0gc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgQ2hhcHRlcnMgPSBDaGFwdGVyLml0ZW0oaSk7XHJcbiAgICAgICAgaWYgKENoYXB0ZXJzKSB7XHJcbiAgICAgICAgICAgIGlkID0gQ2hhcHRlcnMuX2lkIC0gMTsgLy/kv53lrZjlhbzlrrnmgKcs55SoMOW8gOWktFxyXG4gICAgICAgICAgICBzZWFzb25JZCA9IENoYXB0ZXJzLnNlYXNvbklkO1xyXG4gICAgICAgICAgICBzaWQgPSAnc2Vhc29uSWQtPicgKyBzZWFzb25JZDtcclxuICAgICAgICAgICAgLy/lpoLmnpzkuI3lnKjpm4blkIgs5YWI5Yib5bu6XHJcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyW3NpZF0pIHtcclxuICAgICAgICAgICAgICAgIC8v5Zy65pmv5bel5YW35qCP6YWN572u5L+h5oGvXHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vhc29uSW5mbyA9IGZpbmRTZWFzb25JbmZvKHNlYXNvbklkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXIgPSBzZWFzb25JbmZvLnBhcmFtZXRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcltzaWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpZCxcclxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICB0b29sYmFyOiB0b29sYmFyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXJbc2lkXS5lbmQgPSBpZDtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcltzaWRdLmxlbmd0aCA9IChjb250YWluZXJbc2lkXS5sZW5ndGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XHJcblxyXG5cclxuLy/ovazljJbmlbDmja7nu5PmnoRcclxuZnVuY3Rpb24gY29udmVyc2lvbigpIHtcclxuXHJcbiAgICAvL+aVsOaNruauteagh+iusFxyXG4gICAgZm9yICh2YXIgayBpbiBkYXRhQ2FjaGUpIHtcclxuICAgICAgICBpZiAoZGF0YUNhY2hlW2tdLml0ZW0pIHtcclxuICAgICAgICAgICAgZGF0YU9mZnNldChrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT095pWw5o2u54m55q6K5aSE55CGPT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vdmlkb2XnibnmrorlpITnkIbvvIzpnIDopoHorrDlvZVjaGFwdGVySWTojIPlm7RcclxuICAgIGlmIChkYXRhQ2FjaGUuVmlkZW8pIHtcclxuICAgICAgICB2aWRlb0FjdGl2aXR5SWRDYWNoZSA9IHZpZGVvQWN0aXZpdHkoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDluKbmnInlnLrmma/lpITnkIZcclxuICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIHNlY3Rpb25SZWxhdGVkID0gY29udmVyc2lvblNlY3Rpb25SZWxhdGVkKCk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qCH6K6w5bqU55SoSURcclxuICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIGRhdGFDYWNoZS5ub3ZlbElkID0gc3RvcmUubm92ZWxJZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmSiOWvueaVsOaNruW6k2NvbnRlbnTkuLrnqbrnmoTlpITnkIZcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBkYXRhQ2FjaGUucHJldmVudENvbnRlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gZGF0YUNhY2hlLkNvbnRlbnQubGVuZ3RoID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgfSgpXHJcblxyXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gIFxyXG4gICAgLy8gIOafpeivouaVsOaNruaOpeWPo1xyXG4gICAgLy9cclxuICAgIC8vICAxIHZpZGVv6KGo5Lyg6YCS5pivYWN0aXZpdHlJZOWFs+iBlFxyXG4gICAgLy8gIDIg5YW25L2Z6KGo6YO95piv5Lyg6YCS5b2T5YmN6KGo55qEaWRcclxuICAgIC8vICB0eXBlIOafpeivoklE55qE57G75Z6LLCDmlbDmja7nmoRpZOaIluiAhWFjdGl2aXR5SWRcclxuICAgIC8vICBjYWxsYmFjayDmj5Dkvpvnu5ljaGFwdGVySWTkvb/nlKhcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4dJROafpeivouaWueW8j1xyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSAgdGFibGVOYW1lIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZGF0YUNhY2hlLnF1ZXJ5ID0gZnVuY3Rpb24odGFibGVOYW1lLCBpZCwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnibnmrornmoTlrZfmrrXlhbPogZRcclxuICAgICAgICAgKiAxIGFjdGl2aXR5SWRcclxuICAgICAgICAgKiAyIGNocGF0ZXJJZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICog6YCa6L+HYWN0aXZpdHlJZOafpeivoueahOaWueW8j1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiDooajlkI0sSUQs57G75Z6LXHJcbiAgICAgICAgICAgICAqIFh1dC5kYXRhLnF1ZXJ5KCdBY3Rpb24nLCBpZCwgJ2FjdGl2aXR5SWQnKTtcclxuICAgICAgICAgICAgICogICBcclxuICAgICAgICAgICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2aXR5SWQnOlxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZpdHlJZCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhQ2FjaGVbdGFibGVOYW1lXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGRhdGEuaXRlbShpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVt0eXBlXSA9PSBhY3Rpdml0eUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIOmAmui/h2NocGF0ZXJJZOafpeivouaWueW8j1xyXG4gICAgICAgICAgICAgICAgICogcGFyc2Vy5Lit55qEc2NhbkFjdGl2aXR56L+H5ruk5aSE55CGXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSAnY2hhcHRlcklkJzpcclxuICAgICAgICAgICAgY2FzZSAnc2Vhc29uSWQnOlxyXG4gICAgICAgICAgICAgICAgdmFyIGNoYXB0ZXJJZCA9IGlkO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhQ2FjaGVbdGFibGVOYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGRhdGEuaXRlbShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtW3R5cGVdID09IGNoYXB0ZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOmAmui/h2lk5p+l6K+i55qE5pa55byPXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3dpdGNoICh0YWJsZU5hbWUpIHtcclxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgLy/ojrflj5bmlbTkuKrkuIDkuKrnlKjnmoRjaGFwdGVy5pWw5o2uIC8vXHJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIGNhc2UgJ2FwcFBhZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFDYWNoZS5DaGFwdGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAvL+iOt+WPluaVtOS4quS4gOS4queUqOeahFNlY3Rpb27mlbDmja4gLy9cclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIGNhc2UgJ2FwcFNlY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFDYWNoZS5TZWFzb247XHJcblxyXG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzmmK/mmK9zZWN0aW9u5L+h5oGvIC8vXHJcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIGNhc2UgJ3NlY3Rpb25SZWxhdGVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uUmVsYXRlZFsnc2Vhc29uSWQtPicgKyBpZF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgIC8v5aaC5p6c5piv6Z+z6aKRIC8vXHJcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICBjYXNlICdWaWRlbyc6XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBRdWVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+S8oOmAkueahGlk5pivYWN0aXZpdHlJZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHZpZGVvQWN0aXZpdHlJZENhY2hlW2lkXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUNhY2hlLnF1ZXJ5KCdWaWRlbycsIGlkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgLy/pu5jorqTlhbbkvZnmiYDmnInooaggLy9cclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUXVlcnkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5pWw5o2u5L+h5oGvXHJcbiAgICAgICAgZnVuY3Rpb24gUXVlcnkoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gZGF0YUNhY2hlW3RhYmxlTmFtZV07XHJcbiAgICAgICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaWQgLSBkYXRhLnN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuaXRlbShpbmRleCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGggPyBkYXRhLml0ZW0oMCkgOiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmSiOWvueWKqOaAgeihqOafpeivolxyXG4gICAgICog5q+P5qyh6ZyA6KaB6YeN5paw5Y+W5pWw5o2uXHJcbiAgICAgKiBYdXQuZGF0YS5vbmVRdWVyeSgnSW1hZ2UnLGZ1bmN0aW9uKCl7fSk7XHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZGF0YUNhY2hlLm9uZVF1ZXJ5ID0gZnVuY3Rpb24odGFibGVOYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHN0b3JlLm9uZVF1ZXJ5KHRhYmxlTmFtZSwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yig6Zmk5pWw5o2uXHJcbiAgICAgKiDooajlkI0s6KGoSURcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBkYXRhQ2FjaGUucmVtb3ZlID0gZnVuY3Rpb24odGFibGVOYW1lLCBpZCwgc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgIHZhciBkZmQgPSBzdG9yZS5yZW1vdmUodGFibGVOYW1lLCBpZClcclxuICAgICAgICBkZmQuZG9uZShzdWNjZXNzLCBmYWlsdXJlKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOi/lOWbnumUmeivr+eahOihqFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlcnJvclRhYmxlKCkge1xyXG4gICAgcmV0dXJuIHN0b3JlLmNvbGxlY3RFcnJvcjtcclxufVxyXG5cclxuLyoqXHJcbiAqICAgICDliJ3lp4vljJbmlbDmja7nsbtcclxuICAgIOiOt+WPlnBwdOaAu+aVsFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZSgpIHtcclxuICAgIHJldHVybiAkLkRlZmVycmVkKGZ1bmN0aW9uKGRmZCkge1xyXG4gICAgICAgIHN0b3JlLnF1ZXJ5KCkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBub3ZlbCA9IGRhdGEuTm92ZWw7XHJcbiAgICAgICAgICAgIC8vbm92ZWznmoRpZFxyXG4gICAgICAgICAgICB2YXIgbm92ZWxJZCA9IHN0b3JlLm5vdmVsSWQgPSBub3ZlbC5pdGVtKDApWydfaWQnXTtcclxuICAgICAgICAgICAgLy/mlbDmja7ovazmjaJcclxuICAgICAgICAgICAgbWl4VG9EYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAvL+i9rOWMluaVsOaNrue7k+aehFxyXG4gICAgICAgICAgICBjb252ZXJzaW9uKCk7XHJcbiAgICAgICAgICAgIC8v5pWw5o2u57yT5a2Y5bey5a2Y5ZyoXHJcbiAgICAgICAgICAgIC8vIHN0b3JlTWdyLmRhdGFDYWNoZSA9IHRydWVcclxuICAgICAgICAgICAgZGZkLnJlc29sdmUoZGF0YS5TZXR0aW5nLCBub3ZlbC5pdGVtKDApKTtcclxuICAgICAgICB9KVxyXG4gICAgfSkucHJvbWlzZSgpO1xyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9kYXRhL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loadScene = loadScene;\n\nvar _index = __webpack_require__(1);\n\nvar config = void 0;\n\n/**\r\n * 设置缓存\r\n * @param {[type]} parameter [description]\r\n */\nfunction setDataToStorage(parameter) {\n    config.pageIndex = parameter.pageIndex;\n    config.novelId = parameter.novelId;\n    (0, _index._set)({\n        \"pageIndex\": parameter.pageIndex,\n        \"novelId\": parameter.novelId\n    });\n};\n\n/**\r\n * 初始化值\r\n * @param {[type]} options [description]\r\n */\nfunction initDefaultValues(options) {\n    var pageFlip = options.pageFlip;\n    //配置全局翻页模式\n    //pageflip可以为0\n    //兼容pageFlip错误,强制转化成数字类型\n    if (pageFlip !== undefined) {\n        config.pageFlip = (0, _index.toEmpty)(pageFlip);\n    }\n    return {\n        'novelId': (0, _index.toEmpty)(options.novelId),\n        'pageIndex': (0, _index.toEmpty)(options.pageIndex),\n        'history': options.history\n    };\n};\n\n/**\r\n * 检测脚本注入\r\n * @return {[type]} [description]\r\n */\nfunction checkInjectScript() {\n    var preCode,\n        novels = Xut.data.query('Novel');\n    if (preCode = novels.preCode) {\n        (0, _index.injectScript)(preCode, 'novelpre脚本');\n    }\n}\n\nfunction loadScene(options) {\n\n    config = Xut.config;\n\n    //获取默认参数\n    var parameter = initDefaultValues(options || {});\n\n    //设置缓存\n    setDataToStorage(parameter);\n\n    //应用脚本注入\n    checkInjectScript();\n\n    //检测下scenarioId的正确性\n    //scenarioId = 1 找不到chapter数据\n    //通过sectionRelated递归检测下一条数据\n    var scenarioId, seasondata, i;\n    for (i = 0; i < Xut.data.Season.length; i++) {\n        seasondata = Xut.data.Season.item(i);\n        if (Xut.data.query('sectionRelated', seasondata._id)) {\n            scenarioId = seasondata._id;\n            break;\n        }\n    }\n\n    //加载新的场景\n    Xut.View.LoadScenario({\n        'main': true, //主场景入口\n        'scenarioId': scenarioId,\n        'pageIndex': parameter.pageIndex,\n        'history': parameter.history\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2luaXQvc2NlbmUuanM/MTE3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQXlEZ0IsUyxHQUFBLFM7O0FBekRoQjs7QUFRQSxJQUFJLGVBQUo7Ozs7OztBQU9BLFNBQVMsZ0JBQVQsQ0FBMEIsU0FBMUIsRUFBcUM7QUFDakMsV0FBTyxTQUFQLEdBQW1CLFVBQVUsU0FBN0I7QUFDQSxXQUFPLE9BQVAsR0FBaUIsVUFBVSxPQUEzQjtBQUNBLHFCQUFLO0FBQ0QscUJBQWEsVUFBVSxTQUR0QjtBQUVELG1CQUFXLFVBQVU7QUFGcEIsS0FBTDtBQUlIOzs7Ozs7QUFPRCxTQUFTLGlCQUFULENBQTJCLE9BQTNCLEVBQW9DO0FBQ2hDLFFBQUksV0FBVyxRQUFRLFFBQXZCOzs7O0FBSUEsUUFBSSxhQUFhLFNBQWpCLEVBQTRCO0FBQ3hCLGVBQU8sUUFBUCxHQUFrQixvQkFBUSxRQUFSLENBQWxCO0FBQ0g7QUFDRCxXQUFPO0FBQ0gsbUJBQWMsb0JBQVEsUUFBUSxPQUFoQixDQURYO0FBRUgscUJBQWMsb0JBQVEsUUFBUSxTQUFoQixDQUZYO0FBR0gsbUJBQWMsUUFBUTtBQUhuQixLQUFQO0FBS0g7Ozs7OztBQU9ELFNBQVMsaUJBQVQsR0FBNkI7QUFDekIsUUFBSSxPQUFKO1FBQ0ksU0FBUyxJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsT0FBZixDQURiO0FBRUEsUUFBSSxVQUFVLE9BQU8sT0FBckIsRUFBOEI7QUFDMUIsaUNBQWEsT0FBYixFQUFzQixZQUF0QjtBQUNIO0FBQ0o7O0FBRU0sU0FBUyxTQUFULENBQW1CLE9BQW5CLEVBQTRCOztBQUUvQixhQUFTLElBQUksTUFBYjs7O0FBR0EsUUFBSSxZQUFZLGtCQUFrQixXQUFXLEVBQTdCLENBQWhCOzs7QUFHQSxxQkFBaUIsU0FBakI7OztBQUdBOzs7OztBQUtBLFFBQUksVUFBSixFQUFnQixVQUFoQixFQUE0QixDQUE1QjtBQUNBLFNBQUssSUFBSSxDQUFULEVBQVksSUFBSSxJQUFJLElBQUosQ0FBUyxNQUFULENBQWdCLE1BQWhDLEVBQXdDLEdBQXhDLEVBQTZDO0FBQ3pDLHFCQUFhLElBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsQ0FBcUIsQ0FBckIsQ0FBYjtBQUNBLFlBQUksSUFBSSxJQUFKLENBQVMsS0FBVCxDQUFlLGdCQUFmLEVBQWlDLFdBQVcsR0FBNUMsQ0FBSixFQUFzRDtBQUNsRCx5QkFBYSxXQUFXLEdBQXhCO0FBQ0E7QUFDSDtBQUNKOzs7QUFHRCxRQUFJLElBQUosQ0FBUyxZQUFULENBQXNCO0FBQ2xCLGdCQUFlLElBREcsRTtBQUVsQixzQkFBZSxVQUZHO0FBR2xCLHFCQUFlLFVBQVUsU0FIUDtBQUlsQixtQkFBZSxVQUFVO0FBSlAsS0FBdEI7QUFPSCIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBfc2V0LFxyXG4gICAgX2dldCxcclxuICAgIGluamVjdFNjcmlwdCxcclxuICAgIHRvRW1wdHlcclxufVxyXG5mcm9tICcuLi91dGlsL2luZGV4J1xyXG5cclxubGV0IGNvbmZpZ1xyXG5cclxuXHJcbi8qKlxyXG4gKiDorr7nva7nvJPlrZhcclxuICogQHBhcmFtIHtbdHlwZV19IHBhcmFtZXRlciBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhVG9TdG9yYWdlKHBhcmFtZXRlcikge1xyXG4gICAgY29uZmlnLnBhZ2VJbmRleCA9IHBhcmFtZXRlci5wYWdlSW5kZXg7XHJcbiAgICBjb25maWcubm92ZWxJZCA9IHBhcmFtZXRlci5ub3ZlbElkO1xyXG4gICAgX3NldCh7XHJcbiAgICAgICAgXCJwYWdlSW5kZXhcIjogcGFyYW1ldGVyLnBhZ2VJbmRleCxcclxuICAgICAgICBcIm5vdmVsSWRcIjogcGFyYW1ldGVyLm5vdmVsSWRcclxuICAgIH0pO1xyXG59O1xyXG4gXHJcblxyXG4vKipcclxuICog5Yid5aeL5YyW5YC8XHJcbiAqIEBwYXJhbSB7W3R5cGVdfSBvcHRpb25zIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGluaXREZWZhdWx0VmFsdWVzKG9wdGlvbnMpIHtcclxuICAgIHZhciBwYWdlRmxpcCA9IG9wdGlvbnMucGFnZUZsaXA7XHJcbiAgICAvL+mFjee9ruWFqOWxgOe/u+mhteaooeW8j1xyXG4gICAgLy9wYWdlZmxpcOWPr+S7peS4ujBcclxuICAgIC8v5YW85a65cGFnZUZsaXDplJnor68s5by65Yi26L2s5YyW5oiQ5pWw5a2X57G75Z6LXHJcbiAgICBpZiAocGFnZUZsaXAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbmZpZy5wYWdlRmxpcCA9IHRvRW1wdHkocGFnZUZsaXApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbm92ZWxJZCcgICA6IHRvRW1wdHkob3B0aW9ucy5ub3ZlbElkKSxcclxuICAgICAgICAncGFnZUluZGV4JyA6IHRvRW1wdHkob3B0aW9ucy5wYWdlSW5kZXgpLFxyXG4gICAgICAgICdoaXN0b3J5JyAgIDogb3B0aW9ucy5oaXN0b3J5XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIOajgOa1i+iEmuacrOazqOWFpVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrSW5qZWN0U2NyaXB0KCkge1xyXG4gICAgdmFyIHByZUNvZGUsXHJcbiAgICAgICAgbm92ZWxzID0gWHV0LmRhdGEucXVlcnkoJ05vdmVsJyk7XHJcbiAgICBpZiAocHJlQ29kZSA9IG5vdmVscy5wcmVDb2RlKSB7XHJcbiAgICAgICAgaW5qZWN0U2NyaXB0KHByZUNvZGUsICdub3ZlbHByZeiEmuacrCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2NlbmUob3B0aW9ucykge1xyXG4gXHJcbiAgICBjb25maWcgPSBYdXQuY29uZmlnXHJcblxyXG4gICAgLy/ojrflj5bpu5jorqTlj4LmlbBcclxuICAgIHZhciBwYXJhbWV0ZXIgPSBpbml0RGVmYXVsdFZhbHVlcyhvcHRpb25zIHx8IHt9KTtcclxuXHJcbiAgICAvL+iuvue9rue8k+WtmFxyXG4gICAgc2V0RGF0YVRvU3RvcmFnZShwYXJhbWV0ZXIpO1xyXG5cclxuICAgIC8v5bqU55So6ISa5pys5rOo5YWlXHJcbiAgICBjaGVja0luamVjdFNjcmlwdCgpO1xyXG5cclxuICAgIC8v5qOA5rWL5LiLc2NlbmFyaW9JZOeahOato+ehruaAp1xyXG4gICAgLy9zY2VuYXJpb0lkID0gMSDmib7kuI3liLBjaGFwdGVy5pWw5o2uXHJcbiAgICAvL+mAmui/h3NlY3Rpb25SZWxhdGVk6YCS5b2S5qOA5rWL5LiL5LiA5p2h5pWw5o2uXHJcbiAgICB2YXIgc2NlbmFyaW9JZCwgc2Vhc29uZGF0YSwgaTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBYdXQuZGF0YS5TZWFzb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzZWFzb25kYXRhID0gWHV0LmRhdGEuU2Vhc29uLml0ZW0oaSlcclxuICAgICAgICBpZiAoWHV0LmRhdGEucXVlcnkoJ3NlY3Rpb25SZWxhdGVkJywgc2Vhc29uZGF0YS5faWQpKSB7XHJcbiAgICAgICAgICAgIHNjZW5hcmlvSWQgPSBzZWFzb25kYXRhLl9pZFxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3mlrDnmoTlnLrmma9cclxuICAgIFh1dC5WaWV3LkxvYWRTY2VuYXJpbyh7XHJcbiAgICAgICAgJ21haW4nICAgICAgIDogdHJ1ZSwgLy/kuLvlnLrmma/lhaXlj6NcclxuICAgICAgICAnc2NlbmFyaW9JZCcgOiBzY2VuYXJpb0lkLFxyXG4gICAgICAgICdwYWdlSW5kZXgnICA6IHBhcmFtZXRlci5wYWdlSW5kZXgsXHJcbiAgICAgICAgJ2hpc3RvcnknICAgIDogcGFyYW1ldGVyLmhpc3RvcnlcclxuICAgIH0pO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvaW5pdC9zY2VuZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 16 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Abstract = Abstract;\n/**\r\n * 抽象管理接口\r\n * @return {[type]} [description]\r\n */\n\nfunction Abstract() {}\n\nAbstract.prototype = {\n    /**\r\n     * 创建页面合集\r\n     * @return {[type]} [description]\r\n     */\n    abstractCreateCollection: function abstractCreateCollection() {\n        this.Collections = {};\n    },\n\n    /**\r\n     * 增加合集管理\r\n     */\n    abstractAddCollection: function abstractAddCollection(pageIndex, pageObj) {\n        this.Collections[pageIndex] = pageObj;\n    },\n\n    /**\r\n     * 得到页面合集\r\n     * @return {[type]} [description]\r\n     */\n    abstractGetCollection: function abstractGetCollection() {\n        return this.Collections;\n    },\n\n    /**\r\n     * 删除合集管理\r\n     * @return {[type]} [description]\r\n     */\n    abstractRemoveCollection: function abstractRemoveCollection(pageIndex) {\n        delete this.Collections[pageIndex];\n    },\n\n    /**\r\n     * 销毁合集\r\n     * @return {[type]} [description]\r\n     */\n    abstractDestroyCollection: function abstractDestroyCollection() {\n        var k,\n            Collections = this.Collections;\n        for (k in Collections) {\n            Collections[k].baseDestroy();\n        }\n        this.Collections = null;\n    },\n\n    /**\r\n     * 找到页面对象\r\n     * 1.页面直接pageIndex索引\r\n     * 2.母版通过母版Id索引\r\n     * @return {[type]} [description]\r\n     */\n    abstractGetPageObj: function abstractGetPageObj(pageIndex, pageType) {\n        pageType = pageType || this.pageType;\n        //模板传递的可能不是页码\n        if (pageType === 'master') {\n            if (!/-/.test(pageIndex)) {\n                //如果不是母版ID，只是页码\n                pageIndex = this.conversionMasterId(pageIndex); //转化成母版id\n            }\n        }\n        return this.Collections[pageIndex];\n    },\n\n    /**\r\n     * 合并处理\r\n     * @return {[type]} [description]\r\n     */\n    abstractAssistPocess: function abstractAssistPocess(pageIndex, callback) {\n        var pageObj;\n        if (pageObj = this.abstractGetPageObj(pageIndex, this.pageType)) {\n            if (callback) {\n                callback(pageObj);\n            } else {\n                return pageObj;\n            }\n        }\n    },\n\n    /**\r\n     * 获取页面容器ID\r\n     * chpaterID\r\n     * masterID\r\n     * @return {[type]} [description]\r\n     */\n    abstractGetPageId: function abstractGetPageId(pageIndex, pageType) {\n        var key = pageType === 'page' ? '_id' : 'pptMaster';\n        return this.abstractGetPageData(pageIndex, key, pageType);\n    },\n\n    /**\r\n     * 获取页面数据\r\n     */\n    abstractGetPageData: function abstractGetPageData(pageIndex, key, pageType) {\n        var pageObj;\n        //如果传递key是 pageType\n        if (!pageType && key == 'page' || key == 'master') {\n            pageType = key;\n            key = null;\n        }\n        if (pageObj = this.abstractGetPageObj(pageIndex, pageType)) {\n            return key ? pageObj.chapterDas[key] : pageObj.chapterDas;\n        }\n    },\n\n    /**\r\n     * 得到页面的nodes数据\r\n     * @param  {[type]} pageIndex [description]\r\n     * @return {[type]}           [description]\r\n     */\n    abstractGetPageNode: function abstractGetPageNode(pageIndex, pageType) {\n        return this.abstractGetPageData(pageIndex, 'nodes', pageType);\n    },\n\n    //***************************************************************\n    //\n    //  执行辅助对象事件\n    //\n    //***************************************************************\n    abstractAssistAppoint: function abstractAssistAppoint(activityId, currIndex, outCallBack, actionName) {\n        var pageObj;\n        if (pageObj = this.abstractGetPageObj(currIndex)) {\n            return pageObj.baseAssistRun(activityId, outCallBack, actionName);\n        }\n    }\n\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvYWJzdHJhY3QuanM/ZmFmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQUtnQixRLEdBQUEsUTs7Ozs7O0FBQVQsU0FBUyxRQUFULEdBQW9CLENBQUU7O0FBRzdCLFNBQVMsU0FBVCxHQUFxQjs7Ozs7QUFLakIsOEJBQTBCLG9DQUFXO0FBQ2pDLGFBQUssV0FBTCxHQUFtQixFQUFuQjtBQUNILEtBUGdCOzs7OztBQVlqQiwyQkFBdUIsK0JBQVMsU0FBVCxFQUFvQixPQUFwQixFQUE2QjtBQUNoRCxhQUFLLFdBQUwsQ0FBaUIsU0FBakIsSUFBOEIsT0FBOUI7QUFDSCxLQWRnQjs7Ozs7O0FBb0JqQiwyQkFBdUIsaUNBQVc7QUFDOUIsZUFBTyxLQUFLLFdBQVo7QUFDSCxLQXRCZ0I7Ozs7OztBQTRCakIsOEJBQTBCLGtDQUFTLFNBQVQsRUFBb0I7QUFDMUMsZUFBTyxLQUFLLFdBQUwsQ0FBaUIsU0FBakIsQ0FBUDtBQUNILEtBOUJnQjs7Ozs7O0FBb0NqQiwrQkFBMkIscUNBQVc7QUFDbEMsWUFBSSxDQUFKO1lBQU8sY0FBYyxLQUFLLFdBQTFCO0FBQ0EsYUFBSyxDQUFMLElBQVUsV0FBVixFQUF1QjtBQUNuQix3QkFBWSxDQUFaLEVBQWUsV0FBZjtBQUNIO0FBQ0QsYUFBSyxXQUFMLEdBQW1CLElBQW5CO0FBQ0gsS0ExQ2dCOzs7Ozs7OztBQWtEakIsd0JBQW9CLDRCQUFTLFNBQVQsRUFBb0IsUUFBcEIsRUFBOEI7QUFDOUMsbUJBQVcsWUFBWSxLQUFLLFFBQTVCOztBQUVBLFlBQUksYUFBYSxRQUFqQixFQUEyQjtBQUN2QixnQkFBSSxDQUFDLElBQUksSUFBSixDQUFTLFNBQVQsQ0FBTCxFQUEwQjs7QUFDdEIsNEJBQVksS0FBSyxrQkFBTCxDQUF3QixTQUF4QixDQUFaLEM7QUFDSDtBQUNKO0FBQ0QsZUFBTyxLQUFLLFdBQUwsQ0FBaUIsU0FBakIsQ0FBUDtBQUNILEtBM0RnQjs7Ozs7O0FBaUVqQiwwQkFBc0IsOEJBQVMsU0FBVCxFQUFvQixRQUFwQixFQUE4QjtBQUNoRCxZQUFJLE9BQUo7QUFDQSxZQUFJLFVBQVUsS0FBSyxrQkFBTCxDQUF3QixTQUF4QixFQUFtQyxLQUFLLFFBQXhDLENBQWQsRUFBaUU7QUFDN0QsZ0JBQUksUUFBSixFQUFjO0FBQ1YseUJBQVMsT0FBVDtBQUNILGFBRkQsTUFFTztBQUNILHVCQUFPLE9BQVA7QUFDSDtBQUNKO0FBQ0osS0ExRWdCOzs7Ozs7OztBQWtGakIsdUJBQW1CLDJCQUFTLFNBQVQsRUFBb0IsUUFBcEIsRUFBOEI7QUFDN0MsWUFBSSxNQUFNLGFBQWEsTUFBYixHQUFzQixLQUF0QixHQUE4QixXQUF4QztBQUNBLGVBQU8sS0FBSyxtQkFBTCxDQUF5QixTQUF6QixFQUFvQyxHQUFwQyxFQUF5QyxRQUF6QyxDQUFQO0FBQ0gsS0FyRmdCOzs7OztBQTBGakIseUJBQXFCLDZCQUFTLFNBQVQsRUFBb0IsR0FBcEIsRUFBeUIsUUFBekIsRUFBbUM7QUFDcEQsWUFBSSxPQUFKOztBQUVBLFlBQUksQ0FBQyxRQUFELElBQWEsT0FBTyxNQUFwQixJQUE4QixPQUFPLFFBQXpDLEVBQW1EO0FBQy9DLHVCQUFXLEdBQVg7QUFDQSxrQkFBTSxJQUFOO0FBQ0g7QUFDRCxZQUFJLFVBQVUsS0FBSyxrQkFBTCxDQUF3QixTQUF4QixFQUFtQyxRQUFuQyxDQUFkLEVBQTREO0FBQ3hELG1CQUFPLE1BQU0sUUFBUSxVQUFSLENBQW1CLEdBQW5CLENBQU4sR0FBZ0MsUUFBUSxVQUEvQztBQUNIO0FBQ0osS0FwR2dCOzs7Ozs7O0FBMkdqQix5QkFBcUIsNkJBQVMsU0FBVCxFQUFvQixRQUFwQixFQUE4QjtBQUMvQyxlQUFPLEtBQUssbUJBQUwsQ0FBeUIsU0FBekIsRUFBb0MsT0FBcEMsRUFBNkMsUUFBN0MsQ0FBUDtBQUNILEtBN0dnQjs7Ozs7OztBQXFIakIsMkJBQXVCLCtCQUFTLFVBQVQsRUFBcUIsU0FBckIsRUFBZ0MsV0FBaEMsRUFBNkMsVUFBN0MsRUFBeUQ7QUFDNUUsWUFBSSxPQUFKO0FBQ0EsWUFBSSxVQUFVLEtBQUssa0JBQUwsQ0FBd0IsU0FBeEIsQ0FBZCxFQUFrRDtBQUM5QyxtQkFBTyxRQUFRLGFBQVIsQ0FBc0IsVUFBdEIsRUFBa0MsV0FBbEMsRUFBK0MsVUFBL0MsQ0FBUDtBQUNIO0FBQ0o7O0FBMUhnQixDQUFyQiIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmir3osaHnrqHnkIbmjqXlj6NcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEFic3RyYWN0KCkge31cclxuXHJcblxyXG5BYnN0cmFjdC5wcm90b3R5cGUgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uumhtemdouWQiOmbhlxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0Q3JlYXRlQ29sbGVjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5Db2xsZWN0aW9ucyA9IHt9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aKe5Yqg5ZCI6ZuG566h55CGXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0QWRkQ29sbGVjdGlvbjogZnVuY3Rpb24ocGFnZUluZGV4LCBwYWdlT2JqKSB7XHJcbiAgICAgICAgdGhpcy5Db2xsZWN0aW9uc1twYWdlSW5kZXhdID0gcGFnZU9iajtcclxuICAgIH0sXHJcbiBcclxuICAgIC8qKlxyXG4gICAgICog5b6X5Yiw6aG16Z2i5ZCI6ZuGXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3RHZXRDb2xsZWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Db2xsZWN0aW9ucztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKDpmaTlkIjpm4bnrqHnkIZcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdFJlbW92ZUNvbGxlY3Rpb246IGZ1bmN0aW9uKHBhZ2VJbmRleCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLkNvbGxlY3Rpb25zW3BhZ2VJbmRleF07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZSA5q+B5ZCI6ZuGXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3REZXN0cm95Q29sbGVjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGssIENvbGxlY3Rpb25zID0gdGhpcy5Db2xsZWN0aW9ucztcclxuICAgICAgICBmb3IgKGsgaW4gQ29sbGVjdGlvbnMpIHtcclxuICAgICAgICAgICAgQ29sbGVjdGlvbnNba10uYmFzZURlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Db2xsZWN0aW9ucyA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5om+5Yiw6aG16Z2i5a+56LGhXHJcbiAgICAgKiAxLumhtemdouebtOaOpXBhZ2VJbmRleOe0ouW8lVxyXG4gICAgICogMi7mr43niYjpgJrov4fmr43niYhJZOe0ouW8lVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0R2V0UGFnZU9iajogZnVuY3Rpb24ocGFnZUluZGV4LCBwYWdlVHlwZSkge1xyXG4gICAgICAgIHBhZ2VUeXBlID0gcGFnZVR5cGUgfHwgdGhpcy5wYWdlVHlwZTtcclxuICAgICAgICAvL+aooeadv+S8oOmAkueahOWPr+iDveS4jeaYr+mhteeggVxyXG4gICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ21hc3RlcicpIHtcclxuICAgICAgICAgICAgaWYgKCEvLS8udGVzdChwYWdlSW5kZXgpKSB7IC8v5aaC5p6c5LiN5piv5q+N54mISUTvvIzlj6rmmK/pobXnoIFcclxuICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IHRoaXMuY29udmVyc2lvbk1hc3RlcklkKHBhZ2VJbmRleCk7IC8v6L2s5YyW5oiQ5q+N54mIaWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5Db2xsZWN0aW9uc1twYWdlSW5kZXhdO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWQiOW5tuWkhOeQhlxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0QXNzaXN0UG9jZXNzOiBmdW5jdGlvbihwYWdlSW5kZXgsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIHBhZ2VPYmo7XHJcbiAgICAgICAgaWYgKHBhZ2VPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihwYWdlSW5kZXgsIHRoaXMucGFnZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socGFnZU9iailcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlT2JqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlumhtemdouWuueWZqElEXHJcbiAgICAgKiBjaHBhdGVySURcclxuICAgICAqIG1hc3RlcklEXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3RHZXRQYWdlSWQ6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgcGFnZVR5cGUpIHtcclxuICAgICAgICB2YXIga2V5ID0gcGFnZVR5cGUgPT09ICdwYWdlJyA/ICdfaWQnIDogJ3BwdE1hc3RlcidcclxuICAgICAgICByZXR1cm4gdGhpcy5hYnN0cmFjdEdldFBhZ2VEYXRhKHBhZ2VJbmRleCwga2V5LCBwYWdlVHlwZSlcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bpobXpnaLmlbDmja5cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3RHZXRQYWdlRGF0YTogZnVuY3Rpb24ocGFnZUluZGV4LCBrZXksIHBhZ2VUeXBlKSB7XHJcbiAgICAgICAgdmFyIHBhZ2VPYmo7XHJcbiAgICAgICAgLy/lpoLmnpzkvKDpgJJrZXnmmK8gcGFnZVR5cGVcclxuICAgICAgICBpZiAoIXBhZ2VUeXBlICYmIGtleSA9PSAncGFnZScgfHwga2V5ID09ICdtYXN0ZXInKSB7XHJcbiAgICAgICAgICAgIHBhZ2VUeXBlID0ga2V5O1xyXG4gICAgICAgICAgICBrZXkgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFnZU9iaiA9IHRoaXMuYWJzdHJhY3RHZXRQYWdlT2JqKHBhZ2VJbmRleCwgcGFnZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXkgPyBwYWdlT2JqLmNoYXB0ZXJEYXNba2V5XSA6IHBhZ2VPYmouY2hhcHRlckRhcztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b6X5Yiw6aG16Z2i55qEbm9kZXPmlbDmja5cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gcGFnZUluZGV4IFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3RHZXRQYWdlTm9kZTogZnVuY3Rpb24ocGFnZUluZGV4LCBwYWdlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFic3RyYWN0R2V0UGFnZURhdGEocGFnZUluZGV4LCAnbm9kZXMnLCBwYWdlVHlwZSk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgLy9cclxuICAgIC8vICDmiafooYzovoXliqnlr7nosaHkuovku7ZcclxuICAgIC8vXHJcbiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgYWJzdHJhY3RBc3Npc3RBcHBvaW50OiBmdW5jdGlvbihhY3Rpdml0eUlkLCBjdXJySW5kZXgsIG91dENhbGxCYWNrLCBhY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgdmFyIHBhZ2VPYmo7XHJcbiAgICAgICAgaWYgKHBhZ2VPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihjdXJySW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlT2JqLmJhc2VBc3Npc3RSdW4oYWN0aXZpdHlJZCwgb3V0Q2FsbEJhY2ssIGFjdGlvbk5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9tYW5hZ2VyL2Fic3RyYWN0LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 17 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.query = query;\n//查询接口\nfunction query(tableName, options, callback) {\n    switch (tableName) {\n        case 'page':\n            //得到页面关联的数据\n            return getPageData(options, callback);\n        case 'master':\n            //得到母版关联的数据\n            return getMasterData(options, callback);\n        case 'chapter':\n            //得到chapter表数据\n            return parseChapter(options);\n        case 'scenarioChapter':\n            return scenarioChapter(options);\n    }\n}\n\n/**\r\n * 根据指定的chpaterId解析\r\n * @return {[type]} [description]\r\n */\nfunction scenarioChapter(chapterId) {\n    var chapterSection = Xut.data.chapterSection;\n    var rang = chapterSection['seasonId->' + chapterId];\n    return rang;\n}\n\n/*********************************************************************\r\n *\r\n *               1 解析chapter页面数据\r\n *               2 解析对应的Activity数据\r\n *               3 解析出自动widget数据结构\r\n *                                                         *\r\n **********************************************************************/\nfunction getPageData(data, callback) {\n    var parsePointer = data['pageIndex'],\n        pageData = data['pageData'];\n\n    if (pageData) {\n        getActivity(pageData, callback);\n    } else {\n        //解析章节数据\n        parseChapter(parsePointer, function (pageData) {\n            //生成chapter数据\n            getActivity(pageData.length ? pageData[0] : pageData, callback);\n        });\n    }\n};\n\n//解析关联的Activity表数据\nfunction getActivity(pageData, callback) {\n    parseActivity(pageData, function (activitys, autoData) {\n        callback(pageData, activitys, autoData);\n    });\n}\n\n/**\r\n * 递归分解\r\n * chpater直接对应页面的ID编码，直接去下标即可\r\n * waitCreatePointer     需要分解的页面\r\n */\nfunction parseChapter(waitCreatePointer) {\n    var chapters = [],\n        chapter,\n        dataChpater = Xut.data.Chapter,\n        points = waitCreatePointer.length,\n        key;\n\n    while (points--) {\n        key = waitCreatePointer[points];\n        if (chapter = dataChpater.item(key)) {\n            chapters.unshift(chapter);\n        }\n    }\n\n    return chapters;\n};\n\n/*********************************************************************\r\n *\r\n *                解析视觉差的数据\r\n *                                                         *\r\n **********************************************************************/\nfunction getMasterData(data, callback) {\n    var pptMaster = data['pptMaster'];\n    var masterDas = Xut.data.query('Master', pptMaster);\n    parseActivity(masterDas, function (activitys, autoData) {\n        callback(masterDas, activitys, autoData);\n    });\n}\n\n/*********************************************************************\r\n *                解析activity表的数据\r\n *                                                         *\r\n **********************************************************************/\n/**\r\n * chpaters = {\r\n *     pageIndex-12: Object\r\n *     pageIndex-13: Object\r\n *     pageIndex-14: Object\r\n *  }\r\n **/\nfunction parseActivity(data, callback) {\n    if (!data) callback();\n    var activitys = [];\n    var chapterId = data['_id'];\n\n    Xut.data.query('Activity', chapterId, 'chapterId', function (item) {\n        activitys.push(item);\n    });\n\n    //混入文本提示框\n    mixShowNote(data, activitys);\n\n    //自动运行的数据\n    //解析出每一页自动运行的 Widget,Action,Video数据\n    var autoData = filterAutoRun(activitys);\n\n    callback(activitys, autoData);\n};\n\n/**\r\n * 混入shownote\r\n * 组合showNote数据,弹出信息框,也看作一个热点\r\n * shownote是chater的信息，混入到activity列表中当作每页的对象处理\r\n * @return {[type]} [description]\r\n */\nfunction mixShowNote(onechapter, activitydata) {\n    if (onechapter.note) {\n        activitydata.push(onechapter);\n    }\n};\n\n//解析出页面自动运行的数据\nfunction filterAutoRun(activitys) {\n\n    var collectAutoBuffers, key, id, key, sub;\n\n    if (!activitys || !activitys.length) return;\n\n    collectAutoBuffers = []; //自动热点\n\n    activitys.forEach(function (target, b) {\n        //如果是自动播放,并且满足自定义条件\n        //并且不是content类型\n        if (target.autoPlay && target.actType !== 'Content') {\n            //增加note提示信息数据\n            id = target['_id'];\n            key = target.actType ? target.actType + \"_\" + id : 'showNote_' + id;\n            sub = {\n                'id': id,\n                'type': target.actType,\n                'animation': target.animation,\n                'key': key,\n                'category': target.category,\n                'autoPlay': target.autoPlay\n            };\n            collectAutoBuffers.push(sub);\n        }\n    });\n\n    if (collectAutoBuffers.length) {\n        return collectAutoBuffers;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvcGFyc2VyLmpzPzkwNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFDZ0IsSyxHQUFBLEs7O0FBQVQsU0FBUyxLQUFULENBQWUsU0FBZixFQUEwQixPQUExQixFQUFtQyxRQUFuQyxFQUE2QztBQUNoRCxZQUFRLFNBQVI7QUFDSSxhQUFLLE1BQUw7O0FBRUksbUJBQU8sWUFBWSxPQUFaLEVBQXFCLFFBQXJCLENBQVA7QUFDSixhQUFLLFFBQUw7O0FBRUksbUJBQU8sY0FBYyxPQUFkLEVBQXVCLFFBQXZCLENBQVA7QUFDSixhQUFLLFNBQUw7O0FBRUksbUJBQU8sYUFBYSxPQUFiLENBQVA7QUFDSixhQUFLLGlCQUFMO0FBQ0ksbUJBQU8sZ0JBQWdCLE9BQWhCLENBQVA7QUFYUjtBQWFIOzs7Ozs7QUFNRCxTQUFTLGVBQVQsQ0FBeUIsU0FBekIsRUFBb0M7QUFDaEMsUUFBSSxpQkFBaUIsSUFBSSxJQUFKLENBQVMsY0FBOUI7QUFDQSxRQUFJLE9BQU8sZUFBZSxlQUFlLFNBQTlCLENBQVg7QUFDQSxXQUFPLElBQVA7QUFDSDs7Ozs7Ozs7O0FBVUQsU0FBUyxXQUFULENBQXFCLElBQXJCLEVBQTJCLFFBQTNCLEVBQXFDO0FBQ2pDLFFBQUksZUFBZSxLQUFLLFdBQUwsQ0FBbkI7UUFDSSxXQUFXLEtBQUssVUFBTCxDQURmOztBQUdBLFFBQUksUUFBSixFQUFjO0FBQ1Ysb0JBQVksUUFBWixFQUFzQixRQUF0QjtBQUNILEtBRkQsTUFFTzs7QUFFSCxxQkFBYSxZQUFiLEVBQTJCLFVBQVMsUUFBVCxFQUFtQjs7QUFDMUMsd0JBQVksU0FBUyxNQUFULEdBQWtCLFNBQVMsQ0FBVCxDQUFsQixHQUFnQyxRQUE1QyxFQUFzRCxRQUF0RDtBQUNILFNBRkQ7QUFHSDtBQUNKOzs7QUFHRCxTQUFTLFdBQVQsQ0FBcUIsUUFBckIsRUFBK0IsUUFBL0IsRUFBeUM7QUFDckMsa0JBQWMsUUFBZCxFQUF3QixVQUFTLFNBQVQsRUFBb0IsUUFBcEIsRUFBOEI7QUFDbEQsaUJBQVMsUUFBVCxFQUFtQixTQUFuQixFQUE4QixRQUE5QjtBQUNILEtBRkQ7QUFHSDs7Ozs7OztBQU9ELFNBQVMsWUFBVCxDQUFzQixpQkFBdEIsRUFBeUM7QUFDckMsUUFBSSxXQUFXLEVBQWY7UUFDSSxPQURKO1FBRUksY0FBYyxJQUFJLElBQUosQ0FBUyxPQUYzQjtRQUdJLFNBQVMsa0JBQWtCLE1BSC9CO1FBSUksR0FKSjs7QUFNQSxXQUFPLFFBQVAsRUFBaUI7QUFDYixjQUFNLGtCQUFrQixNQUFsQixDQUFOO0FBQ0EsWUFBSSxVQUFVLFlBQVksSUFBWixDQUFpQixHQUFqQixDQUFkLEVBQXFDO0FBQ2pDLHFCQUFTLE9BQVQsQ0FBaUIsT0FBakI7QUFDSDtBQUNKOztBQUVELFdBQU8sUUFBUDtBQUNIOzs7Ozs7O0FBUUQsU0FBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCLFFBQTdCLEVBQXVDO0FBQ25DLFFBQUksWUFBWSxLQUFLLFdBQUwsQ0FBaEI7QUFDQSxRQUFJLFlBQVksSUFBSSxJQUFKLENBQVMsS0FBVCxDQUFlLFFBQWYsRUFBeUIsU0FBekIsQ0FBaEI7QUFDQSxrQkFBYyxTQUFkLEVBQXlCLFVBQVMsU0FBVCxFQUFvQixRQUFwQixFQUE4QjtBQUNuRCxpQkFBUyxTQUFULEVBQW9CLFNBQXBCLEVBQStCLFFBQS9CO0FBQ0gsS0FGRDtBQUdIOzs7Ozs7Ozs7Ozs7O0FBY0QsU0FBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCLFFBQTdCLEVBQXVDO0FBQ25DLFFBQUksQ0FBQyxJQUFMLEVBQVc7QUFDWCxRQUFJLFlBQVksRUFBaEI7QUFDQSxRQUFJLFlBQVksS0FBSyxLQUFMLENBQWhCOztBQUVBLFFBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxVQUFmLEVBQTJCLFNBQTNCLEVBQXNDLFdBQXRDLEVBQW1ELFVBQVMsSUFBVCxFQUFlO0FBQzlELGtCQUFVLElBQVYsQ0FBZSxJQUFmO0FBQ0gsS0FGRDs7O0FBS0EsZ0JBQVksSUFBWixFQUFrQixTQUFsQjs7OztBQUlBLFFBQUksV0FBVyxjQUFjLFNBQWQsQ0FBZjs7QUFFQSxhQUFTLFNBQVQsRUFBb0IsUUFBcEI7QUFDSDs7Ozs7Ozs7QUFTRCxTQUFTLFdBQVQsQ0FBcUIsVUFBckIsRUFBaUMsWUFBakMsRUFBK0M7QUFDM0MsUUFBSSxXQUFXLElBQWYsRUFBcUI7QUFDakIscUJBQWEsSUFBYixDQUFrQixVQUFsQjtBQUNIO0FBQ0o7OztBQUlELFNBQVMsYUFBVCxDQUF1QixTQUF2QixFQUFrQzs7QUFFOUIsUUFBSSxrQkFBSixFQUF3QixHQUF4QixFQUE2QixFQUE3QixFQUFpQyxHQUFqQyxFQUFzQyxHQUF0Qzs7QUFFQSxRQUFJLENBQUMsU0FBRCxJQUFjLENBQUMsVUFBVSxNQUE3QixFQUFxQzs7QUFFckMseUJBQXFCLEVBQXJCLEM7O0FBRUEsY0FBVSxPQUFWLENBQWtCLFVBQVMsTUFBVCxFQUFpQixDQUFqQixFQUFvQjs7O0FBR2xDLFlBQUksT0FBTyxRQUFQLElBQW1CLE9BQU8sT0FBUCxLQUFtQixTQUExQyxFQUFxRDs7QUFFakQsaUJBQUssT0FBTyxLQUFQLENBQUw7QUFDQSxrQkFBTSxPQUFPLE9BQVAsR0FBaUIsT0FBTyxPQUFQLEdBQWlCLEdBQWpCLEdBQXVCLEVBQXhDLEdBQTZDLGNBQWMsRUFBakU7QUFDQSxrQkFBTTtBQUNGLHNCQUFNLEVBREo7QUFFRix3QkFBUSxPQUFPLE9BRmI7QUFHRiw2QkFBYSxPQUFPLFNBSGxCO0FBSUYsdUJBQU8sR0FKTDtBQUtGLDRCQUFZLE9BQU8sUUFMakI7QUFNRiw0QkFBWSxPQUFPO0FBTmpCLGFBQU47QUFRQSwrQkFBbUIsSUFBbkIsQ0FBd0IsR0FBeEI7QUFDSDtBQUNKLEtBakJEOztBQW1CQSxRQUFJLG1CQUFtQixNQUF2QixFQUErQjtBQUMzQixlQUFPLGtCQUFQO0FBQ0g7QUFDSiIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v5p+l6K+i5o6l5Y+jXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWVyeSh0YWJsZU5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiAgICBzd2l0Y2ggKHRhYmxlTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ3BhZ2UnOlxyXG4gICAgICAgICAgICAvL+W+l+WIsOmhtemdouWFs+iBlOeahOaVsOaNrlxyXG4gICAgICAgICAgICByZXR1cm4gZ2V0UGFnZURhdGEob3B0aW9ucywgY2FsbGJhY2spO1xyXG4gICAgICAgIGNhc2UgJ21hc3Rlcic6XHJcbiAgICAgICAgICAgIC8v5b6X5Yiw5q+N54mI5YWz6IGU55qE5pWw5o2uXHJcbiAgICAgICAgICAgIHJldHVybiBnZXRNYXN0ZXJEYXRhKG9wdGlvbnMsIGNhbGxiYWNrKTtcclxuICAgICAgICBjYXNlICdjaGFwdGVyJzpcclxuICAgICAgICAgICAgLy/lvpfliLBjaGFwdGVy6KGo5pWw5o2uXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUNoYXB0ZXIob3B0aW9ucylcclxuICAgICAgICBjYXNlICdzY2VuYXJpb0NoYXB0ZXInOlxyXG4gICAgICAgICAgICByZXR1cm4gc2NlbmFyaW9DaGFwdGVyKG9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5qC55o2u5oyH5a6a55qEY2hwYXRlcklk6Kej5p6QXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gc2NlbmFyaW9DaGFwdGVyKGNoYXB0ZXJJZCkge1xyXG4gICAgdmFyIGNoYXB0ZXJTZWN0aW9uID0gWHV0LmRhdGEuY2hhcHRlclNlY3Rpb247XHJcbiAgICB2YXIgcmFuZyA9IGNoYXB0ZXJTZWN0aW9uWydzZWFzb25JZC0+JyArIGNoYXB0ZXJJZF07XHJcbiAgICByZXR1cm4gcmFuZztcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICpcclxuICogICAgICAgICAgICAgICAxIOino+aekGNoYXB0ZXLpobXpnaLmlbDmja5cclxuICogICAgICAgICAgICAgICAyIOino+aekOWvueW6lOeahEFjdGl2aXR55pWw5o2uXHJcbiAqICAgICAgICAgICAgICAgMyDop6PmnpDlh7roh6rliqh3aWRnZXTmlbDmja7nu5PmnoRcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBnZXRQYWdlRGF0YShkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHBhcnNlUG9pbnRlciA9IGRhdGFbJ3BhZ2VJbmRleCddLFxyXG4gICAgICAgIHBhZ2VEYXRhID0gZGF0YVsncGFnZURhdGEnXTtcclxuXHJcbiAgICBpZiAocGFnZURhdGEpIHtcclxuICAgICAgICBnZXRBY3Rpdml0eShwYWdlRGF0YSwgY2FsbGJhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+ino+aekOeroOiKguaVsOaNrlxyXG4gICAgICAgIHBhcnNlQ2hhcHRlcihwYXJzZVBvaW50ZXIsIGZ1bmN0aW9uKHBhZ2VEYXRhKSB7IC8v55Sf5oiQY2hhcHRlcuaVsOaNrlxyXG4gICAgICAgICAgICBnZXRBY3Rpdml0eShwYWdlRGF0YS5sZW5ndGggPyBwYWdlRGF0YVswXSA6IHBhZ2VEYXRhLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vL+ino+aekOWFs+iBlOeahEFjdGl2aXR56KGo5pWw5o2uXHJcbmZ1bmN0aW9uIGdldEFjdGl2aXR5KHBhZ2VEYXRhLCBjYWxsYmFjaykge1xyXG4gICAgcGFyc2VBY3Rpdml0eShwYWdlRGF0YSwgZnVuY3Rpb24oYWN0aXZpdHlzLCBhdXRvRGF0YSkge1xyXG4gICAgICAgIGNhbGxiYWNrKHBhZ2VEYXRhLCBhY3Rpdml0eXMsIGF1dG9EYXRhKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog6YCS5b2S5YiG6KejXHJcbiAqIGNocGF0ZXLnm7TmjqXlr7nlupTpobXpnaLnmoRJROe8luegge+8jOebtOaOpeWOu+S4i+agh+WNs+WPr1xyXG4gKiB3YWl0Q3JlYXRlUG9pbnRlciAgICAg6ZyA6KaB5YiG6Kej55qE6aG16Z2iXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZUNoYXB0ZXIod2FpdENyZWF0ZVBvaW50ZXIpIHtcclxuICAgIHZhciBjaGFwdGVycyA9IFtdLFxyXG4gICAgICAgIGNoYXB0ZXIsXHJcbiAgICAgICAgZGF0YUNocGF0ZXIgPSBYdXQuZGF0YS5DaGFwdGVyLFxyXG4gICAgICAgIHBvaW50cyA9IHdhaXRDcmVhdGVQb2ludGVyLmxlbmd0aCxcclxuICAgICAgICBrZXk7XHJcblxyXG4gICAgd2hpbGUgKHBvaW50cy0tKSB7XHJcbiAgICAgICAga2V5ID0gd2FpdENyZWF0ZVBvaW50ZXJbcG9pbnRzXTtcclxuICAgICAgICBpZiAoY2hhcHRlciA9IGRhdGFDaHBhdGVyLml0ZW0oa2V5KSkge1xyXG4gICAgICAgICAgICBjaGFwdGVycy51bnNoaWZ0KGNoYXB0ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2hhcHRlcnM7XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICDop6PmnpDop4bop4nlt67nmoTmlbDmja5cclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBnZXRNYXN0ZXJEYXRhKGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcHB0TWFzdGVyID0gZGF0YVsncHB0TWFzdGVyJ107XHJcbiAgICB2YXIgbWFzdGVyRGFzID0gWHV0LmRhdGEucXVlcnkoJ01hc3RlcicsIHBwdE1hc3RlcilcclxuICAgIHBhcnNlQWN0aXZpdHkobWFzdGVyRGFzLCBmdW5jdGlvbihhY3Rpdml0eXMsIGF1dG9EYXRhKSB7XHJcbiAgICAgICAgY2FsbGJhY2sobWFzdGVyRGFzLCBhY3Rpdml0eXMsIGF1dG9EYXRhKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgICAgICAgICAgICAgICDop6PmnpBhY3Rpdml0eeihqOeahOaVsOaNrlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8qKlxyXG4gKiBjaHBhdGVycyA9IHtcclxuICogICAgIHBhZ2VJbmRleC0xMjogT2JqZWN0XHJcbiAqICAgICBwYWdlSW5kZXgtMTM6IE9iamVjdFxyXG4gKiAgICAgcGFnZUluZGV4LTE0OiBPYmplY3RcclxuICogIH1cclxuICoqL1xyXG5mdW5jdGlvbiBwYXJzZUFjdGl2aXR5KGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIWRhdGEpIGNhbGxiYWNrKCk7XHJcbiAgICB2YXIgYWN0aXZpdHlzID0gW107XHJcbiAgICB2YXIgY2hhcHRlcklkID0gZGF0YVsnX2lkJ107XHJcblxyXG4gICAgWHV0LmRhdGEucXVlcnkoJ0FjdGl2aXR5JywgY2hhcHRlcklkLCAnY2hhcHRlcklkJywgZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgIGFjdGl2aXR5cy5wdXNoKGl0ZW0pO1xyXG4gICAgfSlcclxuXHJcbiAgICAvL+a3t+WFpeaWh+acrOaPkOekuuahhlxyXG4gICAgbWl4U2hvd05vdGUoZGF0YSwgYWN0aXZpdHlzKTtcclxuXHJcbiAgICAvL+iHquWKqOi/kOihjOeahOaVsOaNrlxyXG4gICAgLy/op6PmnpDlh7rmr4/kuIDpobXoh6rliqjov5DooYznmoQgV2lkZ2V0LEFjdGlvbixWaWRlb+aVsOaNrlxyXG4gICAgdmFyIGF1dG9EYXRhID0gZmlsdGVyQXV0b1J1bihhY3Rpdml0eXMpO1xyXG5cclxuICAgIGNhbGxiYWNrKGFjdGl2aXR5cywgYXV0b0RhdGEpO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDmt7flhaVzaG93bm90ZVxyXG4gKiDnu4TlkIhzaG93Tm90ZeaVsOaNrizlvLnlh7rkv6Hmga/moYYs5Lmf55yL5L2c5LiA5Liq54Ot54K5XHJcbiAqIHNob3dub3Rl5pivY2hhdGVy55qE5L+h5oGv77yM5re35YWl5YiwYWN0aXZpdHnliJfooajkuK3lvZPkvZzmr4/pobXnmoTlr7nosaHlpITnkIZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBtaXhTaG93Tm90ZShvbmVjaGFwdGVyLCBhY3Rpdml0eWRhdGEpIHtcclxuICAgIGlmIChvbmVjaGFwdGVyLm5vdGUpIHtcclxuICAgICAgICBhY3Rpdml0eWRhdGEucHVzaChvbmVjaGFwdGVyKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vL+ino+aekOWHuumhtemdouiHquWKqOi/kOihjOeahOaVsOaNrlxyXG5mdW5jdGlvbiBmaWx0ZXJBdXRvUnVuKGFjdGl2aXR5cykge1xyXG5cclxuICAgIHZhciBjb2xsZWN0QXV0b0J1ZmZlcnMsIGtleSwgaWQsIGtleSwgc3ViO1xyXG5cclxuICAgIGlmICghYWN0aXZpdHlzIHx8ICFhY3Rpdml0eXMubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgY29sbGVjdEF1dG9CdWZmZXJzID0gW107IC8v6Ieq5Yqo54Ot54K5XHJcblxyXG4gICAgYWN0aXZpdHlzLmZvckVhY2goZnVuY3Rpb24odGFyZ2V0LCBiKSB7XHJcbiAgICAgICAgLy/lpoLmnpzmmK/oh6rliqjmkq3mlL4s5bm25LiU5ruh6Laz6Ieq5a6a5LmJ5p2h5Lu2XHJcbiAgICAgICAgLy/lubbkuJTkuI3mmK9jb250ZW5057G75Z6LXHJcbiAgICAgICAgaWYgKHRhcmdldC5hdXRvUGxheSAmJiB0YXJnZXQuYWN0VHlwZSAhPT0gJ0NvbnRlbnQnKSB7XHJcbiAgICAgICAgICAgIC8v5aKe5Yqgbm90ZeaPkOekuuS/oeaBr+aVsOaNrlxyXG4gICAgICAgICAgICBpZCA9IHRhcmdldFsnX2lkJ107XHJcbiAgICAgICAgICAgIGtleSA9IHRhcmdldC5hY3RUeXBlID8gdGFyZ2V0LmFjdFR5cGUgKyBcIl9cIiArIGlkIDogJ3Nob3dOb3RlXycgKyBpZDtcclxuICAgICAgICAgICAgc3ViID0ge1xyXG4gICAgICAgICAgICAgICAgJ2lkJzogaWQsXHJcbiAgICAgICAgICAgICAgICAndHlwZSc6IHRhcmdldC5hY3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgJ2FuaW1hdGlvbic6IHRhcmdldC5hbmltYXRpb24sXHJcbiAgICAgICAgICAgICAgICAna2V5Jzoga2V5LFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzogdGFyZ2V0LmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgJ2F1dG9QbGF5JzogdGFyZ2V0LmF1dG9QbGF5XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbGxlY3RBdXRvQnVmZmVycy5wdXNoKHN1Yik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoY29sbGVjdEF1dG9CdWZmZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBjb2xsZWN0QXV0b0J1ZmZlcnM7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL21hbmFnZXIvcGFyc2VyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.constor = undefined;\n\nvar _pagebase = __webpack_require__(76);\n\nvar constor = Xut.extend(_pagebase.PageBase, {\n\tconstructor: function constructor(options) {\n\t\t//多线程处理\n\t\tthis.initTasks(options);\n\t\treturn this;\n\t}\n}); //***********************************************************\n//\n//              构造page类,继承PageBase类\n//\n//**********************************************************\n\nexports.constor = constor;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL2NvbnN0b3IuanM/ODFkNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTUE7O0FBS0EsSUFBSSxVQUFVLElBQUksTUFBSixxQkFBcUI7QUFDbEMsY0FBYSxxQkFBUyxPQUFULEVBQWtCOztBQUU5QixPQUFLLFNBQUwsQ0FBZSxPQUFmO0FBQ0EsU0FBTyxJQUFQO0FBQ0E7QUFMaUMsQ0FBckIsQ0FBZCxDOzs7Ozs7UUFRUSxPLEdBQUEsTyIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy9cclxuLy8gICAgICAgICAgICAgIOaehOmAoHBhZ2Xnsbss57un5om/UGFnZUJhc2XnsbtcclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5pbXBvcnQge1xyXG5cdFBhZ2VCYXNlXHJcbn1cclxuZnJvbSAnLi9wYWdlYmFzZSdcclxuXHJcbmxldCBjb25zdG9yID0gWHV0LmV4dGVuZChQYWdlQmFzZSwge1xyXG5cdGNvbnN0cnVjdG9yOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHQvL+Wkmue6v+eoi+WkhOeQhlxyXG5cdFx0dGhpcy5pbml0VGFza3Mob3B0aW9ucyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn0pXHJcblxyXG5leHBvcnQge2NvbnN0b3J9IFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS9jb25zdG9yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 19 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 场景控制器\r\n * 场景对象之间的顺序处理\r\n * @return {[type]} [description]\r\n */\n\n//场景层级控制\nvar zIndex = 999999;\n\n//去重复标记，可以复用场景\nvar toRepeat = 0;\n\n//场景合集\n//主场景\n//副场景\nvar sceneCollection = {\n    //场景顺序\n    scenarioStack: [],\n    //场景链表\n    scenarioChain: []\n};\n\nvar controll = {\n\n    //场景层级控制\n    createIndex: function createIndex() {\n        return --zIndex;\n    },\n\n    //设置一个新场景\n    add: function add(scenarioId, relevant, sceneObj) {\n        sceneCollection.scenarioStack.push(scenarioId);\n        sceneCollection['scenarioId->' + scenarioId] = sceneObj;\n        //场景链表,拥挤记录场景的加载上一页\n        sceneCollection.scenarioChain.push({\n            'scenarioId': scenarioId,\n            'chapterId': relevant\n        });\n        return sceneObj;\n    },\n\n    //=============== 场景链相关方法 ==========================\n\n    //取出上一个场景链\n    takeOutPrevChainId: function takeOutPrevChainId() {\n        var pre = sceneCollection.scenarioChain.pop();\n        if (sceneCollection.scenarioChain.length > 1) {\n            return sceneCollection.scenarioChain.pop();\n        } else {\n            return sceneCollection.scenarioChain[0];\n        }\n    },\n\n    //检测重复\n    checkToRepeat: function checkToRepeat(seasonId) {\n        var last,\n            len = sceneCollection.scenarioChain.length;\n        if (len > 1) {\n            last = sceneCollection.scenarioChain[len - 2];\n        } else {\n            last = sceneCollection.scenarioChain[len - 1];\n        }\n\n        //往回跳一级\n        if (last['scenarioId'] == seasonId) {\n            this.takeOutPrevChainId();\n        }\n\n        //直接会跳到主场景\n        if (sceneCollection.scenarioStack[0] == seasonId) {\n            var scenarioChain = sceneCollection.scenarioChain.shift();\n            sceneCollection.scenarioChain.length = 0;\n            sceneCollection.scenarioChain.push(scenarioChain);\n        }\n    },\n\n    /**\r\n     * 返回活动对象\r\n     * @return {[type]} [description]\r\n     */\n    containerObj: function containerObj(scenarioId) {\n        if (scenarioId === 'current') {\n            var scenarioStack = sceneCollection.scenarioStack;\n            scenarioId = scenarioStack[scenarioStack.length - 1];\n        }\n        return sceneCollection['scenarioId->' + scenarioId];\n    },\n\n    /**\r\n     * 找到索引位置的Id\r\n     * @param  {[type]} scenarioId [description]\r\n     * @return {[type]}            [description]\r\n     */\n    findIndexOfId: function findIndexOfId(scenarioId) {\n        return sceneCollection.scenarioStack.lastIndexOf(scenarioId);\n    },\n\n    //删除指定场景引用\n    remove: function remove(scenarioId) {\n        var indexOf = this.findIndexOfId(scenarioId);\n        //删除索引\n        sceneCollection.scenarioStack.splice(indexOf, 1);\n        //删除场景对象区域\n        delete sceneCollection['scenarioId->' + scenarioId];\n    },\n\n    //销毁所有场景\n    destroyAllScene: function destroyAllScene() {\n        var cache = _.clone(sceneCollection.scenarioStack);\n        _.each(cache, function (scenarioId) {\n            sceneCollection['scenarioId->' + scenarioId].destroy();\n        });\n        sceneCollection.scenarioChain = [];\n    },\n\n    /**\r\n     * 重写场景的顺序编号\r\n     * 用于记录最后一次跳转的问题\r\n     * @return {[type]} [description]\r\n     */\n    rewrite: function rewrite(scenarioId, chapterId) {\n        _.each(sceneCollection.scenarioChain, function (scenarioChain) {\n            if (scenarioChain.scenarioId == scenarioId) {\n                scenarioChain.chapterId = chapterId;\n            }\n        });\n    },\n\n    //暴露接口\n    expose: function expose() {\n        return sceneCollection;\n    },\n\n    //===============================================\n    //\n    //\t\t\t记录历史缓存\n    //\n    //===============================================\n\n    //解析序列\n    sequence: function sequence(scenarioId, currPageIndex) {\n        var chains = sceneCollection.scenarioChain;\n        //有多个场景关系,需要记录\n        if (chains.length > 1) {\n            var history = [];\n            //只刷新当前场景的页面\n            _.each(chains, function (chain) {\n                if (chain.scenarioId == scenarioId) {\n                    history.push(chain.scenarioId + '-' + chain.chapterId + '-' + currPageIndex);\n                } else {\n                    history.push(chain.scenarioId + '-' + chain.chapterId);\n                }\n            });\n            return history;\n        }\n    },\n\n    //反解析\n    seqReverse: function seqReverse(chains) {\n        var chains = chains.split(\",\");\n        var chainsNum = chains.length;\n\n        if (chainsNum === 1) {\n            return false;\n        }\n\n        //如果只有2层\n        if (chainsNum === 2) {\n            return chains[1];\n        }\n\n        //拼接作用域链\n        //排除首页(已存在)\n        //尾页(新创建)\n        _.each(chains, function (chain, index) {\n            if (index >= 1 && index < chainsNum - 1) {\n                //从1开始吸入,排除最后一个\n                var chain = chain.split('-');\n                sceneCollection.scenarioChain.push({\n                    'scenarioId': chain[0],\n                    'chapterId': chain[1],\n                    'pageIndex': chain[2]\n                });\n            }\n        });\n        return chains[chainsNum - 1];\n    }\n};\n\nXut.sceneController = controll;\n\nexports.controll = controll;\n\n// Xut.test = function() {\n//     console.log('场景对象', Xut.sceneController.containerObj('current')),\n//         console.log('vm对象', Xut.sceneController.containerObj('current').vm),\n//         console.log('页面对象', Xut.sceneController.containerObj('current').vm.$scheduler)\n// }\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjZW5hcmlvL2NvbnRyb2xsZXIuanM/MjhmZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFRQSxJQUFJLFNBQVMsTUFBYjs7O0FBR0EsSUFBSSxXQUFXLENBQWY7Ozs7O0FBS0EsSUFBSSxrQkFBa0I7O0FBRWxCLG1CQUFlLEVBRkc7O0FBSWxCLG1CQUFlO0FBSkcsQ0FBdEI7O0FBT0EsSUFBSSxXQUFXOzs7QUFJWCxpQkFBYSx1QkFBVztBQUNwQixlQUFPLEVBQUUsTUFBVDtBQUNILEtBTlU7OztBQVVYLFNBQUssYUFBUyxVQUFULEVBQXFCLFFBQXJCLEVBQStCLFFBQS9CLEVBQXlDO0FBQzFDLHdCQUFnQixhQUFoQixDQUE4QixJQUE5QixDQUFtQyxVQUFuQztBQUNBLHdCQUFnQixpQkFBaUIsVUFBakMsSUFBK0MsUUFBL0M7O0FBRUEsd0JBQWdCLGFBQWhCLENBQThCLElBQTlCLENBQW1DO0FBQy9CLDBCQUFjLFVBRGlCO0FBRS9CLHlCQUFhO0FBRmtCLFNBQW5DO0FBSUEsZUFBTyxRQUFQO0FBQ0gsS0FuQlU7Ozs7O0FBeUJYLHdCQUFvQiw4QkFBVztBQUMzQixZQUFJLE1BQU0sZ0JBQWdCLGFBQWhCLENBQThCLEdBQTlCLEVBQVY7QUFDQSxZQUFJLGdCQUFnQixhQUFoQixDQUE4QixNQUE5QixHQUF1QyxDQUEzQyxFQUE4QztBQUMxQyxtQkFBTyxnQkFBZ0IsYUFBaEIsQ0FBOEIsR0FBOUIsRUFBUDtBQUNILFNBRkQsTUFFTztBQUNILG1CQUFPLGdCQUFnQixhQUFoQixDQUE4QixDQUE5QixDQUFQO0FBQ0g7QUFDSixLQWhDVTs7O0FBbUNYLG1CQUFlLHVCQUFTLFFBQVQsRUFBbUI7QUFDOUIsWUFBSSxJQUFKO1lBQ0ksTUFBTSxnQkFBZ0IsYUFBaEIsQ0FBOEIsTUFEeEM7QUFFQSxZQUFJLE1BQU0sQ0FBVixFQUFhO0FBQ1QsbUJBQU8sZ0JBQWdCLGFBQWhCLENBQThCLE1BQU0sQ0FB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QWxCLEVBQXFCO0FBQ2pCLG1CQUFPLEtBQVA7QUFDSDs7O0FBR0QsWUFBSSxjQUFjLENBQWxCLEVBQXFCO0FBQ2pCLG1CQUFPLE9BQU8sQ0FBUCxDQUFQO0FBQ0g7Ozs7O0FBS0QsVUFBRSxJQUFGLENBQU8sTUFBUCxFQUFlLFVBQVMsS0FBVCxFQUFnQixLQUFoQixFQUF1QjtBQUNsQyxnQkFBSSxTQUFTLENBQVQsSUFBZSxRQUFRLFlBQVksQ0FBdkMsRUFBMkM7O0FBQ3ZDLG9CQUFJLFFBQVEsTUFBTSxLQUFOLENBQVksR0FBWixDQUFaO0FBQ0EsZ0NBQWdCLGFBQWhCLENBQThCLElBQTlCLENBQW1DO0FBQy9CLGtDQUFjLE1BQU0sQ0FBTixDQURpQjtBQUUvQixpQ0FBYSxNQUFNLENBQU4sQ0FGa0I7QUFHL0IsaUNBQWEsTUFBTSxDQUFOO0FBSGtCLGlCQUFuQztBQUtIO0FBQ0osU0FURDtBQVVBLGVBQU8sT0FBTyxZQUFZLENBQW5CLENBQVA7QUFDSDtBQXpLVSxDQUFmOztBQTRLQSxJQUFJLGVBQUosR0FBc0IsUUFBdEI7O1FBR1EsUSxHQUFBLFEiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Zy65pmv5o6n5Yi25ZmoXHJcbiAqIOWcuuaZr+WvueixoeS5i+mXtOeahOmhuuW6j+WkhOeQhlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG5cclxuLy/lnLrmma/lsYLnuqfmjqfliLZcclxubGV0IHpJbmRleCA9IDk5OTk5OVxyXG5cclxuLy/ljrvph43lpI3moIforrDvvIzlj6/ku6XlpI3nlKjlnLrmma9cclxubGV0IHRvUmVwZWF0ID0gMFxyXG5cclxuLy/lnLrmma/lkIjpm4ZcclxuLy/kuLvlnLrmma9cclxuLy/lia/lnLrmma9cclxubGV0IHNjZW5lQ29sbGVjdGlvbiA9IHtcclxuICAgIC8v5Zy65pmv6aG65bqPXHJcbiAgICBzY2VuYXJpb1N0YWNrOiBbXSxcclxuICAgIC8v5Zy65pmv6ZO+6KGoXHJcbiAgICBzY2VuYXJpb0NoYWluOiBbXVxyXG59XHJcblxyXG52YXIgY29udHJvbGwgPSB7XHJcblxyXG5cclxuICAgIC8v5Zy65pmv5bGC57qn5o6n5Yi2XHJcbiAgICBjcmVhdGVJbmRleDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIC0tekluZGV4O1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy/orr7nva7kuIDkuKrmlrDlnLrmma9cclxuICAgIGFkZDogZnVuY3Rpb24oc2NlbmFyaW9JZCwgcmVsZXZhbnQsIHNjZW5lT2JqKSB7XHJcbiAgICAgICAgc2NlbmVDb2xsZWN0aW9uLnNjZW5hcmlvU3RhY2sucHVzaChzY2VuYXJpb0lkKTtcclxuICAgICAgICBzY2VuZUNvbGxlY3Rpb25bJ3NjZW5hcmlvSWQtPicgKyBzY2VuYXJpb0lkXSA9IHNjZW5lT2JqO1xyXG4gICAgICAgIC8v5Zy65pmv6ZO+6KGoLOaLpeaMpOiusOW9leWcuuaZr+eahOWKoOi9veS4iuS4gOmhtVxyXG4gICAgICAgIHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluLnB1c2goe1xyXG4gICAgICAgICAgICAnc2NlbmFyaW9JZCc6IHNjZW5hcmlvSWQsXHJcbiAgICAgICAgICAgICdjaGFwdGVySWQnOiByZWxldmFudFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHNjZW5lT2JqO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy89PT09PT09PT09PT09PT0g5Zy65pmv6ZO+55u45YWz5pa55rOVID09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLy/lj5blh7rkuIrkuIDkuKrlnLrmma/pk75cclxuICAgIHRha2VPdXRQcmV2Q2hhaW5JZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHByZSA9IHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluLnBvcCgpO1xyXG4gICAgICAgIGlmIChzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5wb3AoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpblswXTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5qOA5rWL6YeN5aSNXHJcbiAgICBjaGVja1RvUmVwZWF0OiBmdW5jdGlvbihzZWFzb25JZCkge1xyXG4gICAgICAgIHZhciBsYXN0LFxyXG4gICAgICAgICAgICBsZW4gPSBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICAgICAgbGFzdCA9IHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluW2xlbiAtIDJdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxhc3QgPSBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbltsZW4gLSAxXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5b6A5Zue6Lez5LiA57qnXHJcbiAgICAgICAgaWYgKGxhc3RbJ3NjZW5hcmlvSWQnXSA9PSBzZWFzb25JZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRha2VPdXRQcmV2Q2hhaW5JZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/nm7TmjqXkvJrot7PliLDkuLvlnLrmma9cclxuICAgICAgICBpZiAoc2NlbmVDb2xsZWN0aW9uLnNjZW5hcmlvU3RhY2tbMF0gPT0gc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgdmFyIHNjZW5hcmlvQ2hhaW4gPSBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5zaGlmdCgpO1xyXG4gICAgICAgICAgICBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5sZW5ndGggPSAwXHJcbiAgICAgICAgICAgIHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluLnB1c2goc2NlbmFyaW9DaGFpbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOi/lOWbnua0u+WKqOWvueixoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5lck9iajogZnVuY3Rpb24oc2NlbmFyaW9JZCkge1xyXG4gICAgICAgIGlmIChzY2VuYXJpb0lkID09PSAnY3VycmVudCcpIHtcclxuICAgICAgICAgICAgdmFyIHNjZW5hcmlvU3RhY2sgPSBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9TdGFjaztcclxuICAgICAgICAgICAgc2NlbmFyaW9JZCA9IHNjZW5hcmlvU3RhY2tbc2NlbmFyaW9TdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjZW5lQ29sbGVjdGlvblsnc2NlbmFyaW9JZC0+JyArIHNjZW5hcmlvSWRdO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmib7liLDntKLlvJXkvY3nva7nmoRJZFxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBzY2VuYXJpb0lkIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZpbmRJbmRleE9mSWQ6IGZ1bmN0aW9uKHNjZW5hcmlvSWQpIHtcclxuICAgICAgICByZXR1cm4gc2NlbmVDb2xsZWN0aW9uLnNjZW5hcmlvU3RhY2subGFzdEluZGV4T2Yoc2NlbmFyaW9JZCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5Yig6Zmk5oyH5a6a5Zy65pmv5byV55SoXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uKHNjZW5hcmlvSWQpIHtcclxuICAgICAgICB2YXIgaW5kZXhPZiA9IHRoaXMuZmluZEluZGV4T2ZJZChzY2VuYXJpb0lkKVxyXG4gICAgICAgICAgICAvL+WIoOmZpOe0ouW8lVxyXG4gICAgICAgIHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb1N0YWNrLnNwbGljZShpbmRleE9mLCAxKVxyXG4gICAgICAgICAgICAvL+WIoOmZpOWcuuaZr+WvueixoeWMuuWfn1xyXG4gICAgICAgIGRlbGV0ZSBzY2VuZUNvbGxlY3Rpb25bJ3NjZW5hcmlvSWQtPicgKyBzY2VuYXJpb0lkXTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/plIDmr4HmiYDmnInlnLrmma9cclxuICAgIGRlc3Ryb3lBbGxTY2VuZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGNhY2hlID0gXy5jbG9uZShzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9TdGFjayk7XHJcbiAgICAgICAgXy5lYWNoKGNhY2hlLCBmdW5jdGlvbihzY2VuYXJpb0lkKSB7XHJcbiAgICAgICAgICAgIHNjZW5lQ29sbGVjdGlvblsnc2NlbmFyaW9JZC0+JyArIHNjZW5hcmlvSWRdLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbiA9IFtdO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmHjeWGmeWcuuaZr+eahOmhuuW6j+e8luWPt1xyXG4gICAgICog55So5LqO6K6w5b2V5pyA5ZCO5LiA5qyh6Lez6L2s55qE6Zeu6aKYXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcmV3cml0ZTogZnVuY3Rpb24oc2NlbmFyaW9JZCwgY2hhcHRlcklkKSB7XHJcbiAgICAgICAgXy5lYWNoKHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluLCBmdW5jdGlvbihzY2VuYXJpb0NoYWluKSB7XHJcbiAgICAgICAgICAgIGlmIChzY2VuYXJpb0NoYWluLnNjZW5hcmlvSWQgPT0gc2NlbmFyaW9JZCkge1xyXG4gICAgICAgICAgICAgICAgc2NlbmFyaW9DaGFpbi5jaGFwdGVySWQgPSBjaGFwdGVySWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8v5pq06Zyy5o6l5Y+jXHJcbiAgICBleHBvc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzY2VuZUNvbGxlY3Rpb247XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvL1xyXG4gICAgLy9cdFx0XHTorrDlvZXljoblj7LnvJPlrZhcclxuICAgIC8vXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLy/op6PmnpDluo/liJdcclxuICAgIHNlcXVlbmNlOiBmdW5jdGlvbihzY2VuYXJpb0lkLCBjdXJyUGFnZUluZGV4KSB7XHJcbiAgICAgICAgdmFyIGNoYWlucyA9IHNjZW5lQ29sbGVjdGlvbi5zY2VuYXJpb0NoYWluO1xyXG4gICAgICAgIC8v5pyJ5aSa5Liq5Zy65pmv5YWz57O7LOmcgOimgeiusOW9lVxyXG4gICAgICAgIGlmIChjaGFpbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB2YXIgaGlzdG9yeSA9IFtdO1xyXG4gICAgICAgICAgICAvL+WPquWIt+aWsOW9k+WJjeWcuuaZr+eahOmhtemdolxyXG4gICAgICAgICAgICBfLmVhY2goY2hhaW5zLCBmdW5jdGlvbihjaGFpbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYWluLnNjZW5hcmlvSWQgPT0gc2NlbmFyaW9JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaChjaGFpbi5zY2VuYXJpb0lkICsgJy0nICsgY2hhaW4uY2hhcHRlcklkICsgJy0nICsgY3VyclBhZ2VJbmRleClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKGNoYWluLnNjZW5hcmlvSWQgKyAnLScgKyBjaGFpbi5jaGFwdGVySWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/lj43op6PmnpBcclxuICAgIHNlcVJldmVyc2U6IGZ1bmN0aW9uKGNoYWlucykge1xyXG4gICAgICAgIHZhciBjaGFpbnMgPSBjaGFpbnMuc3BsaXQoXCIsXCIpXHJcbiAgICAgICAgdmFyIGNoYWluc051bSA9IGNoYWlucy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGlmIChjaGFpbnNOdW0gPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lpoLmnpzlj6rmnIky5bGCXHJcbiAgICAgICAgaWYgKGNoYWluc051bSA9PT0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhaW5zWzFdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mi7zmjqXkvZznlKjln5/pk75cclxuICAgICAgICAvL+aOkumZpOmmlumhtSjlt7LlrZjlnKgpXHJcbiAgICAgICAgLy/lsL7pobUo5paw5Yib5bu6KVxyXG4gICAgICAgIF8uZWFjaChjaGFpbnMsIGZ1bmN0aW9uKGNoYWluLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMSAmJiAoaW5kZXggPCBjaGFpbnNOdW0gLSAxKSkgeyAvL+S7jjHlvIDlp4vlkLjlhaUs5o6S6Zmk5pyA5ZCO5LiA5LiqXHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhaW4gPSBjaGFpbi5zcGxpdCgnLScpXHJcbiAgICAgICAgICAgICAgICBzY2VuZUNvbGxlY3Rpb24uc2NlbmFyaW9DaGFpbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAnc2NlbmFyaW9JZCc6IGNoYWluWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICdjaGFwdGVySWQnOiBjaGFpblsxXSxcclxuICAgICAgICAgICAgICAgICAgICAncGFnZUluZGV4JzogY2hhaW5bMl1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBjaGFpbnNbY2hhaW5zTnVtIC0gMV07XHJcbiAgICB9XHJcbn1cclxuXHJcblh1dC5zY2VuZUNvbnRyb2xsZXIgPSBjb250cm9sbDtcclxuXHJcblxyXG5leHBvcnQge2NvbnRyb2xsfVxyXG5cclxuXHJcbi8vIFh1dC50ZXN0ID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICBjb25zb2xlLmxvZygn5Zy65pmv5a+56LGhJywgWHV0LnNjZW5lQ29udHJvbGxlci5jb250YWluZXJPYmooJ2N1cnJlbnQnKSksXHJcbi8vICAgICAgICAgY29uc29sZS5sb2coJ3Zt5a+56LGhJywgWHV0LnNjZW5lQ29udHJvbGxlci5jb250YWluZXJPYmooJ2N1cnJlbnQnKS52bSksXHJcbi8vICAgICAgICAgY29uc29sZS5sb2coJ+mhtemdouWvueixoScsIFh1dC5zY2VuZUNvbnRyb2xsZXIuY29udGFpbmVyT2JqKCdjdXJyZW50Jykudm0uJHNjaGVkdWxlcilcclxuLy8gfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvc2NlbmFyaW8vY29udHJvbGxlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 20 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.execute = execute;\n/**\r\n * 创建执行方法\r\n * @return {[type]} [description]\r\n */\nfunction createfactory(sql, fn) {\n    var key;\n    if (typeof sql === 'string') {\n        fn(key, sql);\n    } else {\n        for (key in sql) {\n            fn(key, sql[key]);\n        }\n    }\n}\n\n//模拟database获取数据\nfunction executeDB(sql, callback, errorCB, tName) {\n    //如果存在生成好的数据文件则直接取\n    if (window.SQLResult) {\n        if (window.SQLResult[tName]) {\n            var data = window.SQLResult[tName],\n                SQLResultSetRowList = {};\n\n            SQLResultSetRowList = {\n                length: Object.keys(data).length,\n                item: function item(num) {\n                    return data[num];\n                }\n            };\n            callback(SQLResultSetRowList);\n        } else {\n            errorCB({\n                tName: ':table not exist!!'\n            });\n        }\n    } else {\n        //否则分次查询数据\n        $.ajax({\n            url: Xut.config.onlineModeUrl,\n            dataType: 'json',\n            data: {\n                xxtsql: sql\n            },\n            success: function success(rs) {\n                var data = rs,\n                    SQLResultSetRowList = {};\n                SQLResultSetRowList = {\n                    length: rs.length,\n                    item: function item(num) {\n                        return data[num];\n                    }\n                };\n                callback(SQLResultSetRowList);\n            },\n            error: errorCB\n        });\n    }\n}\n\n//建立sql查询,\nfunction execute(selectSql, callback) {\n\n    var database = Xut.config.db,\n        tableName,\n        //表名\n    successResults = {},\n        //成功的数据\n    tempClosure = [],\n        //临时收集器\n    collectError = [],\n        //收集错误查询\n    buildTotal = function () {\n        //如果只有一条\n        if (typeof selectSql === 'string') {\n            return 1;\n        } else {\n            return Object.keys(selectSql).length;\n        }\n    }();\n\n    createfactory(selectSql, function (key, value) {\n        //开始执行查询\n        createSelect(key || 'results', value);\n    });\n\n    /**\r\n     * 创建查询\r\n     */\n    function createSelect(key, value) {\n        buildTotal--;\n        tempClosure.push(executeTemplate(key, value));\n        0 === buildTotal && executeBuild();\n    }\n\n    /**\r\n     * 执行查询\r\n     * @return {[type]} [description]\r\n     */\n    function executeBuild() {\n        if (tempClosure.length) {\n            var temp = tempClosure.shift();\n            tableName = temp.tableName;\n            temp.execute();\n        } else {\n            //successResults['results'] 成功表数据\n            //collectError 失败表\n            callback(successResults['results'] ? successResults['results'] : successResults, collectError);\n        }\n    }\n\n    //成功后方法\n    function success() {\n        executeBuild();\n    }\n\n    //失败\n    function errorCB(error) {\n        collectError.push(tableName);\n        console.log(\"数据查询错误 \" + error.message, '类型', tableName);\n        executeBuild();\n    }\n\n    /**\r\n     * 构建执行作用域\r\n     */\n    function executeTemplate(tName, sql) {\n        return {\n            tableName: tName,\n            execute: function execute() {\n                //查询\n                if (database) {\n                    database.transaction(function (tx) {\n                        tx.executeSql(sql, [], function (tx, result) {\n                            successResults[tName] = result.rows;\n                        });\n                    }, errorCB, success);\n                } else {\n                    executeDB(sql, function (result) {\n                        successResults[tName] = result;\n                        success();\n                    }, errorCB, tName);\n                }\n            }\n        };\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvZXhlY3V0ZS5qcz8wMzMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBMkRnQixPLEdBQUEsTzs7Ozs7QUF2RGhCLFNBQVMsYUFBVCxDQUF1QixHQUF2QixFQUE0QixFQUE1QixFQUFnQztBQUM1QixRQUFJLEdBQUo7QUFDQSxRQUFJLE9BQU8sR0FBUCxLQUFlLFFBQW5CLEVBQTZCO0FBQ3pCLFdBQUcsR0FBSCxFQUFRLEdBQVI7QUFDSCxLQUZELE1BRU87QUFDSCxhQUFLLEdBQUwsSUFBWSxHQUFaLEVBQWlCO0FBQ2IsZUFBRyxHQUFILEVBQVEsSUFBSSxHQUFKLENBQVI7QUFDSDtBQUNKO0FBQ0o7OztBQUdELFNBQVMsU0FBVCxDQUFtQixHQUFuQixFQUF3QixRQUF4QixFQUFrQyxPQUFsQyxFQUEyQyxLQUEzQyxFQUFrRDs7QUFFOUMsUUFBSSxPQUFPLFNBQVgsRUFBc0I7QUFDbEIsWUFBSSxPQUFPLFNBQVAsQ0FBaUIsS0FBakIsQ0FBSixFQUE2QjtBQUN6QixnQkFBSSxPQUFPLE9BQU8sU0FBUCxDQUFpQixLQUFqQixDQUFYO2dCQUNJLHNCQUFzQixFQUQxQjs7QUFHQSxrQ0FBc0I7QUFDbEIsd0JBQVEsT0FBTyxJQUFQLENBQVksSUFBWixFQUFrQixNQURSO0FBRWxCLHNCQUFNLGNBQVMsR0FBVCxFQUFjO0FBQ2hCLDJCQUFPLEtBQUssR0FBTCxDQUFQO0FBQ0g7QUFKaUIsYUFBdEI7QUFNQSxxQkFBUyxtQkFBVDtBQUNILFNBWEQsTUFXTztBQUNILG9CQUFRO0FBQ0osdUJBQU87QUFESCxhQUFSO0FBR0g7QUFDSixLQWpCRCxNQWlCTzs7QUFDSCxVQUFFLElBQUYsQ0FBTztBQUNILGlCQUFLLElBQUksTUFBSixDQUFXLGFBRGI7QUFFSCxzQkFBVSxNQUZQO0FBR0gsa0JBQU07QUFDRix3QkFBUTtBQUROLGFBSEg7QUFNSCxxQkFBUyxpQkFBUyxFQUFULEVBQWE7QUFDbEIsb0JBQUksT0FBTyxFQUFYO29CQUNJLHNCQUFzQixFQUQxQjtBQUVBLHNDQUFzQjtBQUNsQiw0QkFBUSxHQUFHLE1BRE87QUFFbEIsMEJBQU0sY0FBUyxHQUFULEVBQWM7QUFDaEIsK0JBQU8sS0FBSyxHQUFMLENBQVA7QUFDSDtBQUppQixpQkFBdEI7QUFNQSx5QkFBUyxtQkFBVDtBQUNILGFBaEJFO0FBaUJILG1CQUFPO0FBakJKLFNBQVA7QUFtQkg7QUFDSjs7O0FBR00sU0FBUyxPQUFULENBQWlCLFNBQWpCLEVBQTRCLFFBQTVCLEVBQXNDOztBQUV6QyxRQUFJLFdBQVcsSUFBSSxNQUFKLENBQVcsRUFBMUI7UUFDSSxTQURKOztBQUVJLHFCQUFpQixFQUZyQjs7QUFHSSxrQkFBYyxFQUhsQjs7QUFJSSxtQkFBZSxFQUpuQjs7QUFLSSxpQkFBYSxZQUFXOztBQUVwQixZQUFJLE9BQU8sU0FBUCxLQUFxQixRQUF6QixFQUFtQztBQUMvQixtQkFBTyxDQUFQO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsbUJBQU8sT0FBTyxJQUFQLENBQVksU0FBWixFQUF1QixNQUE5QjtBQUNIO0FBQ0osS0FQWSxFQUxqQjs7QUFlQSxrQkFBYyxTQUFkLEVBQXlCLFVBQVMsR0FBVCxFQUFjLEtBQWQsRUFBcUI7O0FBRTFDLHFCQUFhLE9BQU8sU0FBcEIsRUFBK0IsS0FBL0I7QUFDSCxLQUhEOzs7OztBQVNBLGFBQVMsWUFBVCxDQUFzQixHQUF0QixFQUEyQixLQUEzQixFQUFrQztBQUM5QjtBQUNBLG9CQUFZLElBQVosQ0FBaUIsZ0JBQWdCLEdBQWhCLEVBQXFCLEtBQXJCLENBQWpCO0FBQ0EsY0FBTSxVQUFOLElBQW9CLGNBQXBCO0FBQ0g7Ozs7OztBQU9ELGFBQVMsWUFBVCxHQUF3QjtBQUNwQixZQUFJLFlBQVksTUFBaEIsRUFBd0I7QUFDcEIsZ0JBQUksT0FBTyxZQUFZLEtBQVosRUFBWDtBQUNBLHdCQUFZLEtBQUssU0FBakI7QUFDQSxpQkFBSyxPQUFMO0FBQ0gsU0FKRCxNQUlPOzs7QUFHSCxxQkFBUyxlQUFlLFNBQWYsSUFDTCxlQUFlLFNBQWYsQ0FESyxHQUN1QixjQURoQyxFQUNnRCxZQURoRDtBQUVIO0FBQ0o7OztBQUlELGFBQVMsT0FBVCxHQUFtQjtBQUNmO0FBQ0g7OztBQUdELGFBQVMsT0FBVCxDQUFpQixLQUFqQixFQUF3QjtBQUNwQixxQkFBYSxJQUFiLENBQWtCLFNBQWxCO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLFlBQVksTUFBTSxPQUE5QixFQUF1QyxJQUF2QyxFQUE2QyxTQUE3QztBQUNBO0FBQ0g7Ozs7O0FBS0QsYUFBUyxlQUFULENBQXlCLEtBQXpCLEVBQWdDLEdBQWhDLEVBQXFDO0FBQ2pDLGVBQU87QUFDSCx1QkFBVyxLQURSO0FBRUgscUJBQVMsbUJBQVc7O0FBRWhCLG9CQUFJLFFBQUosRUFBYztBQUNWLDZCQUFTLFdBQVQsQ0FBcUIsVUFBUyxFQUFULEVBQWE7QUFDOUIsMkJBQUcsVUFBSCxDQUFjLEdBQWQsRUFBbUIsRUFBbkIsRUFBdUIsVUFBUyxFQUFULEVBQWEsTUFBYixFQUFxQjtBQUN4QywyQ0FBZSxLQUFmLElBQXdCLE9BQU8sSUFBL0I7QUFDSCx5QkFGRDtBQUdILHFCQUpELEVBSUcsT0FKSCxFQUlZLE9BSlo7QUFLSCxpQkFORCxNQU1PO0FBQ0gsOEJBQVUsR0FBVixFQUFlLFVBQVMsTUFBVCxFQUFpQjtBQUM1Qix1Q0FBZSxLQUFmLElBQXdCLE1BQXhCO0FBQ0E7QUFDSCxxQkFIRCxFQUdHLE9BSEgsRUFHWSxLQUhaO0FBSUg7QUFDSjtBQWhCRSxTQUFQO0FBa0JIO0FBRUoiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Yib5bu65omn6KGM5pa55rOVXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlZmFjdG9yeShzcWwsIGZuKSB7XHJcbiAgICB2YXIga2V5O1xyXG4gICAgaWYgKHR5cGVvZiBzcWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZm4oa2V5LCBzcWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGtleSBpbiBzcWwpIHtcclxuICAgICAgICAgICAgZm4oa2V5LCBzcWxba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vL+aooeaLn2RhdGFiYXNl6I635Y+W5pWw5o2uXHJcbmZ1bmN0aW9uIGV4ZWN1dGVEQihzcWwsIGNhbGxiYWNrLCBlcnJvckNCLCB0TmFtZSkge1xyXG4gICAgLy/lpoLmnpzlrZjlnKjnlJ/miJDlpb3nmoTmlbDmja7mlofku7bliJnnm7TmjqXlj5ZcclxuICAgIGlmICh3aW5kb3cuU1FMUmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5TUUxSZXN1bHRbdE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gd2luZG93LlNRTFJlc3VsdFt0TmFtZV0sXHJcbiAgICAgICAgICAgICAgICBTUUxSZXN1bHRTZXRSb3dMaXN0ID0ge307XHJcblxyXG4gICAgICAgICAgICBTUUxSZXN1bHRTZXRSb3dMaXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpdGVtOiBmdW5jdGlvbihudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtudW1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYWxsYmFjayhTUUxSZXN1bHRTZXRSb3dMaXN0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlcnJvckNCKHtcclxuICAgICAgICAgICAgICAgIHROYW1lOiAnOnRhYmxlIG5vdCBleGlzdCEhJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgeyAvL+WQpuWImeWIhuasoeafpeivouaVsOaNrlxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogWHV0LmNvbmZpZy5vbmxpbmVNb2RlVXJsLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB4eHRzcWw6IHNxbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihycykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBycyxcclxuICAgICAgICAgICAgICAgICAgICBTUUxSZXN1bHRTZXRSb3dMaXN0ID0ge307XHJcbiAgICAgICAgICAgICAgICBTUUxSZXN1bHRTZXRSb3dMaXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogcnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKG51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtudW1dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhTUUxSZXN1bHRTZXRSb3dMaXN0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yQ0JcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG4vL+W7uueri3NxbOafpeivoixcclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoc2VsZWN0U3FsLCBjYWxsYmFjaykge1xyXG5cclxuICAgIHZhciBkYXRhYmFzZSA9IFh1dC5jb25maWcuZGIsXHJcbiAgICAgICAgdGFibGVOYW1lLCAvL+ihqOWQjVxyXG4gICAgICAgIHN1Y2Nlc3NSZXN1bHRzID0ge30sIC8v5oiQ5Yqf55qE5pWw5o2uXHJcbiAgICAgICAgdGVtcENsb3N1cmUgPSBbXSwgLy/kuLTml7bmlLbpm4blmahcclxuICAgICAgICBjb2xsZWN0RXJyb3IgPSBbXSwgLy/mlLbpm4bplJnor6/mn6Xor6JcclxuICAgICAgICBidWlsZFRvdGFsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5Y+q5pyJ5LiA5p2hXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0U3FsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc2VsZWN0U3FsKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KCk7XHJcblxyXG5cclxuICAgIGNyZWF0ZWZhY3Rvcnkoc2VsZWN0U3FsLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgLy/lvIDlp4vmiafooYzmn6Xor6JcclxuICAgICAgICBjcmVhdGVTZWxlY3Qoa2V5IHx8ICdyZXN1bHRzJywgdmFsdWUpO1xyXG4gICAgfSlcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rmn6Xor6JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBidWlsZFRvdGFsLS07XHJcbiAgICAgICAgdGVtcENsb3N1cmUucHVzaChleGVjdXRlVGVtcGxhdGUoa2V5LCB2YWx1ZSkpO1xyXG4gICAgICAgIDAgPT09IGJ1aWxkVG90YWwgJiYgZXhlY3V0ZUJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omn6KGM5p+l6K+iXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZXhlY3V0ZUJ1aWxkKCkge1xyXG4gICAgICAgIGlmICh0ZW1wQ2xvc3VyZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXAgPSB0ZW1wQ2xvc3VyZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICB0YWJsZU5hbWUgPSB0ZW1wLnRhYmxlTmFtZTtcclxuICAgICAgICAgICAgdGVtcC5leGVjdXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9zdWNjZXNzUmVzdWx0c1sncmVzdWx0cyddIOaIkOWKn+ihqOaVsOaNrlxyXG4gICAgICAgICAgICAvL2NvbGxlY3RFcnJvciDlpLHotKXooahcclxuICAgICAgICAgICAgY2FsbGJhY2soc3VjY2Vzc1Jlc3VsdHNbJ3Jlc3VsdHMnXSA/XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzUmVzdWx0c1sncmVzdWx0cyddIDogc3VjY2Vzc1Jlc3VsdHMsIGNvbGxlY3RFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+aIkOWKn+WQjuaWueazlVxyXG4gICAgZnVuY3Rpb24gc3VjY2VzcygpIHtcclxuICAgICAgICBleGVjdXRlQnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+Wksei0pVxyXG4gICAgZnVuY3Rpb24gZXJyb3JDQihlcnJvcikge1xyXG4gICAgICAgIGNvbGxlY3RFcnJvci5wdXNoKHRhYmxlTmFtZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLmlbDmja7mn6Xor6LplJnor68gXCIgKyBlcnJvci5tZXNzYWdlLCAn57G75Z6LJywgdGFibGVOYW1lKTtcclxuICAgICAgICBleGVjdXRlQnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaehOW7uuaJp+ihjOS9nOeUqOWfn1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBleGVjdXRlVGVtcGxhdGUodE5hbWUsIHNxbCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRhYmxlTmFtZTogdE5hbWUsXHJcbiAgICAgICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy/mn6Xor6JcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhYmFzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoc3FsLCBbXSwgZnVuY3Rpb24odHgsIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3VsdHNbdE5hbWVdID0gcmVzdWx0LnJvd3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyb3JDQiwgc3VjY2Vzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVEQihzcWwsIGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzUmVzdWx0c1t0TmFtZV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBlcnJvckNCLCB0TmFtZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi91dGlsL2V4ZWN1dGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 21 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 提示信息\r\n * @param  {[type]} require [description]\r\n * @param  {[type]} exports [description]\r\n * @param  {[type]} module  [description]\r\n * @return {[type]}         [description]\r\n */\n\nvar msgBox = void 0;\nvar toolTip = void 0;\nvar config = void 0;\n\n/**\r\n * 显示提示信息\r\n */\nfunction show(opts) {\n\n    var prop = config.proportion,\n        prefix = Xut.plat.prefixStyle,\n        fontsize = (prop.width + prop.height) * 0.5 + 'em',\n        content = opts.content,\n        time = opts.time || 3000,\n        css = {\n        'font-size': fontsize,\n        'background-image': 'url(images/icons/nodeBig.png)',\n        'z-index': 99999,\n        'bottom': '1%',\n        'left': '5%',\n        'padding': '0.2em 0.5em',\n        'color': 'white',\n        'position': 'absolute'\n    };\n\n    if (!toolTip) {\n        toolTip = $('#toolTip');\n        toolTip.css(css);\n        toolTip.css(prefix('border-radius'), '5px');\n    } else {\n        toolTip.empty().show();\n    }\n\n    Xut.nextTick({\n        'container': toolTip,\n        'content': content\n    }, hide);\n}\n\n/**\r\n * [模拟alert提示框]\r\n * @param  {[type]} message [description]\r\n * @return {[type]}         [description]\r\n */\nfunction messageBox(message) {\n\n    config = Xut.config;\n\n    var size = config.screenSize,\n        width = size.width * 0.25,\n        Box = msgBox || $('#message'),\n        html = '<div class=\"messageBox\" style=\"width:' + width + 'px;\">' + '<div class=\"messageTex\" style=\"line-height:2\">' + message + '</div>' + '<div class=\"messageBtn\" style=\"line-height:1.5\">OK</div>' + '</div>';\n\n    //remove the node when user click\n    Box.html(html).show().on(\"touchend mouseup\", function (e) {\n        if (e.target.className === 'messageBtn') {\n            this.innerHTML = '';\n            this.style.display = 'none';\n        }\n    });\n}\n\nfunction hide() {\n    setTimeout(function () {\n        toolTip.hide(1000);\n    }, 1500);\n}\n\nfunction destroy() {\n    msgBox = null;\n}\n\nexports.messageBox = messageBox;\nexports.show = show;\nexports.destroy = destroy;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvbm90aWNlLmpzPzJjYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVNBLElBQUksZUFBSjtBQUNBLElBQUksZ0JBQUo7QUFDQSxJQUFJLGVBQUo7Ozs7O0FBTUEsU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQjs7QUFFaEIsUUFBSSxPQUFPLE9BQU8sVUFBbEI7UUFDSSxTQUFTLElBQUksSUFBSixDQUFTLFdBRHRCO1FBRUksV0FBVyxDQUFDLEtBQUssS0FBTCxHQUFhLEtBQUssTUFBbkIsSUFBNkIsR0FBN0IsR0FBbUMsSUFGbEQ7UUFHSSxVQUFVLEtBQUssT0FIbkI7UUFJSSxPQUFPLEtBQUssSUFBTCxJQUFhLElBSnhCO1FBS0ksTUFBTTtBQUNYLHFCQUFxQixRQURWO0FBRVgsNEJBQXFCLCtCQUZWO0FBR1gsbUJBQXFCLEtBSFY7QUFJWCxrQkFBcUIsSUFKVjtBQUtYLGdCQUFxQixJQUxWO0FBTVgsbUJBQXFCLGFBTlY7QUFPWCxpQkFBcUIsT0FQVjtBQVFYLG9CQUFxQjtBQVJWLEtBTFY7O0FBZ0JBLFFBQUksQ0FBQyxPQUFMLEVBQWM7QUFDVixrQkFBVSxFQUFFLFVBQUYsQ0FBVjtBQUNBLGdCQUFRLEdBQVIsQ0FBWSxHQUFaO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLE9BQU8sZUFBUCxDQUFaLEVBQXFDLEtBQXJDO0FBQ0gsS0FKRCxNQUlPO0FBQ0gsZ0JBQVEsS0FBUixHQUFnQixJQUFoQjtBQUNIOztBQUVELFFBQUksUUFBSixDQUFhO0FBQ1QscUJBQWEsT0FESjtBQUVULG1CQUFXO0FBRkYsS0FBYixFQUdHLElBSEg7QUFJSDs7Ozs7OztBQVFELFNBQVMsVUFBVCxDQUFvQixPQUFwQixFQUE2Qjs7QUFFekIsYUFBUyxJQUFJLE1BQWI7O0FBRUEsUUFBSSxPQUFPLE9BQU8sVUFBbEI7UUFDSSxRQUFRLEtBQUssS0FBTCxHQUFhLElBRHpCO1FBRUksTUFBTSxVQUFVLEVBQUUsVUFBRixDQUZwQjtRQUdJLE9BQU8sMENBQTBDLEtBQTFDLEdBQWtELE9BQWxELEdBQ1AsZ0RBRE8sR0FDNEMsT0FENUMsR0FDc0QsUUFEdEQsR0FFUCwwREFGTyxHQUdQLFFBTko7OztBQVNBLFFBQUksSUFBSixDQUFTLElBQVQsRUFBZSxJQUFmLEdBQXNCLEVBQXRCLENBQXlCLGtCQUF6QixFQUE2QyxVQUFTLENBQVQsRUFBWTtBQUNyRCxZQUFJLEVBQUUsTUFBRixDQUFTLFNBQVQsS0FBdUIsWUFBM0IsRUFBeUM7QUFDckMsaUJBQUssU0FBTCxHQUFpQixFQUFqQjtBQUNBLGlCQUFLLEtBQUwsQ0FBVyxPQUFYLEdBQXFCLE1BQXJCO0FBQ0g7QUFDSixLQUxEO0FBTUg7O0FBR0QsU0FBUyxJQUFULEdBQWdCO0FBQ1osZUFBVyxZQUFXO0FBQ2xCLGdCQUFRLElBQVIsQ0FBYSxJQUFiO0FBQ0gsS0FGRCxFQUVHLElBRkg7QUFHSDs7QUFFRCxTQUFTLE9BQVQsR0FBbUI7QUFDZixhQUFTLElBQVQ7QUFDSDs7UUFHRyxVLEdBQUEsVTtRQUNBLEksR0FBQSxJO1FBQ0EsTyxHQUFBLE8iLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5o+Q56S65L+h5oGvXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gcmVxdWlyZSBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZXhwb3J0cyBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gbW9kdWxlICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuXHJcbmxldCBtc2dCb3hcclxubGV0IHRvb2xUaXBcclxubGV0IGNvbmZpZ1xyXG5cclxuXHJcbi8qKlxyXG4gKiDmmL7npLrmj5DnpLrkv6Hmga9cclxuICovXHJcbmZ1bmN0aW9uIHNob3cob3B0cykge1xyXG5cclxuICAgIHZhciBwcm9wID0gY29uZmlnLnByb3BvcnRpb24sXHJcbiAgICAgICAgcHJlZml4ID0gWHV0LnBsYXQucHJlZml4U3R5bGUsXHJcbiAgICAgICAgZm9udHNpemUgPSAocHJvcC53aWR0aCArIHByb3AuaGVpZ2h0KSAqIDAuNSArICdlbScsXHJcbiAgICAgICAgY29udGVudCA9IG9wdHMuY29udGVudCxcclxuICAgICAgICB0aW1lID0gb3B0cy50aW1lIHx8IDMwMDAsXHJcbiAgICAgICAgY3NzID0ge1xyXG5cdFx0XHQnZm9udC1zaXplJyAgICAgICAgOiBmb250c2l6ZSxcclxuXHRcdFx0J2JhY2tncm91bmQtaW1hZ2UnIDogJ3VybChpbWFnZXMvaWNvbnMvbm9kZUJpZy5wbmcpJyxcclxuXHRcdFx0J3otaW5kZXgnICAgICAgICAgIDogOTk5OTksXHJcblx0XHRcdCdib3R0b20nICAgICAgICAgICA6ICcxJScsXHJcblx0XHRcdCdsZWZ0JyAgICAgICAgICAgICA6ICc1JScsXHJcblx0XHRcdCdwYWRkaW5nJyAgICAgICAgICA6ICcwLjJlbSAwLjVlbScsXHJcblx0XHRcdCdjb2xvcicgICAgICAgICAgICA6ICd3aGl0ZScsXHJcblx0XHRcdCdwb3NpdGlvbicgICAgICAgICA6ICdhYnNvbHV0ZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgIGlmICghdG9vbFRpcCkge1xyXG4gICAgICAgIHRvb2xUaXAgPSAkKCcjdG9vbFRpcCcpO1xyXG4gICAgICAgIHRvb2xUaXAuY3NzKGNzcyk7XHJcbiAgICAgICAgdG9vbFRpcC5jc3MocHJlZml4KCdib3JkZXItcmFkaXVzJyksICc1cHgnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9vbFRpcC5lbXB0eSgpLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICdjb250YWluZXInOiB0b29sVGlwLFxyXG4gICAgICAgICdjb250ZW50JzogY29udGVudFxyXG4gICAgfSwgaGlkZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogW+aooeaLn2FsZXJ05o+Q56S65qGGXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IG1lc3NhZ2UgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gbWVzc2FnZUJveChtZXNzYWdlKSB7XHJcblxyXG4gICAgY29uZmlnID0gWHV0LmNvbmZpZztcclxuXHJcbiAgICB2YXIgc2l6ZSA9IGNvbmZpZy5zY3JlZW5TaXplLFxyXG4gICAgICAgIHdpZHRoID0gc2l6ZS53aWR0aCAqIDAuMjUsXHJcbiAgICAgICAgQm94ID0gbXNnQm94IHx8ICQoJyNtZXNzYWdlJyksXHJcbiAgICAgICAgaHRtbCA9ICc8ZGl2IGNsYXNzPVwibWVzc2FnZUJveFwiIHN0eWxlPVwid2lkdGg6JyArIHdpZHRoICsgJ3B4O1wiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWVzc2FnZVRleFwiIHN0eWxlPVwibGluZS1oZWlnaHQ6MlwiPicgKyBtZXNzYWdlICsgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWVzc2FnZUJ0blwiIHN0eWxlPVwibGluZS1oZWlnaHQ6MS41XCI+T0s8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAvL3JlbW92ZSB0aGUgbm9kZSB3aGVuIHVzZXIgY2xpY2tcclxuICAgIEJveC5odG1sKGh0bWwpLnNob3coKS5vbihcInRvdWNoZW5kIG1vdXNldXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09ICdtZXNzYWdlQnRuJykge1xyXG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0b29sVGlwLmhpZGUoMTAwMClcclxuICAgIH0sIDE1MDApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICBtc2dCb3ggPSBudWxsO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgbWVzc2FnZUJveCxcclxuICAgIHNob3csXHJcbiAgICBkZXN0cm95XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3V0aWwvbm90aWNlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 22 */
/***/ function(module, exports) {

	eval("var ENTITIES = [['Aacute', [193]], ['aacute', [225]], ['Abreve', [258]], ['abreve', [259]], ['ac', [8766]], ['acd', [8767]], ['acE', [8766, 819]], ['Acirc', [194]], ['acirc', [226]], ['acute', [180]], ['Acy', [1040]], ['acy', [1072]], ['AElig', [198]], ['aelig', [230]], ['af', [8289]], ['Afr', [120068]], ['afr', [120094]], ['Agrave', [192]], ['agrave', [224]], ['alefsym', [8501]], ['aleph', [8501]], ['Alpha', [913]], ['alpha', [945]], ['Amacr', [256]], ['amacr', [257]], ['amalg', [10815]], ['amp', [38]], ['AMP', [38]], ['andand', [10837]], ['And', [10835]], ['and', [8743]], ['andd', [10844]], ['andslope', [10840]], ['andv', [10842]], ['ang', [8736]], ['ange', [10660]], ['angle', [8736]], ['angmsdaa', [10664]], ['angmsdab', [10665]], ['angmsdac', [10666]], ['angmsdad', [10667]], ['angmsdae', [10668]], ['angmsdaf', [10669]], ['angmsdag', [10670]], ['angmsdah', [10671]], ['angmsd', [8737]], ['angrt', [8735]], ['angrtvb', [8894]], ['angrtvbd', [10653]], ['angsph', [8738]], ['angst', [197]], ['angzarr', [9084]], ['Aogon', [260]], ['aogon', [261]], ['Aopf', [120120]], ['aopf', [120146]], ['apacir', [10863]], ['ap', [8776]], ['apE', [10864]], ['ape', [8778]], ['apid', [8779]], ['apos', [39]], ['ApplyFunction', [8289]], ['approx', [8776]], ['approxeq', [8778]], ['Aring', [197]], ['aring', [229]], ['Ascr', [119964]], ['ascr', [119990]], ['Assign', [8788]], ['ast', [42]], ['asymp', [8776]], ['asympeq', [8781]], ['Atilde', [195]], ['atilde', [227]], ['Auml', [196]], ['auml', [228]], ['awconint', [8755]], ['awint', [10769]], ['backcong', [8780]], ['backepsilon', [1014]], ['backprime', [8245]], ['backsim', [8765]], ['backsimeq', [8909]], ['Backslash', [8726]], ['Barv', [10983]], ['barvee', [8893]], ['barwed', [8965]], ['Barwed', [8966]], ['barwedge', [8965]], ['bbrk', [9141]], ['bbrktbrk', [9142]], ['bcong', [8780]], ['Bcy', [1041]], ['bcy', [1073]], ['bdquo', [8222]], ['becaus', [8757]], ['because', [8757]], ['Because', [8757]], ['bemptyv', [10672]], ['bepsi', [1014]], ['bernou', [8492]], ['Bernoullis', [8492]], ['Beta', [914]], ['beta', [946]], ['beth', [8502]], ['between', [8812]], ['Bfr', [120069]], ['bfr', [120095]], ['bigcap', [8898]], ['bigcirc', [9711]], ['bigcup', [8899]], ['bigodot', [10752]], ['bigoplus', [10753]], ['bigotimes', [10754]], ['bigsqcup', [10758]], ['bigstar', [9733]], ['bigtriangledown', [9661]], ['bigtriangleup', [9651]], ['biguplus', [10756]], ['bigvee', [8897]], ['bigwedge', [8896]], ['bkarow', [10509]], ['blacklozenge', [10731]], ['blacksquare', [9642]], ['blacktriangle', [9652]], ['blacktriangledown', [9662]], ['blacktriangleleft', [9666]], ['blacktriangleright', [9656]], ['blank', [9251]], ['blk12', [9618]], ['blk14', [9617]], ['blk34', [9619]], ['block', [9608]], ['bne', [61, 8421]], ['bnequiv', [8801, 8421]], ['bNot', [10989]], ['bnot', [8976]], ['Bopf', [120121]], ['bopf', [120147]], ['bot', [8869]], ['bottom', [8869]], ['bowtie', [8904]], ['boxbox', [10697]], ['boxdl', [9488]], ['boxdL', [9557]], ['boxDl', [9558]], ['boxDL', [9559]], ['boxdr', [9484]], ['boxdR', [9554]], ['boxDr', [9555]], ['boxDR', [9556]], ['boxh', [9472]], ['boxH', [9552]], ['boxhd', [9516]], ['boxHd', [9572]], ['boxhD', [9573]], ['boxHD', [9574]], ['boxhu', [9524]], ['boxHu', [9575]], ['boxhU', [9576]], ['boxHU', [9577]], ['boxminus', [8863]], ['boxplus', [8862]], ['boxtimes', [8864]], ['boxul', [9496]], ['boxuL', [9563]], ['boxUl', [9564]], ['boxUL', [9565]], ['boxur', [9492]], ['boxuR', [9560]], ['boxUr', [9561]], ['boxUR', [9562]], ['boxv', [9474]], ['boxV', [9553]], ['boxvh', [9532]], ['boxvH', [9578]], ['boxVh', [9579]], ['boxVH', [9580]], ['boxvl', [9508]], ['boxvL', [9569]], ['boxVl', [9570]], ['boxVL', [9571]], ['boxvr', [9500]], ['boxvR', [9566]], ['boxVr', [9567]], ['boxVR', [9568]], ['bprime', [8245]], ['breve', [728]], ['Breve', [728]], ['brvbar', [166]], ['bscr', [119991]], ['Bscr', [8492]], ['bsemi', [8271]], ['bsim', [8765]], ['bsime', [8909]], ['bsolb', [10693]], ['bsol', [92]], ['bsolhsub', [10184]], ['bull', [8226]], ['bullet', [8226]], ['bump', [8782]], ['bumpE', [10926]], ['bumpe', [8783]], ['Bumpeq', [8782]], ['bumpeq', [8783]], ['Cacute', [262]], ['cacute', [263]], ['capand', [10820]], ['capbrcup', [10825]], ['capcap', [10827]], ['cap', [8745]], ['Cap', [8914]], ['capcup', [10823]], ['capdot', [10816]], ['CapitalDifferentialD', [8517]], ['caps', [8745, 65024]], ['caret', [8257]], ['caron', [711]], ['Cayleys', [8493]], ['ccaps', [10829]], ['Ccaron', [268]], ['ccaron', [269]], ['Ccedil', [199]], ['ccedil', [231]], ['Ccirc', [264]], ['ccirc', [265]], ['Cconint', [8752]], ['ccups', [10828]], ['ccupssm', [10832]], ['Cdot', [266]], ['cdot', [267]], ['cedil', [184]], ['Cedilla', [184]], ['cemptyv', [10674]], ['cent', [162]], ['centerdot', [183]], ['CenterDot', [183]], ['cfr', [120096]], ['Cfr', [8493]], ['CHcy', [1063]], ['chcy', [1095]], ['check', [10003]], ['checkmark', [10003]], ['Chi', [935]], ['chi', [967]], ['circ', [710]], ['circeq', [8791]], ['circlearrowleft', [8634]], ['circlearrowright', [8635]], ['circledast', [8859]], ['circledcirc', [8858]], ['circleddash', [8861]], ['CircleDot', [8857]], ['circledR', [174]], ['circledS', [9416]], ['CircleMinus', [8854]], ['CirclePlus', [8853]], ['CircleTimes', [8855]], ['cir', [9675]], ['cirE', [10691]], ['cire', [8791]], ['cirfnint', [10768]], ['cirmid', [10991]], ['cirscir', [10690]], ['ClockwiseContourIntegral', [8754]], ['CloseCurlyDoubleQuote', [8221]], ['CloseCurlyQuote', [8217]], ['clubs', [9827]], ['clubsuit', [9827]], ['colon', [58]], ['Colon', [8759]], ['Colone', [10868]], ['colone', [8788]], ['coloneq', [8788]], ['comma', [44]], ['commat', [64]], ['comp', [8705]], ['compfn', [8728]], ['complement', [8705]], ['complexes', [8450]], ['cong', [8773]], ['congdot', [10861]], ['Congruent', [8801]], ['conint', [8750]], ['Conint', [8751]], ['ContourIntegral', [8750]], ['copf', [120148]], ['Copf', [8450]], ['coprod', [8720]], ['Coproduct', [8720]], ['copy', [169]], ['COPY', [169]], ['copysr', [8471]], ['CounterClockwiseContourIntegral', [8755]], ['crarr', [8629]], ['cross', [10007]], ['Cross', [10799]], ['Cscr', [119966]], ['cscr', [119992]], ['csub', [10959]], ['csube', [10961]], ['csup', [10960]], ['csupe', [10962]], ['ctdot', [8943]], ['cudarrl', [10552]], ['cudarrr', [10549]], ['cuepr', [8926]], ['cuesc', [8927]], ['cularr', [8630]], ['cularrp', [10557]], ['cupbrcap', [10824]], ['cupcap', [10822]], ['CupCap', [8781]], ['cup', [8746]], ['Cup', [8915]], ['cupcup', [10826]], ['cupdot', [8845]], ['cupor', [10821]], ['cups', [8746, 65024]], ['curarr', [8631]], ['curarrm', [10556]], ['curlyeqprec', [8926]], ['curlyeqsucc', [8927]], ['curlyvee', [8910]], ['curlywedge', [8911]], ['curren', [164]], ['curvearrowleft', [8630]], ['curvearrowright', [8631]], ['cuvee', [8910]], ['cuwed', [8911]], ['cwconint', [8754]], ['cwint', [8753]], ['cylcty', [9005]], ['dagger', [8224]], ['Dagger', [8225]], ['daleth', [8504]], ['darr', [8595]], ['Darr', [8609]], ['dArr', [8659]], ['dash', [8208]], ['Dashv', [10980]], ['dashv', [8867]], ['dbkarow', [10511]], ['dblac', [733]], ['Dcaron', [270]], ['dcaron', [271]], ['Dcy', [1044]], ['dcy', [1076]], ['ddagger', [8225]], ['ddarr', [8650]], ['DD', [8517]], ['dd', [8518]], ['DDotrahd', [10513]], ['ddotseq', [10871]], ['deg', [176]], ['Del', [8711]], ['Delta', [916]], ['delta', [948]], ['demptyv', [10673]], ['dfisht', [10623]], ['Dfr', [120071]], ['dfr', [120097]], ['dHar', [10597]], ['dharl', [8643]], ['dharr', [8642]], ['DiacriticalAcute', [180]], ['DiacriticalDot', [729]], ['DiacriticalDoubleAcute', [733]], ['DiacriticalGrave', [96]], ['DiacriticalTilde', [732]], ['diam', [8900]], ['diamond', [8900]], ['Diamond', [8900]], ['diamondsuit', [9830]], ['diams', [9830]], ['die', [168]], ['DifferentialD', [8518]], ['digamma', [989]], ['disin', [8946]], ['div', [247]], ['divide', [247]], ['divideontimes', [8903]], ['divonx', [8903]], ['DJcy', [1026]], ['djcy', [1106]], ['dlcorn', [8990]], ['dlcrop', [8973]], ['dollar', [36]], ['Dopf', [120123]], ['dopf', [120149]], ['Dot', [168]], ['dot', [729]], ['DotDot', [8412]], ['doteq', [8784]], ['doteqdot', [8785]], ['DotEqual', [8784]], ['dotminus', [8760]], ['dotplus', [8724]], ['dotsquare', [8865]], ['doublebarwedge', [8966]], ['DoubleContourIntegral', [8751]], ['DoubleDot', [168]], ['DoubleDownArrow', [8659]], ['DoubleLeftArrow', [8656]], ['DoubleLeftRightArrow', [8660]], ['DoubleLeftTee', [10980]], ['DoubleLongLeftArrow', [10232]], ['DoubleLongLeftRightArrow', [10234]], ['DoubleLongRightArrow', [10233]], ['DoubleRightArrow', [8658]], ['DoubleRightTee', [8872]], ['DoubleUpArrow', [8657]], ['DoubleUpDownArrow', [8661]], ['DoubleVerticalBar', [8741]], ['DownArrowBar', [10515]], ['downarrow', [8595]], ['DownArrow', [8595]], ['Downarrow', [8659]], ['DownArrowUpArrow', [8693]], ['DownBreve', [785]], ['downdownarrows', [8650]], ['downharpoonleft', [8643]], ['downharpoonright', [8642]], ['DownLeftRightVector', [10576]], ['DownLeftTeeVector', [10590]], ['DownLeftVectorBar', [10582]], ['DownLeftVector', [8637]], ['DownRightTeeVector', [10591]], ['DownRightVectorBar', [10583]], ['DownRightVector', [8641]], ['DownTeeArrow', [8615]], ['DownTee', [8868]], ['drbkarow', [10512]], ['drcorn', [8991]], ['drcrop', [8972]], ['Dscr', [119967]], ['dscr', [119993]], ['DScy', [1029]], ['dscy', [1109]], ['dsol', [10742]], ['Dstrok', [272]], ['dstrok', [273]], ['dtdot', [8945]], ['dtri', [9663]], ['dtrif', [9662]], ['duarr', [8693]], ['duhar', [10607]], ['dwangle', [10662]], ['DZcy', [1039]], ['dzcy', [1119]], ['dzigrarr', [10239]], ['Eacute', [201]], ['eacute', [233]], ['easter', [10862]], ['Ecaron', [282]], ['ecaron', [283]], ['Ecirc', [202]], ['ecirc', [234]], ['ecir', [8790]], ['ecolon', [8789]], ['Ecy', [1069]], ['ecy', [1101]], ['eDDot', [10871]], ['Edot', [278]], ['edot', [279]], ['eDot', [8785]], ['ee', [8519]], ['efDot', [8786]], ['Efr', [120072]], ['efr', [120098]], ['eg', [10906]], ['Egrave', [200]], ['egrave', [232]], ['egs', [10902]], ['egsdot', [10904]], ['el', [10905]], ['Element', [8712]], ['elinters', [9191]], ['ell', [8467]], ['els', [10901]], ['elsdot', [10903]], ['Emacr', [274]], ['emacr', [275]], ['empty', [8709]], ['emptyset', [8709]], ['EmptySmallSquare', [9723]], ['emptyv', [8709]], ['EmptyVerySmallSquare', [9643]], ['emsp13', [8196]], ['emsp14', [8197]], ['emsp', [8195]], ['ENG', [330]], ['eng', [331]], ['ensp', [8194]], ['Eogon', [280]], ['eogon', [281]], ['Eopf', [120124]], ['eopf', [120150]], ['epar', [8917]], ['eparsl', [10723]], ['eplus', [10865]], ['epsi', [949]], ['Epsilon', [917]], ['epsilon', [949]], ['epsiv', [1013]], ['eqcirc', [8790]], ['eqcolon', [8789]], ['eqsim', [8770]], ['eqslantgtr', [10902]], ['eqslantless', [10901]], ['Equal', [10869]], ['equals', [61]], ['EqualTilde', [8770]], ['equest', [8799]], ['Equilibrium', [8652]], ['equiv', [8801]], ['equivDD', [10872]], ['eqvparsl', [10725]], ['erarr', [10609]], ['erDot', [8787]], ['escr', [8495]], ['Escr', [8496]], ['esdot', [8784]], ['Esim', [10867]], ['esim', [8770]], ['Eta', [919]], ['eta', [951]], ['ETH', [208]], ['eth', [240]], ['Euml', [203]], ['euml', [235]], ['euro', [8364]], ['excl', [33]], ['exist', [8707]], ['Exists', [8707]], ['expectation', [8496]], ['exponentiale', [8519]], ['ExponentialE', [8519]], ['fallingdotseq', [8786]], ['Fcy', [1060]], ['fcy', [1092]], ['female', [9792]], ['ffilig', [64259]], ['fflig', [64256]], ['ffllig', [64260]], ['Ffr', [120073]], ['ffr', [120099]], ['filig', [64257]], ['FilledSmallSquare', [9724]], ['FilledVerySmallSquare', [9642]], ['fjlig', [102, 106]], ['flat', [9837]], ['fllig', [64258]], ['fltns', [9649]], ['fnof', [402]], ['Fopf', [120125]], ['fopf', [120151]], ['forall', [8704]], ['ForAll', [8704]], ['fork', [8916]], ['forkv', [10969]], ['Fouriertrf', [8497]], ['fpartint', [10765]], ['frac12', [189]], ['frac13', [8531]], ['frac14', [188]], ['frac15', [8533]], ['frac16', [8537]], ['frac18', [8539]], ['frac23', [8532]], ['frac25', [8534]], ['frac34', [190]], ['frac35', [8535]], ['frac38', [8540]], ['frac45', [8536]], ['frac56', [8538]], ['frac58', [8541]], ['frac78', [8542]], ['frasl', [8260]], ['frown', [8994]], ['fscr', [119995]], ['Fscr', [8497]], ['gacute', [501]], ['Gamma', [915]], ['gamma', [947]], ['Gammad', [988]], ['gammad', [989]], ['gap', [10886]], ['Gbreve', [286]], ['gbreve', [287]], ['Gcedil', [290]], ['Gcirc', [284]], ['gcirc', [285]], ['Gcy', [1043]], ['gcy', [1075]], ['Gdot', [288]], ['gdot', [289]], ['ge', [8805]], ['gE', [8807]], ['gEl', [10892]], ['gel', [8923]], ['geq', [8805]], ['geqq', [8807]], ['geqslant', [10878]], ['gescc', [10921]], ['ges', [10878]], ['gesdot', [10880]], ['gesdoto', [10882]], ['gesdotol', [10884]], ['gesl', [8923, 65024]], ['gesles', [10900]], ['Gfr', [120074]], ['gfr', [120100]], ['gg', [8811]], ['Gg', [8921]], ['ggg', [8921]], ['gimel', [8503]], ['GJcy', [1027]], ['gjcy', [1107]], ['gla', [10917]], ['gl', [8823]], ['glE', [10898]], ['glj', [10916]], ['gnap', [10890]], ['gnapprox', [10890]], ['gne', [10888]], ['gnE', [8809]], ['gneq', [10888]], ['gneqq', [8809]], ['gnsim', [8935]], ['Gopf', [120126]], ['gopf', [120152]], ['grave', [96]], ['GreaterEqual', [8805]], ['GreaterEqualLess', [8923]], ['GreaterFullEqual', [8807]], ['GreaterGreater', [10914]], ['GreaterLess', [8823]], ['GreaterSlantEqual', [10878]], ['GreaterTilde', [8819]], ['Gscr', [119970]], ['gscr', [8458]], ['gsim', [8819]], ['gsime', [10894]], ['gsiml', [10896]], ['gtcc', [10919]], ['gtcir', [10874]], ['gt', [62]], ['GT', [62]], ['Gt', [8811]], ['gtdot', [8919]], ['gtlPar', [10645]], ['gtquest', [10876]], ['gtrapprox', [10886]], ['gtrarr', [10616]], ['gtrdot', [8919]], ['gtreqless', [8923]], ['gtreqqless', [10892]], ['gtrless', [8823]], ['gtrsim', [8819]], ['gvertneqq', [8809, 65024]], ['gvnE', [8809, 65024]], ['Hacek', [711]], ['hairsp', [8202]], ['half', [189]], ['hamilt', [8459]], ['HARDcy', [1066]], ['hardcy', [1098]], ['harrcir', [10568]], ['harr', [8596]], ['hArr', [8660]], ['harrw', [8621]], ['Hat', [94]], ['hbar', [8463]], ['Hcirc', [292]], ['hcirc', [293]], ['hearts', [9829]], ['heartsuit', [9829]], ['hellip', [8230]], ['hercon', [8889]], ['hfr', [120101]], ['Hfr', [8460]], ['HilbertSpace', [8459]], ['hksearow', [10533]], ['hkswarow', [10534]], ['hoarr', [8703]], ['homtht', [8763]], ['hookleftarrow', [8617]], ['hookrightarrow', [8618]], ['hopf', [120153]], ['Hopf', [8461]], ['horbar', [8213]], ['HorizontalLine', [9472]], ['hscr', [119997]], ['Hscr', [8459]], ['hslash', [8463]], ['Hstrok', [294]], ['hstrok', [295]], ['HumpDownHump', [8782]], ['HumpEqual', [8783]], ['hybull', [8259]], ['hyphen', [8208]], ['Iacute', [205]], ['iacute', [237]], ['ic', [8291]], ['Icirc', [206]], ['icirc', [238]], ['Icy', [1048]], ['icy', [1080]], ['Idot', [304]], ['IEcy', [1045]], ['iecy', [1077]], ['iexcl', [161]], ['iff', [8660]], ['ifr', [120102]], ['Ifr', [8465]], ['Igrave', [204]], ['igrave', [236]], ['ii', [8520]], ['iiiint', [10764]], ['iiint', [8749]], ['iinfin', [10716]], ['iiota', [8489]], ['IJlig', [306]], ['ijlig', [307]], ['Imacr', [298]], ['imacr', [299]], ['image', [8465]], ['ImaginaryI', [8520]], ['imagline', [8464]], ['imagpart', [8465]], ['imath', [305]], ['Im', [8465]], ['imof', [8887]], ['imped', [437]], ['Implies', [8658]], ['incare', [8453]], ['in', [8712]], ['infin', [8734]], ['infintie', [10717]], ['inodot', [305]], ['intcal', [8890]], ['int', [8747]], ['Int', [8748]], ['integers', [8484]], ['Integral', [8747]], ['intercal', [8890]], ['Intersection', [8898]], ['intlarhk', [10775]], ['intprod', [10812]], ['InvisibleComma', [8291]], ['InvisibleTimes', [8290]], ['IOcy', [1025]], ['iocy', [1105]], ['Iogon', [302]], ['iogon', [303]], ['Iopf', [120128]], ['iopf', [120154]], ['Iota', [921]], ['iota', [953]], ['iprod', [10812]], ['iquest', [191]], ['iscr', [119998]], ['Iscr', [8464]], ['isin', [8712]], ['isindot', [8949]], ['isinE', [8953]], ['isins', [8948]], ['isinsv', [8947]], ['isinv', [8712]], ['it', [8290]], ['Itilde', [296]], ['itilde', [297]], ['Iukcy', [1030]], ['iukcy', [1110]], ['Iuml', [207]], ['iuml', [239]], ['Jcirc', [308]], ['jcirc', [309]], ['Jcy', [1049]], ['jcy', [1081]], ['Jfr', [120077]], ['jfr', [120103]], ['jmath', [567]], ['Jopf', [120129]], ['jopf', [120155]], ['Jscr', [119973]], ['jscr', [119999]], ['Jsercy', [1032]], ['jsercy', [1112]], ['Jukcy', [1028]], ['jukcy', [1108]], ['Kappa', [922]], ['kappa', [954]], ['kappav', [1008]], ['Kcedil', [310]], ['kcedil', [311]], ['Kcy', [1050]], ['kcy', [1082]], ['Kfr', [120078]], ['kfr', [120104]], ['kgreen', [312]], ['KHcy', [1061]], ['khcy', [1093]], ['KJcy', [1036]], ['kjcy', [1116]], ['Kopf', [120130]], ['kopf', [120156]], ['Kscr', [119974]], ['kscr', [120000]], ['lAarr', [8666]], ['Lacute', [313]], ['lacute', [314]], ['laemptyv', [10676]], ['lagran', [8466]], ['Lambda', [923]], ['lambda', [955]], ['lang', [10216]], ['Lang', [10218]], ['langd', [10641]], ['langle', [10216]], ['lap', [10885]], ['Laplacetrf', [8466]], ['laquo', [171]], ['larrb', [8676]], ['larrbfs', [10527]], ['larr', [8592]], ['Larr', [8606]], ['lArr', [8656]], ['larrfs', [10525]], ['larrhk', [8617]], ['larrlp', [8619]], ['larrpl', [10553]], ['larrsim', [10611]], ['larrtl', [8610]], ['latail', [10521]], ['lAtail', [10523]], ['lat', [10923]], ['late', [10925]], ['lates', [10925, 65024]], ['lbarr', [10508]], ['lBarr', [10510]], ['lbbrk', [10098]], ['lbrace', [123]], ['lbrack', [91]], ['lbrke', [10635]], ['lbrksld', [10639]], ['lbrkslu', [10637]], ['Lcaron', [317]], ['lcaron', [318]], ['Lcedil', [315]], ['lcedil', [316]], ['lceil', [8968]], ['lcub', [123]], ['Lcy', [1051]], ['lcy', [1083]], ['ldca', [10550]], ['ldquo', [8220]], ['ldquor', [8222]], ['ldrdhar', [10599]], ['ldrushar', [10571]], ['ldsh', [8626]], ['le', [8804]], ['lE', [8806]], ['LeftAngleBracket', [10216]], ['LeftArrowBar', [8676]], ['leftarrow', [8592]], ['LeftArrow', [8592]], ['Leftarrow', [8656]], ['LeftArrowRightArrow', [8646]], ['leftarrowtail', [8610]], ['LeftCeiling', [8968]], ['LeftDoubleBracket', [10214]], ['LeftDownTeeVector', [10593]], ['LeftDownVectorBar', [10585]], ['LeftDownVector', [8643]], ['LeftFloor', [8970]], ['leftharpoondown', [8637]], ['leftharpoonup', [8636]], ['leftleftarrows', [8647]], ['leftrightarrow', [8596]], ['LeftRightArrow', [8596]], ['Leftrightarrow', [8660]], ['leftrightarrows', [8646]], ['leftrightharpoons', [8651]], ['leftrightsquigarrow', [8621]], ['LeftRightVector', [10574]], ['LeftTeeArrow', [8612]], ['LeftTee', [8867]], ['LeftTeeVector', [10586]], ['leftthreetimes', [8907]], ['LeftTriangleBar', [10703]], ['LeftTriangle', [8882]], ['LeftTriangleEqual', [8884]], ['LeftUpDownVector', [10577]], ['LeftUpTeeVector', [10592]], ['LeftUpVectorBar', [10584]], ['LeftUpVector', [8639]], ['LeftVectorBar', [10578]], ['LeftVector', [8636]], ['lEg', [10891]], ['leg', [8922]], ['leq', [8804]], ['leqq', [8806]], ['leqslant', [10877]], ['lescc', [10920]], ['les', [10877]], ['lesdot', [10879]], ['lesdoto', [10881]], ['lesdotor', [10883]], ['lesg', [8922, 65024]], ['lesges', [10899]], ['lessapprox', [10885]], ['lessdot', [8918]], ['lesseqgtr', [8922]], ['lesseqqgtr', [10891]], ['LessEqualGreater', [8922]], ['LessFullEqual', [8806]], ['LessGreater', [8822]], ['lessgtr', [8822]], ['LessLess', [10913]], ['lesssim', [8818]], ['LessSlantEqual', [10877]], ['LessTilde', [8818]], ['lfisht', [10620]], ['lfloor', [8970]], ['Lfr', [120079]], ['lfr', [120105]], ['lg', [8822]], ['lgE', [10897]], ['lHar', [10594]], ['lhard', [8637]], ['lharu', [8636]], ['lharul', [10602]], ['lhblk', [9604]], ['LJcy', [1033]], ['ljcy', [1113]], ['llarr', [8647]], ['ll', [8810]], ['Ll', [8920]], ['llcorner', [8990]], ['Lleftarrow', [8666]], ['llhard', [10603]], ['lltri', [9722]], ['Lmidot', [319]], ['lmidot', [320]], ['lmoustache', [9136]], ['lmoust', [9136]], ['lnap', [10889]], ['lnapprox', [10889]], ['lne', [10887]], ['lnE', [8808]], ['lneq', [10887]], ['lneqq', [8808]], ['lnsim', [8934]], ['loang', [10220]], ['loarr', [8701]], ['lobrk', [10214]], ['longleftarrow', [10229]], ['LongLeftArrow', [10229]], ['Longleftarrow', [10232]], ['longleftrightarrow', [10231]], ['LongLeftRightArrow', [10231]], ['Longleftrightarrow', [10234]], ['longmapsto', [10236]], ['longrightarrow', [10230]], ['LongRightArrow', [10230]], ['Longrightarrow', [10233]], ['looparrowleft', [8619]], ['looparrowright', [8620]], ['lopar', [10629]], ['Lopf', [120131]], ['lopf', [120157]], ['loplus', [10797]], ['lotimes', [10804]], ['lowast', [8727]], ['lowbar', [95]], ['LowerLeftArrow', [8601]], ['LowerRightArrow', [8600]], ['loz', [9674]], ['lozenge', [9674]], ['lozf', [10731]], ['lpar', [40]], ['lparlt', [10643]], ['lrarr', [8646]], ['lrcorner', [8991]], ['lrhar', [8651]], ['lrhard', [10605]], ['lrm', [8206]], ['lrtri', [8895]], ['lsaquo', [8249]], ['lscr', [120001]], ['Lscr', [8466]], ['lsh', [8624]], ['Lsh', [8624]], ['lsim', [8818]], ['lsime', [10893]], ['lsimg', [10895]], ['lsqb', [91]], ['lsquo', [8216]], ['lsquor', [8218]], ['Lstrok', [321]], ['lstrok', [322]], ['ltcc', [10918]], ['ltcir', [10873]], ['lt', [60]], ['LT', [60]], ['Lt', [8810]], ['ltdot', [8918]], ['lthree', [8907]], ['ltimes', [8905]], ['ltlarr', [10614]], ['ltquest', [10875]], ['ltri', [9667]], ['ltrie', [8884]], ['ltrif', [9666]], ['ltrPar', [10646]], ['lurdshar', [10570]], ['luruhar', [10598]], ['lvertneqq', [8808, 65024]], ['lvnE', [8808, 65024]], ['macr', [175]], ['male', [9794]], ['malt', [10016]], ['maltese', [10016]], ['Map', [10501]], ['map', [8614]], ['mapsto', [8614]], ['mapstodown', [8615]], ['mapstoleft', [8612]], ['mapstoup', [8613]], ['marker', [9646]], ['mcomma', [10793]], ['Mcy', [1052]], ['mcy', [1084]], ['mdash', [8212]], ['mDDot', [8762]], ['measuredangle', [8737]], ['MediumSpace', [8287]], ['Mellintrf', [8499]], ['Mfr', [120080]], ['mfr', [120106]], ['mho', [8487]], ['micro', [181]], ['midast', [42]], ['midcir', [10992]], ['mid', [8739]], ['middot', [183]], ['minusb', [8863]], ['minus', [8722]], ['minusd', [8760]], ['minusdu', [10794]], ['MinusPlus', [8723]], ['mlcp', [10971]], ['mldr', [8230]], ['mnplus', [8723]], ['models', [8871]], ['Mopf', [120132]], ['mopf', [120158]], ['mp', [8723]], ['mscr', [120002]], ['Mscr', [8499]], ['mstpos', [8766]], ['Mu', [924]], ['mu', [956]], ['multimap', [8888]], ['mumap', [8888]], ['nabla', [8711]], ['Nacute', [323]], ['nacute', [324]], ['nang', [8736, 8402]], ['nap', [8777]], ['napE', [10864, 824]], ['napid', [8779, 824]], ['napos', [329]], ['napprox', [8777]], ['natural', [9838]], ['naturals', [8469]], ['natur', [9838]], ['nbsp', [160]], ['nbump', [8782, 824]], ['nbumpe', [8783, 824]], ['ncap', [10819]], ['Ncaron', [327]], ['ncaron', [328]], ['Ncedil', [325]], ['ncedil', [326]], ['ncong', [8775]], ['ncongdot', [10861, 824]], ['ncup', [10818]], ['Ncy', [1053]], ['ncy', [1085]], ['ndash', [8211]], ['nearhk', [10532]], ['nearr', [8599]], ['neArr', [8663]], ['nearrow', [8599]], ['ne', [8800]], ['nedot', [8784, 824]], ['NegativeMediumSpace', [8203]], ['NegativeThickSpace', [8203]], ['NegativeThinSpace', [8203]], ['NegativeVeryThinSpace', [8203]], ['nequiv', [8802]], ['nesear', [10536]], ['nesim', [8770, 824]], ['NestedGreaterGreater', [8811]], ['NestedLessLess', [8810]], ['nexist', [8708]], ['nexists', [8708]], ['Nfr', [120081]], ['nfr', [120107]], ['ngE', [8807, 824]], ['nge', [8817]], ['ngeq', [8817]], ['ngeqq', [8807, 824]], ['ngeqslant', [10878, 824]], ['nges', [10878, 824]], ['nGg', [8921, 824]], ['ngsim', [8821]], ['nGt', [8811, 8402]], ['ngt', [8815]], ['ngtr', [8815]], ['nGtv', [8811, 824]], ['nharr', [8622]], ['nhArr', [8654]], ['nhpar', [10994]], ['ni', [8715]], ['nis', [8956]], ['nisd', [8954]], ['niv', [8715]], ['NJcy', [1034]], ['njcy', [1114]], ['nlarr', [8602]], ['nlArr', [8653]], ['nldr', [8229]], ['nlE', [8806, 824]], ['nle', [8816]], ['nleftarrow', [8602]], ['nLeftarrow', [8653]], ['nleftrightarrow', [8622]], ['nLeftrightarrow', [8654]], ['nleq', [8816]], ['nleqq', [8806, 824]], ['nleqslant', [10877, 824]], ['nles', [10877, 824]], ['nless', [8814]], ['nLl', [8920, 824]], ['nlsim', [8820]], ['nLt', [8810, 8402]], ['nlt', [8814]], ['nltri', [8938]], ['nltrie', [8940]], ['nLtv', [8810, 824]], ['nmid', [8740]], ['NoBreak', [8288]], ['NonBreakingSpace', [160]], ['nopf', [120159]], ['Nopf', [8469]], ['Not', [10988]], ['not', [172]], ['NotCongruent', [8802]], ['NotCupCap', [8813]], ['NotDoubleVerticalBar', [8742]], ['NotElement', [8713]], ['NotEqual', [8800]], ['NotEqualTilde', [8770, 824]], ['NotExists', [8708]], ['NotGreater', [8815]], ['NotGreaterEqual', [8817]], ['NotGreaterFullEqual', [8807, 824]], ['NotGreaterGreater', [8811, 824]], ['NotGreaterLess', [8825]], ['NotGreaterSlantEqual', [10878, 824]], ['NotGreaterTilde', [8821]], ['NotHumpDownHump', [8782, 824]], ['NotHumpEqual', [8783, 824]], ['notin', [8713]], ['notindot', [8949, 824]], ['notinE', [8953, 824]], ['notinva', [8713]], ['notinvb', [8951]], ['notinvc', [8950]], ['NotLeftTriangleBar', [10703, 824]], ['NotLeftTriangle', [8938]], ['NotLeftTriangleEqual', [8940]], ['NotLess', [8814]], ['NotLessEqual', [8816]], ['NotLessGreater', [8824]], ['NotLessLess', [8810, 824]], ['NotLessSlantEqual', [10877, 824]], ['NotLessTilde', [8820]], ['NotNestedGreaterGreater', [10914, 824]], ['NotNestedLessLess', [10913, 824]], ['notni', [8716]], ['notniva', [8716]], ['notnivb', [8958]], ['notnivc', [8957]], ['NotPrecedes', [8832]], ['NotPrecedesEqual', [10927, 824]], ['NotPrecedesSlantEqual', [8928]], ['NotReverseElement', [8716]], ['NotRightTriangleBar', [10704, 824]], ['NotRightTriangle', [8939]], ['NotRightTriangleEqual', [8941]], ['NotSquareSubset', [8847, 824]], ['NotSquareSubsetEqual', [8930]], ['NotSquareSuperset', [8848, 824]], ['NotSquareSupersetEqual', [8931]], ['NotSubset', [8834, 8402]], ['NotSubsetEqual', [8840]], ['NotSucceeds', [8833]], ['NotSucceedsEqual', [10928, 824]], ['NotSucceedsSlantEqual', [8929]], ['NotSucceedsTilde', [8831, 824]], ['NotSuperset', [8835, 8402]], ['NotSupersetEqual', [8841]], ['NotTilde', [8769]], ['NotTildeEqual', [8772]], ['NotTildeFullEqual', [8775]], ['NotTildeTilde', [8777]], ['NotVerticalBar', [8740]], ['nparallel', [8742]], ['npar', [8742]], ['nparsl', [11005, 8421]], ['npart', [8706, 824]], ['npolint', [10772]], ['npr', [8832]], ['nprcue', [8928]], ['nprec', [8832]], ['npreceq', [10927, 824]], ['npre', [10927, 824]], ['nrarrc', [10547, 824]], ['nrarr', [8603]], ['nrArr', [8655]], ['nrarrw', [8605, 824]], ['nrightarrow', [8603]], ['nRightarrow', [8655]], ['nrtri', [8939]], ['nrtrie', [8941]], ['nsc', [8833]], ['nsccue', [8929]], ['nsce', [10928, 824]], ['Nscr', [119977]], ['nscr', [120003]], ['nshortmid', [8740]], ['nshortparallel', [8742]], ['nsim', [8769]], ['nsime', [8772]], ['nsimeq', [8772]], ['nsmid', [8740]], ['nspar', [8742]], ['nsqsube', [8930]], ['nsqsupe', [8931]], ['nsub', [8836]], ['nsubE', [10949, 824]], ['nsube', [8840]], ['nsubset', [8834, 8402]], ['nsubseteq', [8840]], ['nsubseteqq', [10949, 824]], ['nsucc', [8833]], ['nsucceq', [10928, 824]], ['nsup', [8837]], ['nsupE', [10950, 824]], ['nsupe', [8841]], ['nsupset', [8835, 8402]], ['nsupseteq', [8841]], ['nsupseteqq', [10950, 824]], ['ntgl', [8825]], ['Ntilde', [209]], ['ntilde', [241]], ['ntlg', [8824]], ['ntriangleleft', [8938]], ['ntrianglelefteq', [8940]], ['ntriangleright', [8939]], ['ntrianglerighteq', [8941]], ['Nu', [925]], ['nu', [957]], ['num', [35]], ['numero', [8470]], ['numsp', [8199]], ['nvap', [8781, 8402]], ['nvdash', [8876]], ['nvDash', [8877]], ['nVdash', [8878]], ['nVDash', [8879]], ['nvge', [8805, 8402]], ['nvgt', [62, 8402]], ['nvHarr', [10500]], ['nvinfin', [10718]], ['nvlArr', [10498]], ['nvle', [8804, 8402]], ['nvlt', [60, 8402]], ['nvltrie', [8884, 8402]], ['nvrArr', [10499]], ['nvrtrie', [8885, 8402]], ['nvsim', [8764, 8402]], ['nwarhk', [10531]], ['nwarr', [8598]], ['nwArr', [8662]], ['nwarrow', [8598]], ['nwnear', [10535]], ['Oacute', [211]], ['oacute', [243]], ['oast', [8859]], ['Ocirc', [212]], ['ocirc', [244]], ['ocir', [8858]], ['Ocy', [1054]], ['ocy', [1086]], ['odash', [8861]], ['Odblac', [336]], ['odblac', [337]], ['odiv', [10808]], ['odot', [8857]], ['odsold', [10684]], ['OElig', [338]], ['oelig', [339]], ['ofcir', [10687]], ['Ofr', [120082]], ['ofr', [120108]], ['ogon', [731]], ['Ograve', [210]], ['ograve', [242]], ['ogt', [10689]], ['ohbar', [10677]], ['ohm', [937]], ['oint', [8750]], ['olarr', [8634]], ['olcir', [10686]], ['olcross', [10683]], ['oline', [8254]], ['olt', [10688]], ['Omacr', [332]], ['omacr', [333]], ['Omega', [937]], ['omega', [969]], ['Omicron', [927]], ['omicron', [959]], ['omid', [10678]], ['ominus', [8854]], ['Oopf', [120134]], ['oopf', [120160]], ['opar', [10679]], ['OpenCurlyDoubleQuote', [8220]], ['OpenCurlyQuote', [8216]], ['operp', [10681]], ['oplus', [8853]], ['orarr', [8635]], ['Or', [10836]], ['or', [8744]], ['ord', [10845]], ['order', [8500]], ['orderof', [8500]], ['ordf', [170]], ['ordm', [186]], ['origof', [8886]], ['oror', [10838]], ['orslope', [10839]], ['orv', [10843]], ['oS', [9416]], ['Oscr', [119978]], ['oscr', [8500]], ['Oslash', [216]], ['oslash', [248]], ['osol', [8856]], ['Otilde', [213]], ['otilde', [245]], ['otimesas', [10806]], ['Otimes', [10807]], ['otimes', [8855]], ['Ouml', [214]], ['ouml', [246]], ['ovbar', [9021]], ['OverBar', [8254]], ['OverBrace', [9182]], ['OverBracket', [9140]], ['OverParenthesis', [9180]], ['para', [182]], ['parallel', [8741]], ['par', [8741]], ['parsim', [10995]], ['parsl', [11005]], ['part', [8706]], ['PartialD', [8706]], ['Pcy', [1055]], ['pcy', [1087]], ['percnt', [37]], ['period', [46]], ['permil', [8240]], ['perp', [8869]], ['pertenk', [8241]], ['Pfr', [120083]], ['pfr', [120109]], ['Phi', [934]], ['phi', [966]], ['phiv', [981]], ['phmmat', [8499]], ['phone', [9742]], ['Pi', [928]], ['pi', [960]], ['pitchfork', [8916]], ['piv', [982]], ['planck', [8463]], ['planckh', [8462]], ['plankv', [8463]], ['plusacir', [10787]], ['plusb', [8862]], ['pluscir', [10786]], ['plus', [43]], ['plusdo', [8724]], ['plusdu', [10789]], ['pluse', [10866]], ['PlusMinus', [177]], ['plusmn', [177]], ['plussim', [10790]], ['plustwo', [10791]], ['pm', [177]], ['Poincareplane', [8460]], ['pointint', [10773]], ['popf', [120161]], ['Popf', [8473]], ['pound', [163]], ['prap', [10935]], ['Pr', [10939]], ['pr', [8826]], ['prcue', [8828]], ['precapprox', [10935]], ['prec', [8826]], ['preccurlyeq', [8828]], ['Precedes', [8826]], ['PrecedesEqual', [10927]], ['PrecedesSlantEqual', [8828]], ['PrecedesTilde', [8830]], ['preceq', [10927]], ['precnapprox', [10937]], ['precneqq', [10933]], ['precnsim', [8936]], ['pre', [10927]], ['prE', [10931]], ['precsim', [8830]], ['prime', [8242]], ['Prime', [8243]], ['primes', [8473]], ['prnap', [10937]], ['prnE', [10933]], ['prnsim', [8936]], ['prod', [8719]], ['Product', [8719]], ['profalar', [9006]], ['profline', [8978]], ['profsurf', [8979]], ['prop', [8733]], ['Proportional', [8733]], ['Proportion', [8759]], ['propto', [8733]], ['prsim', [8830]], ['prurel', [8880]], ['Pscr', [119979]], ['pscr', [120005]], ['Psi', [936]], ['psi', [968]], ['puncsp', [8200]], ['Qfr', [120084]], ['qfr', [120110]], ['qint', [10764]], ['qopf', [120162]], ['Qopf', [8474]], ['qprime', [8279]], ['Qscr', [119980]], ['qscr', [120006]], ['quaternions', [8461]], ['quatint', [10774]], ['quest', [63]], ['questeq', [8799]], ['quot', [34]], ['QUOT', [34]], ['rAarr', [8667]], ['race', [8765, 817]], ['Racute', [340]], ['racute', [341]], ['radic', [8730]], ['raemptyv', [10675]], ['rang', [10217]], ['Rang', [10219]], ['rangd', [10642]], ['range', [10661]], ['rangle', [10217]], ['raquo', [187]], ['rarrap', [10613]], ['rarrb', [8677]], ['rarrbfs', [10528]], ['rarrc', [10547]], ['rarr', [8594]], ['Rarr', [8608]], ['rArr', [8658]], ['rarrfs', [10526]], ['rarrhk', [8618]], ['rarrlp', [8620]], ['rarrpl', [10565]], ['rarrsim', [10612]], ['Rarrtl', [10518]], ['rarrtl', [8611]], ['rarrw', [8605]], ['ratail', [10522]], ['rAtail', [10524]], ['ratio', [8758]], ['rationals', [8474]], ['rbarr', [10509]], ['rBarr', [10511]], ['RBarr', [10512]], ['rbbrk', [10099]], ['rbrace', [125]], ['rbrack', [93]], ['rbrke', [10636]], ['rbrksld', [10638]], ['rbrkslu', [10640]], ['Rcaron', [344]], ['rcaron', [345]], ['Rcedil', [342]], ['rcedil', [343]], ['rceil', [8969]], ['rcub', [125]], ['Rcy', [1056]], ['rcy', [1088]], ['rdca', [10551]], ['rdldhar', [10601]], ['rdquo', [8221]], ['rdquor', [8221]], ['rdsh', [8627]], ['real', [8476]], ['realine', [8475]], ['realpart', [8476]], ['reals', [8477]], ['Re', [8476]], ['rect', [9645]], ['reg', [174]], ['REG', [174]], ['ReverseElement', [8715]], ['ReverseEquilibrium', [8651]], ['ReverseUpEquilibrium', [10607]], ['rfisht', [10621]], ['rfloor', [8971]], ['rfr', [120111]], ['Rfr', [8476]], ['rHar', [10596]], ['rhard', [8641]], ['rharu', [8640]], ['rharul', [10604]], ['Rho', [929]], ['rho', [961]], ['rhov', [1009]], ['RightAngleBracket', [10217]], ['RightArrowBar', [8677]], ['rightarrow', [8594]], ['RightArrow', [8594]], ['Rightarrow', [8658]], ['RightArrowLeftArrow', [8644]], ['rightarrowtail', [8611]], ['RightCeiling', [8969]], ['RightDoubleBracket', [10215]], ['RightDownTeeVector', [10589]], ['RightDownVectorBar', [10581]], ['RightDownVector', [8642]], ['RightFloor', [8971]], ['rightharpoondown', [8641]], ['rightharpoonup', [8640]], ['rightleftarrows', [8644]], ['rightleftharpoons', [8652]], ['rightrightarrows', [8649]], ['rightsquigarrow', [8605]], ['RightTeeArrow', [8614]], ['RightTee', [8866]], ['RightTeeVector', [10587]], ['rightthreetimes', [8908]], ['RightTriangleBar', [10704]], ['RightTriangle', [8883]], ['RightTriangleEqual', [8885]], ['RightUpDownVector', [10575]], ['RightUpTeeVector', [10588]], ['RightUpVectorBar', [10580]], ['RightUpVector', [8638]], ['RightVectorBar', [10579]], ['RightVector', [8640]], ['ring', [730]], ['risingdotseq', [8787]], ['rlarr', [8644]], ['rlhar', [8652]], ['rlm', [8207]], ['rmoustache', [9137]], ['rmoust', [9137]], ['rnmid', [10990]], ['roang', [10221]], ['roarr', [8702]], ['robrk', [10215]], ['ropar', [10630]], ['ropf', [120163]], ['Ropf', [8477]], ['roplus', [10798]], ['rotimes', [10805]], ['RoundImplies', [10608]], ['rpar', [41]], ['rpargt', [10644]], ['rppolint', [10770]], ['rrarr', [8649]], ['Rrightarrow', [8667]], ['rsaquo', [8250]], ['rscr', [120007]], ['Rscr', [8475]], ['rsh', [8625]], ['Rsh', [8625]], ['rsqb', [93]], ['rsquo', [8217]], ['rsquor', [8217]], ['rthree', [8908]], ['rtimes', [8906]], ['rtri', [9657]], ['rtrie', [8885]], ['rtrif', [9656]], ['rtriltri', [10702]], ['RuleDelayed', [10740]], ['ruluhar', [10600]], ['rx', [8478]], ['Sacute', [346]], ['sacute', [347]], ['sbquo', [8218]], ['scap', [10936]], ['Scaron', [352]], ['scaron', [353]], ['Sc', [10940]], ['sc', [8827]], ['sccue', [8829]], ['sce', [10928]], ['scE', [10932]], ['Scedil', [350]], ['scedil', [351]], ['Scirc', [348]], ['scirc', [349]], ['scnap', [10938]], ['scnE', [10934]], ['scnsim', [8937]], ['scpolint', [10771]], ['scsim', [8831]], ['Scy', [1057]], ['scy', [1089]], ['sdotb', [8865]], ['sdot', [8901]], ['sdote', [10854]], ['searhk', [10533]], ['searr', [8600]], ['seArr', [8664]], ['searrow', [8600]], ['sect', [167]], ['semi', [59]], ['seswar', [10537]], ['setminus', [8726]], ['setmn', [8726]], ['sext', [10038]], ['Sfr', [120086]], ['sfr', [120112]], ['sfrown', [8994]], ['sharp', [9839]], ['SHCHcy', [1065]], ['shchcy', [1097]], ['SHcy', [1064]], ['shcy', [1096]], ['ShortDownArrow', [8595]], ['ShortLeftArrow', [8592]], ['shortmid', [8739]], ['shortparallel', [8741]], ['ShortRightArrow', [8594]], ['ShortUpArrow', [8593]], ['shy', [173]], ['Sigma', [931]], ['sigma', [963]], ['sigmaf', [962]], ['sigmav', [962]], ['sim', [8764]], ['simdot', [10858]], ['sime', [8771]], ['simeq', [8771]], ['simg', [10910]], ['simgE', [10912]], ['siml', [10909]], ['simlE', [10911]], ['simne', [8774]], ['simplus', [10788]], ['simrarr', [10610]], ['slarr', [8592]], ['SmallCircle', [8728]], ['smallsetminus', [8726]], ['smashp', [10803]], ['smeparsl', [10724]], ['smid', [8739]], ['smile', [8995]], ['smt', [10922]], ['smte', [10924]], ['smtes', [10924, 65024]], ['SOFTcy', [1068]], ['softcy', [1100]], ['solbar', [9023]], ['solb', [10692]], ['sol', [47]], ['Sopf', [120138]], ['sopf', [120164]], ['spades', [9824]], ['spadesuit', [9824]], ['spar', [8741]], ['sqcap', [8851]], ['sqcaps', [8851, 65024]], ['sqcup', [8852]], ['sqcups', [8852, 65024]], ['Sqrt', [8730]], ['sqsub', [8847]], ['sqsube', [8849]], ['sqsubset', [8847]], ['sqsubseteq', [8849]], ['sqsup', [8848]], ['sqsupe', [8850]], ['sqsupset', [8848]], ['sqsupseteq', [8850]], ['square', [9633]], ['Square', [9633]], ['SquareIntersection', [8851]], ['SquareSubset', [8847]], ['SquareSubsetEqual', [8849]], ['SquareSuperset', [8848]], ['SquareSupersetEqual', [8850]], ['SquareUnion', [8852]], ['squarf', [9642]], ['squ', [9633]], ['squf', [9642]], ['srarr', [8594]], ['Sscr', [119982]], ['sscr', [120008]], ['ssetmn', [8726]], ['ssmile', [8995]], ['sstarf', [8902]], ['Star', [8902]], ['star', [9734]], ['starf', [9733]], ['straightepsilon', [1013]], ['straightphi', [981]], ['strns', [175]], ['sub', [8834]], ['Sub', [8912]], ['subdot', [10941]], ['subE', [10949]], ['sube', [8838]], ['subedot', [10947]], ['submult', [10945]], ['subnE', [10955]], ['subne', [8842]], ['subplus', [10943]], ['subrarr', [10617]], ['subset', [8834]], ['Subset', [8912]], ['subseteq', [8838]], ['subseteqq', [10949]], ['SubsetEqual', [8838]], ['subsetneq', [8842]], ['subsetneqq', [10955]], ['subsim', [10951]], ['subsub', [10965]], ['subsup', [10963]], ['succapprox', [10936]], ['succ', [8827]], ['succcurlyeq', [8829]], ['Succeeds', [8827]], ['SucceedsEqual', [10928]], ['SucceedsSlantEqual', [8829]], ['SucceedsTilde', [8831]], ['succeq', [10928]], ['succnapprox', [10938]], ['succneqq', [10934]], ['succnsim', [8937]], ['succsim', [8831]], ['SuchThat', [8715]], ['sum', [8721]], ['Sum', [8721]], ['sung', [9834]], ['sup1', [185]], ['sup2', [178]], ['sup3', [179]], ['sup', [8835]], ['Sup', [8913]], ['supdot', [10942]], ['supdsub', [10968]], ['supE', [10950]], ['supe', [8839]], ['supedot', [10948]], ['Superset', [8835]], ['SupersetEqual', [8839]], ['suphsol', [10185]], ['suphsub', [10967]], ['suplarr', [10619]], ['supmult', [10946]], ['supnE', [10956]], ['supne', [8843]], ['supplus', [10944]], ['supset', [8835]], ['Supset', [8913]], ['supseteq', [8839]], ['supseteqq', [10950]], ['supsetneq', [8843]], ['supsetneqq', [10956]], ['supsim', [10952]], ['supsub', [10964]], ['supsup', [10966]], ['swarhk', [10534]], ['swarr', [8601]], ['swArr', [8665]], ['swarrow', [8601]], ['swnwar', [10538]], ['szlig', [223]], ['Tab', [9]], ['target', [8982]], ['Tau', [932]], ['tau', [964]], ['tbrk', [9140]], ['Tcaron', [356]], ['tcaron', [357]], ['Tcedil', [354]], ['tcedil', [355]], ['Tcy', [1058]], ['tcy', [1090]], ['tdot', [8411]], ['telrec', [8981]], ['Tfr', [120087]], ['tfr', [120113]], ['there4', [8756]], ['therefore', [8756]], ['Therefore', [8756]], ['Theta', [920]], ['theta', [952]], ['thetasym', [977]], ['thetav', [977]], ['thickapprox', [8776]], ['thicksim', [8764]], ['ThickSpace', [8287, 8202]], ['ThinSpace', [8201]], ['thinsp', [8201]], ['thkap', [8776]], ['thksim', [8764]], ['THORN', [222]], ['thorn', [254]], ['tilde', [732]], ['Tilde', [8764]], ['TildeEqual', [8771]], ['TildeFullEqual', [8773]], ['TildeTilde', [8776]], ['timesbar', [10801]], ['timesb', [8864]], ['times', [215]], ['timesd', [10800]], ['tint', [8749]], ['toea', [10536]], ['topbot', [9014]], ['topcir', [10993]], ['top', [8868]], ['Topf', [120139]], ['topf', [120165]], ['topfork', [10970]], ['tosa', [10537]], ['tprime', [8244]], ['trade', [8482]], ['TRADE', [8482]], ['triangle', [9653]], ['triangledown', [9663]], ['triangleleft', [9667]], ['trianglelefteq', [8884]], ['triangleq', [8796]], ['triangleright', [9657]], ['trianglerighteq', [8885]], ['tridot', [9708]], ['trie', [8796]], ['triminus', [10810]], ['TripleDot', [8411]], ['triplus', [10809]], ['trisb', [10701]], ['tritime', [10811]], ['trpezium', [9186]], ['Tscr', [119983]], ['tscr', [120009]], ['TScy', [1062]], ['tscy', [1094]], ['TSHcy', [1035]], ['tshcy', [1115]], ['Tstrok', [358]], ['tstrok', [359]], ['twixt', [8812]], ['twoheadleftarrow', [8606]], ['twoheadrightarrow', [8608]], ['Uacute', [218]], ['uacute', [250]], ['uarr', [8593]], ['Uarr', [8607]], ['uArr', [8657]], ['Uarrocir', [10569]], ['Ubrcy', [1038]], ['ubrcy', [1118]], ['Ubreve', [364]], ['ubreve', [365]], ['Ucirc', [219]], ['ucirc', [251]], ['Ucy', [1059]], ['ucy', [1091]], ['udarr', [8645]], ['Udblac', [368]], ['udblac', [369]], ['udhar', [10606]], ['ufisht', [10622]], ['Ufr', [120088]], ['ufr', [120114]], ['Ugrave', [217]], ['ugrave', [249]], ['uHar', [10595]], ['uharl', [8639]], ['uharr', [8638]], ['uhblk', [9600]], ['ulcorn', [8988]], ['ulcorner', [8988]], ['ulcrop', [8975]], ['ultri', [9720]], ['Umacr', [362]], ['umacr', [363]], ['uml', [168]], ['UnderBar', [95]], ['UnderBrace', [9183]], ['UnderBracket', [9141]], ['UnderParenthesis', [9181]], ['Union', [8899]], ['UnionPlus', [8846]], ['Uogon', [370]], ['uogon', [371]], ['Uopf', [120140]], ['uopf', [120166]], ['UpArrowBar', [10514]], ['uparrow', [8593]], ['UpArrow', [8593]], ['Uparrow', [8657]], ['UpArrowDownArrow', [8645]], ['updownarrow', [8597]], ['UpDownArrow', [8597]], ['Updownarrow', [8661]], ['UpEquilibrium', [10606]], ['upharpoonleft', [8639]], ['upharpoonright', [8638]], ['uplus', [8846]], ['UpperLeftArrow', [8598]], ['UpperRightArrow', [8599]], ['upsi', [965]], ['Upsi', [978]], ['upsih', [978]], ['Upsilon', [933]], ['upsilon', [965]], ['UpTeeArrow', [8613]], ['UpTee', [8869]], ['upuparrows', [8648]], ['urcorn', [8989]], ['urcorner', [8989]], ['urcrop', [8974]], ['Uring', [366]], ['uring', [367]], ['urtri', [9721]], ['Uscr', [119984]], ['uscr', [120010]], ['utdot', [8944]], ['Utilde', [360]], ['utilde', [361]], ['utri', [9653]], ['utrif', [9652]], ['uuarr', [8648]], ['Uuml', [220]], ['uuml', [252]], ['uwangle', [10663]], ['vangrt', [10652]], ['varepsilon', [1013]], ['varkappa', [1008]], ['varnothing', [8709]], ['varphi', [981]], ['varpi', [982]], ['varpropto', [8733]], ['varr', [8597]], ['vArr', [8661]], ['varrho', [1009]], ['varsigma', [962]], ['varsubsetneq', [8842, 65024]], ['varsubsetneqq', [10955, 65024]], ['varsupsetneq', [8843, 65024]], ['varsupsetneqq', [10956, 65024]], ['vartheta', [977]], ['vartriangleleft', [8882]], ['vartriangleright', [8883]], ['vBar', [10984]], ['Vbar', [10987]], ['vBarv', [10985]], ['Vcy', [1042]], ['vcy', [1074]], ['vdash', [8866]], ['vDash', [8872]], ['Vdash', [8873]], ['VDash', [8875]], ['Vdashl', [10982]], ['veebar', [8891]], ['vee', [8744]], ['Vee', [8897]], ['veeeq', [8794]], ['vellip', [8942]], ['verbar', [124]], ['Verbar', [8214]], ['vert', [124]], ['Vert', [8214]], ['VerticalBar', [8739]], ['VerticalLine', [124]], ['VerticalSeparator', [10072]], ['VerticalTilde', [8768]], ['VeryThinSpace', [8202]], ['Vfr', [120089]], ['vfr', [120115]], ['vltri', [8882]], ['vnsub', [8834, 8402]], ['vnsup', [8835, 8402]], ['Vopf', [120141]], ['vopf', [120167]], ['vprop', [8733]], ['vrtri', [8883]], ['Vscr', [119985]], ['vscr', [120011]], ['vsubnE', [10955, 65024]], ['vsubne', [8842, 65024]], ['vsupnE', [10956, 65024]], ['vsupne', [8843, 65024]], ['Vvdash', [8874]], ['vzigzag', [10650]], ['Wcirc', [372]], ['wcirc', [373]], ['wedbar', [10847]], ['wedge', [8743]], ['Wedge', [8896]], ['wedgeq', [8793]], ['weierp', [8472]], ['Wfr', [120090]], ['wfr', [120116]], ['Wopf', [120142]], ['wopf', [120168]], ['wp', [8472]], ['wr', [8768]], ['wreath', [8768]], ['Wscr', [119986]], ['wscr', [120012]], ['xcap', [8898]], ['xcirc', [9711]], ['xcup', [8899]], ['xdtri', [9661]], ['Xfr', [120091]], ['xfr', [120117]], ['xharr', [10231]], ['xhArr', [10234]], ['Xi', [926]], ['xi', [958]], ['xlarr', [10229]], ['xlArr', [10232]], ['xmap', [10236]], ['xnis', [8955]], ['xodot', [10752]], ['Xopf', [120143]], ['xopf', [120169]], ['xoplus', [10753]], ['xotime', [10754]], ['xrarr', [10230]], ['xrArr', [10233]], ['Xscr', [119987]], ['xscr', [120013]], ['xsqcup', [10758]], ['xuplus', [10756]], ['xutri', [9651]], ['xvee', [8897]], ['xwedge', [8896]], ['Yacute', [221]], ['yacute', [253]], ['YAcy', [1071]], ['yacy', [1103]], ['Ycirc', [374]], ['ycirc', [375]], ['Ycy', [1067]], ['ycy', [1099]], ['yen', [165]], ['Yfr', [120092]], ['yfr', [120118]], ['YIcy', [1031]], ['yicy', [1111]], ['Yopf', [120144]], ['yopf', [120170]], ['Yscr', [119988]], ['yscr', [120014]], ['YUcy', [1070]], ['yucy', [1102]], ['yuml', [255]], ['Yuml', [376]], ['Zacute', [377]], ['zacute', [378]], ['Zcaron', [381]], ['zcaron', [382]], ['Zcy', [1047]], ['zcy', [1079]], ['Zdot', [379]], ['zdot', [380]], ['zeetrf', [8488]], ['ZeroWidthSpace', [8203]], ['Zeta', [918]], ['zeta', [950]], ['zfr', [120119]], ['Zfr', [8488]], ['ZHcy', [1046]], ['zhcy', [1078]], ['zigrarr', [8669]], ['zopf', [120171]], ['Zopf', [8484]], ['Zscr', [119989]], ['zscr', [120015]], ['zwj', [8205]], ['zwnj', [8204]]];\n\nvar alphaIndex = {};\nvar charIndex = {};\n\ncreateIndexes(alphaIndex, charIndex);\n\n/**\n * @constructor\n */\nfunction Html5Entities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.decode = function(str) {\n    if (str.length === 0) {\n        return '';\n    }\n    return str.replace(/&(#?[\\w\\d]+);?/g, function(s, entity) {\n        var chr;\n        if (entity.charAt(0) === \"#\") {\n            var code = entity.charAt(1) === 'x' ?\n                parseInt(entity.substr(2).toLowerCase(), 16) :\n                parseInt(entity.substr(1));\n\n            if (!(isNaN(code) || code < -32768 || code > 65535)) {\n                chr = String.fromCharCode(code);\n            }\n        } else {\n            chr = alphaIndex[entity];\n        }\n        return chr || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.decode = function(str) {\n    return new Html5Entities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encode = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var charInfo = charIndex[str.charCodeAt(i)];\n        if (charInfo) {\n            var alpha = charInfo[str.charCodeAt(i + 1)];\n            if (alpha) {\n                i++;\n            } else {\n                alpha = charInfo[''];\n            }\n            if (alpha) {\n                result += \"&\" + alpha + \";\";\n                i++;\n                continue;\n            }\n        }\n        result += str.charAt(i);\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encode = function(str) {\n    return new Html5Entities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encodeNonUTF = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var charInfo = charIndex[c];\n        if (charInfo) {\n            var alpha = charInfo[str.charCodeAt(i + 1)];\n            if (alpha) {\n                i++;\n            } else {\n                alpha = charInfo[''];\n            }\n            if (alpha) {\n                result += \"&\" + alpha + \";\";\n                i++;\n                continue;\n            }\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encodeNonUTF = function(str) {\n    return new Html5Entities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encodeNonASCII = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encodeNonASCII = function(str) {\n    return new Html5Entities().encodeNonASCII(str);\n };\n\n/**\n * @param {Object} alphaIndex Passed by reference.\n * @param {Object} charIndex Passed by reference.\n */\nfunction createIndexes(alphaIndex, charIndex) {\n    var i = ENTITIES.length;\n    var _results = [];\n    while (i--) {\n        var e = ENTITIES[i];\n        var alpha = e[0];\n        var chars = e[1];\n        var chr = chars[0];\n        var addChar = (chr < 32 || chr > 126) || chr === 62 || chr === 60 || chr === 38 || chr === 34 || chr === 39;\n        var charInfo;\n        if (addChar) {\n            charInfo = charIndex[chr] = charIndex[chr] || {};\n        }\n        if (chars[1]) {\n            var chr2 = chars[1];\n            alphaIndex[alpha] = String.fromCharCode(chr) + String.fromCharCode(chr2);\n            _results.push(addChar && (charInfo[chr2] = alpha));\n        } else {\n            alphaIndex[alpha] = String.fromCharCode(chr);\n            _results.push(addChar && (charInfo[''] = alpha));\n        }\n    }\n}\n\nmodule.exports = Html5Entities;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwtZW50aXRpZXMvbGliL2h0bWw1LWVudGl0aWVzLmpzP2VmYmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFTlRJVElFUyA9IFtbJ0FhY3V0ZScsIFsxOTNdXSwgWydhYWN1dGUnLCBbMjI1XV0sIFsnQWJyZXZlJywgWzI1OF1dLCBbJ2FicmV2ZScsIFsyNTldXSwgWydhYycsIFs4NzY2XV0sIFsnYWNkJywgWzg3NjddXSwgWydhY0UnLCBbODc2NiwgODE5XV0sIFsnQWNpcmMnLCBbMTk0XV0sIFsnYWNpcmMnLCBbMjI2XV0sIFsnYWN1dGUnLCBbMTgwXV0sIFsnQWN5JywgWzEwNDBdXSwgWydhY3knLCBbMTA3Ml1dLCBbJ0FFbGlnJywgWzE5OF1dLCBbJ2FlbGlnJywgWzIzMF1dLCBbJ2FmJywgWzgyODldXSwgWydBZnInLCBbMTIwMDY4XV0sIFsnYWZyJywgWzEyMDA5NF1dLCBbJ0FncmF2ZScsIFsxOTJdXSwgWydhZ3JhdmUnLCBbMjI0XV0sIFsnYWxlZnN5bScsIFs4NTAxXV0sIFsnYWxlcGgnLCBbODUwMV1dLCBbJ0FscGhhJywgWzkxM11dLCBbJ2FscGhhJywgWzk0NV1dLCBbJ0FtYWNyJywgWzI1Nl1dLCBbJ2FtYWNyJywgWzI1N11dLCBbJ2FtYWxnJywgWzEwODE1XV0sIFsnYW1wJywgWzM4XV0sIFsnQU1QJywgWzM4XV0sIFsnYW5kYW5kJywgWzEwODM3XV0sIFsnQW5kJywgWzEwODM1XV0sIFsnYW5kJywgWzg3NDNdXSwgWydhbmRkJywgWzEwODQ0XV0sIFsnYW5kc2xvcGUnLCBbMTA4NDBdXSwgWydhbmR2JywgWzEwODQyXV0sIFsnYW5nJywgWzg3MzZdXSwgWydhbmdlJywgWzEwNjYwXV0sIFsnYW5nbGUnLCBbODczNl1dLCBbJ2FuZ21zZGFhJywgWzEwNjY0XV0sIFsnYW5nbXNkYWInLCBbMTA2NjVdXSwgWydhbmdtc2RhYycsIFsxMDY2Nl1dLCBbJ2FuZ21zZGFkJywgWzEwNjY3XV0sIFsnYW5nbXNkYWUnLCBbMTA2NjhdXSwgWydhbmdtc2RhZicsIFsxMDY2OV1dLCBbJ2FuZ21zZGFnJywgWzEwNjcwXV0sIFsnYW5nbXNkYWgnLCBbMTA2NzFdXSwgWydhbmdtc2QnLCBbODczN11dLCBbJ2FuZ3J0JywgWzg3MzVdXSwgWydhbmdydHZiJywgWzg4OTRdXSwgWydhbmdydHZiZCcsIFsxMDY1M11dLCBbJ2FuZ3NwaCcsIFs4NzM4XV0sIFsnYW5nc3QnLCBbMTk3XV0sIFsnYW5nemFycicsIFs5MDg0XV0sIFsnQW9nb24nLCBbMjYwXV0sIFsnYW9nb24nLCBbMjYxXV0sIFsnQW9wZicsIFsxMjAxMjBdXSwgWydhb3BmJywgWzEyMDE0Nl1dLCBbJ2FwYWNpcicsIFsxMDg2M11dLCBbJ2FwJywgWzg3NzZdXSwgWydhcEUnLCBbMTA4NjRdXSwgWydhcGUnLCBbODc3OF1dLCBbJ2FwaWQnLCBbODc3OV1dLCBbJ2Fwb3MnLCBbMzldXSwgWydBcHBseUZ1bmN0aW9uJywgWzgyODldXSwgWydhcHByb3gnLCBbODc3Nl1dLCBbJ2FwcHJveGVxJywgWzg3NzhdXSwgWydBcmluZycsIFsxOTddXSwgWydhcmluZycsIFsyMjldXSwgWydBc2NyJywgWzExOTk2NF1dLCBbJ2FzY3InLCBbMTE5OTkwXV0sIFsnQXNzaWduJywgWzg3ODhdXSwgWydhc3QnLCBbNDJdXSwgWydhc3ltcCcsIFs4Nzc2XV0sIFsnYXN5bXBlcScsIFs4NzgxXV0sIFsnQXRpbGRlJywgWzE5NV1dLCBbJ2F0aWxkZScsIFsyMjddXSwgWydBdW1sJywgWzE5Nl1dLCBbJ2F1bWwnLCBbMjI4XV0sIFsnYXdjb25pbnQnLCBbODc1NV1dLCBbJ2F3aW50JywgWzEwNzY5XV0sIFsnYmFja2NvbmcnLCBbODc4MF1dLCBbJ2JhY2tlcHNpbG9uJywgWzEwMTRdXSwgWydiYWNrcHJpbWUnLCBbODI0NV1dLCBbJ2JhY2tzaW0nLCBbODc2NV1dLCBbJ2JhY2tzaW1lcScsIFs4OTA5XV0sIFsnQmFja3NsYXNoJywgWzg3MjZdXSwgWydCYXJ2JywgWzEwOTgzXV0sIFsnYmFydmVlJywgWzg4OTNdXSwgWydiYXJ3ZWQnLCBbODk2NV1dLCBbJ0JhcndlZCcsIFs4OTY2XV0sIFsnYmFyd2VkZ2UnLCBbODk2NV1dLCBbJ2JicmsnLCBbOTE0MV1dLCBbJ2Jicmt0YnJrJywgWzkxNDJdXSwgWydiY29uZycsIFs4NzgwXV0sIFsnQmN5JywgWzEwNDFdXSwgWydiY3knLCBbMTA3M11dLCBbJ2JkcXVvJywgWzgyMjJdXSwgWydiZWNhdXMnLCBbODc1N11dLCBbJ2JlY2F1c2UnLCBbODc1N11dLCBbJ0JlY2F1c2UnLCBbODc1N11dLCBbJ2JlbXB0eXYnLCBbMTA2NzJdXSwgWydiZXBzaScsIFsxMDE0XV0sIFsnYmVybm91JywgWzg0OTJdXSwgWydCZXJub3VsbGlzJywgWzg0OTJdXSwgWydCZXRhJywgWzkxNF1dLCBbJ2JldGEnLCBbOTQ2XV0sIFsnYmV0aCcsIFs4NTAyXV0sIFsnYmV0d2VlbicsIFs4ODEyXV0sIFsnQmZyJywgWzEyMDA2OV1dLCBbJ2JmcicsIFsxMjAwOTVdXSwgWydiaWdjYXAnLCBbODg5OF1dLCBbJ2JpZ2NpcmMnLCBbOTcxMV1dLCBbJ2JpZ2N1cCcsIFs4ODk5XV0sIFsnYmlnb2RvdCcsIFsxMDc1Ml1dLCBbJ2JpZ29wbHVzJywgWzEwNzUzXV0sIFsnYmlnb3RpbWVzJywgWzEwNzU0XV0sIFsnYmlnc3FjdXAnLCBbMTA3NThdXSwgWydiaWdzdGFyJywgWzk3MzNdXSwgWydiaWd0cmlhbmdsZWRvd24nLCBbOTY2MV1dLCBbJ2JpZ3RyaWFuZ2xldXAnLCBbOTY1MV1dLCBbJ2JpZ3VwbHVzJywgWzEwNzU2XV0sIFsnYmlndmVlJywgWzg4OTddXSwgWydiaWd3ZWRnZScsIFs4ODk2XV0sIFsnYmthcm93JywgWzEwNTA5XV0sIFsnYmxhY2tsb3plbmdlJywgWzEwNzMxXV0sIFsnYmxhY2tzcXVhcmUnLCBbOTY0Ml1dLCBbJ2JsYWNrdHJpYW5nbGUnLCBbOTY1Ml1dLCBbJ2JsYWNrdHJpYW5nbGVkb3duJywgWzk2NjJdXSwgWydibGFja3RyaWFuZ2xlbGVmdCcsIFs5NjY2XV0sIFsnYmxhY2t0cmlhbmdsZXJpZ2h0JywgWzk2NTZdXSwgWydibGFuaycsIFs5MjUxXV0sIFsnYmxrMTInLCBbOTYxOF1dLCBbJ2JsazE0JywgWzk2MTddXSwgWydibGszNCcsIFs5NjE5XV0sIFsnYmxvY2snLCBbOTYwOF1dLCBbJ2JuZScsIFs2MSwgODQyMV1dLCBbJ2JuZXF1aXYnLCBbODgwMSwgODQyMV1dLCBbJ2JOb3QnLCBbMTA5ODldXSwgWydibm90JywgWzg5NzZdXSwgWydCb3BmJywgWzEyMDEyMV1dLCBbJ2JvcGYnLCBbMTIwMTQ3XV0sIFsnYm90JywgWzg4NjldXSwgWydib3R0b20nLCBbODg2OV1dLCBbJ2Jvd3RpZScsIFs4OTA0XV0sIFsnYm94Ym94JywgWzEwNjk3XV0sIFsnYm94ZGwnLCBbOTQ4OF1dLCBbJ2JveGRMJywgWzk1NTddXSwgWydib3hEbCcsIFs5NTU4XV0sIFsnYm94REwnLCBbOTU1OV1dLCBbJ2JveGRyJywgWzk0ODRdXSwgWydib3hkUicsIFs5NTU0XV0sIFsnYm94RHInLCBbOTU1NV1dLCBbJ2JveERSJywgWzk1NTZdXSwgWydib3hoJywgWzk0NzJdXSwgWydib3hIJywgWzk1NTJdXSwgWydib3hoZCcsIFs5NTE2XV0sIFsnYm94SGQnLCBbOTU3Ml1dLCBbJ2JveGhEJywgWzk1NzNdXSwgWydib3hIRCcsIFs5NTc0XV0sIFsnYm94aHUnLCBbOTUyNF1dLCBbJ2JveEh1JywgWzk1NzVdXSwgWydib3hoVScsIFs5NTc2XV0sIFsnYm94SFUnLCBbOTU3N11dLCBbJ2JveG1pbnVzJywgWzg4NjNdXSwgWydib3hwbHVzJywgWzg4NjJdXSwgWydib3h0aW1lcycsIFs4ODY0XV0sIFsnYm94dWwnLCBbOTQ5Nl1dLCBbJ2JveHVMJywgWzk1NjNdXSwgWydib3hVbCcsIFs5NTY0XV0sIFsnYm94VUwnLCBbOTU2NV1dLCBbJ2JveHVyJywgWzk0OTJdXSwgWydib3h1UicsIFs5NTYwXV0sIFsnYm94VXInLCBbOTU2MV1dLCBbJ2JveFVSJywgWzk1NjJdXSwgWydib3h2JywgWzk0NzRdXSwgWydib3hWJywgWzk1NTNdXSwgWydib3h2aCcsIFs5NTMyXV0sIFsnYm94dkgnLCBbOTU3OF1dLCBbJ2JveFZoJywgWzk1NzldXSwgWydib3hWSCcsIFs5NTgwXV0sIFsnYm94dmwnLCBbOTUwOF1dLCBbJ2JveHZMJywgWzk1NjldXSwgWydib3hWbCcsIFs5NTcwXV0sIFsnYm94VkwnLCBbOTU3MV1dLCBbJ2JveHZyJywgWzk1MDBdXSwgWydib3h2UicsIFs5NTY2XV0sIFsnYm94VnInLCBbOTU2N11dLCBbJ2JveFZSJywgWzk1NjhdXSwgWydicHJpbWUnLCBbODI0NV1dLCBbJ2JyZXZlJywgWzcyOF1dLCBbJ0JyZXZlJywgWzcyOF1dLCBbJ2JydmJhcicsIFsxNjZdXSwgWydic2NyJywgWzExOTk5MV1dLCBbJ0JzY3InLCBbODQ5Ml1dLCBbJ2JzZW1pJywgWzgyNzFdXSwgWydic2ltJywgWzg3NjVdXSwgWydic2ltZScsIFs4OTA5XV0sIFsnYnNvbGInLCBbMTA2OTNdXSwgWydic29sJywgWzkyXV0sIFsnYnNvbGhzdWInLCBbMTAxODRdXSwgWydidWxsJywgWzgyMjZdXSwgWydidWxsZXQnLCBbODIyNl1dLCBbJ2J1bXAnLCBbODc4Ml1dLCBbJ2J1bXBFJywgWzEwOTI2XV0sIFsnYnVtcGUnLCBbODc4M11dLCBbJ0J1bXBlcScsIFs4NzgyXV0sIFsnYnVtcGVxJywgWzg3ODNdXSwgWydDYWN1dGUnLCBbMjYyXV0sIFsnY2FjdXRlJywgWzI2M11dLCBbJ2NhcGFuZCcsIFsxMDgyMF1dLCBbJ2NhcGJyY3VwJywgWzEwODI1XV0sIFsnY2FwY2FwJywgWzEwODI3XV0sIFsnY2FwJywgWzg3NDVdXSwgWydDYXAnLCBbODkxNF1dLCBbJ2NhcGN1cCcsIFsxMDgyM11dLCBbJ2NhcGRvdCcsIFsxMDgxNl1dLCBbJ0NhcGl0YWxEaWZmZXJlbnRpYWxEJywgWzg1MTddXSwgWydjYXBzJywgWzg3NDUsIDY1MDI0XV0sIFsnY2FyZXQnLCBbODI1N11dLCBbJ2Nhcm9uJywgWzcxMV1dLCBbJ0NheWxleXMnLCBbODQ5M11dLCBbJ2NjYXBzJywgWzEwODI5XV0sIFsnQ2Nhcm9uJywgWzI2OF1dLCBbJ2NjYXJvbicsIFsyNjldXSwgWydDY2VkaWwnLCBbMTk5XV0sIFsnY2NlZGlsJywgWzIzMV1dLCBbJ0NjaXJjJywgWzI2NF1dLCBbJ2NjaXJjJywgWzI2NV1dLCBbJ0Njb25pbnQnLCBbODc1Ml1dLCBbJ2NjdXBzJywgWzEwODI4XV0sIFsnY2N1cHNzbScsIFsxMDgzMl1dLCBbJ0Nkb3QnLCBbMjY2XV0sIFsnY2RvdCcsIFsyNjddXSwgWydjZWRpbCcsIFsxODRdXSwgWydDZWRpbGxhJywgWzE4NF1dLCBbJ2NlbXB0eXYnLCBbMTA2NzRdXSwgWydjZW50JywgWzE2Ml1dLCBbJ2NlbnRlcmRvdCcsIFsxODNdXSwgWydDZW50ZXJEb3QnLCBbMTgzXV0sIFsnY2ZyJywgWzEyMDA5Nl1dLCBbJ0NmcicsIFs4NDkzXV0sIFsnQ0hjeScsIFsxMDYzXV0sIFsnY2hjeScsIFsxMDk1XV0sIFsnY2hlY2snLCBbMTAwMDNdXSwgWydjaGVja21hcmsnLCBbMTAwMDNdXSwgWydDaGknLCBbOTM1XV0sIFsnY2hpJywgWzk2N11dLCBbJ2NpcmMnLCBbNzEwXV0sIFsnY2lyY2VxJywgWzg3OTFdXSwgWydjaXJjbGVhcnJvd2xlZnQnLCBbODYzNF1dLCBbJ2NpcmNsZWFycm93cmlnaHQnLCBbODYzNV1dLCBbJ2NpcmNsZWRhc3QnLCBbODg1OV1dLCBbJ2NpcmNsZWRjaXJjJywgWzg4NThdXSwgWydjaXJjbGVkZGFzaCcsIFs4ODYxXV0sIFsnQ2lyY2xlRG90JywgWzg4NTddXSwgWydjaXJjbGVkUicsIFsxNzRdXSwgWydjaXJjbGVkUycsIFs5NDE2XV0sIFsnQ2lyY2xlTWludXMnLCBbODg1NF1dLCBbJ0NpcmNsZVBsdXMnLCBbODg1M11dLCBbJ0NpcmNsZVRpbWVzJywgWzg4NTVdXSwgWydjaXInLCBbOTY3NV1dLCBbJ2NpckUnLCBbMTA2OTFdXSwgWydjaXJlJywgWzg3OTFdXSwgWydjaXJmbmludCcsIFsxMDc2OF1dLCBbJ2Npcm1pZCcsIFsxMDk5MV1dLCBbJ2NpcnNjaXInLCBbMTA2OTBdXSwgWydDbG9ja3dpc2VDb250b3VySW50ZWdyYWwnLCBbODc1NF1dLCBbJ0Nsb3NlQ3VybHlEb3VibGVRdW90ZScsIFs4MjIxXV0sIFsnQ2xvc2VDdXJseVF1b3RlJywgWzgyMTddXSwgWydjbHVicycsIFs5ODI3XV0sIFsnY2x1YnN1aXQnLCBbOTgyN11dLCBbJ2NvbG9uJywgWzU4XV0sIFsnQ29sb24nLCBbODc1OV1dLCBbJ0NvbG9uZScsIFsxMDg2OF1dLCBbJ2NvbG9uZScsIFs4Nzg4XV0sIFsnY29sb25lcScsIFs4Nzg4XV0sIFsnY29tbWEnLCBbNDRdXSwgWydjb21tYXQnLCBbNjRdXSwgWydjb21wJywgWzg3MDVdXSwgWydjb21wZm4nLCBbODcyOF1dLCBbJ2NvbXBsZW1lbnQnLCBbODcwNV1dLCBbJ2NvbXBsZXhlcycsIFs4NDUwXV0sIFsnY29uZycsIFs4NzczXV0sIFsnY29uZ2RvdCcsIFsxMDg2MV1dLCBbJ0NvbmdydWVudCcsIFs4ODAxXV0sIFsnY29uaW50JywgWzg3NTBdXSwgWydDb25pbnQnLCBbODc1MV1dLCBbJ0NvbnRvdXJJbnRlZ3JhbCcsIFs4NzUwXV0sIFsnY29wZicsIFsxMjAxNDhdXSwgWydDb3BmJywgWzg0NTBdXSwgWydjb3Byb2QnLCBbODcyMF1dLCBbJ0NvcHJvZHVjdCcsIFs4NzIwXV0sIFsnY29weScsIFsxNjldXSwgWydDT1BZJywgWzE2OV1dLCBbJ2NvcHlzcicsIFs4NDcxXV0sIFsnQ291bnRlckNsb2Nrd2lzZUNvbnRvdXJJbnRlZ3JhbCcsIFs4NzU1XV0sIFsnY3JhcnInLCBbODYyOV1dLCBbJ2Nyb3NzJywgWzEwMDA3XV0sIFsnQ3Jvc3MnLCBbMTA3OTldXSwgWydDc2NyJywgWzExOTk2Nl1dLCBbJ2NzY3InLCBbMTE5OTkyXV0sIFsnY3N1YicsIFsxMDk1OV1dLCBbJ2NzdWJlJywgWzEwOTYxXV0sIFsnY3N1cCcsIFsxMDk2MF1dLCBbJ2NzdXBlJywgWzEwOTYyXV0sIFsnY3Rkb3QnLCBbODk0M11dLCBbJ2N1ZGFycmwnLCBbMTA1NTJdXSwgWydjdWRhcnJyJywgWzEwNTQ5XV0sIFsnY3VlcHInLCBbODkyNl1dLCBbJ2N1ZXNjJywgWzg5MjddXSwgWydjdWxhcnInLCBbODYzMF1dLCBbJ2N1bGFycnAnLCBbMTA1NTddXSwgWydjdXBicmNhcCcsIFsxMDgyNF1dLCBbJ2N1cGNhcCcsIFsxMDgyMl1dLCBbJ0N1cENhcCcsIFs4NzgxXV0sIFsnY3VwJywgWzg3NDZdXSwgWydDdXAnLCBbODkxNV1dLCBbJ2N1cGN1cCcsIFsxMDgyNl1dLCBbJ2N1cGRvdCcsIFs4ODQ1XV0sIFsnY3Vwb3InLCBbMTA4MjFdXSwgWydjdXBzJywgWzg3NDYsIDY1MDI0XV0sIFsnY3VyYXJyJywgWzg2MzFdXSwgWydjdXJhcnJtJywgWzEwNTU2XV0sIFsnY3VybHllcXByZWMnLCBbODkyNl1dLCBbJ2N1cmx5ZXFzdWNjJywgWzg5MjddXSwgWydjdXJseXZlZScsIFs4OTEwXV0sIFsnY3VybHl3ZWRnZScsIFs4OTExXV0sIFsnY3VycmVuJywgWzE2NF1dLCBbJ2N1cnZlYXJyb3dsZWZ0JywgWzg2MzBdXSwgWydjdXJ2ZWFycm93cmlnaHQnLCBbODYzMV1dLCBbJ2N1dmVlJywgWzg5MTBdXSwgWydjdXdlZCcsIFs4OTExXV0sIFsnY3djb25pbnQnLCBbODc1NF1dLCBbJ2N3aW50JywgWzg3NTNdXSwgWydjeWxjdHknLCBbOTAwNV1dLCBbJ2RhZ2dlcicsIFs4MjI0XV0sIFsnRGFnZ2VyJywgWzgyMjVdXSwgWydkYWxldGgnLCBbODUwNF1dLCBbJ2RhcnInLCBbODU5NV1dLCBbJ0RhcnInLCBbODYwOV1dLCBbJ2RBcnInLCBbODY1OV1dLCBbJ2Rhc2gnLCBbODIwOF1dLCBbJ0Rhc2h2JywgWzEwOTgwXV0sIFsnZGFzaHYnLCBbODg2N11dLCBbJ2Ria2Fyb3cnLCBbMTA1MTFdXSwgWydkYmxhYycsIFs3MzNdXSwgWydEY2Fyb24nLCBbMjcwXV0sIFsnZGNhcm9uJywgWzI3MV1dLCBbJ0RjeScsIFsxMDQ0XV0sIFsnZGN5JywgWzEwNzZdXSwgWydkZGFnZ2VyJywgWzgyMjVdXSwgWydkZGFycicsIFs4NjUwXV0sIFsnREQnLCBbODUxN11dLCBbJ2RkJywgWzg1MThdXSwgWydERG90cmFoZCcsIFsxMDUxM11dLCBbJ2Rkb3RzZXEnLCBbMTA4NzFdXSwgWydkZWcnLCBbMTc2XV0sIFsnRGVsJywgWzg3MTFdXSwgWydEZWx0YScsIFs5MTZdXSwgWydkZWx0YScsIFs5NDhdXSwgWydkZW1wdHl2JywgWzEwNjczXV0sIFsnZGZpc2h0JywgWzEwNjIzXV0sIFsnRGZyJywgWzEyMDA3MV1dLCBbJ2RmcicsIFsxMjAwOTddXSwgWydkSGFyJywgWzEwNTk3XV0sIFsnZGhhcmwnLCBbODY0M11dLCBbJ2RoYXJyJywgWzg2NDJdXSwgWydEaWFjcml0aWNhbEFjdXRlJywgWzE4MF1dLCBbJ0RpYWNyaXRpY2FsRG90JywgWzcyOV1dLCBbJ0RpYWNyaXRpY2FsRG91YmxlQWN1dGUnLCBbNzMzXV0sIFsnRGlhY3JpdGljYWxHcmF2ZScsIFs5Nl1dLCBbJ0RpYWNyaXRpY2FsVGlsZGUnLCBbNzMyXV0sIFsnZGlhbScsIFs4OTAwXV0sIFsnZGlhbW9uZCcsIFs4OTAwXV0sIFsnRGlhbW9uZCcsIFs4OTAwXV0sIFsnZGlhbW9uZHN1aXQnLCBbOTgzMF1dLCBbJ2RpYW1zJywgWzk4MzBdXSwgWydkaWUnLCBbMTY4XV0sIFsnRGlmZmVyZW50aWFsRCcsIFs4NTE4XV0sIFsnZGlnYW1tYScsIFs5ODldXSwgWydkaXNpbicsIFs4OTQ2XV0sIFsnZGl2JywgWzI0N11dLCBbJ2RpdmlkZScsIFsyNDddXSwgWydkaXZpZGVvbnRpbWVzJywgWzg5MDNdXSwgWydkaXZvbngnLCBbODkwM11dLCBbJ0RKY3knLCBbMTAyNl1dLCBbJ2RqY3knLCBbMTEwNl1dLCBbJ2RsY29ybicsIFs4OTkwXV0sIFsnZGxjcm9wJywgWzg5NzNdXSwgWydkb2xsYXInLCBbMzZdXSwgWydEb3BmJywgWzEyMDEyM11dLCBbJ2RvcGYnLCBbMTIwMTQ5XV0sIFsnRG90JywgWzE2OF1dLCBbJ2RvdCcsIFs3MjldXSwgWydEb3REb3QnLCBbODQxMl1dLCBbJ2RvdGVxJywgWzg3ODRdXSwgWydkb3RlcWRvdCcsIFs4Nzg1XV0sIFsnRG90RXF1YWwnLCBbODc4NF1dLCBbJ2RvdG1pbnVzJywgWzg3NjBdXSwgWydkb3RwbHVzJywgWzg3MjRdXSwgWydkb3RzcXVhcmUnLCBbODg2NV1dLCBbJ2RvdWJsZWJhcndlZGdlJywgWzg5NjZdXSwgWydEb3VibGVDb250b3VySW50ZWdyYWwnLCBbODc1MV1dLCBbJ0RvdWJsZURvdCcsIFsxNjhdXSwgWydEb3VibGVEb3duQXJyb3cnLCBbODY1OV1dLCBbJ0RvdWJsZUxlZnRBcnJvdycsIFs4NjU2XV0sIFsnRG91YmxlTGVmdFJpZ2h0QXJyb3cnLCBbODY2MF1dLCBbJ0RvdWJsZUxlZnRUZWUnLCBbMTA5ODBdXSwgWydEb3VibGVMb25nTGVmdEFycm93JywgWzEwMjMyXV0sIFsnRG91YmxlTG9uZ0xlZnRSaWdodEFycm93JywgWzEwMjM0XV0sIFsnRG91YmxlTG9uZ1JpZ2h0QXJyb3cnLCBbMTAyMzNdXSwgWydEb3VibGVSaWdodEFycm93JywgWzg2NThdXSwgWydEb3VibGVSaWdodFRlZScsIFs4ODcyXV0sIFsnRG91YmxlVXBBcnJvdycsIFs4NjU3XV0sIFsnRG91YmxlVXBEb3duQXJyb3cnLCBbODY2MV1dLCBbJ0RvdWJsZVZlcnRpY2FsQmFyJywgWzg3NDFdXSwgWydEb3duQXJyb3dCYXInLCBbMTA1MTVdXSwgWydkb3duYXJyb3cnLCBbODU5NV1dLCBbJ0Rvd25BcnJvdycsIFs4NTk1XV0sIFsnRG93bmFycm93JywgWzg2NTldXSwgWydEb3duQXJyb3dVcEFycm93JywgWzg2OTNdXSwgWydEb3duQnJldmUnLCBbNzg1XV0sIFsnZG93bmRvd25hcnJvd3MnLCBbODY1MF1dLCBbJ2Rvd25oYXJwb29ubGVmdCcsIFs4NjQzXV0sIFsnZG93bmhhcnBvb25yaWdodCcsIFs4NjQyXV0sIFsnRG93bkxlZnRSaWdodFZlY3RvcicsIFsxMDU3Nl1dLCBbJ0Rvd25MZWZ0VGVlVmVjdG9yJywgWzEwNTkwXV0sIFsnRG93bkxlZnRWZWN0b3JCYXInLCBbMTA1ODJdXSwgWydEb3duTGVmdFZlY3RvcicsIFs4NjM3XV0sIFsnRG93blJpZ2h0VGVlVmVjdG9yJywgWzEwNTkxXV0sIFsnRG93blJpZ2h0VmVjdG9yQmFyJywgWzEwNTgzXV0sIFsnRG93blJpZ2h0VmVjdG9yJywgWzg2NDFdXSwgWydEb3duVGVlQXJyb3cnLCBbODYxNV1dLCBbJ0Rvd25UZWUnLCBbODg2OF1dLCBbJ2RyYmthcm93JywgWzEwNTEyXV0sIFsnZHJjb3JuJywgWzg5OTFdXSwgWydkcmNyb3AnLCBbODk3Ml1dLCBbJ0RzY3InLCBbMTE5OTY3XV0sIFsnZHNjcicsIFsxMTk5OTNdXSwgWydEU2N5JywgWzEwMjldXSwgWydkc2N5JywgWzExMDldXSwgWydkc29sJywgWzEwNzQyXV0sIFsnRHN0cm9rJywgWzI3Ml1dLCBbJ2RzdHJvaycsIFsyNzNdXSwgWydkdGRvdCcsIFs4OTQ1XV0sIFsnZHRyaScsIFs5NjYzXV0sIFsnZHRyaWYnLCBbOTY2Ml1dLCBbJ2R1YXJyJywgWzg2OTNdXSwgWydkdWhhcicsIFsxMDYwN11dLCBbJ2R3YW5nbGUnLCBbMTA2NjJdXSwgWydEWmN5JywgWzEwMzldXSwgWydkemN5JywgWzExMTldXSwgWydkemlncmFycicsIFsxMDIzOV1dLCBbJ0VhY3V0ZScsIFsyMDFdXSwgWydlYWN1dGUnLCBbMjMzXV0sIFsnZWFzdGVyJywgWzEwODYyXV0sIFsnRWNhcm9uJywgWzI4Ml1dLCBbJ2VjYXJvbicsIFsyODNdXSwgWydFY2lyYycsIFsyMDJdXSwgWydlY2lyYycsIFsyMzRdXSwgWydlY2lyJywgWzg3OTBdXSwgWydlY29sb24nLCBbODc4OV1dLCBbJ0VjeScsIFsxMDY5XV0sIFsnZWN5JywgWzExMDFdXSwgWydlRERvdCcsIFsxMDg3MV1dLCBbJ0Vkb3QnLCBbMjc4XV0sIFsnZWRvdCcsIFsyNzldXSwgWydlRG90JywgWzg3ODVdXSwgWydlZScsIFs4NTE5XV0sIFsnZWZEb3QnLCBbODc4Nl1dLCBbJ0VmcicsIFsxMjAwNzJdXSwgWydlZnInLCBbMTIwMDk4XV0sIFsnZWcnLCBbMTA5MDZdXSwgWydFZ3JhdmUnLCBbMjAwXV0sIFsnZWdyYXZlJywgWzIzMl1dLCBbJ2VncycsIFsxMDkwMl1dLCBbJ2Vnc2RvdCcsIFsxMDkwNF1dLCBbJ2VsJywgWzEwOTA1XV0sIFsnRWxlbWVudCcsIFs4NzEyXV0sIFsnZWxpbnRlcnMnLCBbOTE5MV1dLCBbJ2VsbCcsIFs4NDY3XV0sIFsnZWxzJywgWzEwOTAxXV0sIFsnZWxzZG90JywgWzEwOTAzXV0sIFsnRW1hY3InLCBbMjc0XV0sIFsnZW1hY3InLCBbMjc1XV0sIFsnZW1wdHknLCBbODcwOV1dLCBbJ2VtcHR5c2V0JywgWzg3MDldXSwgWydFbXB0eVNtYWxsU3F1YXJlJywgWzk3MjNdXSwgWydlbXB0eXYnLCBbODcwOV1dLCBbJ0VtcHR5VmVyeVNtYWxsU3F1YXJlJywgWzk2NDNdXSwgWydlbXNwMTMnLCBbODE5Nl1dLCBbJ2Vtc3AxNCcsIFs4MTk3XV0sIFsnZW1zcCcsIFs4MTk1XV0sIFsnRU5HJywgWzMzMF1dLCBbJ2VuZycsIFszMzFdXSwgWydlbnNwJywgWzgxOTRdXSwgWydFb2dvbicsIFsyODBdXSwgWydlb2dvbicsIFsyODFdXSwgWydFb3BmJywgWzEyMDEyNF1dLCBbJ2VvcGYnLCBbMTIwMTUwXV0sIFsnZXBhcicsIFs4OTE3XV0sIFsnZXBhcnNsJywgWzEwNzIzXV0sIFsnZXBsdXMnLCBbMTA4NjVdXSwgWydlcHNpJywgWzk0OV1dLCBbJ0Vwc2lsb24nLCBbOTE3XV0sIFsnZXBzaWxvbicsIFs5NDldXSwgWydlcHNpdicsIFsxMDEzXV0sIFsnZXFjaXJjJywgWzg3OTBdXSwgWydlcWNvbG9uJywgWzg3ODldXSwgWydlcXNpbScsIFs4NzcwXV0sIFsnZXFzbGFudGd0cicsIFsxMDkwMl1dLCBbJ2Vxc2xhbnRsZXNzJywgWzEwOTAxXV0sIFsnRXF1YWwnLCBbMTA4NjldXSwgWydlcXVhbHMnLCBbNjFdXSwgWydFcXVhbFRpbGRlJywgWzg3NzBdXSwgWydlcXVlc3QnLCBbODc5OV1dLCBbJ0VxdWlsaWJyaXVtJywgWzg2NTJdXSwgWydlcXVpdicsIFs4ODAxXV0sIFsnZXF1aXZERCcsIFsxMDg3Ml1dLCBbJ2VxdnBhcnNsJywgWzEwNzI1XV0sIFsnZXJhcnInLCBbMTA2MDldXSwgWydlckRvdCcsIFs4Nzg3XV0sIFsnZXNjcicsIFs4NDk1XV0sIFsnRXNjcicsIFs4NDk2XV0sIFsnZXNkb3QnLCBbODc4NF1dLCBbJ0VzaW0nLCBbMTA4NjddXSwgWydlc2ltJywgWzg3NzBdXSwgWydFdGEnLCBbOTE5XV0sIFsnZXRhJywgWzk1MV1dLCBbJ0VUSCcsIFsyMDhdXSwgWydldGgnLCBbMjQwXV0sIFsnRXVtbCcsIFsyMDNdXSwgWydldW1sJywgWzIzNV1dLCBbJ2V1cm8nLCBbODM2NF1dLCBbJ2V4Y2wnLCBbMzNdXSwgWydleGlzdCcsIFs4NzA3XV0sIFsnRXhpc3RzJywgWzg3MDddXSwgWydleHBlY3RhdGlvbicsIFs4NDk2XV0sIFsnZXhwb25lbnRpYWxlJywgWzg1MTldXSwgWydFeHBvbmVudGlhbEUnLCBbODUxOV1dLCBbJ2ZhbGxpbmdkb3RzZXEnLCBbODc4Nl1dLCBbJ0ZjeScsIFsxMDYwXV0sIFsnZmN5JywgWzEwOTJdXSwgWydmZW1hbGUnLCBbOTc5Ml1dLCBbJ2ZmaWxpZycsIFs2NDI1OV1dLCBbJ2ZmbGlnJywgWzY0MjU2XV0sIFsnZmZsbGlnJywgWzY0MjYwXV0sIFsnRmZyJywgWzEyMDA3M11dLCBbJ2ZmcicsIFsxMjAwOTldXSwgWydmaWxpZycsIFs2NDI1N11dLCBbJ0ZpbGxlZFNtYWxsU3F1YXJlJywgWzk3MjRdXSwgWydGaWxsZWRWZXJ5U21hbGxTcXVhcmUnLCBbOTY0Ml1dLCBbJ2ZqbGlnJywgWzEwMiwgMTA2XV0sIFsnZmxhdCcsIFs5ODM3XV0sIFsnZmxsaWcnLCBbNjQyNThdXSwgWydmbHRucycsIFs5NjQ5XV0sIFsnZm5vZicsIFs0MDJdXSwgWydGb3BmJywgWzEyMDEyNV1dLCBbJ2ZvcGYnLCBbMTIwMTUxXV0sIFsnZm9yYWxsJywgWzg3MDRdXSwgWydGb3JBbGwnLCBbODcwNF1dLCBbJ2ZvcmsnLCBbODkxNl1dLCBbJ2Zvcmt2JywgWzEwOTY5XV0sIFsnRm91cmllcnRyZicsIFs4NDk3XV0sIFsnZnBhcnRpbnQnLCBbMTA3NjVdXSwgWydmcmFjMTInLCBbMTg5XV0sIFsnZnJhYzEzJywgWzg1MzFdXSwgWydmcmFjMTQnLCBbMTg4XV0sIFsnZnJhYzE1JywgWzg1MzNdXSwgWydmcmFjMTYnLCBbODUzN11dLCBbJ2ZyYWMxOCcsIFs4NTM5XV0sIFsnZnJhYzIzJywgWzg1MzJdXSwgWydmcmFjMjUnLCBbODUzNF1dLCBbJ2ZyYWMzNCcsIFsxOTBdXSwgWydmcmFjMzUnLCBbODUzNV1dLCBbJ2ZyYWMzOCcsIFs4NTQwXV0sIFsnZnJhYzQ1JywgWzg1MzZdXSwgWydmcmFjNTYnLCBbODUzOF1dLCBbJ2ZyYWM1OCcsIFs4NTQxXV0sIFsnZnJhYzc4JywgWzg1NDJdXSwgWydmcmFzbCcsIFs4MjYwXV0sIFsnZnJvd24nLCBbODk5NF1dLCBbJ2ZzY3InLCBbMTE5OTk1XV0sIFsnRnNjcicsIFs4NDk3XV0sIFsnZ2FjdXRlJywgWzUwMV1dLCBbJ0dhbW1hJywgWzkxNV1dLCBbJ2dhbW1hJywgWzk0N11dLCBbJ0dhbW1hZCcsIFs5ODhdXSwgWydnYW1tYWQnLCBbOTg5XV0sIFsnZ2FwJywgWzEwODg2XV0sIFsnR2JyZXZlJywgWzI4Nl1dLCBbJ2dicmV2ZScsIFsyODddXSwgWydHY2VkaWwnLCBbMjkwXV0sIFsnR2NpcmMnLCBbMjg0XV0sIFsnZ2NpcmMnLCBbMjg1XV0sIFsnR2N5JywgWzEwNDNdXSwgWydnY3knLCBbMTA3NV1dLCBbJ0dkb3QnLCBbMjg4XV0sIFsnZ2RvdCcsIFsyODldXSwgWydnZScsIFs4ODA1XV0sIFsnZ0UnLCBbODgwN11dLCBbJ2dFbCcsIFsxMDg5Ml1dLCBbJ2dlbCcsIFs4OTIzXV0sIFsnZ2VxJywgWzg4MDVdXSwgWydnZXFxJywgWzg4MDddXSwgWydnZXFzbGFudCcsIFsxMDg3OF1dLCBbJ2dlc2NjJywgWzEwOTIxXV0sIFsnZ2VzJywgWzEwODc4XV0sIFsnZ2VzZG90JywgWzEwODgwXV0sIFsnZ2VzZG90bycsIFsxMDg4Ml1dLCBbJ2dlc2RvdG9sJywgWzEwODg0XV0sIFsnZ2VzbCcsIFs4OTIzLCA2NTAyNF1dLCBbJ2dlc2xlcycsIFsxMDkwMF1dLCBbJ0dmcicsIFsxMjAwNzRdXSwgWydnZnInLCBbMTIwMTAwXV0sIFsnZ2cnLCBbODgxMV1dLCBbJ0dnJywgWzg5MjFdXSwgWydnZ2cnLCBbODkyMV1dLCBbJ2dpbWVsJywgWzg1MDNdXSwgWydHSmN5JywgWzEwMjddXSwgWydnamN5JywgWzExMDddXSwgWydnbGEnLCBbMTA5MTddXSwgWydnbCcsIFs4ODIzXV0sIFsnZ2xFJywgWzEwODk4XV0sIFsnZ2xqJywgWzEwOTE2XV0sIFsnZ25hcCcsIFsxMDg5MF1dLCBbJ2duYXBwcm94JywgWzEwODkwXV0sIFsnZ25lJywgWzEwODg4XV0sIFsnZ25FJywgWzg4MDldXSwgWydnbmVxJywgWzEwODg4XV0sIFsnZ25lcXEnLCBbODgwOV1dLCBbJ2duc2ltJywgWzg5MzVdXSwgWydHb3BmJywgWzEyMDEyNl1dLCBbJ2dvcGYnLCBbMTIwMTUyXV0sIFsnZ3JhdmUnLCBbOTZdXSwgWydHcmVhdGVyRXF1YWwnLCBbODgwNV1dLCBbJ0dyZWF0ZXJFcXVhbExlc3MnLCBbODkyM11dLCBbJ0dyZWF0ZXJGdWxsRXF1YWwnLCBbODgwN11dLCBbJ0dyZWF0ZXJHcmVhdGVyJywgWzEwOTE0XV0sIFsnR3JlYXRlckxlc3MnLCBbODgyM11dLCBbJ0dyZWF0ZXJTbGFudEVxdWFsJywgWzEwODc4XV0sIFsnR3JlYXRlclRpbGRlJywgWzg4MTldXSwgWydHc2NyJywgWzExOTk3MF1dLCBbJ2dzY3InLCBbODQ1OF1dLCBbJ2dzaW0nLCBbODgxOV1dLCBbJ2dzaW1lJywgWzEwODk0XV0sIFsnZ3NpbWwnLCBbMTA4OTZdXSwgWydndGNjJywgWzEwOTE5XV0sIFsnZ3RjaXInLCBbMTA4NzRdXSwgWydndCcsIFs2Ml1dLCBbJ0dUJywgWzYyXV0sIFsnR3QnLCBbODgxMV1dLCBbJ2d0ZG90JywgWzg5MTldXSwgWydndGxQYXInLCBbMTA2NDVdXSwgWydndHF1ZXN0JywgWzEwODc2XV0sIFsnZ3RyYXBwcm94JywgWzEwODg2XV0sIFsnZ3RyYXJyJywgWzEwNjE2XV0sIFsnZ3RyZG90JywgWzg5MTldXSwgWydndHJlcWxlc3MnLCBbODkyM11dLCBbJ2d0cmVxcWxlc3MnLCBbMTA4OTJdXSwgWydndHJsZXNzJywgWzg4MjNdXSwgWydndHJzaW0nLCBbODgxOV1dLCBbJ2d2ZXJ0bmVxcScsIFs4ODA5LCA2NTAyNF1dLCBbJ2d2bkUnLCBbODgwOSwgNjUwMjRdXSwgWydIYWNlaycsIFs3MTFdXSwgWydoYWlyc3AnLCBbODIwMl1dLCBbJ2hhbGYnLCBbMTg5XV0sIFsnaGFtaWx0JywgWzg0NTldXSwgWydIQVJEY3knLCBbMTA2Nl1dLCBbJ2hhcmRjeScsIFsxMDk4XV0sIFsnaGFycmNpcicsIFsxMDU2OF1dLCBbJ2hhcnInLCBbODU5Nl1dLCBbJ2hBcnInLCBbODY2MF1dLCBbJ2hhcnJ3JywgWzg2MjFdXSwgWydIYXQnLCBbOTRdXSwgWydoYmFyJywgWzg0NjNdXSwgWydIY2lyYycsIFsyOTJdXSwgWydoY2lyYycsIFsyOTNdXSwgWydoZWFydHMnLCBbOTgyOV1dLCBbJ2hlYXJ0c3VpdCcsIFs5ODI5XV0sIFsnaGVsbGlwJywgWzgyMzBdXSwgWydoZXJjb24nLCBbODg4OV1dLCBbJ2hmcicsIFsxMjAxMDFdXSwgWydIZnInLCBbODQ2MF1dLCBbJ0hpbGJlcnRTcGFjZScsIFs4NDU5XV0sIFsnaGtzZWFyb3cnLCBbMTA1MzNdXSwgWydoa3N3YXJvdycsIFsxMDUzNF1dLCBbJ2hvYXJyJywgWzg3MDNdXSwgWydob210aHQnLCBbODc2M11dLCBbJ2hvb2tsZWZ0YXJyb3cnLCBbODYxN11dLCBbJ2hvb2tyaWdodGFycm93JywgWzg2MThdXSwgWydob3BmJywgWzEyMDE1M11dLCBbJ0hvcGYnLCBbODQ2MV1dLCBbJ2hvcmJhcicsIFs4MjEzXV0sIFsnSG9yaXpvbnRhbExpbmUnLCBbOTQ3Ml1dLCBbJ2hzY3InLCBbMTE5OTk3XV0sIFsnSHNjcicsIFs4NDU5XV0sIFsnaHNsYXNoJywgWzg0NjNdXSwgWydIc3Ryb2snLCBbMjk0XV0sIFsnaHN0cm9rJywgWzI5NV1dLCBbJ0h1bXBEb3duSHVtcCcsIFs4NzgyXV0sIFsnSHVtcEVxdWFsJywgWzg3ODNdXSwgWydoeWJ1bGwnLCBbODI1OV1dLCBbJ2h5cGhlbicsIFs4MjA4XV0sIFsnSWFjdXRlJywgWzIwNV1dLCBbJ2lhY3V0ZScsIFsyMzddXSwgWydpYycsIFs4MjkxXV0sIFsnSWNpcmMnLCBbMjA2XV0sIFsnaWNpcmMnLCBbMjM4XV0sIFsnSWN5JywgWzEwNDhdXSwgWydpY3knLCBbMTA4MF1dLCBbJ0lkb3QnLCBbMzA0XV0sIFsnSUVjeScsIFsxMDQ1XV0sIFsnaWVjeScsIFsxMDc3XV0sIFsnaWV4Y2wnLCBbMTYxXV0sIFsnaWZmJywgWzg2NjBdXSwgWydpZnInLCBbMTIwMTAyXV0sIFsnSWZyJywgWzg0NjVdXSwgWydJZ3JhdmUnLCBbMjA0XV0sIFsnaWdyYXZlJywgWzIzNl1dLCBbJ2lpJywgWzg1MjBdXSwgWydpaWlpbnQnLCBbMTA3NjRdXSwgWydpaWludCcsIFs4NzQ5XV0sIFsnaWluZmluJywgWzEwNzE2XV0sIFsnaWlvdGEnLCBbODQ4OV1dLCBbJ0lKbGlnJywgWzMwNl1dLCBbJ2lqbGlnJywgWzMwN11dLCBbJ0ltYWNyJywgWzI5OF1dLCBbJ2ltYWNyJywgWzI5OV1dLCBbJ2ltYWdlJywgWzg0NjVdXSwgWydJbWFnaW5hcnlJJywgWzg1MjBdXSwgWydpbWFnbGluZScsIFs4NDY0XV0sIFsnaW1hZ3BhcnQnLCBbODQ2NV1dLCBbJ2ltYXRoJywgWzMwNV1dLCBbJ0ltJywgWzg0NjVdXSwgWydpbW9mJywgWzg4ODddXSwgWydpbXBlZCcsIFs0MzddXSwgWydJbXBsaWVzJywgWzg2NThdXSwgWydpbmNhcmUnLCBbODQ1M11dLCBbJ2luJywgWzg3MTJdXSwgWydpbmZpbicsIFs4NzM0XV0sIFsnaW5maW50aWUnLCBbMTA3MTddXSwgWydpbm9kb3QnLCBbMzA1XV0sIFsnaW50Y2FsJywgWzg4OTBdXSwgWydpbnQnLCBbODc0N11dLCBbJ0ludCcsIFs4NzQ4XV0sIFsnaW50ZWdlcnMnLCBbODQ4NF1dLCBbJ0ludGVncmFsJywgWzg3NDddXSwgWydpbnRlcmNhbCcsIFs4ODkwXV0sIFsnSW50ZXJzZWN0aW9uJywgWzg4OThdXSwgWydpbnRsYXJoaycsIFsxMDc3NV1dLCBbJ2ludHByb2QnLCBbMTA4MTJdXSwgWydJbnZpc2libGVDb21tYScsIFs4MjkxXV0sIFsnSW52aXNpYmxlVGltZXMnLCBbODI5MF1dLCBbJ0lPY3knLCBbMTAyNV1dLCBbJ2lvY3knLCBbMTEwNV1dLCBbJ0lvZ29uJywgWzMwMl1dLCBbJ2lvZ29uJywgWzMwM11dLCBbJ0lvcGYnLCBbMTIwMTI4XV0sIFsnaW9wZicsIFsxMjAxNTRdXSwgWydJb3RhJywgWzkyMV1dLCBbJ2lvdGEnLCBbOTUzXV0sIFsnaXByb2QnLCBbMTA4MTJdXSwgWydpcXVlc3QnLCBbMTkxXV0sIFsnaXNjcicsIFsxMTk5OThdXSwgWydJc2NyJywgWzg0NjRdXSwgWydpc2luJywgWzg3MTJdXSwgWydpc2luZG90JywgWzg5NDldXSwgWydpc2luRScsIFs4OTUzXV0sIFsnaXNpbnMnLCBbODk0OF1dLCBbJ2lzaW5zdicsIFs4OTQ3XV0sIFsnaXNpbnYnLCBbODcxMl1dLCBbJ2l0JywgWzgyOTBdXSwgWydJdGlsZGUnLCBbMjk2XV0sIFsnaXRpbGRlJywgWzI5N11dLCBbJ0l1a2N5JywgWzEwMzBdXSwgWydpdWtjeScsIFsxMTEwXV0sIFsnSXVtbCcsIFsyMDddXSwgWydpdW1sJywgWzIzOV1dLCBbJ0pjaXJjJywgWzMwOF1dLCBbJ2pjaXJjJywgWzMwOV1dLCBbJ0pjeScsIFsxMDQ5XV0sIFsnamN5JywgWzEwODFdXSwgWydKZnInLCBbMTIwMDc3XV0sIFsnamZyJywgWzEyMDEwM11dLCBbJ2ptYXRoJywgWzU2N11dLCBbJ0pvcGYnLCBbMTIwMTI5XV0sIFsnam9wZicsIFsxMjAxNTVdXSwgWydKc2NyJywgWzExOTk3M11dLCBbJ2pzY3InLCBbMTE5OTk5XV0sIFsnSnNlcmN5JywgWzEwMzJdXSwgWydqc2VyY3knLCBbMTExMl1dLCBbJ0p1a2N5JywgWzEwMjhdXSwgWydqdWtjeScsIFsxMTA4XV0sIFsnS2FwcGEnLCBbOTIyXV0sIFsna2FwcGEnLCBbOTU0XV0sIFsna2FwcGF2JywgWzEwMDhdXSwgWydLY2VkaWwnLCBbMzEwXV0sIFsna2NlZGlsJywgWzMxMV1dLCBbJ0tjeScsIFsxMDUwXV0sIFsna2N5JywgWzEwODJdXSwgWydLZnInLCBbMTIwMDc4XV0sIFsna2ZyJywgWzEyMDEwNF1dLCBbJ2tncmVlbicsIFszMTJdXSwgWydLSGN5JywgWzEwNjFdXSwgWydraGN5JywgWzEwOTNdXSwgWydLSmN5JywgWzEwMzZdXSwgWydramN5JywgWzExMTZdXSwgWydLb3BmJywgWzEyMDEzMF1dLCBbJ2tvcGYnLCBbMTIwMTU2XV0sIFsnS3NjcicsIFsxMTk5NzRdXSwgWydrc2NyJywgWzEyMDAwMF1dLCBbJ2xBYXJyJywgWzg2NjZdXSwgWydMYWN1dGUnLCBbMzEzXV0sIFsnbGFjdXRlJywgWzMxNF1dLCBbJ2xhZW1wdHl2JywgWzEwNjc2XV0sIFsnbGFncmFuJywgWzg0NjZdXSwgWydMYW1iZGEnLCBbOTIzXV0sIFsnbGFtYmRhJywgWzk1NV1dLCBbJ2xhbmcnLCBbMTAyMTZdXSwgWydMYW5nJywgWzEwMjE4XV0sIFsnbGFuZ2QnLCBbMTA2NDFdXSwgWydsYW5nbGUnLCBbMTAyMTZdXSwgWydsYXAnLCBbMTA4ODVdXSwgWydMYXBsYWNldHJmJywgWzg0NjZdXSwgWydsYXF1bycsIFsxNzFdXSwgWydsYXJyYicsIFs4Njc2XV0sIFsnbGFycmJmcycsIFsxMDUyN11dLCBbJ2xhcnInLCBbODU5Ml1dLCBbJ0xhcnInLCBbODYwNl1dLCBbJ2xBcnInLCBbODY1Nl1dLCBbJ2xhcnJmcycsIFsxMDUyNV1dLCBbJ2xhcnJoaycsIFs4NjE3XV0sIFsnbGFycmxwJywgWzg2MTldXSwgWydsYXJycGwnLCBbMTA1NTNdXSwgWydsYXJyc2ltJywgWzEwNjExXV0sIFsnbGFycnRsJywgWzg2MTBdXSwgWydsYXRhaWwnLCBbMTA1MjFdXSwgWydsQXRhaWwnLCBbMTA1MjNdXSwgWydsYXQnLCBbMTA5MjNdXSwgWydsYXRlJywgWzEwOTI1XV0sIFsnbGF0ZXMnLCBbMTA5MjUsIDY1MDI0XV0sIFsnbGJhcnInLCBbMTA1MDhdXSwgWydsQmFycicsIFsxMDUxMF1dLCBbJ2xiYnJrJywgWzEwMDk4XV0sIFsnbGJyYWNlJywgWzEyM11dLCBbJ2xicmFjaycsIFs5MV1dLCBbJ2xicmtlJywgWzEwNjM1XV0sIFsnbGJya3NsZCcsIFsxMDYzOV1dLCBbJ2xicmtzbHUnLCBbMTA2MzddXSwgWydMY2Fyb24nLCBbMzE3XV0sIFsnbGNhcm9uJywgWzMxOF1dLCBbJ0xjZWRpbCcsIFszMTVdXSwgWydsY2VkaWwnLCBbMzE2XV0sIFsnbGNlaWwnLCBbODk2OF1dLCBbJ2xjdWInLCBbMTIzXV0sIFsnTGN5JywgWzEwNTFdXSwgWydsY3knLCBbMTA4M11dLCBbJ2xkY2EnLCBbMTA1NTBdXSwgWydsZHF1bycsIFs4MjIwXV0sIFsnbGRxdW9yJywgWzgyMjJdXSwgWydsZHJkaGFyJywgWzEwNTk5XV0sIFsnbGRydXNoYXInLCBbMTA1NzFdXSwgWydsZHNoJywgWzg2MjZdXSwgWydsZScsIFs4ODA0XV0sIFsnbEUnLCBbODgwNl1dLCBbJ0xlZnRBbmdsZUJyYWNrZXQnLCBbMTAyMTZdXSwgWydMZWZ0QXJyb3dCYXInLCBbODY3Nl1dLCBbJ2xlZnRhcnJvdycsIFs4NTkyXV0sIFsnTGVmdEFycm93JywgWzg1OTJdXSwgWydMZWZ0YXJyb3cnLCBbODY1Nl1dLCBbJ0xlZnRBcnJvd1JpZ2h0QXJyb3cnLCBbODY0Nl1dLCBbJ2xlZnRhcnJvd3RhaWwnLCBbODYxMF1dLCBbJ0xlZnRDZWlsaW5nJywgWzg5NjhdXSwgWydMZWZ0RG91YmxlQnJhY2tldCcsIFsxMDIxNF1dLCBbJ0xlZnREb3duVGVlVmVjdG9yJywgWzEwNTkzXV0sIFsnTGVmdERvd25WZWN0b3JCYXInLCBbMTA1ODVdXSwgWydMZWZ0RG93blZlY3RvcicsIFs4NjQzXV0sIFsnTGVmdEZsb29yJywgWzg5NzBdXSwgWydsZWZ0aGFycG9vbmRvd24nLCBbODYzN11dLCBbJ2xlZnRoYXJwb29udXAnLCBbODYzNl1dLCBbJ2xlZnRsZWZ0YXJyb3dzJywgWzg2NDddXSwgWydsZWZ0cmlnaHRhcnJvdycsIFs4NTk2XV0sIFsnTGVmdFJpZ2h0QXJyb3cnLCBbODU5Nl1dLCBbJ0xlZnRyaWdodGFycm93JywgWzg2NjBdXSwgWydsZWZ0cmlnaHRhcnJvd3MnLCBbODY0Nl1dLCBbJ2xlZnRyaWdodGhhcnBvb25zJywgWzg2NTFdXSwgWydsZWZ0cmlnaHRzcXVpZ2Fycm93JywgWzg2MjFdXSwgWydMZWZ0UmlnaHRWZWN0b3InLCBbMTA1NzRdXSwgWydMZWZ0VGVlQXJyb3cnLCBbODYxMl1dLCBbJ0xlZnRUZWUnLCBbODg2N11dLCBbJ0xlZnRUZWVWZWN0b3InLCBbMTA1ODZdXSwgWydsZWZ0dGhyZWV0aW1lcycsIFs4OTA3XV0sIFsnTGVmdFRyaWFuZ2xlQmFyJywgWzEwNzAzXV0sIFsnTGVmdFRyaWFuZ2xlJywgWzg4ODJdXSwgWydMZWZ0VHJpYW5nbGVFcXVhbCcsIFs4ODg0XV0sIFsnTGVmdFVwRG93blZlY3RvcicsIFsxMDU3N11dLCBbJ0xlZnRVcFRlZVZlY3RvcicsIFsxMDU5Ml1dLCBbJ0xlZnRVcFZlY3RvckJhcicsIFsxMDU4NF1dLCBbJ0xlZnRVcFZlY3RvcicsIFs4NjM5XV0sIFsnTGVmdFZlY3RvckJhcicsIFsxMDU3OF1dLCBbJ0xlZnRWZWN0b3InLCBbODYzNl1dLCBbJ2xFZycsIFsxMDg5MV1dLCBbJ2xlZycsIFs4OTIyXV0sIFsnbGVxJywgWzg4MDRdXSwgWydsZXFxJywgWzg4MDZdXSwgWydsZXFzbGFudCcsIFsxMDg3N11dLCBbJ2xlc2NjJywgWzEwOTIwXV0sIFsnbGVzJywgWzEwODc3XV0sIFsnbGVzZG90JywgWzEwODc5XV0sIFsnbGVzZG90bycsIFsxMDg4MV1dLCBbJ2xlc2RvdG9yJywgWzEwODgzXV0sIFsnbGVzZycsIFs4OTIyLCA2NTAyNF1dLCBbJ2xlc2dlcycsIFsxMDg5OV1dLCBbJ2xlc3NhcHByb3gnLCBbMTA4ODVdXSwgWydsZXNzZG90JywgWzg5MThdXSwgWydsZXNzZXFndHInLCBbODkyMl1dLCBbJ2xlc3NlcXFndHInLCBbMTA4OTFdXSwgWydMZXNzRXF1YWxHcmVhdGVyJywgWzg5MjJdXSwgWydMZXNzRnVsbEVxdWFsJywgWzg4MDZdXSwgWydMZXNzR3JlYXRlcicsIFs4ODIyXV0sIFsnbGVzc2d0cicsIFs4ODIyXV0sIFsnTGVzc0xlc3MnLCBbMTA5MTNdXSwgWydsZXNzc2ltJywgWzg4MThdXSwgWydMZXNzU2xhbnRFcXVhbCcsIFsxMDg3N11dLCBbJ0xlc3NUaWxkZScsIFs4ODE4XV0sIFsnbGZpc2h0JywgWzEwNjIwXV0sIFsnbGZsb29yJywgWzg5NzBdXSwgWydMZnInLCBbMTIwMDc5XV0sIFsnbGZyJywgWzEyMDEwNV1dLCBbJ2xnJywgWzg4MjJdXSwgWydsZ0UnLCBbMTA4OTddXSwgWydsSGFyJywgWzEwNTk0XV0sIFsnbGhhcmQnLCBbODYzN11dLCBbJ2xoYXJ1JywgWzg2MzZdXSwgWydsaGFydWwnLCBbMTA2MDJdXSwgWydsaGJsaycsIFs5NjA0XV0sIFsnTEpjeScsIFsxMDMzXV0sIFsnbGpjeScsIFsxMTEzXV0sIFsnbGxhcnInLCBbODY0N11dLCBbJ2xsJywgWzg4MTBdXSwgWydMbCcsIFs4OTIwXV0sIFsnbGxjb3JuZXInLCBbODk5MF1dLCBbJ0xsZWZ0YXJyb3cnLCBbODY2Nl1dLCBbJ2xsaGFyZCcsIFsxMDYwM11dLCBbJ2xsdHJpJywgWzk3MjJdXSwgWydMbWlkb3QnLCBbMzE5XV0sIFsnbG1pZG90JywgWzMyMF1dLCBbJ2xtb3VzdGFjaGUnLCBbOTEzNl1dLCBbJ2xtb3VzdCcsIFs5MTM2XV0sIFsnbG5hcCcsIFsxMDg4OV1dLCBbJ2xuYXBwcm94JywgWzEwODg5XV0sIFsnbG5lJywgWzEwODg3XV0sIFsnbG5FJywgWzg4MDhdXSwgWydsbmVxJywgWzEwODg3XV0sIFsnbG5lcXEnLCBbODgwOF1dLCBbJ2xuc2ltJywgWzg5MzRdXSwgWydsb2FuZycsIFsxMDIyMF1dLCBbJ2xvYXJyJywgWzg3MDFdXSwgWydsb2JyaycsIFsxMDIxNF1dLCBbJ2xvbmdsZWZ0YXJyb3cnLCBbMTAyMjldXSwgWydMb25nTGVmdEFycm93JywgWzEwMjI5XV0sIFsnTG9uZ2xlZnRhcnJvdycsIFsxMDIzMl1dLCBbJ2xvbmdsZWZ0cmlnaHRhcnJvdycsIFsxMDIzMV1dLCBbJ0xvbmdMZWZ0UmlnaHRBcnJvdycsIFsxMDIzMV1dLCBbJ0xvbmdsZWZ0cmlnaHRhcnJvdycsIFsxMDIzNF1dLCBbJ2xvbmdtYXBzdG8nLCBbMTAyMzZdXSwgWydsb25ncmlnaHRhcnJvdycsIFsxMDIzMF1dLCBbJ0xvbmdSaWdodEFycm93JywgWzEwMjMwXV0sIFsnTG9uZ3JpZ2h0YXJyb3cnLCBbMTAyMzNdXSwgWydsb29wYXJyb3dsZWZ0JywgWzg2MTldXSwgWydsb29wYXJyb3dyaWdodCcsIFs4NjIwXV0sIFsnbG9wYXInLCBbMTA2MjldXSwgWydMb3BmJywgWzEyMDEzMV1dLCBbJ2xvcGYnLCBbMTIwMTU3XV0sIFsnbG9wbHVzJywgWzEwNzk3XV0sIFsnbG90aW1lcycsIFsxMDgwNF1dLCBbJ2xvd2FzdCcsIFs4NzI3XV0sIFsnbG93YmFyJywgWzk1XV0sIFsnTG93ZXJMZWZ0QXJyb3cnLCBbODYwMV1dLCBbJ0xvd2VyUmlnaHRBcnJvdycsIFs4NjAwXV0sIFsnbG96JywgWzk2NzRdXSwgWydsb3plbmdlJywgWzk2NzRdXSwgWydsb3pmJywgWzEwNzMxXV0sIFsnbHBhcicsIFs0MF1dLCBbJ2xwYXJsdCcsIFsxMDY0M11dLCBbJ2xyYXJyJywgWzg2NDZdXSwgWydscmNvcm5lcicsIFs4OTkxXV0sIFsnbHJoYXInLCBbODY1MV1dLCBbJ2xyaGFyZCcsIFsxMDYwNV1dLCBbJ2xybScsIFs4MjA2XV0sIFsnbHJ0cmknLCBbODg5NV1dLCBbJ2xzYXF1bycsIFs4MjQ5XV0sIFsnbHNjcicsIFsxMjAwMDFdXSwgWydMc2NyJywgWzg0NjZdXSwgWydsc2gnLCBbODYyNF1dLCBbJ0xzaCcsIFs4NjI0XV0sIFsnbHNpbScsIFs4ODE4XV0sIFsnbHNpbWUnLCBbMTA4OTNdXSwgWydsc2ltZycsIFsxMDg5NV1dLCBbJ2xzcWInLCBbOTFdXSwgWydsc3F1bycsIFs4MjE2XV0sIFsnbHNxdW9yJywgWzgyMThdXSwgWydMc3Ryb2snLCBbMzIxXV0sIFsnbHN0cm9rJywgWzMyMl1dLCBbJ2x0Y2MnLCBbMTA5MThdXSwgWydsdGNpcicsIFsxMDg3M11dLCBbJ2x0JywgWzYwXV0sIFsnTFQnLCBbNjBdXSwgWydMdCcsIFs4ODEwXV0sIFsnbHRkb3QnLCBbODkxOF1dLCBbJ2x0aHJlZScsIFs4OTA3XV0sIFsnbHRpbWVzJywgWzg5MDVdXSwgWydsdGxhcnInLCBbMTA2MTRdXSwgWydsdHF1ZXN0JywgWzEwODc1XV0sIFsnbHRyaScsIFs5NjY3XV0sIFsnbHRyaWUnLCBbODg4NF1dLCBbJ2x0cmlmJywgWzk2NjZdXSwgWydsdHJQYXInLCBbMTA2NDZdXSwgWydsdXJkc2hhcicsIFsxMDU3MF1dLCBbJ2x1cnVoYXInLCBbMTA1OThdXSwgWydsdmVydG5lcXEnLCBbODgwOCwgNjUwMjRdXSwgWydsdm5FJywgWzg4MDgsIDY1MDI0XV0sIFsnbWFjcicsIFsxNzVdXSwgWydtYWxlJywgWzk3OTRdXSwgWydtYWx0JywgWzEwMDE2XV0sIFsnbWFsdGVzZScsIFsxMDAxNl1dLCBbJ01hcCcsIFsxMDUwMV1dLCBbJ21hcCcsIFs4NjE0XV0sIFsnbWFwc3RvJywgWzg2MTRdXSwgWydtYXBzdG9kb3duJywgWzg2MTVdXSwgWydtYXBzdG9sZWZ0JywgWzg2MTJdXSwgWydtYXBzdG91cCcsIFs4NjEzXV0sIFsnbWFya2VyJywgWzk2NDZdXSwgWydtY29tbWEnLCBbMTA3OTNdXSwgWydNY3knLCBbMTA1Ml1dLCBbJ21jeScsIFsxMDg0XV0sIFsnbWRhc2gnLCBbODIxMl1dLCBbJ21ERG90JywgWzg3NjJdXSwgWydtZWFzdXJlZGFuZ2xlJywgWzg3MzddXSwgWydNZWRpdW1TcGFjZScsIFs4Mjg3XV0sIFsnTWVsbGludHJmJywgWzg0OTldXSwgWydNZnInLCBbMTIwMDgwXV0sIFsnbWZyJywgWzEyMDEwNl1dLCBbJ21obycsIFs4NDg3XV0sIFsnbWljcm8nLCBbMTgxXV0sIFsnbWlkYXN0JywgWzQyXV0sIFsnbWlkY2lyJywgWzEwOTkyXV0sIFsnbWlkJywgWzg3MzldXSwgWydtaWRkb3QnLCBbMTgzXV0sIFsnbWludXNiJywgWzg4NjNdXSwgWydtaW51cycsIFs4NzIyXV0sIFsnbWludXNkJywgWzg3NjBdXSwgWydtaW51c2R1JywgWzEwNzk0XV0sIFsnTWludXNQbHVzJywgWzg3MjNdXSwgWydtbGNwJywgWzEwOTcxXV0sIFsnbWxkcicsIFs4MjMwXV0sIFsnbW5wbHVzJywgWzg3MjNdXSwgWydtb2RlbHMnLCBbODg3MV1dLCBbJ01vcGYnLCBbMTIwMTMyXV0sIFsnbW9wZicsIFsxMjAxNThdXSwgWydtcCcsIFs4NzIzXV0sIFsnbXNjcicsIFsxMjAwMDJdXSwgWydNc2NyJywgWzg0OTldXSwgWydtc3Rwb3MnLCBbODc2Nl1dLCBbJ011JywgWzkyNF1dLCBbJ211JywgWzk1Nl1dLCBbJ211bHRpbWFwJywgWzg4ODhdXSwgWydtdW1hcCcsIFs4ODg4XV0sIFsnbmFibGEnLCBbODcxMV1dLCBbJ05hY3V0ZScsIFszMjNdXSwgWyduYWN1dGUnLCBbMzI0XV0sIFsnbmFuZycsIFs4NzM2LCA4NDAyXV0sIFsnbmFwJywgWzg3NzddXSwgWyduYXBFJywgWzEwODY0LCA4MjRdXSwgWyduYXBpZCcsIFs4Nzc5LCA4MjRdXSwgWyduYXBvcycsIFszMjldXSwgWyduYXBwcm94JywgWzg3NzddXSwgWyduYXR1cmFsJywgWzk4MzhdXSwgWyduYXR1cmFscycsIFs4NDY5XV0sIFsnbmF0dXInLCBbOTgzOF1dLCBbJ25ic3AnLCBbMTYwXV0sIFsnbmJ1bXAnLCBbODc4MiwgODI0XV0sIFsnbmJ1bXBlJywgWzg3ODMsIDgyNF1dLCBbJ25jYXAnLCBbMTA4MTldXSwgWydOY2Fyb24nLCBbMzI3XV0sIFsnbmNhcm9uJywgWzMyOF1dLCBbJ05jZWRpbCcsIFszMjVdXSwgWyduY2VkaWwnLCBbMzI2XV0sIFsnbmNvbmcnLCBbODc3NV1dLCBbJ25jb25nZG90JywgWzEwODYxLCA4MjRdXSwgWyduY3VwJywgWzEwODE4XV0sIFsnTmN5JywgWzEwNTNdXSwgWyduY3knLCBbMTA4NV1dLCBbJ25kYXNoJywgWzgyMTFdXSwgWyduZWFyaGsnLCBbMTA1MzJdXSwgWyduZWFycicsIFs4NTk5XV0sIFsnbmVBcnInLCBbODY2M11dLCBbJ25lYXJyb3cnLCBbODU5OV1dLCBbJ25lJywgWzg4MDBdXSwgWyduZWRvdCcsIFs4Nzg0LCA4MjRdXSwgWydOZWdhdGl2ZU1lZGl1bVNwYWNlJywgWzgyMDNdXSwgWydOZWdhdGl2ZVRoaWNrU3BhY2UnLCBbODIwM11dLCBbJ05lZ2F0aXZlVGhpblNwYWNlJywgWzgyMDNdXSwgWydOZWdhdGl2ZVZlcnlUaGluU3BhY2UnLCBbODIwM11dLCBbJ25lcXVpdicsIFs4ODAyXV0sIFsnbmVzZWFyJywgWzEwNTM2XV0sIFsnbmVzaW0nLCBbODc3MCwgODI0XV0sIFsnTmVzdGVkR3JlYXRlckdyZWF0ZXInLCBbODgxMV1dLCBbJ05lc3RlZExlc3NMZXNzJywgWzg4MTBdXSwgWyduZXhpc3QnLCBbODcwOF1dLCBbJ25leGlzdHMnLCBbODcwOF1dLCBbJ05mcicsIFsxMjAwODFdXSwgWyduZnInLCBbMTIwMTA3XV0sIFsnbmdFJywgWzg4MDcsIDgyNF1dLCBbJ25nZScsIFs4ODE3XV0sIFsnbmdlcScsIFs4ODE3XV0sIFsnbmdlcXEnLCBbODgwNywgODI0XV0sIFsnbmdlcXNsYW50JywgWzEwODc4LCA4MjRdXSwgWyduZ2VzJywgWzEwODc4LCA4MjRdXSwgWyduR2cnLCBbODkyMSwgODI0XV0sIFsnbmdzaW0nLCBbODgyMV1dLCBbJ25HdCcsIFs4ODExLCA4NDAyXV0sIFsnbmd0JywgWzg4MTVdXSwgWyduZ3RyJywgWzg4MTVdXSwgWyduR3R2JywgWzg4MTEsIDgyNF1dLCBbJ25oYXJyJywgWzg2MjJdXSwgWyduaEFycicsIFs4NjU0XV0sIFsnbmhwYXInLCBbMTA5OTRdXSwgWyduaScsIFs4NzE1XV0sIFsnbmlzJywgWzg5NTZdXSwgWyduaXNkJywgWzg5NTRdXSwgWyduaXYnLCBbODcxNV1dLCBbJ05KY3knLCBbMTAzNF1dLCBbJ25qY3knLCBbMTExNF1dLCBbJ25sYXJyJywgWzg2MDJdXSwgWydubEFycicsIFs4NjUzXV0sIFsnbmxkcicsIFs4MjI5XV0sIFsnbmxFJywgWzg4MDYsIDgyNF1dLCBbJ25sZScsIFs4ODE2XV0sIFsnbmxlZnRhcnJvdycsIFs4NjAyXV0sIFsnbkxlZnRhcnJvdycsIFs4NjUzXV0sIFsnbmxlZnRyaWdodGFycm93JywgWzg2MjJdXSwgWyduTGVmdHJpZ2h0YXJyb3cnLCBbODY1NF1dLCBbJ25sZXEnLCBbODgxNl1dLCBbJ25sZXFxJywgWzg4MDYsIDgyNF1dLCBbJ25sZXFzbGFudCcsIFsxMDg3NywgODI0XV0sIFsnbmxlcycsIFsxMDg3NywgODI0XV0sIFsnbmxlc3MnLCBbODgxNF1dLCBbJ25MbCcsIFs4OTIwLCA4MjRdXSwgWydubHNpbScsIFs4ODIwXV0sIFsnbkx0JywgWzg4MTAsIDg0MDJdXSwgWydubHQnLCBbODgxNF1dLCBbJ25sdHJpJywgWzg5MzhdXSwgWydubHRyaWUnLCBbODk0MF1dLCBbJ25MdHYnLCBbODgxMCwgODI0XV0sIFsnbm1pZCcsIFs4NzQwXV0sIFsnTm9CcmVhaycsIFs4Mjg4XV0sIFsnTm9uQnJlYWtpbmdTcGFjZScsIFsxNjBdXSwgWydub3BmJywgWzEyMDE1OV1dLCBbJ05vcGYnLCBbODQ2OV1dLCBbJ05vdCcsIFsxMDk4OF1dLCBbJ25vdCcsIFsxNzJdXSwgWydOb3RDb25ncnVlbnQnLCBbODgwMl1dLCBbJ05vdEN1cENhcCcsIFs4ODEzXV0sIFsnTm90RG91YmxlVmVydGljYWxCYXInLCBbODc0Ml1dLCBbJ05vdEVsZW1lbnQnLCBbODcxM11dLCBbJ05vdEVxdWFsJywgWzg4MDBdXSwgWydOb3RFcXVhbFRpbGRlJywgWzg3NzAsIDgyNF1dLCBbJ05vdEV4aXN0cycsIFs4NzA4XV0sIFsnTm90R3JlYXRlcicsIFs4ODE1XV0sIFsnTm90R3JlYXRlckVxdWFsJywgWzg4MTddXSwgWydOb3RHcmVhdGVyRnVsbEVxdWFsJywgWzg4MDcsIDgyNF1dLCBbJ05vdEdyZWF0ZXJHcmVhdGVyJywgWzg4MTEsIDgyNF1dLCBbJ05vdEdyZWF0ZXJMZXNzJywgWzg4MjVdXSwgWydOb3RHcmVhdGVyU2xhbnRFcXVhbCcsIFsxMDg3OCwgODI0XV0sIFsnTm90R3JlYXRlclRpbGRlJywgWzg4MjFdXSwgWydOb3RIdW1wRG93bkh1bXAnLCBbODc4MiwgODI0XV0sIFsnTm90SHVtcEVxdWFsJywgWzg3ODMsIDgyNF1dLCBbJ25vdGluJywgWzg3MTNdXSwgWydub3RpbmRvdCcsIFs4OTQ5LCA4MjRdXSwgWydub3RpbkUnLCBbODk1MywgODI0XV0sIFsnbm90aW52YScsIFs4NzEzXV0sIFsnbm90aW52YicsIFs4OTUxXV0sIFsnbm90aW52YycsIFs4OTUwXV0sIFsnTm90TGVmdFRyaWFuZ2xlQmFyJywgWzEwNzAzLCA4MjRdXSwgWydOb3RMZWZ0VHJpYW5nbGUnLCBbODkzOF1dLCBbJ05vdExlZnRUcmlhbmdsZUVxdWFsJywgWzg5NDBdXSwgWydOb3RMZXNzJywgWzg4MTRdXSwgWydOb3RMZXNzRXF1YWwnLCBbODgxNl1dLCBbJ05vdExlc3NHcmVhdGVyJywgWzg4MjRdXSwgWydOb3RMZXNzTGVzcycsIFs4ODEwLCA4MjRdXSwgWydOb3RMZXNzU2xhbnRFcXVhbCcsIFsxMDg3NywgODI0XV0sIFsnTm90TGVzc1RpbGRlJywgWzg4MjBdXSwgWydOb3ROZXN0ZWRHcmVhdGVyR3JlYXRlcicsIFsxMDkxNCwgODI0XV0sIFsnTm90TmVzdGVkTGVzc0xlc3MnLCBbMTA5MTMsIDgyNF1dLCBbJ25vdG5pJywgWzg3MTZdXSwgWydub3RuaXZhJywgWzg3MTZdXSwgWydub3RuaXZiJywgWzg5NThdXSwgWydub3RuaXZjJywgWzg5NTddXSwgWydOb3RQcmVjZWRlcycsIFs4ODMyXV0sIFsnTm90UHJlY2VkZXNFcXVhbCcsIFsxMDkyNywgODI0XV0sIFsnTm90UHJlY2VkZXNTbGFudEVxdWFsJywgWzg5MjhdXSwgWydOb3RSZXZlcnNlRWxlbWVudCcsIFs4NzE2XV0sIFsnTm90UmlnaHRUcmlhbmdsZUJhcicsIFsxMDcwNCwgODI0XV0sIFsnTm90UmlnaHRUcmlhbmdsZScsIFs4OTM5XV0sIFsnTm90UmlnaHRUcmlhbmdsZUVxdWFsJywgWzg5NDFdXSwgWydOb3RTcXVhcmVTdWJzZXQnLCBbODg0NywgODI0XV0sIFsnTm90U3F1YXJlU3Vic2V0RXF1YWwnLCBbODkzMF1dLCBbJ05vdFNxdWFyZVN1cGVyc2V0JywgWzg4NDgsIDgyNF1dLCBbJ05vdFNxdWFyZVN1cGVyc2V0RXF1YWwnLCBbODkzMV1dLCBbJ05vdFN1YnNldCcsIFs4ODM0LCA4NDAyXV0sIFsnTm90U3Vic2V0RXF1YWwnLCBbODg0MF1dLCBbJ05vdFN1Y2NlZWRzJywgWzg4MzNdXSwgWydOb3RTdWNjZWVkc0VxdWFsJywgWzEwOTI4LCA4MjRdXSwgWydOb3RTdWNjZWVkc1NsYW50RXF1YWwnLCBbODkyOV1dLCBbJ05vdFN1Y2NlZWRzVGlsZGUnLCBbODgzMSwgODI0XV0sIFsnTm90U3VwZXJzZXQnLCBbODgzNSwgODQwMl1dLCBbJ05vdFN1cGVyc2V0RXF1YWwnLCBbODg0MV1dLCBbJ05vdFRpbGRlJywgWzg3NjldXSwgWydOb3RUaWxkZUVxdWFsJywgWzg3NzJdXSwgWydOb3RUaWxkZUZ1bGxFcXVhbCcsIFs4Nzc1XV0sIFsnTm90VGlsZGVUaWxkZScsIFs4Nzc3XV0sIFsnTm90VmVydGljYWxCYXInLCBbODc0MF1dLCBbJ25wYXJhbGxlbCcsIFs4NzQyXV0sIFsnbnBhcicsIFs4NzQyXV0sIFsnbnBhcnNsJywgWzExMDA1LCA4NDIxXV0sIFsnbnBhcnQnLCBbODcwNiwgODI0XV0sIFsnbnBvbGludCcsIFsxMDc3Ml1dLCBbJ25wcicsIFs4ODMyXV0sIFsnbnByY3VlJywgWzg5MjhdXSwgWyducHJlYycsIFs4ODMyXV0sIFsnbnByZWNlcScsIFsxMDkyNywgODI0XV0sIFsnbnByZScsIFsxMDkyNywgODI0XV0sIFsnbnJhcnJjJywgWzEwNTQ3LCA4MjRdXSwgWyducmFycicsIFs4NjAzXV0sIFsnbnJBcnInLCBbODY1NV1dLCBbJ25yYXJydycsIFs4NjA1LCA4MjRdXSwgWyducmlnaHRhcnJvdycsIFs4NjAzXV0sIFsnblJpZ2h0YXJyb3cnLCBbODY1NV1dLCBbJ25ydHJpJywgWzg5MzldXSwgWyducnRyaWUnLCBbODk0MV1dLCBbJ25zYycsIFs4ODMzXV0sIFsnbnNjY3VlJywgWzg5MjldXSwgWyduc2NlJywgWzEwOTI4LCA4MjRdXSwgWydOc2NyJywgWzExOTk3N11dLCBbJ25zY3InLCBbMTIwMDAzXV0sIFsnbnNob3J0bWlkJywgWzg3NDBdXSwgWyduc2hvcnRwYXJhbGxlbCcsIFs4NzQyXV0sIFsnbnNpbScsIFs4NzY5XV0sIFsnbnNpbWUnLCBbODc3Ml1dLCBbJ25zaW1lcScsIFs4NzcyXV0sIFsnbnNtaWQnLCBbODc0MF1dLCBbJ25zcGFyJywgWzg3NDJdXSwgWyduc3FzdWJlJywgWzg5MzBdXSwgWyduc3FzdXBlJywgWzg5MzFdXSwgWyduc3ViJywgWzg4MzZdXSwgWyduc3ViRScsIFsxMDk0OSwgODI0XV0sIFsnbnN1YmUnLCBbODg0MF1dLCBbJ25zdWJzZXQnLCBbODgzNCwgODQwMl1dLCBbJ25zdWJzZXRlcScsIFs4ODQwXV0sIFsnbnN1YnNldGVxcScsIFsxMDk0OSwgODI0XV0sIFsnbnN1Y2MnLCBbODgzM11dLCBbJ25zdWNjZXEnLCBbMTA5MjgsIDgyNF1dLCBbJ25zdXAnLCBbODgzN11dLCBbJ25zdXBFJywgWzEwOTUwLCA4MjRdXSwgWyduc3VwZScsIFs4ODQxXV0sIFsnbnN1cHNldCcsIFs4ODM1LCA4NDAyXV0sIFsnbnN1cHNldGVxJywgWzg4NDFdXSwgWyduc3Vwc2V0ZXFxJywgWzEwOTUwLCA4MjRdXSwgWydudGdsJywgWzg4MjVdXSwgWydOdGlsZGUnLCBbMjA5XV0sIFsnbnRpbGRlJywgWzI0MV1dLCBbJ250bGcnLCBbODgyNF1dLCBbJ250cmlhbmdsZWxlZnQnLCBbODkzOF1dLCBbJ250cmlhbmdsZWxlZnRlcScsIFs4OTQwXV0sIFsnbnRyaWFuZ2xlcmlnaHQnLCBbODkzOV1dLCBbJ250cmlhbmdsZXJpZ2h0ZXEnLCBbODk0MV1dLCBbJ051JywgWzkyNV1dLCBbJ251JywgWzk1N11dLCBbJ251bScsIFszNV1dLCBbJ251bWVybycsIFs4NDcwXV0sIFsnbnVtc3AnLCBbODE5OV1dLCBbJ252YXAnLCBbODc4MSwgODQwMl1dLCBbJ252ZGFzaCcsIFs4ODc2XV0sIFsnbnZEYXNoJywgWzg4NzddXSwgWyduVmRhc2gnLCBbODg3OF1dLCBbJ25WRGFzaCcsIFs4ODc5XV0sIFsnbnZnZScsIFs4ODA1LCA4NDAyXV0sIFsnbnZndCcsIFs2MiwgODQwMl1dLCBbJ252SGFycicsIFsxMDUwMF1dLCBbJ252aW5maW4nLCBbMTA3MThdXSwgWydudmxBcnInLCBbMTA0OThdXSwgWydudmxlJywgWzg4MDQsIDg0MDJdXSwgWydudmx0JywgWzYwLCA4NDAyXV0sIFsnbnZsdHJpZScsIFs4ODg0LCA4NDAyXV0sIFsnbnZyQXJyJywgWzEwNDk5XV0sIFsnbnZydHJpZScsIFs4ODg1LCA4NDAyXV0sIFsnbnZzaW0nLCBbODc2NCwgODQwMl1dLCBbJ253YXJoaycsIFsxMDUzMV1dLCBbJ253YXJyJywgWzg1OThdXSwgWydud0FycicsIFs4NjYyXV0sIFsnbndhcnJvdycsIFs4NTk4XV0sIFsnbnduZWFyJywgWzEwNTM1XV0sIFsnT2FjdXRlJywgWzIxMV1dLCBbJ29hY3V0ZScsIFsyNDNdXSwgWydvYXN0JywgWzg4NTldXSwgWydPY2lyYycsIFsyMTJdXSwgWydvY2lyYycsIFsyNDRdXSwgWydvY2lyJywgWzg4NThdXSwgWydPY3knLCBbMTA1NF1dLCBbJ29jeScsIFsxMDg2XV0sIFsnb2Rhc2gnLCBbODg2MV1dLCBbJ09kYmxhYycsIFszMzZdXSwgWydvZGJsYWMnLCBbMzM3XV0sIFsnb2RpdicsIFsxMDgwOF1dLCBbJ29kb3QnLCBbODg1N11dLCBbJ29kc29sZCcsIFsxMDY4NF1dLCBbJ09FbGlnJywgWzMzOF1dLCBbJ29lbGlnJywgWzMzOV1dLCBbJ29mY2lyJywgWzEwNjg3XV0sIFsnT2ZyJywgWzEyMDA4Ml1dLCBbJ29mcicsIFsxMjAxMDhdXSwgWydvZ29uJywgWzczMV1dLCBbJ09ncmF2ZScsIFsyMTBdXSwgWydvZ3JhdmUnLCBbMjQyXV0sIFsnb2d0JywgWzEwNjg5XV0sIFsnb2hiYXInLCBbMTA2NzddXSwgWydvaG0nLCBbOTM3XV0sIFsnb2ludCcsIFs4NzUwXV0sIFsnb2xhcnInLCBbODYzNF1dLCBbJ29sY2lyJywgWzEwNjg2XV0sIFsnb2xjcm9zcycsIFsxMDY4M11dLCBbJ29saW5lJywgWzgyNTRdXSwgWydvbHQnLCBbMTA2ODhdXSwgWydPbWFjcicsIFszMzJdXSwgWydvbWFjcicsIFszMzNdXSwgWydPbWVnYScsIFs5MzddXSwgWydvbWVnYScsIFs5NjldXSwgWydPbWljcm9uJywgWzkyN11dLCBbJ29taWNyb24nLCBbOTU5XV0sIFsnb21pZCcsIFsxMDY3OF1dLCBbJ29taW51cycsIFs4ODU0XV0sIFsnT29wZicsIFsxMjAxMzRdXSwgWydvb3BmJywgWzEyMDE2MF1dLCBbJ29wYXInLCBbMTA2NzldXSwgWydPcGVuQ3VybHlEb3VibGVRdW90ZScsIFs4MjIwXV0sIFsnT3BlbkN1cmx5UXVvdGUnLCBbODIxNl1dLCBbJ29wZXJwJywgWzEwNjgxXV0sIFsnb3BsdXMnLCBbODg1M11dLCBbJ29yYXJyJywgWzg2MzVdXSwgWydPcicsIFsxMDgzNl1dLCBbJ29yJywgWzg3NDRdXSwgWydvcmQnLCBbMTA4NDVdXSwgWydvcmRlcicsIFs4NTAwXV0sIFsnb3JkZXJvZicsIFs4NTAwXV0sIFsnb3JkZicsIFsxNzBdXSwgWydvcmRtJywgWzE4Nl1dLCBbJ29yaWdvZicsIFs4ODg2XV0sIFsnb3JvcicsIFsxMDgzOF1dLCBbJ29yc2xvcGUnLCBbMTA4MzldXSwgWydvcnYnLCBbMTA4NDNdXSwgWydvUycsIFs5NDE2XV0sIFsnT3NjcicsIFsxMTk5NzhdXSwgWydvc2NyJywgWzg1MDBdXSwgWydPc2xhc2gnLCBbMjE2XV0sIFsnb3NsYXNoJywgWzI0OF1dLCBbJ29zb2wnLCBbODg1Nl1dLCBbJ090aWxkZScsIFsyMTNdXSwgWydvdGlsZGUnLCBbMjQ1XV0sIFsnb3RpbWVzYXMnLCBbMTA4MDZdXSwgWydPdGltZXMnLCBbMTA4MDddXSwgWydvdGltZXMnLCBbODg1NV1dLCBbJ091bWwnLCBbMjE0XV0sIFsnb3VtbCcsIFsyNDZdXSwgWydvdmJhcicsIFs5MDIxXV0sIFsnT3ZlckJhcicsIFs4MjU0XV0sIFsnT3ZlckJyYWNlJywgWzkxODJdXSwgWydPdmVyQnJhY2tldCcsIFs5MTQwXV0sIFsnT3ZlclBhcmVudGhlc2lzJywgWzkxODBdXSwgWydwYXJhJywgWzE4Ml1dLCBbJ3BhcmFsbGVsJywgWzg3NDFdXSwgWydwYXInLCBbODc0MV1dLCBbJ3BhcnNpbScsIFsxMDk5NV1dLCBbJ3BhcnNsJywgWzExMDA1XV0sIFsncGFydCcsIFs4NzA2XV0sIFsnUGFydGlhbEQnLCBbODcwNl1dLCBbJ1BjeScsIFsxMDU1XV0sIFsncGN5JywgWzEwODddXSwgWydwZXJjbnQnLCBbMzddXSwgWydwZXJpb2QnLCBbNDZdXSwgWydwZXJtaWwnLCBbODI0MF1dLCBbJ3BlcnAnLCBbODg2OV1dLCBbJ3BlcnRlbmsnLCBbODI0MV1dLCBbJ1BmcicsIFsxMjAwODNdXSwgWydwZnInLCBbMTIwMTA5XV0sIFsnUGhpJywgWzkzNF1dLCBbJ3BoaScsIFs5NjZdXSwgWydwaGl2JywgWzk4MV1dLCBbJ3BobW1hdCcsIFs4NDk5XV0sIFsncGhvbmUnLCBbOTc0Ml1dLCBbJ1BpJywgWzkyOF1dLCBbJ3BpJywgWzk2MF1dLCBbJ3BpdGNoZm9yaycsIFs4OTE2XV0sIFsncGl2JywgWzk4Ml1dLCBbJ3BsYW5jaycsIFs4NDYzXV0sIFsncGxhbmNraCcsIFs4NDYyXV0sIFsncGxhbmt2JywgWzg0NjNdXSwgWydwbHVzYWNpcicsIFsxMDc4N11dLCBbJ3BsdXNiJywgWzg4NjJdXSwgWydwbHVzY2lyJywgWzEwNzg2XV0sIFsncGx1cycsIFs0M11dLCBbJ3BsdXNkbycsIFs4NzI0XV0sIFsncGx1c2R1JywgWzEwNzg5XV0sIFsncGx1c2UnLCBbMTA4NjZdXSwgWydQbHVzTWludXMnLCBbMTc3XV0sIFsncGx1c21uJywgWzE3N11dLCBbJ3BsdXNzaW0nLCBbMTA3OTBdXSwgWydwbHVzdHdvJywgWzEwNzkxXV0sIFsncG0nLCBbMTc3XV0sIFsnUG9pbmNhcmVwbGFuZScsIFs4NDYwXV0sIFsncG9pbnRpbnQnLCBbMTA3NzNdXSwgWydwb3BmJywgWzEyMDE2MV1dLCBbJ1BvcGYnLCBbODQ3M11dLCBbJ3BvdW5kJywgWzE2M11dLCBbJ3ByYXAnLCBbMTA5MzVdXSwgWydQcicsIFsxMDkzOV1dLCBbJ3ByJywgWzg4MjZdXSwgWydwcmN1ZScsIFs4ODI4XV0sIFsncHJlY2FwcHJveCcsIFsxMDkzNV1dLCBbJ3ByZWMnLCBbODgyNl1dLCBbJ3ByZWNjdXJseWVxJywgWzg4MjhdXSwgWydQcmVjZWRlcycsIFs4ODI2XV0sIFsnUHJlY2VkZXNFcXVhbCcsIFsxMDkyN11dLCBbJ1ByZWNlZGVzU2xhbnRFcXVhbCcsIFs4ODI4XV0sIFsnUHJlY2VkZXNUaWxkZScsIFs4ODMwXV0sIFsncHJlY2VxJywgWzEwOTI3XV0sIFsncHJlY25hcHByb3gnLCBbMTA5MzddXSwgWydwcmVjbmVxcScsIFsxMDkzM11dLCBbJ3ByZWNuc2ltJywgWzg5MzZdXSwgWydwcmUnLCBbMTA5MjddXSwgWydwckUnLCBbMTA5MzFdXSwgWydwcmVjc2ltJywgWzg4MzBdXSwgWydwcmltZScsIFs4MjQyXV0sIFsnUHJpbWUnLCBbODI0M11dLCBbJ3ByaW1lcycsIFs4NDczXV0sIFsncHJuYXAnLCBbMTA5MzddXSwgWydwcm5FJywgWzEwOTMzXV0sIFsncHJuc2ltJywgWzg5MzZdXSwgWydwcm9kJywgWzg3MTldXSwgWydQcm9kdWN0JywgWzg3MTldXSwgWydwcm9mYWxhcicsIFs5MDA2XV0sIFsncHJvZmxpbmUnLCBbODk3OF1dLCBbJ3Byb2ZzdXJmJywgWzg5NzldXSwgWydwcm9wJywgWzg3MzNdXSwgWydQcm9wb3J0aW9uYWwnLCBbODczM11dLCBbJ1Byb3BvcnRpb24nLCBbODc1OV1dLCBbJ3Byb3B0bycsIFs4NzMzXV0sIFsncHJzaW0nLCBbODgzMF1dLCBbJ3BydXJlbCcsIFs4ODgwXV0sIFsnUHNjcicsIFsxMTk5NzldXSwgWydwc2NyJywgWzEyMDAwNV1dLCBbJ1BzaScsIFs5MzZdXSwgWydwc2knLCBbOTY4XV0sIFsncHVuY3NwJywgWzgyMDBdXSwgWydRZnInLCBbMTIwMDg0XV0sIFsncWZyJywgWzEyMDExMF1dLCBbJ3FpbnQnLCBbMTA3NjRdXSwgWydxb3BmJywgWzEyMDE2Ml1dLCBbJ1FvcGYnLCBbODQ3NF1dLCBbJ3FwcmltZScsIFs4Mjc5XV0sIFsnUXNjcicsIFsxMTk5ODBdXSwgWydxc2NyJywgWzEyMDAwNl1dLCBbJ3F1YXRlcm5pb25zJywgWzg0NjFdXSwgWydxdWF0aW50JywgWzEwNzc0XV0sIFsncXVlc3QnLCBbNjNdXSwgWydxdWVzdGVxJywgWzg3OTldXSwgWydxdW90JywgWzM0XV0sIFsnUVVPVCcsIFszNF1dLCBbJ3JBYXJyJywgWzg2NjddXSwgWydyYWNlJywgWzg3NjUsIDgxN11dLCBbJ1JhY3V0ZScsIFszNDBdXSwgWydyYWN1dGUnLCBbMzQxXV0sIFsncmFkaWMnLCBbODczMF1dLCBbJ3JhZW1wdHl2JywgWzEwNjc1XV0sIFsncmFuZycsIFsxMDIxN11dLCBbJ1JhbmcnLCBbMTAyMTldXSwgWydyYW5nZCcsIFsxMDY0Ml1dLCBbJ3JhbmdlJywgWzEwNjYxXV0sIFsncmFuZ2xlJywgWzEwMjE3XV0sIFsncmFxdW8nLCBbMTg3XV0sIFsncmFycmFwJywgWzEwNjEzXV0sIFsncmFycmInLCBbODY3N11dLCBbJ3JhcnJiZnMnLCBbMTA1MjhdXSwgWydyYXJyYycsIFsxMDU0N11dLCBbJ3JhcnInLCBbODU5NF1dLCBbJ1JhcnInLCBbODYwOF1dLCBbJ3JBcnInLCBbODY1OF1dLCBbJ3JhcnJmcycsIFsxMDUyNl1dLCBbJ3JhcnJoaycsIFs4NjE4XV0sIFsncmFycmxwJywgWzg2MjBdXSwgWydyYXJycGwnLCBbMTA1NjVdXSwgWydyYXJyc2ltJywgWzEwNjEyXV0sIFsnUmFycnRsJywgWzEwNTE4XV0sIFsncmFycnRsJywgWzg2MTFdXSwgWydyYXJydycsIFs4NjA1XV0sIFsncmF0YWlsJywgWzEwNTIyXV0sIFsnckF0YWlsJywgWzEwNTI0XV0sIFsncmF0aW8nLCBbODc1OF1dLCBbJ3JhdGlvbmFscycsIFs4NDc0XV0sIFsncmJhcnInLCBbMTA1MDldXSwgWydyQmFycicsIFsxMDUxMV1dLCBbJ1JCYXJyJywgWzEwNTEyXV0sIFsncmJicmsnLCBbMTAwOTldXSwgWydyYnJhY2UnLCBbMTI1XV0sIFsncmJyYWNrJywgWzkzXV0sIFsncmJya2UnLCBbMTA2MzZdXSwgWydyYnJrc2xkJywgWzEwNjM4XV0sIFsncmJya3NsdScsIFsxMDY0MF1dLCBbJ1JjYXJvbicsIFszNDRdXSwgWydyY2Fyb24nLCBbMzQ1XV0sIFsnUmNlZGlsJywgWzM0Ml1dLCBbJ3JjZWRpbCcsIFszNDNdXSwgWydyY2VpbCcsIFs4OTY5XV0sIFsncmN1YicsIFsxMjVdXSwgWydSY3knLCBbMTA1Nl1dLCBbJ3JjeScsIFsxMDg4XV0sIFsncmRjYScsIFsxMDU1MV1dLCBbJ3JkbGRoYXInLCBbMTA2MDFdXSwgWydyZHF1bycsIFs4MjIxXV0sIFsncmRxdW9yJywgWzgyMjFdXSwgWydyZHNoJywgWzg2MjddXSwgWydyZWFsJywgWzg0NzZdXSwgWydyZWFsaW5lJywgWzg0NzVdXSwgWydyZWFscGFydCcsIFs4NDc2XV0sIFsncmVhbHMnLCBbODQ3N11dLCBbJ1JlJywgWzg0NzZdXSwgWydyZWN0JywgWzk2NDVdXSwgWydyZWcnLCBbMTc0XV0sIFsnUkVHJywgWzE3NF1dLCBbJ1JldmVyc2VFbGVtZW50JywgWzg3MTVdXSwgWydSZXZlcnNlRXF1aWxpYnJpdW0nLCBbODY1MV1dLCBbJ1JldmVyc2VVcEVxdWlsaWJyaXVtJywgWzEwNjA3XV0sIFsncmZpc2h0JywgWzEwNjIxXV0sIFsncmZsb29yJywgWzg5NzFdXSwgWydyZnInLCBbMTIwMTExXV0sIFsnUmZyJywgWzg0NzZdXSwgWydySGFyJywgWzEwNTk2XV0sIFsncmhhcmQnLCBbODY0MV1dLCBbJ3JoYXJ1JywgWzg2NDBdXSwgWydyaGFydWwnLCBbMTA2MDRdXSwgWydSaG8nLCBbOTI5XV0sIFsncmhvJywgWzk2MV1dLCBbJ3Job3YnLCBbMTAwOV1dLCBbJ1JpZ2h0QW5nbGVCcmFja2V0JywgWzEwMjE3XV0sIFsnUmlnaHRBcnJvd0JhcicsIFs4Njc3XV0sIFsncmlnaHRhcnJvdycsIFs4NTk0XV0sIFsnUmlnaHRBcnJvdycsIFs4NTk0XV0sIFsnUmlnaHRhcnJvdycsIFs4NjU4XV0sIFsnUmlnaHRBcnJvd0xlZnRBcnJvdycsIFs4NjQ0XV0sIFsncmlnaHRhcnJvd3RhaWwnLCBbODYxMV1dLCBbJ1JpZ2h0Q2VpbGluZycsIFs4OTY5XV0sIFsnUmlnaHREb3VibGVCcmFja2V0JywgWzEwMjE1XV0sIFsnUmlnaHREb3duVGVlVmVjdG9yJywgWzEwNTg5XV0sIFsnUmlnaHREb3duVmVjdG9yQmFyJywgWzEwNTgxXV0sIFsnUmlnaHREb3duVmVjdG9yJywgWzg2NDJdXSwgWydSaWdodEZsb29yJywgWzg5NzFdXSwgWydyaWdodGhhcnBvb25kb3duJywgWzg2NDFdXSwgWydyaWdodGhhcnBvb251cCcsIFs4NjQwXV0sIFsncmlnaHRsZWZ0YXJyb3dzJywgWzg2NDRdXSwgWydyaWdodGxlZnRoYXJwb29ucycsIFs4NjUyXV0sIFsncmlnaHRyaWdodGFycm93cycsIFs4NjQ5XV0sIFsncmlnaHRzcXVpZ2Fycm93JywgWzg2MDVdXSwgWydSaWdodFRlZUFycm93JywgWzg2MTRdXSwgWydSaWdodFRlZScsIFs4ODY2XV0sIFsnUmlnaHRUZWVWZWN0b3InLCBbMTA1ODddXSwgWydyaWdodHRocmVldGltZXMnLCBbODkwOF1dLCBbJ1JpZ2h0VHJpYW5nbGVCYXInLCBbMTA3MDRdXSwgWydSaWdodFRyaWFuZ2xlJywgWzg4ODNdXSwgWydSaWdodFRyaWFuZ2xlRXF1YWwnLCBbODg4NV1dLCBbJ1JpZ2h0VXBEb3duVmVjdG9yJywgWzEwNTc1XV0sIFsnUmlnaHRVcFRlZVZlY3RvcicsIFsxMDU4OF1dLCBbJ1JpZ2h0VXBWZWN0b3JCYXInLCBbMTA1ODBdXSwgWydSaWdodFVwVmVjdG9yJywgWzg2MzhdXSwgWydSaWdodFZlY3RvckJhcicsIFsxMDU3OV1dLCBbJ1JpZ2h0VmVjdG9yJywgWzg2NDBdXSwgWydyaW5nJywgWzczMF1dLCBbJ3Jpc2luZ2RvdHNlcScsIFs4Nzg3XV0sIFsncmxhcnInLCBbODY0NF1dLCBbJ3JsaGFyJywgWzg2NTJdXSwgWydybG0nLCBbODIwN11dLCBbJ3Jtb3VzdGFjaGUnLCBbOTEzN11dLCBbJ3Jtb3VzdCcsIFs5MTM3XV0sIFsncm5taWQnLCBbMTA5OTBdXSwgWydyb2FuZycsIFsxMDIyMV1dLCBbJ3JvYXJyJywgWzg3MDJdXSwgWydyb2JyaycsIFsxMDIxNV1dLCBbJ3JvcGFyJywgWzEwNjMwXV0sIFsncm9wZicsIFsxMjAxNjNdXSwgWydSb3BmJywgWzg0NzddXSwgWydyb3BsdXMnLCBbMTA3OThdXSwgWydyb3RpbWVzJywgWzEwODA1XV0sIFsnUm91bmRJbXBsaWVzJywgWzEwNjA4XV0sIFsncnBhcicsIFs0MV1dLCBbJ3JwYXJndCcsIFsxMDY0NF1dLCBbJ3JwcG9saW50JywgWzEwNzcwXV0sIFsncnJhcnInLCBbODY0OV1dLCBbJ1JyaWdodGFycm93JywgWzg2NjddXSwgWydyc2FxdW8nLCBbODI1MF1dLCBbJ3JzY3InLCBbMTIwMDA3XV0sIFsnUnNjcicsIFs4NDc1XV0sIFsncnNoJywgWzg2MjVdXSwgWydSc2gnLCBbODYyNV1dLCBbJ3JzcWInLCBbOTNdXSwgWydyc3F1bycsIFs4MjE3XV0sIFsncnNxdW9yJywgWzgyMTddXSwgWydydGhyZWUnLCBbODkwOF1dLCBbJ3J0aW1lcycsIFs4OTA2XV0sIFsncnRyaScsIFs5NjU3XV0sIFsncnRyaWUnLCBbODg4NV1dLCBbJ3J0cmlmJywgWzk2NTZdXSwgWydydHJpbHRyaScsIFsxMDcwMl1dLCBbJ1J1bGVEZWxheWVkJywgWzEwNzQwXV0sIFsncnVsdWhhcicsIFsxMDYwMF1dLCBbJ3J4JywgWzg0NzhdXSwgWydTYWN1dGUnLCBbMzQ2XV0sIFsnc2FjdXRlJywgWzM0N11dLCBbJ3NicXVvJywgWzgyMThdXSwgWydzY2FwJywgWzEwOTM2XV0sIFsnU2Nhcm9uJywgWzM1Ml1dLCBbJ3NjYXJvbicsIFszNTNdXSwgWydTYycsIFsxMDk0MF1dLCBbJ3NjJywgWzg4MjddXSwgWydzY2N1ZScsIFs4ODI5XV0sIFsnc2NlJywgWzEwOTI4XV0sIFsnc2NFJywgWzEwOTMyXV0sIFsnU2NlZGlsJywgWzM1MF1dLCBbJ3NjZWRpbCcsIFszNTFdXSwgWydTY2lyYycsIFszNDhdXSwgWydzY2lyYycsIFszNDldXSwgWydzY25hcCcsIFsxMDkzOF1dLCBbJ3NjbkUnLCBbMTA5MzRdXSwgWydzY25zaW0nLCBbODkzN11dLCBbJ3NjcG9saW50JywgWzEwNzcxXV0sIFsnc2NzaW0nLCBbODgzMV1dLCBbJ1NjeScsIFsxMDU3XV0sIFsnc2N5JywgWzEwODldXSwgWydzZG90YicsIFs4ODY1XV0sIFsnc2RvdCcsIFs4OTAxXV0sIFsnc2RvdGUnLCBbMTA4NTRdXSwgWydzZWFyaGsnLCBbMTA1MzNdXSwgWydzZWFycicsIFs4NjAwXV0sIFsnc2VBcnInLCBbODY2NF1dLCBbJ3NlYXJyb3cnLCBbODYwMF1dLCBbJ3NlY3QnLCBbMTY3XV0sIFsnc2VtaScsIFs1OV1dLCBbJ3Nlc3dhcicsIFsxMDUzN11dLCBbJ3NldG1pbnVzJywgWzg3MjZdXSwgWydzZXRtbicsIFs4NzI2XV0sIFsnc2V4dCcsIFsxMDAzOF1dLCBbJ1NmcicsIFsxMjAwODZdXSwgWydzZnInLCBbMTIwMTEyXV0sIFsnc2Zyb3duJywgWzg5OTRdXSwgWydzaGFycCcsIFs5ODM5XV0sIFsnU0hDSGN5JywgWzEwNjVdXSwgWydzaGNoY3knLCBbMTA5N11dLCBbJ1NIY3knLCBbMTA2NF1dLCBbJ3NoY3knLCBbMTA5Nl1dLCBbJ1Nob3J0RG93bkFycm93JywgWzg1OTVdXSwgWydTaG9ydExlZnRBcnJvdycsIFs4NTkyXV0sIFsnc2hvcnRtaWQnLCBbODczOV1dLCBbJ3Nob3J0cGFyYWxsZWwnLCBbODc0MV1dLCBbJ1Nob3J0UmlnaHRBcnJvdycsIFs4NTk0XV0sIFsnU2hvcnRVcEFycm93JywgWzg1OTNdXSwgWydzaHknLCBbMTczXV0sIFsnU2lnbWEnLCBbOTMxXV0sIFsnc2lnbWEnLCBbOTYzXV0sIFsnc2lnbWFmJywgWzk2Ml1dLCBbJ3NpZ21hdicsIFs5NjJdXSwgWydzaW0nLCBbODc2NF1dLCBbJ3NpbWRvdCcsIFsxMDg1OF1dLCBbJ3NpbWUnLCBbODc3MV1dLCBbJ3NpbWVxJywgWzg3NzFdXSwgWydzaW1nJywgWzEwOTEwXV0sIFsnc2ltZ0UnLCBbMTA5MTJdXSwgWydzaW1sJywgWzEwOTA5XV0sIFsnc2ltbEUnLCBbMTA5MTFdXSwgWydzaW1uZScsIFs4Nzc0XV0sIFsnc2ltcGx1cycsIFsxMDc4OF1dLCBbJ3NpbXJhcnInLCBbMTA2MTBdXSwgWydzbGFycicsIFs4NTkyXV0sIFsnU21hbGxDaXJjbGUnLCBbODcyOF1dLCBbJ3NtYWxsc2V0bWludXMnLCBbODcyNl1dLCBbJ3NtYXNocCcsIFsxMDgwM11dLCBbJ3NtZXBhcnNsJywgWzEwNzI0XV0sIFsnc21pZCcsIFs4NzM5XV0sIFsnc21pbGUnLCBbODk5NV1dLCBbJ3NtdCcsIFsxMDkyMl1dLCBbJ3NtdGUnLCBbMTA5MjRdXSwgWydzbXRlcycsIFsxMDkyNCwgNjUwMjRdXSwgWydTT0ZUY3knLCBbMTA2OF1dLCBbJ3NvZnRjeScsIFsxMTAwXV0sIFsnc29sYmFyJywgWzkwMjNdXSwgWydzb2xiJywgWzEwNjkyXV0sIFsnc29sJywgWzQ3XV0sIFsnU29wZicsIFsxMjAxMzhdXSwgWydzb3BmJywgWzEyMDE2NF1dLCBbJ3NwYWRlcycsIFs5ODI0XV0sIFsnc3BhZGVzdWl0JywgWzk4MjRdXSwgWydzcGFyJywgWzg3NDFdXSwgWydzcWNhcCcsIFs4ODUxXV0sIFsnc3FjYXBzJywgWzg4NTEsIDY1MDI0XV0sIFsnc3FjdXAnLCBbODg1Ml1dLCBbJ3NxY3VwcycsIFs4ODUyLCA2NTAyNF1dLCBbJ1NxcnQnLCBbODczMF1dLCBbJ3Nxc3ViJywgWzg4NDddXSwgWydzcXN1YmUnLCBbODg0OV1dLCBbJ3Nxc3Vic2V0JywgWzg4NDddXSwgWydzcXN1YnNldGVxJywgWzg4NDldXSwgWydzcXN1cCcsIFs4ODQ4XV0sIFsnc3FzdXBlJywgWzg4NTBdXSwgWydzcXN1cHNldCcsIFs4ODQ4XV0sIFsnc3FzdXBzZXRlcScsIFs4ODUwXV0sIFsnc3F1YXJlJywgWzk2MzNdXSwgWydTcXVhcmUnLCBbOTYzM11dLCBbJ1NxdWFyZUludGVyc2VjdGlvbicsIFs4ODUxXV0sIFsnU3F1YXJlU3Vic2V0JywgWzg4NDddXSwgWydTcXVhcmVTdWJzZXRFcXVhbCcsIFs4ODQ5XV0sIFsnU3F1YXJlU3VwZXJzZXQnLCBbODg0OF1dLCBbJ1NxdWFyZVN1cGVyc2V0RXF1YWwnLCBbODg1MF1dLCBbJ1NxdWFyZVVuaW9uJywgWzg4NTJdXSwgWydzcXVhcmYnLCBbOTY0Ml1dLCBbJ3NxdScsIFs5NjMzXV0sIFsnc3F1ZicsIFs5NjQyXV0sIFsnc3JhcnInLCBbODU5NF1dLCBbJ1NzY3InLCBbMTE5OTgyXV0sIFsnc3NjcicsIFsxMjAwMDhdXSwgWydzc2V0bW4nLCBbODcyNl1dLCBbJ3NzbWlsZScsIFs4OTk1XV0sIFsnc3N0YXJmJywgWzg5MDJdXSwgWydTdGFyJywgWzg5MDJdXSwgWydzdGFyJywgWzk3MzRdXSwgWydzdGFyZicsIFs5NzMzXV0sIFsnc3RyYWlnaHRlcHNpbG9uJywgWzEwMTNdXSwgWydzdHJhaWdodHBoaScsIFs5ODFdXSwgWydzdHJucycsIFsxNzVdXSwgWydzdWInLCBbODgzNF1dLCBbJ1N1YicsIFs4OTEyXV0sIFsnc3ViZG90JywgWzEwOTQxXV0sIFsnc3ViRScsIFsxMDk0OV1dLCBbJ3N1YmUnLCBbODgzOF1dLCBbJ3N1YmVkb3QnLCBbMTA5NDddXSwgWydzdWJtdWx0JywgWzEwOTQ1XV0sIFsnc3VibkUnLCBbMTA5NTVdXSwgWydzdWJuZScsIFs4ODQyXV0sIFsnc3VicGx1cycsIFsxMDk0M11dLCBbJ3N1YnJhcnInLCBbMTA2MTddXSwgWydzdWJzZXQnLCBbODgzNF1dLCBbJ1N1YnNldCcsIFs4OTEyXV0sIFsnc3Vic2V0ZXEnLCBbODgzOF1dLCBbJ3N1YnNldGVxcScsIFsxMDk0OV1dLCBbJ1N1YnNldEVxdWFsJywgWzg4MzhdXSwgWydzdWJzZXRuZXEnLCBbODg0Ml1dLCBbJ3N1YnNldG5lcXEnLCBbMTA5NTVdXSwgWydzdWJzaW0nLCBbMTA5NTFdXSwgWydzdWJzdWInLCBbMTA5NjVdXSwgWydzdWJzdXAnLCBbMTA5NjNdXSwgWydzdWNjYXBwcm94JywgWzEwOTM2XV0sIFsnc3VjYycsIFs4ODI3XV0sIFsnc3VjY2N1cmx5ZXEnLCBbODgyOV1dLCBbJ1N1Y2NlZWRzJywgWzg4MjddXSwgWydTdWNjZWVkc0VxdWFsJywgWzEwOTI4XV0sIFsnU3VjY2VlZHNTbGFudEVxdWFsJywgWzg4MjldXSwgWydTdWNjZWVkc1RpbGRlJywgWzg4MzFdXSwgWydzdWNjZXEnLCBbMTA5MjhdXSwgWydzdWNjbmFwcHJveCcsIFsxMDkzOF1dLCBbJ3N1Y2NuZXFxJywgWzEwOTM0XV0sIFsnc3VjY25zaW0nLCBbODkzN11dLCBbJ3N1Y2NzaW0nLCBbODgzMV1dLCBbJ1N1Y2hUaGF0JywgWzg3MTVdXSwgWydzdW0nLCBbODcyMV1dLCBbJ1N1bScsIFs4NzIxXV0sIFsnc3VuZycsIFs5ODM0XV0sIFsnc3VwMScsIFsxODVdXSwgWydzdXAyJywgWzE3OF1dLCBbJ3N1cDMnLCBbMTc5XV0sIFsnc3VwJywgWzg4MzVdXSwgWydTdXAnLCBbODkxM11dLCBbJ3N1cGRvdCcsIFsxMDk0Ml1dLCBbJ3N1cGRzdWInLCBbMTA5NjhdXSwgWydzdXBFJywgWzEwOTUwXV0sIFsnc3VwZScsIFs4ODM5XV0sIFsnc3VwZWRvdCcsIFsxMDk0OF1dLCBbJ1N1cGVyc2V0JywgWzg4MzVdXSwgWydTdXBlcnNldEVxdWFsJywgWzg4MzldXSwgWydzdXBoc29sJywgWzEwMTg1XV0sIFsnc3VwaHN1YicsIFsxMDk2N11dLCBbJ3N1cGxhcnInLCBbMTA2MTldXSwgWydzdXBtdWx0JywgWzEwOTQ2XV0sIFsnc3VwbkUnLCBbMTA5NTZdXSwgWydzdXBuZScsIFs4ODQzXV0sIFsnc3VwcGx1cycsIFsxMDk0NF1dLCBbJ3N1cHNldCcsIFs4ODM1XV0sIFsnU3Vwc2V0JywgWzg5MTNdXSwgWydzdXBzZXRlcScsIFs4ODM5XV0sIFsnc3Vwc2V0ZXFxJywgWzEwOTUwXV0sIFsnc3Vwc2V0bmVxJywgWzg4NDNdXSwgWydzdXBzZXRuZXFxJywgWzEwOTU2XV0sIFsnc3Vwc2ltJywgWzEwOTUyXV0sIFsnc3Vwc3ViJywgWzEwOTY0XV0sIFsnc3Vwc3VwJywgWzEwOTY2XV0sIFsnc3dhcmhrJywgWzEwNTM0XV0sIFsnc3dhcnInLCBbODYwMV1dLCBbJ3N3QXJyJywgWzg2NjVdXSwgWydzd2Fycm93JywgWzg2MDFdXSwgWydzd253YXInLCBbMTA1MzhdXSwgWydzemxpZycsIFsyMjNdXSwgWydUYWInLCBbOV1dLCBbJ3RhcmdldCcsIFs4OTgyXV0sIFsnVGF1JywgWzkzMl1dLCBbJ3RhdScsIFs5NjRdXSwgWyd0YnJrJywgWzkxNDBdXSwgWydUY2Fyb24nLCBbMzU2XV0sIFsndGNhcm9uJywgWzM1N11dLCBbJ1RjZWRpbCcsIFszNTRdXSwgWyd0Y2VkaWwnLCBbMzU1XV0sIFsnVGN5JywgWzEwNThdXSwgWyd0Y3knLCBbMTA5MF1dLCBbJ3Rkb3QnLCBbODQxMV1dLCBbJ3RlbHJlYycsIFs4OTgxXV0sIFsnVGZyJywgWzEyMDA4N11dLCBbJ3RmcicsIFsxMjAxMTNdXSwgWyd0aGVyZTQnLCBbODc1Nl1dLCBbJ3RoZXJlZm9yZScsIFs4NzU2XV0sIFsnVGhlcmVmb3JlJywgWzg3NTZdXSwgWydUaGV0YScsIFs5MjBdXSwgWyd0aGV0YScsIFs5NTJdXSwgWyd0aGV0YXN5bScsIFs5NzddXSwgWyd0aGV0YXYnLCBbOTc3XV0sIFsndGhpY2thcHByb3gnLCBbODc3Nl1dLCBbJ3RoaWNrc2ltJywgWzg3NjRdXSwgWydUaGlja1NwYWNlJywgWzgyODcsIDgyMDJdXSwgWydUaGluU3BhY2UnLCBbODIwMV1dLCBbJ3RoaW5zcCcsIFs4MjAxXV0sIFsndGhrYXAnLCBbODc3Nl1dLCBbJ3Roa3NpbScsIFs4NzY0XV0sIFsnVEhPUk4nLCBbMjIyXV0sIFsndGhvcm4nLCBbMjU0XV0sIFsndGlsZGUnLCBbNzMyXV0sIFsnVGlsZGUnLCBbODc2NF1dLCBbJ1RpbGRlRXF1YWwnLCBbODc3MV1dLCBbJ1RpbGRlRnVsbEVxdWFsJywgWzg3NzNdXSwgWydUaWxkZVRpbGRlJywgWzg3NzZdXSwgWyd0aW1lc2JhcicsIFsxMDgwMV1dLCBbJ3RpbWVzYicsIFs4ODY0XV0sIFsndGltZXMnLCBbMjE1XV0sIFsndGltZXNkJywgWzEwODAwXV0sIFsndGludCcsIFs4NzQ5XV0sIFsndG9lYScsIFsxMDUzNl1dLCBbJ3RvcGJvdCcsIFs5MDE0XV0sIFsndG9wY2lyJywgWzEwOTkzXV0sIFsndG9wJywgWzg4NjhdXSwgWydUb3BmJywgWzEyMDEzOV1dLCBbJ3RvcGYnLCBbMTIwMTY1XV0sIFsndG9wZm9yaycsIFsxMDk3MF1dLCBbJ3Rvc2EnLCBbMTA1MzddXSwgWyd0cHJpbWUnLCBbODI0NF1dLCBbJ3RyYWRlJywgWzg0ODJdXSwgWydUUkFERScsIFs4NDgyXV0sIFsndHJpYW5nbGUnLCBbOTY1M11dLCBbJ3RyaWFuZ2xlZG93bicsIFs5NjYzXV0sIFsndHJpYW5nbGVsZWZ0JywgWzk2NjddXSwgWyd0cmlhbmdsZWxlZnRlcScsIFs4ODg0XV0sIFsndHJpYW5nbGVxJywgWzg3OTZdXSwgWyd0cmlhbmdsZXJpZ2h0JywgWzk2NTddXSwgWyd0cmlhbmdsZXJpZ2h0ZXEnLCBbODg4NV1dLCBbJ3RyaWRvdCcsIFs5NzA4XV0sIFsndHJpZScsIFs4Nzk2XV0sIFsndHJpbWludXMnLCBbMTA4MTBdXSwgWydUcmlwbGVEb3QnLCBbODQxMV1dLCBbJ3RyaXBsdXMnLCBbMTA4MDldXSwgWyd0cmlzYicsIFsxMDcwMV1dLCBbJ3RyaXRpbWUnLCBbMTA4MTFdXSwgWyd0cnBleml1bScsIFs5MTg2XV0sIFsnVHNjcicsIFsxMTk5ODNdXSwgWyd0c2NyJywgWzEyMDAwOV1dLCBbJ1RTY3knLCBbMTA2Ml1dLCBbJ3RzY3knLCBbMTA5NF1dLCBbJ1RTSGN5JywgWzEwMzVdXSwgWyd0c2hjeScsIFsxMTE1XV0sIFsnVHN0cm9rJywgWzM1OF1dLCBbJ3RzdHJvaycsIFszNTldXSwgWyd0d2l4dCcsIFs4ODEyXV0sIFsndHdvaGVhZGxlZnRhcnJvdycsIFs4NjA2XV0sIFsndHdvaGVhZHJpZ2h0YXJyb3cnLCBbODYwOF1dLCBbJ1VhY3V0ZScsIFsyMThdXSwgWyd1YWN1dGUnLCBbMjUwXV0sIFsndWFycicsIFs4NTkzXV0sIFsnVWFycicsIFs4NjA3XV0sIFsndUFycicsIFs4NjU3XV0sIFsnVWFycm9jaXInLCBbMTA1NjldXSwgWydVYnJjeScsIFsxMDM4XV0sIFsndWJyY3knLCBbMTExOF1dLCBbJ1VicmV2ZScsIFszNjRdXSwgWyd1YnJldmUnLCBbMzY1XV0sIFsnVWNpcmMnLCBbMjE5XV0sIFsndWNpcmMnLCBbMjUxXV0sIFsnVWN5JywgWzEwNTldXSwgWyd1Y3knLCBbMTA5MV1dLCBbJ3VkYXJyJywgWzg2NDVdXSwgWydVZGJsYWMnLCBbMzY4XV0sIFsndWRibGFjJywgWzM2OV1dLCBbJ3VkaGFyJywgWzEwNjA2XV0sIFsndWZpc2h0JywgWzEwNjIyXV0sIFsnVWZyJywgWzEyMDA4OF1dLCBbJ3VmcicsIFsxMjAxMTRdXSwgWydVZ3JhdmUnLCBbMjE3XV0sIFsndWdyYXZlJywgWzI0OV1dLCBbJ3VIYXInLCBbMTA1OTVdXSwgWyd1aGFybCcsIFs4NjM5XV0sIFsndWhhcnInLCBbODYzOF1dLCBbJ3VoYmxrJywgWzk2MDBdXSwgWyd1bGNvcm4nLCBbODk4OF1dLCBbJ3VsY29ybmVyJywgWzg5ODhdXSwgWyd1bGNyb3AnLCBbODk3NV1dLCBbJ3VsdHJpJywgWzk3MjBdXSwgWydVbWFjcicsIFszNjJdXSwgWyd1bWFjcicsIFszNjNdXSwgWyd1bWwnLCBbMTY4XV0sIFsnVW5kZXJCYXInLCBbOTVdXSwgWydVbmRlckJyYWNlJywgWzkxODNdXSwgWydVbmRlckJyYWNrZXQnLCBbOTE0MV1dLCBbJ1VuZGVyUGFyZW50aGVzaXMnLCBbOTE4MV1dLCBbJ1VuaW9uJywgWzg4OTldXSwgWydVbmlvblBsdXMnLCBbODg0Nl1dLCBbJ1VvZ29uJywgWzM3MF1dLCBbJ3VvZ29uJywgWzM3MV1dLCBbJ1VvcGYnLCBbMTIwMTQwXV0sIFsndW9wZicsIFsxMjAxNjZdXSwgWydVcEFycm93QmFyJywgWzEwNTE0XV0sIFsndXBhcnJvdycsIFs4NTkzXV0sIFsnVXBBcnJvdycsIFs4NTkzXV0sIFsnVXBhcnJvdycsIFs4NjU3XV0sIFsnVXBBcnJvd0Rvd25BcnJvdycsIFs4NjQ1XV0sIFsndXBkb3duYXJyb3cnLCBbODU5N11dLCBbJ1VwRG93bkFycm93JywgWzg1OTddXSwgWydVcGRvd25hcnJvdycsIFs4NjYxXV0sIFsnVXBFcXVpbGlicml1bScsIFsxMDYwNl1dLCBbJ3VwaGFycG9vbmxlZnQnLCBbODYzOV1dLCBbJ3VwaGFycG9vbnJpZ2h0JywgWzg2MzhdXSwgWyd1cGx1cycsIFs4ODQ2XV0sIFsnVXBwZXJMZWZ0QXJyb3cnLCBbODU5OF1dLCBbJ1VwcGVyUmlnaHRBcnJvdycsIFs4NTk5XV0sIFsndXBzaScsIFs5NjVdXSwgWydVcHNpJywgWzk3OF1dLCBbJ3Vwc2loJywgWzk3OF1dLCBbJ1Vwc2lsb24nLCBbOTMzXV0sIFsndXBzaWxvbicsIFs5NjVdXSwgWydVcFRlZUFycm93JywgWzg2MTNdXSwgWydVcFRlZScsIFs4ODY5XV0sIFsndXB1cGFycm93cycsIFs4NjQ4XV0sIFsndXJjb3JuJywgWzg5ODldXSwgWyd1cmNvcm5lcicsIFs4OTg5XV0sIFsndXJjcm9wJywgWzg5NzRdXSwgWydVcmluZycsIFszNjZdXSwgWyd1cmluZycsIFszNjddXSwgWyd1cnRyaScsIFs5NzIxXV0sIFsnVXNjcicsIFsxMTk5ODRdXSwgWyd1c2NyJywgWzEyMDAxMF1dLCBbJ3V0ZG90JywgWzg5NDRdXSwgWydVdGlsZGUnLCBbMzYwXV0sIFsndXRpbGRlJywgWzM2MV1dLCBbJ3V0cmknLCBbOTY1M11dLCBbJ3V0cmlmJywgWzk2NTJdXSwgWyd1dWFycicsIFs4NjQ4XV0sIFsnVXVtbCcsIFsyMjBdXSwgWyd1dW1sJywgWzI1Ml1dLCBbJ3V3YW5nbGUnLCBbMTA2NjNdXSwgWyd2YW5ncnQnLCBbMTA2NTJdXSwgWyd2YXJlcHNpbG9uJywgWzEwMTNdXSwgWyd2YXJrYXBwYScsIFsxMDA4XV0sIFsndmFybm90aGluZycsIFs4NzA5XV0sIFsndmFycGhpJywgWzk4MV1dLCBbJ3ZhcnBpJywgWzk4Ml1dLCBbJ3ZhcnByb3B0bycsIFs4NzMzXV0sIFsndmFycicsIFs4NTk3XV0sIFsndkFycicsIFs4NjYxXV0sIFsndmFycmhvJywgWzEwMDldXSwgWyd2YXJzaWdtYScsIFs5NjJdXSwgWyd2YXJzdWJzZXRuZXEnLCBbODg0MiwgNjUwMjRdXSwgWyd2YXJzdWJzZXRuZXFxJywgWzEwOTU1LCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcScsIFs4ODQzLCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcXEnLCBbMTA5NTYsIDY1MDI0XV0sIFsndmFydGhldGEnLCBbOTc3XV0sIFsndmFydHJpYW5nbGVsZWZ0JywgWzg4ODJdXSwgWyd2YXJ0cmlhbmdsZXJpZ2h0JywgWzg4ODNdXSwgWyd2QmFyJywgWzEwOTg0XV0sIFsnVmJhcicsIFsxMDk4N11dLCBbJ3ZCYXJ2JywgWzEwOTg1XV0sIFsnVmN5JywgWzEwNDJdXSwgWyd2Y3knLCBbMTA3NF1dLCBbJ3ZkYXNoJywgWzg4NjZdXSwgWyd2RGFzaCcsIFs4ODcyXV0sIFsnVmRhc2gnLCBbODg3M11dLCBbJ1ZEYXNoJywgWzg4NzVdXSwgWydWZGFzaGwnLCBbMTA5ODJdXSwgWyd2ZWViYXInLCBbODg5MV1dLCBbJ3ZlZScsIFs4NzQ0XV0sIFsnVmVlJywgWzg4OTddXSwgWyd2ZWVlcScsIFs4Nzk0XV0sIFsndmVsbGlwJywgWzg5NDJdXSwgWyd2ZXJiYXInLCBbMTI0XV0sIFsnVmVyYmFyJywgWzgyMTRdXSwgWyd2ZXJ0JywgWzEyNF1dLCBbJ1ZlcnQnLCBbODIxNF1dLCBbJ1ZlcnRpY2FsQmFyJywgWzg3MzldXSwgWydWZXJ0aWNhbExpbmUnLCBbMTI0XV0sIFsnVmVydGljYWxTZXBhcmF0b3InLCBbMTAwNzJdXSwgWydWZXJ0aWNhbFRpbGRlJywgWzg3NjhdXSwgWydWZXJ5VGhpblNwYWNlJywgWzgyMDJdXSwgWydWZnInLCBbMTIwMDg5XV0sIFsndmZyJywgWzEyMDExNV1dLCBbJ3ZsdHJpJywgWzg4ODJdXSwgWyd2bnN1YicsIFs4ODM0LCA4NDAyXV0sIFsndm5zdXAnLCBbODgzNSwgODQwMl1dLCBbJ1ZvcGYnLCBbMTIwMTQxXV0sIFsndm9wZicsIFsxMjAxNjddXSwgWyd2cHJvcCcsIFs4NzMzXV0sIFsndnJ0cmknLCBbODg4M11dLCBbJ1ZzY3InLCBbMTE5OTg1XV0sIFsndnNjcicsIFsxMjAwMTFdXSwgWyd2c3VibkUnLCBbMTA5NTUsIDY1MDI0XV0sIFsndnN1Ym5lJywgWzg4NDIsIDY1MDI0XV0sIFsndnN1cG5FJywgWzEwOTU2LCA2NTAyNF1dLCBbJ3ZzdXBuZScsIFs4ODQzLCA2NTAyNF1dLCBbJ1Z2ZGFzaCcsIFs4ODc0XV0sIFsndnppZ3phZycsIFsxMDY1MF1dLCBbJ1djaXJjJywgWzM3Ml1dLCBbJ3djaXJjJywgWzM3M11dLCBbJ3dlZGJhcicsIFsxMDg0N11dLCBbJ3dlZGdlJywgWzg3NDNdXSwgWydXZWRnZScsIFs4ODk2XV0sIFsnd2VkZ2VxJywgWzg3OTNdXSwgWyd3ZWllcnAnLCBbODQ3Ml1dLCBbJ1dmcicsIFsxMjAwOTBdXSwgWyd3ZnInLCBbMTIwMTE2XV0sIFsnV29wZicsIFsxMjAxNDJdXSwgWyd3b3BmJywgWzEyMDE2OF1dLCBbJ3dwJywgWzg0NzJdXSwgWyd3cicsIFs4NzY4XV0sIFsnd3JlYXRoJywgWzg3NjhdXSwgWydXc2NyJywgWzExOTk4Nl1dLCBbJ3dzY3InLCBbMTIwMDEyXV0sIFsneGNhcCcsIFs4ODk4XV0sIFsneGNpcmMnLCBbOTcxMV1dLCBbJ3hjdXAnLCBbODg5OV1dLCBbJ3hkdHJpJywgWzk2NjFdXSwgWydYZnInLCBbMTIwMDkxXV0sIFsneGZyJywgWzEyMDExN11dLCBbJ3hoYXJyJywgWzEwMjMxXV0sIFsneGhBcnInLCBbMTAyMzRdXSwgWydYaScsIFs5MjZdXSwgWyd4aScsIFs5NThdXSwgWyd4bGFycicsIFsxMDIyOV1dLCBbJ3hsQXJyJywgWzEwMjMyXV0sIFsneG1hcCcsIFsxMDIzNl1dLCBbJ3huaXMnLCBbODk1NV1dLCBbJ3hvZG90JywgWzEwNzUyXV0sIFsnWG9wZicsIFsxMjAxNDNdXSwgWyd4b3BmJywgWzEyMDE2OV1dLCBbJ3hvcGx1cycsIFsxMDc1M11dLCBbJ3hvdGltZScsIFsxMDc1NF1dLCBbJ3hyYXJyJywgWzEwMjMwXV0sIFsneHJBcnInLCBbMTAyMzNdXSwgWydYc2NyJywgWzExOTk4N11dLCBbJ3hzY3InLCBbMTIwMDEzXV0sIFsneHNxY3VwJywgWzEwNzU4XV0sIFsneHVwbHVzJywgWzEwNzU2XV0sIFsneHV0cmknLCBbOTY1MV1dLCBbJ3h2ZWUnLCBbODg5N11dLCBbJ3h3ZWRnZScsIFs4ODk2XV0sIFsnWWFjdXRlJywgWzIyMV1dLCBbJ3lhY3V0ZScsIFsyNTNdXSwgWydZQWN5JywgWzEwNzFdXSwgWyd5YWN5JywgWzExMDNdXSwgWydZY2lyYycsIFszNzRdXSwgWyd5Y2lyYycsIFszNzVdXSwgWydZY3knLCBbMTA2N11dLCBbJ3ljeScsIFsxMDk5XV0sIFsneWVuJywgWzE2NV1dLCBbJ1lmcicsIFsxMjAwOTJdXSwgWyd5ZnInLCBbMTIwMTE4XV0sIFsnWUljeScsIFsxMDMxXV0sIFsneWljeScsIFsxMTExXV0sIFsnWW9wZicsIFsxMjAxNDRdXSwgWyd5b3BmJywgWzEyMDE3MF1dLCBbJ1lzY3InLCBbMTE5OTg4XV0sIFsneXNjcicsIFsxMjAwMTRdXSwgWydZVWN5JywgWzEwNzBdXSwgWyd5dWN5JywgWzExMDJdXSwgWyd5dW1sJywgWzI1NV1dLCBbJ1l1bWwnLCBbMzc2XV0sIFsnWmFjdXRlJywgWzM3N11dLCBbJ3phY3V0ZScsIFszNzhdXSwgWydaY2Fyb24nLCBbMzgxXV0sIFsnemNhcm9uJywgWzM4Ml1dLCBbJ1pjeScsIFsxMDQ3XV0sIFsnemN5JywgWzEwNzldXSwgWydaZG90JywgWzM3OV1dLCBbJ3pkb3QnLCBbMzgwXV0sIFsnemVldHJmJywgWzg0ODhdXSwgWydaZXJvV2lkdGhTcGFjZScsIFs4MjAzXV0sIFsnWmV0YScsIFs5MThdXSwgWyd6ZXRhJywgWzk1MF1dLCBbJ3pmcicsIFsxMjAxMTldXSwgWydaZnInLCBbODQ4OF1dLCBbJ1pIY3knLCBbMTA0Nl1dLCBbJ3poY3knLCBbMTA3OF1dLCBbJ3ppZ3JhcnInLCBbODY2OV1dLCBbJ3pvcGYnLCBbMTIwMTcxXV0sIFsnWm9wZicsIFs4NDg0XV0sIFsnWnNjcicsIFsxMTk5ODldXSwgWyd6c2NyJywgWzEyMDAxNV1dLCBbJ3p3aicsIFs4MjA1XV0sIFsnenduaicsIFs4MjA0XV1dO1xuXG52YXIgYWxwaGFJbmRleCA9IHt9O1xudmFyIGNoYXJJbmRleCA9IHt9O1xuXG5jcmVhdGVJbmRleGVzKGFscGhhSW5kZXgsIGNoYXJJbmRleCk7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEh0bWw1RW50aXRpZXMoKSB7fVxuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw1RW50aXRpZXMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mKCM/W1xcd1xcZF0rKTs/L2csIGZ1bmN0aW9uKHMsIGVudGl0eSkge1xuICAgICAgICB2YXIgY2hyO1xuICAgICAgICBpZiAoZW50aXR5LmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnID9cbiAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCksIDE2KSA6XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZW50aXR5LnN1YnN0cigxKSk7XG5cbiAgICAgICAgICAgIGlmICghKGlzTmFOKGNvZGUpIHx8IGNvZGUgPCAtMzI3NjggfHwgY29kZSA+IDY1NTM1KSkge1xuICAgICAgICAgICAgICAgIGNociA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaHIgPSBhbHBoYUluZGV4W2VudGl0eV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNociB8fCBzO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4gSHRtbDVFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5kZWNvZGUoc3RyKTtcbiB9O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw1RW50aXRpZXMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIGlmIChzdHJMZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBjaGFySW5mbyA9IGNoYXJJbmRleFtzdHIuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGlmIChjaGFySW5mbykge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gY2hhckluZm9bc3RyLmNoYXJDb2RlQXQoaSArIDEpXTtcbiAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxwaGEgPSBjaGFySW5mb1snJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxwaGEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCImXCIgKyBhbHBoYSArIFwiO1wiO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4gSHRtbDVFbnRpdGllcy5lbmNvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiB9O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw1RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIGlmIChzdHJMZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHZhciBjaGFySW5mbyA9IGNoYXJJbmRleFtjXTtcbiAgICAgICAgaWYgKGNoYXJJbmZvKSB7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBjaGFySW5mb1tzdHIuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbHBoYSA9IGNoYXJJbmZvWycnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjIDwgMzIgfHwgYyA+IDEyNikge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICcmIycgKyBjICsgJzsnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4gSHRtbDVFbnRpdGllcy5lbmNvZGVOb25VVEYgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGVOb25VVEYoc3RyKTtcbiB9O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw1RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vbkFTQ0lJID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKHN0ckxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPD0gMjU1KSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyW2krK107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gJyYjJyArIGMgKyAnOyc7XG4gICAgICAgIGkrK1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4gSHRtbDVFbnRpdGllcy5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBuZXcgSHRtbDVFbnRpdGllcygpLmVuY29kZU5vbkFTQ0lJKHN0cik7XG4gfTtcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gYWxwaGFJbmRleCBQYXNzZWQgYnkgcmVmZXJlbmNlLlxuICogQHBhcmFtIHtPYmplY3R9IGNoYXJJbmRleCBQYXNzZWQgYnkgcmVmZXJlbmNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmRleGVzKGFscGhhSW5kZXgsIGNoYXJJbmRleCkge1xuICAgIHZhciBpID0gRU5USVRJRVMubGVuZ3RoO1xuICAgIHZhciBfcmVzdWx0cyA9IFtdO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdmFyIGUgPSBFTlRJVElFU1tpXTtcbiAgICAgICAgdmFyIGFscGhhID0gZVswXTtcbiAgICAgICAgdmFyIGNoYXJzID0gZVsxXTtcbiAgICAgICAgdmFyIGNociA9IGNoYXJzWzBdO1xuICAgICAgICB2YXIgYWRkQ2hhciA9IChjaHIgPCAzMiB8fCBjaHIgPiAxMjYpIHx8IGNociA9PT0gNjIgfHwgY2hyID09PSA2MCB8fCBjaHIgPT09IDM4IHx8IGNociA9PT0gMzQgfHwgY2hyID09PSAzOTtcbiAgICAgICAgdmFyIGNoYXJJbmZvO1xuICAgICAgICBpZiAoYWRkQ2hhcikge1xuICAgICAgICAgICAgY2hhckluZm8gPSBjaGFySW5kZXhbY2hyXSA9IGNoYXJJbmRleFtjaHJdIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyc1sxXSkge1xuICAgICAgICAgICAgdmFyIGNocjIgPSBjaGFyc1sxXTtcbiAgICAgICAgICAgIGFscGhhSW5kZXhbYWxwaGFdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjaHIpICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIyKTtcbiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goYWRkQ2hhciAmJiAoY2hhckluZm9bY2hyMl0gPSBhbHBoYSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxwaGFJbmRleFthbHBoYV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocik7XG4gICAgICAgICAgICBfcmVzdWx0cy5wdXNoKGFkZENoYXIgJiYgKGNoYXJJbmZvWycnXSA9IGFscGhhKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSHRtbDVFbnRpdGllcztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2h0bWwtZW50aXRpZXMvbGliL2h0bWw1LWVudGl0aWVzLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 23 */
/***/ function(module, exports) {

	eval("module.exports = ansiHTML;\n\n// Reference to https://github.com/sindresorhus/ansi-regex\nvar re_ansi = /(?:(?:\\u001b\\[)|\\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\\u001b[A-M]/;\n\nvar _defColors = {\n  reset: ['fff', '000'], // [FOREGROUD_COLOR, BACKGROUND_COLOR]\n  black: '000',\n  red: 'ff0000',\n  green: '209805',\n  yellow: 'e8bf03',\n  blue: '0000ff',\n  magenta: 'ff00ff',\n  cyan: '00ffee',\n  lightgrey: 'f0f0f0',\n  darkgrey: '888'\n};\nvar _styles = {\n  30: 'black',\n  31: 'red',\n  32: 'green',\n  33: 'yellow',\n  34: 'blue',\n  35: 'magenta',\n  36: 'cyan',\n  37: 'lightgrey'\n};\nvar _openTags = {\n  '1': 'font-weight:bold', // bold\n  '2': 'opacity:0.8', // dim\n  '3': '<i>', // italic\n  '4': '<u>', // underscore\n  '8': 'display:none', // hidden\n  '9': '<del>', // delete\n};\nvar _closeTags = {\n  '23': '</i>', // reset italic\n  '24': '</u>', // reset underscore\n  '29': '</del>' // reset delete\n};\n[0, 21, 22, 27, 28, 39, 49].forEach(function (n) {\n  _closeTags[n] = '</span>';\n});\n\n/**\n * Converts text with ANSI color codes to HTML markup.\n * @param {String} text\n * @returns {*}\n */\nfunction ansiHTML(text) {\n  // Returns the text if the string has no ANSI escape code.\n  if (!re_ansi.test(text)) {\n    return text;\n  }\n\n  // Cache opened sequence.\n  var ansiCodes = [];\n  // Replace with markup.\n  var ret = text.replace(/\\033\\[(\\d+)*m/g, function (match, seq) {\n    var ot = _openTags[seq];\n    if (ot) {\n      // If current sequence has been opened, close it.\n      if (!!~ansiCodes.indexOf(seq)) {\n        ansiCodes.pop();\n        return '</span>';\n      }\n      // Open tag.\n      ansiCodes.push(seq);\n      return ot[0] == '<' ? ot : '<span style=\"' + ot + ';\">';\n    }\n\n    var ct = _closeTags[seq];\n    if (ct) {\n      // Pop sequence\n      ansiCodes.pop();\n      return ct;\n    }\n    return '';\n  });\n\n  // Make sure tags are closed.\n  var l = ansiCodes.length;\n  (l > 0) && (ret += Array(l + 1).join('</span>'));\n\n  return ret;\n}\n\n/**\n * Customize colors.\n * @param {Object} colors reference to _defColors\n */\nansiHTML.setColors = function (colors) {\n  if (typeof colors != 'object') {\n    throw new Error('`colors` parameter must be an Object.');\n  }\n\n  var _finalColors = {};\n  for (var key in _defColors) {\n    var hex = colors.hasOwnProperty(key) ? colors[key] : null;\n    if (!hex) {\n      _finalColors[key] = _defColors[key];\n      continue;\n    }\n    if ('reset' == key) {\n    \tif(typeof hex == 'string'){\n    \t\thex = [hex];\n    \t}\n      if (!Array.isArray(hex) || hex.length == 0 || hex.some(function (h) {\n          return typeof h != 'string';\n        })) {\n        throw new Error('The value of `' + key + '` property must be an Array and each item could only be a hex string, e.g.: FF0000');\n      }\n      var defHexColor = _defColors[key];\n      if(!hex[0]){\n      \thex[0] = defHexColor[0];\n      }\n      if (hex.length == 1 || !hex[1]) {\n      \thex = [hex[0]];\n        hex.push(defHexColor[1]);\n      }\n\n      hex = hex.slice(0, 2);\n    } else if (typeof hex != 'string') {\n      throw new Error('The value of `' + key + '` property must be a hex string, e.g.: FF0000');\n    }\n    _finalColors[key] = hex;\n  }\n  _setTags(_finalColors);\n};\n\n/**\n * Reset colors.\n */\nansiHTML.reset = function(){\n\t_setTags(_defColors);\n};\n\n/**\n * Expose tags, including open and close.\n * @type {Object}\n */\nansiHTML.tags = {\n  get open() {\n    return _openTags;\n  },\n  get close() {\n    return _closeTags;\n  }\n};\n\nfunction _setTags(colors) {\n  // reset all\n  _openTags['0'] = 'font-weight:normal;opacity:1;color:#' + colors.reset[0] + ';background:#' + colors.reset[1];\n  // inverse\n  _openTags['7'] = 'color:#' + colors.reset[1] + ';background:#' + colors.reset[0];\n  // dark grey\n  _openTags['90'] = 'color:#' + colors.darkgrey;\n\n  for (var code in _styles) {\n    var color = _styles[code];\n    var oriColor = colors[color] || '000';\n    _openTags[code] = 'color:#' + oriColor;\n    code = parseInt(code);\n    _openTags[(code + 10).toString()] = 'background:#' + oriColor;\n  }\n}\n\nansiHTML.reset();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Fuc2ktaHRtbC9pbmRleC5qcz9mMDk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0Esa0RBQWtELElBQUksU0FBUyxNQUFNLElBQUk7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVDQUF1QyxVQUFVLCtCQUErQjtBQUNoRjtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGFuc2lIVE1MO1xuXG4vLyBSZWZlcmVuY2UgdG8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9hbnNpLXJlZ2V4XG52YXIgcmVfYW5zaSA9IC8oPzooPzpcXHUwMDFiXFxbKXxcXHUwMDliKSg/Oig/OlswLTldezEsM30pPyg/Oig/OjtbMC05XXswLDN9KSopP1tBLU18Zi1tXSl8XFx1MDAxYltBLU1dLztcblxudmFyIF9kZWZDb2xvcnMgPSB7XG4gIHJlc2V0OiBbJ2ZmZicsICcwMDAnXSwgLy8gW0ZPUkVHUk9VRF9DT0xPUiwgQkFDS0dST1VORF9DT0xPUl1cbiAgYmxhY2s6ICcwMDAnLFxuICByZWQ6ICdmZjAwMDAnLFxuICBncmVlbjogJzIwOTgwNScsXG4gIHllbGxvdzogJ2U4YmYwMycsXG4gIGJsdWU6ICcwMDAwZmYnLFxuICBtYWdlbnRhOiAnZmYwMGZmJyxcbiAgY3lhbjogJzAwZmZlZScsXG4gIGxpZ2h0Z3JleTogJ2YwZjBmMCcsXG4gIGRhcmtncmV5OiAnODg4J1xufTtcbnZhciBfc3R5bGVzID0ge1xuICAzMDogJ2JsYWNrJyxcbiAgMzE6ICdyZWQnLFxuICAzMjogJ2dyZWVuJyxcbiAgMzM6ICd5ZWxsb3cnLFxuICAzNDogJ2JsdWUnLFxuICAzNTogJ21hZ2VudGEnLFxuICAzNjogJ2N5YW4nLFxuICAzNzogJ2xpZ2h0Z3JleSdcbn07XG52YXIgX29wZW5UYWdzID0ge1xuICAnMSc6ICdmb250LXdlaWdodDpib2xkJywgLy8gYm9sZFxuICAnMic6ICdvcGFjaXR5OjAuOCcsIC8vIGRpbVxuICAnMyc6ICc8aT4nLCAvLyBpdGFsaWNcbiAgJzQnOiAnPHU+JywgLy8gdW5kZXJzY29yZVxuICAnOCc6ICdkaXNwbGF5Om5vbmUnLCAvLyBoaWRkZW5cbiAgJzknOiAnPGRlbD4nLCAvLyBkZWxldGVcbn07XG52YXIgX2Nsb3NlVGFncyA9IHtcbiAgJzIzJzogJzwvaT4nLCAvLyByZXNldCBpdGFsaWNcbiAgJzI0JzogJzwvdT4nLCAvLyByZXNldCB1bmRlcnNjb3JlXG4gICcyOSc6ICc8L2RlbD4nIC8vIHJlc2V0IGRlbGV0ZVxufTtcblswLCAyMSwgMjIsIDI3LCAyOCwgMzksIDQ5XS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gIF9jbG9zZVRhZ3Nbbl0gPSAnPC9zcGFuPic7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0ZXh0IHdpdGggQU5TSSBjb2xvciBjb2RlcyB0byBIVE1MIG1hcmt1cC5cbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gYW5zaUhUTUwodGV4dCkge1xuICAvLyBSZXR1cm5zIHRoZSB0ZXh0IGlmIHRoZSBzdHJpbmcgaGFzIG5vIEFOU0kgZXNjYXBlIGNvZGUuXG4gIGlmICghcmVfYW5zaS50ZXN0KHRleHQpKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICAvLyBDYWNoZSBvcGVuZWQgc2VxdWVuY2UuXG4gIHZhciBhbnNpQ29kZXMgPSBbXTtcbiAgLy8gUmVwbGFjZSB3aXRoIG1hcmt1cC5cbiAgdmFyIHJldCA9IHRleHQucmVwbGFjZSgvXFwwMzNcXFsoXFxkKykqbS9nLCBmdW5jdGlvbiAobWF0Y2gsIHNlcSkge1xuICAgIHZhciBvdCA9IF9vcGVuVGFnc1tzZXFdO1xuICAgIGlmIChvdCkge1xuICAgICAgLy8gSWYgY3VycmVudCBzZXF1ZW5jZSBoYXMgYmVlbiBvcGVuZWQsIGNsb3NlIGl0LlxuICAgICAgaWYgKCEhfmFuc2lDb2Rlcy5pbmRleE9mKHNlcSkpIHtcbiAgICAgICAgYW5zaUNvZGVzLnBvcCgpO1xuICAgICAgICByZXR1cm4gJzwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgLy8gT3BlbiB0YWcuXG4gICAgICBhbnNpQ29kZXMucHVzaChzZXEpO1xuICAgICAgcmV0dXJuIG90WzBdID09ICc8JyA/IG90IDogJzxzcGFuIHN0eWxlPVwiJyArIG90ICsgJztcIj4nO1xuICAgIH1cblxuICAgIHZhciBjdCA9IF9jbG9zZVRhZ3Nbc2VxXTtcbiAgICBpZiAoY3QpIHtcbiAgICAgIC8vIFBvcCBzZXF1ZW5jZVxuICAgICAgYW5zaUNvZGVzLnBvcCgpO1xuICAgICAgcmV0dXJuIGN0O1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH0pO1xuXG4gIC8vIE1ha2Ugc3VyZSB0YWdzIGFyZSBjbG9zZWQuXG4gIHZhciBsID0gYW5zaUNvZGVzLmxlbmd0aDtcbiAgKGwgPiAwKSAmJiAocmV0ICs9IEFycmF5KGwgKyAxKS5qb2luKCc8L3NwYW4+JykpO1xuXG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogQ3VzdG9taXplIGNvbG9ycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvcnMgcmVmZXJlbmNlIHRvIF9kZWZDb2xvcnNcbiAqL1xuYW5zaUhUTUwuc2V0Q29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycykge1xuICBpZiAodHlwZW9mIGNvbG9ycyAhPSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignYGNvbG9yc2AgcGFyYW1ldGVyIG11c3QgYmUgYW4gT2JqZWN0LicpO1xuICB9XG5cbiAgdmFyIF9maW5hbENvbG9ycyA9IHt9O1xuICBmb3IgKHZhciBrZXkgaW4gX2RlZkNvbG9ycykge1xuICAgIHZhciBoZXggPSBjb2xvcnMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGNvbG9yc1trZXldIDogbnVsbDtcbiAgICBpZiAoIWhleCkge1xuICAgICAgX2ZpbmFsQ29sb3JzW2tleV0gPSBfZGVmQ29sb3JzW2tleV07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCdyZXNldCcgPT0ga2V5KSB7XG4gICAgXHRpZih0eXBlb2YgaGV4ID09ICdzdHJpbmcnKXtcbiAgICBcdFx0aGV4ID0gW2hleF07XG4gICAgXHR9XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaGV4KSB8fCBoZXgubGVuZ3RoID09IDAgfHwgaGV4LnNvbWUoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGggIT0gJ3N0cmluZyc7XG4gICAgICAgIH0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIG9mIGAnICsga2V5ICsgJ2AgcHJvcGVydHkgbXVzdCBiZSBhbiBBcnJheSBhbmQgZWFjaCBpdGVtIGNvdWxkIG9ubHkgYmUgYSBoZXggc3RyaW5nLCBlLmcuOiBGRjAwMDAnKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWZIZXhDb2xvciA9IF9kZWZDb2xvcnNba2V5XTtcbiAgICAgIGlmKCFoZXhbMF0pe1xuICAgICAgXHRoZXhbMF0gPSBkZWZIZXhDb2xvclswXTtcbiAgICAgIH1cbiAgICAgIGlmIChoZXgubGVuZ3RoID09IDEgfHwgIWhleFsxXSkge1xuICAgICAgXHRoZXggPSBbaGV4WzBdXTtcbiAgICAgICAgaGV4LnB1c2goZGVmSGV4Q29sb3JbMV0pO1xuICAgICAgfVxuXG4gICAgICBoZXggPSBoZXguc2xpY2UoMCwgMik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaGV4ICE9ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZSBvZiBgJyArIGtleSArICdgIHByb3BlcnR5IG11c3QgYmUgYSBoZXggc3RyaW5nLCBlLmcuOiBGRjAwMDAnKTtcbiAgICB9XG4gICAgX2ZpbmFsQ29sb3JzW2tleV0gPSBoZXg7XG4gIH1cbiAgX3NldFRhZ3MoX2ZpbmFsQ29sb3JzKTtcbn07XG5cbi8qKlxuICogUmVzZXQgY29sb3JzLlxuICovXG5hbnNpSFRNTC5yZXNldCA9IGZ1bmN0aW9uKCl7XG5cdF9zZXRUYWdzKF9kZWZDb2xvcnMpO1xufTtcblxuLyoqXG4gKiBFeHBvc2UgdGFncywgaW5jbHVkaW5nIG9wZW4gYW5kIGNsb3NlLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuYW5zaUhUTUwudGFncyA9IHtcbiAgZ2V0IG9wZW4oKSB7XG4gICAgcmV0dXJuIF9vcGVuVGFncztcbiAgfSxcbiAgZ2V0IGNsb3NlKCkge1xuICAgIHJldHVybiBfY2xvc2VUYWdzO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfc2V0VGFncyhjb2xvcnMpIHtcbiAgLy8gcmVzZXQgYWxsXG4gIF9vcGVuVGFnc1snMCddID0gJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtvcGFjaXR5OjE7Y29sb3I6IycgKyBjb2xvcnMucmVzZXRbMF0gKyAnO2JhY2tncm91bmQ6IycgKyBjb2xvcnMucmVzZXRbMV07XG4gIC8vIGludmVyc2VcbiAgX29wZW5UYWdzWyc3J10gPSAnY29sb3I6IycgKyBjb2xvcnMucmVzZXRbMV0gKyAnO2JhY2tncm91bmQ6IycgKyBjb2xvcnMucmVzZXRbMF07XG4gIC8vIGRhcmsgZ3JleVxuICBfb3BlblRhZ3NbJzkwJ10gPSAnY29sb3I6IycgKyBjb2xvcnMuZGFya2dyZXk7XG5cbiAgZm9yICh2YXIgY29kZSBpbiBfc3R5bGVzKSB7XG4gICAgdmFyIGNvbG9yID0gX3N0eWxlc1tjb2RlXTtcbiAgICB2YXIgb3JpQ29sb3IgPSBjb2xvcnNbY29sb3JdIHx8ICcwMDAnO1xuICAgIF9vcGVuVGFnc1tjb2RlXSA9ICdjb2xvcjojJyArIG9yaUNvbG9yO1xuICAgIGNvZGUgPSBwYXJzZUludChjb2RlKTtcbiAgICBfb3BlblRhZ3NbKGNvZGUgKyAxMCkudG9TdHJpbmcoKV0gPSAnYmFja2dyb3VuZDojJyArIG9yaUNvbG9yO1xuICB9XG59XG5cbmFuc2lIVE1MLnJlc2V0KCk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnNpLWh0bWwvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 24 */
/***/ function(module, exports) {

	eval("'use strict';\nmodule.exports = function () {\n\treturn /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g;\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Fuc2ktcmVnZXgvaW5kZXguanM/NzY1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsNkJBQTZCLFlBQVksSUFBSSxJQUFJLE1BQU0sSUFBSTtBQUMzRCIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gL1tcXHUwMDFiXFx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtT1JaY2YtbnFyeT0+PF0vZztcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnNpLXJlZ2V4L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\n__webpack_require__(106);\nvar hotClient = __webpack_require__(116);\n\nhotClient.subscribe(function (event) {\n  if (event.action === 'reload') {\n    window.location.reload();\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9idWlsZC9kZXYtY2xpZW50LmpzPzdkNjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvQkFBUSxHQUFSO0FBQ0EsSUFBSSxZQUFZLG9CQUFRLEdBQVIsQ0FBaEI7O0FBRUEsVUFBVSxTQUFWLENBQW9CLFVBQVUsS0FBVixFQUFpQjtBQUNuQyxNQUFJLE1BQU0sTUFBTixLQUFpQixRQUFyQixFQUErQjtBQUM3QixXQUFPLFFBQVAsQ0FBZ0IsTUFBaEI7QUFDRDtBQUNGLENBSkQiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdldmVudHNvdXJjZS1wb2x5ZmlsbCcpXG52YXIgaG90Q2xpZW50ID0gcmVxdWlyZSgnd2VicGFjay1ob3QtbWlkZGxld2FyZS9jbGllbnQ/bm9JbmZvPXRydWUmcmVsb2FkPXRydWUnKVxuXG5ob3RDbGllbnQuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkge1xuICBpZiAoZXZlbnQuYWN0aW9uID09PSAncmVsb2FkJykge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICB9XG59KVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9idWlsZC9kZXYtY2xpZW50LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _index = __webpack_require__(64);\n\n/**\r\n * 应用入口\r\n * @return {[type]} [description]\r\n */\nvar App = function App() {\n\n    //更新版本号记录\n    Xut.Version = 782;\n\n    /**\r\n     * 动态html文件挂载点\r\n     * 用于content动态加载js文件\r\n     * 目前暂时给epub使用，文本框\r\n     * @type {Object}\r\n     */\n    window.HTMLCONFIG = {};\n\n    /**\r\n     * \r\n     * 2015.10.19新增\r\n     * ibooks处理\r\n     * epub ibooks模式的配置文件\r\n     * 这个是在index.html中会传入几个值\r\n     * \r\n     *   window.IBOOKSCONFIG = {\r\n     *       compiled: true,\r\n     *       pageIndex: 1,\r\n     *       existSvg: true,\r\n     *       screenSize: {\r\n     *           \"width\": 718,\r\n     *           \"height\": 958\r\n     *       }\r\n     *   }\r\n     */\n    var IBOOKSCONFIG = window.IBOOKSCONFIG;\n\n    //如果是IBOOS模式处理\n    //注入保持与数据库H5查询一致\n    if (IBOOKSCONFIG && IBOOKSCONFIG.data) {\n        _.each(IBOOKSCONFIG.data, function (data, tabName) {\n            data.item = function (index) {\n                return this[index];\n            };\n        });\n        //ios上的ibooks模式\n        //直接修改改isBrowser模式\n        Xut.plat.isBrowser = true;\n        Xut.plat.isIOS = false;\n    }\n\n    //配置ibooks参数\n    Xut.IBooks = {\n\n        /**\r\n         * 当前页面编号\r\n         * @return {[type]} [description]\r\n         */\n        pageIndex: function () {\n            if (IBOOKSCONFIG) {\n                //当期页面索引1开始\n                return IBOOKSCONFIG.pageIndex + 1;\n            }\n        }(),\n\n        /**\r\n         * 是否存在svg\r\n         * @type {[type]}\r\n         */\n        existSvg: IBOOKSCONFIG ? IBOOKSCONFIG.existSvg : false,\n\n        /**\r\n         * 是否启动了ibooks模式\r\n         * @return {[type]} [description]\r\n         */\n        Enabled: function () {\n            return IBOOKSCONFIG ? true : false;\n        }(),\n\n        /**\r\n         * 全部对象\r\n         * @type {[type]}\r\n         */\n        CONFIG: IBOOKSCONFIG,\n\n        /**\r\n         * 运行期间\r\n         * @return {[type]} [description]\r\n         */\n        runMode: function runMode() {\n            //确定为ibooks的运行状态\n            //而非预编译状态\n            if (IBOOKSCONFIG && !IBOOKSCONFIG.compiled) {\n                return true;\n            }\n            return false;\n        },\n        /**\r\n         * 编译期间\r\n         * @return {[type]} [description]\r\n         */\n        compileMode: function compileMode() {\n            //确定为ibooks的编译状态\n            //而非预编译状态\n            if (IBOOKSCONFIG && IBOOKSCONFIG.compiled) {\n                return true;\n            }\n            return false;\n        }\n    };\n\n    //修复ios 安卓浏览器不能自动播放音频的问题\n    //在加载时创建新的audio.video 用的时候更换\n    Xut.fix = Xut.fix || {};\n\n    //移动端浏览器平台\n    if (Xut.plat.isBrowser && (Xut.plat.isIOS || Xut.plat.isAndroid)) {\n        var fixaudio = function fixaudio() {\n            if (!Xut.fix.audio) {\n                Xut.fix.audio = new Audio();\n                Xut.fix.video = document.createElement(\"Video\");\n                document.removeEventListener('touchstart', fixaudio, false);\n            }\n        };\n        document.addEventListener('touchstart', fixaudio, false);\n    }\n\n    (0, _index.init)();\n};\n\n$(function () {\n    App();\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2FwcC5qcz8zYmI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQVFBLElBQUksTUFBTSxTQUFOLEdBQU0sR0FBVzs7O0FBSWpCLFFBQUksT0FBSixHQUFjLEdBQWQ7Ozs7Ozs7O0FBUUEsV0FBTyxVQUFQLEdBQW9CLEVBQXBCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBLFFBQUksZUFBZSxPQUFPLFlBQTFCOzs7O0FBSUEsUUFBSSxnQkFBZ0IsYUFBYSxJQUFqQyxFQUF1QztBQUNuQyxVQUFFLElBQUYsQ0FBTyxhQUFhLElBQXBCLEVBQTBCLFVBQVMsSUFBVCxFQUFlLE9BQWYsRUFBd0I7QUFDMUMsaUJBQUssSUFBTCxHQUFZLFVBQVMsS0FBVCxFQUFnQjtBQUN4Qix1QkFBTyxLQUFLLEtBQUwsQ0FBUDtBQUNILGFBRkQ7QUFHSCxTQUpMOzs7QUFPQSxZQUFJLElBQUosQ0FBUyxTQUFULEdBQXFCLElBQXJCO0FBQ0EsWUFBSSxJQUFKLENBQVMsS0FBVCxHQUFpQixLQUFqQjtBQUNIOzs7QUFHRCxRQUFJLE1BQUosR0FBYTs7Ozs7O0FBTVQsbUJBQVcsWUFBVztBQUNsQixnQkFBSSxZQUFKLEVBQWtCOztBQUVkLHVCQUFPLGFBQWEsU0FBYixHQUF5QixDQUFoQztBQUNIO0FBQ0osU0FMVSxFQU5GOzs7Ozs7QUFpQlQsa0JBQVUsZUFBZSxhQUFhLFFBQTVCLEdBQXVDLEtBakJ4Qzs7Ozs7O0FBdUJULGlCQUFTLFlBQVc7QUFDaEIsbUJBQU8sZUFBZSxJQUFmLEdBQXNCLEtBQTdCO0FBQ0gsU0FGUSxFQXZCQTs7Ozs7O0FBK0JULGdCQUFRLFlBL0JDOzs7Ozs7QUFxQ1QsaUJBQVMsbUJBQVc7OztBQUdoQixnQkFBSSxnQkFBZ0IsQ0FBQyxhQUFhLFFBQWxDLEVBQTRDO0FBQ3hDLHVCQUFPLElBQVA7QUFDSDtBQUNELG1CQUFPLEtBQVA7QUFDSCxTQTVDUTs7Ozs7QUFpRFQscUJBQWEsdUJBQVc7OztBQUdwQixnQkFBSSxnQkFBZ0IsYUFBYSxRQUFqQyxFQUEyQztBQUN2Qyx1QkFBTyxJQUFQO0FBQ0g7QUFDRCxtQkFBTyxLQUFQO0FBQ0g7QUF4RFEsS0FBYjs7OztBQThEQSxRQUFJLEdBQUosR0FBVSxJQUFJLEdBQUosSUFBVyxFQUFyQjs7O0FBR0EsUUFBSSxJQUFJLElBQUosQ0FBUyxTQUFULEtBQXVCLElBQUksSUFBSixDQUFTLEtBQVQsSUFBa0IsSUFBSSxJQUFKLENBQVMsU0FBbEQsQ0FBSixFQUFrRTtBQUM5RCxZQUFJLFdBQVcsU0FBWCxRQUFXLEdBQVc7QUFDdEIsZ0JBQUksQ0FBQyxJQUFJLEdBQUosQ0FBUSxLQUFiLEVBQW9CO0FBQ2hCLG9CQUFJLEdBQUosQ0FBUSxLQUFSLEdBQWdCLElBQUksS0FBSixFQUFoQjtBQUNBLG9CQUFJLEdBQUosQ0FBUSxLQUFSLEdBQWdCLFNBQVMsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtBQUNBLHlCQUFTLG1CQUFULENBQTZCLFlBQTdCLEVBQTJDLFFBQTNDLEVBQXFELEtBQXJEO0FBQ0g7QUFDSixTQU5EO0FBT0EsaUJBQVMsZ0JBQVQsQ0FBMEIsWUFBMUIsRUFBd0MsUUFBeEMsRUFBa0QsS0FBbEQ7QUFDSDs7QUFFRDtBQUNILENBN0hEOztBQWdJQSxFQUFFLFlBQVc7QUFDVDtBQUNILENBRkQiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0IH0gZnJvbSAnLi9pbml0L2luZGV4J1xyXG5cclxuXHJcblxyXG4vKipcclxuICog5bqU55So5YWl5Y+jXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxubGV0IEFwcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcblxyXG4gICAgLy/mm7TmlrDniYjmnKzlj7forrDlvZVcclxuICAgIFh1dC5WZXJzaW9uID0gNzgyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqo5oCBaHRtbOaWh+S7tuaMgui9veeCuVxyXG4gICAgICog55So5LqOY29udGVudOWKqOaAgeWKoOi9vWpz5paH5Lu2XHJcbiAgICAgKiDnm67liY3mmoLml7bnu5llcHVi5L2/55So77yM5paH5pys5qGGXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB3aW5kb3cuSFRNTENPTkZJRyA9IHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIDIwMTUuMTAuMTnmlrDlop5cclxuICAgICAqIGlib29rc+WkhOeQhlxyXG4gICAgICogZXB1YiBpYm9va3PmqKHlvI/nmoTphY3nva7mlofku7ZcclxuICAgICAqIOi/meS4quaYr+WcqGluZGV4Lmh0bWzkuK3kvJrkvKDlhaXlh6DkuKrlgLxcclxuICAgICAqIFxyXG4gICAgICogICB3aW5kb3cuSUJPT0tTQ09ORklHID0ge1xyXG4gICAgICogICAgICAgY29tcGlsZWQ6IHRydWUsXHJcbiAgICAgKiAgICAgICBwYWdlSW5kZXg6IDEsXHJcbiAgICAgKiAgICAgICBleGlzdFN2ZzogdHJ1ZSxcclxuICAgICAqICAgICAgIHNjcmVlblNpemU6IHtcclxuICAgICAqICAgICAgICAgICBcIndpZHRoXCI6IDcxOCxcclxuICAgICAqICAgICAgICAgICBcImhlaWdodFwiOiA5NThcclxuICAgICAqICAgICAgIH1cclxuICAgICAqICAgfVxyXG4gICAgICovXHJcbiAgICB2YXIgSUJPT0tTQ09ORklHID0gd2luZG93LklCT09LU0NPTkZJRztcclxuICAgXHJcbiAgICAvL+WmguaenOaYr0lCT09T5qih5byP5aSE55CGXHJcbiAgICAvL+azqOWFpeS/neaMgeS4juaVsOaNruW6k0g15p+l6K+i5LiA6Ie0XHJcbiAgICBpZiAoSUJPT0tTQ09ORklHICYmIElCT09LU0NPTkZJRy5kYXRhKSB7XHJcbiAgICAgICAgXy5lYWNoKElCT09LU0NPTkZJRy5kYXRhLCBmdW5jdGlvbihkYXRhLCB0YWJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLml0ZW0gPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy9pb3PkuIrnmoRpYm9va3PmqKHlvI9cclxuICAgICAgICAgICAgLy/nm7TmjqXkv67mlLnmlLlpc0Jyb3dzZXLmqKHlvI9cclxuICAgICAgICBYdXQucGxhdC5pc0Jyb3dzZXIgPSB0cnVlO1xyXG4gICAgICAgIFh1dC5wbGF0LmlzSU9TID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy/phY3nva5pYm9va3Plj4LmlbBcclxuICAgIFh1dC5JQm9va3MgPSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOW9k+WJjemhtemdoue8luWPt1xyXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhZ2VJbmRleDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChJQk9PS1NDT05GSUcpIHtcclxuICAgICAgICAgICAgICAgIC8v5b2T5pyf6aG16Z2i57Si5byVMeW8gOWni1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIElCT09LU0NPTkZJRy5wYWdlSW5kZXggKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSgpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDmmK/lkKblrZjlnKhzdmdcclxuICAgICAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4aXN0U3ZnOiBJQk9PS1NDT05GSUcgPyBJQk9PS1NDT05GSUcuZXhpc3RTdmcgOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5piv5ZCm5ZCv5Yqo5LqGaWJvb2tz5qih5byPXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgRW5hYmxlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJQk9PS1NDT05GSUcgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSgpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlhajpg6jlr7nosaFcclxuICAgICAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIENPTkZJRzogSUJPT0tTQ09ORklHLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDov5DooYzmnJ/pl7RcclxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBydW5Nb2RlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy/noa7lrprkuLppYm9va3PnmoTov5DooYznirbmgIFcclxuICAgICAgICAgICAgLy/ogIzpnZ7pooTnvJbor5HnirbmgIFcclxuICAgICAgICAgICAgaWYgKElCT09LU0NPTkZJRyAmJiAhSUJPT0tTQ09ORklHLmNvbXBpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnvJbor5HmnJ/pl7RcclxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb21waWxlTW9kZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v56Gu5a6a5Li6aWJvb2tz55qE57yW6K+R54q25oCBXHJcbiAgICAgICAgICAgIC8v6ICM6Z2e6aKE57yW6K+R54q25oCBXHJcbiAgICAgICAgICAgIGlmIChJQk9PS1NDT05GSUcgJiYgSUJPT0tTQ09ORklHLmNvbXBpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+S/ruWkjWlvcyDlronljZPmtY/op4jlmajkuI3og73oh6rliqjmkq3mlL7pn7PpopHnmoTpl67popggXHJcbiAgICAvL+WcqOWKoOi9veaXtuWIm+W7uuaWsOeahGF1ZGlvLnZpZGVvIOeUqOeahOaXtuWAmeabtOaNolxyXG4gICAgWHV0LmZpeCA9IFh1dC5maXggfHwge307XHJcblxyXG4gICAgLy/np7vliqjnq6/mtY/op4jlmajlubPlj7BcclxuICAgIGlmIChYdXQucGxhdC5pc0Jyb3dzZXIgJiYgKFh1dC5wbGF0LmlzSU9TIHx8IFh1dC5wbGF0LmlzQW5kcm9pZCkpIHtcclxuICAgICAgICB2YXIgZml4YXVkaW8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFYdXQuZml4LmF1ZGlvKSB7XHJcbiAgICAgICAgICAgICAgICBYdXQuZml4LmF1ZGlvID0gbmV3IEF1ZGlvKCk7XHJcbiAgICAgICAgICAgICAgICBYdXQuZml4LnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlZpZGVvXCIpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZpeGF1ZGlvLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmaXhhdWRpbywgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTtcclxufVxyXG5cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICBBcHAoKVxyXG59KVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvYXBwLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ShowNote = undefined;\n\nvar _iscroll = __webpack_require__(13);\n\nfunction ShowNote(data) {\n    data.id = parseInt(data.id);\n    data.actType = data.type;\n    _.extend(this, data);\n    this.setup();\n}\n\nShowNote.prototype = {\n    setup: function setup() {\n        var that = this,\n            note = this.data.note,\n            prop = Xut.config.proportion,\n            width = Math.round((prop.width + prop.height) / 2 * Xut.config.iconHeight),\n            space = Math.round(width / 2);\n        retStr = '<div class=\"xut-shownote-box\" style=\"z-index:' + Xut.zIndexlevel() + '\">' + '<div class=\"close\" style=\"width:' + width + 'px;height:' + width + 'px;top:-' + space + 'px;right:-' + space + 'px\"></div>' + '<div class=\"content\">' + note + '</div>' + '</div>';\n\n        this._dom = $(retStr);\n        this._dom.find('.close').on(\"touchend mouseup\", function () {\n            that.dispatchProcess();\n        });\n        $(this.rootNode).append(this._dom);\n\n        this.show();\n        this.iscroll = (0, _iscroll.Iscroll)(this._dom.find('.content')[0]);\n        return true;\n    },\n\n    //外部调用接口\n    dispatchProcess: function dispatchProcess() {\n        //自动热点 取消关闭\n        if (this.isAutoPlay) return;\n        //当前对象状态\n        this.state ? this.hide() : this.show();\n    },\n\n    recovery: function recovery() {\n        if (this.state) {\n            this.dispatchProcess();\n            return true;\n        }\n        return false;\n    },\n\n    hide: function hide() {\n        this.state = false;\n        $(\"#ShowNote_\" + this.id).css('background-image', 'url(images/icons/hideNote.png)');\n        this._dom.hide();\n    },\n\n    show: function show() {\n        this.state = true;\n        $(\"#ShowNote_\" + this.id).css('background-image', 'url(images/icons/showNote.png)');\n        this._dom.show();\n    },\n\n    destroy: function destroy() {\n        if (this._dom) {\n            this._dom.find('.close').off();\n            this._dom && this._dom.hide().remove();\n        }\n\n        //iscroll销毁\n        if (this.iscroll) {\n            this.iscroll.destroy();\n            this.iscroll = null;\n        }\n    }\n\n};\n\nexports.ShowNote = ShowNote;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9TaG93Tm90ZS5qcz8zNDA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxTQUFTLFFBQVQsQ0FBa0IsSUFBbEIsRUFBd0I7QUFDcEIsU0FBSyxFQUFMLEdBQVUsU0FBUyxLQUFLLEVBQWQsQ0FBVjtBQUNBLFNBQUssT0FBTCxHQUFlLEtBQUssSUFBcEI7QUFDQSxNQUFFLE1BQUYsQ0FBUyxJQUFULEVBQWUsSUFBZjtBQUNBLFNBQUssS0FBTDtBQUNIOztBQUVELFNBQVMsU0FBVCxHQUFxQjtBQUNqQixXQUFPLGlCQUFXO0FBQ2QsWUFBSSxPQUFPLElBQVg7WUFDSSxPQUFPLEtBQUssSUFBTCxDQUFVLElBRHJCO1lBRUksT0FBTyxJQUFJLE1BQUosQ0FBVyxVQUZ0QjtZQUdJLFFBQVEsS0FBSyxLQUFMLENBQVcsQ0FBQyxLQUFLLEtBQUwsR0FBYSxLQUFLLE1BQW5CLElBQTZCLENBQTdCLEdBQWlDLElBQUksTUFBSixDQUFXLFVBQXZELENBSFo7WUFJSSxRQUFRLEtBQUssS0FBTCxDQUFXLFFBQVEsQ0FBbkIsQ0FKWjtBQUtBLGlCQUFTLGtEQUFrRCxJQUFJLFdBQUosRUFBbEQsR0FBc0UsSUFBdEUsR0FDTCxrQ0FESyxHQUNnQyxLQURoQyxHQUN3QyxZQUR4QyxHQUN1RCxLQUR2RCxHQUMrRCxVQUQvRCxHQUM0RSxLQUQ1RSxHQUNvRixZQURwRixHQUNtRyxLQURuRyxHQUMyRyxZQUQzRyxHQUVMLHVCQUZLLEdBRXFCLElBRnJCLEdBRTRCLFFBRjVCLEdBR0wsUUFISjs7QUFLQSxhQUFLLElBQUwsR0FBWSxFQUFFLE1BQUYsQ0FBWjtBQUNBLGFBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxRQUFmLEVBQXlCLEVBQXpCLENBQTRCLGtCQUE1QixFQUFnRCxZQUFXO0FBQ3ZELGlCQUFLLGVBQUw7QUFDSCxTQUZEO0FBR0EsVUFBRSxLQUFLLFFBQVAsRUFBaUIsTUFBakIsQ0FBd0IsS0FBSyxJQUE3Qjs7QUFFQSxhQUFLLElBQUw7QUFDQSxhQUFLLE9BQUwsR0FBZSxzQkFBUSxLQUFLLElBQUwsQ0FBVSxJQUFWLENBQWUsVUFBZixFQUEyQixDQUEzQixDQUFSLENBQWY7QUFDQSxlQUFPLElBQVA7QUFDSCxLQXJCZ0I7OztBQXdCakIscUJBQWlCLDJCQUFXOztBQUV4QixZQUFJLEtBQUssVUFBVCxFQUFxQjs7QUFFckIsYUFBSyxLQUFMLEdBQWEsS0FBSyxJQUFMLEVBQWIsR0FBMkIsS0FBSyxJQUFMLEVBQTNCO0FBQ0gsS0E3QmdCOztBQStCakIsY0FBVSxvQkFBVztBQUNqQixZQUFJLEtBQUssS0FBVCxFQUFnQjtBQUNaLGlCQUFLLGVBQUw7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFDRCxlQUFPLEtBQVA7QUFDSCxLQXJDZ0I7O0FBdUNqQixVQUFNLGdCQUFXO0FBQ2IsYUFBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLFVBQUUsZUFBZSxLQUFLLEVBQXRCLEVBQTBCLEdBQTFCLENBQThCLGtCQUE5QixFQUFrRCxnQ0FBbEQ7QUFDQSxhQUFLLElBQUwsQ0FBVSxJQUFWO0FBQ0gsS0EzQ2dCOztBQThDakIsVUFBTSxnQkFBVztBQUNiLGFBQUssS0FBTCxHQUFhLElBQWI7QUFDQSxVQUFFLGVBQWUsS0FBSyxFQUF0QixFQUEwQixHQUExQixDQUE4QixrQkFBOUIsRUFBa0QsZ0NBQWxEO0FBQ0EsYUFBSyxJQUFMLENBQVUsSUFBVjtBQUNILEtBbERnQjs7QUFvRGpCLGFBQVMsbUJBQVc7QUFDaEIsWUFBSSxLQUFLLElBQVQsRUFBZTtBQUNYLGlCQUFLLElBQUwsQ0FBVSxJQUFWLENBQWUsUUFBZixFQUF5QixHQUF6QjtBQUNBLGlCQUFLLElBQUwsSUFBYSxLQUFLLElBQUwsQ0FBVSxJQUFWLEdBQWlCLE1BQWpCLEVBQWI7QUFDSDs7O0FBR0QsWUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDZCxpQkFBSyxPQUFMLENBQWEsT0FBYjtBQUNBLGlCQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0g7QUFDSjs7QUEvRGdCLENBQXJCOztRQW9FUyxRLEdBQUEsUSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElzY3JvbGwgfSBmcm9tICcuL2NvbnRlbnQvaXNjcm9sbCdcclxuXHJcbmZ1bmN0aW9uIFNob3dOb3RlKGRhdGEpIHtcclxuICAgIGRhdGEuaWQgPSBwYXJzZUludChkYXRhLmlkKTtcclxuICAgIGRhdGEuYWN0VHlwZSA9IGRhdGEudHlwZTtcclxuICAgIF8uZXh0ZW5kKHRoaXMsIGRhdGEpXHJcbiAgICB0aGlzLnNldHVwKCk7XHJcbn1cclxuXHJcblNob3dOb3RlLnByb3RvdHlwZSA9IHtcclxuICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG5vdGUgPSB0aGlzLmRhdGEubm90ZSxcclxuICAgICAgICAgICAgcHJvcCA9IFh1dC5jb25maWcucHJvcG9ydGlvbixcclxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKChwcm9wLndpZHRoICsgcHJvcC5oZWlnaHQpIC8gMiAqIFh1dC5jb25maWcuaWNvbkhlaWdodCksXHJcbiAgICAgICAgICAgIHNwYWNlID0gTWF0aC5yb3VuZCh3aWR0aCAvIDIpO1xyXG4gICAgICAgIHJldFN0ciA9ICc8ZGl2IGNsYXNzPVwieHV0LXNob3dub3RlLWJveFwiIHN0eWxlPVwiei1pbmRleDonICsgWHV0LnpJbmRleGxldmVsKCkgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2xvc2VcIiBzdHlsZT1cIndpZHRoOicgKyB3aWR0aCArICdweDtoZWlnaHQ6JyArIHdpZHRoICsgJ3B4O3RvcDotJyArIHNwYWNlICsgJ3B4O3JpZ2h0Oi0nICsgc3BhY2UgKyAncHhcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250ZW50XCI+JyArIG5vdGUgKyAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICB0aGlzLl9kb20gPSAkKHJldFN0cik7XHJcbiAgICAgICAgdGhpcy5fZG9tLmZpbmQoJy5jbG9zZScpLm9uKFwidG91Y2hlbmQgbW91c2V1cFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhhdC5kaXNwYXRjaFByb2Nlc3MoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKHRoaXMucm9vdE5vZGUpLmFwcGVuZCh0aGlzLl9kb20pO1xyXG5cclxuICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB0aGlzLmlzY3JvbGwgPSBJc2Nyb2xsKHRoaXMuX2RvbS5maW5kKCcuY29udGVudCcpWzBdKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/lpJbpg6josIPnlKjmjqXlj6NcclxuICAgIGRpc3BhdGNoUHJvY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/oh6rliqjng63ngrkg5Y+W5raI5YWz6ZetXHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdXRvUGxheSkgcmV0dXJuO1xyXG4gICAgICAgIC8v5b2T5YmN5a+56LGh54q25oCBXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlY292ZXJ5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoUHJvY2VzcygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9LFxyXG5cclxuICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAkKFwiI1Nob3dOb3RlX1wiICsgdGhpcy5pZCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChpbWFnZXMvaWNvbnMvaGlkZU5vdGUucG5nKScpO1xyXG4gICAgICAgIHRoaXMuX2RvbS5oaWRlKClcclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICQoXCIjU2hvd05vdGVfXCIgKyB0aGlzLmlkKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKGltYWdlcy9pY29ucy9zaG93Tm90ZS5wbmcpJyk7XHJcbiAgICAgICAgdGhpcy5fZG9tLnNob3coKTtcclxuICAgIH0sXHJcblxyXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RvbSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb20uZmluZCgnLmNsb3NlJykub2ZmKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvbSAmJiB0aGlzLl9kb20uaGlkZSgpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pc2Nyb2xs6ZSA5q+BXHJcbiAgICAgICAgaWYgKHRoaXMuaXNjcm9sbCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzY3JvbGwuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmlzY3JvbGwgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBTaG93Tm90ZSB9XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvU2hvd05vdGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 28 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n *\r\n *  动作对象\r\n *      1 跳转页面\r\n *      2 打开系统程序\r\n *      3 加载子文档\r\n *\r\n */\n\nfunction Action(data) {\n\n    _.extend(this, data);\n\n    this.id = parseInt(this.id);\n\n    this.actType = this.type;\n\n    //加载数据\n    this.setup(Xut.data.query('Action', this.id, 'activityId'));\n}\n\nAction.prototype = {\n\n    setup: function setup(results) {\n        var para1 = results.para1,\n            //跳转参数\n        para2 = results.para2,\n            //ppt\n        dbId = results._id;\n\n        var actionType = parseInt(results.actionType);\n\n        //跳转或打开本地程序\n        switch (actionType) {\n            case 0:\n                this.toPage(para1);\n                break;\n            case 1:\n                if (Xut.plat.isBrowser) return;\n                //打开插件\n                Xut.Plugin.OpenApp.openAppAction(para1, function (r) {}, function (e) {});\n                break;\n            case 2:\n                //子文档处理\n                this.loadSubdoc(para1, dbId);\n                break;\n        }\n\n        this.state = true;\n    },\n\n    open: function open() {\n        this.state = true;\n        //打开插件\n        Xut.Plugin.OpenApp.openAppAction(para1, function (r) {}, function (e) {});\n    },\n\n    //跳转页面\n    toPage: function toPage(para1) {\n        para1 = JSON.parse(para1);\n        if (para1.seasonId) {\n            Xut.View.GotoSlide(para1.seasonId, para1.chapterId);\n        } else {\n            //向下兼容\n            Xut.View.GotoSlide(para1);\n        }\n    },\n\n    /***********************************************************\r\n     *\r\n     *                   子文档处理\r\n     *\r\n     * **********************************************************/\n\n    //加载子文档\n    loadSubdoc: function loadSubdoc(path, dbId) {\n        var self = this,\n            wapper,\n            configPath = 'www/content/subdoc/' + path + '/content/gallery/';\n\n        //配置子文档加载路径\n        window.XXTSUbDOC = {\n            'path': path,\n            'dbId': dbId\n        };\n\n        this.subPath = path;\n\n        //构建子文档的容器\n        wapper = this.$wapper = this.createWapper();\n\n        Xut.nextTick({\n            'container': $(this.rootNode),\n            'content': wapper\n        }, function () {\n            self.destroyCache();\n        });\n    },\n\n    //iframe加载完毕\n    iframeComplete: function iframeComplete() {\n        var self = this;\n        //关闭事件\n        Xut.one('subdoc:dropApp', function () {\n            self.destroyCache('iframe', self.iframe[0].contentWindow);\n        });\n        //隐藏全局工具栏\n        Xut.View.HideToolbar();\n        Xut.isRunSubDoc = true;\n        self.$wapper.css({\n            'opacity': '1'\n        });\n    },\n\n    //获取iframe颞部window上下文\n    destroyCache: function destroyCache(contentWindow) {\n        var self = this,\n            iframe;\n\n        if (contentWindow) {\n            iframe = true;\n        } else {\n            contentWindow = window;\n        }\n\n        function clear() {\n            Xut.View.ShowToolbar();\n            self.$wapper.remove();\n            self.$wapper = null;\n            self.iframe = null;\n            self.rootNode = null;\n            Xut.isRunSubDoc = false;\n        }\n\n        try {\n            contentWindow.require(\"Dispatcher\", function (c) {\n                if (iframe) {\n                    //子文档操作\n                    if (c.stopHandles()) {\n                        c.promptMessage('再按一次将退出子目录！');\n                    } else {\n                        clear();\n                    }\n                } else {\n                    //父级操作\n                    c.stopHandles();\n                }\n            });\n        } catch (err) {\n            clear();\n        }\n    },\n\n    createWapper: function createWapper() {\n        var zIndex, str, dom, ifr;\n\n        //层级设定\n        if (this.zIndex === 0) {\n            zIndex = this.zIndex;\n        } else {\n            zIndex = this.zIndex || Xut.zIndexlevel();\n        }\n\n        this.zIndex = zIndex;\n\n        str = '<div id=\"Subdoc_{0}\" style=\"z-index:{1};width:{2}px;height:{3}px;top:{4}px;left:{5}px;position:absolute;opacity:0\" >' + '</div>';\n\n        dom = String.format(str, this.id, zIndex, this.screenSize.width, this.screenSize.height, 0, 0);\n\n        ifr = this.iframe = this.createIframe();\n\n        return $(dom).append(ifr);\n    },\n\n    /**\r\n     * 加载iframe\r\n     * @return {[type]} [description]\r\n     */\n    createIframe: function createIframe() {\n        var me = this,\n            path = 'content/subdoc/' + this.subPath + '/index.html?xxtParaIn=' + this.key,\n            ifr = document.createElement('iframe');\n\n        ifr.id = 'iframe_' + this.id;\n        ifr.src = path;\n        ifr.style.width = '100%';\n        ifr.style.height = '100%';\n        ifr.sandbox = \"allow-scripts allow-same-origin\";\n        ifr.frameborder = 0;\n        if (ifr.attachEvent) {\n            ifr.attachEvent('onload', function () {\n                me.iframeComplete();\n            });\n        } else {\n            ifr.onload = function () {\n                me.iframeComplete();\n            };\n        }\n\n        return $(ifr);\n    }\n};\n\nexports.ActionClass = Action;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9hY3Rpb24uanM/NTc4MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQVVBLFNBQVMsTUFBVCxDQUFnQixJQUFoQixFQUFzQjs7QUFFbEIsTUFBRSxNQUFGLENBQVMsSUFBVCxFQUFlLElBQWY7O0FBRUEsU0FBSyxFQUFMLEdBQVUsU0FBUyxLQUFLLEVBQWQsQ0FBVjs7QUFFQSxTQUFLLE9BQUwsR0FBZSxLQUFLLElBQXBCOzs7QUFHQSxTQUFLLEtBQUwsQ0FBVyxJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsUUFBZixFQUF5QixLQUFLLEVBQTlCLEVBQWtDLFlBQWxDLENBQVg7QUFDSDs7QUFFRCxPQUFPLFNBQVAsR0FBbUI7O0FBRWYsV0FBTyxlQUFTLE9BQVQsRUFBa0I7QUFDckIsWUFBSSxRQUFRLFFBQVEsS0FBcEI7O0FBQ0ksZ0JBQVEsUUFBUSxLQURwQjs7QUFFSSxlQUFPLFFBQVEsR0FGbkI7O0FBS0EsWUFBSSxhQUFhLFNBQVMsUUFBUSxVQUFqQixDQUFqQjs7O0FBR0EsZ0JBQVEsVUFBUjtBQUNJLGlCQUFLLENBQUw7QUFDSSxxQkFBSyxNQUFMLENBQVksS0FBWjtBQUNBO0FBQ0osaUJBQUssQ0FBTDtBQUNJLG9CQUFJLElBQUksSUFBSixDQUFTLFNBQWIsRUFBd0I7O0FBRXhCLG9CQUFJLE1BQUosQ0FBVyxPQUFYLENBQW1CLGFBQW5CLENBQWlDLEtBQWpDLEVBQXdDLFVBQVMsQ0FBVCxFQUFZLENBQUUsQ0FBdEQsRUFBd0QsVUFBUyxDQUFULEVBQVksQ0FBRSxDQUF0RTtBQUNBO0FBQ0osaUJBQUssQ0FBTDs7QUFFSSxxQkFBSyxVQUFMLENBQWdCLEtBQWhCLEVBQXVCLElBQXZCO0FBQ0E7QUFaUjs7QUFlQSxhQUFLLEtBQUwsR0FBYSxJQUFiO0FBQ0gsS0EzQmM7O0FBOEJmLFVBQU0sZ0JBQVc7QUFDYixhQUFLLEtBQUwsR0FBYSxJQUFiOztBQUVBLFlBQUks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Q0YsUUFESjs7QUFHQSxjQUFNLE9BQU8sTUFBUCxDQUFjLEdBQWQsRUFDRixLQUFLLEVBREgsRUFDTyxNQURQLEVBQ2UsS0FBSyxVQUFMLENBQWdCLEtBRC9CLEVBQ3NDLEtBQUssVUFBTCxDQUFnQixNQUR0RCxFQUM4RCxDQUQ5RCxFQUNpRSxDQURqRSxDQUFOOztBQUlBLGNBQU0sS0FBSyxNQUFMLEdBQWMsS0FBSyxZQUFMLEVBQXBCOztBQUVBLGVBQU8sRUFBRSxHQUFGLEVBQU8sTUFBUCxDQUFjLEdBQWQsQ0FBUDtBQUNILEtBOUpjOzs7Ozs7QUFvS2Ysa0JBQWMsd0JBQVc7QUFDckIsWUFBSSxLQUFLLElBQVQ7WUFDSSxPQUFPLG9CQUFvQixLQUFLLE9BQXpCLEdBQW1DLHdCQUFuQyxHQUE4RCxLQUFLLEdBRDlFO1lBRUksTUFBTSxTQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FGVjs7QUFJQSxZQUFJLEVBQUosR0FBUyxZQUFZLEtBQUssRUFBMUI7QUFDQSxZQUFJLEdBQUosR0FBVSxJQUFWO0FBQ0EsWUFBSSxLQUFKLENBQVUsS0FBVixHQUFrQixNQUFsQjtBQUNBLFlBQUksS0FBSixDQUFVLE1BQVYsR0FBbUIsTUFBbkI7QUFDQSxZQUFJLE9BQUosR0FBYyxpQ0FBZDtBQUNBLFlBQUksV0FBSixHQUFrQixDQUFsQjtBQUNBLFlBQUksSUFBSSxXQUFSLEVBQXFCO0FBQ2pCLGdCQUFJLFdBQUosQ0FBZ0IsUUFBaEIsRUFBMEIsWUFBVztBQUNqQyxtQkFBRyxjQUFIO0FBQ0gsYUFGRDtBQUdILFNBSkQsTUFJTztBQUNILGdCQUFJLE1BQUosR0FBYSxZQUFXO0FBQ3BCLG1CQUFHLGNBQUg7QUFDSCxhQUZEO0FBR0g7O0FBRUQsZUFBTyxFQUFFLEdBQUYsQ0FBUDtBQUNIO0FBMUxjLENBQW5COztRQStMYyxXLEdBQVYsTSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKlxyXG4gKiAg5Yqo5L2c5a+56LGhXHJcbiAqICAgICAgMSDot7PovazpobXpnaJcclxuICogICAgICAyIOaJk+W8gOezu+e7n+eoi+W6j1xyXG4gKiAgICAgIDMg5Yqg6L295a2Q5paH5qGjXHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIEFjdGlvbihkYXRhKSB7XHJcblxyXG4gICAgXy5leHRlbmQodGhpcywgZGF0YSk7XHJcblxyXG4gICAgdGhpcy5pZCA9IHBhcnNlSW50KHRoaXMuaWQpO1xyXG5cclxuICAgIHRoaXMuYWN0VHlwZSA9IHRoaXMudHlwZTtcclxuXHJcbiAgICAvL+WKoOi9veaVsOaNrlxyXG4gICAgdGhpcy5zZXR1cChYdXQuZGF0YS5xdWVyeSgnQWN0aW9uJywgdGhpcy5pZCwgJ2FjdGl2aXR5SWQnKSk7XHJcbn1cclxuXHJcbkFjdGlvbi5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgc2V0dXA6IGZ1bmN0aW9uKHJlc3VsdHMpIHtcclxuICAgICAgICB2YXIgcGFyYTEgPSByZXN1bHRzLnBhcmExLCAvL+i3s+i9rOWPguaVsFxyXG4gICAgICAgICAgICBwYXJhMiA9IHJlc3VsdHMucGFyYTIsIC8vcHB0XHJcbiAgICAgICAgICAgIGRiSWQgPSByZXN1bHRzLl9pZDtcclxuXHJcblxyXG4gICAgICAgIHZhciBhY3Rpb25UeXBlID0gcGFyc2VJbnQocmVzdWx0cy5hY3Rpb25UeXBlKTtcclxuIFxyXG4gICAgICAgIC8v6Lez6L2s5oiW5omT5byA5pys5Zyw56iL5bqPXHJcbiAgICAgICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRoaXMudG9QYWdlKHBhcmExKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBpZiAoWHV0LnBsYXQuaXNCcm93c2VyKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAvL+aJk+W8gOaPkuS7tlxyXG4gICAgICAgICAgICAgICAgWHV0LlBsdWdpbi5PcGVuQXBwLm9wZW5BcHBBY3Rpb24ocGFyYTEsIGZ1bmN0aW9uKHIpIHt9LCBmdW5jdGlvbihlKSB7fSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgLy/lrZDmlofmoaPlpITnkIZcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFN1YmRvYyhwYXJhMSwgZGJJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgb3BlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgLy/miZPlvIDmj5Lku7ZcclxuICAgICAgICBYdXQuUGx1Z2luLk9wZW5BcHAub3BlbkFwcEFjdGlvbihwYXJhMSwgZnVuY3Rpb24ocikge30sIGZ1bmN0aW9uKGUpIHt9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8v6Lez6L2s6aG16Z2iXHJcbiAgICB0b1BhZ2U6IGZ1bmN0aW9uKHBhcmExKSB7XHJcbiAgICAgICAgcGFyYTEgPSBKU09OLnBhcnNlKHBhcmExKTtcclxuICAgICAgICBpZiAocGFyYTEuc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuR290b1NsaWRlKHBhcmExLnNlYXNvbklkLCBwYXJhMS5jaGFwdGVySWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5ZCR5LiL5YW85a65XHJcbiAgICAgICAgICAgIFh1dC5WaWV3LkdvdG9TbGlkZShwYXJhMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICDlrZDmlofmoaPlpITnkIZcclxuICAgICAqXHJcbiAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8v5Yqg6L295a2Q5paH5qGjXHJcbiAgICBsb2FkU3ViZG9jOiBmdW5jdGlvbihwYXRoLCBkYklkKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICB3YXBwZXIsXHJcbiAgICAgICAgICAgIGNvbmZpZ1BhdGggPSAnd3d3L2NvbnRlbnQvc3ViZG9jLycgKyBwYXRoICsgJy9jb250ZW50L2dhbGxlcnkvJztcclxuXHJcbiAgICAgICAgLy/phY3nva7lrZDmlofmoaPliqDovb3ot6/lvoRcclxuICAgICAgICB3aW5kb3cuWFhUU1ViRE9DID0ge1xyXG4gICAgICAgICAgICAncGF0aCc6IHBhdGgsXHJcbiAgICAgICAgICAgICdkYklkJzogZGJJZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdWJQYXRoID0gcGF0aDtcclxuXHJcbiAgICAgICAgLy/mnoTlu7rlrZDmlofmoaPnmoTlrrnlmahcclxuICAgICAgICB3YXBwZXIgPSB0aGlzLiR3YXBwZXIgPSB0aGlzLmNyZWF0ZVdhcHBlcigpO1xyXG5cclxuICAgICAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICAgICAnY29udGFpbmVyJzogJCh0aGlzLnJvb3ROb2RlKSxcclxuICAgICAgICAgICAgJ2NvbnRlbnQnOiB3YXBwZXJcclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5kZXN0cm95Q2FjaGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy9pZnJhbWXliqDovb3lrozmr5VcclxuICAgIGlmcmFtZUNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy/lhbPpl63kuovku7ZcclxuICAgICAgICBYdXQub25lKCdzdWJkb2M6ZHJvcEFwcCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmRlc3Ryb3lDYWNoZSgnaWZyYW1lJywgc2VsZi5pZnJhbWVbMF0uY29udGVudFdpbmRvdyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/pmpDol4/lhajlsYDlt6XlhbfmoI9cclxuICAgICAgICBYdXQuVmlldy5IaWRlVG9vbGJhcigpO1xyXG4gICAgICAgIFh1dC5pc1J1blN1YkRvYyA9IHRydWU7XHJcbiAgICAgICAgc2VsZi4kd2FwcGVyLmNzcyh7XHJcbiAgICAgICAgICAgICdvcGFjaXR5JzogJzEnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6I635Y+WaWZyYW1l6aKe6YOod2luZG935LiK5LiL5paHXHJcbiAgICBkZXN0cm95Q2FjaGU6IGZ1bmN0aW9uKGNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIGlmcmFtZTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICAgICAgaWZyYW1lID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50V2luZG93ID0gd2luZG93XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuU2hvd1Rvb2xiYXIoKVxyXG4gICAgICAgICAgICBzZWxmLiR3YXBwZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHNlbGYuJHdhcHBlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHNlbGYuaWZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgc2VsZi5yb290Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIFh1dC5pc1J1blN1YkRvYyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29udGVudFdpbmRvdy5yZXF1aXJlKFwiRGlzcGF0Y2hlclwiLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lrZDmlofmoaPmk43kvZxcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5zdG9wSGFuZGxlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMucHJvbXB0TWVzc2FnZSgn5YaN5oyJ5LiA5qyh5bCG6YCA5Ye65a2Q55uu5b2V77yBJylcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/niLbnuqfmk43kvZxcclxuICAgICAgICAgICAgICAgICAgICBjLnN0b3BIYW5kbGVzKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGNyZWF0ZVdhcHBlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHpJbmRleCxcclxuICAgICAgICAgICAgc3RyLFxyXG4gICAgICAgICAgICBkb20sXHJcbiAgICAgICAgICAgIGlmcjtcclxuXHJcbiAgICAgICAgLy/lsYLnuqforr7lrppcclxuICAgICAgICBpZiAodGhpcy56SW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgekluZGV4ID0gdGhpcy56SW5kZXg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgekluZGV4ID0gdGhpcy56SW5kZXggfHwgWHV0LnpJbmRleGxldmVsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnpJbmRleCA9IHpJbmRleDtcclxuXHJcbiAgICAgICAgc3RyID0gJzxkaXYgaWQ9XCJTdWJkb2NfezB9XCIgc3R5bGU9XCJ6LWluZGV4OnsxfTt3aWR0aDp7Mn1weDtoZWlnaHQ6ezN9cHg7dG9wOns0fXB4O2xlZnQ6ezV9cHg7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowXCIgPicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgZG9tID0gU3RyaW5nLmZvcm1hdChzdHIsXHJcbiAgICAgICAgICAgIHRoaXMuaWQsIHpJbmRleCwgdGhpcy5zY3JlZW5TaXplLndpZHRoLCB0aGlzLnNjcmVlblNpemUuaGVpZ2h0LCAwLCAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWZyID0gdGhpcy5pZnJhbWUgPSB0aGlzLmNyZWF0ZUlmcmFtZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gJChkb20pLmFwcGVuZChpZnIpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vWlmcmFtZVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUlmcmFtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1lID0gdGhpcyxcclxuICAgICAgICAgICAgcGF0aCA9ICdjb250ZW50L3N1YmRvYy8nICsgdGhpcy5zdWJQYXRoICsgJy9pbmRleC5odG1sP3h4dFBhcmFJbj0nICsgdGhpcy5rZXksXHJcbiAgICAgICAgICAgIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG5cclxuICAgICAgICBpZnIuaWQgPSAnaWZyYW1lXycgKyB0aGlzLmlkO1xyXG4gICAgICAgIGlmci5zcmMgPSBwYXRoO1xyXG4gICAgICAgIGlmci5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICBpZnIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgIGlmci5zYW5kYm94ID0gXCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luXCI7XHJcbiAgICAgICAgaWZyLmZyYW1lYm9yZGVyID0gMDtcclxuICAgICAgICBpZiAoaWZyLmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmci5hdHRhY2hFdmVudCgnb25sb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtZS5pZnJhbWVDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZnIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtZS5pZnJhbWVDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICQoaWZyKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBY3Rpb24gYXMgQWN0aW9uQ2xhc3NcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2FjdGlvbi5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 29 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Action = Action;\n/**\r\n * 音频动作\r\n * @param  {[type]} global [description]\r\n * @return {[type]}        [description]\r\n */\n\n//音频动作\n//替换背景图\n//指定动画\nfunction Action(options) {\n\n    var element = document.querySelector('#Audio_' + options.audioId);\n\n    //页面从属\n    var pageType = element.getAttribute('data-belong');\n\n    //切换背景\n    function toggle(linker) {\n        element.style.backgroundImage = 'url(' + Xut.conifg.pathAddress + linker + ')';\n    }\n\n    function run(ids) {\n        ids = ids.split(',');\n        Xut.Assist.Run(pageType, ids);\n    }\n\n    function stop(ids) {\n        ids = ids.split(',');\n        Xut.Assist.Stop(pageType, ids);\n    }\n    return {\n        play: function play() {\n            options.startImg && toggle(options.startImg);\n            options.startScript && run(options.startScript);\n        },\n        pause: function pause() {\n            options.stopImg && toggle(options.stopImg);\n            options.stopScript && stop(options.startScript);\n        },\n        destroy: function destroy() {\n            element = null;\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9hdWRpby9hY3Rpb24uanM/YmEyNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQVNnQixNLEdBQUEsTTs7Ozs7Ozs7OztBQUFULFNBQVMsTUFBVCxDQUFnQixPQUFoQixFQUF5Qjs7QUFFNUIsUUFBSSxVQUFVLFNBQVMsYUFBVCxDQUF1QixZQUFZLFFBQVEsT0FBM0MsQ0FBZDs7O0FBR0EsUUFBSSxXQUFXLFFBQVEsWUFBUixDQUFxQixhQUFyQixDQUFmOzs7QUFHQSxhQUFTLE1BQVQsQ0FBZ0IsTUFBaEIsRUFBd0I7QUFDcEIsZ0JBQVEsS0FBUixDQUFjLGVBQWQsR0FBZ0MsU0FBUyxJQUFJLE1BQUosQ0FBVyxXQUFwQixHQUFrQyxNQUFsQyxHQUEyQyxHQUEzRTtBQUNIOztBQUVELGFBQVMsR0FBVCxDQUFhLEdBQWIsRUFBa0I7QUFDZCxjQUFNLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBTjtBQUNBLFlBQUksTUFBSixDQUFXLEdBQVgsQ0FBZSxRQUFmLEVBQXlCLEdBQXpCO0FBQ0g7O0FBRUQsYUFBUyxJQUFULENBQWMsR0FBZCxFQUFtQjtBQUNmLGNBQU0sSUFBSSxLQUFKLENBQVUsR0FBVixDQUFOO0FBQ0EsWUFBSSxNQUFKLENBQVcsSUFBWCxDQUFnQixRQUFoQixFQUEwQixHQUExQjtBQUNIO0FBQ0QsV0FBTztBQUNILGNBQU0sZ0JBQVc7QUFDYixvQkFBUSxRQUFSLElBQW9CLE9BQU8sUUFBUSxRQUFmLENBQXBCO0FBQ0Esb0JBQVEsV0FBUixJQUF1QixJQUFJLFFBQVEsV0FBWixDQUF2QjtBQUNILFNBSkU7QUFLSCxlQUFPLGlCQUFXO0FBQ2Qsb0JBQVEsT0FBUixJQUFtQixPQUFPLFFBQVEsT0FBZixDQUFuQjtBQUNBLG9CQUFRLFVBQVIsSUFBc0IsS0FBSyxRQUFRLFdBQWIsQ0FBdEI7QUFDSCxTQVJFO0FBU0gsaUJBQVMsbUJBQVc7QUFDaEIsc0JBQVUsSUFBVjtBQUNIO0FBWEUsS0FBUDtBQWFIIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOmfs+mikeWKqOS9nFxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGdsb2JhbCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG4vL+mfs+mikeWKqOS9nFxyXG4vL+abv+aNouiDjOaZr+WbvlxyXG4vL+aMh+WumuWKqOeUu1xyXG5leHBvcnQgZnVuY3Rpb24gQWN0aW9uKG9wdGlvbnMpIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNBdWRpb18nICsgb3B0aW9ucy5hdWRpb0lkKVxyXG5cclxuICAgIC8v6aG16Z2i5LuO5bGeXHJcbiAgICB2YXIgcGFnZVR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1iZWxvbmcnKVxyXG5cclxuICAgIC8v5YiH5o2i6IOM5pmvXHJcbiAgICBmdW5jdGlvbiB0b2dnbGUobGlua2VyKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBYdXQuY29uaWZnLnBhdGhBZGRyZXNzICsgbGlua2VyICsgJyknXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcnVuKGlkcykge1xyXG4gICAgICAgIGlkcyA9IGlkcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgIFh1dC5Bc3Npc3QuUnVuKHBhZ2VUeXBlLCBpZHMpXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3RvcChpZHMpIHtcclxuICAgICAgICBpZHMgPSBpZHMuc3BsaXQoJywnKTtcclxuICAgICAgICBYdXQuQXNzaXN0LlN0b3AocGFnZVR5cGUsIGlkcylcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuc3RhcnRJbWcgJiYgdG9nZ2xlKG9wdGlvbnMuc3RhcnRJbWcpXHJcbiAgICAgICAgICAgIG9wdGlvbnMuc3RhcnRTY3JpcHQgJiYgcnVuKG9wdGlvbnMuc3RhcnRTY3JpcHQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLnN0b3BJbWcgJiYgdG9nZ2xlKG9wdGlvbnMuc3RvcEltZylcclxuICAgICAgICAgICAgb3B0aW9ucy5zdG9wU2NyaXB0ICYmIHN0b3Aob3B0aW9ucy5zdGFydFNjcmlwdCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvYXVkaW8vYWN0aW9uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 30 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.html5Audio = undefined;\n\nvar _action = __webpack_require__(29);\n\nvar _subtitle = __webpack_require__(32);\n\nvar _dom = __webpack_require__(11);\n\nvar Player = null; /**\r\n                    * 音频播放\r\n                    * @param  {[type]} global [description]\r\n                    * @return {[type]}        [description]\r\n                    */\n\nvar noop = function noop() {};\nvar instance = (0, _dom.hash)(); //存放不同音轨的一个实例\nvar html5Audio = void 0;\n\n/**\r\n * 音频工厂类\r\n * @param {[type]} options [description]\r\n */\nvar AudioFactory = Xut.CoreObject.extend({\n\n    //构建之前关数据\n    preRelated: function preRelated(trackId, options) {\n        //完成end后 外部回调删除这个对象\n        //单独调用引用对象\n        //传递一个 options.complete\n        this.innerCallback = options.innerCallback;\n        //仅运行一次\n        //外部调用\n        this.outerCallback = trackId == 9999 ? options.complete : null;\n    },\n\n    //构建之后关数据\n    afterRelated: function afterRelated(audio, options, controlDoms) {\n        //音频重复播放次数\n        if (options.data && options.data.repeat) {\n            this.repeat = Number(options.data.repeat); //需要重复\n        }\n        //音频动作\n        if (options.action) {\n            this.acitonObj = (0, _action.Action)(options);\n        }\n        //字幕对象\n        if (options.subtitles && options.subtitles.length > 0) {\n            //创建字幕对象\n            this.subtitleObject = new _subtitle.Subtitle(audio, options, controlDoms);\n        }\n\n        //如果有外部回调处理\n        if (this.outerCallback) {\n            this.outerCallback.call(this);\n        }\n    },\n    //运行成功失败后处理方法\n    //phoengap会调用callbackProcess\n    //导致乱了\n    callbackProcess: function callbackProcess(sysCommand) {\n        if (this.outerCallback) {\n            //外部调用结束\n            this.end();\n        } else {\n            //安卓没有重复播放\n            //phonegap未处理\n            if (!Xut.plat.isAndroid && this.repeat) {\n                //如果需要重复\n                this.repeatProcess();\n            } else {\n                //外部清理对象\n                //audioManager中直接删当前对象\n                this.innerCallback(this);\n            }\n        }\n    },\n\n    //重复处理\n    repeatProcess: function repeatProcess() {\n        --this.repeat;\n        this.play();\n    },\n\n    //播放\n    play: function play() {\n        //flash模式不执行\n        if (this.audio && !this.isFlash) {\n            this.status = 'playing';\n            this.audio.play();\n        }\n        this.acitonObj && this.acitonObj.play();\n    },\n\n    //停止\n    pause: function pause() {\n        this.status = 'paused';\n        this.audio.pause();\n        this.acitonObj && this.acitonObj.pause();\n    },\n\n    //销毁\n    end: function end() {\n        this.status = 'ended';\n        this.audio.end();\n        this.audio = null;\n        this.acitonObj && this.acitonObj.destroy();\n    },\n\n    //相关\n    destroyRelated: function destroyRelated() {\n        //销毁字幕\n        if (this.subtitleObject) {\n            this.subtitleObject.destroy();\n            this.subtitleObject = null;\n        }\n        //动作\n        if (this.acitonObj) {\n            this.acitonObj.destroy();\n            this.acitonObj = null;\n        }\n    }\n});\n\n/**\r\n * 使用PhoneGap的Media播放\r\n * @param  {string} url 路径\r\n * @return {[type]}      [description]\r\n */\nvar _Media = AudioFactory.extend({\n\n    init: function init(options, controlDoms) {\n\n        var url = Xut.config.audioPath() + options.url,\n            trackId = options.trackId,\n            self = this,\n            audio;\n\n        //构建之前处理\n        this.preRelated(trackId, options);\n\n        //音频成功与失败调用\n        audio = new GLOBALCONTEXT.Media(url, function () {\n            self.callbackProcess(true);\n        }, function () {\n            self.callbackProcess(true);\n        });\n\n        //autoplay\n        this.audio = audio;\n        this.trackId = trackId;\n        this.options = options;\n\n        //相关数据\n        this.afterRelated(audio, options, controlDoms);\n    },\n    //取反\n    end: function end() {\n        if (this.audio) {\n            this.audio.release();\n            this.audio = null;\n        }\n        this.status = 'ended';\n        this.destroyRelated();\n    }\n});\n\n/**\r\n * 采用Falsh播放\r\n * @type {[type]}\r\n */\nvar _Flash = AudioFactory.extend({\n    init: function init(options, controlDoms) {\n        var trackId = options.trackId,\n            url = Xut.config.audioPath() + options.url,\n            self = this,\n            audio;\n\n        //构建之前处理\n        this.preRelated(trackId, options);\n\n        audio = new Audio5js({\n            swf_path: './lib/data/audio5js.swf',\n            throw_errors: true,\n            format_time: true,\n            ready: function ready(player) {\n                this.load(url);\n                //如果调用了播放\n                this.play();\n                self.status = \"playing\";\n            }\n        });\n\n        this.audio = audio;\n        this.trackId = trackId;\n        this.status = 'playing';\n        this.options = options;\n\n        this.isFlash = true;\n\n        //相关数据\n        this.afterRelated(audio, options, controlDoms);\n    },\n\n    end: function end() {\n        if (this.audio) {\n            this.audio.destroy();\n            this.audio = null;\n        }\n        this.status = 'ended';\n        this.destroyRelated();\n    }\n});\n\n/**\r\n * 使用html5的audio播放\r\n * @param  {string} url    音频路径\r\n * @param  {object} options 可选参数\r\n * @return {object}         [description]\r\n */\nvar _Audio = AudioFactory.extend({\n    init: function init(options, controlDoms) {\n        var trackId = options.trackId,\n            url = Xut.config.audioPath() + options.url,\n            self = this,\n            audio;\n\n        //构建之前处理\n        this.preRelated(trackId, options);\n\n        if (instance[trackId]) {\n            audio = Xut.fix.audio ? Xut.fix.audio : instance[trackId];\n            audio.src = url;\n        } else {\n            //create a new Audio instance\n            //如果为ios browser 用Xut.fix.audio 指定src 初始化见app.js\n            if (Xut.fix.audio) {\n                audio = Xut.fix.audio;\n                audio.src = url;\n            } else {\n                audio = new Audio(url);\n            }\n\n            //更新音轨\n            //妙妙学方式不要音轨处理\n            if (!Xut.fix.audio) {\n                instance[trackId] = audio;\n            }\n\n            audio.addEventListener('ended', function () {\n                self.callbackProcess();\n            }, false);\n\n            audio.addEventListener('error', function () {\n                self.callbackProcess();\n            }, false);\n        }\n\n        this.audio = audio;\n        this.trackId = trackId;\n        this.status = 'playing';\n        this.options = options;\n\n        //相关数据\n        this.afterRelated(audio, options, controlDoms);\n    },\n\n    end: function end() {\n        if (this.audio) {\n            this.audio.pause();\n            this.audio.removeEventListener('ended', this.callbackProcess, false);\n            this.audio.removeEventListener('error', this.callbackProcess, false);\n            this.audio = null;\n        }\n        this.status = 'ended';\n        this.destroyRelated();\n    }\n});\n\nvar createUUID = function createUUID() {\n    return UUIDcreatePart(4) + '-' + UUIDcreatePart(2) + '-' + UUIDcreatePart(2) + '-' + UUIDcreatePart(2) + '-' + UUIDcreatePart(6);\n};\n\nfunction UUIDcreatePart(length) {\n    var uuidpart = \"\";\n    for (var i = 0; i < length; i++) {\n        var uuidchar = parseInt(Math.random() * 256, 10).toString(16);\n        if (uuidchar.length == 1) {\n            uuidchar = \"0\" + uuidchar;\n        }\n        uuidpart += uuidchar;\n    }\n    return uuidpart;\n}\n\n/**\r\n * 使用PhoneGap的 js直接调用 cordova Media播放\r\n * @param  {string} url 路径\r\n * @return {[type]}      [description]\r\n */\nvar _cordovaMedia = AudioFactory.extend({\n\n    init: function init(options, controlDoms) {\n\n        var url = Xut.config.audioPath() + options.url,\n            trackId = options.trackId,\n            self = this,\n            audio;\n\n        this.id = createUUID();\n\n        //构建之前处理\n        this.preRelated(trackId, options);\n\n        var audio = {\n            startPlayingAudio: function startPlayingAudio() {\n                audioHandler.startPlayingAudio(self.id, url);\n            },\n            pausePlayingAudio: function pausePlayingAudio() {\n                audioHandler.pausePlayingAudio(self.id);\n            },\n            release: function release() {\n                audioHandler.release(self.id);\n            },\n            /**\r\n             * 扩充，获取位置\r\n             * @return {[type]} [description]\r\n             */\n            expansionCurrentPosition: function expansionCurrentPosition() {\n                return getCurrentPosition(self.id);\n            }\n        };\n\n        //autoplay\n        this.audio = audio;\n        this.trackId = trackId;\n        this.options = options;\n\n        //相关数据\n        this.afterRelated(audio, options, controlDoms);\n    },\n\n    //播放\n    play: function play() {\n        if (this.audio) {\n            this.status = 'playing';\n            this.audio.startPlayingAudio();\n        }\n        this.acitonObj && this.acitonObj.play();\n    },\n\n    //停止\n    pause: function pause() {\n        this.status = 'paused';\n        this.audio && this.audio.pausePlayingAudio();\n        this.acitonObj && this.acitonObj.pause();\n    },\n\n    //结束\n    end: function end() {\n        if (this.audio) {\n            this.audio.release();\n            this.audio = null;\n        }\n        this.status = 'ended';\n        this.destroyRelated();\n    }\n});\n\n/**\r\n * 检测是否支持HTML5的audio播放\r\n * @param  {[type]} success [description]\r\n * @param  {[type]} fail    [description]\r\n * @return {[type]}         [description]\r\n */\nfunction supportAudio(fail) {\n    try {\n        var audio = new Audio(\"lib/data/support.mp3\");\n        //如果错误\n        audio.addEventListener('error', function (e) {\n            audio = null;\n            fail();\n        }, false);\n    } catch (er) {}\n};\n\n//apk的情况下\nif (Xut.plat.isAndroid && !Xut.plat.isBrowser) {\n    exports.html5Audio = html5Audio = _Media;\n} else {\n\n    //妙妙学的 客户端浏览器模式\n    if (MMXCONFIG && audioHandler) {\n        exports.html5Audio = html5Audio = _cordovaMedia;\n    } else {\n        //pc\n        exports.html5Audio = html5Audio = _Audio;\n    }\n\n    //2015.12.23\n    //如果不支持audio改用flash\n    // supportAudio(function() {\n    //     Xut.Audio = _Flash;\n    // });\n}\n\nXut.Audio = html5Audio;\n\nexports.html5Audio = html5Audio;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9hdWRpby9hdWRpby5qcz9kYjA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLFNBQVMsSUFBYixDOzs7Ozs7QUFDQSxJQUFJLE9BQU8sU0FBUCxJQUFPLEdBQVcsQ0FBRSxDQUF4QjtBQUNBLElBQUksV0FBVyxnQkFBZixDO0FBQ0EsSUFBSSxtQkFBSjs7Ozs7O0FBTUEsSUFBSSxlQUFlLElBQUksVUFBSixDQUFlLE1BQWYsQ0FBc0I7OztBQUdyQyxnQkFBWSxvQkFBUyxPQUFULEVBQWtCLE9BQWxCLEVBQTJCOzs7O0FBSW5DLGFBQUssYUFBTCxHQUFxQixRQUFRLGFBQTdCOzs7QUFHQSxhQUFLLGFBQUwsR0FBcUIsV0FBVyxJQUFYLEdBQWtCLFFBQVEsUUFBMUIsR0FBcUMsSUFBMUQ7QUFDSCxLQVhvQzs7O0FBY3JDLGtCQUFjLHNCQUFTLEtBQVQsRUFBZ0IsT0FBaEIsRUFBeUIsV0FBekIsRUFBc0M7O0FBRWhELFlBQUksUUFBUSxJQUFSLElBQWdCLFFBQVEsSUFBUixDQUFhLE1BQWpDLEVBQXlDO0FBQ3JDLGlCQUFLLE1BQUwsR0FBYyxPQUFPLFFBQVEsSUFBUixDQUFhLE1BQXBCLENBQWQsQztBQUNIOztBQUVELFlBQUksUUFBUSxNQUFaLEVBQW9CO0FBQ2hCLGlCQUFLLFNBQUwsR0FBaUIsb0JBQU8sT0FBUCxDQUFqQjtBQUNIOztBQUVELFlBQUksUUFBUSxTQUFSLElBQXFCLFFBQVEsU0FBUixDQUFrQixNQUFsQixHQUEyQixDQUFwRCxFQUF1RDs7QUFFbkQsaUJBQUssY0FBTCxHQUFzQix1QkFBYSxLQUFiLEVBQW9CLE9BQXBCLEVBQTZCLFdBQTdCLENBQXRCO0FBQ0g7OztBQUdELFlBQUksS0FBSyxhQUFULEVBQXdCO0FBQ3BCLGlCQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBd0IsSUFBeEI7QUFDSDtBQUVKLEtBbENvQzs7OztB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c0JBQVYsQ0FBWjs7QUFFQSxjQUFNLGdCQUFOLENBQXVCLE9BQXZCLEVBQWdDLFVBQVMsQ0FBVCxFQUFZO0FBQ3hDLG9CQUFRLElBQVI7QUFDQTtBQUNILFNBSEQsRUFHRyxLQUhIO0FBSUgsS0FQRCxDQU9FLE9BQU8sRUFBUCxFQUFXLENBQUU7QUFDbEI7OztBQUlELElBQUksSUFBSSxJQUFKLENBQVMsU0FBVCxJQUFzQixDQUFDLElBQUksSUFBSixDQUFTLFNBQXBDLEVBQStDO0FBQzVDLFlBdUJBLFVBdkJBLGdCQUFhLE1BQWI7QUFDRixDQUZELE1BRU87OztBQUdILFFBQUksYUFBYSxZQUFqQixFQUErQjtBQUM1QixnQkFrQkosVUFsQkksZ0JBQWEsYUFBYjtBQUNGLEtBRkQsTUFFTzs7QUFFSixnQkFlSixVQWZJLGdCQUFhLE1BQWI7QUFDRjs7Ozs7OztBQU9KOztBQUVELElBQUksS0FBSixHQUFXLFVBQVg7O1FBS0csVSxHQUFBLFUiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog6Z+z6aKR5pKt5pS+XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZ2xvYmFsIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9hY3Rpb24nXHJcbmltcG9ydCB7IFN1YnRpdGxlIH0gZnJvbSAnLi9zdWJ0aXRsZSdcclxuaW1wb3J0IHsgaGFzaCB9IGZyb20gJy4uLy4uL3V0aWwvZG9tJ1xyXG5cclxubGV0IFBsYXllciA9IG51bGxcclxubGV0IG5vb3AgPSBmdW5jdGlvbigpIHt9XHJcbmxldCBpbnN0YW5jZSA9IGhhc2goKSAvL+WtmOaUvuS4jeWQjOmfs+i9qOeahOS4gOS4quWunuS+i1xyXG5sZXQgaHRtbDVBdWRpb1xyXG5cclxuLyoqXHJcbiAqIOmfs+mikeW3peWOguexu1xyXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG52YXIgQXVkaW9GYWN0b3J5ID0gWHV0LkNvcmVPYmplY3QuZXh0ZW5kKHtcclxuXHJcbiAgICAvL+aehOW7uuS5i+WJjeWFs+aVsOaNrlxyXG4gICAgcHJlUmVsYXRlZDogZnVuY3Rpb24odHJhY2tJZCwgb3B0aW9ucykge1xyXG4gICAgICAgIC8v5a6M5oiQZW5k5ZCOIOWklumDqOWbnuiwg+WIoOmZpOi/meS4quWvueixoVxyXG4gICAgICAgIC8v5Y2V54us6LCD55So5byV55So5a+56LGhXHJcbiAgICAgICAgLy/kvKDpgJLkuIDkuKogb3B0aW9ucy5jb21wbGV0ZVxyXG4gICAgICAgIHRoaXMuaW5uZXJDYWxsYmFjayA9IG9wdGlvbnMuaW5uZXJDYWxsYmFjaztcclxuICAgICAgICAvL+S7hei/kOihjOS4gOasoVxyXG4gICAgICAgIC8v5aSW6YOo6LCD55SoXHJcbiAgICAgICAgdGhpcy5vdXRlckNhbGxiYWNrID0gdHJhY2tJZCA9PSA5OTk5ID8gb3B0aW9ucy5jb21wbGV0ZSA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5p6E5bu65LmL5ZCO5YWz5pWw5o2uXHJcbiAgICBhZnRlclJlbGF0ZWQ6IGZ1bmN0aW9uKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcykge1xyXG4gICAgICAgIC8v6Z+z6aKR6YeN5aSN5pKt5pS+5qyh5pWwXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEucmVwZWF0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVwZWF0ID0gTnVtYmVyKG9wdGlvbnMuZGF0YS5yZXBlYXQpOyAvL+mcgOimgemHjeWkjVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+mfs+mikeWKqOS9nFxyXG4gICAgICAgIGlmIChvcHRpb25zLmFjdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmFjaXRvbk9iaiA9IEFjdGlvbihvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lrZfluZXlr7nosaFcclxuICAgICAgICBpZiAob3B0aW9ucy5zdWJ0aXRsZXMgJiYgb3B0aW9ucy5zdWJ0aXRsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvL+WIm+W7uuWtl+W5leWvueixoVxyXG4gICAgICAgICAgICB0aGlzLnN1YnRpdGxlT2JqZWN0ID0gbmV3IFN1YnRpdGxlKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOacieWklumDqOWbnuiwg+WkhOeQhlxyXG4gICAgICAgIGlmICh0aGlzLm91dGVyQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRlckNhbGxiYWNrLmNhbGwodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICAvL+i/kOihjOaIkOWKn+Wksei0peWQjuWkhOeQhuaWueazlVxyXG4gICAgLy9waG9lbmdhcOS8muiwg+eUqGNhbGxiYWNrUHJvY2Vzc1xyXG4gICAgLy/lr7zoh7TkubHkuoZcclxuICAgIGNhbGxiYWNrUHJvY2VzczogZnVuY3Rpb24oc3lzQ29tbWFuZCkge1xyXG4gICAgICAgIGlmICh0aGlzLm91dGVyQ2FsbGJhY2spIHsgLy/lpJbpg6josIPnlKjnu5PmnZ9cclxuICAgICAgICAgICAgdGhpcy5lbmQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+WuieWNk+ayoeaciemHjeWkjeaSreaUvlxyXG4gICAgICAgICAgICAvL3Bob25lZ2Fw5pyq5aSE55CGXHJcbiAgICAgICAgICAgIGlmICghWHV0LnBsYXQuaXNBbmRyb2lkICYmIHRoaXMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOmcgOimgemHjeWkjVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBlYXRQcm9jZXNzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL+WklumDqOa4heeQhuWvueixoVxyXG4gICAgICAgICAgICAgICAgLy9hdWRpb01hbmFnZXLkuK3nm7TmjqXliKDlvZPliY3lr7nosaFcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJDYWxsYmFjayh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/ph43lpI3lpITnkIZcclxuICAgIHJlcGVhdFByb2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC0tdGhpcy5yZXBlYXQ7XHJcbiAgICAgICAgdGhpcy5wbGF5KClcclxuICAgIH0sXHJcblxyXG4gICAgLy/mkq3mlL5cclxuICAgIHBsYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vZmxhc2jmqKHlvI/kuI3miafooYxcclxuICAgICAgICBpZiAodGhpcy5hdWRpbyAmJiAhdGhpcy5pc0ZsYXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gJ3BsYXlpbmcnO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hY2l0b25PYmogJiYgdGhpcy5hY2l0b25PYmoucGxheSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+WBnOatolxyXG4gICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ3BhdXNlZCc7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYWNpdG9uT2JqICYmIHRoaXMuYWNpdG9uT2JqLnBhdXNlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6ZSA5q+BXHJcbiAgICBlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ2VuZGVkJztcclxuICAgICAgICB0aGlzLmF1ZGlvLmVuZCgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWNpdG9uT2JqICYmIHRoaXMuYWNpdG9uT2JqLmRlc3Ryb3koKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/nm7jlhbNcclxuICAgIGRlc3Ryb3lSZWxhdGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+mUgOavgeWtl+W5lVxyXG4gICAgICAgIGlmICh0aGlzLnN1YnRpdGxlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VidGl0bGVPYmplY3QuZGVzdHJveSgpXHJcbiAgICAgICAgICAgIHRoaXMuc3VidGl0bGVPYmplY3QgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WKqOS9nFxyXG4gICAgICAgIGlmICh0aGlzLmFjaXRvbk9iaikge1xyXG4gICAgICAgICAgICB0aGlzLmFjaXRvbk9iai5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWNpdG9uT2JqID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDkvb/nlKhQaG9uZUdhcOeahE1lZGlh5pKt5pS+XHJcbiAqIEBwYXJhbSAge3N0cmluZ30gdXJsIOi3r+W+hFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudmFyIF9NZWRpYSA9IEF1ZGlvRmFjdG9yeS5leHRlbmQoe1xyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRyb2xEb21zKSB7XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSBYdXQuY29uZmlnLmF1ZGlvUGF0aCgpICsgb3B0aW9ucy51cmwsXHJcbiAgICAgICAgICAgIHRyYWNrSWQgPSBvcHRpb25zLnRyYWNrSWQsXHJcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBhdWRpbztcclxuXHJcbiAgICAgICAgLy/mnoTlu7rkuYvliY3lpITnkIZcclxuICAgICAgICB0aGlzLnByZVJlbGF0ZWQodHJhY2tJZCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8v6Z+z6aKR5oiQ5Yqf5LiO5aSx6LSl6LCD55SoXHJcbiAgICAgICAgYXVkaW8gPSBuZXcgR0xPQkFMQ09OVEVYVC5NZWRpYSh1cmwsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNhbGxiYWNrUHJvY2Vzcyh0cnVlKTtcclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jYWxsYmFja1Byb2Nlc3ModHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vYXV0b3BsYXlcclxuICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW87XHJcbiAgICAgICAgdGhpcy50cmFja0lkID0gdHJhY2tJZDtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgICAgICAvL+ebuOWFs+aVsOaNrlxyXG4gICAgICAgIHRoaXMuYWZ0ZXJSZWxhdGVkKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcyk7XHJcbiAgICB9LFxyXG4gICAgLy/lj5blj41cclxuICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5yZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdlbmRlZCc7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95UmVsYXRlZCgpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICog6YeH55SoRmFsc2jmkq3mlL5cclxuICogQHR5cGUge1t0eXBlXX1cclxuICovXHJcbnZhciBfRmxhc2ggPSBBdWRpb0ZhY3RvcnkuZXh0ZW5kKHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRyb2xEb21zKSB7XHJcbiAgICAgICAgdmFyIHRyYWNrSWQgPSBvcHRpb25zLnRyYWNrSWQsXHJcbiAgICAgICAgICAgIHVybCA9IFh1dC5jb25maWcuYXVkaW9QYXRoKCkgKyBvcHRpb25zLnVybCxcclxuICAgICAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIGF1ZGlvO1xyXG5cclxuICAgICAgICAvL+aehOW7uuS5i+WJjeWkhOeQhlxyXG4gICAgICAgIHRoaXMucHJlUmVsYXRlZCh0cmFja0lkLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgYXVkaW8gPSBuZXcgQXVkaW81anMoe1xyXG4gICAgICAgICAgICBzd2ZfcGF0aDogJy4vbGliL2RhdGEvYXVkaW81anMuc3dmJyxcclxuICAgICAgICAgICAgdGhyb3dfZXJyb3JzOiB0cnVlLFxyXG4gICAgICAgICAgICBmb3JtYXRfdGltZTogdHJ1ZSxcclxuICAgICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uKHBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKHVybCk7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOiwg+eUqOS6huaSreaUvlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KClcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdHVzID0gXCJwbGF5aW5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW87XHJcbiAgICAgICAgdGhpcy50cmFja0lkID0gdHJhY2tJZDtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdwbGF5aW5nJztcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgICAgICB0aGlzLmlzRmxhc2ggPSB0cnVlO1xyXG5cclxuICAgICAgICAvL+ebuOWFs+aVsOaNrlxyXG4gICAgICAgIHRoaXMuYWZ0ZXJSZWxhdGVkKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdlbmRlZCc7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95UmVsYXRlZCgpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcbi8qKlxyXG4gKiDkvb/nlKhodG1sNeeahGF1ZGlv5pKt5pS+XHJcbiAqIEBwYXJhbSAge3N0cmluZ30gdXJsICAgIOmfs+mikei3r+W+hFxyXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMg5Y+v6YCJ5Y+C5pWwXHJcbiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG52YXIgX0F1ZGlvID0gQXVkaW9GYWN0b3J5LmV4dGVuZCh7XHJcbiAgICBpbml0OiBmdW5jdGlvbihvcHRpb25zLCBjb250cm9sRG9tcykge1xyXG4gICAgICAgIHZhciB0cmFja0lkID0gb3B0aW9ucy50cmFja0lkLFxyXG4gICAgICAgICAgICB1cmwgPSBYdXQuY29uZmlnLmF1ZGlvUGF0aCgpICsgb3B0aW9ucy51cmwsXHJcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBhdWRpbztcclxuXHJcbiAgICAgICAgLy/mnoTlu7rkuYvliY3lpITnkIZcclxuICAgICAgICB0aGlzLnByZVJlbGF0ZWQodHJhY2tJZCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChpbnN0YW5jZVt0cmFja0lkXSkge1xyXG4gICAgICAgICAgICBhdWRpbyA9IFh1dC5maXguYXVkaW8gPyBYdXQuZml4LmF1ZGlvIDogaW5zdGFuY2VbdHJhY2tJZF07XHJcbiAgICAgICAgICAgIGF1ZGlvLnNyYyA9IHVybDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSBhIG5ldyBBdWRpbyBpbnN0YW5jZVxyXG4gICAgICAgICAgICAvL+WmguaenOS4umlvcyBicm93c2VyIOeUqFh1dC5maXguYXVkaW8g5oyH5a6ac3JjIOWIneWni+WMluingWFwcC5qc1xyXG4gICAgICAgICAgICBpZiAoWHV0LmZpeC5hdWRpbykge1xyXG4gICAgICAgICAgICAgICAgYXVkaW8gPSBYdXQuZml4LmF1ZGlvO1xyXG4gICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gdXJsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXVkaW8gPSBuZXcgQXVkaW8odXJsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/mm7TmlrDpn7PovahcclxuICAgICAgICAgICAgLy/lppnlppnlrabmlrnlvI/kuI3opoHpn7PovajlpITnkIZcclxuICAgICAgICAgICAgaWYgKCFYdXQuZml4LmF1ZGlvKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVt0cmFja0lkXSA9IGF1ZGlvO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFja1Byb2Nlc3MoKVxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFja1Byb2Nlc3MoKVxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW87XHJcbiAgICAgICAgdGhpcy50cmFja0lkID0gdHJhY2tJZDtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdwbGF5aW5nJztcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgICAgICAvL+ebuOWFs+aVsOaNrlxyXG4gICAgICAgIHRoaXMuYWZ0ZXJSZWxhdGVkKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5jYWxsYmFja1Byb2Nlc3MsIGZhbHNlKVxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5jYWxsYmFja1Byb2Nlc3MsIGZhbHNlKVxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAnZW5kZWQnO1xyXG4gICAgICAgIHRoaXMuZGVzdHJveVJlbGF0ZWQoKTtcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5cclxudmFyIGNyZWF0ZVVVSUQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBVVUlEY3JlYXRlUGFydCg0KSArICctJyArXHJcbiAgICAgICAgVVVJRGNyZWF0ZVBhcnQoMikgKyAnLScgK1xyXG4gICAgICAgIFVVSURjcmVhdGVQYXJ0KDIpICsgJy0nICtcclxuICAgICAgICBVVUlEY3JlYXRlUGFydCgyKSArICctJyArXHJcbiAgICAgICAgVVVJRGNyZWF0ZVBhcnQoNik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBVVUlEY3JlYXRlUGFydChsZW5ndGgpIHtcclxuICAgIHZhciB1dWlkcGFydCA9IFwiXCI7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHV1aWRjaGFyID0gcGFyc2VJbnQoKE1hdGgucmFuZG9tKCkgKiAyNTYpLCAxMCkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIGlmICh1dWlkY2hhci5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICB1dWlkY2hhciA9IFwiMFwiICsgdXVpZGNoYXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV1aWRwYXJ0ICs9IHV1aWRjaGFyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHV1aWRwYXJ0O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOS9v+eUqFBob25lR2Fw55qEIGpz55u05o6l6LCD55SoIGNvcmRvdmEgTWVkaWHmkq3mlL5cclxuICogQHBhcmFtICB7c3RyaW5nfSB1cmwg6Lev5b6EXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG52YXIgX2NvcmRvdmFNZWRpYSA9IEF1ZGlvRmFjdG9yeS5leHRlbmQoe1xyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMsIGNvbnRyb2xEb21zKSB7XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSBYdXQuY29uZmlnLmF1ZGlvUGF0aCgpICsgb3B0aW9ucy51cmwsXHJcbiAgICAgICAgICAgIHRyYWNrSWQgPSBvcHRpb25zLnRyYWNrSWQsXHJcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBhdWRpbztcclxuXHJcbiAgICAgICAgdGhpcy5pZCA9IGNyZWF0ZVVVSUQoKTtcclxuXHJcbiAgICAgICAgLy/mnoTlu7rkuYvliY3lpITnkIZcclxuICAgICAgICB0aGlzLnByZVJlbGF0ZWQodHJhY2tJZCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHZhciBhdWRpbyA9IHtcclxuICAgICAgICAgICAgc3RhcnRQbGF5aW5nQXVkaW86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9IYW5kbGVyLnN0YXJ0UGxheWluZ0F1ZGlvKHNlbGYuaWQsIHVybClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGF1c2VQbGF5aW5nQXVkaW86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9IYW5kbGVyLnBhdXNlUGxheWluZ0F1ZGlvKHNlbGYuaWQpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbGVhc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9IYW5kbGVyLnJlbGVhc2Uoc2VsZi5pZClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOaJqeWFhe+8jOiOt+WPluS9jee9rlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGV4cGFuc2lvbkN1cnJlbnRQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q3VycmVudFBvc2l0aW9uKHNlbGYuaWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYXV0b3BsYXlcclxuICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW87XHJcbiAgICAgICAgdGhpcy50cmFja0lkID0gdHJhY2tJZDtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgICAgICAvL+ebuOWFs+aVsOaNrlxyXG4gICAgICAgIHRoaXMuYWZ0ZXJSZWxhdGVkKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5pKt5pS+XHJcbiAgICBwbGF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpbykge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdwbGF5aW5nJztcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5zdGFydFBsYXlpbmdBdWRpbygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFjaXRvbk9iaiAmJiB0aGlzLmFjaXRvbk9iai5wbGF5KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5YGc5q2iXHJcbiAgICBwYXVzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAncGF1c2VkJztcclxuICAgICAgICB0aGlzLmF1ZGlvICYmIHRoaXMuYXVkaW8ucGF1c2VQbGF5aW5nQXVkaW8oKTtcclxuICAgICAgICB0aGlzLmFjaXRvbk9iaiAmJiB0aGlzLmFjaXRvbk9iai5wYXVzZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy/nu5PmnZ9cclxuICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5yZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdlbmRlZCc7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95UmVsYXRlZCgpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIOajgOa1i+aYr+WQpuaUr+aMgUhUTUw155qEYXVkaW/mkq3mlL5cclxuICogQHBhcmFtICB7W3R5cGVdfSBzdWNjZXNzIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBmYWlsICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHN1cHBvcnRBdWRpbyhmYWlsKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbyhcImxpYi9kYXRhL3N1cHBvcnQubXAzXCIpO1xyXG4gICAgICAgIC8v5aaC5p6c6ZSZ6K+vXHJcbiAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvID0gbnVsbDtcclxuICAgICAgICAgICAgZmFpbCgpXHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgfSBjYXRjaCAoZXIpIHt9XHJcbn07XHJcblxyXG5cclxuLy9hcGvnmoTmg4XlhrXkuItcclxuaWYgKFh1dC5wbGF0LmlzQW5kcm9pZCAmJiAhWHV0LnBsYXQuaXNCcm93c2VyKSB7XHJcbiAgIGh0bWw1QXVkaW8gPSBfTWVkaWE7XHJcbn0gZWxzZSB7XHJcblxyXG4gICAgLy/lppnlppnlrabnmoQg5a6i5oi356uv5rWP6KeI5Zmo5qih5byPXHJcbiAgICBpZiAoTU1YQ09ORklHICYmIGF1ZGlvSGFuZGxlcikge1xyXG4gICAgICAgaHRtbDVBdWRpbyA9IF9jb3Jkb3ZhTWVkaWE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vcGNcclxuICAgICAgIGh0bWw1QXVkaW8gPSBfQXVkaW87XHJcbiAgICB9XHJcblxyXG4gICAgLy8yMDE1LjEyLjIzXHJcbiAgICAvL+WmguaenOS4jeaUr+aMgWF1ZGlv5pS555SoZmxhc2hcclxuICAgIC8vIHN1cHBvcnRBdWRpbyhmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICBYdXQuQXVkaW8gPSBfRmxhc2g7XHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuWHV0LkF1ZGlvID1odG1sNUF1ZGlvXHJcblxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgIGh0bWw1QXVkaW9cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2F1ZGlvL2F1ZGlvLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AudioManager = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _audio = __webpack_require__(30);\n\n/**\r\n * 音频说明：\r\n *  一个音频播放有2种情况：\r\n *       1、自动播放该音频（autoPlay == true）\r\n *       2、手动播放该音频（点击触发点）\r\n *\r\n *   一个音频被停止有3种情况：\r\n *       1、手动暂停（点击触发点）\r\n *       2、同轨道的其他音频开始播放\r\n *       3、0轨道的音频开始播放\r\n *   特殊情况：\r\n *       0轨道的音频播放时，可以停止所有其他轨道的音频\r\n *       其他轨道的音频播放时，可以停止0轨道的音频\r\n *\r\n *   基于上面的条件，补充提示：\r\n *       同轨道只允许有一个自动播放的音频\r\n *       如果0轨道音频为自动播放，则其他轨道不允许有自动播放音频\r\n *       反之亦然，其他轨道有自动播放音频，则0轨道不允许有自动播放音频\r\n *\r\n *    ===================================================================================================\r\n *   该版本说明：\r\n *   一个音频被打断之后，就被销毁，不会在后续恢复播放，而只会重头开始播放\r\n *\r\n *  2014.12.1 版本升级\r\n *  原来只有热点音频，现在多了动画音频和节音频，所以音频管理需要调整,\r\n *  有两个要注意的地方：\r\n *  1. 由于在IOS上,new Audio操作会产生新的进程，且不释放，所以同一个音轨只新建一个音频实例\r\n *     为了防止交互点击时音频播放混乱，要先清除同音轨的上一个音频\r\n *  2. 节音频可以跨节共用，如,1,2,3节共用一个音频，那么在这些节之间跳转时不打断\r\n *\r\n */\n\nfunction AudioManager() {\n\n    //动作标示\n    var ACTIVIT = 'hot'; //热点音频\n    var ANIMATE = 'content'; //动画音频\n    var SEASON = 'season'; //节音频\n\n    /**\r\n     * 容器合集\r\n     * 1 pageBox 当前待播放的热点音频\r\n     * 2 playBox 播放中的热点音频集合\r\n     */\n    //[type][pageId][queryId]\n    var pageBox, playBox;\n\n    function initBox() {\n        pageBox = (0, _index.hash)();\n        //[type][pageId][queryId]\n        playBox = (0, _index.hash)();\n    }\n\n    initBox();\n\n    //===============================================\n    //\n    //              预装配数据\n    //\n    //===============================================\n\n    /**\r\n     * 解析数据\r\n     * @param  {[type]} type    [description]\r\n     * @param  {[type]} queryId [description]\r\n     * @return {[type]}         [description]\r\n     */\n    function parseData(type, queryId) {\n        var data;\n        switch (type) {\n            case ANIMATE:\n                data = Xut.data.query('Video', queryId, true);\n                break;\n            case SEASON:\n                data = Xut.data.query('Video', queryId, true);\n                break;\n            default:\n                data = Xut.data.query('Video', queryId);\n                break;\n        }\n        return data;\n    }\n\n    /**\r\n     * 获取父容器\r\n     * @return {[type]} [description]\r\n     */\n    function getParentDom(subtitles, pageId, queryId) {\n        //字幕数据\n        var parentDoms = (0, _index.hash)();\n        var ancestorDoms = (0, _index.hash)();\n        var contentsFragment;\n        var dom;\n        var pageIndex = pageId - 1;\n        if (subtitles) {\n            //获取文档节点\n            contentsFragment = Xut.Contents.contentsFragment[pageId];\n\n            //如果maskId大于9000默认为处理\n            var isMask = pageId > 9000;\n            if (isMask) {\n                //指定页码编号\n                pageIndex = Xut.Presentation.GetPageIndex();\n            }\n\n            //找到对应的节点\n            _.each(subtitles, function (data) {\n                //'Content_0_1' 规则 类型_页码（0开始）_id\n                if (!parentDoms[data.id]) {\n                    dom = contentsFragment['Content_' + pageIndex + '_' + data.id];\n                    ancestorDoms[data.id] = dom;\n                    var $dom = $(dom);\n                    if ($dom.length) {\n                        var _div = $dom.find('div').last();\n                        if (_div.length) {\n                            parentDoms[data.id] = _div[0];\n                        }\n                    }\n                }\n            });\n        }\n\n        return {\n            parents: parentDoms,\n            ancestors: ancestorDoms\n        };\n    }\n\n    /**\r\n     * 检测数据是否存在\r\n     * @return {[type]}         [description]\r\n     */\n    function checkRepeat(pageId, queryId, type) {\n        var pBox = pageBox[type];\n        if (pBox && pBox[pageId] && pBox[pageId][queryId]) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\r\n     * 组合热点音频数据结构\r\n     * data, pageId, queryId, type\r\n     * 数据，页码编号，videoId, 查询的类型\r\n     * @return {[type]}         [description]\r\n     */\n    function combination(data, pageId, queryId, type, eleName) {\n        var tempDoms;\n        if (!pageBox[type]) {\n            pageBox[type] = (0, _index.hash)();\n        }\n        if (!pageBox[type][pageId]) {\n            pageBox[type][pageId] = (0, _index.hash)();\n        }\n        //有字幕处理\n        if (data.theTitle) {\n            var subtitles = (0, _index.parseJSON)(data.theTitle);\n        }\n        //配置音频结构\n        return pageBox[type][pageId][queryId] = {\n            'trackId': data.track, //音轨\n            'url': data.md5, //音频名字\n            'subtitles': subtitles,\n            'audioId': queryId,\n            'data': data\n        };\n    }\n\n    /**\r\n     * 装配音频数据\r\n     * @param  {int} pageId    页面id或节的分组id\r\n     * @param  {int} queryId   查询id,支持activityId,audioId\r\n     * @param  {string} type   音频来源类型[动画音频,节音频,热点音频]\r\n     */\n    function deployAudio(pageId, queryId, type, actionData) {\n        //避免复重查询\n        if (checkRepeat(pageId, queryId, type)) {\n            return false;\n        }\n        //解析合集数据\n        var data = parseData(type, queryId);\n        //存在音频文件\n        if (data && data.md5) {\n            //新的查询\n            var ret = combination(data, pageId, queryId, type, actionData);\n            //混入新的动作数据\n            //2015.9.24\n            //音频替换图片\n            //触发动画\n            if (actionData) {\n                _.extend(ret, actionData, {\n                    action: true //快速判断存在动作数据\n                });\n            }\n        }\n    }\n\n    //===============================================\n    //\n    //              初始化加载音频\n    //\n    //===============================================\n\n    /**\r\n     * 检查要打断的音频\r\n     * @param  {[type]} type    音频类型\r\n     * @param  {[type]} pageId  [description]\r\n     * @param  {[type]} queryId [description]\r\n     * @param  {[type]} pageBox [description]\r\n     * @return {boolen}         不打断返回true,否则返回false\r\n     */\n    function checkBreakAudio(type, pageId, queryId, pageBox) {\n        var playObj = playBox[type][pageId][queryId],\n            trackId = pageBox.trackId,\n            _trackId = playObj.trackId;\n\n        //如果是节音频，且地址相同，则不打断\n        if (type == SEASON && playObj.url == pageBox.url) {\n            return true;\n        }\n\n        //如果要用零音轨||零音轨有音乐在播||两音轨相同\n        //则打断\n        if (trackId == 0 || _trackId == 0 || trackId == _trackId) {\n            playObj.end();\n            delete playBox[type][pageId][queryId];\n        }\n        return false;\n    }\n\n    /**\r\n     * 播放音频之前检查\r\n     * @param  {int} pageId    [description]\r\n     * @param  {int} queryId    查询id\r\n     * @param  {string} type    决定video表按哪个字段查询\r\n     * @return {object}         音频对象/不存在为null\r\n     */\n    function preCheck(pageId, queryId, type) {\n        var t,\n            p,\n            q,\n            playObj = pageBox[type][pageId][queryId],\n            seasonAudio = null;\n        for (t in playBox) {\n            for (p in playBox[t]) {\n                for (q in playBox[t][p]) {\n                    if (checkBreakAudio(t, p, q, playObj)) {\n                        seasonAudio = playBox[t][p][q];\n                    }\n                }\n            }\n        }\n        return seasonAudio;\n    }\n\n    /**\r\n     * 加载音频对象\r\n     * @return {[type]}         [description]\r\n     */\n    function loadAudio(pageId, queryId, type) {\n        //找到页面对应的音频\n        //类型=》页面=》指定音频Id\n        var pageObj = pageBox[type][pageId][queryId];\n        //检测\n        var seAudio = preCheck(pageId, queryId, type);\n\n        //播放音频时关掉视频\n        Xut.VideoManager.clearVideo();\n\n        //构建播放列表\n        if (!playBox[type]) {\n            playBox[type] = (0, _index.hash)();\n        }\n        if (!playBox[type][pageId]) {\n            playBox[type][pageId] = (0, _index.hash)();\n        }\n        //假如有字幕信息\n        //找到对应的文档对象\n        if (pageObj.subtitles) {\n            var tempDoms = getParentDom(pageObj.subtitles, pageId, queryId);\n        }\n\n        //播放完成处理\n        pageObj.innerCallback = function (audio) {\n            if (playBox[type] && playBox[type][pageId] && playBox[type][pageId][queryId]) {\n                audio.end();\n                delete playBox[type][pageId][queryId];\n            }\n        };\n\n        //new播放对象\n        var newObj = seAudio || new _audio.html5Audio(pageObj, tempDoms);\n        newObj.play();\n\n        //存入播放对象池\n        playBox[type][pageId][queryId] = newObj;\n    }\n\n    /**\r\n     * 交互点击\r\n     * @param  {int} pageId     [description]\r\n     * @param  {int} queryId    [description]\r\n     * @param  {string} type    ACTIVIT\r\n     * @return {[type]}         [description]\r\n     */\n    function loadTiggerAudio(pageId, queryId, type) {\n        var playObj, status;\n        if (playBox[type] && playBox[type][pageId] && playBox[type][pageId][queryId]) {\n            playObj = playBox[type][pageId][queryId];\n            status = playObj.audio ? playObj.status : null;\n        }\n        switch (status) {\n            case 'playing':\n                playObj.pause();\n                break;\n            case 'paused':\n                playObj.play();\n                break;\n            default:\n                loadAudio(pageId, queryId, type);\n                break;\n        }\n    }\n\n    /**\r\n     * 清理全部音频\r\n     * @return {[type]} [description]\r\n     */\n    function removeAudio() {\n        var flag = false,\n            t,\n            p,\n            a;\n        for (t in playBox) {\n            for (p in playBox[t]) {\n                for (a in playBox[t][p]) {\n                    playBox[t][p][a].end();\n                    flag = true;\n                }\n            }\n        }\n        initBox();\n        return flag;\n    }\n\n    var out = {\n\n        ///////////////////\n        //1 独立音频处理, 音轨/跨页面 //\n        //2 动画音频,跟动画一起播放与销毁\n        ///////////////////\n\n        //自动播放触发接口\n        autoPlay: function autoPlay(pageId, activityId, actionData) {\n            deployAudio(pageId, activityId, ACTIVIT, actionData);\n            loadAudio(pageId, activityId, ACTIVIT);\n        },\n\n        //手动触发\n        trigger: function trigger(pageId, activityId, actionData) {\n            deployAudio(pageId, activityId, ACTIVIT, actionData);\n            loadTiggerAudio(pageId, activityId, ACTIVIT);\n        },\n\n        //动画音频触发接口\n        contentAudio: function contentAudio(pageId, audioId) {\n            deployAudio(pageId, audioId, ANIMATE);\n            loadAudio(pageId, audioId, ANIMATE);\n        },\n\n        //节音频触发接口\n        seasonAudio: function seasonAudio(seasonAudioId, audioId) {\n            deployAudio(seasonAudioId, audioId, SEASON);\n            loadAudio(seasonAudioId, audioId, SEASON);\n        },\n\n        //挂起音频\n        hangUpAudio: function hangUpAudio() {\n            var t, p, a;\n            for (t in playBox) {\n                for (p in playBox[t]) {\n                    for (a in playBox[t][p]) {\n                        playBox[t][p][a].pause();\n                    }\n                }\n            }\n        },\n\n        //销毁动画音频\n        clearContentAudio: function clearContentAudio(pageId) {\n            if (!playBox[ANIMATE] || !playBox[ANIMATE][pageId]) {\n                return false;\n            }\n            var playObj = playBox[ANIMATE][pageId];\n            if (playObj) {\n                for (var i in playObj) {\n                    playObj[i].end();\n                    delete playBox[ANIMATE][pageId][i];\n                }\n            }\n        },\n\n        //清理音频\n        clearAudio: function clearAudio(pageId) {\n            if (pageId) {\n                //如果只跳槽关闭动画音频\n                out.clearContentAudio(pageId);\n            } else {\n                removeAudio(); //多场景模式,不处理跨页面\n            }\n        }\n\n    };\n\n    return out;\n};\n\nXut.AudioManager = AudioManager();\n\nexports.AudioManager = AudioManager;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9hdWRpby9tYW5hZ2VyLmpzP2Q5MzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQWdDQTs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLFNBQVMsWUFBVCxHQUF3Qjs7O0FBR3BCLFFBQUksVUFBVSxLQUFkLEM7QUFDQSxRQUFJLFVBQVUsU0FBZCxDO0FBQ0EsUUFBSSxTQUFTLFFBQWIsQzs7Ozs7Ozs7QUFRQSxRQUFJLE9BQUosRUFBYSxPQUFiOztBQUVBLGFBQVMsT0FBVCxHQUFtQjtBQUNmLGtCQUFVLGtCQUFWOztBQUVBLGtCQUFVLGtCQUFWO0FBQ0g7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBLGFBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QixPQUF6QixFQUFrQztBQUM5QixZQUFJLElBQUo7QUFDQSxnQkFBUSxJQUFSO0FBQ0ksaUJBQUssT0FBTDtBQUNJLHVCQUFPLElBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxPQUFmLEVBQXdCLE9BQXhCLEVBQWlDLElBQWpDLENBQVA7QUFDQTtBQUNKLGlCQUFLLE1BQUw7QUFDSSx1QkFBTyxJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsT0FBZixFQUF3QixPQUF4QixFQUFpQyxJQUFqQyxDQUFQO0FBQ0E7QUFDSjtBQUNJLHVCQUFPLElBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxPQUFmLEVBQXdCLE9BQXhCLENBQVA7QUFDQTtBQVRSO0FBV0EsZUFBTyxJQUFQO0FBQ0g7Ozs7OztBQU1ELGFBQVMsWUFBVCxDQUFzQixTQUF0QixFQUFpQyxNQUFqQyxFQUF5QyxPQUF6QyxFQUFrRDs7QUFFOUMsWUFBSSxhQUFhLGtCQUFqQjtBQUNBLFlBQUksZUFBZSxrQkFBbkI7QUFDQSxZQUFJLGdCQUFKO0FBQ0EsWUFBSSxHQUFKO0FBQ0EsWUFBSSxZQUFhLFNBQVMsQ0FBMUI7QUFDQSxZQUFJLFNBQUosRUFBZTs7QUFF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Q1Isb0JBQUksaUJBQUosQ0FBc0IsTUFBdEI7QUFDSCxhQUZELE1BRU87QUFDSCw4QjtBQUNIO0FBQ0o7O0FBakVLLEtBQVY7O0FBc0VBLFdBQU8sR0FBUDtBQUNIOztBQUdELElBQUksWUFBSixHQUFtQixjQUFuQjs7UUFHSSxZLEdBQUEsWSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpn7PpopHor7TmmI7vvJpcclxuICogIOS4gOS4qumfs+mikeaSreaUvuaciTLnp43mg4XlhrXvvJpcclxuICogICAgICAgMeOAgeiHquWKqOaSreaUvuivpemfs+mike+8iGF1dG9QbGF5ID09IHRydWXvvIlcclxuICogICAgICAgMuOAgeaJi+WKqOaSreaUvuivpemfs+mike+8iOeCueWHu+inpuWPkeeCue+8iVxyXG4gKlxyXG4gKiAgIOS4gOS4qumfs+mikeiiq+WBnOatouaciTPnp43mg4XlhrXvvJpcclxuICogICAgICAgMeOAgeaJi+WKqOaaguWBnO+8iOeCueWHu+inpuWPkeeCue+8iVxyXG4gKiAgICAgICAy44CB5ZCM6L2o6YGT55qE5YW25LuW6Z+z6aKR5byA5aeL5pKt5pS+XHJcbiAqICAgICAgIDPjgIEw6L2o6YGT55qE6Z+z6aKR5byA5aeL5pKt5pS+XHJcbiAqICAg54m55q6K5oOF5Ya177yaXHJcbiAqICAgICAgIDDovajpgZPnmoTpn7PpopHmkq3mlL7ml7bvvIzlj6/ku6XlgZzmraLmiYDmnInlhbbku5bovajpgZPnmoTpn7PpopFcclxuICogICAgICAg5YW25LuW6L2o6YGT55qE6Z+z6aKR5pKt5pS+5pe277yM5Y+v5Lul5YGc5q2iMOi9qOmBk+eahOmfs+mikVxyXG4gKlxyXG4gKiAgIOWfuuS6juS4iumdoueahOadoeS7tu+8jOihpeWFheaPkOekuu+8mlxyXG4gKiAgICAgICDlkIzovajpgZPlj6rlhYHorrjmnInkuIDkuKroh6rliqjmkq3mlL7nmoTpn7PpopFcclxuICogICAgICAg5aaC5p6cMOi9qOmBk+mfs+mikeS4uuiHquWKqOaSreaUvu+8jOWImeWFtuS7lui9qOmBk+S4jeWFgeiuuOacieiHquWKqOaSreaUvumfs+mikVxyXG4gKiAgICAgICDlj43kuYvkuqbnhLbvvIzlhbbku5bovajpgZPmnInoh6rliqjmkq3mlL7pn7PpopHvvIzliJkw6L2o6YGT5LiN5YWB6K645pyJ6Ieq5Yqo5pKt5pS+6Z+z6aKRXHJcbiAqXHJcbiAqICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiAgIOivpeeJiOacrOivtOaYju+8mlxyXG4gKiAgIOS4gOS4qumfs+mikeiiq+aJk+aWreS5i+WQju+8jOWwseiiq+mUgOavge+8jOS4jeS8muWcqOWQjue7reaBouWkjeaSreaUvu+8jOiAjOWPquS8mumHjeWktOW8gOWni+aSreaUvlxyXG4gKlxyXG4gKiAgMjAxNC4xMi4xIOeJiOacrOWNh+e6p1xyXG4gKiAg5Y6f5p2l5Y+q5pyJ54Ot54K56Z+z6aKR77yM546w5Zyo5aSa5LqG5Yqo55S76Z+z6aKR5ZKM6IqC6Z+z6aKR77yM5omA5Lul6Z+z6aKR566h55CG6ZyA6KaB6LCD5pW0LFxyXG4gKiAg5pyJ5Lik5Liq6KaB5rOo5oSP55qE5Zyw5pa577yaXHJcbiAqICAxLiDnlLHkuo7lnKhJT1PkuIosbmV3IEF1ZGlv5pON5L2c5Lya5Lqn55Sf5paw55qE6L+b56iL77yM5LiU5LiN6YeK5pS+77yM5omA5Lul5ZCM5LiA5Liq6Z+z6L2o5Y+q5paw5bu65LiA5Liq6Z+z6aKR5a6e5L6LXHJcbiAqICAgICDkuLrkuobpmLLmraLkuqTkupLngrnlh7vml7bpn7PpopHmkq3mlL7mt7fkubHvvIzopoHlhYjmuIXpmaTlkIzpn7PovajnmoTkuIrkuIDkuKrpn7PpopFcclxuICogIDIuIOiKgumfs+mikeWPr+S7pei3qOiKguWFseeUqO+8jOWmgiwxLDIsM+iKguWFseeUqOS4gOS4qumfs+mike+8jOmCo+S5iOWcqOi/meS6m+iKguS5i+mXtOi3s+i9rOaXtuS4jeaJk+aWrVxyXG4gKlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgICBwYXJzZUpTT04saGFzaFxyXG59XHJcbmZyb20gJy4uLy4uL3V0aWwvaW5kZXgnXHJcblxyXG5pbXBvcnQge2h0bWw1QXVkaW99IGZyb20gJy4vYXVkaW8nXHJcblxyXG5mdW5jdGlvbiBBdWRpb01hbmFnZXIoKSB7XHJcblxyXG4gICAgLy/liqjkvZzmoIfnpLpcclxuICAgIHZhciBBQ1RJVklUID0gJ2hvdCc7IC8v54Ot54K56Z+z6aKRXHJcbiAgICB2YXIgQU5JTUFURSA9ICdjb250ZW50JzsgLy/liqjnlLvpn7PpopFcclxuICAgIHZhciBTRUFTT04gPSAnc2Vhc29uJzsgLy/oioLpn7PpopFcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWuueWZqOWQiOmbhlxyXG4gICAgICogMSBwYWdlQm94IOW9k+WJjeW+heaSreaUvueahOeDreeCuemfs+mikVxyXG4gICAgICogMiBwbGF5Qm94IOaSreaUvuS4reeahOeDreeCuemfs+mikembhuWQiFxyXG4gICAgICovXHJcbiAgICAvL1t0eXBlXVtwYWdlSWRdW3F1ZXJ5SWRdXHJcbiAgICB2YXIgcGFnZUJveCwgcGxheUJveDtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0Qm94KCkge1xyXG4gICAgICAgIHBhZ2VCb3ggPSBoYXNoKCk7XHJcbiAgICAgICAgLy9bdHlwZV1bcGFnZUlkXVtxdWVyeUlkXVxyXG4gICAgICAgIHBsYXlCb3ggPSBoYXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEJveCgpO1xyXG5cclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgIOmihOijhemFjeaVsOaNrlxyXG4gICAgLy9cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6PmnpDmlbDmja5cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gdHlwZSAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHF1ZXJ5SWQgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcGFyc2VEYXRhKHR5cGUsIHF1ZXJ5SWQpIHtcclxuICAgICAgICB2YXIgZGF0YTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBTklNQVRFOlxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IFh1dC5kYXRhLnF1ZXJ5KCdWaWRlbycsIHF1ZXJ5SWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU0VBU09OOlxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IFh1dC5kYXRhLnF1ZXJ5KCdWaWRlbycsIHF1ZXJ5SWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gWHV0LmRhdGEucXVlcnkoJ1ZpZGVvJywgcXVlcnlJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bniLblrrnlmahcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRQYXJlbnREb20oc3VidGl0bGVzLCBwYWdlSWQsIHF1ZXJ5SWQpIHtcclxuICAgICAgICAvL+Wtl+W5leaVsOaNrlxyXG4gICAgICAgIHZhciBwYXJlbnREb21zID0gaGFzaCgpO1xyXG4gICAgICAgIHZhciBhbmNlc3RvckRvbXMgPSBoYXNoKCk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRzRnJhZ21lbnQ7XHJcbiAgICAgICAgdmFyIGRvbTtcclxuICAgICAgICB2YXIgcGFnZUluZGV4ID0gKHBhZ2VJZCAtIDEpO1xyXG4gICAgICAgIGlmIChzdWJ0aXRsZXMpIHtcclxuICAgICAgICAgICAgLy/ojrflj5bmlofmoaPoioLngrlcclxuICAgICAgICAgICAgY29udGVudHNGcmFnbWVudCA9IFh1dC5Db250ZW50cy5jb250ZW50c0ZyYWdtZW50W3BhZ2VJZF07XHJcblxyXG4gICAgICAgICAgICAvL+WmguaenG1hc2tJZOWkp+S6jjkwMDDpu5jorqTkuLrlpITnkIZcclxuICAgICAgICAgICAgdmFyIGlzTWFzayA9IHBhZ2VJZCA+IDkwMDA7XHJcbiAgICAgICAgICAgIGlmIChpc01hc2spIHtcclxuICAgICAgICAgICAgICAgIC8v5oyH5a6a6aG156CB57yW5Y+3XHJcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VJbmRleCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+aJvuWIsOWvueW6lOeahOiKgueCuVxyXG4gICAgICAgICAgICBfLmVhY2goc3VidGl0bGVzLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvLydDb250ZW50XzBfMScg6KeE5YiZIOexu+Wei1/pobXnoIHvvIgw5byA5aeL77yJX2lkXHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudERvbXNbZGF0YS5pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBjb250ZW50c0ZyYWdtZW50WydDb250ZW50XycgKyBwYWdlSW5kZXggKyAnXycgKyBkYXRhLmlkXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmNlc3RvckRvbXNbZGF0YS5pZF0gPSBkb207XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRkb20gPSAkKGRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRkb20ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGl2ID0gJGRvbS5maW5kKCdkaXYnKS5sYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGl2Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RG9tc1tkYXRhLmlkXSA9IF9kaXZbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBhcmVudHM6IHBhcmVudERvbXMsXHJcbiAgICAgICAgICAgIGFuY2VzdG9yczogYW5jZXN0b3JEb21zXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+aVsOaNruaYr+WQpuWtmOWcqFxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hlY2tSZXBlYXQocGFnZUlkLCBxdWVyeUlkLCB0eXBlKSB7XHJcbiAgICAgICAgdmFyIHBCb3ggPSBwYWdlQm94W3R5cGVdO1xyXG4gICAgICAgIGlmIChwQm94ICYmIHBCb3hbcGFnZUlkXSAmJiBwQm94W3BhZ2VJZF1bcXVlcnlJZF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe7hOWQiOeDreeCuemfs+mikeaVsOaNrue7k+aehFxyXG4gICAgICogZGF0YSwgcGFnZUlkLCBxdWVyeUlkLCB0eXBlXHJcbiAgICAgKiDmlbDmja7vvIzpobXnoIHnvJblj7fvvIx2aWRlb0lkLCDmn6Xor6LnmoTnsbvlnotcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKGRhdGEsIHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSwgZWxlTmFtZSkge1xyXG4gICAgICAgIHZhciB0ZW1wRG9tcztcclxuICAgICAgICBpZiAoIXBhZ2VCb3hbdHlwZV0pIHtcclxuICAgICAgICAgICAgcGFnZUJveFt0eXBlXSA9IGhhc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYWdlQm94W3R5cGVdW3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgcGFnZUJveFt0eXBlXVtwYWdlSWRdID0gaGFzaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+acieWtl+W5leWkhOeQhlxyXG4gICAgICAgIGlmIChkYXRhLnRoZVRpdGxlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZXMgPSBwYXJzZUpTT04oZGF0YS50aGVUaXRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6YWN572u6Z+z6aKR57uT5p6EXHJcbiAgICAgICAgcmV0dXJuIHBhZ2VCb3hbdHlwZV1bcGFnZUlkXVtxdWVyeUlkXSA9IHtcclxuICAgICAgICAgICAgJ3RyYWNrSWQnOiBkYXRhLnRyYWNrLCAvL+mfs+i9qFxyXG4gICAgICAgICAgICAndXJsJzogZGF0YS5tZDUsIC8v6Z+z6aKR5ZCN5a2XXHJcbiAgICAgICAgICAgICdzdWJ0aXRsZXMnOiBzdWJ0aXRsZXMsXHJcbiAgICAgICAgICAgICdhdWRpb0lkJzogcXVlcnlJZCxcclxuICAgICAgICAgICAgJ2RhdGEnOiBkYXRhXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOijhemFjemfs+mikeaVsOaNrlxyXG4gICAgICogQHBhcmFtICB7aW50fSBwYWdlSWQgICAg6aG16Z2iaWTmiJboioLnmoTliIbnu4RpZFxyXG4gICAgICogQHBhcmFtICB7aW50fSBxdWVyeUlkICAg5p+l6K+iaWQs5pSv5oyBYWN0aXZpdHlJZCxhdWRpb0lkXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgICDpn7PpopHmnaXmupDnsbvlnotb5Yqo55S76Z+z6aKRLOiKgumfs+mikSzng63ngrnpn7PpopFdXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlcGxveUF1ZGlvKHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSwgYWN0aW9uRGF0YSkge1xyXG4gICAgICAgIC8v6YG/5YWN5aSN6YeN5p+l6K+iXHJcbiAgICAgICAgaWYgKGNoZWNrUmVwZWF0KHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+ino+aekOWQiOmbhuaVsOaNrlxyXG4gICAgICAgIHZhciBkYXRhID0gcGFyc2VEYXRhKHR5cGUsIHF1ZXJ5SWQpO1xyXG4gICAgICAgIC8v5a2Y5Zyo6Z+z6aKR5paH5Lu2XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5tZDUpIHtcclxuICAgICAgICAgICAgLy/mlrDnmoTmn6Xor6JcclxuICAgICAgICAgICAgdmFyIHJldCA9IGNvbWJpbmF0aW9uKGRhdGEsIHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSwgYWN0aW9uRGF0YSk7XHJcbiAgICAgICAgICAgIC8v5re35YWl5paw55qE5Yqo5L2c5pWw5o2uXHJcbiAgICAgICAgICAgIC8vMjAxNS45LjI0XHJcbiAgICAgICAgICAgIC8v6Z+z6aKR5pu/5o2i5Zu+54mHXHJcbiAgICAgICAgICAgIC8v6Kem5Y+R5Yqo55S7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBfLmV4dGVuZChyZXQsIGFjdGlvbkRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRydWUgLy/lv6vpgJ/liKTmlq3lrZjlnKjliqjkvZzmlbDmja5cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAg5Yid5aeL5YyW5Yqg6L296Z+z6aKRXHJcbiAgICAvL1xyXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOafpeimgeaJk+aWreeahOmfs+mikVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSB0eXBlICAgIOmfs+mikeexu+Wei1xyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBwYWdlSWQgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gcXVlcnlJZCBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VCb3ggW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7Ym9vbGVufSAgICAgICAgIOS4jeaJk+aWrei/lOWbnnRydWUs5ZCm5YiZ6L+U5ZueZmFsc2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hlY2tCcmVha0F1ZGlvKHR5cGUsIHBhZ2VJZCwgcXVlcnlJZCwgcGFnZUJveCkge1xyXG4gICAgICAgIHZhciBwbGF5T2JqID0gcGxheUJveFt0eXBlXVtwYWdlSWRdW3F1ZXJ5SWRdLFxyXG4gICAgICAgICAgICB0cmFja0lkID0gcGFnZUJveC50cmFja0lkLFxyXG4gICAgICAgICAgICBfdHJhY2tJZCA9IHBsYXlPYmoudHJhY2tJZDtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK/oioLpn7PpopHvvIzkuJTlnLDlnYDnm7jlkIzvvIzliJnkuI3miZPmlq1cclxuICAgICAgICBpZiAodHlwZSA9PSBTRUFTT04gJiYgcGxheU9iai51cmwgPT0gcGFnZUJveC51cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOimgeeUqOmbtumfs+i9qHx86Zu26Z+z6L2o5pyJ6Z+z5LmQ5Zyo5pKtfHzkuKTpn7Povajnm7jlkIxcclxuICAgICAgICAvL+WImeaJk+aWrVxyXG4gICAgICAgIGlmICh0cmFja0lkID09IDAgfHwgX3RyYWNrSWQgPT0gMCB8fCB0cmFja0lkID09IF90cmFja0lkKSB7XHJcbiAgICAgICAgICAgIHBsYXlPYmouZW5kKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwbGF5Qm94W3R5cGVdW3BhZ2VJZF1bcXVlcnlJZF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmkq3mlL7pn7PpopHkuYvliY3mo4Dmn6VcclxuICAgICAqIEBwYXJhbSAge2ludH0gcGFnZUlkICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge2ludH0gcXVlcnlJZCAgICDmn6Xor6JpZFxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSB0eXBlICAgIOWGs+WumnZpZGVv6KGo5oyJ5ZOq5Liq5a2X5q615p+l6K+iXHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAg6Z+z6aKR5a+56LGhL+S4jeWtmOWcqOS4um51bGxcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcHJlQ2hlY2socGFnZUlkLCBxdWVyeUlkLCB0eXBlKSB7XHJcbiAgICAgICAgdmFyIHQsIHAsIHEsXHJcbiAgICAgICAgICAgIHBsYXlPYmogPSBwYWdlQm94W3R5cGVdW3BhZ2VJZF1bcXVlcnlJZF0sXHJcbiAgICAgICAgICAgIHNlYXNvbkF1ZGlvID0gbnVsbDtcclxuICAgICAgICBmb3IgKHQgaW4gcGxheUJveCkge1xyXG4gICAgICAgICAgICBmb3IgKHAgaW4gcGxheUJveFt0XSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChxIGluIHBsYXlCb3hbdF1bcF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tCcmVha0F1ZGlvKHQsIHAsIHEsIHBsYXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbkF1ZGlvID0gcGxheUJveFt0XVtwXVtxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlYXNvbkF1ZGlvO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vemfs+mikeWvueixoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbG9hZEF1ZGlvKHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSkge1xyXG4gICAgICAgIC8v5om+5Yiw6aG16Z2i5a+55bqU55qE6Z+z6aKRXHJcbiAgICAgICAgLy/nsbvlnos944CL6aG16Z2iPeOAi+aMh+Wumumfs+mikUlkXHJcbiAgICAgICAgdmFyIHBhZ2VPYmogPSBwYWdlQm94W3R5cGVdW3BhZ2VJZF1bcXVlcnlJZF07XHJcbiAgICAgICAgLy/mo4DmtYtcclxuICAgICAgICB2YXIgc2VBdWRpbyA9IHByZUNoZWNrKHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSk7XHJcblxyXG4gICAgICAgIC8v5pKt5pS+6Z+z6aKR5pe25YWz5o6J6KeG6aKRXHJcbiAgICAgICAgWHV0LlZpZGVvTWFuYWdlci5jbGVhclZpZGVvKCk7XHJcblxyXG4gICAgICAgIC8v5p6E5bu65pKt5pS+5YiX6KGoXHJcbiAgICAgICAgaWYgKCFwbGF5Qm94W3R5cGVdKSB7XHJcbiAgICAgICAgICAgIHBsYXlCb3hbdHlwZV0gPSBoYXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGxheUJveFt0eXBlXVtwYWdlSWRdKSB7XHJcbiAgICAgICAgICAgIHBsYXlCb3hbdHlwZV1bcGFnZUlkXSA9IGhhc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lgYflpoLmnInlrZfluZXkv6Hmga9cclxuICAgICAgICAvL+aJvuWIsOWvueW6lOeahOaWh+aho+WvueixoVxyXG4gICAgICAgIGlmIChwYWdlT2JqLnN1YnRpdGxlcykge1xyXG4gICAgICAgICAgICB2YXIgdGVtcERvbXMgPSBnZXRQYXJlbnREb20ocGFnZU9iai5zdWJ0aXRsZXMsIHBhZ2VJZCwgcXVlcnlJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+aSreaUvuWujOaIkOWkhOeQhlxyXG4gICAgICAgIHBhZ2VPYmouaW5uZXJDYWxsYmFjayA9IGZ1bmN0aW9uKGF1ZGlvKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5Qm94W3R5cGVdICYmIHBsYXlCb3hbdHlwZV1bcGFnZUlkXSAmJiBwbGF5Qm94W3R5cGVdW3BhZ2VJZF1bcXVlcnlJZF0pIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvLmVuZCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHBsYXlCb3hbdHlwZV1bcGFnZUlkXVtxdWVyeUlkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vbmV35pKt5pS+5a+56LGhXHJcbiAgICAgICAgdmFyIG5ld09iaiA9IHNlQXVkaW8gfHwgbmV3IGh0bWw1QXVkaW8ocGFnZU9iaiwgdGVtcERvbXMpO1xyXG4gICAgICAgIG5ld09iai5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8v5a2Y5YWl5pKt5pS+5a+56LGh5rGgXHJcbiAgICAgICAgcGxheUJveFt0eXBlXVtwYWdlSWRdW3F1ZXJ5SWRdID0gbmV3T2JqO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS6pOS6kueCueWHu1xyXG4gICAgICogQHBhcmFtICB7aW50fSBwYWdlSWQgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge2ludH0gcXVlcnlJZCAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgICAgQUNUSVZJVFxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbG9hZFRpZ2dlckF1ZGlvKHBhZ2VJZCwgcXVlcnlJZCwgdHlwZSkge1xyXG4gICAgICAgIHZhciBwbGF5T2JqLCBzdGF0dXM7XHJcbiAgICAgICAgaWYgKHBsYXlCb3hbdHlwZV0gJiYgcGxheUJveFt0eXBlXVtwYWdlSWRdICYmIHBsYXlCb3hbdHlwZV1bcGFnZUlkXVtxdWVyeUlkXSkge1xyXG4gICAgICAgICAgICBwbGF5T2JqID0gcGxheUJveFt0eXBlXVtwYWdlSWRdW3F1ZXJ5SWRdO1xyXG4gICAgICAgICAgICBzdGF0dXMgPSBwbGF5T2JqLmF1ZGlvID8gcGxheU9iai5zdGF0dXMgOiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdwbGF5aW5nJzpcclxuICAgICAgICAgICAgICAgIHBsYXlPYmoucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXVzZWQnOlxyXG4gICAgICAgICAgICAgICAgcGxheU9iai5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGxvYWRBdWRpbyhwYWdlSWQsIHF1ZXJ5SWQsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa4heeQhuWFqOmDqOmfs+mikVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUF1ZGlvKCkge1xyXG4gICAgICAgIHZhciBmbGFnID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHQsIHAsIGE7XHJcbiAgICAgICAgZm9yICh0IGluIHBsYXlCb3gpIHtcclxuICAgICAgICAgICAgZm9yIChwIGluIHBsYXlCb3hbdF0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAoYSBpbiBwbGF5Qm94W3RdW3BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheUJveFt0XVtwXVthXS5lbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbml0Qm94KCk7XHJcbiAgICAgICAgcmV0dXJuIGZsYWc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG91dCA9IHtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vMSDni6znq4vpn7PpopHlpITnkIYsIOmfs+i9qC/ot6jpobXpnaIgLy9cclxuICAgICAgICAvLzIg5Yqo55S76Z+z6aKRLOi3n+WKqOeUu+S4gOi1t+aSreaUvuS4jumUgOavgVxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy/oh6rliqjmkq3mlL7op6blj5HmjqXlj6NcclxuICAgICAgICBhdXRvUGxheTogZnVuY3Rpb24ocGFnZUlkLCBhY3Rpdml0eUlkLCBhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIGRlcGxveUF1ZGlvKHBhZ2VJZCwgYWN0aXZpdHlJZCwgQUNUSVZJVCwgYWN0aW9uRGF0YSk7XHJcbiAgICAgICAgICAgIGxvYWRBdWRpbyhwYWdlSWQsIGFjdGl2aXR5SWQsIEFDVElWSVQpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v5omL5Yqo6Kem5Y+RXHJcbiAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24ocGFnZUlkLCBhY3Rpdml0eUlkLCBhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIGRlcGxveUF1ZGlvKHBhZ2VJZCwgYWN0aXZpdHlJZCwgQUNUSVZJVCwgYWN0aW9uRGF0YSk7XHJcbiAgICAgICAgICAgIGxvYWRUaWdnZXJBdWRpbyhwYWdlSWQsIGFjdGl2aXR5SWQsIEFDVElWSVQpO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICAvL+WKqOeUu+mfs+mikeinpuWPkeaOpeWPo1xyXG4gICAgICAgIGNvbnRlbnRBdWRpbzogZnVuY3Rpb24ocGFnZUlkLCBhdWRpb0lkKSB7XHJcbiAgICAgICAgICAgIGRlcGxveUF1ZGlvKHBhZ2VJZCwgYXVkaW9JZCwgQU5JTUFURSk7XHJcbiAgICAgICAgICAgIGxvYWRBdWRpbyhwYWdlSWQsIGF1ZGlvSWQsIEFOSU1BVEUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v6IqC6Z+z6aKR6Kem5Y+R5o6l5Y+jXHJcbiAgICAgICAgc2Vhc29uQXVkaW86IGZ1bmN0aW9uKHNlYXNvbkF1ZGlvSWQsIGF1ZGlvSWQpIHtcclxuICAgICAgICAgICAgZGVwbG95QXVkaW8oc2Vhc29uQXVkaW9JZCwgYXVkaW9JZCwgU0VBU09OKTtcclxuICAgICAgICAgICAgbG9hZEF1ZGlvKHNlYXNvbkF1ZGlvSWQsIGF1ZGlvSWQsIFNFQVNPTik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/mjILotbfpn7PpopFcclxuICAgICAgICBoYW5nVXBBdWRpbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0LCBwLCBhO1xyXG4gICAgICAgICAgICBmb3IgKHQgaW4gcGxheUJveCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChwIGluIHBsYXlCb3hbdF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGEgaW4gcGxheUJveFt0XVtwXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5Qm94W3RdW3BdW2FdLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/plIDmr4HliqjnlLvpn7PpopFcclxuICAgICAgICBjbGVhckNvbnRlbnRBdWRpbzogZnVuY3Rpb24ocGFnZUlkKSB7XHJcbiAgICAgICAgICAgIGlmICghcGxheUJveFtBTklNQVRFXSB8fCAhcGxheUJveFtBTklNQVRFXVtwYWdlSWRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBsYXlPYmogPSBwbGF5Qm94W0FOSU1BVEVdW3BhZ2VJZF07XHJcbiAgICAgICAgICAgIGlmIChwbGF5T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHBsYXlPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5T2JqW2ldLmVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwbGF5Qm94W0FOSU1BVEVdW3BhZ2VJZF1baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+a4heeQhumfs+mikVxyXG4gICAgICAgIGNsZWFyQXVkaW86IGZ1bmN0aW9uKHBhZ2VJZCkge1xyXG4gICAgICAgICAgICBpZiAocGFnZUlkKSB7IC8v5aaC5p6c5Y+q6Lez5qe95YWz6Zet5Yqo55S76Z+z6aKRXHJcbiAgICAgICAgICAgICAgICBvdXQuY2xlYXJDb250ZW50QXVkaW8ocGFnZUlkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUF1ZGlvKCk7IC8v5aSa5Zy65pmv5qih5byPLOS4jeWkhOeQhui3qOmhtemdolxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuXHJcblxyXG5YdXQuQXVkaW9NYW5hZ2VyID0gQXVkaW9NYW5hZ2VyKCk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgQXVkaW9NYW5hZ2VyXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9hdWRpby9tYW5hZ2VyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 32 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 音频字幕\r\n * @param  {[type]} global [description]\r\n * @return {[type]}        [description]\r\n */\n//字幕检测时间\nvar Interval = 50;\n\nvar getStyles = function getStyles(elem, name) {\n    var styles = elem.ownerDocument.defaultView.getComputedStyle(elem, null);\n    return styles.getPropertyValue(name);\n};\n\n/**\r\n * 字幕类\r\n * audio  音频实例\r\n * options 参数\r\n */\nfunction Subtitle(audio, options, controlDoms) {\n\n    var visibility;\n    this.audio = audio;\n    this.options = options;\n    this.parents = controlDoms.parents;\n    this.ancestors = controlDoms.ancestors;\n\n    this.timer = 0;\n    //缓存创建的div节点\n    this.cacheCreateDivs = {};\n\n    //保存原始的属性\n    var orgAncestorVisibility = this.orgAncestorVisibility = {};\n    _.each(this.ancestors, function (node, cid) {\n        visibility = getStyles(node, 'visibility');\n        if (visibility) {\n            orgAncestorVisibility[cid] = visibility;\n        }\n    });\n\n    //去重记录\n    this.recordRepart = {};\n    //phonegap getCurrentPosition得到的音频播放位置不从0开始 记录起始位置\n    this.changeValue = 0;\n\n    //快速处理匹配数据\n    var checkData = {};\n    _.each(options.subtitles, function (data) {\n        checkData[data.start + '-start'] = data;\n        checkData[data.end + '-end'] = data;\n    });\n    this.createSubtitle(checkData);\n}\n\nSubtitle.prototype = {\n    /**\r\n     * 运行字幕\r\n     * @return {[type]}\r\n     */\n    createSubtitle: function createSubtitle(checkData) {\n        var self = this,\n            audio = this.audio,\n            options = this.options;\n\n        //准备创建字幕\n        function createAction(audioTime) {\n            _.each(checkData, function (data, key) {\n                var match = key.split('-');\n                //创建动作\n                self.action(match[0], audioTime, match[1], data);\n            });\n            self.createSubtitle(checkData);\n        }\n\n        function JudgePlat() {\n            var audioTime;\n            //phonegap\n            if (audio.getCurrentPosition) {\n                audio.getCurrentPosition(function (position) {\n                    position = position * 1000;\n                    if (!self.changeValue) {\n                        self.changeValue = position;\n                    }\n                    position -= self.changeValue;\n                    if (position > -1) {\n                        audioTime = Math.round(position);\n                    }\n                    createAction(audioTime);\n                }, function (e) {\n                    console.log(\"error:\" + e);\n                    //出错继续检测\n                    self.createSubtitle(checkData);\n                });\n            } else if (audio.expansionCurrentPosition) {\n                //扩充的对象\n                audioTime = Math.round(audio.expansionCurrentPosition() * 1000);\n                createAction(audioTime);\n            } else {\n                //html5\n                audioTime = Math.round(audio.currentTime * 1000);\n                createAction(audioTime);\n            }\n        }\n\n        self.timer = setTimeout(function () {\n            JudgePlat();\n        }, Interval);\n    },\n\n    //执行动作\n    //创建文本框\n    //显示/隐藏\n    action: function action(currentTime, audioTime, _action, data) {\n        if (audioTime > currentTime - Interval && audioTime < currentTime + Interval) {\n            //创建\n            if (!this.recordRepart[data.start] && _action === 'start') {\n                this.recordRepart[data.start] = true;\n                //创建字幕dom\n                this.createDom(data);\n\n                //如果是一段字幕结束处理\n            } else if (!this.recordRepart[data.end] && _action === 'end') {\n                    this.recordRepart[data.end] = true;\n                    // //隐藏\n                    var ancestorNode = this.ancestors[data.id];\n                    if (ancestorNode) {\n                        ancestorNode.style.visibility = \"hidden\";\n                    }\n                }\n        }\n    },\n\n    createDom: function createDom(data) {\n\n        //屏幕分辨率\n        var proportion = Xut.config.proportion;\n        var proportionWidth = proportion.width;\n        var proportionHeight = proportion.height;\n        var screenWidth = Xut.config.screenSize.width;\n        var screenHeight = Xut.config.screenSize.height;\n\n        var cid = data.id;\n        var parentNode = this.parents[cid];\n        var ancestorNode = this.ancestors[cid];\n        var preDiv = this.cacheCreateDivs[cid];\n        var preP = preDiv && preDiv.children[0];\n\n        //缩放\n        var sTop = data.top * proportion.top;\n        var sLeft = data.left * proportion.left;\n        var sHeight = data.height * proportion.height;\n        var sWidth = data.width * proportion.width;\n\n        //转换行高\n        var sLineHeight = data.lineHeight ? data.lineHeight : '100%';\n\n        //公用同一个contengid,已经存在\n        if (preDiv) {\n            createContent(preDiv, preP, data);\n        } else {\n            //创建父元素与子元素\n            var createDiv = document.createElement('div');\n            var createP = document.createElement('p');\n            //设置样式\n            createContent(createDiv, createP, data);\n            createDiv.appendChild(createP); //添加到指定的父元素 \n\n            parentNode.appendChild(createDiv);\n\n            //保存引用\n            this.cacheCreateDivs[cid] = createDiv;\n        }\n\n        //创建内容\n        function createContent(parent, p, data) {\n            createDivStyle(parent, data); //设置div\n            createPStyle(p, data);\n        }\n\n        //设置父容器div 字体颜色，大小，类型，位置，文本水平、垂直居中\n        function createDivStyle(parent, data) {\n            var cssText = 'position       :absolute; ' + 'display        :table;' + 'vertical-align :center;' + 'top            :{0}px;' + 'left           :{1}px;' + 'height         :{2}px;' + 'width          :{3}px;';\n\n            parent.style.cssText = String.format(cssText, sTop, sLeft, sHeight, sWidth);\n        }\n\n        //内容元素的样式\n        function createPStyle(p, data) {\n\n            var cssText = ' text-align     :center;' + ' display        :table-cell;' + ' vertical-align :middle;' + ' color          :{0};' + ' font-family    :{1};' + ' font-bold      :{2};' + ' font-size      :{3}px;' + ' line-height    :{4}%';\n\n            //设置字体间距\n            p.style.cssText = String.format(cssText, data.fontColor, data.fontName, data.fontBold, data.fontSize * proportionWidth, sLineHeight);\n            //设置文字内容\n            p.innerHTML = data.title;\n        }\n\n        //操作最外层的content节点\n        if (ancestorNode) {\n            var ancestorNodeValue = getStyles(ancestorNode, 'visibility');\n            if (ancestorNodeValue != 'visible') {\n                ancestorNode.style.visibility = 'visible';\n            }\n        }\n    },\n\n    /**\r\n     * 清理音频\r\n     * @return {[type]}\r\n     */\n    destroy: function destroy() {\n        var self = this;\n        _.each(this.cacheCreateDivs, function (node) {\n            node.parentNode.removeChild(node);\n        });\n        //恢复初始状态\n        _.each(this.ancestors, function (node, id) {\n            var orgValue = self.orgAncestorVisibility[id];\n            var currValue = getStyles(node, 'visibility');\n            if (currValue != orgValue) {\n                node.style.visibility = orgValue;\n            }\n        });\n        this.ancestors = null;\n        this.cacheCreateDivs = null;\n        this.changeValue = 0;\n        this.parents = null;\n        if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = 0;\n        }\n    }\n\n};\n\nexports.Subtitle = Subtitle;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9hdWRpby9zdWJ0aXRsZS5qcz9hMmVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBTUEsSUFBSSxXQUFXLEVBQWY7O0FBRUEsSUFBSSxZQUFZLFNBQVosU0FBWSxDQUFTLElBQVQsRUFBZSxJQUFmLEVBQXFCO0FBQ2pDLFFBQUksU0FBUyxLQUFLLGFBQUwsQ0FBbUIsV0FBbkIsQ0FBK0IsZ0JBQS9CLENBQWdELElBQWhELEVBQXNELElBQXRELENBQWI7QUFDQSxXQUFPLE9BQU8sZ0JBQVAsQ0FBd0IsSUFBeEIsQ0FBUDtBQUNILENBSEQ7Ozs7Ozs7QUFVQSxTQUFTLFFBQVQsQ0FBa0IsS0FBbEIsRUFBeUIsT0FBekIsRUFBa0MsV0FBbEMsRUFBK0M7O0FBRTNDLFFBQUksVUFBSjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxTQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsU0FBSyxPQUFMLEdBQWUsWUFBWSxPQUEzQjtBQUNBLFNBQUssU0FBTCxHQUFpQixZQUFZLFNBQTdCOztBQUVBLFNBQUssS0FBTCxHQUFhLENBQWI7O0FBRUEsU0FBSyxlQUFMLEdBQXVCLEVBQXZCOzs7QUFHQSxRQUFJLHdCQUF3QixLQUFLLHFCQUFMLEdBQTZCLEVBQXpEO0FBQ0EsTUFBRSxJQUFGLENBQU8sS0FBSyxTQUFaLEVBQXVCLFVBQVMsSUFBVCxFQUFlLEdBQWYsRUFBb0I7QUFDdkMscUJBQWEsVUFBVSxJQUFWLEVBQWdCLFlBQWhCLENBQWI7QUFDQSxZQUFJLFVBQUosRUFBZ0I7QUFDWixrQ0FBc0IsR0FBdEIsSUFBNkIsVUFBN0I7QUFDSDtBQUNKLEtBTEQ7OztBQVFBLFNBQUssWUFBTCxHQUFvQixFQUFwQjs7QUFFQSxTQUFLLFdBQUwsR0FBbUIsQ0FBbkI7OztBQUdBLFFBQUksWUFBWSxFQUFoQjtBQUNBLE1BQUUsSUFBRixDQUFPLFFBQVEsU0FBZixFQUEwQixVQUFTLElBQVQsRUFB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QUFGLENBQU8sS0FBSyxlQUFaLEVBQTZCLFVBQVMsSUFBVCxFQUFlO0FBQ3BDLGlCQUFLLFVBQUwsQ0FBZ0IsV0FBaEIsQ0FBNEIsSUFBNUI7QUFDSCxTQUZMOztBQUlBLFVBQUUsSUFBRixDQUFPLEtBQUssU0FBWixFQUF1QixVQUFTLElBQVQsRUFBZSxFQUFmLEVBQW1CO0FBQ3RDLGdCQUFJLFdBQVcsS0FBSyxxQkFBTCxDQUEyQixFQUEzQixDQUFmO0FBQ0EsZ0JBQUksWUFBWSxVQUFVLElBQVYsRUFBZ0IsWUFBaEIsQ0FBaEI7QUFDQSxnQkFBSSxhQUFhLFFBQWpCLEVBQTJCO0FBQ3ZCLHFCQUFLLEtBQUwsQ0FBVyxVQUFYLEdBQXdCLFFBQXhCO0FBQ0g7QUFDSixTQU5EO0FBT0EsYUFBSyxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsYUFBSyxlQUFMLEdBQXVCLElBQXZCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLENBQW5CO0FBQ0EsYUFBSyxPQUFMLEdBQWUsSUFBZjtBQUNBLFlBQUksS0FBSyxLQUFULEVBQWdCO0FBQ1oseUJBQWEsS0FBSyxLQUFsQjtBQUNBLGlCQUFLLEtBQUwsR0FBYSxDQUFiO0FBQ0g7QUFDSjs7QUE5TWdCLENBQXJCOztRQW9OSSxRLEdBQUEsUSIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpn7PpopHlrZfluZVcclxuICogQHBhcmFtICB7W3R5cGVdfSBnbG9iYWwgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG4vL+Wtl+W5leajgOa1i+aXtumXtFxyXG52YXIgSW50ZXJ2YWwgPSA1MDtcclxuXHJcbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbihlbGVtLCBuYW1lKSB7XHJcbiAgICB2YXIgc3R5bGVzID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCk7XHJcbiAgICByZXR1cm4gc3R5bGVzLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XHJcbn07XHJcblxyXG4vKipcclxuICog5a2X5bmV57G7XHJcbiAqIGF1ZGlvICDpn7PpopHlrp7kvotcclxuICogb3B0aW9ucyDlj4LmlbBcclxuICovXHJcbmZ1bmN0aW9uIFN1YnRpdGxlKGF1ZGlvLCBvcHRpb25zLCBjb250cm9sRG9tcykge1xyXG5cclxuICAgIHZhciB2aXNpYmlsaXR5O1xyXG4gICAgdGhpcy5hdWRpbyA9IGF1ZGlvO1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIHRoaXMucGFyZW50cyA9IGNvbnRyb2xEb21zLnBhcmVudHM7XHJcbiAgICB0aGlzLmFuY2VzdG9ycyA9IGNvbnRyb2xEb21zLmFuY2VzdG9ycztcclxuXHJcbiAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgIC8v57yT5a2Y5Yib5bu655qEZGl26IqC54K5XHJcbiAgICB0aGlzLmNhY2hlQ3JlYXRlRGl2cyA9IHt9O1xyXG5cclxuICAgIC8v5L+d5a2Y5Y6f5aeL55qE5bGe5oCnXHJcbiAgICB2YXIgb3JnQW5jZXN0b3JWaXNpYmlsaXR5ID0gdGhpcy5vcmdBbmNlc3RvclZpc2liaWxpdHkgPSB7fTtcclxuICAgIF8uZWFjaCh0aGlzLmFuY2VzdG9ycywgZnVuY3Rpb24obm9kZSwgY2lkKSB7XHJcbiAgICAgICAgdmlzaWJpbGl0eSA9IGdldFN0eWxlcyhub2RlLCAndmlzaWJpbGl0eScpO1xyXG4gICAgICAgIGlmICh2aXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIG9yZ0FuY2VzdG9yVmlzaWJpbGl0eVtjaWRdID0gdmlzaWJpbGl0eTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8v5Y676YeN6K6w5b2VXHJcbiAgICB0aGlzLnJlY29yZFJlcGFydCA9IHt9O1xyXG4gICAgLy9waG9uZWdhcCBnZXRDdXJyZW50UG9zaXRpb27lvpfliLDnmoTpn7PpopHmkq3mlL7kvY3nva7kuI3ku44w5byA5aeLIOiusOW9lei1t+Wni+S9jee9rlxyXG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSA9IDA7XHJcblxyXG4gICAgLy/lv6vpgJ/lpITnkIbljLnphY3mlbDmja5cclxuICAgIHZhciBjaGVja0RhdGEgPSB7fTtcclxuICAgIF8uZWFjaChvcHRpb25zLnN1YnRpdGxlcywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGNoZWNrRGF0YVtkYXRhLnN0YXJ0ICsgJy1zdGFydCddID0gZGF0YTtcclxuICAgICAgICBjaGVja0RhdGFbZGF0YS5lbmQgKyAnLWVuZCddID0gZGF0YTtcclxuICAgIH0pXHJcbiAgICB0aGlzLmNyZWF0ZVN1YnRpdGxlKGNoZWNrRGF0YSk7XHJcbn1cclxuXHJcblN1YnRpdGxlLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICog6L+Q6KGM5a2X5bmVXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVN1YnRpdGxlOiBmdW5jdGlvbihjaGVja0RhdGEpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIGF1ZGlvID0gdGhpcy5hdWRpbyxcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcbiAgICAgICAgLy/lh4blpIfliJvlu7rlrZfluZVcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVBY3Rpb24oYXVkaW9UaW1lKSB7XHJcbiAgICAgICAgICAgIF8uZWFjaChjaGVja0RhdGEsIGZ1bmN0aW9uKGRhdGEsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0ga2V5LnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICAvL+WIm+W7uuWKqOS9nFxyXG4gICAgICAgICAgICAgICAgc2VsZi5hY3Rpb24obWF0Y2hbMF0sIGF1ZGlvVGltZSwgbWF0Y2hbMV0sIGRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVN1YnRpdGxlKGNoZWNrRGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBKdWRnZVBsYXQoKSB7XHJcbiAgICAgICAgICAgIHZhciBhdWRpb1RpbWU7XHJcbiAgICAgICAgICAgIC8vcGhvbmVnYXBcclxuICAgICAgICAgICAgaWYgKGF1ZGlvLmdldEN1cnJlbnRQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYXVkaW8uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuY2hhbmdlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hhbmdlVmFsdWUgPSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIC09IHNlbGYuY2hhbmdlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1RpbWUgPSBNYXRoLnJvdW5kKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVBY3Rpb24oYXVkaW9UaW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yOlwiICsgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Ye66ZSZ57un57ut5qOA5rWLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlU3VidGl0bGUoY2hlY2tEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhdWRpby5leHBhbnNpb25DdXJyZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8v5omp5YWF55qE5a+56LGhXHJcbiAgICAgICAgICAgICAgICBhdWRpb1RpbWUgPSBNYXRoLnJvdW5kKGF1ZGlvLmV4cGFuc2lvbkN1cnJlbnRQb3NpdGlvbigpICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBY3Rpb24oYXVkaW9UaW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vaHRtbDVcclxuICAgICAgICAgICAgICAgIGF1ZGlvVGltZSA9IE1hdGgucm91bmQoYXVkaW8uY3VycmVudFRpbWUgKiAxMDAwKTtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUFjdGlvbihhdWRpb1RpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgSnVkZ2VQbGF0KCk7XHJcbiAgICAgICAgfSwgSW50ZXJ2YWwpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+aJp+ihjOWKqOS9nFxyXG4gICAgLy/liJvlu7rmlofmnKzmoYZcclxuICAgIC8v5pi+56S6L+makOiXj1xyXG4gICAgYWN0aW9uOiBmdW5jdGlvbihjdXJyZW50VGltZSwgYXVkaW9UaW1lLCBhY3Rpb24sIGRhdGEpIHtcclxuICAgICAgICBpZiAoYXVkaW9UaW1lID4gY3VycmVudFRpbWUgLSBJbnRlcnZhbCAmJiBhdWRpb1RpbWUgPCBjdXJyZW50VGltZSArIEludGVydmFsKSB7XHJcbiAgICAgICAgICAgIC8v5Yib5bu6XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvcmRSZXBhcnRbZGF0YS5zdGFydF0gJiYgYWN0aW9uID09PSAnc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZFJlcGFydFtkYXRhLnN0YXJ0XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvL+WIm+W7uuWtl+W5lWRvbVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEb20oZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzmmK/kuIDmrrXlrZfluZXnu5PmnZ/lpITnkIZcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5yZWNvcmRSZXBhcnRbZGF0YS5lbmRdICYmIGFjdGlvbiA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkUmVwYXJ0W2RhdGEuZW5kXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyAvL+makOiXj1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuY2VzdG9yTm9kZSA9IHRoaXMuYW5jZXN0b3JzW2RhdGEuaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2VzdG9yTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yTm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBjcmVhdGVEb206IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgICAgICAgLy/lsY/luZXliIbovqjnjodcclxuICAgICAgICB2YXIgcHJvcG9ydGlvbiA9IFh1dC5jb25maWcucHJvcG9ydGlvbjtcclxuICAgICAgICB2YXIgcHJvcG9ydGlvbldpZHRoID0gcHJvcG9ydGlvbi53aWR0aDtcclxuICAgICAgICB2YXIgcHJvcG9ydGlvbkhlaWdodCA9IHByb3BvcnRpb24uaGVpZ2h0O1xyXG4gICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IFh1dC5jb25maWcuc2NyZWVuU2l6ZS53aWR0aDtcclxuICAgICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gWHV0LmNvbmZpZy5zY3JlZW5TaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGNpZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSB0aGlzLnBhcmVudHNbY2lkXTtcclxuICAgICAgICB2YXIgYW5jZXN0b3JOb2RlID0gdGhpcy5hbmNlc3RvcnNbY2lkXTtcclxuICAgICAgICB2YXIgcHJlRGl2ID0gdGhpcy5jYWNoZUNyZWF0ZURpdnNbY2lkXTtcclxuICAgICAgICB2YXIgcHJlUCA9IHByZURpdiAmJiBwcmVEaXYuY2hpbGRyZW5bMF07XHJcblxyXG4gICAgICAgIC8v57yp5pS+XHJcbiAgICAgICAgdmFyIHNUb3AgPSBkYXRhLnRvcCAqIHByb3BvcnRpb24udG9wO1xyXG4gICAgICAgIHZhciBzTGVmdCA9IGRhdGEubGVmdCAqIHByb3BvcnRpb24ubGVmdDtcclxuICAgICAgICB2YXIgc0hlaWdodCA9IGRhdGEuaGVpZ2h0ICogcHJvcG9ydGlvbi5oZWlnaHQ7XHJcbiAgICAgICAgdmFyIHNXaWR0aCA9IGRhdGEud2lkdGggKiBwcm9wb3J0aW9uLndpZHRoO1xyXG5cclxuICAgICAgICAvL+i9rOaNouihjOmrmFxyXG4gICAgICAgIHZhciBzTGluZUhlaWdodCA9IGRhdGEubGluZUhlaWdodCA/IGRhdGEubGluZUhlaWdodCA6ICcxMDAlJztcclxuXHJcbiAgICAgICAgLy/lhaznlKjlkIzkuIDkuKpjb250ZW5naWQs5bey57uP5a2Y5ZyoXHJcbiAgICAgICAgaWYgKHByZURpdikge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250ZW50KHByZURpdiwgcHJlUCwgZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/liJvlu7rniLblhYPntKDkuI7lrZDlhYPntKBcclxuICAgICAgICAgICAgdmFyIGNyZWF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB2YXIgY3JlYXRlUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICAgICAgLy/orr7nva7moLflvI9cclxuICAgICAgICAgICAgY3JlYXRlQ29udGVudChjcmVhdGVEaXYsIGNyZWF0ZVAsIGRhdGEpO1xyXG4gICAgICAgICAgICBjcmVhdGVEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlUCkgLy/mt7vliqDliLDmjIflrprnmoTniLblhYPntKAgIFxyXG5cclxuICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYpO1xyXG5cclxuICAgICAgICAgICAgLy/kv53lrZjlvJXnlKhcclxuICAgICAgICAgICAgdGhpcy5jYWNoZUNyZWF0ZURpdnNbY2lkXSA9IGNyZWF0ZURpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Yib5bu65YaF5a65XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29udGVudChwYXJlbnQsIHAsIGRhdGEpIHtcclxuICAgICAgICAgICAgY3JlYXRlRGl2U3R5bGUocGFyZW50LCBkYXRhKSAvL+iuvue9rmRpdlxyXG4gICAgICAgICAgICBjcmVhdGVQU3R5bGUocCwgZGF0YSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v6K6+572u54i25a655ZmoZGl2IOWtl+S9k+minOiJsu+8jOWkp+Wwj++8jOexu+Wei++8jOS9jee9ru+8jOaWh+acrOawtOW5s+OAgeWeguebtOWxheS4rVxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURpdlN0eWxlKHBhcmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY3NzVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAncG9zaXRpb24gICAgICAgOmFic29sdXRlOyAnICtcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5ICAgICAgICA6dGFibGU7JyArXHJcbiAgICAgICAgICAgICAgICAndmVydGljYWwtYWxpZ24gOmNlbnRlcjsnICtcclxuICAgICAgICAgICAgICAgICd0b3AgICAgICAgICAgICA6ezB9cHg7JyArXHJcbiAgICAgICAgICAgICAgICAnbGVmdCAgICAgICAgICAgOnsxfXB4OycgK1xyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCAgICAgICAgIDp7Mn1weDsnICtcclxuICAgICAgICAgICAgICAgICd3aWR0aCAgICAgICAgICA6ezN9cHg7J1xyXG5cclxuICAgICAgICAgICAgcGFyZW50LnN0eWxlLmNzc1RleHQgPSBTdHJpbmcuZm9ybWF0KGNzc1RleHQsXHJcbiAgICAgICAgICAgICAgICBzVG9wLFxyXG4gICAgICAgICAgICAgICAgc0xlZnQsXHJcbiAgICAgICAgICAgICAgICBzSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgc1dpZHRoXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5YaF5a655YWD57Sg55qE5qC35byPXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUFN0eWxlKHAsIGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjc3NUZXh0ID1cclxuICAgICAgICAgICAgICAgICcgdGV4dC1hbGlnbiAgICAgOmNlbnRlcjsnICtcclxuICAgICAgICAgICAgICAgICcgZGlzcGxheSAgICAgICAgOnRhYmxlLWNlbGw7JyArXHJcbiAgICAgICAgICAgICAgICAnIHZlcnRpY2FsLWFsaWduIDptaWRkbGU7JyArXHJcbiAgICAgICAgICAgICAgICAnIGNvbG9yICAgICAgICAgIDp7MH07JyArXHJcbiAgICAgICAgICAgICAgICAnIGZvbnQtZmFtaWx5ICAgIDp7MX07JyArXHJcbiAgICAgICAgICAgICAgICAnIGZvbnQtYm9sZCAgICAgIDp7Mn07JyArXHJcbiAgICAgICAgICAgICAgICAnIGZvbnQtc2l6ZSAgICAgIDp7M31weDsnICtcclxuICAgICAgICAgICAgICAgICcgbGluZS1oZWlnaHQgICAgOns0fSUnO1xyXG5cclxuICAgICAgICAgICAgLy/orr7nva7lrZfkvZPpl7Tot51cclxuICAgICAgICAgICAgcC5zdHlsZS5jc3NUZXh0ID0gU3RyaW5nLmZvcm1hdChcclxuICAgICAgICAgICAgICAgICAgICBjc3NUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZm9udENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZm9udE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb250Qm9sZCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZvbnRTaXplICogcHJvcG9ydGlvbldpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHNMaW5lSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAvL+iuvue9ruaWh+Wtl+WGheWuuVxyXG4gICAgICAgICAgICBwLmlubmVySFRNTCA9IGRhdGEudGl0bGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy/mk43kvZzmnIDlpJblsYLnmoRjb250ZW506IqC54K5XHJcbiAgICAgICAgaWYgKGFuY2VzdG9yTm9kZSkge1xyXG4gICAgICAgICAgICB2YXIgYW5jZXN0b3JOb2RlVmFsdWUgPSBnZXRTdHlsZXMoYW5jZXN0b3JOb2RlLCAndmlzaWJpbGl0eScpXHJcbiAgICAgICAgICAgIGlmIChhbmNlc3Rvck5vZGVWYWx1ZSAhPSAndmlzaWJsZScpIHtcclxuICAgICAgICAgICAgICAgIGFuY2VzdG9yTm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOa4heeQhumfs+mikVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgXy5lYWNoKHRoaXMuY2FjaGVDcmVhdGVEaXZzLCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy/mgaLlpI3liJ3lp4vnirbmgIFcclxuICAgICAgICBfLmVhY2godGhpcy5hbmNlc3RvcnMsIGZ1bmN0aW9uKG5vZGUsIGlkKSB7XHJcbiAgICAgICAgICAgIHZhciBvcmdWYWx1ZSA9IHNlbGYub3JnQW5jZXN0b3JWaXNpYmlsaXR5W2lkXTtcclxuICAgICAgICAgICAgdmFyIGN1cnJWYWx1ZSA9IGdldFN0eWxlcyhub2RlLCAndmlzaWJpbGl0eScpXHJcbiAgICAgICAgICAgIGlmIChjdXJyVmFsdWUgIT0gb3JnVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUudmlzaWJpbGl0eSA9IG9yZ1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmFuY2VzdG9ycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYWNoZUNyZWF0ZURpdnMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUgPSAwO1xyXG4gICAgICAgIHRoaXMucGFyZW50cyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpXHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgU3VidGl0bGVcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2F1ZGlvL3N1YnRpdGxlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 33 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.activityClass = undefined;\n\nvar _iscroll = __webpack_require__(13);\n\nvar _event = __webpack_require__(6);\n\nvar _mix = __webpack_require__(40);\n\nvar _child = __webpack_require__(36);\n\nvar _searchbar = __webpack_require__(44);\n\nvar _bookmark = __webpack_require__(35);\n\nvar _htmlbox = __webpack_require__(39);\n\nvar _event2 = __webpack_require__(46);\n\nvar _nexttask = __webpack_require__(41);\n\n/**\r\n * activity触发器类\r\n * @param  {[type]} data [description]\r\n * @return {[type]}      [description]\r\n */\n\n\n//pixi事件\n\n\n//书签\n\n\n//content自对象\n\n\n//事件\nfunction activityClass(data) {\n\n    var self = this;\n\n    _.extend(this, data);\n\n    /**\r\n     * 2016.4.11\r\n     * 因为canvas模式导致\r\n     * 任务必须等待context上下创建\r\n     * 完成后执行\r\n     * 1 事件\r\n     * 2 预执行\r\n     * @type {Array}\r\n     */\n    this.nextTask = (0, _nexttask.createNextTask)(this.monitorComplete);\n\n    /**\r\n     * 初始化自定义事件\r\n     */\n    this.createEventRelated();\n\n    /**\r\n     * 为分段处理,记录需要加载的分段数据\r\n     * @type {Array}\r\n     */\n    this.waitCreateContent = [];\n\n    /**\r\n     * 保存子对象（PPT辅助对象）\r\n     * 1 动画作用域\r\n     * 2 视觉差作用域\r\n     * @type {Array}\r\n     */\n    this.abstractContents = (0, _child.Child)(this);\n\n    /**\r\n     * 处理html文本框\r\n     * 2016.1.6\r\n     */\n    this.htmlTextBox();\n\n    /**\r\n     * 注册用户自定义事件\r\n     * dom\r\n     * canvas\r\n     */\n    this.registerEvent();\n\n    /**\r\n     * 构建用户行为\r\n     */\n    this.createActions();\n\n    /**\r\n     * 2016.2.26\r\n     * 修复妙妙学\r\n     * 妙妙客户端处理\r\n     * 点击效果的音频处理\r\n     * @type {Array}\r\n     */\n    this._fixAudio = [];\n\n    /**\r\n     * 是否正在等待创建的子对象\r\n     * 如果创建比流程先执行完毕\r\n     * @return {[type]}   \r\n     */\n    if (this.nextTask.context.wait) {\n        this.monitorComplete();\n        return this;\n    }\n\n    /**\r\n     * 等待创建执行\r\n     * @param  {[type]} this.nextTask.context.length() \r\n     * @return {[type]}                                \r\n     */\n    if (this.nextTask.context.length()) {\n        this.nextTask.context.wait = true;\n        return this;\n    }\n\n    this.monitorComplete();\n}\n\n//任务\n\n\n//文本框\n\n\n//搜索\n\n\n//混入content\n/*******************************************\r\n *   文本类\r\n *     处理:\r\n *       1 异步转同步deferred处理\r\n *       2 dom结循环创建\r\n *       创建的四种行为\r\n *          1 默认创建结构绑定事件\r\n *          2 用于预先创建activityMode模式,分发动画与事件\r\n *          3 递归创建,关联子热点\r\n *          4 ppt文字动画,不创建主体结构,递归子热点\r\n *                  A 递归处理PPT动画\r\n *                  B 处理同步音频\r\n *                                      *\r\n ******************************************/\n\n//卷滚\n\n\nvar activitProto = activityClass.prototype;\n\n/*********************************************************************\r\n *                 代码初始化\r\n *                初始基本参数\r\n *                构建动画关系作用域\r\n *                绑定基本事件\r\n **********************************************************************/\n\n/**\r\n * 检测是HTML文本框处理\r\n * @return {[type]} [description]\r\n */\nactivitProto.htmlTextBox = function () {\n    var self = this;\n    var eventData = this.eventData;\n    var relatedData = this.relatedData;\n    var contentHtmlBoxIds = relatedData.contentHtmlBoxIds;\n    var contentId;\n    var contentName;\n    var eventElement;\n    //文本框实例对象\n    //允许一个activity有多个\n    this.htmlBoxInstance = [];\n    //创建文本框对象\n    if (contentHtmlBoxIds.length && relatedData.contentDas) {\n        _.each(relatedData.contentDas, function (cds) {\n            if (~contentHtmlBoxIds.indexOf(cds._id)) {\n                contentId = cds._id;\n                contentName = self._makePrefix('Content', self.pid, contentId);\n                //找到对应绑定事件的元素\n                eventElement = self._findContentElement(contentName);\n                if (!eventElement.attr(\"data-htmlbox\")) {\n                    //构建html文本框对象\n                    self.htmlBoxInstance.push(new _htmlbox.HtmlBox(contentId, eventElement));\n                    //增加htmlbox标志去重\n                    //多个actictiy共享问题\n                    eventElement.attr(\"data-htmlbox\", \"true\");\n                }\n            }\n        });\n    }\n};\n\n/**\r\n * 保证正确遍历\r\n * @return {[type]} [description]\r\n */\nactivitProto.eachAssistContents = function (callback) {\n    _.each(this.abstractContents, function (scope) {\n        //保存只能处理动画\n        //scope.processType === 'animation' || scope.processType === 'both')\n        callback.call(this, scope);\n    }, this);\n};\n\n/**\r\n * 初始化PPT动画与音频\r\n * @return {[type]} [description]\r\n */\nactivitProto.createActions = function () {\n\n    var pageId = this.relatedData.pageId,\n        rootNode = this.rootNode,\n        collectorHooks = this.relatedCallback.contentsHooks,\n        pageType = this.pageType;\n\n    this.eachAssistContents(function (scope) {\n\n        var context, type, id, isRreRun, parameter;\n\n        //针对必须创建\n        if (!(context = scope.$contentProcess)) {\n            return;\n        };\n\n        //如果是视觉差对象，也需要实现收集器\n        if (scope.processType === 'parallax') {\n            collectorHooks(scope.pid, scope.id, scope);\n            return;\n        }\n\n        //如果是动画才处理\n        id = scope.id, isRreRun = scope.isRreRun, parameter = scope.getParameter();\n\n        //如果不是预生成\n        //注册动画事件\n        if (isRreRun === undefined) {\n            scope.init(id, context, rootNode, pageId, parameter, pageType);\n        }\n\n        //绑定DOM一些属性\n        this._repeatBind(id, context, isRreRun, scope, collectorHooks, scope.canvasMode);\n    });\n};\n\n/**\r\n * 检测创建完成度\r\n */\nactivitProto._checkCreate = function (callback) {\n    var waitCreateContent = this.waitCreateContent;\n    if (waitCreateContent && waitCreateContent.length) {\n        (0, _mix.Mix)(this, waitCreateContent, callback);\n    } else {\n        callback();\n    }\n};\n\n/**\r\n * 运行动画\r\n * @param  {[type]} outComplete [动画回调]\r\n * @return {[type]}             [description]\r\n * evenyClick 每次都算有效点击\r\n */\nactivitProto.runEffects = function (outComplete, evenyClick) {\n\n    var self = this;\n    var pageId = this.relatedData.pageId;\n\n    if (evenyClick) {\n        self.preventRepeat = false;\n    }\n\n    //防止重复点击\n    if (self.preventRepeat) {\n        return false;\n    }\n\n    self.preventRepeat = true;\n\n    //如果没有运行动画\n    if (!self.seed.animation) {\n        self.preventRepeat = false;\n        self.relevantOperation();\n        return;\n    }\n\n    //创建的无行为content\n    var partContentRelated = self.relatedData.partContentRelated;\n    var closeAnim;\n\n    //制作作用于内动画完成\n    //等待动画完毕后执行动作or场景切换\n    var captureAnimComplete = self.captureAnimComplete = function (counts) {\n        return function (scope) {\n            //动画结束,删除这个hack\n            scope && scope.$contentProcess && scope.$contentProcess.removeProp && scope.$contentProcess.removeProp('animOffset');\n\n            //如果快速翻页\n            //运行动画的时候，发现不是可视页面\n            //需要关闭这些动画 \n            closeAnim = pageId != Xut.Presentation.GetPageId();\n\n            if (closeAnim && scope) {\n                scope.stop && scope.stop(pageId);\n                scope.reset && scope.reset();\n            }\n\n            //捕获动画状态\n            if (counts === 1) {\n                if (closeAnim) {\n                    //复位动画\n                    self.resetAloneAnim();\n                }\n                self.preventRepeat = false;\n                self.relevantOperation();\n                outComplete && outComplete();\n                self.captureAnimComplete = null;\n            } else {\n                --counts;\n            }\n        };\n    }(this.abstractContents.length);\n\n    /**\r\n     * 如果是preRun处理\r\n     * @return {Boolean} [description]\r\n     */\n    function isRreRunPocess(scope) {\n        //针对空跳过处理\n        if (partContentRelated && partContentRelated.length && -1 !== partContentRelated.indexOf(scope.id)) {\n            captureAnimComplete();\n        } else {\n            //必须要修改\n            if (scope.$contentProcess) {\n                if (scope.canvasMode) {\n                    //直接改变元素状态\n                    scope.$contentProcess.visible = scope.isRreRun === 'visible' ? true : false;\n                    self.canvasRelated.oneRender();\n                } else {\n                    //因为执行的顺序问题，动画与页面零件\n                    //isscroll标记控制\n                    if (!scope.$contentProcess.attr('isscroll')) {\n                        scope.$contentProcess.css({\n                            'visibility': scope.isRreRun\n                        });\n                    }\n                }\n            }\n            captureAnimComplete();\n        }\n    }\n\n    /**\r\n     * 检测创建完成度\r\n     * 递归创建\r\n     * @return {[type]}       [description]\r\n     */\n    self._checkCreate(function () {\n        //执行动画\n        self.eachAssistContents(function (scope) {\n            if (scope.isRreRun) {\n                isRreRunPocess(scope);\n            } else {\n\n                //标记动画正在运行\n                scope.$contentProcess && scope.$contentProcess.prop && scope.$contentProcess.prop({\n                    'animOffset': scope.$contentProcess.offset()\n                });\n\n                //ppt动画\n                //ppt音频\n                scope.run(function () {\n                    captureAnimComplete(scope);\n                });\n            }\n        });\n        self.runState = true;\n    });\n};\n\n/**\r\n * 停止动画\r\n * @return {[type]} [description]\r\n */\nactivitProto.stopEffects = function () {\n    var pageId = this.relatedData.pageId;\n    this.runState = false;\n    this.eachAssistContents(function (scope) {\n        !scope.isRreRun && scope.stop && scope.stop(pageId);\n    });\n};\n\n/**\r\n * 处理拖动对象\r\n * @return {[type]} [description]\r\n */\nfunction accessDrop(eventData, callback) {\n    if (eventData && eventData.dragDrop) {\n        callback(eventData.dragDrop);\n    }\n}\n\n/**\r\n * 复位独立动画\r\n * 提供快速翻页复用\r\n * @return {[type]} [description]\r\n */\nactivitProto.resetAloneAnim = function () {\n    //复位拖动对象\n    accessDrop(this.eventData, function (drop) {\n        drop.reset();\n    });\n    //如果是运行canvas模式\n    //停止绘制\n    if (this.canvasRelated.stopRender) {\n        setTimeout(function () {\n            this.canvasRelated.stopRender();\n        }.bind(this), 0);\n    }\n};\n\n/**\r\n * 复位状态\r\n * @return {[type]} [description]\r\n */\nactivitProto.resetAnimation = function () {\n    this.eachAssistContents(function (scope) {\n        !scope.isRreRun && scope.reset && scope.reset(); //ppt动画\n    });\n\n    this.resetAloneAnim();\n};\n\n/**\r\n * 销毁动画\r\n * @param  {[type]} elementCallback [description]\r\n * @return {[type]}                 [description]\r\n */\nactivitProto.destroyEffects = function (elementCallback) {\n    //销毁拖动对象\n    accessDrop(this.eventData, function (drop) {\n        drop.destroy();\n    });\n    this.eachAssistContents(function (scope) {\n        if (scope.destroy) {\n            scope.destroy();\n        }\n        elementCallback && elementCallback(scope);\n    });\n};\n\n/**\r\n * 动画运行之后\r\n * 1 创建一个新场景\r\n * 2 执行跳转到收费提示页面\r\n * 3 触发搜索工具栏\r\n * @return {[type]} [description]\r\n */\nactivitProto.relevantOperation = function () {\n\n    var scenarioInfo, eventContentId;\n\n    //触发事件的content id\n    if (this.eventData) {\n        eventContentId = this.eventData.eventContentId;\n    }\n\n    if (eventContentId) {\n\n        //查找出当前节的所有信息\n        if (scenarioInfo = this.relatedData.seasonRelated[eventContentId]) {\n\n            //如果存在搜索栏触发\n            if (scenarioInfo.SearchBar) {\n                this.createSearchBar();\n                return;\n            }\n\n            //如果存在书签\n            if (scenarioInfo.BookMarks) {\n                this.createBookMark();\n                return;\n            }\n\n            //收费处理\n            if (scenarioInfo.Inapp !== undefined) {\n                if (scenarioInfo.Inapp == 1) {\n                    Xut.Application.HasBuyGood(); //已收费\n                } else {\n                        Xut.Application.BuyGood(); //付费接口\n                    }\n                return;\n            }\n\n            //处理新的场景\n            if (scenarioInfo.seasonId || scenarioInfo.chapterId) {\n                setTimeout(function () {\n                    Xut.View.LoadScenario({\n                        'scenarioId': scenarioInfo.seasonId,\n                        'chapterId': scenarioInfo.chapterId\n                    });\n                }, Xut.fix.audio ? 1000 : 0);\n                return;\n            }\n\n            // console.log('content跳转信息出错',scenarioInfo)\n        }\n    }\n};\n\n/**\r\n * 创建搜索框\r\n * @return {[type]} [description]\r\n */\nactivitProto.createSearchBar = function () {\n    var options = {\n        parent: this.rootNode\n    };\n    if (this.searchBar) {\n        //如果上次只是隐藏则可以恢复\n        this.searchBar.restore();\n    } else {\n        this.searchBar = new _searchbar.SearchBar(options);\n    }\n};\n\n/**\r\n * 创建书签\r\n * @return {[type]} [description]\r\n */\nactivitProto.createBookMark = function () {\n    var element, seasonId, pageId, pageData;\n    if (this.pageType === 'master') {\n        //模板取对应的页面上的数据\n        pageData = Xut.Presentation.GetPageData();\n        element = this.relatedData.floatMaters.container;\n        pageId = pageData._id;\n        seasonId = pageData.seasonId;\n    } else {\n        element = this.rootNode;\n        seasonId = this.relatedData.seasonId;\n        pageId = this.pageId;\n    }\n    var options = {\n        parent: element,\n        seasonId: seasonId,\n        pageId: pageId\n    };\n\n    if (this.bookMark) {\n        //如果上次只是隐藏则可以恢复\n        this.bookMark.restore();\n    } else {\n        this.bookMark = new _bookmark.BookMark(options);\n    }\n};\n\n/*********************************************************************\r\n *\r\n *                      用户自定义接口事件\r\n *                                                                    *\r\n **********************************************************************/\n\n/**\r\n * 构建事件体系\r\n * @return {[type]} [description]\r\n */\nactivitProto.createEventRelated = function () {\n\n    //配置事件节点\n    var eventId,\n        pid,\n        contentName,\n\n    //事件上下文对象\n    eventContext,\n        eventData = this.eventData;\n\n    //如果存在imageIds才处理,单独绑定事件处理\n    if (eventId = eventData.eventContentId) {\n        var domEvent = function domEvent() {\n            pid = this.pid;\n            contentName = this._makePrefix('Content', pid, this.id);\n\n            //找到对应绑定事件的元素\n            eventContext = this._findContentElement(contentName);\n        };\n\n        var canvasEvent = function canvasEvent() {\n            eventContext = {};\n            eventData.type = 'canvas';\n            eventData.canvasMode = true;\n            eventData.domMode = false;\n        };\n\n        //canvas事件\n\n\n        //默认dom模式\n        _.extend(eventData, {\n            'type': 'dom',\n            'domMode': true,\n            'canvasMode': false\n        });\n\n        if (-1 !== this.canvasRelated.cid.indexOf(eventId)) {\n            canvasEvent.call(this);\n        } else {\n            //dom事件\n            domEvent.call(this);\n        }\n\n        eventData.eventContext = eventContext;\n\n        if (eventContext) {\n            //绑定事件加入到content钩子\n            this.relatedCallback.contentsHooks(pid, eventId, {\n                $contentProcess: eventContext,\n                //增加外部判断\n                isBindEventHooks: true,\n                type: eventData.type\n            });\n        } else {\n            /**\r\n             * 针对动态事件处理\r\n             * 快捷方式引用到父对象\r\n             * @type {[type]}\r\n             */\n            eventData.parent = this;\n        }\n    }\n\n    /**\r\n     * 解析出事件类型\r\n     */\n    eventData.eventName = (0, _event.conversionEventType)(eventData.eventType);\n};\n\n/**\r\n * 绑定事件行为\r\n * @return {[type]} [description]\r\n */\nactivitProto.bindEventBehavior = function (callback) {\n    var self = this,\n        eventData = this.eventData,\n        eventName = eventData.eventName,\n        eventContext = eventData.eventContext;\n\n    /**\r\n     * 运行动画\r\n     * @return {[type]} [description]\r\n     */\n    function startRunAnim() {\n        //当前事件对象没有动画的时候才能触发关联动作\n        var animOffset,\n            boundary = 5; //边界值\n\n        if (eventData.domMode && (animOffset = eventContext.prop('animOffset'))) {\n            var originalLeft = animOffset.left;\n            var originalTop = animOffset.top;\n            var newOffset = eventContext.offset();\n            var newLeft = newOffset.left;\n            var newTop = newOffset.top;\n            //在合理的动画范围是允许点击的\n            //比如对象只是一个小范围的内的改变\n            //正负10px的移动是允许接受的\n            if (originalLeft > newLeft - boundary && originalLeft < newLeft + boundary || originalTop > newTop - boundary && originalTop < newTop + boundary) {\n                self.runEffects();\n            }\n        } else {\n            self.runEffects();\n        }\n    }\n\n    /**\r\n     * 设置按钮的行为\r\n     * 音频\r\n     * 反弹\r\n     */\n    function setBehavior(feedbackBehavior) {\n\n        var behaviorSound;\n        //音频地址\n        if (behaviorSound = feedbackBehavior.behaviorSound) {\n\n            var createAuido = function createAuido() {\n                return new Xut.Audio({\n                    url: behaviorSound,\n                    trackId: 9999,\n                    complete: function complete() {\n                        this.play();\n                    }\n                });\n            };\n            //妙妙学客户端强制删除\n            if (MMXCONFIG && audioHandler) {\n                self._fixAudio.push(createAuido());\n            } else {\n                createAuido();\n            }\n        }\n        //反弹效果\n        if (feedbackBehavior.isButton) {\n            //div通过css实现反弹\n            if (eventData.domMode) {\n                eventContext.addClass('xut-behavior');\n                setTimeout(function () {\n                    eventContext.removeClass('xut-behavior');\n                    startRunAnim();\n                }, 500);\n            } else {\n                //canvas反弹\n                var sx = eventContext.scale.x;\n                var px = eventContext.position.x;\n\n                eventContext.scale.x += 0.1;\n                eventContext.position.x -= Math.round(px * 0.05);\n                self.canvasRelated.oneRender();\n\n                setTimeout(function () {\n                    eventContext.scale.x = sx;\n                    eventContext.position.x = px;\n                    self.canvasRelated.oneRender();\n                }, 200);\n            }\n        } else {\n            startRunAnim();\n        }\n    }\n\n    /**\r\n     * 事件引用钩子\r\n     * 用户注册与执行\r\n     * @type {Object}\r\n     */\n    var eventDrop = {\n        //保存引用,方便直接销毁\n        init: function init(drag) {\n            eventData.dragDrop = drag;\n        },\n        //拖拽开始的处理\n        startRun: function startRun() {},\n        //拖拽结束的处理\n        stopRun: function stopRun(isEnter) {\n            if (isEnter) {\n                //为true表示拖拽进入目标对象区域\n                self.runEffects();\n            }\n        }\n    };\n\n    /**\r\n     * 正常动画执行\r\n     * 除去拖动拖住外的所有事件\r\n     * 点击,双击,滑动等等....\r\n     * @return {[type]} [description]\r\n     */\n    var eventRun = function eventRun() {\n        //如果存在反馈动作\n        //优先于动画执行\n        var feedbackBehavior;\n        if (feedbackBehavior = eventData.feedbackBehavior[eventData.eventContentId]) {\n            setBehavior(feedbackBehavior);\n        } else {\n            startRunAnim();\n        }\n    };\n\n    /**\r\n     * 事件对象引用\r\n     * @return {[type]} [description]\r\n     */\n    var eventHandler = function eventHandler(eventReference, _eventHandler) {\n        eventData.eventReference = eventReference;\n        eventData.eventHandler = _eventHandler;\n    };\n\n    //绑定用户自定义事件\n    if (eventContext && eventName) {\n\n        var domName,\n            target,\n            dragdropPara = eventData.dragdropPara;\n\n        //获取拖拽目标对象\n        if (eventName === 'dragTag') {\n            domName = this._makePrefix('Content', this.pid, dragdropPara);\n            target = this._findContentElement(domName);\n        }\n\n        //增加事件绑定标示\n        //针对动态加载节点事件的行为过滤\n        eventData.isBind = true;\n\n        callback.call(this, {\n            'eventDrop': eventDrop,\n            'eventRun': eventRun,\n            'eventHandler': eventHandler,\n            'eventContext': eventContext,\n            'eventName': eventName,\n            'parameter': dragdropPara,\n            'target': target,\n            'domMode': eventData.domMode\n        });\n    }\n};\n\n/**\r\n * 注册事件\r\n * @return {[type]} [description]\r\n */\nactivitProto.registerEvent = function () {\n    var eventData = this.eventData;\n    /**\r\n     * 2016.2.19\r\n     * 绑定canvas事件\r\n     * 由于canvas有异步加载\r\n     * 这里content创建的时候不阻断加载\r\n     * 所以canvas的事件体系\r\n     * 放到所有异步文件加载后才执行\r\n     */\n    if (eventData.type === \"canvas\") {\n        var makeFunction = function bind() {\n            //找到对应的上下文pixi stoge\n            eventData.eventContext = {};\n            this.bindEventBehavior(function (eventData) {\n                (0, _event2.bindEvents)(eventData);\n            });\n        };\n        console.log('content canvas事件');\n        this.nextTask.event.push(makeFunction.bind(this));\n    } else {\n        //dom事件\n        this.bindEventBehavior(function (eventData) {\n            (0, _event.bindEvents)(eventData);\n        });\n    }\n};\n\n/*********************************************************************\r\n *\r\n *                 私有方法\r\n *\r\n **********************************************************************/\n\n/**\r\n * dom节点去重绑定\r\n * 在每一次构建activity对象中，不重复处理content一些特性\r\n * 1 翻页特性\r\n * 2 注册钩子\r\n * 3 预显示\r\n * @return {[type]} [description]\r\n */\nactivitProto._repeatBind = function (id, context, isRreRun, scope, collectorHooks, canvasMode) {\n    var indexOf,\n        relatedData = this.relatedData;\n\n    //过滤重复关系\n    if (-1 !== (indexOf = relatedData.createContentIds.indexOf(id))) {\n        //删除,去重\n        relatedData.createContentIds.splice(indexOf, 1);\n        //收集每一个content注册\n        collectorHooks(scope.pid, id, scope);\n        //canvas模式\n        if (canvasMode) {\n            if (isRreRun) {\n                // console.log(id,scope)\n                //直接改变元素状态\n                // context.visible = isRreRun === 'visible' ? true : false;\n                this.nextTask.pre[id] = function () {\n                    this.nextTask.pre.push(function pre(context) {\n                        console.log('预执行', isRreRun);\n                        //this.canvasRelated.oneRender();\n                    });\n                };\n            }\n        } else {\n                //dom模式\n                //增加翻页特性\n                this._addIScroll(scope, context);\n                //直接复位状态,针对出现动画 show/hide\n                if (isRreRun) {\n                    //直接改变元素状态\n                    context.css({\n                        'visibility': isRreRun\n                    });\n                }\n            }\n    }\n};\n\n/**\r\n * 增加翻页特性\r\n * 可能有多个引用关系\r\n * @return {[type]}         [description]\r\n */\nactivitProto._addIScroll = function (scope, element) {\n    var self = this,\n        elementName,\n        contentDas = scope.contentDas;\n\n    //给外部调用处理\n    function makeUseFunction(element) {\n\n        var prePocess = self._makePrefix('Content', scope.pid, scope.id),\n            preEle = self._findContentElement(prePocess);\n\n        //重置元素的翻页处理\n        // defaultBehavior(preEle);\n\n        //ios or pc\n        if (!Xut.plat.isAndroid) {\n            return function () {\n                self.iscroll = (0, _iscroll.Iscroll)(element);\n            };\n        }\n\n        //在安卓上滚动文本的互斥不显示做一个补丁处理\n        //如果是隐藏的,需要强制显示,待邦定滚动之后再还原\n        //如果是显示的,则不需要处理,\n        var visible = preEle.css('visibility'),\n            restore = function restore() {};\n\n        if (visible == 'hidden') {\n            var opacity = preEle.css('opacity');\n            //如果设置了不透明,则简单设为可见的\n            //否则先设为不透明,再设为可见\n            if (opacity == 0) {\n                preEle.css({\n                    'visibility': 'visible'\n                });\n                restore = function restore() {\n                    preEle.css({\n                        'visibility': visible\n                    });\n                };\n            } else {\n                preEle.css({\n                    'opacity': 0\n                }).css({\n                    'visibility': 'visible'\n                });\n                restore = function restore() {\n                    preEle.css({\n                        'opacity': opacity\n                    }).css({\n                        'visibility': visible\n                    });\n                };\n            }\n        }\n\n        return function () {\n            self.iscroll = (0, _iscroll.Iscroll)(element);\n            restore();\n            preEle = null;\n            restore = null;\n        };\n    }\n\n    //增加卷滚条\n    if (contentDas.isScroll) {\n        //去掉高度，因为有滚动文本框\n        element.find(\">\").css(\"height\", \"\");\n\n        // elementName = this._makePrefix('contentWrapper', scope.pid, scope.id);\n        this.relatedCallback.iscrollHooks.push(makeUseFunction(element[0]));\n    }\n\n    //如果是图片则补尝允许范围内的高度\n    if (!contentDas.mask || !contentDas.isGif) {\n        element.find && element.find('img').css({\n            'height': contentDas.scaleHeight\n        });\n    }\n};\n\n/**\r\n * 制作一个查找标示\r\n * @return {[type]}\r\n */\nactivitProto._makePrefix = function (name, pid, id) {\n    return name + \"_\" + pid + \"_\" + id;\n};\n\n/**\r\n * 从文档碎片中找到对应的dom节点\r\n * 查找的范围\r\n * 1 文档根节点\r\n * 2 文档容器节点\r\n * @param  {[type]} prefix [description]\r\n * @return {[type]}        [description]\r\n */\nactivitProto._findContentElement = function (prefix) {\n    var element,\n        containerPrefix,\n        contentsFragment = this.relatedData.contentsFragment;\n\n    if (element = contentsFragment[prefix]) {\n        element = $(element);\n    } else {\n        //容器处理\n        if (containerPrefix = this.relatedData.containerPrefix) {\n            _.each(containerPrefix, function (containerName, index) {\n                element = contentsFragment[containerName];\n                element = $(element).find('#' + prefix);\n                if (element.length) {\n                    return;\n                }\n            });\n        }\n    }\n    return element;\n};\n\n/*********************************************************************\r\n *\r\n *                      外部调用接口\r\n *                                                                    *\r\n **********************************************************************/\n\n/**\r\n * 自动运行\r\n * @param  {[type]} outComplete [description]\r\n * @return {[type]}             [description]\r\n */\nactivitProto.autoPlay = function (outComplete) {\n    var eventData = this.eventData;\n    if (eventData && eventData.eventName === 'auto') {\n        this.runEffects(outComplete);\n    } else {\n        outComplete();\n    }\n};\n\n/**\r\n * 翻页开始\r\n * @return {[type]} [description]\r\n */\nactivitProto.flipOver = function () {\n    if (this.runState) {\n        this.stopEffects();\n    }\n    this.preventRepeat = false;\n    //复位盒子\n    if (this.htmlBoxInstance.length) {\n        _.each(this.htmlBoxInstance, function (instance) {\n            instance.removeBox();\n        });\n    }\n    //修复妙妙客户端\n    //没有点击音频结束的回调\n    //最多允许播放5秒\n    if (this._fixAudio.length) {\n        _.each(this._fixAudio, function (instance) {\n            setTimeout(function () {\n                instance.end();\n            }, 5000);\n        });\n        this._fixAudio = [];\n    }\n};\n\n/**\r\n * 翻页完成复位动画\r\n * @return {[type]} [description]\r\n */\nactivitProto.flipComplete = function () {\n    this.resetAnimation();\n};\n\n//销毁\n//提供一个删除回调\n//用于处理浮动对象的销毁\nactivitProto.destroy = function (elementCallback) {\n\n    //销毁绑定事件\n    if (this.eventData.eventContext) {\n        (0, _event.destroyEvents)(this.eventData);\n        this.eventData.eventContext = null;\n    }\n\n    //2016.1.7\n    //如果有文本框事件\n    //一个activity允许有多个文本框\n    //所以是数组索引\n    if (this.htmlBoxInstance.length) {\n        _.each(this.htmlBoxInstance, function (instance) {\n            instance.destroy();\n        });\n        this.htmlBoxInstance = null;\n    }\n\n    //销毁动画\n    this.destroyEffects(elementCallback);\n\n    //iscroll销毁\n    if (this.iscroll) {\n        this.iscroll.destroy();\n        this.iscroll = null;\n    }\n\n    //销毁搜索框\n    if (this.searchBar) {\n        this.searchBar.destroy();\n        this.searchBar = null;\n    }\n\n    //销毁书签\n    if (this.bookMark) {\n        this.bookMark.destroy();\n        this.bookMark = null;\n    }\n\n    this.rootNode = null;\n};\n\n/**\r\n * 复位\r\n * @return {[type]} [description]\r\n */\nactivitProto.recovery = function () {\n    if (this.runState) {\n        this.stopEffects();\n        return true;\n    }\n    return false;\n};\n\nexports.activityClass = activityClass;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2FjdGl2aXR5LmpzPzg0MTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQWdCQTs7QUFHQTs7QUFRQTs7QUFHQTs7QUFHQTs7QUFHQTs7QUFHQTs7QUFHQTs7QUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLFNBQVMsYUFBVCxDQUF1QixJQUF2QixFQUE2Qjs7QUFFekIsUUFBSSxPQUFPLElBQVg7O0FBRUEsTUFBRSxNQUFGLENBQVMsSUFBVCxFQUFlLElBQWY7Ozs7Ozs7Ozs7O0FBV0EsU0FBSyxRQUFMLEdBQWdCLDhCQUFlLEtBQUssZUFBcEIsQ0FBaEI7Ozs7O0FBS0EsU0FBSyxrQkFBTDs7Ozs7O0FBTUEsU0FBSyxpQkFBTCxHQUF5QixFQUF6Qjs7Ozs7Ozs7QUFRQSxTQUFLLGdCQUFMLEdBQXdCLGtCQUFNLElBQU4sQ0FBeEI7Ozs7OztBQU1BLFNBQUssV0FBTDs7Ozs7OztBQU9BLFNBQUssYUFBTDs7Ozs7QUFLQSxTQUFLLGFBQUw7Ozs7Ozs7OztBQVNBLFNBQUssU0FBTCxHQUFpQixFQUFqQjs7Ozs7OztBQVFBLFFBQUksS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixJQUExQixFQUFnQztBQUM1QixhQUFLLGVBQUw7QUFDQSxlQUFPLElBQVA7QUFDSDs7Ozs7OztBQU9ELFFBQUksS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixNQUF0QixFQUFKLEVBQW9DO0FBQ2hDLGFBQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsSUFBdEIsR0FBNkIsSUFBN0I7QUFDQSxlQUFPLElBQVA7QUFDSDs7QUFFRCxTQUFLLGVBQUw7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUQsSUFBSSxlQUFlLGNBQWMsU0FBakM7Ozs7Ozs7Ozs7Ozs7QUFlQSxhQUFhLFdBQWIsR0FBMkIsWUFBVztBQUNsQyxRQUFJLE9BQU8sSUFBWDtBQUNBLFFBQUksWUFBWSxLQUFLLFNB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VDtBQUNILFNBRkQ7QUFHQSxhQUFLLGVBQUwsR0FBdUIsSUFBdkI7QUFDSDs7O0FBR0QsU0FBSyxjQUFMLENBQW9CLGVBQXBCOzs7QUFHQSxRQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNkLGFBQUssT0FBTCxDQUFhLE9BQWI7QUFDQSxhQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0g7OztBQUdELFFBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2hCLGFBQUssU0FBTCxDQUFlLE9BQWY7QUFDQSxhQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFDSDs7O0FBR0QsUUFBSSxLQUFLLFFBQVQsRUFBbUI7QUFDZixhQUFLLFFBQUwsQ0FBYyxPQUFkO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0g7O0FBRUQsU0FBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsQ0F6Q0Q7Ozs7OztBQWdEQSxhQUFhLFFBQWIsR0FBd0IsWUFBVztBQUMvQixRQUFJLEtBQUssUUFBVCxFQUFtQjtBQUNmLGFBQUssV0FBTDtBQUNBLGVBQU8sSUFBUDtBQUNIO0FBQ0QsV0FBTyxLQUFQO0FBQ0gsQ0FORDs7UUFZSSxhLEdBQUEsYSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqICAg5paH5pys57G7XHJcbiAqICAgICDlpITnkIY6XHJcbiAqICAgICAgIDEg5byC5q2l6L2s5ZCM5q2lZGVmZXJyZWTlpITnkIZcclxuICogICAgICAgMiBkb23nu5Plvqrnjq/liJvlu7pcclxuICogICAgICAg5Yib5bu655qE5Zub56eN6KGM5Li6XHJcbiAqICAgICAgICAgIDEg6buY6K6k5Yib5bu657uT5p6E57uR5a6a5LqL5Lu2XHJcbiAqICAgICAgICAgIDIg55So5LqO6aKE5YWI5Yib5bu6YWN0aXZpdHlNb2Rl5qih5byPLOWIhuWPkeWKqOeUu+S4juS6i+S7tlxyXG4gKiAgICAgICAgICAzIOmAkuW9kuWIm+W7uizlhbPogZTlrZDng63ngrlcclxuICogICAgICAgICAgNCBwcHTmloflrZfliqjnlLss5LiN5Yib5bu65Li75L2T57uT5p6ELOmAkuW9kuWtkOeDreeCuVxyXG4gKiAgICAgICAgICAgICAgICAgIEEg6YCS5b2S5aSE55CGUFBU5Yqo55S7XHJcbiAqICAgICAgICAgICAgICAgICAgQiDlpITnkIblkIzmraXpn7PpopFcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8v5Y235ruaXHJcbmltcG9ydCB7IElzY3JvbGwgfSBmcm9tICcuL2lzY3JvbGwnXHJcblxyXG4vL+S6i+S7tlxyXG5pbXBvcnQge1xyXG4gICAgY29udmVyc2lvbkV2ZW50VHlwZSxcclxuICAgIGRlc3Ryb3lFdmVudHMsXHJcbiAgICBiaW5kRXZlbnRzIGFzIGJpbmRDb250ZW50RXZlbnRzXHJcbn1cclxuZnJvbSAnLi9ldmVudCdcclxuXHJcbi8v5re35YWlY29udGVudFxyXG5pbXBvcnQgeyBNaXggfSBmcm9tICcuL21peCdcclxuXHJcbi8vY29udGVudOiHquWvueixoVxyXG5pbXBvcnQgeyBDaGlsZCB9IGZyb20gJy4vY2hpbGQnXHJcblxyXG4vL+aQnOe0olxyXG5pbXBvcnQgeyBTZWFyY2hCYXIgfSBmcm9tICcuL3NlYXJjaGJhcidcclxuXHJcbi8v5Lmm562+XHJcbmltcG9ydCB7IEJvb2tNYXJrIH0gZnJvbSAnLi9ib29rbWFyaydcclxuXHJcbi8v5paH5pys5qGGXHJcbmltcG9ydCB7IEh0bWxCb3ggfSBmcm9tICcuL2h0bWxib3gnXHJcblxyXG4vL3BpeGnkuovku7ZcclxuaW1wb3J0IHsgYmluZEV2ZW50cyBhcyBiaW5kUGl4aUV2ZW50cyB9IGZyb20gJy4uL3BpeGkvZXZlbnQnXHJcblxyXG4vL+S7u+WKoVxyXG5pbXBvcnQgeyBjcmVhdGVOZXh0VGFzayB9IGZyb20gJy4vbmV4dHRhc2snXHJcblxyXG5cclxuLyoqXHJcbiAqIGFjdGl2aXR56Kem5Y+R5Zmo57G7XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBhY3Rpdml0eUNsYXNzKGRhdGEpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgXy5leHRlbmQodGhpcywgZGF0YSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAyMDE2LjQuMTFcclxuICAgICAqIOWboOS4umNhbnZhc+aooeW8j+WvvOiHtFxyXG4gICAgICog5Lu75Yqh5b+F6aG7562J5b6FY29udGV4dOS4iuS4i+WIm+W7ulxyXG4gICAgICog5a6M5oiQ5ZCO5omn6KGMXHJcbiAgICAgKiAxIOS6i+S7tlxyXG4gICAgICogMiDpooTmiafooYxcclxuICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgdGhpcy5uZXh0VGFzayA9IGNyZWF0ZU5leHRUYXNrKHRoaXMubW9uaXRvckNvbXBsZXRlKVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW6Ieq5a6a5LmJ5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIHRoaXMuY3JlYXRlRXZlbnRSZWxhdGVkKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuLrliIbmrrXlpITnkIYs6K6w5b2V6ZyA6KaB5Yqg6L2955qE5YiG5q615pWw5o2uXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIHRoaXMud2FpdENyZWF0ZUNvbnRlbnQgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/neWtmOWtkOWvueixoe+8iFBQVOi+heWKqeWvueixoe+8iVxyXG4gICAgICogMSDliqjnlLvkvZznlKjln59cclxuICAgICAqIDIg6KeG6KeJ5beu5L2c55So5Z+fXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuYWJzdHJhY3RDb250ZW50cyA9IENoaWxkKHRoaXMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSE55CGaHRtbOaWh+acrOahhlxyXG4gICAgICogMjAxNi4xLjZcclxuICAgICAqL1xyXG4gICAgdGhpcy5odG1sVGV4dEJveCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5rOo5YaM55So5oi36Ieq5a6a5LmJ5LqL5Lu2XHJcbiAgICAgKiBkb21cclxuICAgICAqIGNhbnZhc1xyXG4gICAgICovXHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaehOW7uueUqOaIt+ihjOS4ulxyXG4gICAgICovXHJcbiAgICB0aGlzLmNyZWF0ZUFjdGlvbnMoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIDIwMTYuMi4yNlxyXG4gICAgICog5L+u5aSN5aaZ5aaZ5a2mXHJcbiAgICAgKiDlppnlppnlrqLmiLfnq6/lpITnkIZcclxuICAgICAqIOeCueWHu+aViOaenOeahOmfs+mikeWkhOeQhlxyXG4gICAgICogQHR5cGUge0FycmF5fVxyXG4gICAgICovXHJcbiAgICB0aGlzLl9maXhBdWRpbyA9IFtdO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuato+WcqOetieW+heWIm+W7uueahOWtkOWvueixoVxyXG4gICAgICog5aaC5p6c5Yib5bu65q+U5rWB56iL5YWI5omn6KGM5a6M5q+VXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgXHJcbiAgICAgKi9cclxuICAgIGlmICh0aGlzLm5leHRUYXNrLmNvbnRleHQud2FpdCkge1xyXG4gICAgICAgIHRoaXMubW9uaXRvckNvbXBsZXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnrYnlvoXliJvlu7rmiafooYxcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gdGhpcy5uZXh0VGFzay5jb250ZXh0Lmxlbmd0aCgpIFxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgKi9cclxuICAgIGlmICh0aGlzLm5leHRUYXNrLmNvbnRleHQubGVuZ3RoKCkpIHtcclxuICAgICAgICB0aGlzLm5leHRUYXNrLmNvbnRleHQud2FpdCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tb25pdG9yQ29tcGxldGUoKTtcclxufVxyXG5cclxuXHJcblxyXG52YXIgYWN0aXZpdFByb3RvID0gYWN0aXZpdHlDbGFzcy5wcm90b3R5cGU7XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgICAgICAgICAgICAgICAg5Luj56CB5Yid5aeL5YyWXHJcbiAqICAgICAgICAgICAgICAgIOWIneWni+WfuuacrOWPguaVsFxyXG4gKiAgICAgICAgICAgICAgICDmnoTlu7rliqjnlLvlhbPns7vkvZznlKjln59cclxuICogICAgICAgICAgICAgICAg57uR5a6a5Z+65pys5LqL5Lu2XHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiDmo4DmtYvmmK9IVE1M5paH5pys5qGG5aSE55CGXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLmh0bWxUZXh0Qm94ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZXZlbnREYXRhID0gdGhpcy5ldmVudERhdGE7XHJcbiAgICB2YXIgcmVsYXRlZERhdGEgPSB0aGlzLnJlbGF0ZWREYXRhO1xyXG4gICAgdmFyIGNvbnRlbnRIdG1sQm94SWRzID0gcmVsYXRlZERhdGEuY29udGVudEh0bWxCb3hJZHM7XHJcbiAgICB2YXIgY29udGVudElkO1xyXG4gICAgdmFyIGNvbnRlbnROYW1lO1xyXG4gICAgdmFyIGV2ZW50RWxlbWVudDtcclxuICAgIC8v5paH5pys5qGG5a6e5L6L5a+56LGhXHJcbiAgICAvL+WFgeiuuOS4gOS4qmFjdGl2aXR55pyJ5aSa5LiqXHJcbiAgICB0aGlzLmh0bWxCb3hJbnN0YW5jZSA9IFtdO1xyXG4gICAgLy/liJvlu7rmlofmnKzmoYblr7nosaFcclxuICAgIGlmIChjb250ZW50SHRtbEJveElkcy5sZW5ndGggJiYgcmVsYXRlZERhdGEuY29udGVudERhcykge1xyXG4gICAgICAgIF8uZWFjaChyZWxhdGVkRGF0YS5jb250ZW50RGFzLCBmdW5jdGlvbihjZHMpIHtcclxuICAgICAgICAgICAgaWYgKH5jb250ZW50SHRtbEJveElkcy5pbmRleE9mKGNkcy5faWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50SWQgPSBjZHMuX2lkO1xyXG4gICAgICAgICAgICAgICAgY29udGVudE5hbWUgPSBzZWxmLl9tYWtlUHJlZml4KCdDb250ZW50Jywgc2VsZi5waWQsIGNvbnRlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAvL+aJvuWIsOWvueW6lOe7keWumuS6i+S7tueahOWFg+e0oFxyXG4gICAgICAgICAgICAgICAgZXZlbnRFbGVtZW50ID0gc2VsZi5fZmluZENvbnRlbnRFbGVtZW50KGNvbnRlbnROYW1lKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFldmVudEVsZW1lbnQuYXR0cihcImRhdGEtaHRtbGJveFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5p6E5bu6aHRtbOaWh+acrOahhuWvueixoVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaHRtbEJveEluc3RhbmNlLnB1c2gobmV3IEh0bWxCb3goY29udGVudElkLCBldmVudEVsZW1lbnQpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL+WinuWKoGh0bWxib3jmoIflv5fljrvph41cclxuICAgICAgICAgICAgICAgICAgICAvL+WkmuS4qmFjdGljdGl55YWx5Lqr6Zeu6aKYXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRFbGVtZW50LmF0dHIoXCJkYXRhLWh0bWxib3hcIiwgXCJ0cnVlXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDkv53or4HmraPnoa7pgY3ljoZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hY3Rpdml0UHJvdG8uZWFjaEFzc2lzdENvbnRlbnRzID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgIF8uZWFjaCh0aGlzLmFic3RyYWN0Q29udGVudHMsIGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgLy/kv53lrZjlj6rog73lpITnkIbliqjnlLtcclxuICAgICAgICAvL3Njb3BlLnByb2Nlc3NUeXBlID09PSAnYW5pbWF0aW9uJyB8fCBzY29wZS5wcm9jZXNzVHlwZSA9PT0gJ2JvdGgnKVxyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgc2NvcGUpXHJcbiAgICB9LCB0aGlzKVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMllBQVOWKqOeUu+S4jumfs+mikVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5jcmVhdGVBY3Rpb25zID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdmFyIHBhZ2VJZCA9IHRoaXMucmVsYXRlZERhdGEucGFnZUlkLFxyXG4gICAgICAgIHJvb3ROb2RlID0gdGhpcy5yb290Tm9kZSxcclxuICAgICAgICBjb2xsZWN0b3JIb29rcyA9IHRoaXMucmVsYXRlZENhbGxiYWNrLmNvbnRlbnRzSG9va3MsXHJcbiAgICAgICAgcGFnZVR5cGUgPSB0aGlzLnBhZ2VUeXBlO1xyXG5cclxuICAgIHRoaXMuZWFjaEFzc2lzdENvbnRlbnRzKGZ1bmN0aW9uKHNjb3BlKSB7XHJcblxyXG4gICAgICAgIHZhciBjb250ZXh0LCB0eXBlLCBpZCwgaXNScmVSdW4sIHBhcmFtZXRlcjtcclxuXHJcbiAgICAgICAgLy/pkojlr7nlv4XpobvliJvlu7pcclxuICAgICAgICBpZiAoIShjb250ZXh0ID0gc2NvcGUuJGNvbnRlbnRQcm9jZXNzKSkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL+WmguaenOaYr+inhuinieW3ruWvueixoe+8jOS5n+mcgOimgeWunueOsOaUtumbhuWZqFxyXG4gICAgICAgIGlmIChzY29wZS5wcm9jZXNzVHlwZSA9PT0gJ3BhcmFsbGF4Jykge1xyXG4gICAgICAgICAgICBjb2xsZWN0b3JIb29rcyhzY29wZS5waWQsIHNjb3BlLmlkLCBzY29wZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5piv5Yqo55S75omN5aSE55CGXHJcbiAgICAgICAgaWQgPSBzY29wZS5pZCxcclxuICAgICAgICAgICAgaXNScmVSdW4gPSBzY29wZS5pc1JyZVJ1bixcclxuICAgICAgICAgICAgcGFyYW1ldGVyID0gc2NvcGUuZ2V0UGFyYW1ldGVyKCk7XHJcblxyXG5cclxuICAgICAgICAvL+WmguaenOS4jeaYr+mihOeUn+aIkFxyXG4gICAgICAgIC8v5rOo5YaM5Yqo55S75LqL5Lu2XHJcbiAgICAgICAgaWYgKGlzUnJlUnVuID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2NvcGUuaW5pdChpZCwgY29udGV4dCwgcm9vdE5vZGUsIHBhZ2VJZCwgcGFyYW1ldGVyLCBwYWdlVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+e7keWumkRPTeS4gOS6m+WxnuaAp1xyXG4gICAgICAgIHRoaXMuX3JlcGVhdEJpbmQoaWQsIGNvbnRleHQsIGlzUnJlUnVuLCBzY29wZSwgY29sbGVjdG9ySG9va3MsIHNjb3BlLmNhbnZhc01vZGUpO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOajgOa1i+WIm+W7uuWujOaIkOW6plxyXG4gKi9cclxuYWN0aXZpdFByb3RvLl9jaGVja0NyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgd2FpdENyZWF0ZUNvbnRlbnQgPSB0aGlzLndhaXRDcmVhdGVDb250ZW50O1xyXG4gICAgaWYgKHdhaXRDcmVhdGVDb250ZW50ICYmIHdhaXRDcmVhdGVDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgIE1peCh0aGlzLCB3YWl0Q3JlYXRlQ29udGVudCwgY2FsbGJhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOi/kOihjOWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IG91dENvbXBsZXRlIFvliqjnlLvlm57osINdXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBldmVueUNsaWNrIOavj+asoemDveeul+acieaViOeCueWHu1xyXG4gKi9cclxuYWN0aXZpdFByb3RvLnJ1bkVmZmVjdHMgPSBmdW5jdGlvbihvdXRDb21wbGV0ZSwgZXZlbnlDbGljaykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwYWdlSWQgPSB0aGlzLnJlbGF0ZWREYXRhLnBhZ2VJZDtcclxuXHJcbiAgICBpZiAoZXZlbnlDbGljaykge1xyXG4gICAgICAgIHNlbGYucHJldmVudFJlcGVhdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6Ziy5q2i6YeN5aSN54K55Ye7XHJcbiAgICBpZiAoc2VsZi5wcmV2ZW50UmVwZWF0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYucHJldmVudFJlcGVhdCA9IHRydWU7XHJcblxyXG4gICAgLy/lpoLmnpzmsqHmnInov5DooYzliqjnlLtcclxuICAgIGlmICghc2VsZi5zZWVkLmFuaW1hdGlvbikge1xyXG4gICAgICAgIHNlbGYucHJldmVudFJlcGVhdCA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYucmVsZXZhbnRPcGVyYXRpb24oKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy/liJvlu7rnmoTml6DooYzkuLpjb250ZW50XHJcbiAgICB2YXIgcGFydENvbnRlbnRSZWxhdGVkID0gc2VsZi5yZWxhdGVkRGF0YS5wYXJ0Q29udGVudFJlbGF0ZWQ7XHJcbiAgICB2YXIgY2xvc2VBbmltO1xyXG5cclxuICAgIC8v5Yi25L2c5L2c55So5LqO5YaF5Yqo55S75a6M5oiQXHJcbiAgICAvL+etieW+heWKqOeUu+WujOavleWQjuaJp+ihjOWKqOS9nG9y5Zy65pmv5YiH5o2iXHJcbiAgICB2YXIgY2FwdHVyZUFuaW1Db21wbGV0ZSA9IHNlbGYuY2FwdHVyZUFuaW1Db21wbGV0ZSA9IGZ1bmN0aW9uKGNvdW50cykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgICAgICAvL+WKqOeUu+e7k+adnyzliKDpmaTov5nkuKpoYWNrXHJcbiAgICAgICAgICAgIHNjb3BlXHJcbiAgICAgICAgICAgICAgICAmJiBzY29wZS4kY29udGVudFByb2Nlc3MgJiYgc2NvcGUuJGNvbnRlbnRQcm9jZXNzLnJlbW92ZVByb3AgJiYgc2NvcGUuJGNvbnRlbnRQcm9jZXNzLnJlbW92ZVByb3AoJ2FuaW1PZmZzZXQnKVxyXG5cclxuICAgICAgICAgICAgLy/lpoLmnpzlv6vpgJ/nv7vpobVcclxuICAgICAgICAgICAgLy/ov5DooYzliqjnlLvnmoTml7blgJnvvIzlj5HnjrDkuI3mmK/lj6/op4bpobXpnaJcclxuICAgICAgICAgICAgLy/pnIDopoHlhbPpl63ov5nkupvliqjnlLsgIFxyXG4gICAgICAgICAgICBjbG9zZUFuaW0gPSAocGFnZUlkICE9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZUlkKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNsb3NlQW5pbSAmJiBzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuc3RvcCAmJiBzY29wZS5zdG9wKHBhZ2VJZCk7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5yZXNldCAmJiBzY29wZS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+aNleiOt+WKqOeUu+eKtuaAgVxyXG4gICAgICAgICAgICBpZiAoY291bnRzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VBbmltKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpI3kvY3liqjnlLtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0QWxvbmVBbmltKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLnByZXZlbnRSZXBlYXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVsZXZhbnRPcGVyYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIG91dENvbXBsZXRlICYmIG91dENvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVBbmltQ29tcGxldGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLS1jb3VudHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSh0aGlzLmFic3RyYWN0Q29udGVudHMubGVuZ3RoKTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpoLmnpzmmK9wcmVSdW7lpITnkIZcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaXNScmVSdW5Qb2Nlc3Moc2NvcGUpIHtcclxuICAgICAgICAvL+mSiOWvueepuui3s+i/h+WkhOeQhlxyXG4gICAgICAgIGlmIChwYXJ0Q29udGVudFJlbGF0ZWQgJiYgcGFydENvbnRlbnRSZWxhdGVkLmxlbmd0aCAmJiAoLTEgIT09IHBhcnRDb250ZW50UmVsYXRlZC5pbmRleE9mKHNjb3BlLmlkKSkpIHtcclxuICAgICAgICAgICAgY2FwdHVyZUFuaW1Db21wbGV0ZSgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/lv4XpobvopoHkv67mlLlcclxuICAgICAgICAgICAgaWYgKHNjb3BlLiRjb250ZW50UHJvY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmNhbnZhc01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+ebtOaOpeaUueWPmOWFg+e0oOeKtuaAgVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRjb250ZW50UHJvY2Vzcy52aXNpYmxlID0gc2NvcGUuaXNScmVSdW4gPT09ICd2aXNpYmxlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhc1JlbGF0ZWQub25lUmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5Zug5Li65omn6KGM55qE6aG65bqP6Zeu6aKY77yM5Yqo55S75LiO6aG16Z2i6Zu25Lu2XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc3Njcm9sbOagh+iusOaOp+WItlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2NvcGUuJGNvbnRlbnRQcm9jZXNzLmF0dHIoJ2lzc2Nyb2xsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGNvbnRlbnRQcm9jZXNzLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6IHNjb3BlLmlzUnJlUnVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhcHR1cmVBbmltQ29tcGxldGUoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+WIm+W7uuWujOaIkOW6plxyXG4gICAgICog6YCS5b2S5Yib5bu6XHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgc2VsZi5fY2hlY2tDcmVhdGUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/miafooYzliqjnlLtcclxuICAgICAgICBzZWxmLmVhY2hBc3Npc3RDb250ZW50cyhmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgICAgICBpZiAoc2NvcGUuaXNScmVSdW4pIHtcclxuICAgICAgICAgICAgICAgIGlzUnJlUnVuUG9jZXNzKHNjb3BlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+agh+iusOWKqOeUu+ato+WcqOi/kOihjFxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGNvbnRlbnRQcm9jZXNzICYmIHNjb3BlLiRjb250ZW50UHJvY2Vzcy5wcm9wICYmIHNjb3BlLiRjb250ZW50UHJvY2Vzcy5wcm9wKHtcclxuICAgICAgICAgICAgICAgICAgICAnYW5pbU9mZnNldCc6IHNjb3BlLiRjb250ZW50UHJvY2Vzcy5vZmZzZXQoKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvL3BwdOWKqOeUu1xyXG4gICAgICAgICAgICAgICAgLy9wcHTpn7PpopFcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJ1bihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQW5pbUNvbXBsZXRlKHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBzZWxmLnJ1blN0YXRlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWBnOatouWKqOeUu1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5zdG9wRWZmZWN0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHBhZ2VJZCA9IHRoaXMucmVsYXRlZERhdGEucGFnZUlkO1xyXG4gICAgdGhpcy5ydW5TdGF0ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lYWNoQXNzaXN0Q29udGVudHMoZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICAhc2NvcGUuaXNScmVSdW4gJiYgc2NvcGUuc3RvcCAmJiBzY29wZS5zdG9wKHBhZ2VJZCk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlpITnkIbmi5bliqjlr7nosaFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBhY2Nlc3NEcm9wKGV2ZW50RGF0YSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChldmVudERhdGEgJiYgZXZlbnREYXRhLmRyYWdEcm9wKSB7XHJcbiAgICAgICAgY2FsbGJhY2soZXZlbnREYXRhLmRyYWdEcm9wKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWkjeS9jeeLrOeri+WKqOeUu1xyXG4gKiDmj5Dkvpvlv6vpgJ/nv7vpobXlpI3nlKhcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hY3Rpdml0UHJvdG8ucmVzZXRBbG9uZUFuaW0gPSBmdW5jdGlvbigpIHtcclxuICAgIC8v5aSN5L2N5ouW5Yqo5a+56LGhXHJcbiAgICBhY2Nlc3NEcm9wKHRoaXMuZXZlbnREYXRhLCBmdW5jdGlvbihkcm9wKSB7XHJcbiAgICAgICAgICAgIGRyb3AucmVzZXQoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v5aaC5p6c5piv6L+Q6KGMY2FudmFz5qih5byPXHJcbiAgICAgICAgLy/lgZzmraLnu5jliLZcclxuICAgIGlmICh0aGlzLmNhbnZhc1JlbGF0ZWQuc3RvcFJlbmRlcikge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzUmVsYXRlZC5zdG9wUmVuZGVyKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCAwKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWkjeS9jeeKtuaAgVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5yZXNldEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5lYWNoQXNzaXN0Q29udGVudHMoZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICAhc2NvcGUuaXNScmVSdW4gJiYgc2NvcGUucmVzZXQgJiYgc2NvcGUucmVzZXQoKTsgLy9wcHTliqjnlLtcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5yZXNldEFsb25lQW5pbSgpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOmUgOavgeWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGVsZW1lbnRDYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5kZXN0cm95RWZmZWN0cyA9IGZ1bmN0aW9uKGVsZW1lbnRDYWxsYmFjaykge1xyXG4gICAgLy/plIDmr4Hmi5bliqjlr7nosaFcclxuICAgIGFjY2Vzc0Ryb3AodGhpcy5ldmVudERhdGEsIGZ1bmN0aW9uKGRyb3ApIHtcclxuICAgICAgICBkcm9wLmRlc3Ryb3koKTtcclxuICAgIH0pXHJcbiAgICB0aGlzLmVhY2hBc3Npc3RDb250ZW50cyhmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgIGlmIChzY29wZS5kZXN0cm95KSB7XHJcbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudENhbGxiYWNrICYmIGVsZW1lbnRDYWxsYmFjayhzY29wZSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yqo55S76L+Q6KGM5LmL5ZCOXHJcbiAqIDEg5Yib5bu65LiA5Liq5paw5Zy65pmvXHJcbiAqIDIg5omn6KGM6Lez6L2s5Yiw5pS26LS55o+Q56S66aG16Z2iXHJcbiAqIDMg6Kem5Y+R5pCc57Si5bel5YW35qCPXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLnJlbGV2YW50T3BlcmF0aW9uID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdmFyIHNjZW5hcmlvSW5mbyxcclxuICAgICAgICBldmVudENvbnRlbnRJZDtcclxuXHJcbiAgICAvL+inpuWPkeS6i+S7tueahGNvbnRlbnQgaWRcclxuICAgIGlmICh0aGlzLmV2ZW50RGF0YSkge1xyXG4gICAgICAgIGV2ZW50Q29udGVudElkID0gdGhpcy5ldmVudERhdGEuZXZlbnRDb250ZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV2ZW50Q29udGVudElkKSB7XHJcblxyXG4gICAgICAgIC8v5p+l5om+5Ye65b2T5YmN6IqC55qE5omA5pyJ5L+h5oGvXHJcbiAgICAgICAgaWYgKHNjZW5hcmlvSW5mbyA9IHRoaXMucmVsYXRlZERhdGEuc2Vhc29uUmVsYXRlZFtldmVudENvbnRlbnRJZF0pIHtcclxuXHJcbiAgICAgICAgICAgIC8v5aaC5p6c5a2Y5Zyo5pCc57Si5qCP6Kem5Y+RXHJcbiAgICAgICAgICAgIGlmIChzY2VuYXJpb0luZm8uU2VhcmNoQmFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNlYXJjaEJhcigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+WmguaenOWtmOWcqOS5puetvlxyXG4gICAgICAgICAgICBpZiAoc2NlbmFyaW9JbmZvLkJvb2tNYXJrcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVCb29rTWFyaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+aUtui0ueWkhOeQhlxyXG4gICAgICAgICAgICBpZiAoc2NlbmFyaW9JbmZvLkluYXBwICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY2VuYXJpb0luZm8uSW5hcHAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5IYXNCdXlHb29kKCk7IC8v5bey5pS26LS5XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5CdXlHb29kKCk7IC8v5LuY6LS55o6l5Y+jXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lpITnkIbmlrDnmoTlnLrmma9cclxuICAgICAgICAgICAgaWYgKHNjZW5hcmlvSW5mby5zZWFzb25JZCB8fCBzY2VuYXJpb0luZm8uY2hhcHRlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5WaWV3LkxvYWRTY2VuYXJpbyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzY2VuYXJpb0lkJzogc2NlbmFyaW9JbmZvLnNlYXNvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2hhcHRlcklkJzogc2NlbmFyaW9JbmZvLmNoYXB0ZXJJZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9LCBYdXQuZml4LmF1ZGlvID8gMTAwMCA6IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbnRlbnTot7Povazkv6Hmga/lh7rplJknLHNjZW5hcmlvSW5mbylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yib5bu65pCc57Si5qGGXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLmNyZWF0ZVNlYXJjaEJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgcGFyZW50OiB0aGlzLnJvb3ROb2RlXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zZWFyY2hCYXIpIHtcclxuICAgICAgICAvL+WmguaenOS4iuasoeWPquaYr+makOiXj+WImeWPr+S7peaBouWkjVxyXG4gICAgICAgIHRoaXMuc2VhcmNoQmFyLnJlc3RvcmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hCYXIgPSBuZXcgU2VhcmNoQmFyKG9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuS5puetvlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5jcmVhdGVCb29rTWFyayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGVsZW1lbnQsIHNlYXNvbklkLCBwYWdlSWQsIHBhZ2VEYXRhO1xyXG4gICAgaWYgKHRoaXMucGFnZVR5cGUgPT09ICdtYXN0ZXInKSB7XHJcbiAgICAgICAgLy/mqKHmnb/lj5blr7nlupTnmoTpobXpnaLkuIrnmoTmlbDmja5cclxuICAgICAgICBwYWdlRGF0YSA9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZURhdGEoKTtcclxuICAgICAgICBlbGVtZW50ID0gdGhpcy5yZWxhdGVkRGF0YS5mbG9hdE1hdGVycy5jb250YWluZXI7XHJcbiAgICAgICAgcGFnZUlkID0gcGFnZURhdGEuX2lkO1xyXG4gICAgICAgIHNlYXNvbklkID0gcGFnZURhdGEuc2Vhc29uSWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQgPSB0aGlzLnJvb3ROb2RlO1xyXG4gICAgICAgIHNlYXNvbklkID0gdGhpcy5yZWxhdGVkRGF0YS5zZWFzb25JZFxyXG4gICAgICAgIHBhZ2VJZCA9IHRoaXMucGFnZUlkXHJcbiAgICB9XHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBwYXJlbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgc2Vhc29uSWQ6IHNlYXNvbklkLFxyXG4gICAgICAgIHBhZ2VJZDogcGFnZUlkXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuYm9va01hcmspIHtcclxuICAgICAgICAvL+WmguaenOS4iuasoeWPquaYr+makOiXj+WImeWPr+S7peaBouWkjVxyXG4gICAgICAgIHRoaXMuYm9va01hcmsucmVzdG9yZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJvb2tNYXJrID0gbmV3IEJvb2tNYXJrKG9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICDnlKjmiLfoh6rlrprkuYnmjqXlj6Pkuovku7ZcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICog5p6E5bu65LqL5Lu25L2T57O7XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLmNyZWF0ZUV2ZW50UmVsYXRlZCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8v6YWN572u5LqL5Lu26IqC54K5XHJcbiAgICB2YXIgZXZlbnRJZCxcclxuICAgICAgICBwaWQsXHJcbiAgICAgICAgY29udGVudE5hbWUsXHJcbiAgICAgICAgLy/kuovku7bkuIrkuIvmloflr7nosaFcclxuICAgICAgICBldmVudENvbnRleHQsXHJcbiAgICAgICAgZXZlbnREYXRhID0gdGhpcy5ldmVudERhdGE7XHJcblxyXG4gICAgLy/lpoLmnpzlrZjlnKhpbWFnZUlkc+aJjeWkhOeQhizljZXni6znu5Hlrprkuovku7blpITnkIZcclxuICAgIGlmIChldmVudElkID0gZXZlbnREYXRhLmV2ZW50Q29udGVudElkKSB7XHJcblxyXG4gICAgICAgIC8v6buY6K6kZG9t5qih5byPXHJcbiAgICAgICAgXy5leHRlbmQoZXZlbnREYXRhLCB7XHJcbiAgICAgICAgICAgICd0eXBlJzogJ2RvbScsXHJcbiAgICAgICAgICAgICdkb21Nb2RlJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2NhbnZhc01vZGUnOiBmYWxzZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvbUV2ZW50KCkge1xyXG4gICAgICAgICAgICBwaWQgPSB0aGlzLnBpZFxyXG4gICAgICAgICAgICBjb250ZW50TmFtZSA9IHRoaXMuX21ha2VQcmVmaXgoJ0NvbnRlbnQnLCBwaWQsIHRoaXMuaWQpXHJcblxyXG4gICAgICAgICAgICAvL+aJvuWIsOWvueW6lOe7keWumuS6i+S7tueahOWFg+e0oFxyXG4gICAgICAgICAgICBldmVudENvbnRleHQgPSB0aGlzLl9maW5kQ29udGVudEVsZW1lbnQoY29udGVudE5hbWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjYW52YXNFdmVudCgpIHtcclxuICAgICAgICAgICAgZXZlbnRDb250ZXh0ID0ge31cclxuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSAnY2FudmFzJztcclxuICAgICAgICAgICAgZXZlbnREYXRhLmNhbnZhc01vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBldmVudERhdGEuZG9tTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jYW52YXPkuovku7ZcclxuICAgICAgICBpZiAoLTEgIT09IHRoaXMuY2FudmFzUmVsYXRlZC5jaWQuaW5kZXhPZihldmVudElkKSkge1xyXG4gICAgICAgICAgICBjYW52YXNFdmVudC5jYWxsKHRoaXMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9kb23kuovku7ZcclxuICAgICAgICAgICAgZG9tRXZlbnQuY2FsbCh0aGlzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnREYXRhLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICAvL+e7keWumuS6i+S7tuWKoOWFpeWIsGNvbnRlbnTpkqnlrZBcclxuICAgICAgICAgICAgdGhpcy5yZWxhdGVkQ2FsbGJhY2suY29udGVudHNIb29rcyhwaWQsIGV2ZW50SWQsIHtcclxuICAgICAgICAgICAgICAgICRjb250ZW50UHJvY2VzczogZXZlbnRDb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgLy/lop7liqDlpJbpg6jliKTmlq1cclxuICAgICAgICAgICAgICAgIGlzQmluZEV2ZW50SG9va3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBldmVudERhdGEudHlwZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiDpkojlr7nliqjmgIHkuovku7blpITnkIZcclxuICAgICAgICAgICAgICog5b+r5o235pa55byP5byV55So5Yiw54i25a+56LGhXHJcbiAgICAgICAgICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBldmVudERhdGEucGFyZW50ID0gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6PmnpDlh7rkuovku7bnsbvlnotcclxuICAgICAqL1xyXG4gICAgZXZlbnREYXRhLmV2ZW50TmFtZSA9IGNvbnZlcnNpb25FdmVudFR5cGUoZXZlbnREYXRhLmV2ZW50VHlwZSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOe7keWumuS6i+S7tuihjOS4ulxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5iaW5kRXZlbnRCZWhhdmlvciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgZXZlbnREYXRhID0gdGhpcy5ldmVudERhdGEsXHJcbiAgICAgICAgZXZlbnROYW1lID0gZXZlbnREYXRhLmV2ZW50TmFtZSxcclxuICAgICAgICBldmVudENvbnRleHQgPSBldmVudERhdGEuZXZlbnRDb250ZXh0O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+Q6KGM5Yqo55S7XHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc3RhcnRSdW5BbmltKCkge1xyXG4gICAgICAgIC8v5b2T5YmN5LqL5Lu25a+56LGh5rKh5pyJ5Yqo55S755qE5pe25YCZ5omN6IO96Kem5Y+R5YWz6IGU5Yqo5L2cXHJcbiAgICAgICAgdmFyIGFuaW1PZmZzZXQsXHJcbiAgICAgICAgICAgIGJvdW5kYXJ5ID0gNTsgLy/ovrnnlYzlgLxcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5kb21Nb2RlICYmIChhbmltT2Zmc2V0ID0gZXZlbnRDb250ZXh0LnByb3AoJ2FuaW1PZmZzZXQnKSkpIHtcclxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsTGVmdCA9IGFuaW1PZmZzZXQubGVmdDtcclxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsVG9wID0gYW5pbU9mZnNldC50b3A7XHJcbiAgICAgICAgICAgIHZhciBuZXdPZmZzZXQgPSBldmVudENvbnRleHQub2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIHZhciBuZXdMZWZ0ID0gbmV3T2Zmc2V0LmxlZnQ7XHJcbiAgICAgICAgICAgIHZhciBuZXdUb3AgPSBuZXdPZmZzZXQudG9wO1xyXG4gICAgICAgICAgICAvL+WcqOWQiOeQhueahOWKqOeUu+iMg+WbtOaYr+WFgeiuuOeCueWHu+eahFxyXG4gICAgICAgICAgICAvL+avlOWmguWvueixoeWPquaYr+S4gOS4quWwj+iMg+WbtOeahOWGheeahOaUueWPmFxyXG4gICAgICAgICAgICAvL+ato+i0nzEwcHjnmoTnp7vliqjmmK/lhYHorrjmjqXlj5fnmoRcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsTGVmdCA+IChuZXdMZWZ0IC0gYm91bmRhcnkpICYmIG9yaWdpbmFsTGVmdCA8IChuZXdMZWZ0ICsgYm91bmRhcnkpIHx8IG9yaWdpbmFsVG9wID4gKG5ld1RvcCAtIGJvdW5kYXJ5KSAmJiBvcmlnaW5hbFRvcCA8IChuZXdUb3AgKyBib3VuZGFyeSkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucnVuRWZmZWN0cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5ydW5FZmZlY3RzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5oyJ6ZKu55qE6KGM5Li6XHJcbiAgICAgKiDpn7PpopFcclxuICAgICAqIOWPjeW8uVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRCZWhhdmlvcihmZWVkYmFja0JlaGF2aW9yKSB7XHJcblxyXG4gICAgICAgIHZhciBiZWhhdmlvclNvdW5kO1xyXG4gICAgICAgIC8v6Z+z6aKR5Zyw5Z2AXHJcbiAgICAgICAgaWYgKGJlaGF2aW9yU291bmQgPSBmZWVkYmFja0JlaGF2aW9yLmJlaGF2aW9yU291bmQpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjcmVhdGVBdWlkbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWHV0LkF1ZGlvKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBiZWhhdmlvclNvdW5kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja0lkOiA5OTk5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v5aaZ5aaZ5a2m5a6i5oi356uv5by65Yi25Yig6ZmkXHJcbiAgICAgICAgICAgIGlmIChNTVhDT05GSUcgJiYgYXVkaW9IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9maXhBdWRpby5wdXNoKGNyZWF0ZUF1aWRvKCkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBdWlkbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Y+N5by55pWI5p6cXHJcbiAgICAgICAgaWYgKGZlZWRiYWNrQmVoYXZpb3IuaXNCdXR0b24pIHtcclxuICAgICAgICAgICAgLy9kaXbpgJrov4djc3Plrp7njrDlj43lvLlcclxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5kb21Nb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudENvbnRleHQuYWRkQ2xhc3MoJ3h1dC1iZWhhdmlvcicpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENvbnRleHQucmVtb3ZlQ2xhc3MoJ3h1dC1iZWhhdmlvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UnVuQW5pbSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgNTAwKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9jYW52YXPlj43lvLlcclxuICAgICAgICAgICAgICAgIHZhciBzeCA9IGV2ZW50Q29udGV4dC5zY2FsZS54O1xyXG4gICAgICAgICAgICAgICAgdmFyIHB4ID0gZXZlbnRDb250ZXh0LnBvc2l0aW9uLng7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0LnNjYWxlLnggKz0gMC4xO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0LnBvc2l0aW9uLnggLT0gTWF0aC5yb3VuZChweCAqIDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYW52YXNSZWxhdGVkLm9uZVJlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb250ZXh0LnNjYWxlLnggPSBzeDtcclxuICAgICAgICAgICAgICAgICAgICBldmVudENvbnRleHQucG9zaXRpb24ueCA9IHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzUmVsYXRlZC5vbmVSZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydFJ1bkFuaW0oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuovku7blvJXnlKjpkqnlrZBcclxuICAgICAqIOeUqOaIt+azqOWGjOS4juaJp+ihjFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGV2ZW50RHJvcCA9IHtcclxuICAgICAgICAvL+S/neWtmOW8leeUqCzmlrnkvr/nm7TmjqXplIDmr4FcclxuICAgICAgICBpbml0OiBmdW5jdGlvbihkcmFnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50RGF0YS5kcmFnRHJvcCA9IGRyYWc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvL+aLluaLveW8gOWni+eahOWkhOeQhlxyXG4gICAgICAgIHN0YXJ0UnVuOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvL+aLluaLvee7k+adn+eahOWkhOeQhlxyXG4gICAgICAgIHN0b3BSdW46IGZ1bmN0aW9uKGlzRW50ZXIpIHtcclxuICAgICAgICAgICAgaWYgKGlzRW50ZXIpIHsgLy/kuLp0cnVl6KGo56S65ouW5ou96L+b5YWl55uu5qCH5a+56LGh5Yy65Z+fXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJ1bkVmZmVjdHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmraPluLjliqjnlLvmiafooYxcclxuICAgICAqIOmZpOWOu+aLluWKqOaLluS9j+WklueahOaJgOacieS6i+S7tlxyXG4gICAgICog54K55Ye7LOWPjOWHuyzmu5HliqjnrYnnrYkuLi4uXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgdmFyIGV2ZW50UnVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/lpoLmnpzlrZjlnKjlj43ppojliqjkvZxcclxuICAgICAgICAvL+S8mOWFiOS6juWKqOeUu+aJp+ihjFxyXG4gICAgICAgIHZhciBmZWVkYmFja0JlaGF2aW9yO1xyXG4gICAgICAgIGlmIChmZWVkYmFja0JlaGF2aW9yID0gZXZlbnREYXRhLmZlZWRiYWNrQmVoYXZpb3JbZXZlbnREYXRhLmV2ZW50Q29udGVudElkXSkge1xyXG4gICAgICAgICAgICBzZXRCZWhhdmlvcihmZWVkYmFja0JlaGF2aW9yKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXJ0UnVuQW5pbSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuovku7blr7nosaHlvJXnlKhcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnRSZWZlcmVuY2UsIGV2ZW50SGFuZGxlcikge1xyXG4gICAgICAgIGV2ZW50RGF0YS5ldmVudFJlZmVyZW5jZSA9IGV2ZW50UmVmZXJlbmNlO1xyXG4gICAgICAgIGV2ZW50RGF0YS5ldmVudEhhbmRsZXIgPSBldmVudEhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8v57uR5a6a55So5oi36Ieq5a6a5LmJ5LqL5Lu2XHJcbiAgICBpZiAoZXZlbnRDb250ZXh0ICYmIGV2ZW50TmFtZSkge1xyXG5cclxuICAgICAgICB2YXIgZG9tTmFtZSwgdGFyZ2V0LFxyXG4gICAgICAgICAgICBkcmFnZHJvcFBhcmEgPSBldmVudERhdGEuZHJhZ2Ryb3BQYXJhO1xyXG5cclxuICAgICAgICAvL+iOt+WPluaLluaLveebruagh+WvueixoVxyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT09ICdkcmFnVGFnJykge1xyXG4gICAgICAgICAgICBkb21OYW1lID0gdGhpcy5fbWFrZVByZWZpeCgnQ29udGVudCcsIHRoaXMucGlkLCBkcmFnZHJvcFBhcmEpO1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLl9maW5kQ29udGVudEVsZW1lbnQoZG9tTmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WinuWKoOS6i+S7tue7keWumuagh+ekulxyXG4gICAgICAgIC8v6ZKI5a+55Yqo5oCB5Yqg6L296IqC54K55LqL5Lu255qE6KGM5Li66L+H5rukXHJcbiAgICAgICAgZXZlbnREYXRhLmlzQmluZCA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgJ2V2ZW50RHJvcCc6IGV2ZW50RHJvcCxcclxuICAgICAgICAgICAgJ2V2ZW50UnVuJzogZXZlbnRSdW4sXHJcbiAgICAgICAgICAgICdldmVudEhhbmRsZXInOiBldmVudEhhbmRsZXIsXHJcbiAgICAgICAgICAgICdldmVudENvbnRleHQnOiBldmVudENvbnRleHQsXHJcbiAgICAgICAgICAgICdldmVudE5hbWUnOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICdwYXJhbWV0ZXInOiBkcmFnZHJvcFBhcmEsXHJcbiAgICAgICAgICAgICd0YXJnZXQnOiB0YXJnZXQsXHJcbiAgICAgICAgICAgICdkb21Nb2RlJzogZXZlbnREYXRhLmRvbU1vZGVcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOazqOWGjOS6i+S7tlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5yZWdpc3RlckV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZXZlbnREYXRhID0gdGhpcy5ldmVudERhdGE7XHJcbiAgICAvKipcclxuICAgICAqIDIwMTYuMi4xOVxyXG4gICAgICog57uR5a6aY2FudmFz5LqL5Lu2XHJcbiAgICAgKiDnlLHkuo5jYW52YXPmnInlvILmraXliqDovb1cclxuICAgICAqIOi/memHjGNvbnRlbnTliJvlu7rnmoTml7blgJnkuI3pmLvmlq3liqDovb1cclxuICAgICAqIOaJgOS7pWNhbnZhc+eahOS6i+S7tuS9k+ezu1xyXG4gICAgICog5pS+5Yiw5omA5pyJ5byC5q2l5paH5Lu25Yqg6L295ZCO5omN5omn6KGMXHJcbiAgICAgKi9cclxuICAgIGlmIChldmVudERhdGEudHlwZSA9PT0gXCJjYW52YXNcIikge1xyXG4gICAgICAgIHZhciBtYWtlRnVuY3Rpb24gPSBmdW5jdGlvbiBiaW5kKCkge1xyXG4gICAgICAgICAgICAvL+aJvuWIsOWvueW6lOeahOS4iuS4i+aWh3BpeGkgc3RvZ2VcclxuICAgICAgICAgICAgZXZlbnREYXRhLmV2ZW50Q29udGV4dCA9IHt9XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50QmVoYXZpb3IoZnVuY3Rpb24oZXZlbnREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kUGl4aUV2ZW50cyhldmVudERhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnY29udGVudCBjYW52YXPkuovku7YnKVxyXG4gICAgICAgIHRoaXMubmV4dFRhc2suZXZlbnQucHVzaChtYWtlRnVuY3Rpb24uYmluZCh0aGlzKSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9kb23kuovku7ZcclxuICAgICAgICB0aGlzLmJpbmRFdmVudEJlaGF2aW9yKGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xyXG4gICAgICAgICAgICBiaW5kQ29udGVudEV2ZW50cyhldmVudERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAg56eB5pyJ5pa55rOVXHJcbiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIGRvbeiKgueCueWOu+mHjee7keWumlxyXG4gKiDlnKjmr4/kuIDmrKHmnoTlu7phY3Rpdml0eeWvueixoeS4re+8jOS4jemHjeWkjeWkhOeQhmNvbnRlbnTkuIDkupvnibnmgKdcclxuICogMSDnv7vpobXnibnmgKdcclxuICogMiDms6jlhozpkqnlrZBcclxuICogMyDpooTmmL7npLpcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hY3Rpdml0UHJvdG8uX3JlcGVhdEJpbmQgPSBmdW5jdGlvbihpZCwgY29udGV4dCwgaXNScmVSdW4sIHNjb3BlLCBjb2xsZWN0b3JIb29rcywgY2FudmFzTW9kZSkge1xyXG4gICAgdmFyIGluZGV4T2YsXHJcbiAgICAgICAgcmVsYXRlZERhdGEgPSB0aGlzLnJlbGF0ZWREYXRhO1xyXG5cclxuICAgIC8v6L+H5ruk6YeN5aSN5YWz57O7XHJcbiAgICBpZiAoLTEgIT09IChpbmRleE9mID0gcmVsYXRlZERhdGEuY3JlYXRlQ29udGVudElkcy5pbmRleE9mKGlkKSkpIHtcclxuICAgICAgICAvL+WIoOmZpCzljrvph41cclxuICAgICAgICByZWxhdGVkRGF0YS5jcmVhdGVDb250ZW50SWRzLnNwbGljZShpbmRleE9mLCAxKTtcclxuICAgICAgICAvL+aUtumbhuavj+S4gOS4qmNvbnRlbnTms6jlhoxcclxuICAgICAgICBjb2xsZWN0b3JIb29rcyhzY29wZS5waWQsIGlkLCBzY29wZSk7XHJcbiAgICAgICAgLy9jYW52YXPmqKHlvI9cclxuICAgICAgICBpZiAoY2FudmFzTW9kZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNScmVSdW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlkLHNjb3BlKVxyXG4gICAgICAgICAgICAgICAgLy/nm7TmjqXmlLnlj5jlhYPntKDnirbmgIFcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRleHQudmlzaWJsZSA9IGlzUnJlUnVuID09PSAndmlzaWJsZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRUYXNrLnByZVtpZF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUYXNrLnByZS5wdXNoKGZ1bmN0aW9uIHByZShjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpooTmiafooYwnLCBpc1JyZVJ1bilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jYW52YXNSZWxhdGVkLm9uZVJlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL2RvbeaooeW8j1xyXG4gICAgICAgICAgICAvL+WinuWKoOe/u+mhteeJueaAp1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRJU2Nyb2xsKHNjb3BlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgLy/nm7TmjqXlpI3kvY3nirbmgIEs6ZKI5a+55Ye6546w5Yqo55S7IHNob3cvaGlkZVxyXG4gICAgICAgICAgICBpZiAoaXNScmVSdW4pIHtcclxuICAgICAgICAgICAgICAgIC8v55u05o6l5pS55Y+Y5YWD57Sg54q25oCBXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiBpc1JyZVJ1blxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlop7liqDnv7vpobXnibnmgKdcclxuICog5Y+v6IO95pyJ5aSa5Liq5byV55So5YWz57O7XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hY3Rpdml0UHJvdG8uX2FkZElTY3JvbGwgPSBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGVsZW1lbnROYW1lLFxyXG4gICAgICAgIGNvbnRlbnREYXMgPSBzY29wZS5jb250ZW50RGFzO1xyXG5cclxuICAgIC8v57uZ5aSW6YOo6LCD55So5aSE55CGXHJcbiAgICBmdW5jdGlvbiBtYWtlVXNlRnVuY3Rpb24oZWxlbWVudCkge1xyXG5cclxuICAgICAgICB2YXIgcHJlUG9jZXNzID0gc2VsZi5fbWFrZVByZWZpeCgnQ29udGVudCcsIHNjb3BlLnBpZCwgc2NvcGUuaWQpLFxyXG4gICAgICAgICAgICBwcmVFbGUgPSBzZWxmLl9maW5kQ29udGVudEVsZW1lbnQocHJlUG9jZXNzKVxyXG5cclxuICAgICAgICAvL+mHjee9ruWFg+e0oOeahOe/u+mhteWkhOeQhlxyXG4gICAgICAgIC8vIGRlZmF1bHRCZWhhdmlvcihwcmVFbGUpO1xyXG5cclxuICAgICAgICAvL2lvcyBvciBwY1xyXG4gICAgICAgIGlmICghWHV0LnBsYXQuaXNBbmRyb2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaXNjcm9sbCA9IElzY3JvbGwoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Zyo5a6J5Y2T5LiK5rua5Yqo5paH5pys55qE5LqS5pal5LiN5pi+56S65YGa5LiA5Liq6KGl5LiB5aSE55CGXHJcbiAgICAgICAgLy/lpoLmnpzmmK/pmpDol4/nmoQs6ZyA6KaB5by65Yi25pi+56S6LOW+hemCpuWumua7muWKqOS5i+WQjuWGjei/mOWOn1xyXG4gICAgICAgIC8v5aaC5p6c5piv5pi+56S655qELOWImeS4jemcgOimgeWkhOeQhixcclxuICAgICAgICB2YXIgdmlzaWJsZSA9IHByZUVsZS5jc3MoJ3Zpc2liaWxpdHknKSxcclxuICAgICAgICAgICAgcmVzdG9yZSA9IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgICAgIGlmICh2aXNpYmxlID09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gcHJlRWxlLmNzcygnb3BhY2l0eScpO1xyXG4gICAgICAgICAgICAvL+WmguaenOiuvue9ruS6huS4jemAj+aYjizliJnnroDljZXorr7kuLrlj6/op4HnmoRcclxuICAgICAgICAgICAgLy/lkKbliJnlhYjorr7kuLrkuI3pgI/mmI4s5YaN6K6+5Li65Y+v6KeBXHJcbiAgICAgICAgICAgIGlmIChvcGFjaXR5ID09IDApIHtcclxuICAgICAgICAgICAgICAgIHByZUVsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmVzdG9yZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZUVsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6IHZpc2libGVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJlRWxlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAwXHJcbiAgICAgICAgICAgICAgICB9KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmVzdG9yZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZUVsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IG9wYWNpdHlcclxuICAgICAgICAgICAgICAgICAgICB9KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6IHZpc2libGVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaXNjcm9sbCA9IElzY3JvbGwoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJlc3RvcmUoKTtcclxuICAgICAgICAgICAgcHJlRWxlID0gbnVsbDtcclxuICAgICAgICAgICAgcmVzdG9yZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5aKe5Yqg5Y235rua5p2hXHJcbiAgICBpZiAoY29udGVudERhcy5pc1Njcm9sbCkge1xyXG4gICAgICAgIC8v5Y675o6J6auY5bqm77yM5Zug5Li65pyJ5rua5Yqo5paH5pys5qGGXHJcbiAgICAgICAgZWxlbWVudC5maW5kKFwiPlwiKS5jc3MoXCJoZWlnaHRcIiwgXCJcIilcclxuXHJcbiAgICAgICAgLy8gZWxlbWVudE5hbWUgPSB0aGlzLl9tYWtlUHJlZml4KCdjb250ZW50V3JhcHBlcicsIHNjb3BlLnBpZCwgc2NvcGUuaWQpO1xyXG4gICAgICAgIHRoaXMucmVsYXRlZENhbGxiYWNrLmlzY3JvbGxIb29rcy5wdXNoKG1ha2VVc2VGdW5jdGlvbihlbGVtZW50WzBdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpoLmnpzmmK/lm77niYfliJnooaXlsJ3lhYHorrjojIPlm7TlhoXnmoTpq5jluqZcclxuICAgIGlmICghY29udGVudERhcy5tYXNrIHx8ICFjb250ZW50RGFzLmlzR2lmKSB7XHJcbiAgICAgICAgZWxlbWVudC5maW5kICYmIGVsZW1lbnQuZmluZCgnaW1nJykuY3NzKHtcclxuICAgICAgICAgICAgJ2hlaWdodCc6IGNvbnRlbnREYXMuc2NhbGVIZWlnaHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliLbkvZzkuIDkuKrmn6Xmib7moIfnpLpcclxuICogQHJldHVybiB7W3R5cGVdfVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLl9tYWtlUHJlZml4ID0gZnVuY3Rpb24obmFtZSwgcGlkLCBpZCkge1xyXG4gICAgcmV0dXJuIG5hbWUgKyBcIl9cIiArIHBpZCArIFwiX1wiICsgaWQ7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5LuO5paH5qGj56KO54mH5Lit5om+5Yiw5a+55bqU55qEZG9t6IqC54K5XHJcbiAqIOafpeaJvueahOiMg+WbtFxyXG4gKiAxIOaWh+aho+agueiKgueCuVxyXG4gKiAyIOaWh+aho+WuueWZqOiKgueCuVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHByZWZpeCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5fZmluZENvbnRlbnRFbGVtZW50ID0gZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICB2YXIgZWxlbWVudCwgY29udGFpbmVyUHJlZml4LFxyXG4gICAgICAgIGNvbnRlbnRzRnJhZ21lbnQgPSB0aGlzLnJlbGF0ZWREYXRhLmNvbnRlbnRzRnJhZ21lbnQ7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQgPSAoY29udGVudHNGcmFnbWVudFtwcmVmaXhdKSkge1xyXG4gICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v5a655Zmo5aSE55CGXHJcbiAgICAgICAgaWYgKGNvbnRhaW5lclByZWZpeCA9IHRoaXMucmVsYXRlZERhdGEuY29udGFpbmVyUHJlZml4KSB7XHJcbiAgICAgICAgICAgIF8uZWFjaChjb250YWluZXJQcmVmaXgsIGZ1bmN0aW9uKGNvbnRhaW5lck5hbWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gY29udGVudHNGcmFnbWVudFtjb250YWluZXJOYW1lXTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpLmZpbmQoJyMnICsgcHJlZml4KTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxufVxyXG5cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgIOWklumDqOiwg+eUqOaOpeWPo1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiDoh6rliqjov5DooYxcclxuICogQHBhcmFtICB7W3R5cGVdfSBvdXRDb21wbGV0ZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYWN0aXZpdFByb3RvLmF1dG9QbGF5ID0gZnVuY3Rpb24ob3V0Q29tcGxldGUpIHtcclxuICAgIHZhciBldmVudERhdGEgPSB0aGlzLmV2ZW50RGF0YTtcclxuICAgIGlmIChldmVudERhdGEgJiYgZXZlbnREYXRhLmV2ZW50TmFtZSA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgdGhpcy5ydW5FZmZlY3RzKG91dENvbXBsZXRlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3V0Q29tcGxldGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnv7vpobXlvIDlp4tcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hY3Rpdml0UHJvdG8uZmxpcE92ZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLnJ1blN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wRWZmZWN0cygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wcmV2ZW50UmVwZWF0ID0gZmFsc2VcclxuICAgICAgICAvL+WkjeS9jeebkuWtkFxyXG4gICAgaWYgKHRoaXMuaHRtbEJveEluc3RhbmNlLmxlbmd0aCkge1xyXG4gICAgICAgIF8uZWFjaCh0aGlzLmh0bWxCb3hJbnN0YW5jZSwgZnVuY3Rpb24oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVtb3ZlQm94KCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8v5L+u5aSN5aaZ5aaZ5a6i5oi356uvXHJcbiAgICAvL+ayoeacieeCueWHu+mfs+mikee7k+adn+eahOWbnuiwg1xyXG4gICAgLy/mnIDlpJrlhYHorrjmkq3mlL4156eSXHJcbiAgICBpZiAodGhpcy5fZml4QXVkaW8ubGVuZ3RoKSB7XHJcbiAgICAgICAgXy5lYWNoKHRoaXMuX2ZpeEF1ZGlvLCBmdW5jdGlvbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZW5kKCk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLl9maXhBdWRpbyA9IFtdO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOe/u+mhteWujOaIkOWkjeS9jeWKqOeUu1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5mbGlwQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucmVzZXRBbmltYXRpb24oKTtcclxufVxyXG5cclxuXHJcbi8v6ZSA5q+BXHJcbi8v5o+Q5L6b5LiA5Liq5Yig6Zmk5Zue6LCDXHJcbi8v55So5LqO5aSE55CG5rWu5Yqo5a+56LGh55qE6ZSA5q+BXHJcbmFjdGl2aXRQcm90by5kZXN0cm95ID0gZnVuY3Rpb24oZWxlbWVudENhbGxiYWNrKSB7XHJcblxyXG4gICAgLy/plIDmr4Hnu5Hlrprkuovku7ZcclxuICAgIGlmICh0aGlzLmV2ZW50RGF0YS5ldmVudENvbnRleHQpIHtcclxuICAgICAgICBkZXN0cm95RXZlbnRzKHRoaXMuZXZlbnREYXRhKTtcclxuICAgICAgICB0aGlzLmV2ZW50RGF0YS5ldmVudENvbnRleHQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vMjAxNi4xLjdcclxuICAgIC8v5aaC5p6c5pyJ5paH5pys5qGG5LqL5Lu2XHJcbiAgICAvL+S4gOS4qmFjdGl2aXR55YWB6K645pyJ5aSa5Liq5paH5pys5qGGXHJcbiAgICAvL+aJgOS7peaYr+aVsOe7hOe0ouW8lVxyXG4gICAgaWYgKHRoaXMuaHRtbEJveEluc3RhbmNlLmxlbmd0aCkge1xyXG4gICAgICAgIF8uZWFjaCh0aGlzLmh0bWxCb3hJbnN0YW5jZSwgZnVuY3Rpb24oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5odG1sQm94SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6ZSA5q+B5Yqo55S7XHJcbiAgICB0aGlzLmRlc3Ryb3lFZmZlY3RzKGVsZW1lbnRDYWxsYmFjayk7XHJcblxyXG4gICAgLy9pc2Nyb2xs6ZSA5q+BXHJcbiAgICBpZiAodGhpcy5pc2Nyb2xsKSB7XHJcbiAgICAgICAgdGhpcy5pc2Nyb2xsLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmlzY3JvbGwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6ZSA5q+B5pCc57Si5qGGXHJcbiAgICBpZiAodGhpcy5zZWFyY2hCYXIpIHtcclxuICAgICAgICB0aGlzLnNlYXJjaEJhci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hCYXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6ZSA5q+B5Lmm562+XHJcbiAgICBpZiAodGhpcy5ib29rTWFyaykge1xyXG4gICAgICAgIHRoaXMuYm9va01hcmsuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuYm9va01hcmsgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucm9vdE5vZGUgPSBudWxsO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWkjeS9jVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFjdGl2aXRQcm90by5yZWNvdmVyeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucnVuU3RhdGUpIHtcclxuICAgICAgICB0aGlzLnN0b3BFZmZlY3RzKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgYWN0aXZpdHlDbGFzc1xyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvY29udGVudC9hY3Rpdml0eS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Animation = undefined;\n\nvar _sprite = __webpack_require__(43);\n\nvar _sprite2 = __webpack_require__(51);\n\nvar _dep = __webpack_require__(37);\n\n/**\r\n * 销毁动画音频\r\n * @param  {[type]} videoIds  [description]\r\n * @param  {[type]} chapterId [description]\r\n * @return {[type]}           [description]\r\n */\n\n\n//pixi普通精灵动画\nfunction destroyContentAudio(videoIds, chapterId) {\n    var isExist = false;\n    //如果有音频存在\n    videoIds && _.each(videoIds, function (data, index) {\n        //如果存在对象音频\n        if (data.videoId) {\n            isExist = true;\n            return 'breaker';\n        }\n    });\n    if (isExist) {\n        Xut.AudioManager.clearContentAudio(chapterId);\n    }\n}\n\n/**\r\n * 判断是否存在\r\n * @return {Boolean} [description]\r\n */\n\n\n//依赖\n/*********************************************************************\r\n *\r\n * content的动画类对象\r\n * 1 ppt 动画\r\n * 2 精灵动画\r\n * 3 show/hide接口\r\n * 4 canvas动画\r\n * @return {[type]} [description]\r\n *\r\n ********************************************************************/\n\n//dom精灵动画\nfunction bind(instance, success, fail) {\n    if (instance) {\n        success.call(instance, instance);\n    } else {\n        fail && fail();\n    }\n}\n\n/**\r\n * 动画对象控制\r\n * @param {[type]} options [description]\r\n */\nvar Animation = function Animation(options) {\n    //mix参数\n    _.extend(this, options);\n};\n\nvar animProto = Animation.prototype;\n\n/**\r\n * 绑定动画\r\n * 为了向上兼容API\r\n * element \r\n *  1 dom动画\r\n *  2 canvas动画\r\n * @param  {[type]} context   [description]\r\n * @param  {[type]} rootNode  [description]\r\n * @param  {[type]} chapterId [description]\r\n * @param  {[type]} parameter [description]\r\n * @param  {[type]} pageType  [description]\r\n * @return {[type]}           [description]\r\n */\nanimProto.init = function (id, context, rootNode, chapterId, parameter, pageType) {\n\n    var canvasRelated = this.canvasRelated;\n    var pageIndex = this.pageIndex;\n    var self = this;\n    var actionTypes;\n    var create = function create(constructor, newContext) {\n        return new constructor(pageIndex, pageType, chapterId, newContext || context, parameter, rootNode);\n    };\n\n    //dom模式\n    if (this.domMode) {\n        //ppt动画\n        this.pptObj = create(PptAnimation);\n        //普通精灵动画\n        this.domSprites = this.contentDas.category === 'Sprite' ? true : false;\n    }\n\n    //canvas模式\n    //比较复杂\n    //1 普通与ppt组合\n    //2 高级与ppt组合\n    //3 ppt独立\n    //4 普通精灵动画\n    //  其中 高级精灵动画是widget创建，需要等待\n    if (this.canvasMode) {\n        //动作类型\n        //可能是组合动画\n        actionTypes = this.contentDas.actionTypes;\n        //精灵动画\n        if (actionTypes.spiritId) {\n            //加入任务队列\n            this.nextTask.context.add(id);\n            this.pixiSpriteObj = new _sprite2.Sprite(this.contentDas, canvasRelated);\n            //ppt动画\n            if (actionTypes.pptId) {\n                //构建精灵动画完毕后\n                //构建ppt对象\n                this.pixiSpriteObj.$once('load', function () {\n                    //content=>MovieClip\n                    self.pptObj = create(CanvasAnimation, this.movie);\n                    //任务完成\n                    self.nextTask.context.remove(id);\n                });\n            }\n        }\n\n        //高级精灵动画\n        //content需要依赖高级动画pixi创建\n        //因为精灵动画是widget创建类型\n        //所以代码需要延后，等待高级content先创建\n        if (actionTypes.widgetId) {\n            this.linker = function () {\n                return function pptwidget(context) {\n                    self.linker = null;\n                    self.pptObj = create(CanvasAnimation, context.sprObjs[0].advSprite);\n                    self.linker.dep.notify(self.pptObj);\n                };\n            }();\n            // 收集依赖\n            this.linker.dep = new _dep.Dep();\n        }\n    }\n};\n\n/**\r\n * 运行动画\r\n * @param  {[type]} scopeComplete   [动画回调]\r\n * @param  {[type]} canvasContainer [description]\r\n * @return {[type]}                 [description]\r\n */\nanimProto.run = function (scopeComplete) {\n\n    var self = this,\n        defaultIndex,\n        element = this.$contentProcess;\n\n    var succeed = function succeed(animObj) {\n        //优化处理,只针对互斥的情况下\n        //处理层级关系\n        if (element.prop && element.prop(\"mutex\")) {\n            element.css({ //强制提升层级\n                'display': 'block'\n            });\n        }\n        //指定动画\n        animObj.runAnimation(scopeComplete);\n    };\n\n    //失败增加依赖触发\n    var fail = function fail() {\n        if (self.linker) {\n            self.linker.dep.addSub(succeed);\n        }\n    };\n\n    //ppt动画\n    //dom\n    //canvas =》link => fail\n    bind(this.pptObj, succeed, fail);\n\n    //canvas普通精灵动画\n    bind(this.pixiSpriteObj, function (animObj) {\n        animObj.playPixi(scopeComplete);\n    });\n\n    //dom精灵动画\n    if (this.domSprites && element) {\n        //存在动画\n        if (this.spriteObj) {\n            this.spriteObj.playSprites();\n            return;\n        }\n        element = this.$contentProcess.find('.sprite').show();\n        this.spriteObj = (0, _sprite.Sprite)({\n            element: element,\n            data: this.contentDas,\n            id: this.id,\n            mode: 'css'\n        });\n    }\n};\n\n/**\r\n * 停止动画\r\n * @param  {[type]} chapterId [description]\r\n * @return {[type]}           [description]\r\n */\nanimProto.stop = function (chapterId) {\n\n    //ppt动画\n    bind(this.pptObj, function (animObj) {\n        //销毁ppt音频\n        destroyContentAudio(animObj.options, chapterId);\n        //停止PPT动画\n        animObj.stopAnimation();\n    });\n\n    //canvas精灵\n    bind(this.pixiSpriteObj, function (animObj) {\n        animObj.stopPixi();\n    });\n\n    //dom精灵\n    bind(this.spriteObj, function (sprObj) {\n        sprObj.pauseSprites();\n    });\n};\n\n/**\r\n * 翻页结束，复位上一页动画\r\n * @return {[type]} [description]\r\n */\nanimProto.reset = function () {\n    bind(this.pptObj, function (animObj) {\n        animObj.resetAnimation();\n    });\n};\n\n/**\r\n * 销毁动画\r\n * @return {[type]} [description]\r\n */\nanimProto.destroy = function () {\n\n    //canvas\n    bind(this.pixiSpriteObj, function (animObj) {\n        animObj.destroyPixi();\n    });\n\n    //dom ppt\n    bind(this.pptObj, function (animObj) {\n        animObj.destroyAnimation();\n    });\n\n    //dom 精灵\n    bind(this.spriteObj, function (sprObj) {\n        sprObj.stopSprites();\n    });\n\n    this.pptObj = null;\n    this.spriteObj = null;\n    this.getParameter = null;\n    this.pixiSpriteObj = null;\n};\n\nexports.Animation = Animation;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2FuaW1hdGlvbi5qcz8yNDE5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFZQTs7QUFHQTs7QUFHQTs7Ozs7Ozs7Ozs7QUFVQSxTQUFTLG1CQUFULENBQTZCLFFBQTdCLEVBQXVDLFNBQXZDLEVBQWtEO0FBQzlDLFFBQUksVUFBVSxLQUFkOztBQUVBLGdCQUFZLEVBQUUsSUFBRixDQUFPLFFBQVAsRUFBaUIsVUFBUyxJQUFULEVBQWUsS0FBZixFQUFzQjs7QUFFL0MsWUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDZCxzQkFBVSxJQUFWO0FBQ0EsbUJBQU8sU0FBUDtBQUNIO0FBQ0osS0FOVyxDQUFaO0FBT0EsUUFBSSxPQUFKLEVBQWE7QUFDVCxZQUFJLFlBQUosQ0FBaUIsaUJBQWpCLENBQW1DLFNBQW5DO0FBQ0g7QUFDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUQsU0FBUyxJQUFULENBQWMsUUFBZCxFQUF3QixPQUF4QixFQUFpQyxJQUFqQyxFQUF1QztBQUNuQyxRQUFJLFFBQUosRUFBYztBQUNWLGdCQUFRLElBQVIsQ0FBYSxRQUFiLEVBQXVCLFFBQXZCO0FBQ0gsS0FGRCxNQUVPO0FBQ0gsZ0JBQVEsTUFBUjtBQUNIO0FBQ0o7Ozs7OztBQVFELElBQUksWUFBWSxTQUFaLFNBQVksQ0FBUyxPQUFULEVBQWtCOztBQUU5QixNQUFFLE1BQUYsQ0FBUyxJQUFULEVBQWUsT0FBZjtBQUdILENBTEQ7O0FBT0EsSUFBSSxZQUFZLFVBQVUsU0FBMUI7Ozs7Ozs7Ozs7Ozs7OztBQWdCQSxVQUFVLElBQVYsR0FBaUIsVUFBUyxFQUFULEVBQWEsT0FBYixFQUFzQixRQUF0QixFQUFnQyxTQUFoQyxFQUEyQyxTQUEzQyxFQUFzRCxRQUF0RCxFQUFnRTs7QUFFN0UsUUFBSSxnQkFBZ0IsS0FBSyxhQUF6QjtBQUNBLFFBQUksWUFBWSxLQUFLLFNBQXJCO0FBQ0EsUUFBSSxPQUFPLElB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SUFBckI7QUFDSCxDQXJCRDs7UUF3QkksUyxHQUFBLFMiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqIGNvbnRlbnTnmoTliqjnlLvnsbvlr7nosaFcclxuICogMSBwcHQg5Yqo55S7XHJcbiAqIDIg57K+54G15Yqo55S7XHJcbiAqIDMgc2hvdy9oaWRl5o6l5Y+jXHJcbiAqIDQgY2FudmFz5Yqo55S7XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vL2RvbeeyvueBteWKqOeUu1xyXG5pbXBvcnQgeyBTcHJpdGUgYXMgZG9tU3ByaXRlIH0gZnJvbSAnLi9wbHVnL3Nwcml0ZSdcclxuXHJcbi8vcGl4aeaZrumAmueyvueBteWKqOeUu1xyXG5pbXBvcnQgeyBTcHJpdGUgYXMgcGl4aVNwaXJpdCB9IGZyb20gJy4uL3BpeGkvc3ByaXRlJ1xyXG5cclxuLy/kvp3otZZcclxuaW1wb3J0IHsgRGVwIH0gZnJvbSAnLi9kZXAnXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDplIDmr4HliqjnlLvpn7PpopFcclxuICogQHBhcmFtICB7W3R5cGVdfSB2aWRlb0lkcyAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGNoYXB0ZXJJZCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGRlc3Ryb3lDb250ZW50QXVkaW8odmlkZW9JZHMsIGNoYXB0ZXJJZCkge1xyXG4gICAgdmFyIGlzRXhpc3QgPSBmYWxzZTtcclxuICAgIC8v5aaC5p6c5pyJ6Z+z6aKR5a2Y5ZyoXHJcbiAgICB2aWRlb0lkcyAmJiBfLmVhY2godmlkZW9JZHMsIGZ1bmN0aW9uKGRhdGEsIGluZGV4KSB7XHJcbiAgICAgICAgLy/lpoLmnpzlrZjlnKjlr7nosaHpn7PpopFcclxuICAgICAgICBpZiAoZGF0YS52aWRlb0lkKSB7XHJcbiAgICAgICAgICAgIGlzRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gJ2JyZWFrZXInO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBpZiAoaXNFeGlzdCkge1xyXG4gICAgICAgIFh1dC5BdWRpb01hbmFnZXIuY2xlYXJDb250ZW50QXVkaW8oY2hhcHRlcklkKVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5a2Y5ZyoXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGJpbmQoaW5zdGFuY2UsIHN1Y2Nlc3MsIGZhaWwpIHtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIHN1Y2Nlc3MuY2FsbChpbnN0YW5jZSwgaW5zdGFuY2UpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZhaWwgJiYgZmFpbCgpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIOWKqOeUu+WvueixoeaOp+WItlxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG52YXIgQW5pbWF0aW9uID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgLy9taXjlj4LmlbBcclxuICAgIF8uZXh0ZW5kKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHJcbn1cclxuXHJcbnZhciBhbmltUHJvdG8gPSBBbmltYXRpb24ucHJvdG90eXBlO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDnu5HlrprliqjnlLtcclxuICog5Li65LqG5ZCR5LiK5YW85a65QVBJXHJcbiAqIGVsZW1lbnQgXHJcbiAqICAxIGRvbeWKqOeUu1xyXG4gKiAgMiBjYW52YXPliqjnlLtcclxuICogQHBhcmFtICB7W3R5cGVdfSBjb250ZXh0ICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHJvb3ROb2RlICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY2hhcHRlcklkIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBwYXJhbWV0ZXIgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VUeXBlICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFuaW1Qcm90by5pbml0ID0gZnVuY3Rpb24oaWQsIGNvbnRleHQsIHJvb3ROb2RlLCBjaGFwdGVySWQsIHBhcmFtZXRlciwgcGFnZVR5cGUpIHtcclxuXHJcbiAgICB2YXIgY2FudmFzUmVsYXRlZCA9IHRoaXMuY2FudmFzUmVsYXRlZDtcclxuICAgIHZhciBwYWdlSW5kZXggPSB0aGlzLnBhZ2VJbmRleDtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhY3Rpb25UeXBlcztcclxuICAgIHZhciBjcmVhdGUgPSBmdW5jdGlvbihjb25zdHJ1Y3RvciwgbmV3Q29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgY29uc3RydWN0b3IocGFnZUluZGV4LCBwYWdlVHlwZSwgY2hhcHRlcklkLCBuZXdDb250ZXh0IHx8IGNvbnRleHQsIHBhcmFtZXRlciwgcm9vdE5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZG9t5qih5byPXHJcbiAgICBpZiAodGhpcy5kb21Nb2RlKSB7XHJcbiAgICAgICAgLy9wcHTliqjnlLtcclxuICAgICAgICB0aGlzLnBwdE9iaiA9IGNyZWF0ZShQcHRBbmltYXRpb24pO1xyXG4gICAgICAgIC8v5pmu6YCa57K+54G15Yqo55S7XHJcbiAgICAgICAgdGhpcy5kb21TcHJpdGVzID0gdGhpcy5jb250ZW50RGFzLmNhdGVnb3J5ID09PSAnU3ByaXRlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9jYW52YXPmqKHlvI9cclxuICAgIC8v5q+U6L6D5aSN5p2CXHJcbiAgICAvLzEg5pmu6YCa5LiOcHB057uE5ZCIXHJcbiAgICAvLzIg6auY57qn5LiOcHB057uE5ZCIXHJcbiAgICAvLzMgcHB054us56uLXHJcbiAgICAvLzQg5pmu6YCa57K+54G15Yqo55S7XHJcbiAgICAvLyAg5YW25LitIOmrmOe6p+eyvueBteWKqOeUu+aYr3dpZGdldOWIm+W7uu+8jOmcgOimgeetieW+hVxyXG4gICAgaWYgKHRoaXMuY2FudmFzTW9kZSkge1xyXG4gICAgICAgIC8v5Yqo5L2c57G75Z6LXHJcbiAgICAgICAgLy/lj6/og73mmK/nu4TlkIjliqjnlLtcclxuICAgICAgICBhY3Rpb25UeXBlcyA9IHRoaXMuY29udGVudERhcy5hY3Rpb25UeXBlc1xyXG4gICAgICAgIC8v57K+54G15Yqo55S7XHJcbiAgICAgICAgaWYgKGFjdGlvblR5cGVzLnNwaXJpdElkKSB7XHJcbiAgICAgICAgICAgIC8v5Yqg5YWl5Lu75Yqh6Zif5YiXXHJcbiAgICAgICAgICAgIHRoaXMubmV4dFRhc2suY29udGV4dC5hZGQoaWQpXHJcbiAgICAgICAgICAgIHRoaXMucGl4aVNwcml0ZU9iaiA9IG5ldyBwaXhpU3Bpcml0KHRoaXMuY29udGVudERhcywgY2FudmFzUmVsYXRlZCk7XHJcbiAgICAgICAgICAgIC8vcHB05Yqo55S7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb25UeXBlcy5wcHRJZCkge1xyXG4gICAgICAgICAgICAgICAgLy/mnoTlu7rnsr7ngbXliqjnlLvlrozmr5XlkI5cclxuICAgICAgICAgICAgICAgIC8v5p6E5bu6cHB05a+56LGhXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGlTcHJpdGVPYmouJG9uY2UoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnRlbnQ9Pk1vdmllQ2xpcFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHB0T2JqID0gY3JlYXRlKENhbnZhc0FuaW1hdGlvbiwgdGhpcy5tb3ZpZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/ku7vliqHlrozmiJBcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5leHRUYXNrLmNvbnRleHQucmVtb3ZlKGlkKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/pq5jnuqfnsr7ngbXliqjnlLtcclxuICAgICAgICAvL2NvbnRlbnTpnIDopoHkvp3otZbpq5jnuqfliqjnlLtwaXhp5Yib5bu6XHJcbiAgICAgICAgLy/lm6DkuLrnsr7ngbXliqjnlLvmmK93aWRnZXTliJvlu7rnsbvlnotcclxuICAgICAgICAvL+aJgOS7peS7o+eggemcgOimgeW7tuWQju+8jOetieW+hemrmOe6p2NvbnRlbnTlhYjliJvlu7pcclxuICAgICAgICBpZiAoYWN0aW9uVHlwZXMud2lkZ2V0SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5saW5rZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBwcHR3aWRnZXQoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlua2VyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBwdE9iaiA9IGNyZWF0ZShDYW52YXNBbmltYXRpb24sIGNvbnRleHQuc3ByT2Jqc1swXS5hZHZTcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlua2VyLmRlcC5ub3RpZnkoc2VsZi5wcHRPYmopXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0oKTtcclxuICAgICAgICAgICAgLy8g5pS26ZuG5L6d6LWWXHJcbiAgICAgICAgICAgIHRoaXMubGlua2VyLmRlcCA9IG5ldyBEZXAoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIOi/kOihjOWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHNjb3BlQ29tcGxldGUgICBb5Yqo55S75Zue6LCDXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGNhbnZhc0NvbnRhaW5lciBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFuaW1Qcm90by5ydW4gPSBmdW5jdGlvbihzY29wZUNvbXBsZXRlKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGRlZmF1bHRJbmRleCxcclxuICAgICAgICBlbGVtZW50ID0gdGhpcy4kY29udGVudFByb2Nlc3M7XHJcblxyXG4gICAgdmFyIHN1Y2NlZWQgPSBmdW5jdGlvbihhbmltT2JqKSB7XHJcbiAgICAgICAgLy/kvJjljJblpITnkIYs5Y+q6ZKI5a+55LqS5pal55qE5oOF5Ya15LiLXHJcbiAgICAgICAgLy/lpITnkIblsYLnuqflhbPns7tcclxuICAgICAgICBpZiAoZWxlbWVudC5wcm9wICYmIGVsZW1lbnQucHJvcChcIm11dGV4XCIpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHsgLy/lvLrliLbmj5DljYflsYLnuqdcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+aMh+WumuWKqOeUu1xyXG4gICAgICAgIGFuaW1PYmoucnVuQW5pbWF0aW9uKHNjb3BlQ29tcGxldGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5aSx6LSl5aKe5Yqg5L6d6LWW6Kem5Y+RXHJcbiAgICB2YXIgZmFpbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHNlbGYubGlua2VyKXtcclxuICAgICAgICAgICAgc2VsZi5saW5rZXIuZGVwLmFkZFN1YihzdWNjZWVkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL3BwdOWKqOeUu1xyXG4gICAgLy9kb21cclxuICAgIC8vY2FudmFzID3jgItsaW5rID0+IGZhaWxcclxuICAgIGJpbmQodGhpcy5wcHRPYmosIHN1Y2NlZWQsIGZhaWwpXHJcblxyXG5cclxuICAgIC8vY2FudmFz5pmu6YCa57K+54G15Yqo55S7XHJcbiAgICBiaW5kKHRoaXMucGl4aVNwcml0ZU9iaiwgZnVuY3Rpb24oYW5pbU9iaikge1xyXG4gICAgICAgIGFuaW1PYmoucGxheVBpeGkoc2NvcGVDb21wbGV0ZSk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vZG9t57K+54G15Yqo55S7XHJcbiAgICBpZiAodGhpcy5kb21TcHJpdGVzICYmIGVsZW1lbnQpIHtcclxuICAgICAgICAvL+WtmOWcqOWKqOeUu1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZU9iaikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZU9iai5wbGF5U3ByaXRlcygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQgPSB0aGlzLiRjb250ZW50UHJvY2Vzcy5maW5kKCcuc3ByaXRlJykuc2hvdygpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlT2JqID0gZG9tU3ByaXRlKHtcclxuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgZGF0YTogdGhpcy5jb250ZW50RGFzLFxyXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgbW9kZTogJ2NzcydcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlgZzmraLliqjnlLtcclxuICogQHBhcmFtICB7W3R5cGVdfSBjaGFwdGVySWQgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hbmltUHJvdG8uc3RvcCA9IGZ1bmN0aW9uKGNoYXB0ZXJJZCkge1xyXG5cclxuICAgIC8vcHB05Yqo55S7XHJcbiAgICBiaW5kKHRoaXMucHB0T2JqLCBmdW5jdGlvbihhbmltT2JqKSB7XHJcbiAgICAgICAgLy/plIDmr4FwcHTpn7PpopFcclxuICAgICAgICBkZXN0cm95Q29udGVudEF1ZGlvKGFuaW1PYmoub3B0aW9ucywgY2hhcHRlcklkKTtcclxuICAgICAgICAvL+WBnOatolBQVOWKqOeUu1xyXG4gICAgICAgIGFuaW1PYmouc3RvcEFuaW1hdGlvbigpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvL2NhbnZhc+eyvueBtVxyXG4gICAgYmluZCh0aGlzLnBpeGlTcHJpdGVPYmosIGZ1bmN0aW9uKGFuaW1PYmopIHtcclxuICAgICAgICBhbmltT2JqLnN0b3BQaXhpKCk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vZG9t57K+54G1XHJcbiAgICBiaW5kKHRoaXMuc3ByaXRlT2JqLCBmdW5jdGlvbihzcHJPYmopIHtcclxuICAgICAgICBzcHJPYmoucGF1c2VTcHJpdGVzKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnv7vpobXnu5PmnZ/vvIzlpI3kvY3kuIrkuIDpobXliqjnlLtcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5hbmltUHJvdG8ucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIGJpbmQodGhpcy5wcHRPYmosIGZ1bmN0aW9uKGFuaW1PYmopIHtcclxuICAgICAgICBhbmltT2JqLnJlc2V0QW5pbWF0aW9uKCk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOmUgOavgeWKqOeUu1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmFuaW1Qcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgLy9jYW52YXNcclxuICAgIGJpbmQodGhpcy5waXhpU3ByaXRlT2JqLCBmdW5jdGlvbihhbmltT2JqKSB7XHJcbiAgICAgICAgYW5pbU9iai5kZXN0cm95UGl4aSgpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvL2RvbSBwcHRcclxuICAgIGJpbmQodGhpcy5wcHRPYmosIGZ1bmN0aW9uKGFuaW1PYmopIHtcclxuICAgICAgICBhbmltT2JqLmRlc3Ryb3lBbmltYXRpb24oKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy9kb20g57K+54G1XHJcbiAgICBiaW5kKHRoaXMuc3ByaXRlT2JqLCBmdW5jdGlvbihzcHJPYmopIHtcclxuICAgICAgICBzcHJPYmouc3RvcFNwcml0ZXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucHB0T2JqID0gbnVsbDtcclxuICAgIHRoaXMuc3ByaXRlT2JqID0gbnVsbDtcclxuICAgIHRoaXMuZ2V0UGFyYW1ldGVyID0gbnVsbDtcclxuICAgIHRoaXMucGl4aVNwcml0ZU9iaiA9IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBbmltYXRpb25cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2NvbnRlbnQvYW5pbWF0aW9uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BookMark = undefined;\n\nvar _stroage = __webpack_require__(5);\n\nvar icons = {\n    hide: 'images/icons/arrowDown.svg'\n},\n    sLineHeiht = parseInt($('body').css('font-size')) || 16,\n    //行高\nBOOKCACHE; //书签缓存\n\n/**\r\n * 书签栏\r\n * 加入这个书签功能后，可以让用户自由选择哪页是需要保存记录的\r\n * @param options object\r\n * @example {parent:页面容器,pageId:chapterId,seasonId:seasionId}\r\n */\n\nfunction BookMark(options) {\n    this.parent = options.parent;\n    this.pageId = options.pageId;\n    this.seasonId = options.seasonId;\n    //是否已存储\n    this.isStored = false;\n    this.init();\n}\n\n/**\r\n * 初始化\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.init = function () {\n    var $bookMark = this.createBookMark(),\n        dom = this.parent[0],\n        that = this;\n\n    this.parent.append($bookMark);\n    this.bookMarkMenu = $bookMark.eq(0);\n    //显示书签\n    setTimeout(function () {\n        that.restore();\n    }, 20);\n    //获取历史记录\n    BOOKCACHE = this.getHistory();\n\n    //邦定用户事件\n    Xut.plat.execEvent('on', {\n        context: dom,\n        callback: {\n            end: this\n        }\n    });\n};\n\n/**\r\n * 创建书签\r\n * @return {[object]} [jquery生成的dom对象]\r\n */\nBookMark.prototype.createBookMark = function () {\n\n    var screenSize = Xut.config.screenSize;\n    var sHeight = screenSize.height;\n\n    var height = sLineHeiht * 3,\n        // menu的高为3em\n    box = '<div class=\"xut-bookmark-menu\" style=\"width:100%;height:{0}px;left:0;top:{1}px;\">' + '<div class=\"xut-bookmark-wrap\">' + '<div class=\"xut-bookmark-add\">加入书签</div>' + '<div class=\"xut-bookmark-off\" style=\"background-image:url({2})\"></div>' + '<div class=\"xut-bookmark-view\">书签记录</div>' + '</div>' + '</div>' + '<div class=\"xut-bookmark-list\" style=\"display:none;width:100%;height:{3}px;\">' + '<ul class=\"xut-bookmark-head\">' + '<li class=\"xut-bookmark-back\">返回</li>' + '<li>书签</li>' + '</ul>' + '<ul class=\"xut-bookmark-body\"></ul>' + '</div>';\n    box = String.format(box, height, sHeight, icons.hide, sHeight);\n    this.markHeight = height;\n    return $(box);\n};\n\n/**\r\n * 生成书签列表\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.createMarkList = function () {\n    var tmp,\n        seasonId,\n        pageId,\n        list = '',\n        box = '',\n        self = this;\n\n    //取历史记录\n    _.each(BOOKCACHE, function (mark) {\n        tmp = mark.split('-');\n        seasonId = tmp[0];\n        pageId = tmp[1];\n        mark = self.getMarkId(seasonId, pageId);\n        list += '<li><a data-mark=\"' + mark + '\" class=\"xut-bookmark-id\" href=\"javascript:0\">第' + pageId + '页</a><a class=\"xut-bookmark-del\" data-mark=\"' + mark + '\" href=\"javascript:0\">X</a></li>';\n    });\n\n    return list;\n};\n\n/**\r\n * 创建存储标签\r\n * 存储格式 seasonId-pageId\r\n * @return {string} [description]\r\n */\nBookMark.prototype.getMarkId = function (seasonId, pageId) {\n    return seasonId + '-' + pageId;\n};\n\n/**\r\n * 获取历史记录\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.getHistory = function () {\n    var mark = (0, _stroage._get)('bookMark');\n    if (mark) {\n        return mark.split(',');\n    }\n    return [];\n};\n\n/**\r\n * 添加书签\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.addBookMark = function () {\n    var key;\n\n    this.updatePageInfo();\n    key = this.getMarkId(this.seasonId, this.pageId);\n\n    //避免重复缓存\n    if (BOOKCACHE.indexOf(key) > -1) {\n        return;\n    }\n    BOOKCACHE.push(key);\n    (0, _stroage._set)('bookMark', BOOKCACHE);\n};\n\n/**\r\n * 更新页信息\r\n *  针对母板层上的书签\r\n */\nBookMark.prototype.updatePageInfo = function () {\n    var pageData = Xut.Presentation.GetPageData();\n    this.pageId = pageData._id;\n    this.seasonId = pageData.seasonId;\n};\n\n/**\r\n * 删除书签\r\n * @param {object} [key] [事件目标对象]\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.delBookMark = function (target) {\n    if (!target || !target.dataset) return;\n\n    var key = target.dataset.mark,\n        index = BOOKCACHE.indexOf(key);\n\n    BOOKCACHE.splice(index, 1);\n    (0, _stroage._set)('bookMark', BOOKCACHE);\n\n    if (BOOKCACHE.length == 0) {\n        (0, _stroage._remove)('bookMark');\n    }\n\n    //移除该行\n    $(target).parent().remove();\n};\n\n/**\r\n * 显示书签\r\n * @param {object} [target] [事件目标对象]\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.viewBookMark = function (target) {\n    var $bookMarkList,\n        list = this.createMarkList();\n\n    if (this.bookMarkList) {\n        $bookMarkList = this.bookMarkList;\n    } else {\n        $bookMarkList = $(target).parent().parent().next();\n    }\n    //更新书签内容\n    $bookMarkList.find('.xut-bookmark-body').html(list);\n    this.bookMarkList = $bookMarkList;\n    $bookMarkList.fadeIn();\n};\n\n/**\r\n * 点击放大效果\r\n * @param  {[object]} target [事件目标对象]\r\n * @return {[type]}      [description]\r\n */\nBookMark.prototype.iconManager = function (target) {\n    var $icon = this.bookMarkIcon = $(target),\n        restore = this.iconRestore;\n\n    $icon.css({\n        'transform': 'scale(1.2)',\n        'transition-duration': '500ms'\n    })[0].addEventListener(Xut.plat.TRANSITION_EV, restore.bind(this), false);\n};\n\n/**\r\n * 复原按钮\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.iconRestore = function () {\n    this.bookMarkIcon.css('transform', '');\n};\n\n/**\r\n * 跳转到书签页\r\n * @param  {[type]} target [description]\r\n * @return {[type]}        [description]\r\n */\nBookMark.prototype.goBookMark = function (target) {\n    if (!target || !target.dataset) return;\n\n    var key = target.dataset.mark.split('-'),\n        seasonId = Number(key[0]),\n        pageId = Number(key[1]);\n\n    this.updatePageInfo();\n    //关闭书签列表\n    this.backBookMark();\n\n    //忽略当前页的跳转\n    if (this.pageId == pageId && this.seasonId == seasonId) {\n        return;\n    }\n\n    Xut.View.LoadScenario({\n        'scenarioId': seasonId,\n        'chapterId': pageId\n    });\n};\n\n/**\r\n * 书签回退键\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.backBookMark = function () {\n    this.bookMarkList.fadeOut();\n};\n\n/**\r\n * 邦定事件\r\n * @param  {[type]} evt [事件]\r\n * @return {[type]}     [description]\r\n */\nBookMark.prototype.handleEvent = function (evt) {\n    var target = evt.target;\n    switch (target.className) {\n        //加入书签\n        case 'xut-bookmark-add':\n            this.addBookMark();\n            this.iconManager(target);\n            break;\n        //显示书签记录\n        case 'xut-bookmark-view':\n            this.viewBookMark(target);\n            this.iconManager(target);\n            break;\n        //关闭书签\n        case 'xut-bookmark-off':\n            this.closeBookMark(target);\n            break;\n        //返回书签主菜单\n        case 'xut-bookmark-back':\n            this.backBookMark();\n            break;\n        //删除书签记录\n        case 'xut-bookmark-del':\n            this.delBookMark(target);\n            break;\n        //跳转到书签页\n        case 'xut-bookmark-id':\n            this.goBookMark(target);\n            break;\n        default:\n            //console.log(target.className)\n            break;\n    }\n};\n\n/**\r\n * 关闭书签菜单\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.closeBookMark = function (target) {\n    this.bookMarkMenu.css({\n        transform: 'translate3d(0,0,0)',\n        'transition-duration': '1s'\n    });\n};\n\n/**\r\n * 恢复书签菜单\r\n */\nBookMark.prototype.restore = function () {\n    this.bookMarkMenu.css({\n        transform: 'translate3d(0,-' + this.markHeight + 'px,0)',\n        'transition-duration': '1s'\n    });\n};\n\n/**\r\n * 销毁书签\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.destroy = function () {\n    var dom = this.parent[0],\n        events = Xut.plat;\n\n    dom.removeEventListener('touchend', this, false);\n    dom.removeEventListener('mouseup', this, false);\n\n    //菜单部分\n    if (this.bookMarkMenu) {\n        this.bookMarkMenu.remove();\n        this.bookMarkMenu = null;\n    }\n\n    //列表部分\n    if (this.bookMarkList) {\n        this.bookMarkList.remove();\n        this.bookMarkList = null;\n    }\n\n    //按钮效果\n    if (this.bookMarkIcon) {\n        this.bookMarkIcon[0].removeEventListener(events.TRANSITION_EV, this.iconRestore, false);\n        this.bookMarkIcon = null;\n    }\n\n    this.parent = null;\n};\n\nexports.BookMark = BookMark;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2Jvb2ttYXJrLmpzPzdkMjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU9BOztBQU9BLElBQUksUUFBUTtBQUNKLFVBQU07QUFERixDQUFaO0lBR0ksYUFBYSxTQUFTLEVBQUUsTUFBRixFQUFVLEdBQVYsQ0FBYyxXQUFkLENBQVQsS0FBd0MsRUFIekQ7O0FBSUksU0FKSixDOzs7Ozs7Ozs7QUFNQSxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsRUFBMkI7QUFDdkIsU0FBSyxNQUFMLEdBQWMsUUFBUSxNQUF0QjtBQUNBLFNBQUssTUFBTCxHQUFjLFFBQVEsTUFBdEI7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsUUFBUSxRQUF4Qjs7QUFFQSxTQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxTQUFLLElBQUw7QUFDSDs7Ozs7O0FBTUQsU0FBUyxTQUFULENBQW1CLElBQW5CLEdBQTBCLFlBQVc7QUFDakMsUUFBSSxZQUFZLEtBQUssY0FBTCxFQUFoQjtRQUNJLE1BQU0sS0FBSyxNQUFMLENBQVksQ0FBWixDQURWO1FBRUksT0FBTyxJQUZYOztBQUlBLFNBQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsU0FBbkI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsVUFBVSxFQUFWLENBQWEsQ0FBYixDQUFwQjs7QUFFQSxlQUFXLFlBQVc7QUFDbEIsYUFBSyxPQUFMO0FBQ0gsS0FGRCxFQUVHLEVBRkg7O0FBSUEsZ0JBQVksS0FBSyxVQUFMLEVBQVo7OztBQUdBLFFBQUksSUFBSixDQUFTLFNBQVQsQ0FBbUIsSUFBbkIsRUFBeUI7QUFDckIsaUJBQVMsR0FEWTtBQUVyQixrQkFBVTtBQUNOLGlCQUFLO0FBREM7QUFGVyxLQUF6QjtBQU9ILENBdEJEOzs7Ozs7QUE0QkEsU0FBUyxTQUFULENBQW1CLGNBQW5CLEdBQW9DLFlBQVc7O0FBRTNDLFFBQUksYUFBYSxJQUFJLE1BQUosQ0FBVyxVQUE1QjtBQUNB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U0FBSyxZQUFMLENBQWtCLEdBQWxCLENBQXNCO0FBQ2xCLG1CQUFXLG9CQURPO0FBRWxCLCtCQUF1QjtBQUZMLEtBQXRCO0FBSUgsQ0FMRDs7Ozs7QUFVQSxTQUFTLFNBQVQsQ0FBbUIsT0FBbkIsR0FBNkIsWUFBVztBQUNwQyxTQUFLLFlBQUwsQ0FBa0IsR0FBbEIsQ0FBc0I7QUFDbEIsbUJBQVcsb0JBQW9CLEtBQUssVUFBekIsR0FBc0MsT0FEL0I7QUFFbEIsK0JBQXVCO0FBRkwsS0FBdEI7QUFJSCxDQUxEOzs7Ozs7QUFXQSxTQUFTLFNBQVQsQ0FBbUIsT0FBbkIsR0FBNkIsWUFBVztBQUNwQyxRQUFJLE1BQU0sS0FBSyxNQUFMLENBQVksQ0FBWixDQUFWO1FBQ0ksU0FBUyxJQUFJLElBRGpCOztBQUdBLFFBQUksbUJBQUosQ0FBd0IsVUFBeEIsRUFBb0MsSUFBcEMsRUFBMEMsS0FBMUM7QUFDQSxRQUFJLG1CQUFKLENBQXdCLFNBQXhCLEVBQW1DLElBQW5DLEVBQXlDLEtBQXpDOzs7QUFHQSxRQUFJLEtBQUssWUFBVCxFQUF1QjtBQUNuQixhQUFLLFlBQUwsQ0FBa0IsTUFBbEI7QUFDQSxhQUFLLFlBQUwsR0FBb0IsSUFBcEI7QUFDSDs7O0FBR0QsUUFBSSxLQUFLLFlBQVQsRUFBdUI7QUFDbkIsYUFBSyxZQUFMLENBQWtCLE1BQWxCO0FBQ0EsYUFBSyxZQUFMLEdBQW9CLElBQXBCO0FBQ0g7OztBQUdELFFBQUksS0FBSyxZQUFULEVBQXVCO0FBQ25CLGFBQUssWUFBTCxDQUFrQixDQUFsQixFQUFxQixtQkFBckIsQ0FBeUMsT0FBTyxhQUFoRCxFQUErRCxLQUFLLFdBQXBFLEVBQWlGLEtBQWpGO0FBQ0EsYUFBSyxZQUFMLEdBQW9CLElBQXBCO0FBQ0g7O0FBRUQsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNILENBMUJEOztRQThCSSxRLEdBQUEsUSIsImZpbGUiOiIzNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDkuabnrb7moI9cclxuICog5Yqg5YWl6L+Z5Liq5Lmm562+5Yqf6IO95ZCO77yM5Y+v5Lul6K6p55So5oi36Ieq55Sx6YCJ5oup5ZOq6aG15piv6ZyA6KaB5L+d5a2Y6K6w5b2V55qEXHJcbiAqIEBwYXJhbSBvcHRpb25zIG9iamVjdFxyXG4gKiBAZXhhbXBsZSB7cGFyZW50OumhtemdouWuueWZqCxwYWdlSWQ6Y2hhcHRlcklkLHNlYXNvbklkOnNlYXNpb25JZH1cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gICAgX3NldCxcclxuICAgIF9nZXQsXHJcbiAgICBfcmVtb3ZlXHJcbn1cclxuZnJvbSAnLi4vLi4vdXRpbC9zdHJvYWdlJ1xyXG5cclxudmFyIGljb25zID0ge1xyXG4gICAgICAgIGhpZGU6ICdpbWFnZXMvaWNvbnMvYXJyb3dEb3duLnN2ZydcclxuICAgIH0sXHJcbiAgICBzTGluZUhlaWh0ID0gcGFyc2VJbnQoJCgnYm9keScpLmNzcygnZm9udC1zaXplJykpIHx8IDE2LCAvL+ihjOmrmFxyXG4gICAgQk9PS0NBQ0hFOyAvL+S5puetvue8k+WtmFxyXG5cclxuZnVuY3Rpb24gQm9va01hcmsob3B0aW9ucykge1xyXG4gICAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcclxuICAgIHRoaXMucGFnZUlkID0gb3B0aW9ucy5wYWdlSWQ7XHJcbiAgICB0aGlzLnNlYXNvbklkID0gb3B0aW9ucy5zZWFzb25JZDtcclxuICAgIC8v5piv5ZCm5bey5a2Y5YKoXHJcbiAgICB0aGlzLmlzU3RvcmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmluaXQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMllxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgJGJvb2tNYXJrID0gdGhpcy5jcmVhdGVCb29rTWFyaygpLFxyXG4gICAgICAgIGRvbSA9IHRoaXMucGFyZW50WzBdLFxyXG4gICAgICAgIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMucGFyZW50LmFwcGVuZCgkYm9va01hcmspO1xyXG4gICAgdGhpcy5ib29rTWFya01lbnUgPSAkYm9va01hcmsuZXEoMCk7XHJcbiAgICAvL+aYvuekuuS5puetvlxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGF0LnJlc3RvcmUoKTtcclxuICAgIH0sIDIwKTtcclxuICAgIC8v6I635Y+W5Y6G5Y+y6K6w5b2VXHJcbiAgICBCT09LQ0FDSEUgPSB0aGlzLmdldEhpc3RvcnkoKTtcclxuXHJcbiAgICAvL+mCpuWumueUqOaIt+S6i+S7tlxyXG4gICAgWHV0LnBsYXQuZXhlY0V2ZW50KCdvbicsIHtcclxuICAgICAgICBjb250ZXh0OiBkb20sXHJcbiAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgZW5kOiB0aGlzXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rkuabnrb5cclxuICogQHJldHVybiB7W29iamVjdF19IFtqcXVlcnnnlJ/miJDnmoRkb23lr7nosaFdXHJcbiAqL1xyXG5Cb29rTWFyay5wcm90b3R5cGUuY3JlYXRlQm9va01hcmsgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgc2NyZWVuU2l6ZSA9IFh1dC5jb25maWcuc2NyZWVuU2l6ZVxyXG4gICAgdmFyIHNIZWlnaHQgPSBzY3JlZW5TaXplLmhlaWdodFxyXG5cclxuICAgIHZhciBoZWlnaHQgPSBzTGluZUhlaWh0ICogMywgLy8gbWVudeeahOmrmOS4ujNlbVxyXG4gICAgICAgIGJveCA9ICc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLW1lbnVcIiBzdHlsZT1cIndpZHRoOjEwMCU7aGVpZ2h0OnswfXB4O2xlZnQ6MDt0b3A6ezF9cHg7XCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ4dXQtYm9va21hcmstd3JhcFwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLWFkZFwiPuWKoOWFpeS5puetvjwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLW9mZlwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoezJ9KVwiPjwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLXZpZXdcIj7kuabnrb7orrDlvZU8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLWxpc3RcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDp7M31weDtcIj4nICtcclxuICAgICAgICAnPHVsIGNsYXNzPVwieHV0LWJvb2ttYXJrLWhlYWRcIj4nICtcclxuICAgICAgICAnPGxpIGNsYXNzPVwieHV0LWJvb2ttYXJrLWJhY2tcIj7ov5Tlm548L2xpPicgK1xyXG4gICAgICAgICc8bGk+5Lmm562+PC9saT4nICtcclxuICAgICAgICAnPC91bD4nICtcclxuICAgICAgICAnPHVsIGNsYXNzPVwieHV0LWJvb2ttYXJrLWJvZHlcIj48L3VsPicgK1xyXG4gICAgICAgICc8L2Rpdj4nO1xyXG4gICAgYm94ID0gU3RyaW5nLmZvcm1hdChib3gsIGhlaWdodCwgc0hlaWdodCwgaWNvbnMuaGlkZSwgc0hlaWdodCk7XHJcbiAgICB0aGlzLm1hcmtIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICByZXR1cm4gJChib3gpO1xyXG59XHJcblxyXG4vKipcclxuICog55Sf5oiQ5Lmm562+5YiX6KGoXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQm9va01hcmsucHJvdG90eXBlLmNyZWF0ZU1hcmtMaXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdG1wLCBzZWFzb25JZCwgcGFnZUlkLFxyXG4gICAgICAgIGxpc3QgPSAnJyxcclxuICAgICAgICBib3ggPSAnJyxcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvL+WPluWOhuWPsuiusOW9lVxyXG4gICAgXy5lYWNoKEJPT0tDQUNIRSwgZnVuY3Rpb24obWFyaykge1xyXG4gICAgICAgIHRtcCA9IG1hcmsuc3BsaXQoJy0nKTtcclxuICAgICAgICBzZWFzb25JZCA9IHRtcFswXTtcclxuICAgICAgICBwYWdlSWQgPSB0bXBbMV07XHJcbiAgICAgICAgbWFyayA9IHNlbGYuZ2V0TWFya0lkKHNlYXNvbklkLCBwYWdlSWQpO1xyXG4gICAgICAgIGxpc3QgKz0gJzxsaT48YSBkYXRhLW1hcms9XCInICsgbWFyayArICdcIiBjbGFzcz1cInh1dC1ib29rbWFyay1pZFwiIGhyZWY9XCJqYXZhc2NyaXB0OjBcIj7nrKwnICsgcGFnZUlkICsgJ+mhtTwvYT48YSBjbGFzcz1cInh1dC1ib29rbWFyay1kZWxcIiBkYXRhLW1hcms9XCInICsgbWFyayArICdcIiBocmVmPVwiamF2YXNjcmlwdDowXCI+WDwvYT48L2xpPic7XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBsaXN0O1xyXG59XHJcblxyXG4vKipcclxuICog5Yib5bu65a2Y5YKo5qCH562+XHJcbiAqIOWtmOWCqOagvOW8jyBzZWFzb25JZC1wYWdlSWRcclxuICogQHJldHVybiB7c3RyaW5nfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Cb29rTWFyay5wcm90b3R5cGUuZ2V0TWFya0lkID0gZnVuY3Rpb24oc2Vhc29uSWQsIHBhZ2VJZCkge1xyXG4gICAgcmV0dXJuIHNlYXNvbklkICsgJy0nICsgcGFnZUlkO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5Y6G5Y+y6K6w5b2VXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQm9va01hcmsucHJvdG90eXBlLmdldEhpc3RvcnkgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtYXJrID0gX2dldCgnYm9va01hcmsnKTtcclxuICAgIGlmIChtYXJrKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hcmsuc3BsaXQoJywnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBbXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa3u+WKoOS5puetvlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5hZGRCb29rTWFyayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGtleTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2VJbmZvKCk7XHJcbiAgICBrZXkgPSB0aGlzLmdldE1hcmtJZCh0aGlzLnNlYXNvbklkLCB0aGlzLnBhZ2VJZCk7XHJcblxyXG4gICAgLy/pgb/lhY3ph43lpI3nvJPlrZhcclxuICAgIGlmIChCT09LQ0FDSEUuaW5kZXhPZihrZXkpID4gLTEpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBCT09LQ0FDSEUucHVzaChrZXkpXHJcbiAgICBfc2V0KCdib29rTWFyaycsIEJPT0tDQUNIRSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDpobXkv6Hmga9cclxuICogIOmSiOWvueavjeadv+WxguS4iueahOS5puetvlxyXG4gKi9cclxuQm9va01hcmsucHJvdG90eXBlLnVwZGF0ZVBhZ2VJbmZvID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcGFnZURhdGEgPSBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VEYXRhKCk7XHJcbiAgICB0aGlzLnBhZ2VJZCA9IHBhZ2VEYXRhLl9pZDtcclxuICAgIHRoaXMuc2Vhc29uSWQgPSBwYWdlRGF0YS5zZWFzb25JZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIoOmZpOS5puetvlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW2tleV0gW+S6i+S7tuebruagh+WvueixoV1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Cb29rTWFyay5wcm90b3R5cGUuZGVsQm9va01hcmsgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuZGF0YXNldCkgcmV0dXJuO1xyXG5cclxuICAgIHZhciBrZXkgPSB0YXJnZXQuZGF0YXNldC5tYXJrLFxyXG4gICAgICAgIGluZGV4ID0gQk9PS0NBQ0hFLmluZGV4T2Yoa2V5KTtcclxuXHJcbiAgICBCT09LQ0FDSEUuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIF9zZXQoJ2Jvb2tNYXJrJywgQk9PS0NBQ0hFKTtcclxuXHJcbiAgICBpZiAoQk9PS0NBQ0hFLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgX3JlbW92ZSgnYm9va01hcmsnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+enu+mZpOivpeihjFxyXG4gICAgJCh0YXJnZXQpLnBhcmVudCgpLnJlbW92ZSgpO1xyXG59XHJcblxyXG4vKipcclxuICog5pi+56S65Lmm562+XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbdGFyZ2V0XSBb5LqL5Lu255uu5qCH5a+56LGhXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS52aWV3Qm9va01hcmsgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgIHZhciAkYm9va01hcmtMaXN0LFxyXG4gICAgICAgIGxpc3QgPSB0aGlzLmNyZWF0ZU1hcmtMaXN0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMuYm9va01hcmtMaXN0KSB7XHJcbiAgICAgICAgJGJvb2tNYXJrTGlzdCA9IHRoaXMuYm9va01hcmtMaXN0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkYm9va01hcmtMaXN0ID0gJCh0YXJnZXQpLnBhcmVudCgpLnBhcmVudCgpLm5leHQoKTtcclxuICAgIH1cclxuICAgIC8v5pu05paw5Lmm562+5YaF5a65XHJcbiAgICAkYm9va01hcmtMaXN0LmZpbmQoJy54dXQtYm9va21hcmstYm9keScpLmh0bWwobGlzdCk7XHJcbiAgICB0aGlzLmJvb2tNYXJrTGlzdCA9ICRib29rTWFya0xpc3Q7XHJcbiAgICAkYm9va01hcmtMaXN0LmZhZGVJbigpO1xyXG59XHJcblxyXG4vKipcclxuICog54K55Ye75pS+5aSn5pWI5p6cXHJcbiAqIEBwYXJhbSAge1tvYmplY3RdfSB0YXJnZXQgW+S6i+S7tuebruagh+WvueixoV1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5pY29uTWFuYWdlciA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgdmFyICRpY29uID0gdGhpcy5ib29rTWFya0ljb24gPSAkKHRhcmdldCksXHJcbiAgICAgICAgcmVzdG9yZSA9IHRoaXMuaWNvblJlc3RvcmU7XHJcblxyXG4gICAgJGljb24uY3NzKHtcclxuICAgICAgICAndHJhbnNmb3JtJzogJ3NjYWxlKDEuMiknLFxyXG4gICAgICAgICd0cmFuc2l0aW9uLWR1cmF0aW9uJzogJzUwMG1zJ1xyXG4gICAgfSlbMF0uYWRkRXZlbnRMaXN0ZW5lcihYdXQucGxhdC5UUkFOU0lUSU9OX0VWLCByZXN0b3JlLmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlpI3ljp/mjInpkq5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Cb29rTWFyay5wcm90b3R5cGUuaWNvblJlc3RvcmUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYm9va01hcmtJY29uLmNzcygndHJhbnNmb3JtJywgJycpO1xyXG59XHJcblxyXG4vKipcclxuICog6Lez6L2s5Yiw5Lmm562+6aG1XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gdGFyZ2V0IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQm9va01hcmsucHJvdG90eXBlLmdvQm9va01hcmsgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuZGF0YXNldCkgcmV0dXJuO1xyXG5cclxuICAgIHZhciBrZXkgPSB0YXJnZXQuZGF0YXNldC5tYXJrLnNwbGl0KCctJyksXHJcbiAgICAgICAgc2Vhc29uSWQgPSBOdW1iZXIoa2V5WzBdKSxcclxuICAgICAgICBwYWdlSWQgPSBOdW1iZXIoa2V5WzFdKTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2VJbmZvKCk7XHJcbiAgICAvL+WFs+mXreS5puetvuWIl+ihqFxyXG4gICAgdGhpcy5iYWNrQm9va01hcmsoKTtcclxuXHJcbiAgICAvL+W/veeVpeW9k+WJjemhteeahOi3s+i9rFxyXG4gICAgaWYgKHRoaXMucGFnZUlkID09IHBhZ2VJZCAmJiB0aGlzLnNlYXNvbklkID09IHNlYXNvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIFh1dC5WaWV3LkxvYWRTY2VuYXJpbyh7XHJcbiAgICAgICAgJ3NjZW5hcmlvSWQnOiBzZWFzb25JZCxcclxuICAgICAgICAnY2hhcHRlcklkJzogcGFnZUlkXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOS5puetvuWbnumAgOmUrlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5iYWNrQm9va01hcmsgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYm9va01hcmtMaXN0LmZhZGVPdXQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOmCpuWumuS6i+S7tlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGV2dCBb5LqL5Lu2XVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5Cb29rTWFyay5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbihldnQpIHtcclxuICAgIHZhciB0YXJnZXQgPSBldnQudGFyZ2V0O1xyXG4gICAgc3dpdGNoICh0YXJnZXQuY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgLy/liqDlhaXkuabnrb5cclxuICAgICAgICBjYXNlICd4dXQtYm9va21hcmstYWRkJzpcclxuICAgICAgICAgICAgdGhpcy5hZGRCb29rTWFyaygpO1xyXG4gICAgICAgICAgICB0aGlzLmljb25NYW5hZ2VyKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvL+aYvuekuuS5puetvuiusOW9lVxyXG4gICAgICAgIGNhc2UgJ3h1dC1ib29rbWFyay12aWV3JzpcclxuICAgICAgICAgICAgdGhpcy52aWV3Qm9va01hcmsodGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5pY29uTWFuYWdlcih0YXJnZXQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy/lhbPpl63kuabnrb5cclxuICAgICAgICBjYXNlICd4dXQtYm9va21hcmstb2ZmJzpcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUJvb2tNYXJrKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvL+i/lOWbnuS5puetvuS4u+iPnOWNlVxyXG4gICAgICAgIGNhc2UgJ3h1dC1ib29rbWFyay1iYWNrJzpcclxuICAgICAgICAgICAgdGhpcy5iYWNrQm9va01hcmsoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8v5Yig6Zmk5Lmm562+6K6w5b2VXHJcbiAgICAgICAgY2FzZSAneHV0LWJvb2ttYXJrLWRlbCc6XHJcbiAgICAgICAgICAgIHRoaXMuZGVsQm9va01hcmsodGFyZ2V0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5Lmm562+6aG1XHJcbiAgICAgICAgY2FzZSAneHV0LWJvb2ttYXJrLWlkJzpcclxuICAgICAgICAgICAgdGhpcy5nb0Jvb2tNYXJrKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGFyZ2V0LmNsYXNzTmFtZSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICog5YWz6Zet5Lmm562+6I+c5Y2VXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQm9va01hcmsucHJvdG90eXBlLmNsb3NlQm9va01hcmsgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgIHRoaXMuYm9va01hcmtNZW51LmNzcyh7XHJcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcclxuICAgICAgICAndHJhbnNpdGlvbi1kdXJhdGlvbic6ICcxcydcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmgaLlpI3kuabnrb7oj5zljZVcclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmJvb2tNYXJrTWVudS5jc3Moe1xyXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsLScgKyB0aGlzLm1hcmtIZWlnaHQgKyAncHgsMCknLFxyXG4gICAgICAgICd0cmFuc2l0aW9uLWR1cmF0aW9uJzogJzFzJ1xyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOmUgOavgeS5puetvlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJvb2tNYXJrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZG9tID0gdGhpcy5wYXJlbnRbMF0sXHJcbiAgICAgICAgZXZlbnRzID0gWHV0LnBsYXQ7XHJcblxyXG4gICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcywgZmFsc2UpO1xyXG4gICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLCBmYWxzZSk7XHJcblxyXG4gICAgLy/oj5zljZXpg6jliIZcclxuICAgIGlmICh0aGlzLmJvb2tNYXJrTWVudSkge1xyXG4gICAgICAgIHRoaXMuYm9va01hcmtNZW51LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuYm9va01hcmtNZW51ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL+WIl+ihqOmDqOWIhlxyXG4gICAgaWYgKHRoaXMuYm9va01hcmtMaXN0KSB7XHJcbiAgICAgICAgdGhpcy5ib29rTWFya0xpc3QucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5ib29rTWFya0xpc3QgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5oyJ6ZKu5pWI5p6cXHJcbiAgICBpZiAodGhpcy5ib29rTWFya0ljb24pIHtcclxuICAgICAgICB0aGlzLmJvb2tNYXJrSWNvblswXS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy5UUkFOU0lUSU9OX0VWLCB0aGlzLmljb25SZXN0b3JlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5ib29rTWFya0ljb24gPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBCb29rTWFya1xyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvY29udGVudC9ib29rbWFyay5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Child = Child;\n\nvar _animation = __webpack_require__(34);\n\nvar _parallax = __webpack_require__(42);\n\n/**\r\n * 预运行动作\r\n * 自动 && 出现 && 无时间 && 无音乐\r\n *  && 不是精灵动画 && 没有脚本代码 && 并且不能是收费\r\n * @return {[type]}         [description]\r\n */\n/**\r\n * 创建执行对象\r\n * 1 动画作用域\r\n * 2 视觉差作用域\r\n * @type {Array}\r\n */\n\nfunction preRunAction(data, eventName) {\n    var para,\n        scopem,\n        parameter = data.getParameter();\n    //过滤预生成动画\n    if (parameter.length === 1) {\n        para = parameter[0];\n        if (para.animationName === 'EffectAppear' && eventName === 'auto' && !para.videoId && !para.delay && data.contentDas.category !== 'Sprite' && !para.preCode //动画前脚本\n         && !para.postCode //动画后脚本\n         && !/\"inapp\"/i.test(para.parameter)) {\n            //并且不能是收费处理\n\n            /***********************************************\r\n             *      针对预处理动作,并且没有卷滚的不注册\r\n             *      满足是静态动画\r\n             * **********************************************/\n            //true是显示,false隐藏\n            return data.isRreRun = /\"exit\":\"False\"/i.test(para.parameter) === true ? 'visible' : 'hidden';\n        }\n    }\n}\n\n/**\r\n * 构建动画\r\n * @return {[type]} [description]\r\n */\nfunction createScope(base, contentId, pid, actName, contentDas, parameter, hasParallax) {\n    //默认启动dom模式\n    var data = {\n        type: 'dom',\n        canvasMode: false,\n        domMode: true\n    },\n        $contentProcess,\n        pageType = base.pageType;\n\n    //如果启动了canvas模式\n    //改成作用域的一些数据\n    if (base.canvasRelated.enable) {\n        //如果找到对应的canvas对象\n        if (-1 !== base.canvasRelated.cid.indexOf(contentId)) {\n            $contentProcess = {}; //等待填充\n            data.type = 'canvas';\n            data.canvasMode = true;\n            data.domMode = false;\n        }\n    }\n\n    //如果是dom模式\n    if (!$contentProcess) {\n        /**\r\n         * 确保节点存在\r\n         * @type {[type]}\r\n         */\n        if (!($contentProcess = base._findContentElement(actName))) {\n            return;\n        };\n    }\n\n    /**\r\n     * 制作公共数据\r\n     * @type {Object}\r\n     */\n    _.extend(data, {\n        base: base,\n        id: contentId,\n        pid: pid,\n        actName: actName,\n        contentDas: contentDas,\n        $contentProcess: $contentProcess,\n        pageType: pageType,\n        pageIndex: base.pageIndex,\n        canvasRelated: base.canvasRelated,\n        nextTask: base.nextTask\n    });\n\n    /**\r\n     * 如果是母版层理,视觉差处理\r\n     * processType 三种情况\r\n     *          parallax\r\n     *          animation\r\n     *          both(parallax,animation)\r\n     * @type {[type]}\r\n     */\n    if (hasParallax && pageType === 'master') {\n        data.processType = 'parallax';\n    } else {\n        data.processType = 'animation';\n    }\n\n    //生成查询方法\n    data.getParameter = function () {\n        //分区母版与页面的数据结构\n        //parameter-master-parallax\n        //parameter-master-animation\n        //parameter-page-animation\n        var fix = 'parameter-' + pageType + '-' + data.processType;\n        data[fix] = parameter;\n        return function () {\n            return data[fix];\n        };\n    }();\n\n    /**\r\n     * 生成视觉差作用域\r\n     * @type {[type]}\r\n     */\n    if (data.processType === 'parallax') {\n        //初始化视觉差对象的坐标偏移量\n        data.transformOffset = base.relatedData.transformOffset(data.id);\n        return _parallax.Parallax.call(base, data);\n    }\n\n    /**\r\n     *  优化机制,预生成处理\r\n     *  过滤自动热点并且是出现动作，没有时间，用于提升体验\r\n     */\n    preRunAction(data, base.eventData.eventName);\n\n    /**\r\n     * 生成子作用域对象，用于抽象处理动画,行为\r\n     */\n    return new _animation.Animation(data);\n}\n\n/**\r\n * 分解每个子作用域\r\n * 1 生成临时占位作用域,用于分段动画\r\n * 2 生成所有动画子作用域\r\n * @param  {[type]} parameter [description]\r\n * @return {[type]}           [description]\r\n */\nfunction createHandlers(base, parameter, waitCreate) {\n    /**\r\n     * 如果是动态分段创建\r\n     * 混入新的作用域\r\n     */\n    if (waitCreate) {\n        return createScope.apply(base, parameter);\n    }\n\n    //dom对象\n    var para = parameter[0],\n        contentId = para['contentId'],\n        //可能有多个动画数据 [Object,Object,Object]\n    pid = base.pid,\n        actName = base._makePrefix('Content', pid, contentId),\n        contentDas = base.relatedData.contentDas[contentId];\n\n    /**\r\n     * 客户端未实现\r\n     * 针对分段创建优化\r\n     * 初始化必要加载数据\r\n     * 临时占位数据\r\n     */\n    // if(contentDas && 1==contentDas.visible){\n    //  //记录分段标记,用户合并创建节点\n    //  base.waitCreateContent.push(contentId)\n    //  return [contentId, pid, actName, contentDas, parameter];\n    // }\n\n    /**\r\n     * 构建子作用域\r\n     */\n    return createScope(base, contentId, pid, actName, contentDas, parameter, para.masterId);\n}\n\n/**\r\n * 构建作用域\r\n * @return {[type]} [description]\r\n */\nfunction fnCreate(base) {\n    return function (data, callback) {\n        var para, handlers;\n        if (data && data.length) {\n            //生成动画作用域对象\n            while (para = data.shift()) {\n                if (handlers = createHandlers(base, para)) {\n                    callback(handlers);\n                }\n            }\n        }\n    };\n}\n\n/**\r\n * 源对象复制到目标对象\r\n */\nfunction innerExtend(target, source) {\n    for (property in source) {\n        if (target[property] === undefined) {\n            target[property] = source[property];\n        }\n    }\n}\n\n//处理itemArray绑定的动画对象\n//注入动画\n//绑定用户事件\nfunction Child(base) {\n    var animation = base.seed.animation,\n        parallax = base.seed.parallax,\n\n    //抽出content对象\n    abstractContents = [],\n\n    //创建引用\n    batcheCreate = fnCreate(base);\n\n    switch (base.pageType) {\n        case 'page':\n            batcheCreate(animation, function (handlers) {\n                abstractContents.push(handlers);\n            });\n            break;\n        case 'master':\n            //母版层的处理\n            var tempParallaxScope = {},\n                tempAnimationScope = {},\n                tempAssistContents = [];\n            //视觉差处理\n            batcheCreate(parallax, function (handlers) {\n                tempParallaxScope[handlers.id] = handlers;\n            });\n\n            batcheCreate(animation, function (handlers) {\n                tempAnimationScope[handlers.id] = handlers;\n            });\n\n            var hasParallax = _.keys(tempParallaxScope).length,\n                hasAnimation = _.keys(tempAnimationScope).length;\n\n            //动画为主\n            //合并，同一个对象可能具有动画+视觉差行为\n            if (hasParallax && hasAnimation) {\n                _.each(tempAnimationScope, function (target) {\n                    var id = target.id,\n                        source;\n                    if (source = tempParallaxScope[id]) {\n                        //如果能找到就需要合并\n                        innerExtend(target, source); //复制方法\n                        target.processType = 'both'; //标记新组合\n                        delete tempParallaxScope[id]; //删除引用\n                    }\n                });\n                //剩余的处理\n                if (_.keys(tempParallaxScope).length) {\n                    _.extend(tempAnimationScope, tempParallaxScope);\n                }\n                tempParallaxScope = null;\n            }\n            //转化成数组\n            _.each(hasAnimation ? tempAnimationScope : tempParallaxScope, function (target) {\n                tempAssistContents.push(target);\n            });\n            abstractContents = tempAssistContents;\n            break;\n    }\n\n    batcheCreate = null;\n\n    return abstractContents;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2NoaWxkLmpzPzgwMTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFnT2dCLEssR0FBQSxLOztBQXpOaEI7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQVNBLFNBQVMsWUFBVCxDQUFzQixJQUF0QixFQUE0QixTQUE1QixFQUF1QztBQUNuQyxRQUFJLElBQUo7UUFBVSxNQUFWO1FBQ0ksWUFBWSxLQUFLLFlBQUwsRUFEaEI7O0FBR0EsUUFBSSxVQUFVLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDeEIsZUFBTyxVQUFVLENBQVYsQ0FBUDtBQUNBLFlBQUksS0FBSyxhQUFMLEtBQXVCLGNBQXZCLElBQXlDLGNBQWMsTUFBdkQsSUFBaUUsQ0FBQyxLQUFLLE9BQXZFLElBQWtGLENBQUMsS0FBSyxLQUF4RixJQUFpRyxLQUFLLFVBQUwsQ0FBZ0IsUUFBaEIsS0FBNkIsUUFBOUgsSUFBMEksQ0FBQyxLQUFLLE87QUFBaEosWUFDRyxDQUFDLEtBQUssUTtBQURULFlBRUcsQ0FBQyxXQUFXLElBQVgsQ0FBZ0IsS0FBSyxTQUFyQixDQUZSLEVBRXlDOzs7Ozs7OztBQU9yQyxtQkFBTyxLQUFLLFFBQUwsR0FBZ0Isa0JBQWtCLElBQWxCLENBQXVCLEtBQUssU0FBNUIsTUFBMkMsSUFBM0MsR0FBa0QsU0FBbEQsR0FBOEQsUUFBckY7QUFDSDtBQUNKO0FBQ0o7Ozs7OztBQU9ELFNBQVMsV0FBVCxDQUFxQixJQUFyQixFQUEyQixTQUEzQixFQUFzQyxHQUF0QyxFQUEyQyxPQUEzQyxFQUFvRCxVQUFwRCxFQUFnRSxTQUFoRSxFQUEyRSxXQUEzRSxFQUF3Rjs7QUFFcEYsUUFBSSxPQUFPO0FBQ0gsY0FBTSxLQURIO0FBRUgsb0JBQVksS0FGVDtBQUdILGlCQUFTO0FBSE4sS0FBWDtRQUtJLGVBTEo7UUFNSSxXQUFXLEtBQUssUUFOcEI7Ozs7QUFXQSxRQUFJLEtBQUssYUFBTCxDQUFtQixNQUF2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QkFDSSxNQURKO0FBRUEsd0JBQUksU0FBUyxrQkFBa0IsRUFBbEIsQ0FBYixFQUFvQzs7QUFDaEMsb0NBQVksTUFBWixFQUFvQixNQUFwQixFO0FBQ0EsK0JBQU8sV0FBUCxHQUFxQixNQUFyQixDO0FBQ0EsK0JBQU8sa0JBQWtCLEVBQWxCLENBQVAsQztBQUNIO0FBQ0osaUJBUkw7O0FBVUEsb0JBQUksRUFBRSxJQUFGLENBQU8saUJBQVAsRUFBMEIsTUFBOUIsRUFBc0M7QUFDbEMsc0JBQUUsTUFBRixDQUFTLGtCQUFULEVBQTZCLGlCQUE3QjtBQUNIO0FBQ0Qsb0NBQW9CLElBQXBCO0FBQ0g7O0FBRUQsY0FBRSxJQUFGLENBQU8sZUFBZSxrQkFBZixHQUFvQyxpQkFBM0MsRUFBOEQsVUFBUyxNQUFULEVBQWlCO0FBQzNFLG1DQUFtQixJQUFuQixDQUF3QixNQUF4QjtBQUNILGFBRkQ7QUFHQSwrQkFBbUIsa0JBQW5CO0FBQ0E7QUE5Q1I7O0FBaURBLG1CQUFlLElBQWY7O0FBRUEsV0FBTyxnQkFBUDtBQUNIIiwiZmlsZSI6IjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIm+W7uuaJp+ihjOWvueixoVxyXG4gKiAxIOWKqOeUu+S9nOeUqOWfn1xyXG4gKiAyIOinhuinieW3ruS9nOeUqOWfn1xyXG4gKiBAdHlwZSB7QXJyYXl9XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtBbmltYXRpb259IGZyb20gJy4vYW5pbWF0aW9uJ1xyXG5pbXBvcnQge1BhcmFsbGF4fSBmcm9tICcuL3BhcmFsbGF4J1xyXG5cclxuXHJcbi8qKlxyXG4gKiDpooTov5DooYzliqjkvZxcclxuICog6Ieq5YqoICYmIOWHuueOsCAmJiDml6Dml7bpl7QgJiYg5peg6Z+z5LmQXHJcbiAqICAmJiDkuI3mmK/nsr7ngbXliqjnlLsgJiYg5rKh5pyJ6ISa5pys5Luj56CBICYmIOW5tuS4lOS4jeiDveaYr+aUtui0uVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gcHJlUnVuQWN0aW9uKGRhdGEsIGV2ZW50TmFtZSkge1xyXG4gICAgdmFyIHBhcmEsIHNjb3BlbSxcclxuICAgICAgICBwYXJhbWV0ZXIgPSBkYXRhLmdldFBhcmFtZXRlcigpO1xyXG4gICAgLy/ov4fmu6TpooTnlJ/miJDliqjnlLtcclxuICAgIGlmIChwYXJhbWV0ZXIubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcGFyYSA9IHBhcmFtZXRlclswXTtcclxuICAgICAgICBpZiAocGFyYS5hbmltYXRpb25OYW1lID09PSAnRWZmZWN0QXBwZWFyJyAmJiBldmVudE5hbWUgPT09ICdhdXRvJyAmJiAhcGFyYS52aWRlb0lkICYmICFwYXJhLmRlbGF5ICYmIGRhdGEuY29udGVudERhcy5jYXRlZ29yeSAhPT0gJ1Nwcml0ZScgJiYgIXBhcmEucHJlQ29kZSAvL+WKqOeUu+WJjeiEmuacrFxyXG4gICAgICAgICAgICAmJiAhcGFyYS5wb3N0Q29kZSAvL+WKqOeUu+WQjuiEmuacrFxyXG4gICAgICAgICAgICAmJiAhL1wiaW5hcHBcIi9pLnRlc3QocGFyYS5wYXJhbWV0ZXIpKSB7IC8v5bm25LiU5LiN6IO95piv5pS26LS55aSE55CGXHJcblxyXG4gICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgICogICAgICDpkojlr7npooTlpITnkIbliqjkvZws5bm25LiU5rKh5pyJ5Y235rua55qE5LiN5rOo5YaMXHJcbiAgICAgICAgICAgICAqICAgICAg5ruh6Laz5piv6Z2Z5oCB5Yqo55S7XHJcbiAgICAgICAgICAgICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgICAgIC8vdHJ1ZeaYr+aYvuekuixmYWxzZemakOiXj1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5pc1JyZVJ1biA9IC9cImV4aXRcIjpcIkZhbHNlXCIvaS50ZXN0KHBhcmEucGFyYW1ldGVyKSA9PT0gdHJ1ZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmnoTlu7rliqjnlLtcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTY29wZShiYXNlLCBjb250ZW50SWQsIHBpZCwgYWN0TmFtZSwgY29udGVudERhcywgcGFyYW1ldGVyLCBoYXNQYXJhbGxheCkge1xyXG4gICAgLy/pu5jorqTlkK/liqhkb23mqKHlvI9cclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnZG9tJyxcclxuICAgICAgICAgICAgY2FudmFzTW9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRvbU1vZGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICRjb250ZW50UHJvY2VzcyxcclxuICAgICAgICBwYWdlVHlwZSA9IGJhc2UucGFnZVR5cGU7XHJcblxyXG5cclxuICAgIC8v5aaC5p6c5ZCv5Yqo5LqGY2FudmFz5qih5byPXHJcbiAgICAvL+aUueaIkOS9nOeUqOWfn+eahOS4gOS6m+aVsOaNrlxyXG4gICAgaWYgKGJhc2UuY2FudmFzUmVsYXRlZC5lbmFibGUpIHtcclxuICAgICAgICAvL+WmguaenOaJvuWIsOWvueW6lOeahGNhbnZhc+WvueixoVxyXG4gICAgICAgIGlmICgtMSAhPT0gYmFzZS5jYW52YXNSZWxhdGVkLmNpZC5pbmRleE9mKGNvbnRlbnRJZCkpIHtcclxuICAgICAgICAgICAgJGNvbnRlbnRQcm9jZXNzID0ge307IC8v562J5b6F5aGr5YWFXHJcbiAgICAgICAgICAgIGRhdGEudHlwZSA9ICdjYW52YXMnO1xyXG4gICAgICAgICAgICBkYXRhLmNhbnZhc01vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBkYXRhLmRvbU1vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpoLmnpzmmK9kb23mqKHlvI9cclxuICAgIGlmICghJGNvbnRlbnRQcm9jZXNzKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog56Gu5L+d6IqC54K55a2Y5ZyoXHJcbiAgICAgICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoISgkY29udGVudFByb2Nlc3MgPSBiYXNlLl9maW5kQ29udGVudEVsZW1lbnQoYWN0TmFtZSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yi25L2c5YWs5YWx5pWw5o2uXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBfLmV4dGVuZChkYXRhLCB7XHJcbiAgICAgICAgYmFzZTogYmFzZSxcclxuICAgICAgICBpZDogY29udGVudElkLFxyXG4gICAgICAgIHBpZDogcGlkLFxyXG4gICAgICAgIGFjdE5hbWU6IGFjdE5hbWUsXHJcbiAgICAgICAgY29udGVudERhczogY29udGVudERhcyxcclxuICAgICAgICAkY29udGVudFByb2Nlc3M6ICRjb250ZW50UHJvY2VzcyxcclxuICAgICAgICBwYWdlVHlwZTogcGFnZVR5cGUsXHJcbiAgICAgICAgcGFnZUluZGV4OiBiYXNlLnBhZ2VJbmRleCxcclxuICAgICAgICBjYW52YXNSZWxhdGVkOiBiYXNlLmNhbnZhc1JlbGF0ZWQsXHJcbiAgICAgICAgbmV4dFRhc2s6IGJhc2UubmV4dFRhc2tcclxuICAgIH0pXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aaC5p6c5piv5q+N54mI5bGC55CGLOinhuinieW3ruWkhOeQhlxyXG4gICAgICogcHJvY2Vzc1R5cGUg5LiJ56eN5oOF5Ya1XHJcbiAgICAgKiAgICAgICAgICBwYXJhbGxheFxyXG4gICAgICogICAgICAgICAgYW5pbWF0aW9uXHJcbiAgICAgKiAgICAgICAgICBib3RoKHBhcmFsbGF4LGFuaW1hdGlvbilcclxuICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIGlmIChoYXNQYXJhbGxheCAmJiBwYWdlVHlwZSA9PT0gJ21hc3RlcicpIHtcclxuICAgICAgICBkYXRhLnByb2Nlc3NUeXBlID0gJ3BhcmFsbGF4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5wcm9jZXNzVHlwZSA9ICdhbmltYXRpb24nO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+eUn+aIkOafpeivouaWueazlVxyXG4gICAgZGF0YS5nZXRQYXJhbWV0ZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+WIhuWMuuavjeeJiOS4jumhtemdoueahOaVsOaNrue7k+aehFxyXG4gICAgICAgIC8vcGFyYW1ldGVyLW1hc3Rlci1wYXJhbGxheFxyXG4gICAgICAgIC8vcGFyYW1ldGVyLW1hc3Rlci1hbmltYXRpb25cclxuICAgICAgICAvL3BhcmFtZXRlci1wYWdlLWFuaW1hdGlvblxyXG4gICAgICAgIHZhciBmaXggPSAncGFyYW1ldGVyLScgKyBwYWdlVHlwZSArICctJyArIGRhdGEucHJvY2Vzc1R5cGU7XHJcbiAgICAgICAgZGF0YVtmaXhdID0gcGFyYW1ldGVyO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFbZml4XTtcclxuICAgICAgICB9XHJcbiAgICB9KCk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55Sf5oiQ6KeG6KeJ5beu5L2c55So5Z+fXHJcbiAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICBpZiAoZGF0YS5wcm9jZXNzVHlwZSA9PT0gJ3BhcmFsbGF4Jykge1xyXG4gICAgICAgIC8v5Yid5aeL5YyW6KeG6KeJ5beu5a+56LGh55qE5Z2Q5qCH5YGP56e76YePXHJcbiAgICAgICAgZGF0YS50cmFuc2Zvcm1PZmZzZXQgPSBiYXNlLnJlbGF0ZWREYXRhLnRyYW5zZm9ybU9mZnNldChkYXRhLmlkKTtcclxuICAgICAgICByZXR1cm4gUGFyYWxsYXguY2FsbChiYXNlLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDkvJjljJbmnLrliLYs6aKE55Sf5oiQ5aSE55CGXHJcbiAgICAgKiAg6L+H5ruk6Ieq5Yqo54Ot54K55bm25LiU5piv5Ye6546w5Yqo5L2c77yM5rKh5pyJ5pe26Ze077yM55So5LqO5o+Q5Y2H5L2T6aqMXHJcbiAgICAgKi9cclxuICAgIHByZVJ1bkFjdGlvbihkYXRhLCBiYXNlLmV2ZW50RGF0YS5ldmVudE5hbWUpXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55Sf5oiQ5a2Q5L2c55So5Z+f5a+56LGh77yM55So5LqO5oq96LGh5aSE55CG5Yqo55S7LOihjOS4ulxyXG4gICAgICovXHJcbiAgICByZXR1cm4gbmV3IEFuaW1hdGlvbihkYXRhKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliIbop6Pmr4/kuKrlrZDkvZznlKjln59cclxuICogMSDnlJ/miJDkuLTml7bljaDkvY3kvZznlKjln58s55So5LqO5YiG5q615Yqo55S7XHJcbiAqIDIg55Sf5oiQ5omA5pyJ5Yqo55S75a2Q5L2c55So5Z+fXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gcGFyYW1ldGVyIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlSGFuZGxlcnMoYmFzZSwgcGFyYW1ldGVyLCB3YWl0Q3JlYXRlKSB7XHJcbiAgICAvKipcclxuICAgICAqIOWmguaenOaYr+WKqOaAgeWIhuauteWIm+W7ulxyXG4gICAgICog5re35YWl5paw55qE5L2c55So5Z+fXHJcbiAgICAgKi9cclxuICAgIGlmICh3YWl0Q3JlYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNjb3BlLmFwcGx5KGJhc2UsIHBhcmFtZXRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9kb23lr7nosaFcclxuICAgIHZhciBwYXJhID0gcGFyYW1ldGVyWzBdLFxyXG4gICAgICAgIGNvbnRlbnRJZCA9IHBhcmFbJ2NvbnRlbnRJZCddLCAvL+WPr+iDveacieWkmuS4quWKqOeUu+aVsOaNriBbT2JqZWN0LE9iamVjdCxPYmplY3RdXHJcbiAgICAgICAgcGlkID0gYmFzZS5waWQsXHJcbiAgICAgICAgYWN0TmFtZSA9IGJhc2UuX21ha2VQcmVmaXgoJ0NvbnRlbnQnLCBwaWQsIGNvbnRlbnRJZCksXHJcbiAgICAgICAgY29udGVudERhcyA9IGJhc2UucmVsYXRlZERhdGEuY29udGVudERhc1tjb250ZW50SWRdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5a6i5oi356uv5pyq5a6e546wXHJcbiAgICAgKiDpkojlr7nliIbmrrXliJvlu7rkvJjljJZcclxuICAgICAqIOWIneWni+WMluW/heimgeWKoOi9veaVsOaNrlxyXG4gICAgICog5Li05pe25Y2g5L2N5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIC8vIGlmKGNvbnRlbnREYXMgJiYgMT09Y29udGVudERhcy52aXNpYmxlKXtcclxuICAgIC8vICAvL+iusOW9leWIhuauteagh+iusCznlKjmiLflkIjlubbliJvlu7roioLngrlcclxuICAgIC8vICBiYXNlLndhaXRDcmVhdGVDb250ZW50LnB1c2goY29udGVudElkKVxyXG4gICAgLy8gIHJldHVybiBbY29udGVudElkLCBwaWQsIGFjdE5hbWUsIGNvbnRlbnREYXMsIHBhcmFtZXRlcl07XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmnoTlu7rlrZDkvZznlKjln59cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIGNyZWF0ZVNjb3BlKGJhc2UsIGNvbnRlbnRJZCwgcGlkLCBhY3ROYW1lLCBjb250ZW50RGFzLCBwYXJhbWV0ZXIsIHBhcmEubWFzdGVySWQpO1xyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDmnoTlu7rkvZznlKjln59cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBmbkNyZWF0ZShiYXNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgcGFyYSwgaGFuZGxlcnM7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy/nlJ/miJDliqjnlLvkvZznlKjln5/lr7nosaFcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmEgPSBkYXRhLnNoaWZ0KCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVycyA9IGNyZWF0ZUhhbmRsZXJzKGJhc2UsIHBhcmEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaGFuZGxlcnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOa6kOWvueixoeWkjeWItuWIsOebruagh+WvueixoVxyXG4gKi9cclxuZnVuY3Rpb24gaW5uZXJFeHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGZvciAocHJvcGVydHkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHRhcmdldFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL+WkhOeQhml0ZW1BcnJheee7keWumueahOWKqOeUu+WvueixoVxyXG4vL+azqOWFpeWKqOeUu1xyXG4vL+e7keWumueUqOaIt+S6i+S7tlxyXG5leHBvcnQgZnVuY3Rpb24gQ2hpbGQoYmFzZSkge1xyXG4gICAgdmFyIGFuaW1hdGlvbiA9IGJhc2Uuc2VlZC5hbmltYXRpb24sXHJcbiAgICAgICAgcGFyYWxsYXggPSBiYXNlLnNlZWQucGFyYWxsYXgsXHJcbiAgICAgICAgLy/mir3lh7pjb250ZW505a+56LGhXHJcbiAgICAgICAgYWJzdHJhY3RDb250ZW50cyA9IFtdLFxyXG4gICAgICAgIC8v5Yib5bu65byV55SoXHJcbiAgICAgICAgYmF0Y2hlQ3JlYXRlID0gZm5DcmVhdGUoYmFzZSk7XHJcblxyXG4gICAgc3dpdGNoIChiYXNlLnBhZ2VUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAncGFnZSc6XHJcbiAgICAgICAgICAgIGJhdGNoZUNyZWF0ZShhbmltYXRpb24sIGZ1bmN0aW9uKGhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBhYnN0cmFjdENvbnRlbnRzLnB1c2goaGFuZGxlcnMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdtYXN0ZXInOlxyXG4gICAgICAgICAgICAvL+avjeeJiOWxgueahOWkhOeQhlxyXG4gICAgICAgICAgICB2YXIgdGVtcFBhcmFsbGF4U2NvcGUgPSB7fSxcclxuICAgICAgICAgICAgICAgIHRlbXBBbmltYXRpb25TY29wZSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgdGVtcEFzc2lzdENvbnRlbnRzID0gW107XHJcbiAgICAgICAgICAgIC8v6KeG6KeJ5beu5aSE55CGXHJcbiAgICAgICAgICAgIGJhdGNoZUNyZWF0ZShwYXJhbGxheCwgZnVuY3Rpb24oaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgIHRlbXBQYXJhbGxheFNjb3BlW2hhbmRsZXJzLmlkXSA9IGhhbmRsZXJzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJhdGNoZUNyZWF0ZShhbmltYXRpb24sIGZ1bmN0aW9uKGhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wQW5pbWF0aW9uU2NvcGVbaGFuZGxlcnMuaWRdID0gaGFuZGxlcnM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGhhc1BhcmFsbGF4ID0gXy5rZXlzKHRlbXBQYXJhbGxheFNjb3BlKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBoYXNBbmltYXRpb24gPSBfLmtleXModGVtcEFuaW1hdGlvblNjb3BlKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvL+WKqOeUu+S4uuS4u1xyXG4gICAgICAgICAgICAvL+WQiOW5tu+8jOWQjOS4gOS4quWvueixoeWPr+iDveWFt+acieWKqOeUuyvop4bop4nlt67ooYzkuLpcclxuICAgICAgICAgICAgaWYgKGhhc1BhcmFsbGF4ICYmIGhhc0FuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKHRlbXBBbmltYXRpb25TY29wZSwgZnVuY3Rpb24odGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHRhcmdldC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSA9IHRlbXBQYXJhbGxheFNjb3BlW2lkXSkgeyAvL+WmguaenOiDveaJvuWIsOWwsemcgOimgeWQiOW5tlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJFeHRlbmQodGFyZ2V0LCBzb3VyY2UpOyAvL+WkjeWItuaWueazlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnByb2Nlc3NUeXBlID0gJ2JvdGgnOyAvL+agh+iusOaWsOe7hOWQiFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRlbXBQYXJhbGxheFNjb3BlW2lkXTsgLy/liKDpmaTlvJXnlKhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy/liankvZnnmoTlpITnkIZcclxuICAgICAgICAgICAgICAgIGlmIChfLmtleXModGVtcFBhcmFsbGF4U2NvcGUpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZXh0ZW5kKHRlbXBBbmltYXRpb25TY29wZSwgdGVtcFBhcmFsbGF4U2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGVtcFBhcmFsbGF4U2NvcGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6L2s5YyW5oiQ5pWw57uEXHJcbiAgICAgICAgICAgIF8uZWFjaChoYXNBbmltYXRpb24gPyB0ZW1wQW5pbWF0aW9uU2NvcGUgOiB0ZW1wUGFyYWxsYXhTY29wZSwgZnVuY3Rpb24odGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wQXNzaXN0Q29udGVudHMucHVzaCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBhYnN0cmFjdENvbnRlbnRzID0gdGVtcEFzc2lzdENvbnRlbnRzO1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgfVxyXG5cclxuICAgIGJhdGNoZUNyZWF0ZSA9IG51bGw7XHJcblxyXG4gICAgcmV0dXJuIGFic3RyYWN0Q29udGVudHM7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2NoaWxkLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 37 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar uid = 0;\n\n/**\r\n * 依赖订阅\r\n */\nfunction Dep() {\n    this.id = uid++;\n    this.subs = [];\n}\n\nDep.prototype.addSub = function (sub) {\n    this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function (sub) {\n    this.subs = [];\n};\n\nDep.prototype.notify = function () {\n    if (this.subs.length) {\n        console.log('依赖队列');\n    }\n};\n\nexports.Dep = Dep;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2RlcC5qcz8xMjcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSSxNQUFNLENBQVY7Ozs7O0FBS0EsU0FBUyxHQUFULEdBQWU7QUFDWCxTQUFLLEVBQUwsR0FBVSxLQUFWO0FBQ0EsU0FBSyxJQUFMLEdBQVksRUFBWjtBQUNIOztBQUVELElBQUksU0FBSixDQUFjLE1BQWQsR0FBdUIsVUFBUyxHQUFULEVBQWM7QUFDakMsU0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLEdBQWY7QUFDSCxDQUZEOztBQUlBLElBQUksU0FBSixDQUFjLFNBQWQsR0FBMEIsVUFBUyxHQUFULEVBQWM7QUFDcEMsU0FBSyxJQUFMLEdBQVksRUFBWjtBQUNILENBRkQ7O0FBSUEsSUFBSSxTQUFKLENBQWMsTUFBZCxHQUF1QixZQUFXO0FBQzlCLFFBQUksS0FBSyxJQUFMLENBQVUsTUFBZCxFQUFzQjtBQUNsQixnQkFBUSxHQUFSLENBQVksTUFBWjtBQUNIO0FBQ0osQ0FKRDs7UUFNUSxHLEdBQUEsRyIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCB1aWQgPSAwXHJcblxyXG4vKipcclxuICog5L6d6LWW6K6i6ZiFXHJcbiAqL1xyXG5mdW5jdGlvbiBEZXAoKSB7XHJcbiAgICB0aGlzLmlkID0gdWlkKys7XHJcbiAgICB0aGlzLnN1YnMgPSBbXVxyXG59XHJcblxyXG5EZXAucHJvdG90eXBlLmFkZFN1YiA9IGZ1bmN0aW9uKHN1Yikge1xyXG4gICAgdGhpcy5zdWJzLnB1c2goc3ViKVxyXG59XHJcblxyXG5EZXAucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uKHN1Yikge1xyXG4gICAgdGhpcy5zdWJzID0gW107XHJcbn1cclxuXHJcbkRlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5zdWJzLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfkvp3otZbpmJ/liJcnKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0RlcH1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2NvbnRlbnQvZGVwLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 38 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.contentFilter = contentFilter;\n\nvar _index = __webpack_require__(1);\n\n/**\r\n * content对象的创建过滤器\r\n * 用于阻断对象的创建\r\n */\nfunction contentFilter(filterName) {\n\n    //过滤的节点\n    var listFilters = function () {\n        var values = getCache();\n        var h = (0, _index.hash)();\n        if (values) {\n            //keep the listFilters has no property\n            _.each(values, function (v, i) {\n                h[i] = v;\n            });\n        }\n        return h;\n    }();\n\n    function setCache(listFilters) {\n        (0, _index._save)(filterName, listFilters);\n    }\n\n    function getCache() {\n        var jsonStr = (0, _index._get)(filterName);\n        return (0, _index.parseJSON)(jsonStr);\n    }\n\n    function access(callback, pageId, contentId) {\n        //如果是transformFilter,不需要pageIndex处理\n        if (filterName === 'transformFilter' && contentId === undefined) {\n            contentId = pageId;\n            pageId = 'transformFilter';\n        }\n        return callback(pageId, Number(contentId));\n    }\n\n    return {\n        add: function add(pageId, contentId) {\n            access(function (pageId, contentId) {\n                if (!listFilters[pageId]) {\n                    listFilters[pageId] = [];\n                }\n                //去重\n                if (-1 === listFilters[pageId].indexOf(contentId)) {\n                    listFilters[pageId].push(contentId);\n                    setCache(listFilters);\n                }\n            }, pageId, contentId);\n        },\n\n        remove: function remove(pageId, contentId) {\n            access(function (pageId, contentId) {\n                var target = listFilters[pageId] || [],\n                    index = target.indexOf(contentId);\n                if (-1 !== index) {\n                    target.splice(index, 1);\n                    setCache(listFilters);\n                }\n            }, pageId, contentId);\n        },\n\n        has: function has(pageId, contentId) {\n            return access(function (pageId, contentId) {\n                var target = listFilters[pageId];\n                return target ? -1 !== target.indexOf(contentId) ? true : false : false;\n            }, pageId, contentId);\n        },\n\n        /**\r\n         * 创建过滤器\r\n         * @param  {[type]} pageId [description]\r\n         * @return {[type]}        [description]\r\n         */\n        each: function each(pageId) {\n            return access(function (pageId, contentId) {\n                var target, indexOf;\n                if (target = listFilters[pageId]) {\n                    return function (contentIds, callback) {\n                        _.each(target, function (ids) {\n                            var indexOf = contentIds.indexOf(ids);\n                            if (-1 !== indexOf) {\n                                callback(indexOf); //如果找到的过滤项目\n                            }\n                        });\n                    };\n                }\n            }, pageId);\n        },\n\n        //过滤器数量\n        size: function size() {\n            return _.keys(listFilters).length;\n        },\n\n        empty: function empty() {\n            _remove(filterName);\n            listFilters = {};\n        }\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2ZpbHRlci5qcz85Y2ExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBU2dCLGEsR0FBQSxhOztBQVRoQjs7Ozs7O0FBU08sU0FBUyxhQUFULENBQXVCLFVBQXZCLEVBQW1DOzs7QUFHdEMsUUFBSSxjQUFjLFlBQVc7QUFDekIsWUFBSSxTQUFTLFVBQWI7QUFDQSxZQUFJLElBQUksa0JBQVI7QUFDQSxZQUFJLE1BQUosRUFBWTs7QUFFUixjQUFFLElBQUYsQ0FBTyxNQUFQLEVBQWUsVUFBUyxDQUFULEVBQVksQ0FBWixFQUFlO0FBQzFCLGtCQUFFLENBQUYsSUFBTyxDQUFQO0FBQ0gsYUFGRDtBQUdIO0FBQ0QsZUFBTyxDQUFQO0FBQ0gsS0FWaUIsRUFBbEI7O0FBWUEsYUFBUyxRQUFULENBQWtCLFdBQWxCLEVBQStCO0FBQzNCLDBCQUFNLFVBQU4sRUFBa0IsV0FBbEI7QUFDSDs7QUFFRCxhQUFTLFFBQVQsR0FBb0I7QUFDaEIsWUFBSSxVQUFVLGlCQUFLLFVBQUwsQ0FBZDtBQUNBLGVBQU8sc0JBQVUsT0FBVixDQUFQO0FBQ0g7O0FBRUQsYUFBUyxNQUFULENBQWdCLFFBQWhCLEVBQTBCLE1BQTFCLEVBQWtDLFNBQWxDLEVBQTZDOztBQUV6QyxZQUFJLGVBQWUsaUJBQWYsSUFBb0MsY0FBYyxTQUF0RCxFQUFpRTtBQUM3RCx3QkFBWSxNQUFaO0FBQ0EscUJBQVMsaUJBQVQ7QUFDSDtBQUNELGVBQU8sU0FBUyxNQUFULEVBQWlCLE9BQU8sU0FBUCxDQUFqQixDQUFQO0FBQ0g7O0FBRUQsV0FBTztBQUNILGFBQUssYUFBUyxNQUFULEVBQWlCLFNBQWpCLEVBQTRCO0FBQzdCLG1CQUFPLFVBQVMsTUFBVCxFQUFpQixTQUFqQixFQUE0QjtBQUMvQixvQkFBSSxDQUFDLFlBQVksTUFBWixDQUFMLEVBQTBCO0FBQ3RCLGdDQUFZLE1BQVosSUFBc0IsRUFBdEI7QUFDSDs7QUFFRCxvQkFBSSxDQUFDLENBQUQsS0FBTyxZQUFZLE1BQVosRUFBb0IsT0FBcEIsQ0FBNEIsU0FBNUIsQ0FBWCxFQUFtRDtBQUMvQyxnQ0FBWSxNQUFaLEVBQW9CLElBQXBCLENBQXlCLFNBQXpCO0FBQ0EsNkJBQVMsV0FBVDtBQUNIO0FBQ0osYUFURCxFQVNHLE1BVEgsRUFTVyxTQVRYO0FBVUgsU0FaRTs7QUFjSCxnQkFBUSxnQkFBUyxNQUFULEVBQWlCLFNBQWpCLEVBQTRCO0FBQ2hDLG1CQUFPLFVBQVMsTUFBVCxFQUFpQixTQUFqQixFQUE0QjtBQUMvQixvQkFBSSxTQUFTLFlBQVksTUFBWixLQUF1QixFQUFwQztvQkFDSSxRQUFRLE9BQU8sT0FBUCxDQUFlLFNBQWYsQ0FEWjtBQUVBLG9CQUFJLENBQUMsQ0FBRCxLQUFPLEtBQVgsRUFBa0I7QUFDZCwyQkFBTyxNQUFQLENBQWMsS0FBZCxFQUFxQixDQUFyQjtBQUNBLDZCQUFTLFdBQVQ7QUFDSDtBQUNKLGFBUEQsRUFPRyxNQVBILEVBT1csU0FQWDtBQVFILFNBdkJFOztBQXlCSCxhQUFLLGFBQVMsTUFBVCxFQUFpQixTQUFqQixFQUE0QjtBQUM3QixtQkFBTyxPQUFPLFVBQVMsTUFBVCxFQUFpQixTQUFqQixFQUE0QjtBQUN0QyxvQkFBSSxTQUFTLFlBQVksTUFBWixDQUFiO0FBQ0EsdUJBQU8sU0FBUyxDQUFDLENBQUQsS0FBTyxPQUFPLE9BQVAsQ0FBZSxTQUFmLENBQVAsR0FBbUMsSUFBbkMsR0FBMEMsS0FBbkQsR0FBMkQsS0FBbEU7QUFDSCxhQUhNLEVBR0osTUFISSxFQUdJLFNBSEosQ0FBUDtBQUlILFNBOUJFOzs7Ozs7O0FBcUNILGNBQU0sY0FBUyxNQUFULEVBQWlCO0FBQ25CLG1CQUFPLE9BQU8sVUFBUyxNQUFULEVBQWlCLFNBQWpCLEVBQTRCO0FBQ3RDLG9CQUFJLE1BQUosRUFBWSxPQUFaO0FBQ0Esb0JBQUksU0FBUyxZQUFZLE1BQVosQ0FBYixFQUFrQztBQUM5QiwyQkFBTyxVQUFTLFVBQVQsRUFBcUIsUUFBckIsRUFBK0I7QUFDbEMsMEJBQUUsSUFBRixDQUFPLE1BQVAsRUFBZSxVQUFTLEdBQVQsRUFBYztBQUN6QixnQ0FBSSxVQUFVLFdBQVcsT0FBWCxDQUFtQixHQUFuQixDQUFkO0FBQ0EsZ0NBQUksQ0FBQyxDQUFELEtBQU8sT0FBWCxFQUFvQjtBQUNoQix5Q0FBUyxPQUFULEU7QUFDSDtBQUNKLHlCQUxEO0FBTUgscUJBUEQ7QUFRSDtBQUNKLGFBWk0sRUFZSixNQVpJLENBQVA7QUFhSCxTQW5ERTs7O0FBc0RILGNBQU0sZ0JBQVc7QUFDYixtQkFBTyxFQUFFLElBQUYsQ0FBTyxXQUFQLEVBQW9CLE1BQTNCO0FBQ0gsU0F4REU7O0FBMERILGVBQU8saUJBQVc7QUFDZCxvQkFBUSxVQUFSO0FBQ0EsMEJBQWMsRUFBZDtBQUNIO0FBN0RFLEtBQVA7QUErREgiLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgX3NldCwgX2dldCwgcmVtb3ZlLCBfc2F2ZSwgcGFyc2VKU09OLCBoYXNoXHJcbn1cclxuZnJvbSAnLi4vLi4vdXRpbC9pbmRleCdcclxuXHJcbi8qKlxyXG4gKiBjb250ZW505a+56LGh55qE5Yib5bu66L+H5ruk5ZmoXHJcbiAqIOeUqOS6jumYu+aWreWvueixoeeahOWIm+W7ulxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRGaWx0ZXIoZmlsdGVyTmFtZSkge1xyXG5cclxuICAgIC8v6L+H5ruk55qE6IqC54K5XHJcbiAgICB2YXIgbGlzdEZpbHRlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdmFsdWVzID0gZ2V0Q2FjaGUoKTtcclxuICAgICAgICB2YXIgaCA9IGhhc2goKVxyXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgLy9rZWVwIHRoZSBsaXN0RmlsdGVycyBoYXMgbm8gcHJvcGVydHlcclxuICAgICAgICAgICAgXy5lYWNoKHZhbHVlcywgZnVuY3Rpb24odiwgaSkge1xyXG4gICAgICAgICAgICAgICAgaFtpXSA9IHY7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH0oKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDYWNoZShsaXN0RmlsdGVycykge1xyXG4gICAgICAgIF9zYXZlKGZpbHRlck5hbWUsIGxpc3RGaWx0ZXJzKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENhY2hlKCkge1xyXG4gICAgICAgIHZhciBqc29uU3RyID0gX2dldChmaWx0ZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VKU09OKGpzb25TdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjY2VzcyhjYWxsYmFjaywgcGFnZUlkLCBjb250ZW50SWQpIHtcclxuICAgICAgICAvL+WmguaenOaYr3RyYW5zZm9ybUZpbHRlcizkuI3pnIDopoFwYWdlSW5kZXjlpITnkIZcclxuICAgICAgICBpZiAoZmlsdGVyTmFtZSA9PT0gJ3RyYW5zZm9ybUZpbHRlcicgJiYgY29udGVudElkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29udGVudElkID0gcGFnZUlkO1xyXG4gICAgICAgICAgICBwYWdlSWQgPSAndHJhbnNmb3JtRmlsdGVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FsbGJhY2socGFnZUlkLCBOdW1iZXIoY29udGVudElkKSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZDogZnVuY3Rpb24ocGFnZUlkLCBjb250ZW50SWQpIHtcclxuICAgICAgICAgICAgYWNjZXNzKGZ1bmN0aW9uKHBhZ2VJZCwgY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RGaWx0ZXJzW3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0RmlsdGVyc1twYWdlSWRdID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL+WOu+mHjVxyXG4gICAgICAgICAgICAgICAgaWYgKC0xID09PSBsaXN0RmlsdGVyc1twYWdlSWRdLmluZGV4T2YoY29udGVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RGaWx0ZXJzW3BhZ2VJZF0ucHVzaChjb250ZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENhY2hlKGxpc3RGaWx0ZXJzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBwYWdlSWQsIGNvbnRlbnRJZClcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKHBhZ2VJZCwgY29udGVudElkKSB7XHJcbiAgICAgICAgICAgIGFjY2VzcyhmdW5jdGlvbihwYWdlSWQsIGNvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGxpc3RGaWx0ZXJzW3BhZ2VJZF0gfHwgW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0YXJnZXQuaW5kZXhPZihjb250ZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKC0xICE9PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENhY2hlKGxpc3RGaWx0ZXJzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgcGFnZUlkLCBjb250ZW50SWQpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGFzOiBmdW5jdGlvbihwYWdlSWQsIGNvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzKGZ1bmN0aW9uKHBhZ2VJZCwgY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbGlzdEZpbHRlcnNbcGFnZUlkXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQgPyAtMSAhPT0gdGFyZ2V0LmluZGV4T2YoY29udGVudElkKSA/IHRydWUgOiBmYWxzZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCBwYWdlSWQsIGNvbnRlbnRJZClcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDliJvlu7rov4fmu6TlmahcclxuICAgICAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VJZCBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGVhY2g6IGZ1bmN0aW9uKHBhZ2VJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzKGZ1bmN0aW9uKHBhZ2VJZCwgY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0LCBpbmRleE9mO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9IGxpc3RGaWx0ZXJzW3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oY29udGVudElkcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHRhcmdldCwgZnVuY3Rpb24oaWRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhPZiA9IGNvbnRlbnRJZHMuaW5kZXhPZihpZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSBpbmRleE9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaW5kZXhPZik7IC8v5aaC5p6c5om+5Yiw55qE6L+H5ruk6aG555uuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBwYWdlSWQpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/ov4fmu6TlmajmlbDph49cclxuICAgICAgICBzaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8ua2V5cyhsaXN0RmlsdGVycykubGVuZ3RoO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVtcHR5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgX3JlbW92ZShmaWx0ZXJOYW1lKTtcclxuICAgICAgICAgICAgbGlzdEZpbHRlcnMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2ZpbHRlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 39 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.HtmlBox = undefined;\n\nvar _event = __webpack_require__(6);\n\nvar _stroage = __webpack_require__(5);\n\n/**\r\n * html文本框\r\n * @param  {[type]} ){} [description]\r\n * @return {[type]}       [description]\r\n */\n\nvar defaultFontSize = void 0;\nvar baseValue1 = void 0;\nvar baseValue2 = void 0;\nvar baseValue3 = void 0;\n\nfunction setOption() {\n    var proportion = Xut.config.proportion.width;\n    var docEl = document.documentElement;\n    try {\n        defaultFontSize = parseInt(getComputedStyle(docEl).fontSize);\n    } catch (er) {\n        defaultFontSize = 16;\n    }\n\n    //实际字体大小\n    defaultFontSize = defaultFontSize * proportion;\n\n    //设置默认rem\n    docEl.style.fontSize = defaultFontSize + \"px\";\n\n    baseValue1 = Math.floor(defaultFontSize * 1.5);\n    baseValue2 = Math.floor(defaultFontSize * 2.0);\n    baseValue3 = Math.floor(defaultFontSize * 2.5);\n}\n\n/**\r\n * 工具栏布局\r\n * @return {[type]} [description]\r\n */\nfunction textLayer() {\n    var str = '  <div class=\"htmlbox_close_container\">' + '        <a class=\"htmlbox_close\"></a>' + ' </div>' + ' <ul class=\"htmlbox_fontsizeUl\">' + '    <li>' + '        <a class=\"htmlbox_small\" style=\"width:{0}px;height:{1}px;margin-top:-{2}px\"></a>' + '     </li>' + '     <li>' + '        <a class=\"htmlbox_middle\" style=\"width:{3}px;height:{4}px;margin-top:-{5}px\"></a>' + '     </li>' + '    <li>' + '        <a class=\"htmlbox_big\" style=\"width:{6}px;height:{7}px;margin-top:-{8}px\"></a>' + '    </li>' + ' </ul>';\n\n    return String.format(str, baseValue1, baseValue1, baseValue1 / 2, baseValue2, baseValue2, baseValue2 / 2, baseValue3, baseValue3, baseValue3 / 2);\n}\n\n/**\r\n * 创建盒子容器\r\n * @return {[type]} [description]\r\n */\nfunction createWapper(boxName, textLayer, iscrollName, textContent) {\n    var wapper = ' <div id=\"{0}\" class=\"htmlbox_container\">' + '    <div class=\"htmlbox-toolbar\">{1}</div>' + '    <div id=\"{2}\" style=\"overflow:hidden;position:absolute;width:100%;height:92%;\">' + '        <ul>' + '          {3}' + '        </ul>' + '     </div>' + ' </div>';\n\n    return String.format(wapper, boxName, textLayer, iscrollName, textContent);\n}\n\nfunction HtmlBox(contentId, element) {\n\n    setOption();\n\n    this.contentId = contentId;\n    this.element = element;\n    var self = this;\n\n    //事件对象引用\n    var eventHandler = function eventHandler(eventReference, _eventHandler) {\n        self.eventReference = eventReference;\n        self.eventHandler = _eventHandler;\n    };\n\n    //绑定点击事件\n    (0, _event.bindEvents)({\n        'eventRun': function eventRun() {\n            Xut.View.HideToolbar();\n            self.init(contentId, element);\n        },\n        'eventHandler': eventHandler,\n        'eventContext': element,\n        'eventName': \"tap\",\n        'domMode': true\n    });\n}\n\nHtmlBox.prototype = {\n\n    /**\r\n     * 调整字体大小\r\n     * @return {[type]} [description]\r\n     */\n    adjustSize: function adjustSize(value, save) {\n        value = parseInt(value);\n        docEl.style.fontSize = value + \"px\";\n        save && (0, _stroage._set)(this.storageName, value);\n    },\n\n    /**\r\n     * 卷滚\r\n     * @param  {[type]} iscrollName [description]\r\n     * @return {[type]}             [description]\r\n     */\n    createIscroll: function createIscroll(iscrollName) {\n        this.iscroll = new iScroll(\"#\" + iscrollName, {\n            scrollbars: true,\n            fadeScrollbars: true\n        });\n    },\n\n    init: function init(contentId, element) {\n\n        var self = this;\n\n        //移除偏移量 存在偏移量造成文字被覆盖\n        var textContent = element.find(\">\").html();\n        textContent = textContent.replace(/translate\\(0px, -\\d+px\\)/g, 'translate(0px,0px)');\n\n        var boxName = \"htmlbox_\" + contentId;\n        var iscrollName = \"htmlbox_iscroll_\" + contentId;\n\n        //缓存名\n        this.storageName = boxName + Xut.config.appId;\n\n        //获取保存的字体值\n        var storageValue = (0, _stroage._get)(this.storageName);\n        if (storageValue) {\n            this.adjustSize(storageValue);\n        }\n\n        //创建容器\n        this.$str = $(createWapper(boxName, textLayer(), iscrollName, textContent));\n        element.after(this.$str);\n\n        //卷滚\n        this.createIscroll(iscrollName);\n\n        //绑定事件上下文呢\n        this.eventContext = this.$str.find('.htmlbox-toolbar')[0];\n        //字体大小\n        var sizeArray = [\"1\", \"1.25\", \"1.5\"];\n        //改变字体与刷新卷滚\n        var change = function change(fontsize) {\n            self.adjustSize(fontsize * defaultFontSize, true);\n            self.iscroll.refresh();\n        };\n        //处理器\n        var process = {\n            htmlbox_close_container: function htmlbox_close_container() {\n                self.adjustSize(defaultFontSize);\n                self.removeBox();\n            },\n            htmlbox_close: function htmlbox_close() {\n                self.adjustSize(defaultFontSize);\n                self.removeBox();\n            },\n            htmlbox_small: function htmlbox_small() {\n                change(sizeArray[0]);\n            },\n            htmlbox_middle: function htmlbox_middle() {\n                change(sizeArray[1]);\n            },\n            htmlbox_big: function htmlbox_big() {\n                change(sizeArray[2]);\n            }\n        };\n        //冒泡匹配按钮点击\n        this.start = function (e) {\n            var className = e.target.className;\n            process[className] && process[className]();\n        };\n        Xut.plat.execEvent('on', {\n            context: this.eventContext,\n            callback: {\n                start: this.start\n            }\n        });\n    },\n\n    //移除盒子\n    removeBox: function removeBox() {\n        Xut.plat.execEvent('off', {\n            context: this.eventContext,\n            callback: {\n                start: this.start\n            }\n        });\n        this.$str && this.$str.remove();\n        this.iscroll && this.iscroll.destroy();\n        this.iscroll = null;\n    },\n\n    //销毁外部点击事件与\n    destroy: function destroy() {\n        _.each(this.eventReference, function (off) {\n            off(\"tap\");\n        });\n        this.removeBox();\n    }\n};\n\nexports.HtmlBox = HtmlBox;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L2h0bWxib3guanM/OGEwOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTUE7O0FBTUE7Ozs7Ozs7O0FBTUEsSUFBSSx3QkFBSjtBQUNBLElBQUksbUJBQUo7QUFDQSxJQUFJLG1CQUFKO0FBQ0EsSUFBSSxtQkFBSjs7QUFFQSxTQUFTLFNBQVQsR0FBcUI7QUFDakIsUUFBSSxhQUFhLElBQUksTUFBSixDQUFXLFVBQVgsQ0FBc0IsS0FBdkM7QUFDQSxRQUFJLFFBQVEsU0FBUyxlQUFyQjtBQUNBLFFBQUk7QUFDQSwwQkFBa0IsU0FBUyxpQkFBaUIsS0FBakIsRUFBd0IsUUFBakMsQ0FBbEI7QUFDSCxLQUZELENBRUUsT0FBTyxFQUFQLEVBQVc7QUFDVCwwQkFBa0IsRUFBbEI7QUFDSDs7O0FBR0Qsc0JBQWtCLGtCQUFrQixVQUFwQzs7O0FBR0EsVUFBTSxLQUFOLENBQVksUUFBWixHQUF1QixrQkFBa0IsSUFBekM7O0FBRUEsaUJBQWEsS0FBSyxLQUFMLENBQVcsa0JBQWtCLEdBQTdCLENBQWI7QUFDQSxpQkFBYSxLQUFLLEtBQUwsQ0FBVyxrQkFBa0IsR0FBN0IsQ0FBYjtBQUNBLGlCQUFhLEtBQUssS0FBTCxDQUFXLGtCQUFrQixHQUE3QixDQUFiO0FBQ0g7Ozs7OztBQU1ELFNBQVMsU0FBVCxHQUFxQjtBQUNqQixRQUFJLE1BQU0sNENBQTRDLHVDQUE1QyxHQUFzRixTQUF0RixHQUFrRyxrQ0FBbEcsR0FBdUksVUFBdkksR0FBb0osMEZBQXBKLEdBQWlQLFlBQWpQLEdBQWdRLFdBQWhRLEdBQThRLDJGQUE5USxHQUE0VyxZQUE1VyxHQUEyWCxVQUEzWCxHQUF3WSx3RkFBeFksR0FBbWUsV0FBbmUsR0FBaWYsUUFBM2Y7O0FBRUEsV0FBTyxPQUFPLE1BQVAsQ0FBYyxHQUFkLEVBQ0gsVUFERyxFQUNTLFVBRFQsRUFDcUIsYUFBYSxDQURsQyxFQUVILFVBRkcsRUFFUyxV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O0FBQ2hCLFVBQUUsSUFBRixDQUFPLEtBQUssY0FBWixFQUE0QixVQUFTLEdBQVQsRUFBYztBQUN0QyxnQkFBSSxLQUFKO0FBQ0gsU0FGRDtBQUdBLGFBQUssU0FBTDtBQUNIO0FBaEhlLENBQXBCOztRQXFISSxPLEdBQUEsTyIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBodG1s5paH5pys5qGGXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gKXt9IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGJpbmRFdmVudHNcclxufVxyXG5mcm9tICcuL2V2ZW50J1xyXG5cclxuXHJcbmltcG9ydCB7XHJcbiAgICBfc2V0LFxyXG4gICAgX2dldFxyXG59XHJcbmZyb20gJy4uLy4uL3V0aWwvc3Ryb2FnZSdcclxuIFxyXG5sZXQgZGVmYXVsdEZvbnRTaXplXHJcbmxldCBiYXNlVmFsdWUxXHJcbmxldCBiYXNlVmFsdWUyXHJcbmxldCBiYXNlVmFsdWUzXHJcblxyXG5mdW5jdGlvbiBzZXRPcHRpb24oKSB7XHJcbiAgICB2YXIgcHJvcG9ydGlvbiA9IFh1dC5jb25maWcucHJvcG9ydGlvbi53aWR0aDtcclxuICAgIHZhciBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZGVmYXVsdEZvbnRTaXplID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShkb2NFbCkuZm9udFNpemUpXHJcbiAgICB9IGNhdGNoIChlcikge1xyXG4gICAgICAgIGRlZmF1bHRGb250U2l6ZSA9IDE2XHJcbiAgICB9XHJcblxyXG4gICAgLy/lrp7pmYXlrZfkvZPlpKflsI9cclxuICAgIGRlZmF1bHRGb250U2l6ZSA9IGRlZmF1bHRGb250U2l6ZSAqIHByb3BvcnRpb247XHJcblxyXG4gICAgLy/orr7nva7pu5jorqRyZW1cclxuICAgIGRvY0VsLnN0eWxlLmZvbnRTaXplID0gZGVmYXVsdEZvbnRTaXplICsgXCJweFwiXHJcblxyXG4gICAgYmFzZVZhbHVlMSA9IE1hdGguZmxvb3IoZGVmYXVsdEZvbnRTaXplICogMS41KTtcclxuICAgIGJhc2VWYWx1ZTIgPSBNYXRoLmZsb29yKGRlZmF1bHRGb250U2l6ZSAqIDIuMCk7XHJcbiAgICBiYXNlVmFsdWUzID0gTWF0aC5mbG9vcihkZWZhdWx0Rm9udFNpemUgKiAyLjUpO1xyXG59XHJcblxyXG4vKipcclxuICog5bel5YW35qCP5biD5bGAXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gdGV4dExheWVyKCkge1xyXG4gICAgdmFyIHN0ciA9ICcgIDxkaXYgY2xhc3M9XCJodG1sYm94X2Nsb3NlX2NvbnRhaW5lclwiPicgKyAnICAgICAgICA8YSBjbGFzcz1cImh0bWxib3hfY2xvc2VcIj48L2E+JyArICcgPC9kaXY+JyArICcgPHVsIGNsYXNzPVwiaHRtbGJveF9mb250c2l6ZVVsXCI+JyArICcgICAgPGxpPicgKyAnICAgICAgICA8YSBjbGFzcz1cImh0bWxib3hfc21hbGxcIiBzdHlsZT1cIndpZHRoOnswfXB4O2hlaWdodDp7MX1weDttYXJnaW4tdG9wOi17Mn1weFwiPjwvYT4nICsgJyAgICAgPC9saT4nICsgJyAgICAgPGxpPicgKyAnICAgICAgICA8YSBjbGFzcz1cImh0bWxib3hfbWlkZGxlXCIgc3R5bGU9XCJ3aWR0aDp7M31weDtoZWlnaHQ6ezR9cHg7bWFyZ2luLXRvcDotezV9cHhcIj48L2E+JyArICcgICAgIDwvbGk+JyArICcgICAgPGxpPicgKyAnICAgICAgICA8YSBjbGFzcz1cImh0bWxib3hfYmlnXCIgc3R5bGU9XCJ3aWR0aDp7Nn1weDtoZWlnaHQ6ezd9cHg7bWFyZ2luLXRvcDotezh9cHhcIj48L2E+JyArICcgICAgPC9saT4nICsgJyA8L3VsPidcclxuXHJcbiAgICByZXR1cm4gU3RyaW5nLmZvcm1hdChzdHIsXHJcbiAgICAgICAgYmFzZVZhbHVlMSwgYmFzZVZhbHVlMSwgYmFzZVZhbHVlMSAvIDIsXHJcbiAgICAgICAgYmFzZVZhbHVlMiwgYmFzZVZhbHVlMiwgYmFzZVZhbHVlMiAvIDIsXHJcbiAgICAgICAgYmFzZVZhbHVlMywgYmFzZVZhbHVlMywgYmFzZVZhbHVlMyAvIDJcclxuICAgICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rnm5LlrZDlrrnlmahcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVXYXBwZXIoYm94TmFtZSwgdGV4dExheWVyLCBpc2Nyb2xsTmFtZSwgdGV4dENvbnRlbnQpIHtcclxuICAgIHZhciB3YXBwZXIgPSAnIDxkaXYgaWQ9XCJ7MH1cIiBjbGFzcz1cImh0bWxib3hfY29udGFpbmVyXCI+JyArICcgICAgPGRpdiBjbGFzcz1cImh0bWxib3gtdG9vbGJhclwiPnsxfTwvZGl2PicgKyAnICAgIDxkaXYgaWQ9XCJ7Mn1cIiBzdHlsZT1cIm92ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDo5MiU7XCI+JyArICcgICAgICAgIDx1bD4nICsgJyAgICAgICAgICB7M30nICsgJyAgICAgICAgPC91bD4nICsgJyAgICAgPC9kaXY+JyArICcgPC9kaXY+J1xyXG5cclxuICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KHdhcHBlciwgYm94TmFtZSwgdGV4dExheWVyLCBpc2Nyb2xsTmFtZSwgdGV4dENvbnRlbnQpXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBIdG1sQm94KGNvbnRlbnRJZCwgZWxlbWVudCkge1xyXG5cclxuICAgIHNldE9wdGlvbigpO1xyXG5cclxuICAgIHRoaXMuY29udGVudElkID0gY29udGVudElkO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvL+S6i+S7tuWvueixoeW8leeUqFxyXG4gICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50UmVmZXJlbmNlLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICBzZWxmLmV2ZW50UmVmZXJlbmNlID0gZXZlbnRSZWZlcmVuY2U7XHJcbiAgICAgICAgc2VsZi5ldmVudEhhbmRsZXIgPSBldmVudEhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nu5Hlrprngrnlh7vkuovku7ZcclxuICAgIGJpbmRFdmVudHMoe1xyXG4gICAgICAgICdldmVudFJ1bic6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBYdXQuVmlldy5IaWRlVG9vbGJhcigpO1xyXG4gICAgICAgICAgICBzZWxmLmluaXQoY29udGVudElkLCBlbGVtZW50KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2V2ZW50SGFuZGxlcic6IGV2ZW50SGFuZGxlcixcclxuICAgICAgICAnZXZlbnRDb250ZXh0JzogZWxlbWVudCxcclxuICAgICAgICAnZXZlbnROYW1lJzogXCJ0YXBcIixcclxuICAgICAgICAnZG9tTW9kZSc6IHRydWVcclxuICAgIH0pO1xyXG59XHJcblxyXG5IdG1sQm94LnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiwg+aVtOWtl+S9k+Wkp+Wwj1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGFkanVzdFNpemU6IGZ1bmN0aW9uKHZhbHVlLCBzYXZlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7XHJcbiAgICAgICAgZG9jRWwuc3R5bGUuZm9udFNpemUgPSB2YWx1ZSArIFwicHhcIjtcclxuICAgICAgICBzYXZlICYmIF9zZXQodGhpcy5zdG9yYWdlTmFtZSwgdmFsdWUpXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y235ruaXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGlzY3JvbGxOYW1lIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVJc2Nyb2xsOiBmdW5jdGlvbihpc2Nyb2xsTmFtZSkge1xyXG4gICAgICAgIHRoaXMuaXNjcm9sbCA9IG5ldyBpU2Nyb2xsKFwiI1wiICsgaXNjcm9sbE5hbWUsIHtcclxuICAgICAgICAgICAgc2Nyb2xsYmFyczogdHJ1ZSxcclxuICAgICAgICAgICAgZmFkZVNjcm9sbGJhcnM6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24oY29udGVudElkLCBlbGVtZW50KSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy/np7vpmaTlgY/np7vph48g5a2Y5Zyo5YGP56e76YeP6YCg5oiQ5paH5a2X6KKr6KaG55uWXHJcbiAgICAgICAgdmFyIHRleHRDb250ZW50ID0gZWxlbWVudC5maW5kKFwiPlwiKS5odG1sKCk7XHJcbiAgICAgICAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC90cmFuc2xhdGVcXCgwcHgsIC1cXGQrcHhcXCkvZywgJ3RyYW5zbGF0ZSgwcHgsMHB4KScpO1xyXG5cclxuICAgICAgICB2YXIgYm94TmFtZSA9IFwiaHRtbGJveF9cIiArIGNvbnRlbnRJZDtcclxuICAgICAgICB2YXIgaXNjcm9sbE5hbWUgPSBcImh0bWxib3hfaXNjcm9sbF9cIiArIGNvbnRlbnRJZDtcclxuXHJcbiAgICAgICAgLy/nvJPlrZjlkI1cclxuICAgICAgICB0aGlzLnN0b3JhZ2VOYW1lID0gYm94TmFtZSArIFh1dC5jb25maWcuYXBwSWQ7XHJcblxyXG4gICAgICAgIC8v6I635Y+W5L+d5a2Y55qE5a2X5L2T5YC8XHJcbiAgICAgICAgdmFyIHN0b3JhZ2VWYWx1ZSA9IF9nZXQodGhpcy5zdG9yYWdlTmFtZSlcclxuICAgICAgICBpZiAoc3RvcmFnZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0U2l6ZShzdG9yYWdlVmFsdWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WIm+W7uuWuueWZqFxyXG4gICAgICAgIHRoaXMuJHN0ciA9ICQoY3JlYXRlV2FwcGVyKGJveE5hbWUsIHRleHRMYXllcigpLCBpc2Nyb2xsTmFtZSwgdGV4dENvbnRlbnQpKTtcclxuICAgICAgICBlbGVtZW50LmFmdGVyKHRoaXMuJHN0cik7XHJcblxyXG4gICAgICAgIC8v5Y235ruaXHJcbiAgICAgICAgdGhpcy5jcmVhdGVJc2Nyb2xsKGlzY3JvbGxOYW1lKTtcclxuXHJcbiAgICAgICAgLy/nu5Hlrprkuovku7bkuIrkuIvmloflkaJcclxuICAgICAgICB0aGlzLmV2ZW50Q29udGV4dCA9IHRoaXMuJHN0ci5maW5kKCcuaHRtbGJveC10b29sYmFyJylbMF07XHJcbiAgICAgICAgLy/lrZfkvZPlpKflsI9cclxuICAgICAgICB2YXIgc2l6ZUFycmF5ID0gW1wiMVwiLCBcIjEuMjVcIiwgXCIxLjVcIl07XHJcbiAgICAgICAgLy/mlLnlj5jlrZfkvZPkuI7liLfmlrDljbfmu5pcclxuICAgICAgICB2YXIgY2hhbmdlID0gZnVuY3Rpb24oZm9udHNpemUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0U2l6ZShmb250c2l6ZSAqIGRlZmF1bHRGb250U2l6ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmlzY3JvbGwucmVmcmVzaCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/lpITnkIblmahcclxuICAgICAgICB2YXIgcHJvY2VzcyA9IHtcclxuICAgICAgICAgICAgICAgIGh0bWxib3hfY2xvc2VfY29udGFpbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdFNpemUoZGVmYXVsdEZvbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlQm94KCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaHRtbGJveF9jbG9zZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3RTaXplKGRlZmF1bHRGb250U2l6ZSlcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUJveCgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGh0bWxib3hfc21hbGw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZShzaXplQXJyYXlbMF0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGh0bWxib3hfbWlkZGxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2Uoc2l6ZUFycmF5WzFdKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBodG1sYm94X2JpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlKHNpemVBcnJheVsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/lhpLms6HljLnphY3mjInpkq7ngrnlh7tcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gZS50YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICBwcm9jZXNzW2NsYXNzTmFtZV0gJiYgcHJvY2Vzc1tjbGFzc05hbWVdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb24nLCB7XHJcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuZXZlbnRDb250ZXh0LFxyXG4gICAgICAgICAgICBjYWxsYmFjazoge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMuc3RhcnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIC8v56e76Zmk55uS5a2QXHJcbiAgICByZW1vdmVCb3g6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb2ZmJywge1xyXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmV2ZW50Q29udGV4dCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuJHN0ciAmJiB0aGlzLiRzdHIucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5pc2Nyb2xsICYmIHRoaXMuaXNjcm9sbC5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5pc2Nyb2xsID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgLy/plIDmr4HlpJbpg6jngrnlh7vkuovku7bkuI5cclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF8uZWFjaCh0aGlzLmV2ZW50UmVmZXJlbmNlLCBmdW5jdGlvbihvZmYpIHtcclxuICAgICAgICAgICAgb2ZmKFwidGFwXCIpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnJlbW92ZUJveCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtcclxuICAgIEh0bWxCb3hcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2NvbnRlbnQvaHRtbGJveC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 40 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Mix = Mix;\n/**\r\n * 填充缺少的content对象\r\n * @return {[type]} [description]\r\n */\n\n/**\r\n * 按照shift取出执行代码\r\n * @return {[type]} [description]\r\n */\nfunction segmentation(delayBind) {\n    var exetBind;\n    while (exetBind = delayBind.shift()) {\n        exetBind();\n    }\n}\n\nfunction Mix(base, waitCreateContent, exitCallback) {\n    var abstractContents = base.abstractContents,\n        contentsFragment = base.relatedData.contentsFragment,\n        pid = base.pid,\n        pageType = base.pageType,\n\n    //因为要dom去重,要处理创建的内容\n    execWaitCreateContent = function execWaitCreateContent() {\n        var willCreate = [],\n            prefix;\n        _.each(waitCreateContent, function (contentId) {\n            prefix = base._makePrefix('Content', base.pid, contentId);\n            if (!contentsFragment[prefix]) {\n                //如果dom不存在,则创建\n                willCreate.push(contentId);\n            }\n        });\n        return willCreate;\n    };\n\n    /**\r\n     * 合并创建节点\r\n     **/\n    function fillStructure(callback) {\n        conStructure({\n            'dydCreate': true,\n            createContentIds: execWaitCreateContent,\n            pid: pid,\n            pageType: pageType\n        }, function (contentDas, cachedContentStr, containerPrefix) {\n            callback(contentDas, $(cachedContentStr), containerPrefix);\n        });\n    }\n\n    /**\r\n     * 填充空节点数据\r\n     * contentsFragment临时文档碎片\r\n     * @return {[type]}       [description]\r\n     */\n    function fillFragment(cachedContentStr) {\n        _.each(cachedContentStr, function (ele, index) {\n            contentsFragment[ele.id] = ele;\n        });\n    }\n\n    /**\r\n     * 填充作用域对象\r\n     * @return {[type]} [description]\r\n     */\n    function fillAssistContents() {\n        _.each(abstractContents, function (scope, index) {\n            var scopeObj;\n            if (!scope.$contentProcess) {\n                scopeObj = base.createHandlers(scope, 'waitCreate');\n                abstractContents.splice(index, 1, scopeObj); //替换作用域对象\n            }\n        });\n    }\n\n    /**\r\n     * 重构动态事件\r\n     * 需要跳到不同的作用域对象\r\n     * @return {[type]}           [description]\r\n     */\n    function fillEvent() {\n        var collectEventRelated = base.relatedData.collectEventRelated,\n            eventObj,\n            parent,\n            delayBind = []; //延时绑定\n        _.each(waitCreateContent, function (contentId) {\n            eventObj = collectEventRelated[contentId];\n            //事件对象存在,并且没有绑定事件\n            if (eventObj && !eventObj.isBind) {\n                parent = eventObj.parent;\n                parent.createEvent.call(parent);\n                delayBind.push(function () {\n                    parent.bindEvent.call(parent);\n                });\n            }\n        });\n        return delayBind;\n    }\n\n    /**\r\n     * 清理\r\n     * @return {[type]} [description]\r\n     */\n    function clean() {\n        base.waitCreateContent = null;\n    }\n\n    /**\r\n     * 绘制显示\r\n     * @return {[type]} [description]\r\n     */\n    function toRedraw(cachedContentStr) {\n        Xut.nextTick({\n            'container': base.rootNode,\n            'content': cachedContentStr\n        }, function () {\n            clean();\n            //绑定滑动isScroll\n            segmentation(base.relatedCallback.iScrollHooks);\n            exitCallback();\n        });\n    }\n\n    function pocessContent(contentDas, cachedContentStr, containerPrefix) {\n\n        //填充数据\n        cachedContentStr && fillFragment(cachedContentStr);\n\n        // 填充动画对象\n        fillAssistContents();\n\n        /**\r\n         * 填充事件\r\n         * 执行后绑定\r\n         * 跨作用域\r\n         */\n        segmentation(fillEvent());\n\n        /**\r\n         * 开始初始化构建\r\n         */\n        self.initEffects();\n\n        /**\r\n         * 绘制页面\r\n         */\n        if (cachedContentStr) {\n            toRedraw(cachedContentStr);\n        } else {\n            clean();\n            exitCallback();\n        }\n    }\n\n    /**\r\n     * 需要创建节点\r\n     */\n    if (execWaitCreateContent && execWaitCreateContent.length) {\n        fillStructure(pocessContent);\n    } else {\n        //不需要创建节点\n        pocessContent();\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L21peC5qcz9jNTM0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBaUJnQixHLEdBQUEsRzs7Ozs7Ozs7OztBQVJoQixTQUFTLFlBQVQsQ0FBc0IsU0FBdEIsRUFBaUM7QUFDN0IsUUFBSSxRQUFKO0FBQ0EsV0FBTyxXQUFXLFVBQVUsS0FBVixFQUFsQixFQUFxQztBQUNqQztBQUNIO0FBQ0o7O0FBR00sU0FBUyxHQUFULENBQWEsSUFBYixFQUFtQixpQkFBbkIsRUFBc0MsWUFBdEMsRUFBb0Q7QUFDdkQsUUFBSSxtQkFBbUIsS0FBSyxnQkFBNUI7UUFDSSxtQkFBbUIsS0FBSyxXQUFMLENBQWlCLGdCQUR4QztRQUVJLE1BQU0sS0FBSyxHQUZmO1FBR0ksV0FBVyxLQUFLLFFBSHBCOzs7QUFLSSw0QkFBd0IsU0FBeEIscUJBQXdCLEdBQVc7QUFDL0IsWUFBSSxhQUFhLEVBQWpCO1lBQ0ksTUFESjtBQUVBLFVBQUUsSUFBRixDQUFPLGlCQUFQLEVBQTBCLFVBQVMsU0FBVCxFQUFvQjtBQUMxQyxxQkFBUyxLQUFLLFdBQUwsQ0FBaUIsU0FBakIsRUFBNEIsS0FBSyxHQUFqQyxFQUFzQyxTQUF0QyxDQUFUO0FBQ0EsZ0JBQUksQ0FBQyxpQkFBaUIsTUFBakIsQ0FBTCxFQUErQjs7QUFDM0IsMkJBQVcsSUFBWCxDQUFnQixTQUFoQjtBQUNIO0FBQ0osU0FMRDtBQU1BLGVBQU8sVUFBUDtBQUNILEtBZkw7Ozs7O0FBcUJBLGFBQVMsYUFBVCxDQUF1QixRQUF2QixFQUFpQztBQUM3QixxQkFBYTtBQUNULHlCQUFhLElBREo7QUFFVCw4QkFBa0IscUJBRlQ7QUFHVCxpQkFBSyxHQUhJO0FBSVQsc0JBQVU7QUFKRCxTQUFiLEVBS0csVUFBUyxVQUFULEVBQXFCLGdCQUFyQixFQUF1QyxlQUF2QyxFQUF3RDtBQUN2RCxxQkFBUyxVQUFULEVBQXFCLEVBQUUsZ0JBQUYsQ0FBckIsRUFBMEMsZUFBMUM7QUFDSCxTQVBEO0FBUUg7Ozs7Ozs7QUFPRCxhQUFTLFlBQVQsQ0FBc0IsZ0JBQXRCLEVBQXdDO0FBQ3BDLFVBQUUsSUFBRixDQUFPLGdCQUFQLEVBQXlCLFVBQVMsR0FBVCxFQUFjLEtBQWQsRUFBcUI7QUFDMUMsNkJBQWlCLElBQUksRUFBckIsSUFBMkIsR0FBM0I7QUFDSCxTQUZEO0FBR0g7Ozs7OztBQU1ELGFBQVMsa0JBQVQsR0FBOEI7QUFDMUIsVUFBRSxJQUFGLENBQU8sZ0JBQVAsRUFBeUIsVUFBUyxLQUFULEVBQWdCLEtBQWhCLEVBQXVCO0FBQzVDLGdCQUFJLFFBQUo7QUFDQSxnQkFBSSxDQUFDLE1BQU0sZUFBWCxFQUE0QjtBQUN4QiwyQkFBVyxLQUFLLGNBQUwsQ0FBb0IsS0FBcEIsRUFBMkIsWUFBM0IsQ0FBWDtBQUNBLGlDQUFpQixNQUFqQixDQUF3QixLQUF4QixFQUErQixDQUEvQixFQUFrQyxRQUFsQyxFO0FBQ0g7QUFDSixTQU5EO0FBT0g7Ozs7Ozs7QUFPRCxhQUFTLFNBQVQsR0FBcUI7QUFDakIsWUFBSSxzQkFBc0IsS0FBSyxXQUFMLENBQWlCLG1CQUEzQztZQUNJLFFBREo7WUFDYyxNQURkO1lBRUksWUFBWSxFQUZoQixDO0FBR0EsVUFBRSxJQUFGLENBQU8saUJBQVAsRUFBMEIsVUFBUyxTQUFULEVBQW9CO0FBQzFDLHVCQUFXLG9CQUFvQixTQUFwQixDQUFYOztBQUVBLGdCQUFJLFlBQVksQ0FBQyxTQUFTLE1BQTFCLEVBQWtDO0FBQzlCLHlCQUFTLFNBQVMsTUFBbEI7QUFDQSx1QkFBTyxXQUFQLENBQW1CLElBQW5CLENBQXdCLE1BQXhCO0FBQ0EsMEJBQVUsSUFBVixDQUFlLFlBQVc7QUFDdEIsMkJBQU8sU0FBUCxDQUFpQixJQUFqQixDQUFzQixNQUF0QjtBQUNILGlCQUZEO0FBR0g7QUFDSixTQVZEO0FBV0EsZUFBTyxTQUFQO0FBQ0g7Ozs7OztBQU1ELGFBQVMsS0FBVCxHQUFpQjtBQUNiLGFBQUssaUJBQUwsR0FBeUIsSUFBekI7QUFDSDs7Ozs7O0FBTUQsYUFBUyxRQUFULENBQWtCLGdCQUFsQixFQUFvQztBQUNoQyxZQUFJLFFBQUosQ0FBYTtBQUNULHlCQUFhLEtBQUssUUFEVDtBQUVULHVCQUFXO0FBRkYsU0FBYixFQUdHLFlBQVc7QUFDVjs7QUFFQSx5QkFBYSxLQUFLLGVBQUwsQ0FBcUIsWUFBbEM7QUFDQTtBQUNILFNBUkQ7QUFTSDs7QUFHRCxhQUFTLGFBQVQsQ0FBdUIsVUFBdkIsRUFBbUMsZ0JBQW5DLEVBQXFELGVBQXJELEVBQXNFOzs7QUFHbEUsNEJBQW9CLGFBQWEsZ0JBQWIsQ0FBcEI7OztBQUdBOzs7Ozs7O0FBT0EscUJBQWEsV0FBYjs7Ozs7QUFLQSxhQUFLLFdBQUw7Ozs7O0FBS0EsWUFBSSxnQkFBSixFQUFzQjtBQUNsQixxQkFBUyxnQkFBVDtBQUNILFNBRkQsTUFFTztBQUNIO0FBQ0E7QUFDSDtBQUNKOzs7OztBQUtELFFBQUkseUJBQXlCLHNCQUFzQixNQUFuRCxFQUEyRDtBQUN2RCxzQkFBYyxhQUFkO0FBQ0gsS0FGRCxNQUVPOztBQUVIO0FBQ0g7QUFDSiIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDloavlhYXnvLrlsJHnmoRjb250ZW505a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDmjInnhadzaGlmdOWPluWHuuaJp+ihjOS7o+eggVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHNlZ21lbnRhdGlvbihkZWxheUJpbmQpIHtcclxuICAgIHZhciBleGV0QmluZDtcclxuICAgIHdoaWxlIChleGV0QmluZCA9IGRlbGF5QmluZC5zaGlmdCgpKSB7XHJcbiAgICAgICAgZXhldEJpbmQoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXgoYmFzZSwgd2FpdENyZWF0ZUNvbnRlbnQsIGV4aXRDYWxsYmFjaykge1xyXG4gICAgdmFyIGFic3RyYWN0Q29udGVudHMgPSBiYXNlLmFic3RyYWN0Q29udGVudHMsXHJcbiAgICAgICAgY29udGVudHNGcmFnbWVudCA9IGJhc2UucmVsYXRlZERhdGEuY29udGVudHNGcmFnbWVudCxcclxuICAgICAgICBwaWQgPSBiYXNlLnBpZCxcclxuICAgICAgICBwYWdlVHlwZSA9IGJhc2UucGFnZVR5cGUsXHJcbiAgICAgICAgLy/lm6DkuLropoFkb23ljrvph40s6KaB5aSE55CG5Yib5bu655qE5YaF5a65XHJcbiAgICAgICAgZXhlY1dhaXRDcmVhdGVDb250ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB3aWxsQ3JlYXRlID0gW10sXHJcbiAgICAgICAgICAgICAgICBwcmVmaXg7XHJcbiAgICAgICAgICAgIF8uZWFjaCh3YWl0Q3JlYXRlQ29udGVudCwgZnVuY3Rpb24oY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBiYXNlLl9tYWtlUHJlZml4KCdDb250ZW50JywgYmFzZS5waWQsIGNvbnRlbnRJZClcclxuICAgICAgICAgICAgICAgIGlmICghY29udGVudHNGcmFnbWVudFtwcmVmaXhdKSB7IC8v5aaC5p6cZG9t5LiN5a2Y5ZyoLOWImeWIm+W7ulxyXG4gICAgICAgICAgICAgICAgICAgIHdpbGxDcmVhdGUucHVzaChjb250ZW50SWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiB3aWxsQ3JlYXRlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkIjlubbliJvlu7roioLngrlcclxuICAgICAqKi9cclxuICAgIGZ1bmN0aW9uIGZpbGxTdHJ1Y3R1cmUoY2FsbGJhY2spIHtcclxuICAgICAgICBjb25TdHJ1Y3R1cmUoe1xyXG4gICAgICAgICAgICAnZHlkQ3JlYXRlJzogdHJ1ZSxcclxuICAgICAgICAgICAgY3JlYXRlQ29udGVudElkczogZXhlY1dhaXRDcmVhdGVDb250ZW50LFxyXG4gICAgICAgICAgICBwaWQ6IHBpZCxcclxuICAgICAgICAgICAgcGFnZVR5cGU6IHBhZ2VUeXBlXHJcbiAgICAgICAgfSwgZnVuY3Rpb24oY29udGVudERhcywgY2FjaGVkQ29udGVudFN0ciwgY29udGFpbmVyUHJlZml4KSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGNvbnRlbnREYXMsICQoY2FjaGVkQ29udGVudFN0ciksIGNvbnRhaW5lclByZWZpeClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aGr5YWF56m66IqC54K55pWw5o2uXHJcbiAgICAgKiBjb250ZW50c0ZyYWdtZW505Li05pe25paH5qGj56KO54mHXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZmlsbEZyYWdtZW50KGNhY2hlZENvbnRlbnRTdHIpIHtcclxuICAgICAgICBfLmVhY2goY2FjaGVkQ29udGVudFN0ciwgZnVuY3Rpb24oZWxlLCBpbmRleCkge1xyXG4gICAgICAgICAgICBjb250ZW50c0ZyYWdtZW50W2VsZS5pZF0gPSBlbGU7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWhq+WFheS9nOeUqOWfn+WvueixoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGZpbGxBc3Npc3RDb250ZW50cygpIHtcclxuICAgICAgICBfLmVhY2goYWJzdHJhY3RDb250ZW50cywgZnVuY3Rpb24oc2NvcGUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBzY29wZU9iajtcclxuICAgICAgICAgICAgaWYgKCFzY29wZS4kY29udGVudFByb2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlT2JqID0gYmFzZS5jcmVhdGVIYW5kbGVycyhzY29wZSwgJ3dhaXRDcmVhdGUnKTtcclxuICAgICAgICAgICAgICAgIGFic3RyYWN0Q29udGVudHMuc3BsaWNlKGluZGV4LCAxLCBzY29wZU9iaikgLy/mm7/mjaLkvZznlKjln5/lr7nosaFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDph43mnoTliqjmgIHkuovku7ZcclxuICAgICAqIOmcgOimgei3s+WIsOS4jeWQjOeahOS9nOeUqOWfn+WvueixoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBmaWxsRXZlbnQoKSB7XHJcbiAgICAgICAgdmFyIGNvbGxlY3RFdmVudFJlbGF0ZWQgPSBiYXNlLnJlbGF0ZWREYXRhLmNvbGxlY3RFdmVudFJlbGF0ZWQsXHJcbiAgICAgICAgICAgIGV2ZW50T2JqLCBwYXJlbnQsXHJcbiAgICAgICAgICAgIGRlbGF5QmluZCA9IFtdOyAvL+W7tuaXtue7keWumlxyXG4gICAgICAgIF8uZWFjaCh3YWl0Q3JlYXRlQ29udGVudCwgZnVuY3Rpb24oY29udGVudElkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50T2JqID0gY29sbGVjdEV2ZW50UmVsYXRlZFtjb250ZW50SWRdXHJcbiAgICAgICAgICAgICAgICAvL+S6i+S7tuWvueixoeWtmOWcqCzlubbkuJTmsqHmnInnu5Hlrprkuovku7ZcclxuICAgICAgICAgICAgaWYgKGV2ZW50T2JqICYmICFldmVudE9iai5pc0JpbmQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IGV2ZW50T2JqLnBhcmVudDtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5jcmVhdGVFdmVudC5jYWxsKHBhcmVudClcclxuICAgICAgICAgICAgICAgIGRlbGF5QmluZC5wdXNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5iaW5kRXZlbnQuY2FsbChwYXJlbnQpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZGVsYXlCaW5kO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5riF55CGXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2xlYW4oKSB7XHJcbiAgICAgICAgYmFzZS53YWl0Q3JlYXRlQ29udGVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5jliLbmmL7npLpcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0b1JlZHJhdyhjYWNoZWRDb250ZW50U3RyKSB7XHJcbiAgICAgICAgWHV0Lm5leHRUaWNrKHtcclxuICAgICAgICAgICAgJ2NvbnRhaW5lcic6IGJhc2Uucm9vdE5vZGUsXHJcbiAgICAgICAgICAgICdjb250ZW50JzogY2FjaGVkQ29udGVudFN0clxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAvL+e7keWumua7keWKqGlzU2Nyb2xsXHJcbiAgICAgICAgICAgIHNlZ21lbnRhdGlvbihiYXNlLnJlbGF0ZWRDYWxsYmFjay5pU2Nyb2xsSG9va3MpXHJcbiAgICAgICAgICAgIGV4aXRDYWxsYmFjaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBwb2Nlc3NDb250ZW50KGNvbnRlbnREYXMsIGNhY2hlZENvbnRlbnRTdHIsIGNvbnRhaW5lclByZWZpeCkge1xyXG5cclxuICAgICAgICAvL+Whq+WFheaVsOaNrlxyXG4gICAgICAgIGNhY2hlZENvbnRlbnRTdHIgJiYgZmlsbEZyYWdtZW50KGNhY2hlZENvbnRlbnRTdHIpXHJcblxyXG4gICAgICAgIC8vIOWhq+WFheWKqOeUu+WvueixoVxyXG4gICAgICAgIGZpbGxBc3Npc3RDb250ZW50cygpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDloavlhYXkuovku7ZcclxuICAgICAgICAgKiDmiafooYzlkI7nu5HlrppcclxuICAgICAgICAgKiDot6jkvZznlKjln59cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZWdtZW50YXRpb24oZmlsbEV2ZW50KCkpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlvIDlp4vliJ3lp4vljJbmnoTlu7pcclxuICAgICAgICAgKi9cclxuICAgICAgICBzZWxmLmluaXRFZmZlY3RzKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOe7mOWItumhtemdolxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChjYWNoZWRDb250ZW50U3RyKSB7XHJcbiAgICAgICAgICAgIHRvUmVkcmF3KGNhY2hlZENvbnRlbnRTdHIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgZXhpdENhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZyA6KaB5Yib5bu66IqC54K5XHJcbiAgICAgKi9cclxuICAgIGlmIChleGVjV2FpdENyZWF0ZUNvbnRlbnQgJiYgZXhlY1dhaXRDcmVhdGVDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgIGZpbGxTdHJ1Y3R1cmUocG9jZXNzQ29udGVudClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy/kuI3pnIDopoHliJvlu7roioLngrlcclxuICAgICAgICBwb2Nlc3NDb250ZW50KCk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L21peC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 41 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createNextTask = createNextTask;\n/**\r\n * 2016.4.11\r\n * 因为canvas模式导致\r\n * 任务必须等待context上下创建\r\n * 完成后执行\r\n * 1 事件\r\n * 2 预执行\r\n * @type {Array}\r\n */\nfunction createNextTask(callback) {\n    return {\n        //子对象上下文\n        context: {\n            wait: false, //是否等待创建\n            statas: false, //是否完成创建\n            _ids: [],\n            /**\r\n             * 检测是否完成\r\n             * @return {[type]} [description]\r\n             */\n            check: function check() {\n                var total = this.length();\n                if (!total.length) {\n                    //完成创建\n                    this.statas = true;\n                }\n                //如果已经等待\n                if (this.wait) {\n                    callback && callback();\n                    return;\n                }\n                //创建比流程先执行完毕\n                //一般几乎不存在\n                //但是不排除\n                if (!this.wait && this.statas) {\n                    this.wait = true;\n                    return;\n                }\n            },\n            add: function add(id) {\n                if (-1 === this._ids.indexOf(id)) {\n                    this._ids.push(id);\n                }\n            },\n            remove: function remove(id) {\n                if (!id) return;\n                var index = this._ids.indexOf(id);\n                var val = this._ids.splice(index, 1);\n                this.check(val);\n                return val;\n            },\n            length: function length() {\n                return this._ids.length;\n            }\n        },\n        event: [], //事件\n        pre: {} //预执行\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L25leHR0YXNrLmpzP2UyOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFTZ0IsYyxHQUFBLGM7Ozs7Ozs7Ozs7QUFBVCxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsRUFBa0M7QUFDckMsV0FBTzs7QUFFSCxpQkFBUztBQUNMLGtCQUFNLEtBREQsRTtBQUVMLG9CQUFRLEtBRkgsRTtBQUdMLGtCQUFNLEVBSEQ7Ozs7O0FBUUwsbUJBQU8saUJBQVc7QUFDZCxvQkFBSSxRQUFRLEtBQUssTUFBTCxFQUFaO0FBQ0Esb0JBQUksQ0FBQyxNQUFNLE1BQVgsRUFBbUI7O0FBRWYseUJBQUssTUFBTCxHQUFjLElBQWQ7QUFDSDs7QUFFRCxvQkFBSSxLQUFLLElBQVQsRUFBZTtBQUNYLGdDQUFZLFVBQVo7QUFDQTtBQUNIOzs7O0FBSUQsb0JBQUksQ0FBQyxLQUFLLElBQU4sSUFBYyxLQUFLLE1BQXZCLEVBQStCO0FBQzNCLHlCQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0E7QUFDSDtBQUNKLGFBMUJJO0FBMkJMLGlCQUFLLGFBQVMsRUFBVCxFQUFhO0FBQ2Qsb0JBQUksQ0FBQyxDQUFELEtBQU8sS0FBSyxJQUFMLENBQVUsT0FBVixDQUFrQixFQUFsQixDQUFYLEVBQWtDO0FBQzlCLHlCQUFLLElBQUwsQ0FBVSxJQUFWLENBQWUsRUFBZjtBQUNIO0FBQ0osYUEvQkk7QUFnQ0wsb0JBQVEsZ0JBQVMsRUFBVCxFQUFhO0FBQ2pCLG9CQUFJLENBQUMsRUFBTCxFQUFTO0FBQ1Qsb0JBQUksUUFBUSxLQUFLLElBQUwsQ0FBVSxPQUFWLENBQWtCLEVBQWxCLENBQVo7QUFDQSxvQkFBSSxNQUFNLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsRUFBd0IsQ0FBeEIsQ0FBVjtBQUNBLHFCQUFLLEtBQUwsQ0FBVyxHQUFYO0FBQ0EsdUJBQU8sR0FBUDtBQUNILGFBdENJO0FBdUNMLG9CQUFRLGtCQUFXO0FBQ2YsdUJBQU8sS0FBSyxJQUFMLENBQVUsTUFBakI7QUFDSDtBQXpDSSxTQUZOO0FBNkNILGVBQU8sRUE3Q0osRTtBQThDSCxhQUFLLEU7QUE5Q0YsS0FBUDtBQWdESCIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiAyMDE2LjQuMTFcclxuICog5Zug5Li6Y2FudmFz5qih5byP5a+86Ie0XHJcbiAqIOS7u+WKoeW/hemhu+etieW+hWNvbnRleHTkuIrkuIvliJvlu7pcclxuICog5a6M5oiQ5ZCO5omn6KGMXHJcbiAqIDEg5LqL5Lu2XHJcbiAqIDIg6aKE5omn6KGMXHJcbiAqIEB0eXBlIHtBcnJheX1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXh0VGFzayhjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAvL+WtkOWvueixoeS4iuS4i+aWh1xyXG4gICAgICAgIGNvbnRleHQ6IHtcclxuICAgICAgICAgICAgd2FpdDogZmFsc2UsIC8v5piv5ZCm562J5b6F5Yib5bu6XHJcbiAgICAgICAgICAgIHN0YXRhczogZmFsc2UsIC8v5piv5ZCm5a6M5oiQ5Yib5bu6XHJcbiAgICAgICAgICAgIF9pZHM6IFtdLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICog5qOA5rWL5piv5ZCm5a6M5oiQXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2hlY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5sZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIGlmICghdG90YWwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lrozmiJDliJvlu7pcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRhcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOW3sue7j+etieW+hVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2FpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v5Yib5bu65q+U5rWB56iL5YWI5omn6KGM5a6M5q+VXHJcbiAgICAgICAgICAgICAgICAvL+S4gOiIrOWHoOS5juS4jeWtmOWcqFxyXG4gICAgICAgICAgICAgICAgLy/kvYbmmK/kuI3mjpLpmaRcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53YWl0ICYmIHRoaXMuc3RhdGFzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgtMSA9PT0gdGhpcy5faWRzLmluZGV4T2YoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWRzLnB1c2goaWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2lkcy5pbmRleE9mKGlkKVxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMuX2lkcy5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKHZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faWRzLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXZlbnQ6IFtdLCAvL+S6i+S7tlxyXG4gICAgICAgIHByZToge30gLy/pooTmiafooYxcclxuICAgIH07XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L25leHR0YXNrLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 42 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Parallax = Parallax;\n/***************************************************************\r\n *\r\n *          视觉差对象初始化操作\r\n *\r\n ****************************************************************/\n\nvar screenSize = void 0;\n\n//变化节点的css3transform属性\nfunction transformNodes(rootNode, property, pageOffset) {\n    var style = {},\n        effect = '',\n        parallaxOffset,\n        //最终的偏移量X\n    x = 0,\n        y = 0,\n        z = 0,\n        round = Math.round,\n        prefix = Xut.plat.prefixStyle,\n\n\n    //浮动对象初始化偏移量\n    parallaxOffset = pageOffset;\n\n    if (property.translateX != undefined || property.translateY != undefined || property.translateZ != undefined) {\n        x = round(property.translateX) || 0;\n        y = round(property.translateY) || 0;\n        z = round(property.translateZ) || 0;\n        parallaxOffset += x;\n        effect += String.format('translate3d({0}px,{1}px,{2}px) ', parallaxOffset, y, z);\n    }\n\n    if (property.rotateX != undefined || property.rotateY != undefined || property.rotateZ != undefined) {\n        x = round(property.rotateX);\n        y = round(property.rotateY);\n        z = round(property.rotateZ);\n        effect += x ? 'rotateX(' + x + 'deg) ' : '';\n        effect += y ? 'rotateY(' + y + 'deg) ' : '';\n        effect += z ? 'rotateZ(' + z + 'deg) ' : '';\n    }\n\n    if (property.scaleX != undefined || property.scaleY != undefined || property.scaleZ != undefined) {\n        x = round(property.scaleX * 100) / 100 || 1;\n        y = round(property.scaleY * 100) / 100 || 1;\n        z = round(property.scaleZ * 100) / 100 || 1;\n        effect += String.format('scale3d({0},{1},{2}) ', x, y, z);\n    }\n\n    if (property.opacity != undefined) {\n        style.opacity = round((property.opacityStart + property.opacity) * 100) / 100;\n        effect += ';';\n    }\n\n    if (effect) {\n        style[prefix('transform')] = effect;\n        rootNode.css(style);\n    }\n\n    return parallaxOffset;\n}\n\n//转换成比例值\nfunction conversionRatio(parameters) {\n    if (parameters.opacityStart > -1) {\n        parameters.opacity = (parameters.opacityEnd || 1) - parameters.opacityStart;\n        delete parameters.opacityEnd;\n    }\n    return parameters;\n}\n\n//转化成实际值\nfunction conversionValue(parameters, nodeProportion, screenSize) {\n    var results = {},\n        width = -screenSize.width,\n        height = -screenSize.height;\n\n    for (var i in parameters) {\n        switch (i) {\n            case 'translateX':\n            case 'translateZ':\n                results[i] = parameters[i] * nodeProportion * width;\n                break;\n            case 'translateY':\n                results[i] = parameters[i] * nodeProportion * height;\n                break;\n            case 'opacityStart':\n                results[i] = parameters[i];\n                break;\n            default:\n                results[i] = parameters[i] * nodeProportion;\n        }\n    }\n\n    return results;\n}\n\nfunction Parallax(data) {\n\n    screenSize = Xut.config.screenSize;\n\n    try {\n        //转化所有css特效的参数的比例\n        var parameters = JSON.parse(data.getParameter()[0]['parameter']);\n    } catch (err) {\n        return false;\n    }\n    var pid = data.pid,\n        translate = conversionRatio(parameters),\n\n    //页面偏移量\n    pageOffset = this.relatedData.pageOffset && this.relatedData.pageOffset.split(\"-\"),\n\n    //开始的nodes值\n    currPageOffset = pageOffset[0],\n\n    //范围区域\n    pageRange = pageOffset[1],\n\n    //页面偏移比例\n    nodeOffsetProportion = (currPageOffset - 1) / (pageRange - 1),\n\n    //计算出偏移值\n    offsetTranslate = conversionValue(translate, nodeOffsetProportion, screenSize),\n\n    //页面分割比\n    nodeProportion = 1 / (pageRange - 1);\n\n    //改变节点的transform属性\n    //返回改变后translateX值\n    var parallaxOffset = transformNodes(data.$contentProcess, _.extend({}, offsetTranslate), data.transformOffset);\n\n    /**\r\n     * 为了兼容动画，把视觉差当作一种行为处理\r\n     * 合并data数据\r\n     * @type {Object}\r\n     */\n    data.parallax = {\n        //计算页码结束边界值,用于跳转过滤\n        calculateRangePage: function calculateRangePage() {\n            return {\n                'start': pid - currPageOffset + 1,\n                'end': pageRange - currPageOffset + pid\n            };\n        },\n        'translate': translate,\n        'offsetTranslate': offsetTranslate,\n        'nodeProportion': nodeProportion,\n        'rootNode': data.$contentProcess,\n        'parallaxOffset': parallaxOffset //经过视觉差修正后的偏移量\n    };\n\n    return data;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L3BhcmFsbGF4LmpzPzkwMDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUErRmdCLFEsR0FBQSxROzs7Ozs7O0FBeEZoQixJQUFJLG1CQUFKOzs7QUFHQSxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsRUFBa0MsUUFBbEMsRUFBNEMsVUFBNUMsRUFBd0Q7QUFDcEQsUUFBSSxRQUFRLEVBQVo7UUFDSSxTQUFTLEVBRGI7UUFFSSxjQUZKOztBQUdJLFFBQUksQ0FIUjtRQUlJLElBQUksQ0FKUjtRQUtJLElBQUksQ0FMUjtRQU1JLFFBQVEsS0FBSyxLQU5qQjtRQU9JLFNBQVMsSUFBSSxJQUFKLENBQVMsV0FQdEI7Ozs7QUFVSSxxQkFBaUIsVUFWckI7O0FBWUEsUUFBSSxTQUFTLFVBQVQsSUFBdUIsU0FBdkIsSUFBb0MsU0FBUyxVQUFULElBQXVCLFNBQTNELElBQXdFLFNBQVMsVUFBVCxJQUF1QixTQUFuRyxFQUE4RztBQUMxRyxZQUFJLE1BQU0sU0FBUyxVQUFmLEtBQThCLENBQWxDO0FBQ0EsWUFBSSxNQUFNLFNBQVMsVUFBZixLQUE4QixDQUFsQztBQUNBLFlBQUksTUFBTSxTQUFTLFVBQWYsS0FBOEIsQ0FBbEM7QUFDQSwwQkFBa0IsQ0FBbEI7QUFDQSxrQkFBVSxPQUFPLE1BQVAsQ0FBYyxpQ0FBZCxFQUFpRCxjQUFqRCxFQUFpRSxDQUFqRSxFQUFvRSxDQUFwRSxDQUFWO0FBQ0g7O0FBRUQsUUFBSSxTQUFTLE9BQVQsSUFBb0IsU0FBcEIsSUFBaUMsU0FBUyxPQUFULElBQW9CLFNBQXJELElBQWtFLFNBQVMsT0FBVCxJQUFvQixTQUExRixFQUFxRztBQUNqRyxZQUFJLE1BQU0sU0FBUyxPQUFmLENBQUo7QUFDQSxZQUFJLE1BQU0sU0FBUyxPQUFmLENBQUo7QUFDQSxZQUFJLE1BQU0sU0FBUyxPQUFmLENBQUo7QUFDQSxrQkFBVSxJQUFJLGFBQWEsQ0FBYixHQUFpQixPQUFy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Z0JBQVksV0FBVyxDQUFYLENBUGhCOzs7QUFTSSwyQkFBdUIsQ0FBQyxpQkFBaUIsQ0FBbEIsS0FBd0IsWUFBWSxDQUFwQyxDQVQzQjs7O0FBV0ksc0JBQWtCLGdCQUFnQixTQUFoQixFQUEyQixvQkFBM0IsRUFBaUQsVUFBakQsQ0FYdEI7OztBQWFJLHFCQUFpQixLQUFLLFlBQVksQ0FBakIsQ0FickI7Ozs7QUFpQkEsUUFBSSxpQkFBaUIsZUFBZSxLQUFLLGVBQXBCLEVBQXFDLEVBQUUsTUFBRixDQUFTLEVBQVQsRUFBYSxlQUFiLENBQXJDLEVBQW9FLEtBQUssZUFBekUsQ0FBckI7Ozs7Ozs7QUFPQSxTQUFLLFFBQUwsR0FBZ0I7O0FBRVosNEJBQW9CLDhCQUFXO0FBQzNCLG1CQUFPO0FBQ0gseUJBQVMsTUFBTSxjQUFOLEdBQXVCLENBRDdCO0FBRUgsdUJBQU8sWUFBWSxjQUFaLEdBQTZCO0FBRmpDLGFBQVA7QUFJSCxTQVBXO0FBUVoscUJBQWEsU0FSRDtBQVNaLDJCQUFtQixlQVRQO0FBVVosMEJBQWtCLGNBVk47QUFXWixvQkFBWSxLQUFLLGVBWEw7QUFZWiwwQkFBa0IsYztBQVpOLEtBQWhCOztBQWVBLFdBQU8sSUFBUDtBQUNIIiwiZmlsZSI6IjQyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICDop4bop4nlt67lr7nosaHliJ3lp4vljJbmk43kvZxcclxuICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxubGV0IHNjcmVlblNpemVcclxuXHJcbi8v5Y+Y5YyW6IqC54K555qEY3NzM3RyYW5zZm9ybeWxnuaAp1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1Ob2Rlcyhyb290Tm9kZSwgcHJvcGVydHksIHBhZ2VPZmZzZXQpIHtcclxuICAgIHZhciBzdHlsZSA9IHt9LFxyXG4gICAgICAgIGVmZmVjdCA9ICcnLFxyXG4gICAgICAgIHBhcmFsbGF4T2Zmc2V0LCAvL+acgOe7iOeahOWBj+enu+mHj1hcclxuICAgICAgICB4ID0gMCxcclxuICAgICAgICB5ID0gMCxcclxuICAgICAgICB6ID0gMCxcclxuICAgICAgICByb3VuZCA9IE1hdGgucm91bmQsXHJcbiAgICAgICAgcHJlZml4ID0gWHV0LnBsYXQucHJlZml4U3R5bGUsXHJcblxyXG4gICAgICAgIC8v5rWu5Yqo5a+56LGh5Yid5aeL5YyW5YGP56e76YePXHJcbiAgICAgICAgcGFyYWxsYXhPZmZzZXQgPSBwYWdlT2Zmc2V0O1xyXG5cclxuICAgIGlmIChwcm9wZXJ0eS50cmFuc2xhdGVYICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS50cmFuc2xhdGVZICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS50cmFuc2xhdGVaICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHggPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVYKSB8fCAwO1xyXG4gICAgICAgIHkgPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVZKSB8fCAwO1xyXG4gICAgICAgIHogPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVaKSB8fCAwO1xyXG4gICAgICAgIHBhcmFsbGF4T2Zmc2V0ICs9IHg7XHJcbiAgICAgICAgZWZmZWN0ICs9IFN0cmluZy5mb3JtYXQoJ3RyYW5zbGF0ZTNkKHswfXB4LHsxfXB4LHsyfXB4KSAnLCBwYXJhbGxheE9mZnNldCwgeSwgeik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb3BlcnR5LnJvdGF0ZVggIT0gdW5kZWZpbmVkIHx8IHByb3BlcnR5LnJvdGF0ZVkgIT0gdW5kZWZpbmVkIHx8IHByb3BlcnR5LnJvdGF0ZVogIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgeCA9IHJvdW5kKHByb3BlcnR5LnJvdGF0ZVgpO1xyXG4gICAgICAgIHkgPSByb3VuZChwcm9wZXJ0eS5yb3RhdGVZKTtcclxuICAgICAgICB6ID0gcm91bmQocHJvcGVydHkucm90YXRlWik7XHJcbiAgICAgICAgZWZmZWN0ICs9IHggPyAncm90YXRlWCgnICsgeCArICdkZWcpICcgOiAnJztcclxuICAgICAgICBlZmZlY3QgKz0geSA/ICdyb3RhdGVZKCcgKyB5ICsgJ2RlZykgJyA6ICcnO1xyXG4gICAgICAgIGVmZmVjdCArPSB6ID8gJ3JvdGF0ZVooJyArIHogKyAnZGVnKSAnIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb3BlcnR5LnNjYWxlWCAhPSB1bmRlZmluZWQgfHwgcHJvcGVydHkuc2NhbGVZICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS5zY2FsZVogIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgeCA9IHJvdW5kKHByb3BlcnR5LnNjYWxlWCAqIDEwMCkgLyAxMDAgfHwgMTtcclxuICAgICAgICB5ID0gcm91bmQocHJvcGVydHkuc2NhbGVZICogMTAwKSAvIDEwMCB8fCAxO1xyXG4gICAgICAgIHogPSByb3VuZChwcm9wZXJ0eS5zY2FsZVogKiAxMDApIC8gMTAwIHx8IDE7XHJcbiAgICAgICAgZWZmZWN0ICs9IFN0cmluZy5mb3JtYXQoJ3NjYWxlM2QoezB9LHsxfSx7Mn0pICcsIHgsIHksIHopO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcm9wZXJ0eS5vcGFjaXR5ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN0eWxlLm9wYWNpdHkgPSByb3VuZCgocHJvcGVydHkub3BhY2l0eVN0YXJ0ICsgcHJvcGVydHkub3BhY2l0eSkgKiAxMDApIC8gMTAwO1xyXG4gICAgICAgIGVmZmVjdCArPSAnOydcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWZmZWN0KSB7XHJcbiAgICAgICAgc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSBlZmZlY3Q7XHJcbiAgICAgICAgcm9vdE5vZGUuY3NzKHN0eWxlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFyYWxsYXhPZmZzZXQ7XHJcbn1cclxuXHJcbi8v6L2s5o2i5oiQ5q+U5L6L5YC8XHJcbmZ1bmN0aW9uIGNvbnZlcnNpb25SYXRpbyhwYXJhbWV0ZXJzKSB7XHJcbiAgICBpZiAocGFyYW1ldGVycy5vcGFjaXR5U3RhcnQgPiAtMSkge1xyXG4gICAgICAgIHBhcmFtZXRlcnMub3BhY2l0eSA9IChwYXJhbWV0ZXJzLm9wYWNpdHlFbmQgfHwgMSkgLSBwYXJhbWV0ZXJzLm9wYWNpdHlTdGFydDtcclxuICAgICAgICBkZWxldGUgcGFyYW1ldGVycy5vcGFjaXR5RW5kO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcmFtZXRlcnM7XHJcbn1cclxuXHJcbi8v6L2s5YyW5oiQ5a6e6ZmF5YC8XHJcbmZ1bmN0aW9uIGNvbnZlcnNpb25WYWx1ZShwYXJhbWV0ZXJzLCBub2RlUHJvcG9ydGlvbiwgc2NyZWVuU2l6ZSkge1xyXG4gICAgdmFyIHJlc3VsdHMgPSB7fSxcclxuICAgICAgICB3aWR0aCA9IC1zY3JlZW5TaXplLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IC1zY3JlZW5TaXplLmhlaWdodDtcclxuXHJcbiAgICBmb3IgKHZhciBpIGluIHBhcmFtZXRlcnMpIHtcclxuICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgY2FzZSAndHJhbnNsYXRlWCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZVonOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IHBhcmFtZXRlcnNbaV0gKiBub2RlUHJvcG9ydGlvbiAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZVknOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IHBhcmFtZXRlcnNbaV0gKiBub2RlUHJvcG9ydGlvbiAqIGhlaWdodDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvcGFjaXR5U3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IHBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJlc3VsdHNbaV0gPSBwYXJhbWV0ZXJzW2ldICogbm9kZVByb3BvcnRpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUGFyYWxsYXgoZGF0YSkge1xyXG5cclxuICAgIHNjcmVlblNpemUgPSBYdXQuY29uZmlnLnNjcmVlblNpemVcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8v6L2s5YyW5omA5pyJY3Nz54m55pWI55qE5Y+C5pWw55qE5q+U5L6LXHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBKU09OLnBhcnNlKGRhdGEuZ2V0UGFyYW1ldGVyKClbMF1bJ3BhcmFtZXRlciddKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBwaWQgPSBkYXRhLnBpZCxcclxuICAgICAgICB0cmFuc2xhdGUgPSBjb252ZXJzaW9uUmF0aW8ocGFyYW1ldGVycyksXHJcbiAgICAgICAgLy/pobXpnaLlgY/np7vph49cclxuICAgICAgICBwYWdlT2Zmc2V0ID0gdGhpcy5yZWxhdGVkRGF0YS5wYWdlT2Zmc2V0ICYmIHRoaXMucmVsYXRlZERhdGEucGFnZU9mZnNldC5zcGxpdChcIi1cIiksXHJcbiAgICAgICAgLy/lvIDlp4vnmoRub2Rlc+WAvFxyXG4gICAgICAgIGN1cnJQYWdlT2Zmc2V0ID0gcGFnZU9mZnNldFswXSxcclxuICAgICAgICAvL+iMg+WbtOWMuuWfn1xyXG4gICAgICAgIHBhZ2VSYW5nZSA9IHBhZ2VPZmZzZXRbMV0sXHJcbiAgICAgICAgLy/pobXpnaLlgY/np7vmr5TkvotcclxuICAgICAgICBub2RlT2Zmc2V0UHJvcG9ydGlvbiA9IChjdXJyUGFnZU9mZnNldCAtIDEpIC8gKHBhZ2VSYW5nZSAtIDEpLFxyXG4gICAgICAgIC8v6K6h566X5Ye65YGP56e75YC8XHJcbiAgICAgICAgb2Zmc2V0VHJhbnNsYXRlID0gY29udmVyc2lvblZhbHVlKHRyYW5zbGF0ZSwgbm9kZU9mZnNldFByb3BvcnRpb24sIHNjcmVlblNpemUpLFxyXG4gICAgICAgIC8v6aG16Z2i5YiG5Ymy5q+UXHJcbiAgICAgICAgbm9kZVByb3BvcnRpb24gPSAxIC8gKHBhZ2VSYW5nZSAtIDEpO1xyXG5cclxuICAgIC8v5pS55Y+Y6IqC54K555qEdHJhbnNmb3Jt5bGe5oCnXHJcbiAgICAvL+i/lOWbnuaUueWPmOWQjnRyYW5zbGF0ZVjlgLxcclxuICAgIHZhciBwYXJhbGxheE9mZnNldCA9IHRyYW5zZm9ybU5vZGVzKGRhdGEuJGNvbnRlbnRQcm9jZXNzLCBfLmV4dGVuZCh7fSwgb2Zmc2V0VHJhbnNsYXRlKSwgZGF0YS50cmFuc2Zvcm1PZmZzZXQpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Li65LqG5YW85a655Yqo55S777yM5oqK6KeG6KeJ5beu5b2T5L2c5LiA56eN6KGM5Li65aSE55CGXHJcbiAgICAgKiDlkIjlubZkYXRh5pWw5o2uXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBkYXRhLnBhcmFsbGF4ID0ge1xyXG4gICAgICAgIC8v6K6h566X6aG156CB57uT5p2f6L6555WM5YC8LOeUqOS6jui3s+i9rOi/h+a7pFxyXG4gICAgICAgIGNhbGN1bGF0ZVJhbmdlUGFnZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnc3RhcnQnOiBwaWQgLSBjdXJyUGFnZU9mZnNldCArIDEsXHJcbiAgICAgICAgICAgICAgICAnZW5kJzogcGFnZVJhbmdlIC0gY3VyclBhZ2VPZmZzZXQgKyBwaWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3RyYW5zbGF0ZSc6IHRyYW5zbGF0ZSxcclxuICAgICAgICAnb2Zmc2V0VHJhbnNsYXRlJzogb2Zmc2V0VHJhbnNsYXRlLFxyXG4gICAgICAgICdub2RlUHJvcG9ydGlvbic6IG5vZGVQcm9wb3J0aW9uLFxyXG4gICAgICAgICdyb290Tm9kZSc6IGRhdGEuJGNvbnRlbnRQcm9jZXNzLFxyXG4gICAgICAgICdwYXJhbGxheE9mZnNldCc6IHBhcmFsbGF4T2Zmc2V0IC8v57uP6L+H6KeG6KeJ5beu5L+u5q2j5ZCO55qE5YGP56e76YePXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L3BhcmFsbGF4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 43 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Sprite = Sprite;\n\nvar _index = __webpack_require__(1);\n\nvar DOC = document; /**\r\n                     * 普通精灵动画\r\n                     * dom版本\r\n                     */\n\nvar prefix = Xut.plat.prefixStyle;\nvar KEYFRAMES = Xut.plat.KEYFRAMES;\nvar ANIMATION_EV = Xut.plat.ANIMATION_EV;\n//全局样式style\nvar styleElement = null;\nvar playState = prefix('animation-play-state');\n//动画前缀\nvar prefixAnims = prefix('animation');\n\n//css3模式-单图\nfunction css3Animate(options) {\n    var $element = options.element,\n        data = options.data,\n        callback = options.callback || function () {},\n        aniName = 'sprite_' + options.id,\n        count = data.thecount,\n        fps = data.fps,\n        time = Math.round(1 / fps * count * 10) / 10,\n        width = Math.ceil(data.scaleWidth * count),\n        loop = data.loop ? 'infinite' : 1;\n\n    //如果是矩形图\n    var matrix;\n    if (data.parameter) {\n        var parameter = (0, _index.parseJSON)(data.parameter);\n        //矩阵\n        if (parameter && parameter.matrix) {\n            matrix = parameter.matrix.split(\"-\");\n        }\n    }\n\n    /**\r\n     * [ description]动态插入一条样式规则\r\n     * @param  {[type]} rule [样式规则]\r\n     * @return {[type]}      [description]\r\n     */\n    function insertCSSRule(rule) {\n        var number, sheet, cssRules;\n        //如果有全局的style样式文件\n        if (styleElement) {\n            number = 0;\n            try {\n                sheet = styleElement.sheet;\n                cssRules = sheet.cssRules;\n                number = cssRules.length;\n                sheet.insertRule(rule, number);\n            } catch (e) {\n                console.log(e);\n            }\n        } else {\n            //创建样式文件\n            styleElement = DOC.createElement(\"style\");\n            styleElement.type = 'text/css';\n            styleElement.innerHTML = rule;\n            styleElement.uuid = 'aaron';\n            DOC.head.appendChild(styleElement);\n        }\n    }\n\n    /**\r\n     * [ description]删除一条样式规则\r\n     * @param  {[type]} ruleName [样式名]\r\n     * @return {[type]}          [description]\r\n     */\n    function deleteCSSRule(ruleName) {\n        if (styleElement) {\n            var sheet = styleElement.sheet,\n                cssRules = sheet.rules || sheet.cssRules,\n                //取得规则列表\n            i = 0,\n                n = cssRules.length,\n                rule;\n            for (i; i < n; i++) {\n                rule = cssRules[i];\n                if (rule.name === ruleName) {\n                    //删除单个规则\n                    sheet.deleteRule(i);\n                    break;\n                }\n            }\n            //删除style样式\n            if (cssRules.length == 0) {\n                DOC.head.removeChild(styleElement);\n                styleElement = null;\n            }\n        }\n    }\n\n    //格式化样式表达式\n    function setStep(aniName, time, count, loop) {\n        var rule;\n        if (matrix) {\n            rule = '{0} {1}s step-start {2}';\n            return String.format(rule, aniName, time, loop);\n        } else {\n            rule = '{0} {1}s steps({2}, end) {3}';\n            return String.format(rule, aniName, time, count, loop);\n        }\n    }\n\n    //设置精灵动画位置\n    function setPostion(aniName, x) {\n        //矩阵生成step的处理\n        //  0 1 2\n        //  3 4 5\n        //  6 7 8\n        if (matrix) {\n            var frames = [];\n            var base = 100 / count;\n            var col = Number(matrix[0]); //列数\n            //首次\n            frames.push(0 + '% { background-position:0% 0%}');\n            for (var i = 0; i < count; i++) {\n                var currRow = Math.ceil((i + 1) / col); //当前行数\n                var currCol = Math.floor(i / col); //当前列数 \n                var period = currCol * col; //每段数量 \n                var x = 100 * (i - period);\n                var y = 100 * currCol;\n\n                x = x == 0 ? x : \"-\" + x;\n                y = y == 0 ? y : \"-\" + y;\n                frames.push((i + 1) * base + '% { background-position: ' + x + '% ' + y + '%}');\n            }\n            return aniName + '{' + frames.join(\"\") + '}';\n        } else {\n            var rule = '{0} {from { background-position:0 0; } to { background-position: -{1}px 0px}}';\n            return String.format(rule, aniName, Math.round(x));\n        }\n    }\n\n    //设置动画样式\n    function setAnimition($element, rule) {\n        prefixAnims && $element.css(prefixAnims, rule);\n    }\n\n    //添加到样式规则中\n    function setKeyframes(rule) {\n        if (KEYFRAMES) {\n            insertCSSRule(KEYFRAMES + rule);\n        }\n    }\n\n    //动画css关键帧规则\n    var rule1 = setStep(aniName, time, count, loop);\n    var rule2 = setPostion(aniName, width);\n\n    setAnimition($element, rule1);\n    setKeyframes(rule2);\n    $element.on(ANIMATION_EV, callback);\n\n    return {\n\n        runSprites: function runSprites() {\n            //运行动画\n            $element.show().css(playState, '');\n        },\n\n        stopSprites: function stopSprites() {\n            //停止精灵动画\n            deleteCSSRule(aniName);\n            $element.off(ANIMATION_EV, callback);\n            $element = null;\n        },\n\n        pauseSprites: function pauseSprites() {\n            //暂停精灵动画\n            $element.css(playState, 'paused');\n        },\n\n        playSprites: function playSprites() {\n            //恢复精灵动画\n            $element.css(playState, '');\n        }\n\n    };\n}\n\n//帧模式-多图\nfunction keyframes(options) {\n    var $element = options.element,\n        status = '',\n        data = options.data,\n        src = data.md5,\n        count = data.thecount || 0,\n        loop = data.loop,\n        fps = data.fps || 1,\n        root = Xut.config.pathAddress,\n        info = parsePath(src),\n        url = root + info.name,\n        ext = info.ext,\n        num = info.num || 0,\n        timer = 0,\n        image = DOC.createElement('img');\n\n    image.src = root + src;\n    $element.append(image);\n\n    function _runSprites() {\n        timer = setTimeout(function () {\n            image.src = url + num + ext;\n            num++;\n            check();\n        }, 1000 / fps);\n    }\n\n    function check() {\n        if (status === 'paused') {\n            return;\n        }\n        if (num > count) {\n            if (loop) {\n                num %= count;\n                _runSprites();\n            } else {\n                timer = null;\n                callback();\n            }\n        } else {\n            _runSprites();\n        }\n    }\n\n    //分解路径,得到扩展名和文件名\n    function parsePath(path) {\n        var tmp = path.split('.'),\n            ext = '.' + tmp[1],\n            tmp = tmp[0].split('-'),\n            name = tmp[0] + '-',\n            num = tmp[1] - 0;\n        return {\n            name: name,\n            ext: ext,\n            num: num\n        };\n    }\n\n    _runSprites();\n\n    return {\n\n        runSprites: function runSprites() {\n            status = 'play';\n            _runSprites();\n        },\n\n        stopSprites: function stopSprites() {\n            //停止精灵动画\n            clearTimeout(timer);\n            status = 'paused';\n            num = 0;\n            $element = null;\n            image = null;\n        },\n\n        pauseSprites: function pauseSprites() {\n            //暂停精灵动画\n            status = 'paused';\n        },\n\n        playSprites: function playSprites() {\n            //恢复精灵动画\n            status = 'play';\n            check();\n        }\n\n    };\n}\n\n//用pixi库实现的精灵动画\nfunction pixiAnimate(options) {\n    var $element = options.element.parent(),\n        data = options.data,\n        callback = options.callback || function () {},\n        count = data.thecount,\n        fps = data.fps,\n        width = Math.ceil(data.scaleWidth),\n        height = Math.ceil(data.scaleHeight),\n        loop = data.loop ? true : false;\n\n    var scalex = Xut.config.proportion.width;\n    var scaley = Xut.config.proportion.height;\n    var path = Xut.config.pathAddress + data.md5;\n    var i = 0;\n    var x = 0;\n    var data = [];\n    var stage = new PIXI.Stage(0xFFFFFF);\n    var renderer = PIXI.autoDetectRenderer(width, height, null, true);\n\n    $element.empty().append(renderer.view);\n    var sprite = new PIXI.Sprite.fromImage(path);\n    sprite.scale.x = scalex;\n    sprite.scale.y = scaley;\n\n    for (var i = 0; i < count; i++) {\n        data.push(i * width);\n    }\n\n    stage.addChild(sprite);\n\n    requestAnimFrame(animate);\n\n    function animate() {\n        //控制刷新频率\n        if (i % 15 == 0) {\n            sprite.position.x = -data[x];\n            renderer.render(stage);\n            x++;\n            if (x > data.length - 1) {\n                x = 0;\n                i = 0;\n            }\n        }\n\n        i++;\n        requestAnimFrame(animate);\n    }\n}\n\nfunction spriteAnimate(options) {\n    var sprite = options.element,\n        data = options.data,\n        count = data.thecount,\n        width = Math.ceil(data.scaleWidth),\n        height = Math.ceil(data.scaleHeight),\n        loop = data.loop ? true : false;\n\n    var i = 0;\n    var x = 0;\n    var data = [];\n\n    for (var i = 0; i < count; i++) {\n        data.push(i * width);\n    }\n\n    requestAnimFrame(animate);\n\n    function animate() {\n        //控制刷新频率\n        if (i % 15 == 0) {\n            sprite.position.x = -data[x];\n\n            x++;\n            if (x > data.length - 1) {\n                x = 0;\n                i = 0;\n            }\n        }\n\n        i++;\n        //requestAnimFrame(animate);\n    }\n}\n\n/**\r\n * css3动画\r\n * 1 帧动画\r\n * 2 定时器动画\r\n * 3 canvas动画\r\n * @param {[type]} options [description]\r\n */\nfunction Sprite(options) {\n    var mode = options.mode || 'css';\n    switch (mode) {\n        case 'css':\n            return css3Animate(options);\n        case 'timer':\n            return keyframes(options);\n        case 'canvas':\n            return spriteAnimate(options);\n        default:\n            return pixiAnimate(options);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L3BsdWcvc3ByaXRlLmpzPzRlYzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUF3WGdCLE0sR0FBQSxNOztBQW5YaEI7O0FBS0EsSUFBSSxNQUFNLFFBQVYsQzs7Ozs7QUFDQSxJQUFJLFNBQVMsSUFBSSxJQUFKLENBQVMsV0FBdEI7QUFDQSxJQUFJLFlBQVksSUFBSSxJQUFKLENBQVMsU0FBekI7QUFDQSxJQUFJLGVBQWUsSUFBSSxJQUFKLENBQVMsWUFBNUI7O0FBRUEsSUFBSSxlQUFlLElBQW5CO0FBQ0EsSUFBSSxZQUFZLE9BQU8sc0JBQVAsQ0FBaEI7O0FBRUEsSUFBSSxjQUFjLE9BQU8sV0FBUCxDQUFsQjs7O0FBR0EsU0FBUyxXQUFULENBQXFCLE9BQXJCLEVBQThCO0FBQzFCLFFBQUksV0FBVyxRQUFRLE9BQXZCO1FBQ0ksT0FBTyxRQUFRLElBRG5CO1FBRUksV0FBVyxRQUFRLFFBQVIsSUFBb0IsWUFBVyxDQUFFLENBRmhEO1FBR0ksVUFBVSxZQUFZLFFBQVEsRUFIbEM7UUFJSSxRQUFRLEtBQUssUUFKakI7UUFLSSxNQUFNLEtBQUssR0FMZjtRQU1JLE9BQU8sS0FBSyxLQUFMLENBQVcsSUFBSSxHQUFKLEdBQVUsS0FBVixHQUFrQixFQUE3QixJQUFtQyxFQU45QztRQU9JLFFBQVEsS0FBSyxJQUFMLENBQVUsS0FBSyxVQUFMLEdBQWtCLEtBQTVCLENBUFo7UUFRSSxPQUFPLEtBQUssSUFBTCxHQUFZLFVBQVosR0FBeUIsQ0FScEM7OztBQVdBLFFBQUksTUFBSjtBQUNBLFFBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2hCLFlBQUksWUFBWSxzQkFBVSxLQUFLLFNBQWYsQ0FBaEI7O0FBRUEsWUFBSSxhQUFhLFVBQVUsTUFBM0IsRUFBbUM7QUFDL0IscUJBQVMsVUFBVSxNQUFWLENBQWlCLEtBQWpCLENBQXVCLEdBQXZCLENBQVQ7QUFDSDtBQUNKOzs7Ozs7O0FBT0Qs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ZW50IjpbIi8qKlxyXG4gKiDmma7pgJrnsr7ngbXliqjnlLtcclxuICogZG9t54mI5pysXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIHBhcnNlSlNPTlxyXG59XHJcbmZyb20gJy4uLy4uLy4uL3V0aWwvaW5kZXgnXHJcblxyXG5sZXQgRE9DID0gZG9jdW1lbnRcclxubGV0IHByZWZpeCA9IFh1dC5wbGF0LnByZWZpeFN0eWxlXHJcbmxldCBLRVlGUkFNRVMgPSBYdXQucGxhdC5LRVlGUkFNRVNcclxubGV0IEFOSU1BVElPTl9FViA9IFh1dC5wbGF0LkFOSU1BVElPTl9FVlxyXG4gICAgLy/lhajlsYDmoLflvI9zdHlsZVxyXG5sZXQgc3R5bGVFbGVtZW50ID0gbnVsbFxyXG5sZXQgcGxheVN0YXRlID0gcHJlZml4KCdhbmltYXRpb24tcGxheS1zdGF0ZScpXHJcbiAgICAvL+WKqOeUu+WJjee8gFxyXG5sZXQgcHJlZml4QW5pbXMgPSBwcmVmaXgoJ2FuaW1hdGlvbicpXHJcblxyXG4vL2NzczPmqKHlvI8t5Y2V5Zu+XHJcbmZ1bmN0aW9uIGNzczNBbmltYXRlKG9wdGlvbnMpIHtcclxuICAgIHZhciAkZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudCxcclxuICAgICAgICBkYXRhID0gb3B0aW9ucy5kYXRhLFxyXG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9LFxyXG4gICAgICAgIGFuaU5hbWUgPSAnc3ByaXRlXycgKyBvcHRpb25zLmlkLFxyXG4gICAgICAgIGNvdW50ID0gZGF0YS50aGVjb3VudCxcclxuICAgICAgICBmcHMgPSBkYXRhLmZwcyxcclxuICAgICAgICB0aW1lID0gTWF0aC5yb3VuZCgxIC8gZnBzICogY291bnQgKiAxMCkgLyAxMCxcclxuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbChkYXRhLnNjYWxlV2lkdGggKiBjb3VudCksXHJcbiAgICAgICAgbG9vcCA9IGRhdGEubG9vcCA/ICdpbmZpbml0ZScgOiAxO1xyXG5cclxuICAgIC8v5aaC5p6c5piv55+p5b2i5Zu+XHJcbiAgICB2YXIgbWF0cml4O1xyXG4gICAgaWYgKGRhdGEucGFyYW1ldGVyKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlciA9IHBhcnNlSlNPTihkYXRhLnBhcmFtZXRlcik7XHJcbiAgICAgICAgLy/nn6npmLVcclxuICAgICAgICBpZiAocGFyYW1ldGVyICYmIHBhcmFtZXRlci5tYXRyaXgpIHtcclxuICAgICAgICAgICAgbWF0cml4ID0gcGFyYW1ldGVyLm1hdHJpeC5zcGxpdChcIi1cIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbIGRlc2NyaXB0aW9uXeWKqOaAgeaPkuWFpeS4gOadoeagt+W8j+inhOWImVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBydWxlIFvmoLflvI/op4TliJldXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbnNlcnRDU1NSdWxlKHJ1bGUpIHtcclxuICAgICAgICB2YXIgbnVtYmVyLCBzaGVldCwgY3NzUnVsZXM7XHJcbiAgICAgICAgLy/lpoLmnpzmnInlhajlsYDnmoRzdHlsZeagt+W8j+aWh+S7tlxyXG4gICAgICAgIGlmIChzdHlsZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gMFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2hlZXQgPSBzdHlsZUVsZW1lbnQuc2hlZXQ7XHJcbiAgICAgICAgICAgICAgICBjc3NSdWxlcyA9IHNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyID0gY3NzUnVsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShydWxlLCBudW1iZXIpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+WIm+W7uuagt+W8j+aWh+S7tlxyXG4gICAgICAgICAgICBzdHlsZUVsZW1lbnQgPSBET0MuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgICAgICBzdHlsZUVsZW1lbnQudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcbiAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUwgPSBydWxlO1xyXG4gICAgICAgICAgICBzdHlsZUVsZW1lbnQudXVpZCA9ICdhYXJvbic7XHJcbiAgICAgICAgICAgIERPQy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFsgZGVzY3JpcHRpb25d5Yig6Zmk5LiA5p2h5qC35byP6KeE5YiZXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHJ1bGVOYW1lIFvmoLflvI/lkI1dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZGVsZXRlQ1NTUnVsZShydWxlTmFtZSkge1xyXG4gICAgICAgIGlmIChzdHlsZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHNoZWV0ID0gc3R5bGVFbGVtZW50LnNoZWV0LFxyXG4gICAgICAgICAgICAgICAgY3NzUnVsZXMgPSBzaGVldC5ydWxlcyB8fCBzaGVldC5jc3NSdWxlcywgLy/lj5blvpfop4TliJnliJfooahcclxuICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgbiA9IGNzc1J1bGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHJ1bGU7XHJcbiAgICAgICAgICAgIGZvciAoaTsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcnVsZSA9IGNzc1J1bGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUubmFtZSA9PT0gcnVsZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WIoOmZpOWNleS4quinhOWImVxyXG4gICAgICAgICAgICAgICAgICAgIHNoZWV0LmRlbGV0ZVJ1bGUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/liKDpmaRzdHlsZeagt+W8j1xyXG4gICAgICAgICAgICBpZiAoY3NzUnVsZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIERPQy5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5qC85byP5YyW5qC35byP6KGo6L6+5byPXHJcbiAgICBmdW5jdGlvbiBzZXRTdGVwKGFuaU5hbWUsIHRpbWUsIGNvdW50LCBsb29wKSB7XHJcbiAgICAgICAgdmFyIHJ1bGVcclxuICAgICAgICBpZiAobWF0cml4KSB7XHJcbiAgICAgICAgICAgIHJ1bGUgPSAnezB9IHsxfXMgc3RlcC1zdGFydCB7Mn0nO1xyXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZvcm1hdChydWxlLCBhbmlOYW1lLCB0aW1lLCBsb29wKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBydWxlID0gJ3swfSB7MX1zIHN0ZXBzKHsyfSwgZW5kKSB7M30nO1xyXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZvcm1hdChydWxlLCBhbmlOYW1lLCB0aW1lLCBjb3VudCwgbG9vcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u57K+54G15Yqo55S75L2N572uXHJcbiAgICBmdW5jdGlvbiBzZXRQb3N0aW9uKGFuaU5hbWUsIHgpIHtcclxuICAgICAgICAvL+efqemYteeUn+aIkHN0ZXDnmoTlpITnkIZcclxuICAgICAgICAvLyAgMCAxIDJcclxuICAgICAgICAvLyAgMyA0IDVcclxuICAgICAgICAvLyAgNiA3IDhcclxuICAgICAgICBpZiAobWF0cml4KSB7XHJcbiAgICAgICAgICAgIHZhciBmcmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGJhc2UgPSAxMDAgLyBjb3VudDtcclxuICAgICAgICAgICAgdmFyIGNvbCA9IE51bWJlcihtYXRyaXhbMF0pOyAvL+WIl+aVsFxyXG4gICAgICAgICAgICAvL+mmluasoVxyXG4gICAgICAgICAgICBmcmFtZXMucHVzaCgwICsgJyUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOjAlIDAlfScpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJSb3cgPSBNYXRoLmNlaWwoKGkgKyAxKSAvIGNvbCk7IC8v5b2T5YmN6KGM5pWwXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyckNvbCA9IE1hdGguZmxvb3IoaSAvIGNvbCk7IC8v5b2T5YmN5YiX5pWwICBcclxuICAgICAgICAgICAgICAgIHZhciBwZXJpb2QgPSBjdXJyQ29sICogY29sOyAvL+avj+auteaVsOmHjyAgXHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IDEwMCAqIChpIC0gcGVyaW9kKVxyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSAxMDAgKiBjdXJyQ29sO1xyXG5cclxuICAgICAgICAgICAgICAgIHggPSB4ID09IDAgPyB4IDogXCItXCIgKyB4O1xyXG4gICAgICAgICAgICAgICAgeSA9IHkgPT0gMCA/IHkgOiBcIi1cIiArIHk7XHJcbiAgICAgICAgICAgICAgICBmcmFtZXMucHVzaCgoKGkgKyAxKSAqIGJhc2UpICsgJyUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAnICsgeCArICclICcgKyB5ICsgJyV9JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYW5pTmFtZSArICd7JyArIGZyYW1lcy5qb2luKFwiXCIpICsgJ30nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBydWxlID0gJ3swfSB7ZnJvbSB7IGJhY2tncm91bmQtcG9zaXRpb246MCAwOyB9IHRvIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLXsxfXB4IDBweH19JztcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mb3JtYXQocnVsZSwgYW5pTmFtZSwgTWF0aC5yb3VuZCh4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+iuvue9ruWKqOeUu+agt+W8j1xyXG4gICAgZnVuY3Rpb24gc2V0QW5pbWl0aW9uKCRlbGVtZW50LCBydWxlKSB7XHJcbiAgICAgICAgcHJlZml4QW5pbXMgJiYgJGVsZW1lbnQuY3NzKHByZWZpeEFuaW1zLCBydWxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+a3u+WKoOWIsOagt+W8j+inhOWImeS4rVxyXG4gICAgZnVuY3Rpb24gc2V0S2V5ZnJhbWVzKHJ1bGUpIHtcclxuICAgICAgICBpZiAoS0VZRlJBTUVTKSB7XHJcbiAgICAgICAgICAgIGluc2VydENTU1J1bGUoS0VZRlJBTUVTICsgcnVsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+WKqOeUu2Nzc+WFs+mUruW4p+inhOWImVxyXG4gICAgdmFyIHJ1bGUxID0gc2V0U3RlcChhbmlOYW1lLCB0aW1lLCBjb3VudCwgbG9vcCk7XHJcbiAgICB2YXIgcnVsZTIgPSBzZXRQb3N0aW9uKGFuaU5hbWUsIHdpZHRoKTtcclxuXHJcbiAgICBzZXRBbmltaXRpb24oJGVsZW1lbnQsIHJ1bGUxKTtcclxuICAgIHNldEtleWZyYW1lcyhydWxlMik7XHJcbiAgICAkZWxlbWVudC5vbihBTklNQVRJT05fRVYsIGNhbGxiYWNrKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICBydW5TcHJpdGVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy/ov5DooYzliqjnlLtcclxuICAgICAgICAgICAgJGVsZW1lbnQuc2hvdygpLmNzcyhwbGF5U3RhdGUsICcnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzdG9wU3ByaXRlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5YGc5q2i57K+54G15Yqo55S7XHJcbiAgICAgICAgICAgIGRlbGV0ZUNTU1J1bGUoYW5pTmFtZSk7XHJcbiAgICAgICAgICAgICRlbGVtZW50Lm9mZihBTklNQVRJT05fRVYsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgJGVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhdXNlU3ByaXRlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5pqC5YGc57K+54G15Yqo55S7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmNzcyhwbGF5U3RhdGUsICdwYXVzZWQnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwbGF5U3ByaXRlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5oGi5aSN57K+54G15Yqo55S7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmNzcyhwbGF5U3RhdGUsICcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4vL+W4p+aooeW8jy3lpJrlm75cclxuZnVuY3Rpb24ga2V5ZnJhbWVzKG9wdGlvbnMpIHtcclxuICAgIHZhciAkZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudCxcclxuICAgICAgICBzdGF0dXMgPSAnJyxcclxuICAgICAgICBkYXRhID0gb3B0aW9ucy5kYXRhLFxyXG4gICAgICAgIHNyYyA9IGRhdGEubWQ1LFxyXG4gICAgICAgIGNvdW50ID0gZGF0YS50aGVjb3VudCB8fCAwLFxyXG4gICAgICAgIGxvb3AgPSBkYXRhLmxvb3AsXHJcbiAgICAgICAgZnBzID0gZGF0YS5mcHMgfHwgMSxcclxuICAgICAgICByb290ID0gWHV0LmNvbmZpZy5wYXRoQWRkcmVzcyxcclxuICAgICAgICBpbmZvID0gcGFyc2VQYXRoKHNyYyksXHJcbiAgICAgICAgdXJsID0gcm9vdCArIGluZm8ubmFtZSxcclxuICAgICAgICBleHQgPSBpbmZvLmV4dCxcclxuICAgICAgICBudW0gPSBpbmZvLm51bSB8fCAwLFxyXG4gICAgICAgIHRpbWVyID0gMCxcclxuICAgICAgICBpbWFnZSA9IERPQy5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHJcbiAgICBpbWFnZS5zcmMgPSByb290ICsgc3JjO1xyXG4gICAgJGVsZW1lbnQuYXBwZW5kKGltYWdlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBydW5TcHJpdGVzKCkge1xyXG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsICsgbnVtICsgZXh0O1xyXG4gICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgY2hlY2soKTtcclxuICAgICAgICB9LCAxMDAwIC8gZnBzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGVjaygpIHtcclxuICAgICAgICBpZiAoc3RhdHVzID09PSAncGF1c2VkJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW0gPiBjb3VudCkge1xyXG4gICAgICAgICAgICBpZiAobG9vcCkge1xyXG4gICAgICAgICAgICAgICAgbnVtICU9IGNvdW50O1xyXG4gICAgICAgICAgICAgICAgcnVuU3ByaXRlcygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJ1blNwcml0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/liIbop6Pot6/lvoQs5b6X5Yiw5omp5bGV5ZCN5ZKM5paH5Lu25ZCNXHJcbiAgICBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xyXG4gICAgICAgIHZhciB0bXAgPSBwYXRoLnNwbGl0KCcuJyksXHJcbiAgICAgICAgICAgIGV4dCA9ICcuJyArIHRtcFsxXSxcclxuICAgICAgICAgICAgdG1wID0gdG1wWzBdLnNwbGl0KCctJyksXHJcbiAgICAgICAgICAgIG5hbWUgPSB0bXBbMF0gKyAnLScsXHJcbiAgICAgICAgICAgIG51bSA9IHRtcFsxXSAtIDA7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZXh0OiBleHQsXHJcbiAgICAgICAgICAgIG51bTogbnVtXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBydW5TcHJpdGVzKCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgcnVuU3ByaXRlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9ICdwbGF5JztcclxuICAgICAgICAgICAgcnVuU3ByaXRlcygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN0b3BTcHJpdGVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy/lgZzmraLnsr7ngbXliqjnlLtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgc3RhdHVzID0gJ3BhdXNlZCc7XHJcbiAgICAgICAgICAgIG51bSA9IDA7XHJcbiAgICAgICAgICAgICRlbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgaW1hZ2UgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhdXNlU3ByaXRlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5pqC5YGc57K+54G15Yqo55S7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9ICdwYXVzZWQnO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBsYXlTcHJpdGVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy/mgaLlpI3nsr7ngbXliqjnlLtcclxuICAgICAgICAgICAgc3RhdHVzID0gJ3BsYXknO1xyXG4gICAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbi8v55SocGl4aeW6k+WunueOsOeahOeyvueBteWKqOeUu1xyXG5mdW5jdGlvbiBwaXhpQW5pbWF0ZShvcHRpb25zKSB7XHJcbiAgICB2YXIgJGVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQucGFyZW50KCksXHJcbiAgICAgICAgZGF0YSA9IG9wdGlvbnMuZGF0YSxcclxuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fSxcclxuICAgICAgICBjb3VudCA9IGRhdGEudGhlY291bnQsXHJcbiAgICAgICAgZnBzID0gZGF0YS5mcHMsXHJcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwoZGF0YS5zY2FsZVdpZHRoKSxcclxuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoZGF0YS5zY2FsZUhlaWdodCksXHJcbiAgICAgICAgbG9vcCA9IGRhdGEubG9vcCA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB2YXIgc2NhbGV4ID0gWHV0LmNvbmZpZy5wcm9wb3J0aW9uLndpZHRoO1xyXG4gICAgdmFyIHNjYWxleSA9IFh1dC5jb25maWcucHJvcG9ydGlvbi5oZWlnaHQ7XHJcbiAgICB2YXIgcGF0aCA9IFh1dC5jb25maWcucGF0aEFkZHJlc3MgKyBkYXRhLm1kNTtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciB4ID0gMDtcclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICB2YXIgc3RhZ2UgPSBuZXcgUElYSS5TdGFnZSgweEZGRkZGRik7XHJcbiAgICB2YXIgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcih3aWR0aCwgaGVpZ2h0LCBudWxsLCB0cnVlKTtcclxuXHJcbiAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChyZW5kZXJlci52aWV3KTtcclxuICAgIHZhciBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKHBhdGgpO1xyXG4gICAgc3ByaXRlLnNjYWxlLnggPSBzY2FsZXg7XHJcbiAgICBzcHJpdGUuc2NhbGUueSA9IHNjYWxleTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICBkYXRhLnB1c2goaSAqIHdpZHRoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xyXG5cclxuICAgIHJlcXVlc3RBbmltRnJhbWUoYW5pbWF0ZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICAgICAgICAvL+aOp+WItuWIt+aWsOmikeeOh1xyXG4gICAgICAgIGlmIChpICUgMTUgPT0gMCkge1xyXG4gICAgICAgICAgICBzcHJpdGUucG9zaXRpb24ueCA9IC1kYXRhW3hdO1xyXG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xyXG4gICAgICAgICAgICB4Kys7XHJcbiAgICAgICAgICAgIGlmICh4ID4gZGF0YS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpKys7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1GcmFtZShhbmltYXRlKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3ByaXRlQW5pbWF0ZShvcHRpb25zKSB7XHJcbiAgICB2YXIgc3ByaXRlID0gb3B0aW9ucy5lbGVtZW50LFxyXG4gICAgICAgIGRhdGEgPSBvcHRpb25zLmRhdGEsXHJcblxyXG4gICAgICAgIGNvdW50ID0gZGF0YS50aGVjb3VudCxcclxuXHJcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwoZGF0YS5zY2FsZVdpZHRoKSxcclxuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoZGF0YS5zY2FsZUhlaWdodCksXHJcbiAgICAgICAgbG9vcCA9IGRhdGEubG9vcCA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgeCA9IDA7XHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgIGRhdGEucHVzaChpICogd2lkdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3RBbmltRnJhbWUoYW5pbWF0ZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICAgICAgICAvL+aOp+WItuWIt+aWsOmikeeOh1xyXG4gICAgICAgIGlmIChpICUgMTUgPT0gMCkge1xyXG4gICAgICAgICAgICBzcHJpdGUucG9zaXRpb24ueCA9IC1kYXRhW3hdO1xyXG5cclxuICAgICAgICAgICAgeCsrO1xyXG4gICAgICAgICAgICBpZiAoeCA+IGRhdGEubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaSsrO1xyXG4gICAgICAgIC8vcmVxdWVzdEFuaW1GcmFtZShhbmltYXRlKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBjc3Mz5Yqo55S7XHJcbiAqIDEg5bin5Yqo55S7XHJcbiAqIDIg5a6a5pe25Zmo5Yqo55S7XHJcbiAqIDMgY2FudmFz5Yqo55S7XHJcbiAqIEBwYXJhbSB7W3R5cGVdfSBvcHRpb25zIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTcHJpdGUob3B0aW9ucykge1xyXG4gICAgdmFyIG1vZGUgPSBvcHRpb25zLm1vZGUgfHwgJ2Nzcyc7XHJcbiAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICBjYXNlICdjc3MnOlxyXG4gICAgICAgICAgICByZXR1cm4gY3NzM0FuaW1hdGUob3B0aW9ucyk7XHJcbiAgICAgICAgY2FzZSAndGltZXInOlxyXG4gICAgICAgICAgICByZXR1cm4ga2V5ZnJhbWVzKG9wdGlvbnMpO1xyXG4gICAgICAgIGNhc2UgJ2NhbnZhcyc6XHJcbiAgICAgICAgICAgIHJldHVybiBzcHJpdGVBbmltYXRlKG9wdGlvbnMpO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBwaXhpQW5pbWF0ZShvcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L2NvbnRlbnQvcGx1Zy9zcHJpdGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 44 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 搜索栏\r\n * 方便用户更加便捷的找到所需要的信息\r\n *\r\n */\n\n//图标\nvar icons = {\n    search: 'images/icons/search.svg',\n    clear: 'images/icons/clear.svg',\n    exit: 'images/icons/exit.svg'\n};\n\nfunction SearchBar(options) {\n    //父容器\n    this.parent = options.parent;\n    //提示信息\n    this.tips = options.tips;\n    this.init();\n}\n\n/**\r\n * 初始化\r\n * @return {[type]} [description]\r\n */\nSearchBar.prototype.init = function () {\n    var $box = this.searchForm(),\n        dom = this.parent[0];\n\n    this.parent.append($box);\n    this.searchBox = $box;\n    this.resultBox = $box.find('.xut-search-result');\n    this.input = $box.find('.xut-search-input');\n    this.searchBtn = $box.find('.xut-search-btn');\n\n    //用户操作事件邦定\n    Xut.plat.execEvent('on', {\n        context: dom,\n        callback: {\n            end: this\n        }\n    });\n\n    //即时搜索\n    dom.addEventListener('keyup', this, false);\n};\n\n/**\r\n * 创建搜索框\r\n * @return {[object]} [jquery生成的dom对象]\r\n */\nSearchBar.prototype.searchForm = function () {\n    var W = window.innerWidth * 0.3,\n        H = window.innerHeight;\n    var text = this.tips || '请在搜索框中输入要搜索的关键字';\n\n    var box = '<div class=\"xut-form-search\">' + '<div class=\"xut-form-search-wrap\">' + '<div style=\"height:17%;\">' + '<div style=\"height:20%\"></div>' + '<div class=\"xut-search-row\">' + '<input type=\"text\" class=\"xut-search-input\">' + '<div class=\"xut-search-btn\" style=\"background-image: url(' + icons.search + ')\"></div>' + '</div>' + '<p class=\"xut-search-tips\" style=\"line-height:' + Math.round(H * 0.06) + 'px\">' + text + '</p>' + '</div>' + '<div style=\"height:76%\">' + '<ul class=\"xut-search-result\"></ul>' + '</div>' + '<div style=\"height:7%\">' + '<div class=\"xut-search-exit\" style=\"background-image: url(' + icons.exit + ')\"></div>' + '</div>' + '</div></div>';\n\n    var $box = $(box);\n\n    $box.css('width', W < 200 ? 200 : W);\n\n    return $box;\n};\n\n/**\r\n * 搜索\r\n * @param {string} [keyword] [搜索关键字]\r\n */\nSearchBar.prototype.search = function (keyword) {\n    var data = Xut.data.Chapter,\n        ln = data.length,\n        list = '',\n        rs,\n        pageId,\n        seasonId;\n\n    if (!keyword) {\n        this.resultBox.html('');\n        return;\n    }\n\n    for (var i = 0; i < ln; i++) {\n        rs = data.item(i);\n        if (rs.chapterTitle.indexOf(keyword) > -1) {\n            pageId = rs._id;\n            seasonId = rs.seasonId;\n            list += '<li><a class=\"xut-search-link\" data-mark=\"' + seasonId + '-' + pageId + '\" href=\"javascript:0\">' + rs.chapterTitle + '</a></li>';\n        }\n    }\n\n    this.resultBox.html(list);\n};\n\n/**\r\n * 切换搜索按钮图标\r\n * @param  {[type]} icon [图标路径]\r\n * @return {[type]}      [description]\r\n */\nSearchBar.prototype.iconManager = function (icon) {\n    if (this.isChange) {\n        this.searchBtn.css('background-image', 'url(' + icon + ')');\n    };\n};\n\n/**\r\n * 跳转到搜索结果页\r\n * @param  {[type]} target [description]\r\n * @return {[type]}        [description]\r\n */\nSearchBar.prototype.searchLink = function (target) {\n    if (!target || !target.dataset) return;\n    var mark = target.dataset.mark.split('-'),\n        seasonId = mark[0],\n        pageId = mark[1];\n\n    Xut.View.LoadScenario({\n        'scenarioId': seasonId,\n        'chapterId': pageId\n    });\n};\n\n/**\r\n * 邦定事件\r\n * @param  {[type]} evt [事件]\r\n * @return {[type]}     [description]\r\n */\nSearchBar.prototype.handleEvent = function (evt) {\n    var target = evt.target;\n    switch (target.className) {\n        case 'xut-search-btn':\n            //点击搜索\n            this.search(this.input.val());\n            this.isChange = true;\n            this.iconManager(icons.clear);\n            break;\n        case 'xut-search-input':\n            //实时搜索\n            this.search(target.value);\n            //还原按钮图标\n            this.iconManager(icons.search);\n            this.isChange = false;\n            break;\n        case 'xut-search-exit':\n            //关闭搜索框\n            this.exit();\n            break;\n        case 'xut-search-link':\n            //跳转\n            this.searchLink(target);\n            break;\n        default:\n            break;\n    }\n};\n\n/**\r\n * 关闭搜索框\r\n * @return {[type]} [description]\r\n */\nSearchBar.prototype.exit = function () {\n    this.input.val('');\n    this.resultBox.empty();\n    this.searchBox.hide();\n};\n\n/**\r\n * 恢复搜索框\r\n */\nSearchBar.prototype.restore = function () {\n    var searchBox = this.searchBox;\n    searchBox && searchBox.show();\n};\n\n/**\r\n * 销毁搜索框\r\n * @return {[type]} [description]\r\n */\nSearchBar.prototype.destroy = function () {\n    var dom = this.parent[0];\n    dom.removeEventListener('keyup', this, false);\n    dom.removeEventListener('touchend', this, false);\n    dom.removeEventListener('mouseup', this, false);\n\n    this.searchBox.remove();\n    this.searchBox = null;\n    this.resultBox = null;\n    this.searchBtn = null;\n    this.input = null;\n    this.parent = null;\n};\n\nexports.SearchBar = SearchBar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L3NlYXJjaGJhci5qcz9jMGQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQVFBLElBQUksUUFBUTtBQUNSLFlBQVEseUJBREE7QUFFUixXQUFPLHdCQUZDO0FBR1IsVUFBTTtBQUhFLENBQVo7O0FBTUEsU0FBUyxTQUFULENBQW1CLE9BQW5CLEVBQTRCOztBQUV4QixTQUFLLE1BQUwsR0FBYyxRQUFRLE1BQXRCOztBQUVBLFNBQUssSUFBTCxHQUFZLFFBQVEsSUFBcEI7QUFDQSxTQUFLLElBQUw7QUFDSDs7Ozs7O0FBTUQsVUFBVSxTQUFWLENBQW9CLElBQXBCLEdBQTJCLFlBQVc7QUFDbEMsUUFBSSxPQUFPLEtBQUssVUFBTCxFQUFYO1FBQ0ksTUFBTSxLQUFLLE1BQUwsQ0FBWSxDQUFaLENBRFY7O0FBR0EsU0FBSyxNQUFMLENBQVksTUFBWixDQUFtQixJQUFuQjtBQUNBLFNBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUssU0FBTCxHQUFpQixLQUFLLElBQUwsQ0FBVSxvQkFBVixDQUFqQjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQUssSUFBTCxDQUFVLG1CQUFWLENBQWI7QUFDQSxTQUFLLFNBQUwsR0FBaUIsS0FBSyxJQUFMLENBQVUsaUJBQVYsQ0FBakI7OztBQUdBLFFBQUksSUFBSixDQUFTLFNBQVQsQ0FBbUIsSUFBbkIsRUFBeUI7QUFDckIsaUJBQVMsR0FEWTtBQUVyQixrQkFBVTtBQUNOLGlCQUFLO0FBREM7QUFGVyxLQUF6Qjs7O0FBUUEsUUFBSSxnQkFBSixDQUFxQixPQUFyQixFQUE4QixJQUE5QixFQUFvQyxLQUFwQztBQUNILENBcEJEOzs7Ozs7QUEwQkEsVUFBVSxTQUFWLENBQW9CLFVBQXBCLEdBQWlDLFlBQVc7QUFDeEMsUUFBSSxJQUFJLE9BQU8sVUFBUCxHQUFvQixHQUE1QjtRQUNJLElBQUksT0FBTyxXQURmO0FBRUEsUUFBSSxPQUFPLEtBQUssSUFBTCxJQUFhLGlCQUF4Qjs7QUFFQSxRQUFJLE1BQU0sa0NBQ04sb0NBRE0sR0FFTiwyQkFGTSxHQUdOLGdDQUhNLEdBSU4sOEJBSk0sR0FLTiw4Q0FMTSxHQU1OLDJEQU5NLEdBTXdELE1BQU0sTUFOOUQsR0FNdUUsV0FOdkUsR0FPTixRQVBNLEdBUU4sZ0RBUk0sR0FRNkMsS0FBSyxLQUFMLENBQVcsSUFBSSxJQUFmLENBUjdDLEdBUW9FLE1BUnBFLEdBUTZFLElBUjdFLEdBUW9GLE1BUnBGLEdBU04sUUFUTSxHQVVOLDBCQVZNLEdBV04scUNBWE0sR0FZTixRQVpNLEdBYU4seUJBYk0sR0FjTiw0REFkTSxHQWN5RCxNQUFNLElBZC9ELEdBY3NFLFdBZHRFLEdBZU4sUUFmTSxHQWdCTixjQWhCSjs7QUFrQkEsUUFBSSxPQUFPLEVBQUUsR0FBRixDQUFYOztBQUVBLFNBQUssR0FBTCxDQUFTLE9BQVQsRUFBa0IsSUFBSSxHQUFKLEdBQVUsR0FBVixHQUFnQixDQUFsQzs7QUFFQSxXQUFPLElBQVA7QUFDSCxDQTVCRDs7Ozs7O0FBbUNBLFVBQVUsU0FBVixDQUFvQixNQUFwQixHQUE2QixVQUFTLE9BQVQsRUFBa0I7QUFDM0MsUUFBSSxPQUFPLElBQUksSUFBSixDQUFTLE9BQXBCO1FBQ0ksS0FBSyxLQUFLLE1BRGQ7UUFFSSxPQUFPLEVBRlg7UUFHSSxFQUhKO1FBR1EsTUFIUjtRQUdnQixRQUhoQjs7QUFLQSxRQUFJLENBQUMsT0FBTCxFQUFjO0FBQ1YsYUFBSyxTQUFMLENBQWUsSUFBZixDQUFvQixFQUFwQjtBQUNBO0FBQ0g7O0FBRUQsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLEVBQXBCLEVBQXdCLEdBQXhCLEVBQTZCO0FBQ3pCLGFBQUssS0FBSyxJQUFMLENBQVUsQ0FBVixDQUFMO0FBQ0EsWUFBSSxHQUFHLFlBQUgsQ0FBZ0IsT0FBaEIsQ0FBd0IsT0FBeEIsSUFBbUMsQ0FBQyxDQUF4QyxFQUEyQztBQUN2QyxxQkFBUyxHQUFHLEdBQVo7QUFDQSx1QkFBVyxHQUFHLFFBQWQ7QUFDQSxvQkFBUSwrQ0FBK0MsUUFBL0MsR0FBMEQsR0FBMUQsR0FBZ0UsTUFBaEUsR0FBeUUsd0JBQXpFLEdBQW9HLEdBQUcsWUFBdkcsR0FBc0gsV0FBOUg7QUFDSDtBQUNKOztBQUVELFNBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsSUFBcEI7QUFDSCxDQXJCRDs7Ozs7OztBQTRCQSxVQUFVLFNBQVYsQ0FBb0IsV0FBcEIsR0FBa0MsVUFBUyxJQUFULEVBQWU7QUFDN0MsUUFBSSxLQUFLLFFBQVQsRUFBbUI7QUFDZixhQUFLLFNBQUwsQ0FBZSxHQUFmLENBQW1CLGtCQUFuQixFQUF1QyxTQUFTLElBQVQsR0FBZ0IsR0FBdkQ7QUFDSDtBQUNKLENBSkQ7Ozs7Ozs7QUFXQSxVQUFVLFNBQVYsQ0FBb0IsVUFBcEIsR0FBaUMsVUFBUyxNQUFULEVBQWlCO0FBQzlDLFFBQUksQ0FBQyxNQUFELElBQVcsQ0FBQyxPQUFPLE9BQXZCLEVBQWdDO0FBQ2hDLFFBQUksT0FBTyxPQUFPLE9BQVAsQ0FBZSxJQUFmLENBQW9CLEtBQXBCLENBQTBCLEdBQTFCLENBQVg7UUFDSSxXQUFXLEtBQUssQ0FBTCxDQURmO1FBRUksU0FBUyxLQUFLLENBQUwsQ0FGYjs7QUFJQSxRQUFJLElBQUosQ0FBUyxZQUFULENBQXNCO0FBQ2xCLHNCQUFjLFFBREk7QUFFbEIscUJBQWE7QUFGSyxLQUF0QjtBQUlILENBVkQ7Ozs7Ozs7QUFpQkEsVUFBVSxTQUFWLENBQW9CLFdBQXBCLEdBQWtDLFVBQVMsR0FBVCxFQUFjO0FBQzVDLFFBQUksU0FBUyxJQUFJLE1BQWpCO0FBQ0EsWUFBUSxPQUFPLFNBQWY7QUFDSSxhQUFLLGdCQUFMOztBQUVJLGlCQUFLLE1BQUwsQ0FBWSxLQUFLLEtBQUwsQ0FBVyxHQUFYLEVBQVo7QUFDQSxpQkFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsaUJBQUssV0FBTCxDQUFpQixNQUFNLEtBQXZCO0FBQ0E7QUFDSixhQUFLLGtCQUFMOztBQUVJLGlCQUFLLE1BQUwsQ0FBWSxPQUFPLEtBQW5COztBQUVBLGlCQUFLLFdBQUwsQ0FBaUIsTUFBTSxNQUF2QjtBQUNBLGlCQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQTtBQUNKLGFBQUssaUJBQUw7O0FBRUksaUJBQUssSUFBTDtBQUNBO0FBQ0osYUFBSyxpQkFBTDs7QUFFSSxpQkFBSyxVQUFMLENBQWdCLE1BQWhCO0FBQ0E7QUFDSjtBQUNJO0FBdkJSO0FBeUJILENBM0JEOzs7Ozs7QUFpQ0EsVUFBVSxTQUFWLENBQW9CLElBQXBCLEdBQTJCLFlBQVc7QUFDbEMsU0FBSyxLQUFMLENBQVcsR0FBWCxDQUFlLEVBQWY7QUFDQSxTQUFLLFNBQUwsQ0FBZSxLQUFmO0FBQ0EsU0FBSyxTQUFMLENBQWUsSUFBZjtBQUNILENBSkQ7Ozs7O0FBU0EsVUFBVSxTQUFWLENBQW9CLE9BQXBCLEdBQThCLFlBQVc7QUFDckMsUUFBSSxZQUFZLEtBQUssU0FBckI7QUFDQSxpQkFBYSxVQUFVLElBQVYsRUFBYjtBQUNILENBSEQ7Ozs7OztBQVNBLFVBQVUsU0FBVixDQUFvQixPQUFwQixHQUE4QixZQUFXO0FBQ3JDLFFBQUksTUFBTSxLQUFLLE1BQUwsQ0FBWSxDQUFaLENBQVY7QUFDQSxRQUFJLG1CQUFKLENBQXdCLE9BQXhCLEVBQWlDLElBQWpDLEVBQXVDLEtBQXZDO0FBQ0EsUUFBSSxtQkFBSixDQUF3QixVQUF4QixFQUFvQyxJQUFwQyxFQUEwQyxLQUExQztBQUNBLFFBQUksbUJBQUosQ0FBd0IsU0FBeEIsRUFBbUMsSUFBbkMsRUFBeUMsS0FBekM7O0FBRUEsU0FBSyxTQUFMLENBQWUsTUFBZjtBQUNBLFNBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLFNBQUssS0FBTCxHQUFhLElBQWI7QUFDQSxTQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0gsQ0FaRDs7UUFlSSxTLEdBQUEsUyIsImZpbGUiOiI0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmkJzntKLmoI9cclxuICog5pa55L6/55So5oi35pu05Yqg5L6/5o2355qE5om+5Yiw5omA6ZyA6KaB55qE5L+h5oGvXHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbi8v5Zu+5qCHXHJcbnZhciBpY29ucyA9IHtcclxuICAgIHNlYXJjaDogJ2ltYWdlcy9pY29ucy9zZWFyY2guc3ZnJyxcclxuICAgIGNsZWFyOiAnaW1hZ2VzL2ljb25zL2NsZWFyLnN2ZycsXHJcbiAgICBleGl0OiAnaW1hZ2VzL2ljb25zL2V4aXQuc3ZnJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gU2VhcmNoQmFyKG9wdGlvbnMpIHtcclxuICAgIC8v54i25a655ZmoXHJcbiAgICB0aGlzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xyXG4gICAgLy/mj5DnpLrkv6Hmga9cclxuICAgIHRoaXMudGlwcyA9IG9wdGlvbnMudGlwcztcclxuICAgIHRoaXMuaW5pdCgpO1xyXG59XHJcblxyXG4vKipcclxuICog5Yid5aeL5YyWXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuU2VhcmNoQmFyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgJGJveCA9IHRoaXMuc2VhcmNoRm9ybSgpLFxyXG4gICAgICAgIGRvbSA9IHRoaXMucGFyZW50WzBdO1xyXG5cclxuICAgIHRoaXMucGFyZW50LmFwcGVuZCgkYm94KTtcclxuICAgIHRoaXMuc2VhcmNoQm94ID0gJGJveDtcclxuICAgIHRoaXMucmVzdWx0Qm94ID0gJGJveC5maW5kKCcueHV0LXNlYXJjaC1yZXN1bHQnKTtcclxuICAgIHRoaXMuaW5wdXQgPSAkYm94LmZpbmQoJy54dXQtc2VhcmNoLWlucHV0Jyk7XHJcbiAgICB0aGlzLnNlYXJjaEJ0biA9ICRib3guZmluZCgnLnh1dC1zZWFyY2gtYnRuJyk7XHJcblxyXG4gICAgLy/nlKjmiLfmk43kvZzkuovku7bpgqblrppcclxuICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb24nLCB7XHJcbiAgICAgICAgY29udGV4dDogZG9tLFxyXG4gICAgICAgIGNhbGxiYWNrOiB7XHJcbiAgICAgICAgICAgIGVuZDogdGhpc1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy/ljbPml7bmkJzntKJcclxuICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMsIGZhbHNlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuaQnOe0ouahhlxyXG4gKiBAcmV0dXJuIHtbb2JqZWN0XX0gW2pxdWVyeeeUn+aIkOeahGRvbeWvueixoV1cclxuICovXHJcblNlYXJjaEJhci5wcm90b3R5cGUuc2VhcmNoRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIFcgPSB3aW5kb3cuaW5uZXJXaWR0aCAqIDAuMyxcclxuICAgICAgICBIID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgdmFyIHRleHQgPSB0aGlzLnRpcHMgfHwgJ+ivt+WcqOaQnOe0ouahhuS4rei+k+WFpeimgeaQnOe0oueahOWFs+mUruWtlyc7XHJcblxyXG4gICAgdmFyIGJveCA9ICc8ZGl2IGNsYXNzPVwieHV0LWZvcm0tc2VhcmNoXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ4dXQtZm9ybS1zZWFyY2gtd3JhcFwiPicgK1xyXG4gICAgICAgICc8ZGl2IHN0eWxlPVwiaGVpZ2h0OjE3JTtcIj4nICtcclxuICAgICAgICAnPGRpdiBzdHlsZT1cImhlaWdodDoyMCVcIj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cInh1dC1zZWFyY2gtcm93XCI+JyArXHJcbiAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwieHV0LXNlYXJjaC1pbnB1dFwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwieHV0LXNlYXJjaC1idG5cIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnICsgaWNvbnMuc2VhcmNoICsgJylcIj48L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxwIGNsYXNzPVwieHV0LXNlYXJjaC10aXBzXCIgc3R5bGU9XCJsaW5lLWhlaWdodDonICsgTWF0aC5yb3VuZChIICogMC4wNikgKyAncHhcIj4nICsgdGV4dCArICc8L3A+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IHN0eWxlPVwiaGVpZ2h0Ojc2JVwiPicgK1xyXG4gICAgICAgICc8dWwgY2xhc3M9XCJ4dXQtc2VhcmNoLXJlc3VsdFwiPjwvdWw+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IHN0eWxlPVwiaGVpZ2h0OjclXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ4dXQtc2VhcmNoLWV4aXRcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnICsgaWNvbnMuZXhpdCArICcpXCI+PC9kaXY+JyArXHJcbiAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj48L2Rpdj4nO1xyXG5cclxuICAgIHZhciAkYm94ID0gJChib3gpO1xyXG5cclxuICAgICRib3guY3NzKCd3aWR0aCcsIFcgPCAyMDAgPyAyMDAgOiBXKVxyXG5cclxuICAgIHJldHVybiAkYm94O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOaQnOe0olxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2tleXdvcmRdIFvmkJzntKLlhbPplK7lrZddXHJcbiAqL1xyXG5TZWFyY2hCYXIucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uKGtleXdvcmQpIHtcclxuICAgIHZhciBkYXRhID0gWHV0LmRhdGEuQ2hhcHRlcixcclxuICAgICAgICBsbiA9IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgIGxpc3QgPSAnJyxcclxuICAgICAgICBycywgcGFnZUlkLCBzZWFzb25JZDtcclxuXHJcbiAgICBpZiAoIWtleXdvcmQpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdEJveC5odG1sKCcnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsbjsgaSsrKSB7XHJcbiAgICAgICAgcnMgPSBkYXRhLml0ZW0oaSk7XHJcbiAgICAgICAgaWYgKHJzLmNoYXB0ZXJUaXRsZS5pbmRleE9mKGtleXdvcmQpID4gLTEpIHtcclxuICAgICAgICAgICAgcGFnZUlkID0gcnMuX2lkO1xyXG4gICAgICAgICAgICBzZWFzb25JZCA9IHJzLnNlYXNvbklkO1xyXG4gICAgICAgICAgICBsaXN0ICs9ICc8bGk+PGEgY2xhc3M9XCJ4dXQtc2VhcmNoLWxpbmtcIiBkYXRhLW1hcms9XCInICsgc2Vhc29uSWQgKyAnLScgKyBwYWdlSWQgKyAnXCIgaHJlZj1cImphdmFzY3JpcHQ6MFwiPicgKyBycy5jaGFwdGVyVGl0bGUgKyAnPC9hPjwvbGk+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXN1bHRCb3guaHRtbChsaXN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIh+aNouaQnOe0ouaMiemSruWbvuagh1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGljb24gW+Wbvuagh+i3r+W+hF1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblNlYXJjaEJhci5wcm90b3R5cGUuaWNvbk1hbmFnZXIgPSBmdW5jdGlvbihpY29uKSB7XHJcbiAgICBpZiAodGhpcy5pc0NoYW5nZSkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoQnRuLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGljb24gKyAnKScpO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOi3s+i9rOWIsOaQnOe0oue7k+aenOmhtVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHRhcmdldCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblNlYXJjaEJhci5wcm90b3R5cGUuc2VhcmNoTGluayA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5kYXRhc2V0KSByZXR1cm47XHJcbiAgICB2YXIgbWFyayA9IHRhcmdldC5kYXRhc2V0Lm1hcmsuc3BsaXQoJy0nKSxcclxuICAgICAgICBzZWFzb25JZCA9IG1hcmtbMF0sXHJcbiAgICAgICAgcGFnZUlkID0gbWFya1sxXTtcclxuXHJcbiAgICBYdXQuVmlldy5Mb2FkU2NlbmFyaW8oe1xyXG4gICAgICAgICdzY2VuYXJpb0lkJzogc2Vhc29uSWQsXHJcbiAgICAgICAgJ2NoYXB0ZXJJZCc6IHBhZ2VJZFxyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOmCpuWumuS6i+S7tlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGV2dCBb5LqL5Lu2XVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TZWFyY2hCYXIucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcclxuICAgIHN3aXRjaCAodGFyZ2V0LmNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ3h1dC1zZWFyY2gtYnRuJzpcclxuICAgICAgICAgICAgLy/ngrnlh7vmkJzntKJcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2godGhpcy5pbnB1dC52YWwoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmljb25NYW5hZ2VyKGljb25zLmNsZWFyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAneHV0LXNlYXJjaC1pbnB1dCc6XHJcbiAgICAgICAgICAgIC8v5a6e5pe25pCc57SiXHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIC8v6L+Y5Y6f5oyJ6ZKu5Zu+5qCHXHJcbiAgICAgICAgICAgIHRoaXMuaWNvbk1hbmFnZXIoaWNvbnMuc2VhcmNoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICd4dXQtc2VhcmNoLWV4aXQnOlxyXG4gICAgICAgICAgICAvL+WFs+mXreaQnOe0ouahhlxyXG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAneHV0LXNlYXJjaC1saW5rJzpcclxuICAgICAgICAgICAgLy/ot7PovaxcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hMaW5rKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5YWz6Zet5pCc57Si5qGGXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuU2VhcmNoQmFyLnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlucHV0LnZhbCgnJyk7XHJcbiAgICB0aGlzLnJlc3VsdEJveC5lbXB0eSgpO1xyXG4gICAgdGhpcy5zZWFyY2hCb3guaGlkZSgpO1xyXG59XHJcblxyXG4vKipcclxuICog5oGi5aSN5pCc57Si5qGGXHJcbiAqL1xyXG5TZWFyY2hCYXIucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWFyY2hCb3ggPSB0aGlzLnNlYXJjaEJveDtcclxuICAgIHNlYXJjaEJveCAmJiBzZWFyY2hCb3guc2hvdygpO1xyXG59XHJcblxyXG4vKipcclxuICog6ZSA5q+B5pCc57Si5qGGXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuU2VhcmNoQmFyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZG9tID0gdGhpcy5wYXJlbnRbMF07XHJcbiAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLCBmYWxzZSk7XHJcbiAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLCBmYWxzZSk7XHJcbiAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLnNlYXJjaEJveC5yZW1vdmUoKTtcclxuICAgIHRoaXMuc2VhcmNoQm94ID0gbnVsbDtcclxuICAgIHRoaXMucmVzdWx0Qm94ID0gbnVsbDtcclxuICAgIHRoaXMuc2VhcmNoQnRuID0gbnVsbDtcclxuICAgIHRoaXMuaW5wdXQgPSBudWxsO1xyXG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgU2VhcmNoQmFyXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9jb250ZW50L3NlYXJjaGJhci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 45 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Container = Container;\n\nvar _queue = __webpack_require__(48);\n\n/**\r\n * 制作uuid\r\n * @return {[type]} [description]\r\n */\nfunction makeGuid() {\n    return Xut.guid('rAF');\n}\n\n/**\r\n * 创建pipx对象\r\n * @param  {[type]} canvasContainer [description]\r\n * @param  {[type]} wrapObj         [description]\r\n * @return {[type]}                 [description]\r\n */\n/*******************************************\r\n *   canvas处理模块\r\n *   2016.2新增机制\r\n *   扩充pixi动画\r\n *                                      *\r\n ******************************************/\n\nfunction Container(data, canvasIndex) {\n\n    var width = Xut.config.screenSize.width;\n    var height = Xut.config.screenSize.height;\n    var pageIndex = data.pageIndex;\n\n    var renderer = PIXI.autoDetectRenderer(width, height, {\n        transparent: true\n    });\n    //设置层级关系\n    renderer.view.style.position = \"absolute\";\n    renderer.view.style.zIndex = canvasIndex;\n\n    //放入容器\n    data.element.append(renderer.view);\n\n    //根容器\n    var containerStage = new PIXI.Container();\n\n    //扩充场景处理接口\n    var expandRelated = {\n        stageWidth: width,\n        stageHeight: height,\n        container: renderer.view, //canvas容器\n        containerStage: containerStage, //根容器\n        sprites: {}, //保存精灵合集\n\n        /**\r\n         * 将子pixi加入进来\r\n         */\n        addChild: function addChild(stage) {\n            containerStage.addChild(stage);\n        },\n\n        /**\r\n         * 初始化绘制,3秒的时间\r\n         * 尽量保证节点加载完毕\r\n         * @return {[type]} [description]\r\n         */\n        display: function display() {\n            (0, _queue.oneQueue)(pageIndex, function display() {\n                renderer.render(containerStage);\n            });\n        },\n\n        /**\r\n         * 绘制一次\r\n         * @return {[type]} [description]\r\n         */\n        oneRender: function oneRender() {\n            renderer.render(containerStage);\n        },\n\n        /**\r\n         * 不断绘制\r\n         * task 外部任务\r\n         * type 执行play的类型 高级，普通精灵\r\n         * @return {[type]} [description]\r\n         */\n        play: function play(type, task) {\n            var uuid = makeGuid();\n            (0, _queue.addQueue)(pageIndex, uuid, function play() {\n                task && task();\n                renderer.render(containerStage);\n            }, type);\n            return uuid;\n        },\n\n        /**\r\n         * 停止绘制\r\n         * @return {[type]} [description]\r\n         */\n        stop: function stop(uuid) {\n            (0, _queue.removeQueue)(pageIndex, uuid);\n        },\n\n        /**\r\n         * 销毁\r\n         * @return {[type]} [description]\r\n         */\n        destroy: function destroy() {\n            if (data.canvasRelated) {\n                (0, _queue.destroyQueue)(pageIndex);\n                data.canvasRelated.container = null;\n                if (data.canvasRelated.containerStage) {\n                    data.canvasRelated.containerStage.removeChildren();\n                }\n                data.canvasRelated = null;\n            }\n        }\n    };\n\n    //扩充pixi控制\n    _.extend(data.canvasRelated, expandRelated);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL0NvbnRhaW5lci5qcz8zODYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBNkJnQixTLEdBQUEsUzs7QUFyQmhCOzs7Ozs7QUFVQSxTQUFTLFFBQVQsR0FBb0I7QUFDaEIsV0FBTyxJQUFJLElBQUosQ0FBUyxLQUFULENBQVA7QUFDSDs7Ozs7Ozs7Ozs7Ozs7O0FBU00sU0FBUyxTQUFULENBQW1CLElBQW5CLEVBQXlCLFdBQXpCLEVBQXNDOztBQUV6QyxRQUFJLFFBQVEsSUFBSSxNQUFKLENBQVcsVUFBWCxDQUFzQixLQUFsQztBQUNBLFFBQUksU0FBUyxJQUFJLE1BQUosQ0FBVyxVQUFYLENBQXNCLE1BQW5DO0FBQ0EsUUFBSSxZQUFZLEtBQUssU0FBckI7O0FBRUEsUUFBSSxXQUFXLEtBQUssa0JBQUwsQ0FBd0IsS0FBeEIsRUFBK0IsTUFBL0IsRUFBdUM7QUFDbEQscUJBQWE7QUFEcUMsS0FBdkMsQ0FBZjs7QUFJQSxhQUFTLElBQVQsQ0FBYyxLQUFkLENBQW9CLFFBQXBCLEdBQStCLFVBQS9CO0FBQ0EsYUFBUyxJQUFULENBQWMsS0FBZCxDQUFvQixNQUFwQixHQUE2QixXQUE3Qjs7O0FBR0EsU0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixTQUFTLElBQTdCOzs7QUFHQSxRQUFJLGlCQUFpQixJQUFJLEtBQUssU0FBVCxFQUFyQjs7O0FBSUEsUUFBSSxnQkFBZ0I7QUFDaEIsb0JBQVksS0FESTtBQUVoQixxQkFBYSxNQUZHO0FBR2hCLG1CQUFXLFNBQVMsSUFISixFO0FBSWhCLHdCQUFnQixjQUpBLEU7QUFLaEIsaUJBQVMsRUFMTyxFOzs7OztBQVVoQixrQkFBVSxrQkFBUyxLQUFULEVBQWdCO0FBQ3RCLDJCQUFlLFFBQWYsQ0FBd0IsS0FBeEI7QUFDSCxTQVplOzs7Ozs7O0FBbUJoQixpQkFBUyxtQkFBVztBQUNoQixpQ0FBUyxTQUFULEVBQW9CLFNBQVMsT0FBVCxHQUFtQjtBQUNuQyx5QkFBUyxNQUFULENBQWdCLGNBQWhCO0FBQ0gsYUFGRDtBQUdILFNBdkJlOzs7Ozs7QUE2QmhCLG1CQUFXLHFCQUFXO0FBQ2xCLHFCQUFTLE1BQVQsQ0FBZ0IsY0FBaEI7QUFDSCxTQS9CZTs7Ozs7Ozs7QUF1Q2hCLGNBQU0sY0FBUyxJQUFULEVBQWUsSUFBZixFQUFxQjtBQUN2QixnQkFBSSxPQUFPLFVBQVg7QUFDQSxpQ0FBUyxTQUFULEVBQW9CLElBQXBCLEVBQTBCLFNBQVMsSUFBVCxHQUFnQjtBQUN0Qyx3QkFBUSxNQUFSO0FBQ0EseUJBQVMsTUFBVCxDQUFnQixjQUFoQjtBQUNILGFBSEQsRUFHRyxJQUhIO0FBSUEsbUJBQU8sSUFBUDtBQUNILFNBOUNlOzs7Ozs7QUFvRGhCLGNBQU0sY0FBUyxJQUFULEVBQWU7QUFDakIsb0NBQVksU0FBWixFQUF1QixJQUF2QjtBQUNILFNBdERlOzs7Ozs7QUE0RGhCLGlCQUFTLG1CQUFXO0FBQ2hCLGdCQUFJLEtBQUssYUFBVCxFQUF3QjtBQUNwQix5Q0FBYSxTQUFiO0FBQ0EscUJBQUssYUFBTCxDQUFtQixTQUFuQixHQUErQixJQUEvQjtBQUNBLG9CQUFJLEtBQUssYUFBTCxDQUFtQixjQUF2QixFQUF1QztBQUNuQyx5QkFBSyxhQUFMLENBQW1CLGNBQW5CLENBQWtDLGNBQWxDO0FBQ0g7QUFDRCxxQkFBSyxhQUFMLEdBQXFCLElBQXJCO0FBQ0g7QUFDSjtBQXJFZSxLQUFwQjs7O0FBeUVBLE1BQUUsTUFBRixDQUFTLEtBQUssYUFBZCxFQUE2QixhQUE3QjtBQUNIIiwiZmlsZSI6IjQ1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICogICBjYW52YXPlpITnkIbmqKHlnZdcclxuICogICAyMDE2LjLmlrDlop7mnLrliLZcclxuICogICDmianlhYVwaXhp5Yqo55S7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuaW1wb3J0IHtcclxuICAgIG9uZVF1ZXVlLCBhZGRRdWV1ZSwgcmVtb3ZlUXVldWUsIGRlc3Ryb3lRdWV1ZVxyXG59XHJcbmZyb20gJy4vcXVldWUnXHJcblxyXG5cclxuLyoqXHJcbiAqIOWItuS9nHV1aWRcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlR3VpZCgpIHtcclxuICAgIHJldHVybiBYdXQuZ3VpZCgnckFGJyk7XHJcbn1cclxuXHJcbiBcclxuLyoqXHJcbiAqIOWIm+W7unBpcHjlr7nosaFcclxuICogQHBhcmFtICB7W3R5cGVdfSBjYW52YXNDb250YWluZXIgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHdyYXBPYmogICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDb250YWluZXIoZGF0YSwgY2FudmFzSW5kZXgpIHtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBYdXQuY29uZmlnLnNjcmVlblNpemUud2lkdGg7XHJcbiAgICB2YXIgaGVpZ2h0ID0gWHV0LmNvbmZpZy5zY3JlZW5TaXplLmhlaWdodDtcclxuICAgIHZhciBwYWdlSW5kZXggPSBkYXRhLnBhZ2VJbmRleDtcclxuXHJcbiAgICB2YXIgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcih3aWR0aCwgaGVpZ2h0LCB7XHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy/orr7nva7lsYLnuqflhbPns7tcclxuICAgIHJlbmRlcmVyLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuICAgIHJlbmRlcmVyLnZpZXcuc3R5bGUuekluZGV4ID0gY2FudmFzSW5kZXg7XHJcblxyXG4gICAgLy/mlL7lhaXlrrnlmahcclxuICAgIGRhdGEuZWxlbWVudC5hcHBlbmQocmVuZGVyZXIudmlldylcclxuXHJcbiAgICAvL+agueWuueWZqFxyXG4gICAgdmFyIGNvbnRhaW5lclN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblxyXG5cclxuICAgIC8v5omp5YWF5Zy65pmv5aSE55CG5o6l5Y+jXHJcbiAgICB2YXIgZXhwYW5kUmVsYXRlZCA9IHtcclxuICAgICAgICBzdGFnZVdpZHRoOiB3aWR0aCxcclxuICAgICAgICBzdGFnZUhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgIGNvbnRhaW5lcjogcmVuZGVyZXIudmlldywgLy9jYW52YXPlrrnlmahcclxuICAgICAgICBjb250YWluZXJTdGFnZTogY29udGFpbmVyU3RhZ2UsIC8v5qC55a655ZmoXHJcbiAgICAgICAgc3ByaXRlczoge30sIC8v5L+d5a2Y57K+54G15ZCI6ZuGXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWwhuWtkHBpeGnliqDlhaXov5vmnaVcclxuICAgICAgICAgKi9cclxuICAgICAgICBhZGRDaGlsZDogZnVuY3Rpb24oc3RhZ2UpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyU3RhZ2UuYWRkQ2hpbGQoc3RhZ2UpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWIneWni+WMlue7mOWItiwz56eS55qE5pe26Ze0XHJcbiAgICAgICAgICog5bC96YeP5L+d6K+B6IqC54K55Yqg6L295a6M5q+VXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGlzcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG9uZVF1ZXVlKHBhZ2VJbmRleCwgZnVuY3Rpb24gZGlzcGxheSgpIHtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihjb250YWluZXJTdGFnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOe7mOWItuS4gOasoVxyXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uZVJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihjb250YWluZXJTdGFnZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5LiN5pat57uY5Yi2XHJcbiAgICAgICAgICogdGFzayDlpJbpg6jku7vliqFcclxuICAgICAgICAgKiB0eXBlIOaJp+ihjHBsYXnnmoTnsbvlnosg6auY57qn77yM5pmu6YCa57K+54G1XHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGxheTogZnVuY3Rpb24odHlwZSwgdGFzaykge1xyXG4gICAgICAgICAgICB2YXIgdXVpZCA9IG1ha2VHdWlkKCk7XHJcbiAgICAgICAgICAgIGFkZFF1ZXVlKHBhZ2VJbmRleCwgdXVpZCwgZnVuY3Rpb24gcGxheSgpIHtcclxuICAgICAgICAgICAgICAgIHRhc2sgJiYgdGFzaygpXHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoY29udGFpbmVyU3RhZ2UpO1xyXG4gICAgICAgICAgICB9LCB0eXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHV1aWQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5YGc5q2i57uY5Yi2XHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RvcDogZnVuY3Rpb24odXVpZCkge1xyXG4gICAgICAgICAgICByZW1vdmVRdWV1ZShwYWdlSW5kZXgsIHV1aWQpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOmUgOavgVxyXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jYW52YXNSZWxhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95UXVldWUocGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIGRhdGEuY2FudmFzUmVsYXRlZC5jb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2FudmFzUmVsYXRlZC5jb250YWluZXJTdGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY2FudmFzUmVsYXRlZC5jb250YWluZXJTdGFnZS5yZW1vdmVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0YS5jYW52YXNSZWxhdGVkID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aJqeWFhXBpeGnmjqfliLZcclxuICAgIF8uZXh0ZW5kKGRhdGEuY2FudmFzUmVsYXRlZCwgZXhwYW5kUmVsYXRlZClcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L3BpeGkvQ29udGFpbmVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 46 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindEvents = bindEvents;\nexports.destroyEvents = destroyEvents;\n/**\r\n * pixi事件绑定\r\n * @param  {[type]} Utils   [description]\r\n * @param  {[type]} Config) {}          [description]\r\n * @return {[type]}         [description]\r\n */\n\n/**\r\n * 动作适配\r\n * @type {Object}\r\n */\nvar adapter = {\n  /**\r\n   * 单击\r\n   * @return {[type]} [description]\r\n   */\n  \"tap\": function tap(eventData) {\n    var eventContext = eventData.eventContext;\n    eventContext.on('mousedown', eventData.eventRun);\n    eventContext.on('touchstart', eventData.eventRun);\n  }\n};\n\n/**\r\n * 绑定事件\r\n * @param  {[type]} eventData [description]\r\n * @return {[type]}           [description]\r\n */\nfunction bindEvents(eventData) {\n  //开启交互\n  eventData.eventContext.interactive = true;\n  adapter[eventData.eventName](eventData);\n}\n\n/**\r\n * 销毁事件\r\n * @return {[type]} [description]\r\n */\nfunction destroyEvents() {}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL2V2ZW50LmpzPzljMTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUE0QmdCLFUsR0FBQSxVO1FBVUEsYSxHQUFBLGE7Ozs7Ozs7Ozs7OztBQTNCaEIsSUFBSSxVQUFVOzs7OztBQUtWLFNBQU8sYUFBUyxTQUFULEVBQW9CO0FBQ3ZCLFFBQUksZUFBZSxVQUFVLFlBQTdCO0FBQ0EsaUJBQWEsRUFBYixDQUFnQixXQUFoQixFQUE2QixVQUFVLFFBQXZDO0FBQ0EsaUJBQWEsRUFBYixDQUFnQixZQUFoQixFQUE4QixVQUFVLFFBQXhDO0FBQ0g7QUFUUyxDQUFkOzs7Ozs7O0FBaUJPLFNBQVMsVUFBVCxDQUFvQixTQUFwQixFQUErQjs7QUFFbEMsWUFBVSxZQUFWLENBQXVCLFdBQXZCLEdBQXFDLElBQXJDO0FBQ0EsVUFBUSxVQUFVLFNBQWxCLEVBQTZCLFNBQTdCO0FBQ0g7Ozs7OztBQU1NLFNBQVMsYUFBVCxHQUF5QixDQUUvQiIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBwaXhp5LqL5Lu257uR5a6aXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gVXRpbHMgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gQ29uZmlnKSB7fSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIOWKqOS9nOmAgumFjVxyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cclxudmFyIGFkYXB0ZXIgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOWNleWHu1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIFwidGFwXCI6IGZ1bmN0aW9uKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIHZhciBldmVudENvbnRleHQgPSBldmVudERhdGEuZXZlbnRDb250ZXh0O1xyXG4gICAgICAgIGV2ZW50Q29udGV4dC5vbignbW91c2Vkb3duJywgZXZlbnREYXRhLmV2ZW50UnVuKTtcclxuICAgICAgICBldmVudENvbnRleHQub24oJ3RvdWNoc3RhcnQnLCBldmVudERhdGEuZXZlbnRSdW4pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog57uR5a6a5LqL5Lu2XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZXZlbnREYXRhIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFdmVudHMoZXZlbnREYXRhKSB7XHJcbiAgICAvL+W8gOWQr+S6pOS6klxyXG4gICAgZXZlbnREYXRhLmV2ZW50Q29udGV4dC5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICBhZGFwdGVyW2V2ZW50RGF0YS5ldmVudE5hbWVdKGV2ZW50RGF0YSk7XHJcbn1cclxuIFxyXG4vKipcclxuICog6ZSA5q+B5LqL5Lu2XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lFdmVudHMoKSB7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvcGl4aS9ldmVudC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 47 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Factory = undefined;\n\nvar _observe = __webpack_require__(3);\n\nvar arr = []; /**\r\n               * pixi精灵动画\r\n               * @param  {[type]} Utils   [description]\r\n               */\n\nvar slice = arr.slice;\nvar concat = arr.concat;\n\n/**\r\n * pixi类\r\n * 子动画基类\r\n * @param {[type]} options [description]\r\n */\nvar Factory = Xut.CoreObject.extend({\n\n    /**\r\n     * 初始化\r\n     * @param  {[type]} data          [description]\r\n     * @param  {[type]} canvasRelated [description]\r\n     * @return {[type]}               [description]\r\n     */\n    init: function init(options) {\n        var pixi = this;\n        var args = [\n        /**\r\n         * 成功回调\r\n         * @param  {[type]} contentId [description]\r\n         * @return {[type]}           [description]\r\n         */\n        function successCallback(contentId) {\n            //加载完成构建 ppt实例\n            pixi.$emit('load');\n        },\n        /**\r\n         * 失败回调\r\n         * @param  {[type]} contentId [description]\r\n         * @return {[type]}           [description]\r\n         */\n        function failCallback(contentId) {\n            //删掉对应的cid记录\n            // var index =  canvasRelated.cid.indexOf(contentId)\n            // canvasRelated.cid.splice(index,1);\n            console.log('failCallback');\n        }];\n        this.constructor.apply(this, args.concat(slice.call(arguments)));\n    },\n\n    /**\r\n     * 播放\r\n     * @param  {[type]} completeCallback [完成回调]\r\n     * @return {[type]}                  [description]\r\n     */\n    playPixi: function playPixi(completeCallback) {\n        this.checkValidity(function () {\n            this.play();\n        });\n    },\n\n    //停止\n    stopPixi: function stopPixi() {\n        this.checkValidity(function () {\n            this.stop();\n        });\n    },\n\n    //相关\n    destroyPixi: function destroyPixi() {\n        this.checkValidity(function () {\n            this.destroy();\n        });\n    },\n\n    /**\r\n     * 检测是否能有效运行\r\n     * pixi对象是否有效加载\r\n     * @return {[type]} [description]\r\n     */\n    checkValidity: function checkValidity(successCallback) {\n        var failCid = this.canvasRelated.failCid;\n        var contentId = this.contentId;\n        //无效\n        if (failCid.length && -1 !== failCid.indexOf(contentId)) {\n            return;\n        }\n        //有效\n        successCallback && successCallback.call(this);\n    },\n\n    /**\r\n     * 创建图片地址\r\n     * @return {[type]}         [description]\r\n     */\n    analysisPath: function analysisPath(conData) {\n        var pathImg,\n            imgContent = conData.md5,\n\n        //是gif格式\n        isGif = /.gif$/i.test(imgContent),\n\n        //原始地址\n        originalPathImg = Xut.config.pathAddress + imgContent;\n        if (isGif) {\n            //处理gif图片缓存+随机数\n            pathImg = Xut.createRandomImg(originalPathImg);\n        } else {\n            pathImg = originalPathImg;\n        }\n        return pathImg;\n    }\n\n});\n\n_observe.observe.call(Factory.prototype);\n\nexports.Factory = Factory;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL2ZhY3RvcnkuanM/NjEwYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBS0E7O0FBRUEsSUFBSSxNQUFNLEVBQVYsQzs7Ozs7QUFDQSxJQUFJLFFBQVEsSUFBSSxLQUFoQjtBQUNBLElBQUksU0FBUyxJQUFJLE1BQWpCOzs7Ozs7O0FBT0EsSUFBSSxVQUFVLElBQUksVUFBSixDQUFlLE1BQWYsQ0FBc0I7Ozs7Ozs7O0FBUWhDLFVBQU0sY0FBUyxPQUFULEVBQWtCO0FBQ3BCLFlBQUksT0FBTyxJQUFYO0FBQ0EsWUFBSSxPQUFPOzs7Ozs7QUFNUCxpQkFBUyxlQUFULENBQXlCLFNBQXpCLEVBQW9DOztBQUVoQyxpQkFBSyxLQUFMLENBQVcsTUFBWDtBQUNILFNBVE07Ozs7OztBQWVQLGlCQUFTLFlBQVQsQ0FBc0IsU0FBdEIsRUFBaUM7Ozs7QUFJN0Isb0JBQVEsR0FBUixDQUFZLGNBQVo7QUFDSCxTQXBCTSxDQUFYO0FBc0JBLGFBQUssV0FBTCxDQUFpQixLQUFqQixDQUF1QixJQUF2QixFQUE2QixLQUFLLE1BQUwsQ0FBWSxNQUFNLElBQU4sQ0FBVyxTQUFYLENBQVosQ0FBN0I7QUFDSCxLQWpDK0I7Ozs7Ozs7QUF3Q2hDLGNBQVUsa0JBQVMsZ0JBQVQsRUFBMkI7QUFDakMsYUFBSyxhQUFMLENBQW1CLFlBQVc7QUFDMUIsaUJBQUssSUFBTDtBQUNILFNBRkQ7QUFHSCxLQTVDK0I7OztBQStDaEMsY0FBVSxvQkFBVztBQUNqQixhQUFLLGFBQUwsQ0FBbUIsWUFBVztBQUMxQixpQkFBSyxJQUFMO0FBQ0gsU0FGRDtBQUdILEtBbkQrQjs7O0FBc0RoQyxpQkFBYSx1QkFBVztBQUNwQixhQUFLLGFBQUwsQ0FBbUIsWUFBVztBQUMxQixpQkFBSyxPQUFMO0FBQ0gsU0FGRDtBQUdILEtBMUQrQjs7Ozs7OztBQWlFaEMsbUJBQWUsdUJBQVMsZUFBVCxFQUEwQjtBQUNyQyxZQUFJLFVBQVUsS0FBSyxhQUFMLENBQW1CLE9BQWpDO0FBQ0EsWUFBSSxZQUFZLEtBQUssU0FBckI7O0FBRUEsWUFBSSxRQUFRLE1BQVIsSUFBa0IsQ0FBQyxDQUFELEtBQU8sUUFBUSxPQUFSLENBQWdCLFNBQWhCLENBQTdCLEVBQXlEO0FBQ3JEO0FBQ0g7O0FBRUQsMkJBQW1CLGdCQUFnQixJQUFoQixDQUFxQixJQUFyQixDQUFuQjtBQUNILEtBMUUrQjs7Ozs7O0FBZ0ZoQyxrQkFBYyxzQkFBUyxPQUFULEVBQWtCO0FBQzVCLFlBQUksT0FBSjtZQUNJLGFBQWEsUUFBUSxHQUR6Qjs7O0FBR0ksZ0JBQVEsU0FBUyxJQUFULENBQWMsVUFBZCxDQUhaOzs7QUFLSSwwQkFBa0IsSUFBSSxNQUFKLENBQVcsV0FBWCxHQUF5QixVQUwvQztBQU1BLFlBQUksS0FBSixFQUFXOztBQUVQLHNCQUFVLElBQUksZUFBSixDQUFvQixlQUFwQixDQUFWO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsc0JBQVUsZUFBVjtBQUNIO0FBQ0QsZUFBTyxPQUFQO0FBQ0g7O0FBOUYrQixDQUF0QixDQUFkOztBQWtHQSxpQkFBUSxJQUFSLENBQWEsUUFBUSxTQUFyQjs7UUFJSSxPLEdBQUEsTyIsImZpbGUiOiI0Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBwaXhp57K+54G15Yqo55S7XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gVXRpbHMgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgb2JzZXJ2ZSB9IGZyb20gJy4uLy4uL29ic2VydmVyL29ic2VydmUnXHJcblxyXG52YXIgYXJyID0gW107XHJcbnZhciBzbGljZSA9IGFyci5zbGljZTtcclxudmFyIGNvbmNhdCA9IGFyci5jb25jYXQ7XHJcblxyXG4vKipcclxuICogcGl4aeexu1xyXG4gKiDlrZDliqjnlLvln7rnsbtcclxuICogQHBhcmFtIHtbdHlwZV19IG9wdGlvbnMgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudmFyIEZhY3RvcnkgPSBYdXQuQ29yZU9iamVjdC5leHRlbmQoe1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyWXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBjYW52YXNSZWxhdGVkIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgcGl4aSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiDmiJDlip/lm57osINcclxuICAgICAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSBjb250ZW50SWQgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WKoOi9veWujOaIkOaehOW7uiBwcHTlrp7kvotcclxuICAgICAgICAgICAgICAgIHBpeGkuJGVtaXQoJ2xvYWQnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICog5aSx6LSl5Zue6LCDXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudElkIFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmFpbENhbGxiYWNrKGNvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgLy/liKDmjonlr7nlupTnmoRjaWTorrDlvZVcclxuICAgICAgICAgICAgICAgIC8vIHZhciBpbmRleCA9ICBjYW52YXNSZWxhdGVkLmNpZC5pbmRleE9mKGNvbnRlbnRJZClcclxuICAgICAgICAgICAgICAgIC8vIGNhbnZhc1JlbGF0ZWQuY2lkLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsQ2FsbGJhY2snKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSlcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmkq3mlL5cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY29tcGxldGVDYWxsYmFjayBb5a6M5oiQ5Zue6LCDXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcGxheVBpeGk6IGZ1bmN0aW9uKGNvbXBsZXRlQ2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNoZWNrVmFsaWRpdHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIC8v5YGc5q2iXHJcbiAgICBzdG9wUGl4aTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1ZhbGlkaXR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+ebuOWFs1xyXG4gICAgZGVzdHJveVBpeGk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tWYWxpZGl0eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4DmtYvmmK/lkKbog73mnInmlYjov5DooYxcclxuICAgICAqIHBpeGnlr7nosaHmmK/lkKbmnInmlYjliqDovb1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjaGVja1ZhbGlkaXR5OiBmdW5jdGlvbihzdWNjZXNzQ2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgZmFpbENpZCA9IHRoaXMuY2FudmFzUmVsYXRlZC5mYWlsQ2lkO1xyXG4gICAgICAgIHZhciBjb250ZW50SWQgPSB0aGlzLmNvbnRlbnRJZDtcclxuICAgICAgICAvL+aXoOaViFxyXG4gICAgICAgIGlmIChmYWlsQ2lkLmxlbmd0aCAmJiAtMSAhPT0gZmFpbENpZC5pbmRleE9mKGNvbnRlbnRJZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+acieaViFxyXG4gICAgICAgIHN1Y2Nlc3NDYWxsYmFjayAmJiBzdWNjZXNzQ2FsbGJhY2suY2FsbCh0aGlzKVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuWbvueJh+WcsOWdgFxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgYW5hbHlzaXNQYXRoOiBmdW5jdGlvbihjb25EYXRhKSB7XHJcbiAgICAgICAgdmFyIHBhdGhJbWcsXHJcbiAgICAgICAgICAgIGltZ0NvbnRlbnQgPSBjb25EYXRhLm1kNSxcclxuICAgICAgICAgICAgLy/mmK9naWbmoLzlvI9cclxuICAgICAgICAgICAgaXNHaWYgPSAvLmdpZiQvaS50ZXN0KGltZ0NvbnRlbnQpLFxyXG4gICAgICAgICAgICAvL+WOn+Wni+WcsOWdgFxyXG4gICAgICAgICAgICBvcmlnaW5hbFBhdGhJbWcgPSBYdXQuY29uZmlnLnBhdGhBZGRyZXNzICsgaW1nQ29udGVudDtcclxuICAgICAgICBpZiAoaXNHaWYpIHtcclxuICAgICAgICAgICAgLy/lpITnkIZnaWblm77niYfnvJPlrZgr6ZqP5py65pWwXHJcbiAgICAgICAgICAgIHBhdGhJbWcgPSBYdXQuY3JlYXRlUmFuZG9tSW1nKG9yaWdpbmFsUGF0aEltZylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoSW1nID0gb3JpZ2luYWxQYXRoSW1nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aEltZztcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxub2JzZXJ2ZS5jYWxsKEZhY3RvcnkucHJvdG90eXBlKTtcclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgRmFjdG9yeVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvcGl4aS9mYWN0b3J5LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 48 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.oneQueue = oneQueue;\nexports.addQueue = addQueue;\nexports.removeQueue = removeQueue;\nexports.destroyQueue = destroyQueue;\nexports.getQueue = getQueue;\n\nvar _index = __webpack_require__(1);\n\n/**\r\n * pixi帧队列控制器\r\n * @param  {[type]} Utils        [description]\r\n * @param  {[type]} Config       [description]\r\n * @param  {[type]} pixiFactory) {               var rAF [description]\r\n * @return {[type]}              [description]\r\n */\n\nvar rAF = function rAF(callback) {\n    return window.setTimeout(callback, 1000 / 10);\n};\n\n//收集绘制内容\nvar rQueue = {};\n\n// $(\"body\").on(\"click\",function(){\n//     console.log(rQueue,Xut.Presentation.GetPageObj())\n// })\n\n/**\r\n * 运动动画\r\n * @param  {[type]} activeIndex [description]\r\n * @return {[type]}             [description]\r\n */\nfunction requestAnimation(activeIndex) {\n    var key, content;\n    var queue = rQueue[activeIndex];\n    var timeout = 0;\n    var state = true;\n    var clern = function clern() {\n        clearTimeout(timeout);\n        timeout = null;\n    };\n    var run = function run() {\n        //如果停止\n        if (!state) {\n            clern();\n            return;\n        }\n        if (rQueue[activeIndex]) {\n            var fns = queue[\"fns\"];\n            //刷新\n            for (key in fns) {\n                fns[key](); //执行刷新\n            }\n            // console.log('runRequestAnimation....',activeIndex, Object.keys(fns).length)\n            timeout = rAF(function () {\n                run();\n            });\n        }\n    };\n    run();\n    //停止刷新\n    this.stop = function () {\n        if (state) {\n            state = false;\n            clern();\n        }\n    };\n    //刷新停止\n    //外部重新激活\n    this.activate = function () {\n        if (!state) {\n            state = true;\n            run();\n        }\n    };\n    return this;\n}\n\n/**\r\n * 检测运行\r\n * @param  {[type]} pageIndex [description]\r\n * @return {[type]}           [description]\r\n */\nfunction checkRun(pageIndex) {\n    // 活动页面索引\n    var activeIndex = Xut.Presentation.GetPageIndex();\n    //激活\n    if (activeIndex === pageIndex) {\n        var queue = rQueue[activeIndex];\n        //去重\n        if (queue.rAF) {\n            queue.rAF.activate();\n        } else {\n            queue.rAF = new requestAnimation(activeIndex);\n        }\n    }\n}\n\n/**\r\n * 用于绘制显示的，特殊处理\r\n * 单独只刷新一次\r\n * @return {[type]} [description]\r\n */\nfunction oneQueue(fn) {\n    var start = +new Date();\n    var timeout;\n    var state = true;\n    var run = function run() {\n        if (!state) {\n            timeout && clearTimeout(timeout);\n        }\n        timeout = rAF(run);\n    };\n    if (+new Date() - start > 100) {\n        state = false;\n        clearTimeout(timeout);\n        timeout = null;\n    }\n}\n\n/**\r\n * 加入绘制队列\r\n * @param {[type]} pageIndex [description]\r\n * @param {[type]} key       [description]\r\n * @param {[type]} value     [description]\r\n */\nfunction addQueue(pageIndex, key, value, type) {\n    // console.log('c',pageIndex,key)\n    if (!rQueue[pageIndex]) {\n        rQueue[pageIndex] = (0, _index.hash)();\n        rQueue[pageIndex]['rAF'] = 0;\n        rQueue[pageIndex]['fns'] = (0, _index.hash)();\n        rQueue[pageIndex]['types'] = (0, _index.hash)();\n        rQueue[pageIndex]['length'] = 0;\n        rQueue[pageIndex]['pageIndex'] = pageIndex;\n    }\n    if (!rQueue[pageIndex]['fns'][key]) {\n        rQueue[pageIndex]['fns'][key] = value;\n        rQueue[pageIndex]['types'][key] = type;\n        ++rQueue[pageIndex]['length'];\n    } else {\n        console.log('rQueue' + key + '已存在');\n    }\n    //开始运行\n    checkRun(pageIndex);\n}\n\n/**\r\n * 移除刷新队列\r\n * @param  {[type]} pageIndex [description]\r\n * @param  {[type]} key       [description]\r\n * @return {[type]}           [description]\r\n */\nfunction removeQueue(pageIndex, key) {\n    if (rQueue[pageIndex] && rQueue[pageIndex]['fns']) {\n        delete rQueue[pageIndex]['fns'][key];\n        delete rQueue[pageIndex]['types'][key];\n        --rQueue[pageIndex]['length'];\n        if (!Object.keys(rQueue[pageIndex]['fns']).length) {\n            if (rQueue[pageIndex].rAF) {\n                rQueue[pageIndex].rAF.stop();\n            }\n        }\n    } else {\n        console.log('删除的页面不存在');\n    }\n}\n\n/**\r\n * 销毁\r\n * @return {[type]} [description]\r\n */\nfunction destroyQueue(pageIndex) {\n    if (rQueue[pageIndex]) {\n        if (rQueue[pageIndex].rAF) {\n            rQueue[pageIndex].rAF.stop();\n        }\n        if (!Object.keys(rQueue[pageIndex]['fns']).length) {\n            delete rQueue[pageIndex];\n        }\n    }\n}\n\n/**\r\n * 查询队列\r\n * @return {[type]} [description]\r\n */\nfunction getQueue() {\n    return rQueue;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL3F1ZXVlLmpzPzJjMGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUEwR2dCLFEsR0FBQSxRO1FBdUJBLFEsR0FBQSxRO1FBMkJBLFcsR0FBQSxXO1FBbUJBLFksR0FBQSxZO1FBZUEsUSxHQUFBLFE7O0FBOUxoQjs7Ozs7Ozs7OztBQWNBLElBQUksTUFBTSxTQUFOLEdBQU0sQ0FBUyxRQUFULEVBQW1CO0FBQ3pCLFdBQU8sT0FBTyxVQUFQLENBQWtCLFFBQWxCLEVBQTRCLE9BQU8sRUFBbkMsQ0FBUDtBQUNILENBRkQ7OztBQU1BLElBQUksU0FBUyxFQUFiOzs7Ozs7Ozs7OztBQVdBLFNBQVMsZ0JBQVQsQ0FBMEIsV0FBMUIsRUFBdUM7QUFDbkMsUUFBSSxHQUFKLEVBQVMsT0FBVDtBQUNBLFFBQUksUUFBUSxPQUFPLFdBQVAsQ0FBWjtBQUNBLFFBQUksVUFBVSxDQUFkO0FBQ0EsUUFBSSxRQUFRLElBQVo7QUFDQSxRQUFJLFFBQVEsU0FBUixLQUFRLEdBQVc7QUFDbkIscUJBQWEsT0FBYjtBQUNBLGtCQUFVLElBQVY7QUFDSCxLQUhEO0FBSUEsUUFBSSxNQUFNLFNBQU4sR0FBTSxHQUFXOztBQUVqQixZQUFJLENBQUMsS0FBTCxFQUFZO0FBQ1I7QUFDQTtBQUNIO0FBQ0QsWUFBSSxPQUFPLFdBQVAsQ0FBSixFQUF5QjtBQUNyQixnQkFBSSxNQUFNLE1BQU0sS0FBTixDQUFWOztBQUVBLGlCQUFLLEdBQUwsSUFBWSxHQUFaLEVBQWlCO0FBQ2Isb0JBQUksR0FBSixJO0FBQ0g7O0FBRUQsc0JBQVUsSUFBSSxZQUFXO0FBQ3JCO0FBQ0gsYUFGUyxDQUFWO0FBR0g7QUFDSixLQWpCRDtBQWtCQTs7QUFFQSxTQUFLLElBQUwsR0FBWSxZQUFXO0FBQ2YsWUFBSSxLQUFKLEVBQVc7QUFDUCxvQkFBUSxLQUFSO0FBQ0E7QUFDSDtBQUNKLEtBTEw7OztBQVFBLFNBQUssUUFBTCxHQUFnQixZ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QUNIO0FBQ0o7Ozs7OztBQU1NLFNBQVMsWUFBVCxDQUFzQixTQUF0QixFQUFpQztBQUNwQyxRQUFJLE9BQU8sU0FBUCxDQUFKLEVBQXVCO0FBQ25CLFlBQUksT0FBTyxTQUFQLEVBQWtCLEdBQXRCLEVBQTJCO0FBQ3ZCLG1CQUFPLFNBQVAsRUFBa0IsR0FBbEIsQ0FBc0IsSUFBdEI7QUFDSDtBQUNELFlBQUksQ0FBQyxPQUFPLElBQVAsQ0FBWSxPQUFPLFNBQVAsRUFBa0IsS0FBbEIsQ0FBWixFQUFzQyxNQUEzQyxFQUFtRDtBQUMvQyxtQkFBTyxPQUFPLFNBQVAsQ0FBUDtBQUNIO0FBQ0o7QUFDSjs7Ozs7O0FBTU0sU0FBUyxRQUFULEdBQW9CO0FBQ3ZCLFdBQU8sTUFBUDtBQUNIIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIGhhc2hcclxufVxyXG5mcm9tICcuLi8uLi91dGlsL2luZGV4J1xyXG5cclxuXHJcbi8qKlxyXG4gKiBwaXhp5bin6Zif5YiX5o6n5Yi25ZmoXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gVXRpbHMgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBDb25maWcgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHBpeGlGYWN0b3J5KSB7ICAgICAgICAgICAgICAgdmFyIHJBRiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG52YXIgckFGID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDEwKTtcclxufTtcclxuXHJcblxyXG4vL+aUtumbhue7mOWItuWGheWuuVxyXG52YXIgclF1ZXVlID0ge307XHJcblxyXG4vLyAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtcclxuLy8gICAgIGNvbnNvbGUubG9nKHJRdWV1ZSxYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VPYmooKSlcclxuLy8gfSlcclxuXHJcbi8qKlxyXG4gKiDov5DliqjliqjnlLtcclxuICogQHBhcmFtICB7W3R5cGVdfSBhY3RpdmVJbmRleCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbihhY3RpdmVJbmRleCkge1xyXG4gICAgdmFyIGtleSwgY29udGVudDtcclxuICAgIHZhciBxdWV1ZSA9IHJRdWV1ZVthY3RpdmVJbmRleF07XHJcbiAgICB2YXIgdGltZW91dCA9IDA7XHJcbiAgICB2YXIgc3RhdGUgPSB0cnVlXHJcbiAgICB2YXIgY2xlcm4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcclxuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIHZhciBydW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+WmguaenOWBnOatolxyXG4gICAgICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICAgICAgY2xlcm4oKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyUXVldWVbYWN0aXZlSW5kZXhdKSB7XHJcbiAgICAgICAgICAgIHZhciBmbnMgPSBxdWV1ZVtcImZuc1wiXTtcclxuICAgICAgICAgICAgLy/liLfmlrBcclxuICAgICAgICAgICAgZm9yIChrZXkgaW4gZm5zKSB7XHJcbiAgICAgICAgICAgICAgICBmbnNba2V5XSgpOyAvL+aJp+ihjOWIt+aWsFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdydW5SZXF1ZXN0QW5pbWF0aW9uLi4uLicsYWN0aXZlSW5kZXgsIE9iamVjdC5rZXlzKGZucykubGVuZ3RoKVxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gckFGKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcnVuKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBydW4oKTtcclxuICAgIC8v5YGc5q2i5Yi35pawXHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBjbGVybigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/liLfmlrDlgZzmraJcclxuICAgICAgICAvL+WklumDqOmHjeaWsOa/gOa0u1xyXG4gICAgdGhpcy5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSB0cnVlXHJcbiAgICAgICAgICAgIHJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOajgOa1i+i/kOihjFxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VJbmRleCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrUnVuKHBhZ2VJbmRleCkge1xyXG4gICAgLy8g5rS75Yqo6aG16Z2i57Si5byVXHJcbiAgICB2YXIgYWN0aXZlSW5kZXggPSBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VJbmRleCgpO1xyXG4gICAgLy/mv4DmtLtcclxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gcGFnZUluZGV4KSB7XHJcbiAgICAgICAgdmFyIHF1ZXVlID0gclF1ZXVlW2FjdGl2ZUluZGV4XTtcclxuICAgICAgICAvL+WOu+mHjVxyXG4gICAgICAgIGlmIChxdWV1ZS5yQUYpIHtcclxuICAgICAgICAgICAgcXVldWUuckFGLmFjdGl2YXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXVldWUuckFGID0gbmV3IHJlcXVlc3RBbmltYXRpb24oYWN0aXZlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIOeUqOS6jue7mOWItuaYvuekuueahO+8jOeJueauiuWkhOeQhlxyXG4gKiDljZXni6zlj6rliLfmlrDkuIDmrKFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gb25lUXVldWUoZm4pIHtcclxuICAgIHZhciBzdGFydCA9ICgrbmV3IERhdGUoKSk7XHJcbiAgICB2YXIgdGltZW91dDtcclxuICAgIHZhciBzdGF0ZSA9IHRydWVcclxuICAgIHZhciBydW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpbWVvdXQgPSByQUYocnVuKVxyXG4gICAgfVxyXG4gICAgaWYgKCgrbmV3IERhdGUoKSkgLSBzdGFydCA+IDEwMCkge1xyXG4gICAgICAgIHN0YXRlID0gZmFsc2VcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcclxuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWKoOWFpee7mOWItumYn+WIl1xyXG4gKiBAcGFyYW0ge1t0eXBlXX0gcGFnZUluZGV4IFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHtbdHlwZV19IGtleSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB7W3R5cGVdfSB2YWx1ZSAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFF1ZXVlKHBhZ2VJbmRleCwga2V5LCB2YWx1ZSwgdHlwZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2MnLHBhZ2VJbmRleCxrZXkpXHJcbiAgICBpZiAoIXJRdWV1ZVtwYWdlSW5kZXhdKSB7XHJcbiAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF0gPSBoYXNoKCk7XHJcbiAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF1bJ3JBRiddID0gMDtcclxuICAgICAgICByUXVldWVbcGFnZUluZGV4XVsnZm5zJ10gPSBoYXNoKCk7XHJcbiAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF1bJ3R5cGVzJ10gPSBoYXNoKCk7XHJcbiAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF1bJ2xlbmd0aCddID0gMDtcclxuICAgICAgICByUXVldWVbcGFnZUluZGV4XVsncGFnZUluZGV4J10gPSBwYWdlSW5kZXg7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJRdWV1ZVtwYWdlSW5kZXhdWydmbnMnXVtrZXldKSB7XHJcbiAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF1bJ2ZucyddW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICByUXVldWVbcGFnZUluZGV4XVsndHlwZXMnXVtrZXldID0gdHlwZVxyXG4gICAgICAgICAgICArK3JRdWV1ZVtwYWdlSW5kZXhdWydsZW5ndGgnXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnclF1ZXVlJyArIGtleSArICflt7LlrZjlnKgnKVxyXG4gICAgfVxyXG4gICAgLy/lvIDlp4vov5DooYxcclxuICAgIGNoZWNrUnVuKHBhZ2VJbmRleClcclxufVxyXG5cclxuLyoqXHJcbiAqIOenu+mZpOWIt+aWsOmYn+WIl1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VJbmRleCBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0ga2V5ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVF1ZXVlKHBhZ2VJbmRleCwga2V5KSB7XHJcbiAgICBpZiAoclF1ZXVlW3BhZ2VJbmRleF0gJiYgclF1ZXVlW3BhZ2VJbmRleF1bJ2ZucyddKSB7XHJcbiAgICAgICAgZGVsZXRlIHJRdWV1ZVtwYWdlSW5kZXhdWydmbnMnXVtrZXldXHJcbiAgICAgICAgZGVsZXRlIHJRdWV1ZVtwYWdlSW5kZXhdWyd0eXBlcyddW2tleV1cclxuICAgICAgICAgICAgLS1yUXVldWVbcGFnZUluZGV4XVsnbGVuZ3RoJ11cclxuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHJRdWV1ZVtwYWdlSW5kZXhdWydmbnMnXSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChyUXVldWVbcGFnZUluZGV4XS5yQUYpIHtcclxuICAgICAgICAgICAgICAgIHJRdWV1ZVtwYWdlSW5kZXhdLnJBRi5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfliKDpmaTnmoTpobXpnaLkuI3lrZjlnKgnKVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog6ZSA5q+BXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lRdWV1ZShwYWdlSW5kZXgpIHtcclxuICAgIGlmIChyUXVldWVbcGFnZUluZGV4XSkge1xyXG4gICAgICAgIGlmIChyUXVldWVbcGFnZUluZGV4XS5yQUYpIHtcclxuICAgICAgICAgICAgclF1ZXVlW3BhZ2VJbmRleF0uckFGLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhyUXVldWVbcGFnZUluZGV4XVsnZm5zJ10pLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBkZWxldGUgclF1ZXVlW3BhZ2VJbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5p+l6K+i6Zif5YiXXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXVlKCkge1xyXG4gICAgcmV0dXJuIHJRdWV1ZTtcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L3BpeGkvcXVldWUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 49 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nexports.seniorManage = seniorManage;\n\nvar _dom = __webpack_require__(11);\n\nvar _spirite = __webpack_require__(50);\n\n/**\r\n * 精灵动画合集\r\n * @type {Object}\r\n */\nvar spiritObjs = {};\n\n/**\r\n * 获取对象id\r\n * @param  {[type]} inputPara     [description]\r\n * @param  {[type]} contentPrefix [description]\r\n * @return {[type]}               [description]\r\n */\nvar getId = function getId(inputPara, contentPrefix) {\n    var id = '';\n    if ((typeof inputPara === 'undefined' ? 'undefined' : _typeof(inputPara)) == \"object\") {\n        id = contentPrefix + inputPara.framId;\n    } else {\n        id = inputPara;\n    }\n    return id;\n};\n\n//初始化\nvar createSpirit = function createSpirit(id, inputPara, contentPrefix, path) {\n    if (!spiritObjs[id]) {\n        spiritObjs[id] = new _spirite.spiritAni(inputPara, contentPrefix, path);\n    } else {\n        console.log('创建高级精灵已存在');\n    }\n};\n\n/**\r\n * 高级精灵动画\r\n * @param  {[type]} data        [description]\r\n * @param  {[type]} contentObjs [description]\r\n * @return {[type]}             [description]\r\n */\nfunction seniorManage(inputPara, contents) {\n\n    var id, para, i, contentPrefix, xhr;\n\n    //合集对象\n    //拿到对象的引用\n    this.combineId = [];\n\n    this.inputPara = inputPara;\n    this.resourcePath = \"content/widget/gallery/\" + inputPara.id + \"/\";\n\n    contentPrefix = inputPara.contentPrefix;\n\n    xhr = new XMLHttpRequest();\n    xhr.open('GET', this.resourcePath + 'app.json', false);\n    xhr.send(null);\n\n    //解析零件数据\n    this.option = (0, _dom.execJson)(xhr.responseText);\n\n    //生成零件对象爱\n    for (i = 0; i < this.option.spiritList.length; i++) {\n        para = this.option.spiritList[i];\n        id = getId(para, contentPrefix);\n        this.combineId.push(id);\n        createSpirit(id, para, contentPrefix, this.ResourcePath);\n    }\n}\n\nseniorManage.prototype = {\n    //销毁\n    destroy: function destroy() {\n        var obj;\n        this.combineId.forEach(function (id) {\n            obj = spiritObjs[id];\n            if (obj) {\n                obj.destroy();\n                spiritObjs[id] = null;\n                delete spiritObjs[id];\n            } else {\n                console.log('精灵动画销毁错误');\n            }\n        });\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL3NwaXJpdGVzZW5pb3IvbWFuYWdlLmpzP2YxYjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7UUE0Q2dCLFksR0FBQSxZOztBQTVDaEI7O0FBQ0E7Ozs7OztBQU9BLElBQUksYUFBYSxFQUFqQjs7Ozs7Ozs7QUFTQSxJQUFJLFFBQVEsU0FBUixLQUFRLENBQVMsU0FBVCxFQUFvQixhQUFwQixFQUFtQztBQUMzQyxRQUFJLEtBQUssRUFBVDtBQUNBLFFBQUksUUFBTyxTQUFQLHlDQUFPLFNBQVAsTUFBb0IsUUFBeEIsRUFBa0M7QUFDOUIsYUFBSyxnQkFBZ0IsVUFBVSxNQUEvQjtBQUNILEtBRkQsTUFFTztBQUNILGFBQUssU0FBTDtBQUNIO0FBQ0QsV0FBTyxFQUFQO0FBQ0gsQ0FSRDs7O0FBWUEsSUFBSSxlQUFlLFNBQWYsWUFBZSxDQUFTLEVBQVQsRUFBYSxTQUFiLEVBQXdCLGFBQXhCLEVBQXVDLElBQXZDLEVBQTZDO0FBQzVELFFBQUksQ0FBQyxXQUFXLEVBQVgsQ0FBTCxFQUFxQjtBQUNqQixtQkFBVyxFQUFYLElBQWlCLHVCQUFjLFNBQWQsRUFBeUIsYUFBekIsRUFBd0MsSUFBeEMsQ0FBakI7QUFDSCxLQUZELE1BRU87QUFDSCxnQkFBUSxHQUFSLENBQVksV0FBWjtBQUNIO0FBQ0osQ0FORDs7Ozs7Ozs7QUFlTyxTQUFTLFlBQVQsQ0FBc0IsU0FBdEIsRUFBaUMsUUFBakMsRUFBMkM7O0FBRTlDLFFBQUksRUFBSixFQUFRLElBQVIsRUFBYyxDQUFkLEVBQWlCLGFBQWpCLEVBQWdDLEdBQWhDOzs7O0FBSUEsU0FBSyxTQUFMLEdBQWlCLEVBQWpCOztBQUVBLFNBQUssU0FBTCxHQUFpQixTQUFqQjtBQUNBLFNBQUssWUFBTCxHQUFvQiw0QkFBNEIsVUFBVSxFQUF0QyxHQUEyQyxHQUEvRDs7QUFFQSxvQkFBZ0IsVUFBVSxhQUExQjs7QUFFQSxVQUFNLElBQUksY0FBSixFQUFOO0FBQ0EsUUFBSSxJQUFKLENBQVMsS0FBVCxFQUFnQixLQUFLLFlBQUwsR0FBb0IsVUFBcEMsRUFBZ0QsS0FBaEQ7QUFDQSxRQUFJLElBQUosQ0FBUyxJQUFUOzs7QUFHQSxTQUFLLE1BQUwsR0FBYyxtQkFBUyxJQUFJLFlBQWIsQ0FBZDs7O0FBR0EsU0FBSyxJQUFJLENBQVQsRUFBWSxJQUFJLEtBQUssTUFBTCxDQUFZLFVBQVosQ0FBdUIsTUFBdkMsRUFBK0MsR0FBL0MsRUFBb0Q7QUFDaEQsZUFBTyxLQUFLLE1BQUwsQ0FBWSxVQUFaLENBQXVCLENBQXZCLENBQVA7QUFDQSxhQUFLLE1BQU0sSUFBTixFQUFZLGFBQVosQ0FBTDtBQUNBLGFBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsRUFBcEI7QUFDQSxxQkFBYSxFQUFiLEVBQWlCLElBQWpCLEVBQXVCLGFBQXZCLEVBQXNDLEtBQUssWUFBM0M7QUFDSDtBQUVKOztBQUdELGFBQWEsU0FBYixHQUF5Qjs7QUFFckIsYUFBUyxtQkFBVztBQUNoQixZQUFJLEdBQUo7QUFDQSxhQUFLLFNBQUwsQ0FBZSxPQUFmLENBQXVCLFVBQVMsRUFBVCxFQUFhO0FBQ2hDLGtCQUFNLFdBQVcsRUFBWCxDQUFOO0FBQ0EsZ0JBQUksR0FBSixFQUFTO0FBQ0wsb0JBQUksT0FBSjtBQUNBLDJCQUFXLEVBQVgsSUFBaUIsSUFBakI7QUFDQSx1QkFBTyxXQUFXLEVBQVgsQ0FBUDtBQUNILGFBSkQsTUFJTztBQUNILHdCQUFRLEdBQVIsQ0FBWSxVQUFaO0FBQ0g7QUFDSixTQVREO0FBVUg7QUFkb0IsQ0FBekIiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjSnNvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWwvZG9tJ1xyXG5pbXBvcnQgeyBzcGlyaXRBbmkgfSBmcm9tICcuL3NwaXJpdGUnXHJcblxyXG5cclxuLyoqXHJcbiAqIOeyvueBteWKqOeUu+WQiOmbhlxyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cclxubGV0IHNwaXJpdE9ianMgPSB7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiDojrflj5blr7nosaFpZFxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGlucHV0UGFyYSAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGNvbnRlbnRQcmVmaXggW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxubGV0IGdldElkID0gZnVuY3Rpb24oaW5wdXRQYXJhLCBjb250ZW50UHJlZml4KSB7XHJcbiAgICB2YXIgaWQgPSAnJztcclxuICAgIGlmICh0eXBlb2YgaW5wdXRQYXJhID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBpZCA9IGNvbnRlbnRQcmVmaXggKyBpbnB1dFBhcmEuZnJhbUlkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZCA9IGlucHV0UGFyYTtcclxuICAgIH1cclxuICAgIHJldHVybiBpZFxyXG59XHJcblxyXG5cclxuLy/liJ3lp4vljJZcclxubGV0IGNyZWF0ZVNwaXJpdCA9IGZ1bmN0aW9uKGlkLCBpbnB1dFBhcmEsIGNvbnRlbnRQcmVmaXgsIHBhdGgpIHtcclxuICAgIGlmICghc3Bpcml0T2Jqc1tpZF0pIHtcclxuICAgICAgICBzcGlyaXRPYmpzW2lkXSA9IG5ldyBzcGlyaXRBbmkoaW5wdXRQYXJhLCBjb250ZW50UHJlZml4LCBwYXRoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn5Yib5bu66auY57qn57K+54G15bey5a2Y5ZyoJylcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDpq5jnuqfnsr7ngbXliqjnlLtcclxuICogQHBhcmFtICB7W3R5cGVdfSBkYXRhICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudE9ianMgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5pb3JNYW5hZ2UoaW5wdXRQYXJhLCBjb250ZW50cykge1xyXG5cclxuICAgIHZhciBpZCwgcGFyYSwgaSwgY29udGVudFByZWZpeCwgeGhyO1xyXG5cclxuICAgIC8v5ZCI6ZuG5a+56LGhXHJcbiAgICAvL+aLv+WIsOWvueixoeeahOW8leeUqFxyXG4gICAgdGhpcy5jb21iaW5lSWQgPSBbXVxyXG5cclxuICAgIHRoaXMuaW5wdXRQYXJhID0gaW5wdXRQYXJhO1xyXG4gICAgdGhpcy5yZXNvdXJjZVBhdGggPSBcImNvbnRlbnQvd2lkZ2V0L2dhbGxlcnkvXCIgKyBpbnB1dFBhcmEuaWQgKyBcIi9cIlxyXG5cclxuICAgIGNvbnRlbnRQcmVmaXggPSBpbnB1dFBhcmEuY29udGVudFByZWZpeFxyXG5cclxuICAgIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMucmVzb3VyY2VQYXRoICsgJ2FwcC5qc29uJywgZmFsc2UpO1xyXG4gICAgeGhyLnNlbmQobnVsbCk7XHJcblxyXG4gICAgLy/op6PmnpDpm7bku7bmlbDmja5cclxuICAgIHRoaXMub3B0aW9uID0gZXhlY0pzb24oeGhyLnJlc3BvbnNlVGV4dCk7XHJcblxyXG4gICAgLy/nlJ/miJDpm7bku7blr7nosaHniLFcclxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLm9wdGlvbi5zcGlyaXRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcGFyYSA9IHRoaXMub3B0aW9uLnNwaXJpdExpc3RbaV1cclxuICAgICAgICBpZCA9IGdldElkKHBhcmEsIGNvbnRlbnRQcmVmaXgpXHJcbiAgICAgICAgdGhpcy5jb21iaW5lSWQucHVzaChpZClcclxuICAgICAgICBjcmVhdGVTcGlyaXQoaWQsIHBhcmEsIGNvbnRlbnRQcmVmaXgsIHRoaXMuUmVzb3VyY2VQYXRoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5zZW5pb3JNYW5hZ2UucHJvdG90eXBlID0ge1xyXG4gICAgLy/plIDmr4FcclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvYmpcclxuICAgICAgICB0aGlzLmNvbWJpbmVJZC5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IHNwaXJpdE9ianNbaWRdO1xyXG4gICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouZGVzdHJveSgpXHJcbiAgICAgICAgICAgICAgICBzcGlyaXRPYmpzW2lkXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgc3Bpcml0T2Jqc1tpZF1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnsr7ngbXliqjnlLvplIDmr4HplJnor68nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L3BpeGkvc3Bpcml0ZXNlbmlvci9tYW5hZ2UuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 50 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 高级精灵动画\r\n */\n\nvar spiritAni = function spiritAni(data, contentPrefix, path) {\n    this.resType = 1;\n    this.data = data;\n    this.contentPrefix = contentPrefix;\n    this.curFPS = 0;\n    this.timer = null;\n    this.loop = 1;\n    this.curLoop = 1;\n    if (this.playerType == \"loop\") {\n        this.loop = 0;\n    }\n    this.action = this.data.params[\"actList\"].split(\",\")[0];\n    this.fps = parseInt(this.data.params[this.action].fps);\n    this.playerType = this.data.params[this.action].playerType;\n    this.isSports = parseInt(this.data.params[this.action].isSports);\n    this.imageList = this.data.params[this.action].ImageList;\n    this.obj = $(\"#\" + this.contentPrefix + this.data.framId);\n    this.FPSCount = this.imageList.length;\n    this.resourcePath = path;\n    this.imgArray = [];\n};\n\nvar p = spiritAni.prototype;\n\np.init = function () {\n    if (this.isSports) {\n        this.cutInit();\n    } else {\n        this.switchInit();\n    }\n};\n\n/**\r\n * 停止动画\r\n * @return {[type]} [description]\r\n */\np.stop = function () {\n    clearTimeout(this.timer);\n};\n\n/**\r\n * 销毁动画\r\n * @return {[type]} [description]\r\n */\np.destroy = function () {\n    console.log('销毁');\n};\n\nexports.spiritAni = spiritAni;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL3NwaXJpdGVzZW5pb3Ivc3Bpcml0ZS5qcz80MmMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUksWUFBWSxTQUFaLFNBQVksQ0FBUyxJQUFULEVBQWUsYUFBZixFQUE4QixJQUE5QixFQUFvQztBQUNoRCxTQUFLLE9BQUwsR0FBZSxDQUFmO0FBQ0EsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssYUFBTCxHQUFxQixhQUFyQjtBQUNBLFNBQUssTUFBTCxHQUFjLENBQWQ7QUFDQSxTQUFLLEtBQUwsR0FBYSxJQUFiO0FBQ0EsU0FBSyxJQUFMLEdBQVksQ0FBWjtBQUNBLFNBQUssT0FBTCxHQUFlLENBQWY7QUFDQSxRQUFJLEtBQUssVUFBTCxJQUFtQixNQUF2QixFQUErQjtBQUMzQixhQUFLLElBQUwsR0FBWSxDQUFaO0FBQ0g7QUFDRCxTQUFLLE1BQUwsR0FBb0IsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixTQUFqQixFQUE0QixLQUE1QixDQUFrQyxHQUFsQyxFQUF1QyxDQUF2QyxDQUFwQjtBQUNBLFNBQUssR0FBTCxHQUFvQixTQUFTLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBSyxNQUF0QixFQUE4QixHQUF2QyxDQUFwQjtBQUNBLFNBQUssVUFBTCxHQUFxQixLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQUssTUFBdEIsRUFBOEIsVUFBbkQ7QUFDQSxTQUFLLFFBQUwsR0FBb0IsU0FBUyxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQUssTUFBdEIsRUFBOEIsUUFBdkMsQ0FBcEI7QUFDQSxTQUFLLFNBQUwsR0FBb0IsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFLLE1BQXRCLEVBQThCLFNBQWxEO0FBQ0EsU0FBSyxHQUFMLEdBQW9CLEVBQUUsTUFBTSxLQUFLLGFBQVgsR0FBMkIsS0FBSyxJQUFMLENBQVUsTUFBdkMsQ0FBcEI7QUFDQSxTQUFLLFFBQUwsR0FBb0IsS0FBSyxTQUFMLENBQWUsTUFBbkM7QUFDQSxTQUFLLFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxTQUFLLFFBQUwsR0FBb0IsRUFBcEI7QUFFSCxDQXJCRDs7QUF1QkEsSUFBSSxJQUFJLFVBQVUsU0FBbEI7O0FBR0EsRUFBRSxJQUFGLEdBQVMsWUFBVztBQUNoQixRQUFJLEtBQUssUUFBVCxFQUFtQjtBQUNmLGFBQUssT0FBTDtBQUNILEtBRkQsTUFFTztBQUNILGFBQUssVUFBTDtBQUNIO0FBQ0osQ0FORDs7Ozs7O0FBYUEsRUFBRSxJQUFGLEdBQVMsWUFBVztBQUNoQixpQkFBYSxLQUFLLEtBQWxCO0FBQ0gsQ0FGRDs7Ozs7O0FBU0EsRUFBRSxPQUFGLEdBQVksWUFBVztBQUNuQixZQUFRLEdBQVIsQ0FBWSxJQUFaO0FBQ0gsQ0FGRDs7UUFLUyxTLEdBQUEsUyIsImZpbGUiOiI1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpq5jnuqfnsr7ngbXliqjnlLtcclxuICovXHJcblxyXG52YXIgc3Bpcml0QW5pID0gZnVuY3Rpb24oZGF0YSwgY29udGVudFByZWZpeCwgcGF0aCkge1xyXG4gICAgdGhpcy5yZXNUeXBlID0gMTtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLmNvbnRlbnRQcmVmaXggPSBjb250ZW50UHJlZml4O1xyXG4gICAgdGhpcy5jdXJGUFMgPSAwO1xyXG4gICAgdGhpcy50aW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmxvb3AgPSAxO1xyXG4gICAgdGhpcy5jdXJMb29wID0gMTtcclxuICAgIGlmICh0aGlzLnBsYXllclR5cGUgPT0gXCJsb29wXCIpIHtcclxuICAgICAgICB0aGlzLmxvb3AgPSAwXHJcbiAgICB9XHJcbiAgICB0aGlzLmFjdGlvbiAgICAgICA9IHRoaXMuZGF0YS5wYXJhbXNbXCJhY3RMaXN0XCJdLnNwbGl0KFwiLFwiKVswXTtcclxuICAgIHRoaXMuZnBzICAgICAgICAgID0gcGFyc2VJbnQodGhpcy5kYXRhLnBhcmFtc1t0aGlzLmFjdGlvbl0uZnBzKTtcclxuICAgIHRoaXMucGxheWVyVHlwZSAgID0gKHRoaXMuZGF0YS5wYXJhbXNbdGhpcy5hY3Rpb25dLnBsYXllclR5cGUpO1xyXG4gICAgdGhpcy5pc1Nwb3J0cyAgICAgPSBwYXJzZUludCh0aGlzLmRhdGEucGFyYW1zW3RoaXMuYWN0aW9uXS5pc1Nwb3J0cyk7XHJcbiAgICB0aGlzLmltYWdlTGlzdCAgICA9IHRoaXMuZGF0YS5wYXJhbXNbdGhpcy5hY3Rpb25dLkltYWdlTGlzdDtcclxuICAgIHRoaXMub2JqICAgICAgICAgID0gJChcIiNcIiArIHRoaXMuY29udGVudFByZWZpeCArIHRoaXMuZGF0YS5mcmFtSWQpO1xyXG4gICAgdGhpcy5GUFNDb3VudCAgICAgPSB0aGlzLmltYWdlTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLnJlc291cmNlUGF0aCA9IHBhdGg7XHJcbiAgICB0aGlzLmltZ0FycmF5ICAgICA9IFtdXHJcblxyXG59XHJcblxyXG52YXIgcCA9IHNwaXJpdEFuaS5wcm90b3R5cGU7XHJcblxyXG5cclxucC5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5pc1Nwb3J0cykge1xyXG4gICAgICAgIHRoaXMuY3V0SW5pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnN3aXRjaEluaXQoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlgZzmraLliqjnlLtcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5wLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDplIDmr4HliqjnlLtcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5wLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKCfplIDmr4EnKVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHsgc3Bpcml0QW5pIH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL3NwaXJpdGVzZW5pb3Ivc3Bpcml0ZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 51 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Sprite = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\r\n                                                                                                                                                                                                                                                   * pixi精灵动画\r\n                                                                                                                                                                                                                                                   * @param  {[type]} Utils   [description]\r\n                                                                                                                                                                                                                                                   * @param  {[type]} Config) {}          [description]\r\n                                                                                                                                                                                                                                                   * @return {[type]}         [description]\r\n                                                                                                                                                                                                                                                   */\n\nvar _factory = __webpack_require__(47);\n\n/**\r\n * 精灵动画\r\n * @param  {[type]} data          [description]\r\n * @param  {[type]} canvasRelated [description]\r\n * @return {[type]}               [description]\r\n */\nvar Sprite = _factory.Factory.extend({\n\n    /**\r\n     * 初始化\r\n     * @param  {[type]} data          [description]\r\n     * @param  {[type]} canvasRelated [description]\r\n     * @return {[type]}               [description]\r\n     */\n    constructor: function constructor(successCallback, failCallback, data, canvasRelated) {\n\n        var self = this;\n        this.data = data;\n        this.canvasRelated = canvasRelated;\n        //id标示\n        //可以用来过滤失败的pixi对象\n        this.contentId = data._id;\n\n        //精灵场景容器\n        var spriteTtage = new PIXI.Container();\n        //加入场景容器\n        canvasRelated.addChild(spriteTtage);\n\n        //矩形图\n        var imgUrl = this.analysisPath(data);\n        var imageFilename = imgUrl.replace(/^.*[\\\\\\/]/, '');\n\n        //support both png and jpg+mask\n        var maskFilename = \"mask_\" + imageFilename;\n        var imageextension = imgUrl.split('.').pop();\n        var maskUrl = imgUrl.replace('.jpg', '_mask.png');\n\n        //保证和以前版本的兼容性，旧版本精灵只有一行，因此没有matrix参数\n        var matrixCols = data.thecount;\n        var matrixRows = 1;\n        if (data.parameter) {\n            //获取参数, 允许参数为null\n            try {\n                var paraObject = JSON.parse(data.parameter);\n            } catch (err) {\n                console.log('content parameter error');\n                return;\n            }\n            var dataMatrix = paraObject.matrix;\n            var matrixs = dataMatrix.split(\"-\");\n            matrixCols = matrixs[0];\n            matrixRows = matrixs[1];\n        }\n\n        var jsonUrl = \"lib/data/spritesheet.json\" + \"?imageurl=\" + imgUrl + \"&cols=\" + matrixCols + \"&rows=\" + matrixRows + \"&total=\" + data.thecount + \"&fps=\" + data.fps;\n        var movie;\n        var contentId = this.contentId;\n\n        //这里我们动态创建loader，加载完资源之后，就删除了。因此呢，也就没有缓存资源的情况了\n        //我觉得这样似乎更好。因为我们整本书的动画很多，如果所有资源都缓存下来，可能内存消耗极大\n        //现在这样每页动态创建，不加缓存，虽然性能上稍微差了一些，但是应该能够节省很多的内存\n        var loader = new PIXI.loaders.Loader();\n        if ('png' == imageextension) {\n            loader.add(imageFilename, jsonUrl).load(onAssetsLoaded);\n        } else {\n            var maskJsonUrl = \"lib/data/spritesheet.json\" + \"?imageurl=\" + maskUrl + \"&cols=\" + matrixCols + \"&rows=\" + matrixRows + \"&total=\" + data.thecount + \"&fps=\" + data.fps;\n            loader.add(imageFilename, jsonUrl).add(maskFilename, maskJsonUrl).load(onAssetsLoaded);\n        }\n        loader = null;\n\n        function onAssetsLoaded(loader, res) {\n\n            //资源加载失败\n            // if (arguments[1] && Object.keys(arguments[1]).length < 2) {\n            //     failCallback(contentId);\n            //     return\n            // }\n\n            //zhangyun, get the name of spritesheet\n            var textures = [];\n            var maskTextures = [];\n            //create textures array from res's textures object\n            var resObject, maskObject;\n            if (\"object\" == (typeof res === 'undefined' ? 'undefined' : _typeof(res))) {\n                //首次加载\n                resObject = res[Object.keys(res)[0]];\n            } else {\n                //重复加载时，传递的是字符串参数\n                //实际上这个分支没用到，如果需要处理缓存，则需要用到，现在我们没有缓存\n                resObject = PIXI.loader.resources[res];\n            }\n\n            //var resTextures = resObject.textures;\n            textures = Object.keys(resObject.textures).map(function (k) {\n                return resObject.textures[k];\n            });\n\n            //get fps\n            var fps = parseInt(resObject.url.split(\"fps=\")[1]);\n\n            movie = new PIXI.extras.MovieClip(textures);\n            movie.width = data.scaleWidth;\n            movie.height = data.scaleHeight;\n            movie.position.x = data.scaleLeft;\n            movie.position.y = data.scaleTop;\n\n            //if there are masks, make mask textures;\n            var imageextension = resObject.name.split('.').pop();\n            if (\"jpg\" == imageextension) {\n                var maskObject = res[Object.keys(res)[1]];\n\n                maskTextures = Object.keys(maskObject.textures).map(function (k) {\n                    return maskObject.textures[k];\n                });\n                movie.maskTextures = maskTextures;\n                spriteTtage.addChild(movie.maskSprite);\n            }\n\n            //动画速率\n            movie.animationSpeed = 0.15 * fps / 10;\n            movie.play();\n            spriteTtage.addChild(movie);\n\n            self.movie = movie;\n\n            //加载完毕\n            successCallback(contentId);\n        }\n    },\n\n    /**\r\n     * 运行动画\r\n     * @return {[type]} [description]\r\n     */\n    play: function play() {\n        //绘制页面\n        this.uuid = this.canvasRelated.play('sprite');\n    },\n\n    /**\r\n     * 停止动画\r\n     * @return {[type]} [description]\r\n     */\n    stop: function stop() {\n        this.canvasRelated.stop(this.uuid);\n    },\n\n    /**\r\n     * 销毁动画\r\n     * @return {[type]} [description]\r\n     */\n    destroy: function destroy() {\n        //if there are movie sprite, destory it\n        if (this.movie) {\n            //remove it from stage\n            if (this.stage) {\n                this.stage.removeChild(this.movie);\n            }\n            //remove texture for movie\n            for (var i = 0; i < this.movie.textures.length; i++) {\n                this.movie.textures[i].destroy(true);\n                if (this.movie.maskSprite) {\n                    this.movie.maskTextures[i].destroy(true);\n                }\n            }\n\n            //remove movie sprite\n            this.movie.destroy(true, true);\n        }\n        this.canvasRelated.destroy();\n    }\n\n});\n\nexports.Sprite = Sprite;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC9waXhpL3Nwcml0ZS5qcz82Zjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBT0E7Ozs7Ozs7O0FBV0EsSUFBSSxTQUFTLGlCQUFRLE1BQVIsQ0FBZTs7Ozs7Ozs7QUFReEIsaUJBQWEscUJBQVMsZUFBVCxFQUEwQixZQUExQixFQUF3QyxJQUF4QyxFQUE4QyxhQUE5QyxFQUE2RDs7QUFFdEUsWUFBSSxPQUFPLElBQVg7QUFDQSxhQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsYUFBSyxhQUFMLEdBQXFCLGFBQXJCOzs7QUFHQSxhQUFLLFNBQUwsR0FBaUIsS0FBSyxHQUF0Qjs7O0FBR0EsWUFBSSxjQUFjLElBQUksS0FBSyxTQUFULEVBQWxCOztBQUVBLHNCQUFjLFFBQWQsQ0FBdUIsV0FBdkI7OztBQUdBLFlBQUksU0FBUyxLQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBYjtBQUNBLFlBQUksZ0JBQWdCLE9BQU8sT0FBUCxDQUFlLFdBQWYsRUFBNEIsRUFBNUIsQ0FBcEI7OztBQUdBLFlBQUksZUFBZSxVQUFVLGFBQTdCO0FBQ0EsWUFBSSxpQkFBaUIsT0FBTyxLQUFQLENBQWEsR0FBYixFQUFrQixHQUFsQixFQUFyQjtBQUNBLFlBQUksVUFBVSxPQUFPLE9BQVAsQ0FBZSxNQUFmLEVBQXVCLFdBQXZCLENBQWQ7OztBQUdBLFlBQUksYUFBYSxLQUFLLFFBQXRCO0FBQ0EsWUFBSSxhQUFhLENBQWpCO0FBQ0EsWUFBSSxLQUFLLFNBQVQsRUFBb0I7O0FBRWhCLGdCQUFJO0FBQ0Esb0JBQUksYUFBYSxLQUFLLEtBQUwsQ0FBVyxLQUFLLFNBQWhCLENBQWpCO0FBQ0gsYUFGRCxDQUVFLE9BQU8sR0FBUCxFQUFZO0FBQ1Ysd0JBQVEsR0FBUixDQUFZLHlCQUFaO0FBQ0E7QUFDSDtBQUNELGdCQUFJLGFBQWEsV0FBVyxNQUE1QjtBQUNBLGdCQUFJLFVBQVUsV0FBVyxLQUFYLENBQWlC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QkFBWSxRQUFaLENBQXFCLEtBQXJCOztBQUVBLGlCQUFLLEtBQUwsR0FBYSxLQUFiOzs7QUFHQSw0QkFBZ0IsU0FBaEI7QUFDSDtBQUNKLEtBakl1Qjs7Ozs7O0FBdUl4QixVQUFNLGdCQUFXOztBQUViLGFBQUssSUFBTCxHQUFZLEtBQUssYUFBTCxDQUFtQixJQUFuQixDQUF3QixRQUF4QixDQUFaO0FBQ0gsS0ExSXVCOzs7Ozs7QUFnSnhCLFVBQU0sZ0JBQVc7QUFDYixhQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBd0IsS0FBSyxJQUE3QjtBQUNILEtBbEp1Qjs7Ozs7O0FBeUp4QixhQUFTLG1CQUFXOztBQUVoQixZQUFJLEtBQUssS0FBVCxFQUFnQjs7QUFFWixnQkFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDWixxQkFBSyxLQUFMLENBQVcsV0FBWCxDQUF1QixLQUFLLEtBQTVCO0FBQ0g7O0FBRUQsaUJBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxLQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLE1BQXhDLEVBQWdELEdBQWhELEVBQXFEO0FBQ2pELHFCQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLENBQXBCLEVBQXVCLE9BQXZCLENBQStCLElBQS9CO0FBQ0Esb0JBQUksS0FBSyxLQUFMLENBQVcsVUFBZixFQUEyQjtBQUN2Qix5QkFBSyxLQUFMLENBQVcsWUFBWCxDQUF3QixDQUF4QixFQUEyQixPQUEzQixDQUFtQyxJQUFuQztBQUNIO0FBQ0o7OztBQUdELGlCQUFLLEtBQUwsQ0FBVyxPQUFYLENBQW1CLElBQW5CLEVBQXlCLElBQXpCO0FBQ0g7QUFDRCxhQUFLLGFBQUwsQ0FBbUIsT0FBbkI7QUFDSDs7QUE1S3VCLENBQWYsQ0FBYjs7UUFtTEksTSxHQUFBLE0iLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogcGl4aeeyvueBteWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IFV0aWxzICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IENvbmZpZykge30gICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgICBGYWN0b3J5XHJcbn1cclxuZnJvbSAnLi9mYWN0b3J5J1xyXG5cclxuLyoqXHJcbiAqIOeyvueBteWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGNhbnZhc1JlbGF0ZWQgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudmFyIFNwcml0ZSA9IEZhY3RvcnkuZXh0ZW5kKHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMllxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBkYXRhICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY2FudmFzUmVsYXRlZCBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2ssIGRhdGEsIGNhbnZhc1JlbGF0ZWQpIHtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jYW52YXNSZWxhdGVkID0gY2FudmFzUmVsYXRlZDtcclxuICAgICAgICAvL2lk5qCH56S6XHJcbiAgICAgICAgLy/lj6/ku6XnlKjmnaXov4fmu6TlpLHotKXnmoRwaXhp5a+56LGhXHJcbiAgICAgICAgdGhpcy5jb250ZW50SWQgPSBkYXRhLl9pZFxyXG5cclxuICAgICAgICAvL+eyvueBteWcuuaZr+WuueWZqFxyXG4gICAgICAgIHZhciBzcHJpdGVUdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG4gICAgICAgIC8v5Yqg5YWl5Zy65pmv5a655ZmoXHJcbiAgICAgICAgY2FudmFzUmVsYXRlZC5hZGRDaGlsZChzcHJpdGVUdGFnZSk7XHJcblxyXG4gICAgICAgIC8v55+p5b2i5Zu+XHJcbiAgICAgICAgdmFyIGltZ1VybCA9IHRoaXMuYW5hbHlzaXNQYXRoKGRhdGEpO1xyXG4gICAgICAgIHZhciBpbWFnZUZpbGVuYW1lID0gaW1nVXJsLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcclxuXHJcbiAgICAgICAgLy9zdXBwb3J0IGJvdGggcG5nIGFuZCBqcGcrbWFzayBcclxuICAgICAgICB2YXIgbWFza0ZpbGVuYW1lID0gXCJtYXNrX1wiICsgaW1hZ2VGaWxlbmFtZTtcclxuICAgICAgICB2YXIgaW1hZ2VleHRlbnNpb24gPSBpbWdVcmwuc3BsaXQoJy4nKS5wb3AoKTtcclxuICAgICAgICB2YXIgbWFza1VybCA9IGltZ1VybC5yZXBsYWNlKCcuanBnJywgJ19tYXNrLnBuZycpO1xyXG5cclxuICAgICAgICAvL+S/neivgeWSjOS7peWJjeeJiOacrOeahOWFvOWuueaAp++8jOaXp+eJiOacrOeyvueBteWPquacieS4gOihjO+8jOWboOatpOayoeaciW1hdHJpeOWPguaVsFxyXG4gICAgICAgIHZhciBtYXRyaXhDb2xzID0gZGF0YS50aGVjb3VudDtcclxuICAgICAgICB2YXIgbWF0cml4Um93cyA9IDE7XHJcbiAgICAgICAgaWYgKGRhdGEucGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgIC8v6I635Y+W5Y+C5pWwLCDlhYHorrjlj4LmlbDkuLpudWxsXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyYU9iamVjdCA9IEpTT04ucGFyc2UoZGF0YS5wYXJhbWV0ZXIpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb250ZW50IHBhcmFtZXRlciBlcnJvcicpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGRhdGFNYXRyaXggPSBwYXJhT2JqZWN0Lm1hdHJpeDtcclxuICAgICAgICAgICAgdmFyIG1hdHJpeHMgPSBkYXRhTWF0cml4LnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgbWF0cml4Q29scyA9IG1hdHJpeHNbMF07XHJcbiAgICAgICAgICAgIG1hdHJpeFJvd3MgPSBtYXRyaXhzWzFdO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZhciBqc29uVXJsID0gXCJsaWIvZGF0YS9zcHJpdGVzaGVldC5qc29uXCIgKyBcIj9pbWFnZXVybD1cIiArIGltZ1VybCArIFwiJmNvbHM9XCIgKyBtYXRyaXhDb2xzICsgXCImcm93cz1cIiArIG1hdHJpeFJvd3MgKyBcIiZ0b3RhbD1cIiArIGRhdGEudGhlY291bnQgKyBcIiZmcHM9XCIgKyBkYXRhLmZwcztcclxuICAgICAgICB2YXIgbW92aWU7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRJZCA9IHRoaXMuY29udGVudElkO1xyXG5cclxuICAgICAgICAvL+i/memHjOaIkeS7rOWKqOaAgeWIm+W7umxvYWRlcu+8jOWKoOi9veWujOi1hOa6kOS5i+WQju+8jOWwseWIoOmZpOS6huOAguWboOatpOWRou+8jOS5n+Wwseayoeaciee8k+WtmOi1hOa6kOeahOaDheWGteS6hlxyXG4gICAgICAgIC8v5oiR6KeJ5b6X6L+Z5qC35Ly85LmO5pu05aW944CC5Zug5Li65oiR5Lus5pW05pys5Lmm55qE5Yqo55S75b6I5aSa77yM5aaC5p6c5omA5pyJ6LWE5rqQ6YO957yT5a2Y5LiL5p2l77yM5Y+v6IO95YaF5a2Y5raI6ICX5p6B5aSnXHJcbiAgICAgICAgLy/njrDlnKjov5nmoLfmr4/pobXliqjmgIHliJvlu7rvvIzkuI3liqDnvJPlrZjvvIzomb3nhLbmgKfog73kuIrnqI3lvq7lt67kuobkuIDkupvvvIzkvYbmmK/lupTor6Xog73lpJ/oioLnnIHlvojlpJrnmoTlhoXlrZhcclxuICAgICAgICB2YXIgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTtcclxuICAgICAgICBpZiAoJ3BuZycgPT0gaW1hZ2VleHRlbnNpb24pIHtcclxuICAgICAgICAgICAgbG9hZGVyXHJcbiAgICAgICAgICAgICAgICAuYWRkKGltYWdlRmlsZW5hbWUsIGpzb25VcmwpXHJcbiAgICAgICAgICAgICAgICAubG9hZChvbkFzc2V0c0xvYWRlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG1hc2tKc29uVXJsID0gXCJsaWIvZGF0YS9zcHJpdGVzaGVldC5qc29uXCIgKyBcIj9pbWFnZXVybD1cIiArIG1hc2tVcmwgKyBcIiZjb2xzPVwiICsgbWF0cml4Q29scyArIFwiJnJvd3M9XCIgKyBtYXRyaXhSb3dzICsgXCImdG90YWw9XCIgKyBkYXRhLnRoZWNvdW50ICsgXCImZnBzPVwiICsgZGF0YS5mcHM7XHJcbiAgICAgICAgICAgIGxvYWRlclxyXG4gICAgICAgICAgICAgICAgLmFkZChpbWFnZUZpbGVuYW1lLCBqc29uVXJsKVxyXG4gICAgICAgICAgICAgICAgLmFkZChtYXNrRmlsZW5hbWUsIG1hc2tKc29uVXJsKVxyXG4gICAgICAgICAgICAgICAgLmxvYWQob25Bc3NldHNMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2FkZXIgPSBudWxsO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBvbkFzc2V0c0xvYWRlZChsb2FkZXIsIHJlcykge1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8v6LWE5rqQ5Yqg6L295aSx6LSlXHJcbiAgICAgICAgICAgIC8vIGlmIChhcmd1bWVudHNbMV0gJiYgT2JqZWN0LmtleXMoYXJndW1lbnRzWzFdKS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBmYWlsQ2FsbGJhY2soY29udGVudElkKTtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVyblxyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvL3poYW5neXVuLCBnZXQgdGhlIG5hbWUgb2Ygc3ByaXRlc2hlZXRcclxuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gW107XHJcbiAgICAgICAgICAgIHZhciBtYXNrVGV4dHVyZXMgPSBbXTtcclxuICAgICAgICAgICAgLy9jcmVhdGUgdGV4dHVyZXMgYXJyYXkgZnJvbSByZXMncyB0ZXh0dXJlcyBvYmplY3RcclxuICAgICAgICAgICAgdmFyIHJlc09iamVjdCwgbWFza09iamVjdDtcclxuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIHJlcykge1xyXG4gICAgICAgICAgICAgICAgLy/pppbmrKHliqDovb1cclxuICAgICAgICAgICAgICAgIHJlc09iamVjdCA9IHJlc1tPYmplY3Qua2V5cyhyZXMpWzBdXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v6YeN5aSN5Yqg6L295pe277yM5Lyg6YCS55qE5piv5a2X56ym5Liy5Y+C5pWwXHJcbiAgICAgICAgICAgICAgICAvL+WunumZheS4iui/meS4quWIhuaUr+ayoeeUqOWIsO+8jOWmguaenOmcgOimgeWkhOeQhue8k+WtmO+8jOWImemcgOimgeeUqOWIsO+8jOeOsOWcqOaIkeS7rOayoeaciee8k+WtmFxyXG4gICAgICAgICAgICAgICAgcmVzT2JqZWN0ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW3Jlc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdmFyIHJlc1RleHR1cmVzID0gcmVzT2JqZWN0LnRleHR1cmVzO1xyXG4gICAgICAgICAgICB0ZXh0dXJlcyA9IE9iamVjdC5rZXlzKHJlc09iamVjdC50ZXh0dXJlcykubWFwKGZ1bmN0aW9uKGspIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNPYmplY3QudGV4dHVyZXNba107XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9nZXQgZnBzXHJcbiAgICAgICAgICAgIHZhciBmcHMgPSBwYXJzZUludCgocmVzT2JqZWN0LnVybCkuc3BsaXQoXCJmcHM9XCIpWzFdKTtcclxuXHJcbiAgICAgICAgICAgIG1vdmllID0gbmV3IFBJWEkuZXh0cmFzLk1vdmllQ2xpcCh0ZXh0dXJlcyk7XHJcbiAgICAgICAgICAgIG1vdmllLndpZHRoID0gZGF0YS5zY2FsZVdpZHRoO1xyXG4gICAgICAgICAgICBtb3ZpZS5oZWlnaHQgPSBkYXRhLnNjYWxlSGVpZ2h0O1xyXG4gICAgICAgICAgICBtb3ZpZS5wb3NpdGlvbi54ID0gZGF0YS5zY2FsZUxlZnQ7XHJcbiAgICAgICAgICAgIG1vdmllLnBvc2l0aW9uLnkgPSBkYXRhLnNjYWxlVG9wO1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGVyZSBhcmUgbWFza3MsIG1ha2UgbWFzayB0ZXh0dXJlcztcclxuICAgICAgICAgICAgdmFyIGltYWdlZXh0ZW5zaW9uID0gcmVzT2JqZWN0Lm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKFwianBnXCIgPT0gaW1hZ2VleHRlbnNpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gcmVzW09iamVjdC5rZXlzKHJlcylbMV1dO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hc2tUZXh0dXJlcyA9IE9iamVjdC5rZXlzKG1hc2tPYmplY3QudGV4dHVyZXMpLm1hcChmdW5jdGlvbihrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tPYmplY3QudGV4dHVyZXNba107XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vdmllLm1hc2tUZXh0dXJlcyA9IG1hc2tUZXh0dXJlcztcclxuICAgICAgICAgICAgICAgIHNwcml0ZVR0YWdlLmFkZENoaWxkKG1vdmllLm1hc2tTcHJpdGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+WKqOeUu+mAn+eOh1xyXG4gICAgICAgICAgICBtb3ZpZS5hbmltYXRpb25TcGVlZCA9IDAuMTUgKiBmcHMgLyAxMDtcclxuICAgICAgICAgICAgbW92aWUucGxheSgpO1xyXG4gICAgICAgICAgICBzcHJpdGVUdGFnZS5hZGRDaGlsZChtb3ZpZSk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLm1vdmllID0gbW92aWU7XHJcblxyXG4gICAgICAgICAgICAvL+WKoOi9veWujOavlVxyXG4gICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2soY29udGVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+Q6KGM5Yqo55S7XHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/nu5jliLbpobXpnaJcclxuICAgICAgICB0aGlzLnV1aWQgPSB0aGlzLmNhbnZhc1JlbGF0ZWQucGxheSgnc3ByaXRlJylcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlgZzmraLliqjnlLtcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNhbnZhc1JlbGF0ZWQuc3RvcCh0aGlzLnV1aWQpXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmUgOavgeWKqOeUu1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vaWYgdGhlcmUgYXJlIG1vdmllIHNwcml0ZSwgZGVzdG9yeSBpdFxyXG4gICAgICAgIGlmICh0aGlzLm1vdmllKSB7XHJcbiAgICAgICAgICAgIC8vcmVtb3ZlIGl0IGZyb20gc3RhZ2VcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5tb3ZpZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9yZW1vdmUgdGV4dHVyZSBmb3IgbW92aWVcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vdmllLnRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmllLnRleHR1cmVzW2ldLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3ZpZS5tYXNrU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZpZS5tYXNrVGV4dHVyZXNbaV0uZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmUgbW92aWUgc3ByaXRlXHJcbiAgICAgICAgICAgIHRoaXMubW92aWUuZGVzdHJveSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW52YXNSZWxhdGVkLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcblxyXG59KVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBTcHJpdGVcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L3BpeGkvc3ByaXRlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 52 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.VideoManager = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _video = __webpack_require__(53);\n\n/*\r\n    视频和远程网页管理模块\r\n*/\n\n//综合管理video, webpage\nfunction VideoManager() {\n    this.pageBox = {}; //当前页面包含的视频数据\n    this.playBox = {}; //播放过的视频数据 （播放集合）\n}\n\n/**\r\n *  参数:\r\n *    pageId    就是chapterId,对应每一个页面\r\n *    videoId   对应每一个视频热点的ID\r\n *    container 容器\r\n */\n\nVideoManager.prototype = {\n\n    //=============消息接口================\n    //\n\n    //自动播放\n    autoPlay: function autoPlay(pageId, activityId, container) {\n        this.initVideo.apply(this, arguments);\n    },\n\n    //手动播放\n    trigger: function trigger(pageId, activityId, container) {\n        this.initVideo.apply(this, arguments);\n    },\n\n    //=================视频调用===========================\n\n    //触发视频\n    initVideo: function initVideo(pageId, activityId, container) {\n        //解析数据\n        this.parseVideo(pageId, activityId);\n        //调用播放\n        this.loadVideo(pageId, activityId, container);\n    },\n\n    //=================视频数据处理===========================\n\n    //处理重复数据\n    // 1:pageBox能找到对应的 videoId\n    // 2:重新查询数据\n    parseVideo: function parseVideo(pageId, activityId) {\n        //复重\n        if (this.checkRepeat(pageId, activityId)) {\n            return;\n        }\n        var data = Xut.data.query('Video', activityId);\n        //新的查询\n        this.deployVideo(data, pageId, activityId);\n    },\n\n    //检测数据是否存在\n    checkRepeat: function checkRepeat(pageId, activityId) {\n        var chapterData = this.pageBox[pageId];\n        //如果能在pageBox找到对应的数据\n        if (chapterData && chapterData[activityId]) {\n            return true;\n        }\n        return false;\n    },\n\n    //配置视频结构\n    deployVideo: function deployVideo(data, pageId, activityId) {\n        var proportion = Xut.config.proportion,\n            screenSize = Xut.config.screenSize,\n            videoInfo = {\n            'pageId': pageId,\n            'videoId': activityId,\n            'url': data.md5,\n            'pageUrl': data.url,\n            'left': data.left * proportion.left || 0,\n            'top': data.top * proportion.top || 0,\n            'width': data.width * proportion.width || screenSize.width,\n            'height': data.height * proportion.height || screenSize.height,\n            'padding': data.padding * proportion.left || 0,\n            'zIndex': data.zIndex || 2147483647,\n            'background': data.background,\n            'category': data.category,\n            'hyperlink': data.hyperlink\n        };\n\n        if (_typeof(this.pageBox[pageId]) != 'object') {\n            this.pageBox[pageId] = {};\n        }\n\n        this.pageBox[pageId][activityId] = videoInfo;\n    },\n\n    //=================视频动作处理============================\n\n    //加载视频\n    loadVideo: function loadVideo(pageId, activityId, container) {\n        var playBox = this.playBox,\n            data = this.pageBox[pageId][activityId];\n\n        //播放视频时停止所有的音频\n        //视频的同时肯能存在音频\n        // Xut.AudioManager.clearAudio();\n\n        //this.beforePlayVideo(pageId,videoId)\n        //search video cache\n        if (playBox[pageId] && playBox[pageId][activityId]) {\n            //console.log('*********cache*********');\n            playBox[pageId][activityId].play();\n        } else {\n            //console.log('=========new=============');\n            if (_typeof(playBox[pageId]) !== 'object') {\n                playBox[pageId] = {};\n            }\n            //cache video object\n            playBox[pageId][activityId] = new _video.Html5Video(data, container);\n        }\n    },\n\n    //播放视频之前检查要停的视频\n    beforePlayVideo: function beforePlayVideo(pageId, activityId) {},\n\n    //清理移除页的视频\n    removeVideo: function removeVideo(pageId) {\n        var playBox = this.playBox,\n            pageBox = this.pageBox;\n\n        //清理视频\n        if (playBox && playBox[pageId]) {\n            for (var activityId in playBox[pageId]) {\n                playBox[pageId][activityId].close();\n            }\n            delete this.playBox[pageId];\n        }\n        //清理数据\n        if (pageBox && pageBox[pageId]) {\n            delete this.pageBox[pageId];\n        }\n    },\n\n    //清理全部视频\n    clearVideo: function clearVideo() {\n        var playBox = this.playBox,\n            flag = false; //记录是否处理过销毁状态\n\n        for (var pageId in playBox) {\n            for (var activityId in playBox[pageId]) {\n                playBox[pageId][activityId].close();\n                flag = true;\n            }\n        }\n\n        this.playBox = {};\n        this.pageBox = {};\n        return flag;\n    },\n\n    //离开页面\n    leavePage: function leavePage(pageId) {\n        var playBox = this.playBox;\n        if (playBox && playBox[pageId]) {\n            for (var activityId in playBox[pageId]) {\n                playBox[pageId][activityId].stop();\n            }\n        }\n    },\n\n    //显示按钮\n    showIconFlag: function showIconFlag(activityId) {},\n\n    //隐藏按钮\n    hideIconFlag: function hideIconFlag(activityId) {}\n};\n\nXut.VideoManager = new VideoManager();\n\nexports.VideoManager = VideoManager;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC92aWRlby9tYW5hZ2VyLmpzPzg4YmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7QUFPQSxTQUFTLFlBQVQsR0FBd0I7QUFDcEIsU0FBSyxPQUFMLEdBQWUsRUFBZixDO0FBQ0EsU0FBSyxPQUFMLEdBQWUsRUFBZixDO0FBQ0g7Ozs7Ozs7OztBQVNELGFBQWEsU0FBYixHQUF5Qjs7Ozs7O0FBTXJCLGNBQVUsa0JBQVMsTUFBVCxFQUFpQixVQUFqQixFQUE2QixTQUE3QixFQUF3QztBQUM5QyxhQUFLLFNBQUwsQ0FBZSxLQUFmLENBQXFCLElBQXJCLEVBQTJCLFNBQTNCO0FBQ0gsS0FSb0I7OztBQVdyQixhQUFTLGlCQUFTLE1BQVQsRUFBaUIsVUFBakIsRUFBNkIsU0FBN0IsRUFBd0M7QUFDN0MsYUFBSyxTQUFMLENBQWUsS0FBZixDQUFxQixJQUFyQixFQUEyQixTQUEzQjtBQUNILEtBYm9COzs7OztBQWtCckIsZUFBVyxtQkFBUyxNQUFULEVBQWlCLFVBQWpCLEVBQTZCLFNBQTdCLEVBQXdDOztBQUUvQyxhQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBeEI7O0FBRUEsYUFBSyxTQUFMLENBQWUsTUFBZixFQUF1QixVQUF2QixFQUFtQyxTQUFuQztBQUNILEtBdkJvQjs7Ozs7OztBQThCckIsZ0JBQVksb0JBQVMsTUFBVCxFQUFpQixVQUFqQixFQUE2Qjs7QUFFckMsWUFBSSxLQUFLLFdBQUwsQ0FBaUIsTUFBakIsRUFBeUIsVUFBekIsQ0FBSixFQUEwQztBQUN0QztBQUNIO0FBQ0QsWUFBSSxPQUFPLElBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxPQUFmLEVBQXdCLFVBQXhCLENBQVg7O0FBRUEsYUFBSyxXQUFMLENBQWlCLElBQWpCLEVBQXVCLE1BQXZCLEVBQStCLFVBQS9CO0FBQ0gsS0F0Q29COzs7QUF5Q3JCLGlCQUFhLHFCQUFTLE1BQVQsRUFBaUIs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eEIsaUJBQUssSUFBSSxVQUFULElBQXVCLFFBQVEsTUFBUixDQUF2QixFQUF3QztBQUNwQyx3QkFBUSxNQUFSLEVBQWdCLFVBQWhCLEVBQTRCLEtBQTVCO0FBQ0EsdUJBQU8sSUFBUDtBQUNIO0FBQ0o7O0FBRUQsYUFBSyxPQUFMLEdBQWUsRUFBZjtBQUNBLGFBQUssT0FBTCxHQUFlLEVBQWY7QUFDQSxlQUFPLElBQVA7QUFDSCxLQS9Jb0I7OztBQW1KckIsZUFBVyxtQkFBUyxNQUFULEVBQWlCO0FBQ3hCLFlBQUksVUFBVSxLQUFLLE9BQW5CO0FBQ0EsWUFBSSxXQUFXLFFBQVEsTUFBUixDQUFmLEVBQWdDO0FBQzVCLGlCQUFLLElBQUksVUFBVCxJQUF1QixRQUFRLE1BQVIsQ0FBdkIsRUFBd0M7QUFDcEMsd0JBQVEsTUFBUixFQUFnQixVQUFoQixFQUE0QixJQUE1QjtBQUNIO0FBQ0o7QUFDSixLQTFKb0I7OztBQTZKckIsa0JBQWMsc0JBQVMsVUFBVCxFQUFxQixDQUVsQyxDQS9Kb0I7OztBQWtLckIsa0JBQWMsc0JBQVMsVUFBVCxFQUFxQixDQUVsQztBQXBLb0IsQ0FBekI7O0FBdUtBLElBQUksWUFBSixHQUFtQixJQUFJLFlBQUosRUFBbkI7O1FBSUksWSxHQUFBLFkiLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0h0bWw1VmlkZW99IGZyb20gJy4vdmlkZW8nXHJcblxyXG4vKlxyXG4gICAg6KeG6aKR5ZKM6L+c56iL572R6aG1566h55CG5qih5Z2XXHJcbiovXHJcblxyXG4vL+e7vOWQiOeuoeeQhnZpZGVvLCB3ZWJwYWdlXHJcbmZ1bmN0aW9uIFZpZGVvTWFuYWdlcigpIHtcclxuICAgIHRoaXMucGFnZUJveCA9IHt9OyAvL+W9k+WJjemhtemdouWMheWQq+eahOinhumikeaVsOaNrlxyXG4gICAgdGhpcy5wbGF5Qm94ID0ge307IC8v5pKt5pS+6L+H55qE6KeG6aKR5pWw5o2uIO+8iOaSreaUvumbhuWQiO+8iVxyXG59XHJcblxyXG4vKipcclxuICogIOWPguaVsDpcclxuICogICAgcGFnZUlkICAgIOWwseaYr2NoYXB0ZXJJZCzlr7nlupTmr4/kuIDkuKrpobXpnaJcclxuICogICAgdmlkZW9JZCAgIOWvueW6lOavj+S4gOS4quinhumikeeDreeCueeahElEXHJcbiAqICAgIGNvbnRhaW5lciDlrrnlmahcclxuICovXHJcblxyXG5WaWRlb01hbmFnZXIucHJvdG90eXBlID0ge1xyXG5cclxuICAgIC8vPT09PT09PT09PT09Pea2iOaBr+aOpeWPoz09PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcblxyXG4gICAgLy/oh6rliqjmkq3mlL5cclxuICAgIGF1dG9QbGF5OiBmdW5jdGlvbihwYWdlSWQsIGFjdGl2aXR5SWQsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuaW5pdFZpZGVvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5omL5Yqo5pKt5pS+XHJcbiAgICB0cmlnZ2VyOiBmdW5jdGlvbihwYWdlSWQsIGFjdGl2aXR5SWQsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuaW5pdFZpZGVvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT3op4bpopHosIPnlKg9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAvL+inpuWPkeinhumikVxyXG4gICAgaW5pdFZpZGVvOiBmdW5jdGlvbihwYWdlSWQsIGFjdGl2aXR5SWQsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIC8v6Kej5p6Q5pWw5o2uXHJcbiAgICAgICAgdGhpcy5wYXJzZVZpZGVvKHBhZ2VJZCwgYWN0aXZpdHlJZCk7XHJcbiAgICAgICAgLy/osIPnlKjmkq3mlL5cclxuICAgICAgICB0aGlzLmxvYWRWaWRlbyhwYWdlSWQsIGFjdGl2aXR5SWQsIGNvbnRhaW5lcik7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT3op4bpopHmlbDmja7lpITnkIY9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAvL+WkhOeQhumHjeWkjeaVsOaNrlxyXG4gICAgLy8gMTpwYWdlQm946IO95om+5Yiw5a+55bqU55qEIHZpZGVvSWRcclxuICAgIC8vIDI66YeN5paw5p+l6K+i5pWw5o2uXHJcbiAgICBwYXJzZVZpZGVvOiBmdW5jdGlvbihwYWdlSWQsIGFjdGl2aXR5SWQpIHtcclxuICAgICAgICAvL+WkjemHjVxyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrUmVwZWF0KHBhZ2VJZCwgYWN0aXZpdHlJZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF0YSA9IFh1dC5kYXRhLnF1ZXJ5KCdWaWRlbycsIGFjdGl2aXR5SWQpO1xyXG4gICAgICAgIC8v5paw55qE5p+l6K+iXHJcbiAgICAgICAgdGhpcy5kZXBsb3lWaWRlbyhkYXRhLCBwYWdlSWQsIGFjdGl2aXR5SWQpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+ajgOa1i+aVsOaNruaYr+WQpuWtmOWcqFxyXG4gICAgY2hlY2tSZXBlYXQ6IGZ1bmN0aW9uKHBhZ2VJZCwgYWN0aXZpdHlJZCkge1xyXG4gICAgICAgIHZhciBjaGFwdGVyRGF0YSA9IHRoaXMucGFnZUJveFtwYWdlSWRdO1xyXG4gICAgICAgIC8v5aaC5p6c6IO95ZyocGFnZUJveOaJvuWIsOWvueW6lOeahOaVsOaNrlxyXG4gICAgICAgIGlmIChjaGFwdGVyRGF0YSAmJiBjaGFwdGVyRGF0YVthY3Rpdml0eUlkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+mFjee9ruinhumikee7k+aehFxyXG4gICAgZGVwbG95VmlkZW86IGZ1bmN0aW9uKGRhdGEsIHBhZ2VJZCwgYWN0aXZpdHlJZCkge1xyXG4gICAgICAgIHZhciBwcm9wb3J0aW9uID0gWHV0LmNvbmZpZy5wcm9wb3J0aW9uLFxyXG4gICAgICAgICAgICBzY3JlZW5TaXplID0gWHV0LmNvbmZpZy5zY3JlZW5TaXplLFxyXG4gICAgICAgICAgICB2aWRlb0luZm8gPSB7XHJcbiAgICAgICAgICAgICAgICAncGFnZUlkJzogcGFnZUlkLFxyXG4gICAgICAgICAgICAgICAgJ3ZpZGVvSWQnOiBhY3Rpdml0eUlkLFxyXG4gICAgICAgICAgICAgICAgJ3VybCc6IGRhdGEubWQ1LFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2VVcmwnOiBkYXRhLnVybCxcclxuICAgICAgICAgICAgICAgICdsZWZ0JzogZGF0YS5sZWZ0ICogcHJvcG9ydGlvbi5sZWZ0IHx8IDAsXHJcbiAgICAgICAgICAgICAgICAndG9wJzogZGF0YS50b3AgKiBwcm9wb3J0aW9uLnRvcCB8fCAwLFxyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogZGF0YS53aWR0aCAqIHByb3BvcnRpb24ud2lkdGggfHwgc2NyZWVuU2l6ZS53aWR0aCxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBkYXRhLmhlaWdodCAqIHByb3BvcnRpb24uaGVpZ2h0IHx8IHNjcmVlblNpemUuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgJ3BhZGRpbmcnOiBkYXRhLnBhZGRpbmcgKiBwcm9wb3J0aW9uLmxlZnQgfHwgMCxcclxuICAgICAgICAgICAgICAgICd6SW5kZXgnOiBkYXRhLnpJbmRleCB8fCAyMTQ3NDgzNjQ3LFxyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQnOiBkYXRhLmJhY2tncm91bmQsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnknOiBkYXRhLmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgJ2h5cGVybGluayc6IGRhdGEuaHlwZXJsaW5rXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYWdlQm94W3BhZ2VJZF0gIT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlQm94W3BhZ2VJZF0gPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGFnZUJveFtwYWdlSWRdW2FjdGl2aXR5SWRdID0gdmlkZW9JbmZvO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT096KeG6aKR5Yqo5L2c5aSE55CGPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8v5Yqg6L296KeG6aKRXHJcbiAgICBsb2FkVmlkZW86IGZ1bmN0aW9uKHBhZ2VJZCwgYWN0aXZpdHlJZCwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIHBsYXlCb3ggPSB0aGlzLnBsYXlCb3gsXHJcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLnBhZ2VCb3hbcGFnZUlkXVthY3Rpdml0eUlkXTtcclxuXHJcbiAgICAgICAgLy/mkq3mlL7op4bpopHml7blgZzmraLmiYDmnInnmoTpn7PpopFcclxuICAgICAgICAvL+inhumikeeahOWQjOaXtuiCr+iDveWtmOWcqOmfs+mikVxyXG4gICAgICAgIC8vIFh1dC5BdWRpb01hbmFnZXIuY2xlYXJBdWRpbygpO1xyXG5cclxuICAgICAgICAvL3RoaXMuYmVmb3JlUGxheVZpZGVvKHBhZ2VJZCx2aWRlb0lkKVxyXG4gICAgICAgIC8vc2VhcmNoIHZpZGVvIGNhY2hlXHJcbiAgICAgICAgaWYgKHBsYXlCb3hbcGFnZUlkXSAmJiBwbGF5Qm94W3BhZ2VJZF1bYWN0aXZpdHlJZF0pIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnKioqKioqKioqY2FjaGUqKioqKioqKionKTtcclxuICAgICAgICAgICAgcGxheUJveFtwYWdlSWRdW2FjdGl2aXR5SWRdLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCc9PT09PT09PT1uZXc9PT09PT09PT09PT09Jyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxheUJveFtwYWdlSWRdICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgcGxheUJveFtwYWdlSWRdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jYWNoZSB2aWRlbyBvYmplY3RcclxuICAgICAgICAgICAgcGxheUJveFtwYWdlSWRdW2FjdGl2aXR5SWRdID0gbmV3IEh0bWw1VmlkZW8oZGF0YSwgY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy/mkq3mlL7op4bpopHkuYvliY3mo4Dmn6XopoHlgZznmoTop4bpopFcclxuICAgIGJlZm9yZVBsYXlWaWRlbzogZnVuY3Rpb24ocGFnZUlkLCBhY3Rpdml0eUlkKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvL+a4heeQhuenu+mZpOmhteeahOinhumikVxyXG4gICAgcmVtb3ZlVmlkZW86IGZ1bmN0aW9uKHBhZ2VJZCkge1xyXG4gICAgICAgIHZhciBwbGF5Qm94ID0gdGhpcy5wbGF5Qm94LFxyXG4gICAgICAgICAgICBwYWdlQm94ID0gdGhpcy5wYWdlQm94O1xyXG5cclxuICAgICAgICAvL+a4heeQhuinhumikVxyXG4gICAgICAgIGlmIChwbGF5Qm94ICYmIHBsYXlCb3hbcGFnZUlkXSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhY3Rpdml0eUlkIGluIHBsYXlCb3hbcGFnZUlkXSkge1xyXG4gICAgICAgICAgICAgICAgcGxheUJveFtwYWdlSWRdW2FjdGl2aXR5SWRdLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGxheUJveFtwYWdlSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+a4heeQhuaVsOaNrlxyXG4gICAgICAgIGlmIChwYWdlQm94ICYmIHBhZ2VCb3hbcGFnZUlkXSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wYWdlQm94W3BhZ2VJZF07XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+a4heeQhuWFqOmDqOinhumikVxyXG4gICAgY2xlYXJWaWRlbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHBsYXlCb3ggPSB0aGlzLnBsYXlCb3gsXHJcbiAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsgLy/orrDlvZXmmK/lkKblpITnkIbov4fplIDmr4HnirbmgIFcclxuXHJcbiAgICAgICAgZm9yICh2YXIgcGFnZUlkIGluIHBsYXlCb3gpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgYWN0aXZpdHlJZCBpbiBwbGF5Qm94W3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgICAgIHBsYXlCb3hbcGFnZUlkXVthY3Rpdml0eUlkXS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxheUJveCA9IHt9O1xyXG4gICAgICAgIHRoaXMucGFnZUJveCA9IHt9O1xyXG4gICAgICAgIHJldHVybiBmbGFnO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy/nprvlvIDpobXpnaJcclxuICAgIGxlYXZlUGFnZTogZnVuY3Rpb24ocGFnZUlkKSB7XHJcbiAgICAgICAgdmFyIHBsYXlCb3ggPSB0aGlzLnBsYXlCb3g7XHJcbiAgICAgICAgaWYgKHBsYXlCb3ggJiYgcGxheUJveFtwYWdlSWRdKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGFjdGl2aXR5SWQgaW4gcGxheUJveFtwYWdlSWRdKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5Qm94W3BhZ2VJZF1bYWN0aXZpdHlJZF0uc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+aYvuekuuaMiemSrlxyXG4gICAgc2hvd0ljb25GbGFnOiBmdW5jdGlvbihhY3Rpdml0eUlkKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvL+makOiXj+aMiemSrlxyXG4gICAgaGlkZUljb25GbGFnOiBmdW5jdGlvbihhY3Rpdml0eUlkKSB7XHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxuWHV0LlZpZGVvTWFuYWdlciA9IG5ldyBWaWRlb01hbmFnZXI7XHJcblxyXG5cclxuZXhwb3J0IHtcclxuICAgIFZpZGVvTWFuYWdlclxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvdmlkZW8vbWFuYWdlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 53 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 视频和网页模块（统一整合到VideoClass里面了）\r\n * 这里有四种播放器:\r\n *    1：基于html5原生实现的video标签 for ios\r\n *    2：基于phoneGap插件实现的media  for android\r\n *    3: 基于videoJS用flash实现的播放 for pc\r\n *    4: 用于插入一个网页的webview\r\n */\n\nvar VideoPlayer = null,\n    noop = function noop() {},\n\n\n//检测是否支持HTML5的video播放\nsupportVideo = function () {\n    var video = document.createElement('video'),\n        type = 'video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"';\n    return !!video.canPlayType && \"probably\" == video.canPlayType(type);\n}(),\n\n\n//检测是否安装了flash插件\nsupportFlash = function () {\n    var i_flash = false;\n\n    if (navigator.plugins) {\n        for (var i = 0; i < navigator.plugins.length; i++) {\n            if (navigator.plugins[i].name.toLowerCase().indexOf(\"shockwave flash\") != -1) {\n                i_flash = true;\n            }\n        }\n    }\n    return i_flash;\n}();\n\n//移动端浏览器平台\nif (Xut.plat.isBrowser) {\n    VideoPlayer = Video5;\n} else {\n    //检测平台\n    if (Xut.plat.isIOS || top.EduStoreClient) {\n        //如果是ibooks模式\n        if (Xut.IBooks.Enabled) {\n            VideoPlayer = VideoJS;\n        } else {\n            //如果是ios或读酷pc版则使用html5播放\n            VideoPlayer = Video5;\n        }\n    } else if (Xut.plat.isAndroid) {\n        //android平台\n        VideoPlayer = _Media;\n    }\n}\n\n/**\r\n * @param {[type]} options   [description]\r\n *   options.videoId;\r\n *   options.pageId;\r\n *   options.pageUrl;\r\n *   options.left;\r\n *   options.top;\r\n *   options.width;\r\n *   options.height;\r\n *   options.padding;\r\n *   options.category;\r\n * @param {[type]} container 视频元素容器\r\n */\n\nfunction VideoClass(options, container) {\n    options.container = container;\n    if ('video' == options.category) {\n        this.video = VideoPlayer(options);\n    } else if ('webpage' == options.category) {\n        this.video = WebPage(options);\n    } else {\n        console.log('options.category must be video or webPage ');\n    }\n}\n\nVideoClass.prototype = {\n    play: function play() {\n        //隐藏工具栏\n        Xut.View.Toolbar(\"hide\");\n        this.video.play();\n    },\n    stop: function stop() {\n        //显示工具栏\n        Xut.View.Toolbar(\"show\");\n        this.video.stop();\n    },\n    close: function close() {\n        this.video.close();\n    }\n};\n\n// 网页\nfunction WebPage(options) {\n\n    var pageUrl = options.pageUrl;\n\n    //跳转app市场\n    //普通网页是1 \n    //跳转app市场就是2\n    if (options.hyperlink == 2) {\n        //跳转到app市场\n        window.open(pageUrl);\n        //数据统计\n        $.get('http://www.appcarrier.cn/index.php/adplugin/recordads?aid=16&esbId=ios');\n    } else {\n\n        var padding = options.padding || 0,\n            width = options.width,\n            height = options.height,\n            videoId = options.videoId,\n            left = options.left,\n            top = options.top,\n            $videoNode,\n            eleWidth,\n            eleHeight;\n\n        if (padding) {\n            eleWidth = width - 2 * padding;\n            eleHeight = height - 2 * padding;\n        } else {\n            eleWidth = width;\n            eleHeight = height;\n        }\n\n        $videoNode = $('<div id=\"videoWrap_' + videoId + '\" style=\"position:absolute;left:' + left + 'px;top:' + top + 'px;width:' + width + 'px;height:' + height + 'px;z-index:' + Xut.zIndexlevel() + '\">' + '<div style=\"position:absolute;left:' + padding + 'px;top:' + padding + 'px;width:' + eleWidth + 'px;height:' + eleHeight + 'px;\">' + '<iframe src=\"' + pageUrl + '\" style=\"position:absolute;left:0;top:0;width:100%;height:100%;\"></iframe>' + '</div>' + '</div>');\n\n        options.container.append($videoNode);\n    }\n\n    function play() {\n        $videoNode && $videoNode.show();\n    }\n\n    function stop() {\n        $videoNode && $videoNode.hide();\n    }\n\n    function close() {\n        if ($videoNode) {\n            $videoNode.remove();\n            $videoNode = null;\n        }\n    }\n\n    return {\n        play: play,\n        stop: stop,\n        close: close\n    };\n}\n\nfunction webView(options) {\n    var width = options.width,\n        height = options.height,\n        pageUrl = options.pageUrl,\n        left = options.left,\n        top = options.top;\n\n    function play() {\n        //打开一个网页的时候，需要关闭其他已经打开过的网页\n        Xut.Plugin.WebView.close();\n        Xut.VideoManager.openWebView = false;\n        setTimeout(function () {\n            Xut.Plugin.WebView.open(pageUrl, left, top, height, width, 1);\n            Xut.VideoManager.openWebView = true;\n        }, 500);\n    }\n\n    function close() {\n        Xut.Plugin.WebView.close();\n        Xut.VideoManager.openWebView = false;\n    }\n\n    return {\n        play: play,\n        stop: close,\n        close: close\n    };\n}\n\n/**\r\n * ios窗口化canvas播放器\r\n */\nfunction VideoCanvas(options) {\n\n    var container = options.container || $('body'),\n        url = Xut.config.videoPath() + options.url,\n        width = options.width,\n        height = options.height,\n        top = options.top,\n        left = options.left,\n        zIndex = options.zIndex;\n\n    var video = new InlineVideo(container, {\n        'loop': false,\n        'autoplay': true,\n        'src': url,\n        'width': width,\n        'height': height,\n        'top': top,\n        'left': left,\n        'zIndex': zIndex\n    });\n\n    return {\n        play: function play() {\n            video.play();\n        },\n        stop: function stop() {\n            video.pause();\n        },\n        close: function close() {\n            video.destroy();\n        }\n    };\n}\n\n/**\r\n * 安卓phonegap播放器\r\n * @param  {[type]} options [description]\r\n * @return {[type]}         [description]\r\n */\nfunction _Media(options) {\n    var url = MMXCONFIG ? options.url : options.url.substring(0, options.url.lastIndexOf('.')),\n        width = options.width,\n        height = options.height,\n        top = options.top || 0,\n        left = options.left || 0;\n\n    function play() {\n        //var calculate = Xut.config.proportion.calculateContainer();\n        //top += Math.ceil(calculate.top);\n        //left += Math.ceil(calculate.left);\n        Xut.Plugin.VideoPlayer.play(function () {\n            //成功回调\n        }, function () {\n            //失败回调\n        }, Xut.config.videoPath() + url, 1, left, top, height, width);\n    }\n\n    function close() {\n        Xut.Plugin.VideoPlayer.close();\n    }\n\n    play();\n\n    return {\n        play: play,\n        stop: close,\n        close: close\n    };\n}\n\n/**\r\n *   html5的video播放器\r\n *   API :\r\n *   play();播放\r\n *   stop();    //停止播放并隐藏界面\r\n *   destroy(); //清除元素节点及事件绑定\r\n *  demo :\r\n *  var video = new Video({url:'1.mp4',width:'320',...});\r\n *  video.play();\r\n */\n\nfunction Video5(options) {\n\n    var container = options.container || $('body'),\n        url = Xut.config.videoPath() + options.url,\n        width = options.width,\n        height = options.height,\n        top = options.top,\n        left = options.left,\n        zIndex = options.zIndex,\n\n    /*创建播放器*/\n    $videoWrap = $('<div></div>');\n\n    var $video = $(document.createElement('video'));\n\n    //音频对象\n    var video = $video[0];\n\n    video.play();\n\n    $video.css({\n        width: width,\n        height: height\n    }).attr({\n        'src': url,\n        'controls': 'controls',\n        'autoplay': 'autoplay'\n    });\n\n    $videoWrap.append($video).css({\n        position: 'absolute',\n        'z-index': -1,\n        top: top,\n        left: left,\n        width: 0,\n        height: 0\n    });\n\n    //播放\n    function play() {\n        $videoWrap.show();\n        video.play();\n    }\n\n    //停止\n    function stop() {\n        video.pause();\n        //复位视频\n        if (video.duration) {\n            video.currentTime = 0.01;\n        }\n        //在全屏时无法隐藏元素,须先退出\n        //this.video.webkitExitFullScreen();\n        $videoWrap.hide();\n\n        //用于启动视频\n        if (options.startBoot) {\n            options.startBoot();\n            destroy();\n        }\n    }\n\n    function error() {\n        //用于启动视频\n        if (options.startBoot) {\n            options.startBoot();\n            destroy();\n        }\n    }\n\n    /**\r\n     * 防止播放错误时播放界面闪现\r\n     * @return {[type]} [description]\r\n     */\n    function start() {\n        $videoWrap.css({\n            width: width + 'px',\n            height: height + 'px',\n            zIndex: zIndex\n        });\n    }\n\n    //销毁\n    function destroy() {\n        video.removeEventListener('ended', stop, false);\n        video.removeEventListener('error', error, false);\n        video.removeEventListener('loadeddata', start, false);\n        video.removeEventListener('webkitendfullscreen', stop, false);\n        $videoWrap.hide().remove();\n    }\n\n    container.append($videoWrap);\n\n    video.addEventListener('ended', stop, false);\n    video.addEventListener('error', error, false);\n    video.addEventListener('loadeddata', start, false);\n    video.addEventListener('webkitendfullscreen', stop, false);\n\n    return {\n        play: play,\n        stop: stop,\n        close: destroy\n    };\n};\n\n/**\r\n * https://github.com/videojs/video.js/blob/master/docs/guides/setup.md\r\n * 基于video.js的web播放器,在pc端flash优先\r\n * @param {[type]} options [description]\r\n */\n\nfunction VideoJS(options) {\n    var container = options.container || $('body'),\n        videoId = options.videoId,\n        url = Xut.config.videoPath() + options.url,\n        width = options.width,\n        height = options.height,\n        zIndex = options.zIndex,\n        top = options.top,\n        left = options.left,\n        video,\n        source,\n        player,\n        api;\n\n    video = document.createElement('video');\n    source = document.createElement('source');\n    source.setAttribute('src', url);\n    source.setAttribute('type', 'video/mp4');\n    video.id = 'video_' + videoId;\n    video.className = \"video-js vjs-sublime-skin\";\n    video.appendChild(source);\n    container.append(video);\n    //指定本地的swf地址取代网络地址\n    videojs.options.flash.swf = \"lib/data/video-js.swf\";\n\n    var clear = function clear() {\n        //结束后清理自己\n        Xut.VideoManager.removeVideo(options.pageId);\n    };\n\n    //videojs是videojs定义的全局函数\n    player = videojs(video, {\n        //视频引擎顺序,位置排前面的优先级越高\n        \"techOrder\": [\"html5\", \"flash\"],\n        //预加载\n        \"preload\": \"auto\",\n        //是否有控制条\n        \"controls\": true,\n        \"autoplay\": true,\n        \"width\": width,\n        \"height\": height,\n        //播放元素相关设置\n        children: {\n            //暂停时是否显示大大的播放按钮\n            bigPlayButton: false,\n            //是否显示错误提示\n            errorDisplay: false,\n            //是否显示视频快照\n            posterImage: false,\n            //是否显示字幕\n            textTrackDisplay: false\n        },\n        //控制条相关设置\n        controlBar: {\n            //是否显示字幕按钮\n            captionsButton: false,\n            chaptersButton: false,\n            liveDisplay: false,\n            //是否显示剩余时间\n            remainingTimeDisplay: false,\n            //是否显示子标题按钮\n            subtitlesButton: false,\n            //是否显示回放菜单按钮\n            playbackRateMenuButton: false,\n            //是否显示时间分隔符\"/\"\n            timeDivider: false,\n            //是否显示当前视频的当前时间值\n            currentTimeDisplay: false,\n            //是否显示视频时长\n            durationDisplay: false\n        }\n    }, function () {\n        //可以播放时提升层级，防止闪现\n        this.on('canplay', function () {\n            wrap.style.zIndex = zIndex;\n        });\n\n        //播放完毕后自动关闭\n        this.on('ended', function () {\n            //结束后清理自己\n            clear();\n        });\n\n        this.on('error', function () {\n            clear();\n        });\n\n        //因为没有关闭按钮,又不想自己做,就把全屏变成关闭好了.\n        this.on(\"touchend mouseup\", function (e) {\n            var className = e.target.className.toLowerCase();\n            if (-1 != className.indexOf('vjs-fullscreen-control')) {\n                clear();\n            }\n        });\n    });\n\n    //修正视频样式\n    var wrap = player.el(),\n        videoElement = wrap.children[0];\n    wrap.style.left = left + 'px';\n    wrap.style.top = top + 'px';\n    wrap.style.zIndex = -1;\n\n    api = {\n        play: noop,\n\n        stop: function stop() {\n            player.stop();\n        },\n\n        close: function close() {\n            player && player.dispose();\n            player = null;\n        }\n    };\n\n    return api;\n}\n\nXut.Video5 = Video5;\n\nXut.Video = VideoClass;\n\nexports.Html5Video = VideoClass;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC92aWRlby92aWRlby5qcz8xNGZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBU0EsSUFBSSxjQUFjLElBQWxCO0lBQ0ksT0FBTyxTQUFQLElBQU8sR0FBVyxDQUFFLENBRHhCOzs7O0FBSUksZUFBZSxZQUFXO0FBQ3RCLFFBQUksUUFBUSxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBWjtRQUNJLE9BQU8sNENBRFg7QUFFQSxXQUFPLENBQUMsQ0FBQyxNQUFNLFdBQVIsSUFBdUIsY0FBYyxNQUFNLFdBQU4sQ0FBa0IsSUFBbEIsQ0FBNUM7QUFDSCxDQUpjLEVBSm5COzs7O0FBV0ksZUFBZSxZQUFXO0FBQ3RCLFFBQUksVUFBVSxLQUFkOztBQUVBLFFBQUksVUFBVSxPQUFkLEVBQXVCO0FBQ25CLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE9BQVYsQ0FBa0IsTUFBdEMsRUFBOEMsR0FBOUMsRUFBbUQ7QUFDL0MsZ0JBQUksVUFBVSxPQUFWLENBQWtCLENBQWxCLEVBQXFCLElBQXJCLENBQTBCLFdBQTFCLEdBQXdDLE9BQXhDLENBQWdELGlCQUFoRCxLQUFzRSxDQUFDLENBQTNFLEVBQThFO0FBQzFFLDBCQUFVLElBQVY7QUFDSDtBQUNKO0FBQ0o7QUFDRCxXQUFPLE9BQVA7QUFDSCxDQVhjLEVBWG5COzs7QUEwQkEsSUFBSSxJQUFJLElBQUosQ0FBUyxTQUFiLEVBQXdCO0FBQ3BCLGtCQUFjLE1BQWQ7QUFDSCxDQUZELE1BRU87O0FBRUgsUUFBSSxJQUFJLElBQUosQ0FBUyxLQUFULElBQWtCLElBQUksY0FBMUIsRUFBMEM7O0FBRXRDLFlBQUksSUFBSSxNQUFKLENBQVcsT0FBZixFQUF3QjtBQUNwQiwwQkFBYyxPQUFkO0FBQ0gsU0FGRCxNQUVPOztBQUVILDBCQUFjLE1BQWQ7QUFDSDtBQUNKLEtBUkQsTUFRTyxJQUFJLElBQUksSUFBSixDQUFTLFNB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vIjnu5/kuIDmlbTlkIjliLBWaWRlb0NsYXNz6YeM6Z2i5LqG77yJXHJcbiAqIOi/memHjOacieWbm+enjeaSreaUvuWZqDpcclxuICogICAgMe+8muWfuuS6jmh0bWw15Y6f55Sf5a6e546w55qEdmlkZW/moIfnrb4gZm9yIGlvc1xyXG4gKiAgICAy77ya5Z+65LqOcGhvbmVHYXDmj5Lku7blrp7njrDnmoRtZWRpYSAgZm9yIGFuZHJvaWRcclxuICogICAgMzog5Z+65LqOdmlkZW9KU+eUqGZsYXNo5a6e546w55qE5pKt5pS+IGZvciBwY1xyXG4gKiAgICA0OiDnlKjkuo7mj5LlhaXkuIDkuKrnvZHpobXnmoR3ZWJ2aWV3XHJcbiAqL1xyXG5cclxudmFyIFZpZGVvUGxheWVyID0gbnVsbCxcclxuICAgIG5vb3AgPSBmdW5jdGlvbigpIHt9LFxyXG5cclxuICAgIC8v5qOA5rWL5piv5ZCm5pSv5oyBSFRNTDXnmoR2aWRlb+aSreaUvlxyXG4gICAgc3VwcG9ydFZpZGVvID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSxcclxuICAgICAgICAgICAgdHlwZSA9ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLCBtcDRhLjQwLjJcIic7XHJcbiAgICAgICAgcmV0dXJuICEhdmlkZW8uY2FuUGxheVR5cGUgJiYgXCJwcm9iYWJseVwiID09IHZpZGVvLmNhblBsYXlUeXBlKHR5cGUpO1xyXG4gICAgfSgpLFxyXG5cclxuICAgIC8v5qOA5rWL5piv5ZCm5a6J6KOF5LqGZmxhc2jmj5Lku7ZcclxuICAgIHN1cHBvcnRGbGFzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpX2ZsYXNoID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChuYXZpZ2F0b3IucGx1Z2lucykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnBsdWdpbnNbaV0ubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJzaG9ja3dhdmUgZmxhc2hcIikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpX2ZsYXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaV9mbGFzaDtcclxuICAgIH0oKTtcclxuXHJcblxyXG4vL+enu+WKqOerr+a1j+iniOWZqOW5s+WPsFxyXG5pZiAoWHV0LnBsYXQuaXNCcm93c2VyKSB7XHJcbiAgICBWaWRlb1BsYXllciA9IFZpZGVvNVxyXG59IGVsc2Uge1xyXG4gICAgLy/mo4DmtYvlubPlj7BcclxuICAgIGlmIChYdXQucGxhdC5pc0lPUyB8fCB0b3AuRWR1U3RvcmVDbGllbnQpIHtcclxuICAgICAgICAvL+WmguaenOaYr2lib29rc+aooeW8j1xyXG4gICAgICAgIGlmIChYdXQuSUJvb2tzLkVuYWJsZWQpIHtcclxuICAgICAgICAgICAgVmlkZW9QbGF5ZXIgPSBWaWRlb0pTXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/lpoLmnpzmmK9pb3PmiJbor7vphbdwY+eJiOWImeS9v+eUqGh0bWw15pKt5pS+XHJcbiAgICAgICAgICAgIFZpZGVvUGxheWVyID0gVmlkZW81O1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoWHV0LnBsYXQuaXNBbmRyb2lkKSB7XHJcbiAgICAgICAgLy9hbmRyb2lk5bmz5Y+wXHJcbiAgICAgICAgVmlkZW9QbGF5ZXIgPSBfTWVkaWE7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyAgIFtkZXNjcmlwdGlvbl1cclxuICogICBvcHRpb25zLnZpZGVvSWQ7XHJcbiAqICAgb3B0aW9ucy5wYWdlSWQ7XHJcbiAqICAgb3B0aW9ucy5wYWdlVXJsO1xyXG4gKiAgIG9wdGlvbnMubGVmdDtcclxuICogICBvcHRpb25zLnRvcDtcclxuICogICBvcHRpb25zLndpZHRoO1xyXG4gKiAgIG9wdGlvbnMuaGVpZ2h0O1xyXG4gKiAgIG9wdGlvbnMucGFkZGluZztcclxuICogICBvcHRpb25zLmNhdGVnb3J5O1xyXG4gKiBAcGFyYW0ge1t0eXBlXX0gY29udGFpbmVyIOinhumikeWFg+e0oOWuueWZqFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIFZpZGVvQ2xhc3Mob3B0aW9ucywgY29udGFpbmVyKSB7XHJcbiAgICBvcHRpb25zLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIGlmICgndmlkZW8nID09IG9wdGlvbnMuY2F0ZWdvcnkpIHtcclxuICAgICAgICB0aGlzLnZpZGVvID0gVmlkZW9QbGF5ZXIob3B0aW9ucyk7XHJcbiAgICB9IGVsc2UgaWYgKCd3ZWJwYWdlJyA9PSBvcHRpb25zLmNhdGVnb3J5KSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IFdlYlBhZ2Uob3B0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvcHRpb25zLmNhdGVnb3J5IG11c3QgYmUgdmlkZW8gb3Igd2ViUGFnZSAnKVxyXG4gICAgfVxyXG59XHJcblxyXG5WaWRlb0NsYXNzLnByb3RvdHlwZSA9IHtcclxuICAgIHBsYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v6ZqQ6JeP5bel5YW35qCPXHJcbiAgICAgICAgWHV0LlZpZXcuVG9vbGJhcihcImhpZGVcIik7XHJcbiAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XHJcbiAgICB9LFxyXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/mmL7npLrlt6XlhbfmoI9cclxuICAgICAgICBYdXQuVmlldy5Ub29sYmFyKFwic2hvd1wiKTtcclxuICAgICAgICB0aGlzLnZpZGVvLnN0b3AoKTtcclxuICAgIH0sXHJcbiAgICBjbG9zZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy52aWRlby5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8g572R6aG1XHJcbmZ1bmN0aW9uIFdlYlBhZ2Uob3B0aW9ucykge1xyXG5cclxuICAgIHZhciBwYWdlVXJsID0gb3B0aW9ucy5wYWdlVXJsO1xyXG5cclxuICAgIC8v6Lez6L2sYXBw5biC5Zy6XHJcbiAgICAvL+aZrumAmue9kemhteaYrzEgIFxyXG4gICAgLy/ot7PovaxhcHDluILlnLrlsLHmmK8yXHJcbiAgICBpZiAob3B0aW9ucy5oeXBlcmxpbmsgPT0gMikge1xyXG4gICAgICAgIC8v6Lez6L2s5YiwYXBw5biC5Zy6XHJcbiAgICAgICAgd2luZG93Lm9wZW4ocGFnZVVybClcclxuICAgICAgICAgICAgLy/mlbDmja7nu5/orqFcclxuICAgICAgICAkLmdldCgnaHR0cDovL3d3dy5hcHBjYXJyaWVyLmNuL2luZGV4LnBocC9hZHBsdWdpbi9yZWNvcmRhZHM/YWlkPTE2JmVzYklkPWlvcycpXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICB2YXIgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZyB8fCAwLFxyXG4gICAgICAgICAgICB3aWR0aCA9IG9wdGlvbnMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LFxyXG4gICAgICAgICAgICB2aWRlb0lkID0gb3B0aW9ucy52aWRlb0lkLFxyXG4gICAgICAgICAgICBsZWZ0ID0gb3B0aW9ucy5sZWZ0LFxyXG4gICAgICAgICAgICB0b3AgPSBvcHRpb25zLnRvcCxcclxuICAgICAgICAgICAgJHZpZGVvTm9kZSwgZWxlV2lkdGgsIGVsZUhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHBhZGRpbmcpIHtcclxuICAgICAgICAgICAgZWxlV2lkdGggPSB3aWR0aCAtIDIgKiBwYWRkaW5nO1xyXG4gICAgICAgICAgICBlbGVIZWlnaHQgPSBoZWlnaHQgLSAyICogcGFkZGluZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBlbGVIZWlnaHQgPSBoZWlnaHRcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAkdmlkZW9Ob2RlID0gJCgnPGRpdiBpZD1cInZpZGVvV3JhcF8nICsgdmlkZW9JZCArICdcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6JyArIGxlZnQgKyAncHg7dG9wOicgKyB0b3AgKyAncHg7d2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O3otaW5kZXg6JyArIFh1dC56SW5kZXhsZXZlbCgpICsgJ1wiPicgK1xyXG4gICAgICAgICAgICAnPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6JyArIHBhZGRpbmcgKyAncHg7dG9wOicgKyBwYWRkaW5nICsgJ3B4O3dpZHRoOicgKyBlbGVXaWR0aCArICdweDtoZWlnaHQ6JyArIGVsZUhlaWdodCArICdweDtcIj4nICtcclxuICAgICAgICAgICAgJzxpZnJhbWUgc3JjPVwiJyArIHBhZ2VVcmwgKyAnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtcIj48L2lmcmFtZT4nICtcclxuICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIG9wdGlvbnMuY29udGFpbmVyLmFwcGVuZCgkdmlkZW9Ob2RlKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHBsYXkoKSB7XHJcbiAgICAgICAgJHZpZGVvTm9kZSAmJiAkdmlkZW9Ob2RlLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdG9wKCkge1xyXG4gICAgICAgICR2aWRlb05vZGUgJiYgJHZpZGVvTm9kZS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICAgICAgaWYgKCR2aWRlb05vZGUpIHtcclxuICAgICAgICAgICAgJHZpZGVvTm9kZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJHZpZGVvTm9kZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGxheTogcGxheSxcclxuICAgICAgICBzdG9wOiBzdG9wLFxyXG4gICAgICAgIGNsb3NlOiBjbG9zZVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gd2ViVmlldyhvcHRpb25zKSB7XHJcbiAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LFxyXG4gICAgICAgIHBhZ2VVcmwgPSBvcHRpb25zLnBhZ2VVcmwsXHJcbiAgICAgICAgbGVmdCA9IG9wdGlvbnMubGVmdCxcclxuICAgICAgICB0b3AgPSBvcHRpb25zLnRvcDtcclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICAgIC8v5omT5byA5LiA5Liq572R6aG155qE5pe25YCZ77yM6ZyA6KaB5YWz6Zet5YW25LuW5bey57uP5omT5byA6L+H55qE572R6aG1XHJcbiAgICAgICAgWHV0LlBsdWdpbi5XZWJWaWV3LmNsb3NlKCk7XHJcbiAgICAgICAgWHV0LlZpZGVvTWFuYWdlci5vcGVuV2ViVmlldyA9IGZhbHNlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFh1dC5QbHVnaW4uV2ViVmlldy5vcGVuKHBhZ2VVcmwsIGxlZnQsIHRvcCwgaGVpZ2h0LCB3aWR0aCwgMSk7XHJcbiAgICAgICAgICAgIFh1dC5WaWRlb01hbmFnZXIub3BlbldlYlZpZXcgPSB0cnVlO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICAgICAgWHV0LlBsdWdpbi5XZWJWaWV3LmNsb3NlKCk7XHJcbiAgICAgICAgWHV0LlZpZGVvTWFuYWdlci5vcGVuV2ViVmlldyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGxheTogcGxheSxcclxuICAgICAgICBzdG9wOiBjbG9zZSxcclxuICAgICAgICBjbG9zZTogY2xvc2VcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBpb3Pnqpflj6PljJZjYW52YXPmkq3mlL7lmahcclxuICovXHJcbmZ1bmN0aW9uIFZpZGVvQ2FudmFzKG9wdGlvbnMpIHtcclxuXHJcbiAgICB2YXIgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgJCgnYm9keScpLFxyXG4gICAgICAgIHVybCA9IFh1dC5jb25maWcudmlkZW9QYXRoKCkgKyBvcHRpb25zLnVybCxcclxuICAgICAgICB3aWR0aCA9IG9wdGlvbnMud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgICAgdG9wID0gb3B0aW9ucy50b3AsXHJcbiAgICAgICAgbGVmdCA9IG9wdGlvbnMubGVmdCxcclxuICAgICAgICB6SW5kZXggPSBvcHRpb25zLnpJbmRleDtcclxuXHJcbiAgICB2YXIgdmlkZW8gPSBuZXcgSW5saW5lVmlkZW8oY29udGFpbmVyLCB7XHJcbiAgICAgICAgJ2xvb3AnOiBmYWxzZSxcclxuICAgICAgICAnYXV0b3BsYXknOiB0cnVlLFxyXG4gICAgICAgICdzcmMnOiB1cmwsXHJcbiAgICAgICAgJ3dpZHRoJzogd2lkdGgsXHJcbiAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcclxuICAgICAgICAndG9wJzogdG9wLFxyXG4gICAgICAgICdsZWZ0JzogbGVmdCxcclxuICAgICAgICAnekluZGV4JzogekluZGV4XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBhdXNlKClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmlkZW8uZGVzdHJveSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWuieWNk3Bob25lZ2Fw5pKt5pS+5ZmoXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBfTWVkaWEob3B0aW9ucykge1xyXG4gICAgdmFyIHVybCA9IE1NWENPTkZJRyA/IG9wdGlvbnMudXJsIDogb3B0aW9ucy51cmwuc3Vic3RyaW5nKDAsIG9wdGlvbnMudXJsLmxhc3RJbmRleE9mKCcuJykpLFxyXG4gICAgICAgIHdpZHRoID0gb3B0aW9ucy53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCxcclxuICAgICAgICB0b3AgPSBvcHRpb25zLnRvcCB8fCAwLFxyXG4gICAgICAgIGxlZnQgPSBvcHRpb25zLmxlZnQgfHwgMDtcclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICAgIC8vdmFyIGNhbGN1bGF0ZSA9IFh1dC5jb25maWcucHJvcG9ydGlvbi5jYWxjdWxhdGVDb250YWluZXIoKTtcclxuICAgICAgICAvL3RvcCArPSBNYXRoLmNlaWwoY2FsY3VsYXRlLnRvcCk7XHJcbiAgICAgICAgLy9sZWZ0ICs9IE1hdGguY2VpbChjYWxjdWxhdGUubGVmdCk7XHJcbiAgICAgICAgWHV0LlBsdWdpbi5WaWRlb1BsYXllci5wbGF5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL+aIkOWKn+Wbnuiwg1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL+Wksei0peWbnuiwg1xyXG4gICAgICAgIH0sIFh1dC5jb25maWcudmlkZW9QYXRoKCkgKyB1cmwsIDEsIGxlZnQsIHRvcCwgaGVpZ2h0LCB3aWR0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICAgICAgWHV0LlBsdWdpbi5WaWRlb1BsYXllci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXkoKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBsYXk6IHBsYXksXHJcbiAgICAgICAgc3RvcDogY2xvc2UsXHJcbiAgICAgICAgY2xvc2U6IGNsb3NlXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAgIGh0bWw155qEdmlkZW/mkq3mlL7lmahcclxuICogICBBUEkgOlxyXG4gKiAgIHBsYXkoKTvmkq3mlL5cclxuICogICBzdG9wKCk7ICAgIC8v5YGc5q2i5pKt5pS+5bm26ZqQ6JeP55WM6Z2iXHJcbiAqICAgZGVzdHJveSgpOyAvL+a4hemZpOWFg+e0oOiKgueCueWPiuS6i+S7tue7keWumlxyXG4gKiAgZGVtbyA6XHJcbiAqICB2YXIgdmlkZW8gPSBuZXcgVmlkZW8oe3VybDonMS5tcDQnLHdpZHRoOiczMjAnLC4uLn0pO1xyXG4gKiAgdmlkZW8ucGxheSgpO1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIFZpZGVvNShvcHRpb25zKSB7XHJcblxyXG4gICAgdmFyIGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8ICQoJ2JvZHknKSxcclxuICAgICAgICB1cmwgPSBYdXQuY29uZmlnLnZpZGVvUGF0aCgpICsgb3B0aW9ucy51cmwsXHJcbiAgICAgICAgd2lkdGggPSBvcHRpb25zLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LFxyXG4gICAgICAgIHRvcCA9IG9wdGlvbnMudG9wLFxyXG4gICAgICAgIGxlZnQgPSBvcHRpb25zLmxlZnQsXHJcbiAgICAgICAgekluZGV4ID0gb3B0aW9ucy56SW5kZXgsXHJcbiAgICAgICAgLyrliJvlu7rmkq3mlL7lmagqL1xyXG4gICAgICAgICR2aWRlb1dyYXAgPSAkKCc8ZGl2PjwvZGl2PicpO1xyXG5cclxuICAgIHZhciAkdmlkZW8gPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykpO1xyXG5cclxuICAgIC8v6Z+z6aKR5a+56LGhXHJcbiAgICB2YXIgdmlkZW8gPSAkdmlkZW9bMF07XHJcblxyXG4gICAgdmlkZW8ucGxheSgpO1xyXG5cclxuICAgICR2aWRlby5jc3Moe1xyXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgfSkuYXR0cih7XHJcbiAgICAgICAgJ3NyYyc6IHVybCxcclxuICAgICAgICAnY29udHJvbHMnOiAnY29udHJvbHMnLFxyXG4gICAgICAgICdhdXRvcGxheSc6ICdhdXRvcGxheSdcclxuICAgIH0pO1xyXG5cclxuICAgICR2aWRlb1dyYXAuYXBwZW5kKCR2aWRlbykuY3NzKHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAnei1pbmRleCc6IC0xLFxyXG4gICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgIGxlZnQ6IGxlZnQsXHJcbiAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+aSreaUvlxyXG4gICAgZnVuY3Rpb24gcGxheSgpIHtcclxuICAgICAgICAkdmlkZW9XcmFwLnNob3coKTtcclxuICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lgZzmraJcclxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XHJcbiAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAvL+WkjeS9jeinhumikVxyXG4gICAgICAgIGlmICh2aWRlby5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IDAuMDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Zyo5YWo5bGP5pe25peg5rOV6ZqQ6JeP5YWD57SgLOmhu+WFiOmAgOWHulxyXG4gICAgICAgIC8vdGhpcy52aWRlby53ZWJraXRFeGl0RnVsbFNjcmVlbigpO1xyXG4gICAgICAgICR2aWRlb1dyYXAuaGlkZSgpO1xyXG5cclxuICAgICAgICAvL+eUqOS6juWQr+WKqOinhumikVxyXG4gICAgICAgIGlmIChvcHRpb25zLnN0YXJ0Qm9vdCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLnN0YXJ0Qm9vdCgpO1xyXG4gICAgICAgICAgICBkZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVycm9yKCkge1xyXG4gICAgICAgIC8v55So5LqO5ZCv5Yqo6KeG6aKRXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRCb290KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuc3RhcnRCb290KCk7XHJcbiAgICAgICAgICAgIGRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmLLmraLmkq3mlL7plJnor6/ml7bmkq3mlL7nlYzpnaLpl6rnjrBcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcclxuICAgICAgICAkdmlkZW9XcmFwLmNzcyh7XHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCArICdweCcsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgJ3B4JyxcclxuICAgICAgICAgICAgekluZGV4OiB6SW5kZXhcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL+mUgOavgVxyXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHN0b3AsIGZhbHNlKTtcclxuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yLCBmYWxzZSk7XHJcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIHN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0ZW5kZnVsbHNjcmVlbicsIHN0b3AsIGZhbHNlKTtcclxuICAgICAgICAkdmlkZW9XcmFwLmhpZGUoKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb250YWluZXIuYXBwZW5kKCR2aWRlb1dyYXApO1xyXG5cclxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc3RvcCwgZmFsc2UpO1xyXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvciwgZmFsc2UpO1xyXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIHN0YXJ0LCBmYWxzZSk7XHJcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRlbmRmdWxsc2NyZWVuJywgc3RvcCwgZmFsc2UpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGxheTogcGxheSxcclxuICAgICAgICBzdG9wOiBzdG9wLFxyXG4gICAgICAgIGNsb3NlOiBkZXN0cm95XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvYmxvYi9tYXN0ZXIvZG9jcy9ndWlkZXMvc2V0dXAubWRcclxuICog5Z+65LqOdmlkZW8uanPnmoR3ZWLmkq3mlL7lmags5ZyocGPnq69mbGFzaOS8mOWFiFxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gVmlkZW9KUyhvcHRpb25zKSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgJCgnYm9keScpLFxyXG4gICAgICAgIHZpZGVvSWQgPSBvcHRpb25zLnZpZGVvSWQsXHJcbiAgICAgICAgdXJsID0gWHV0LmNvbmZpZy52aWRlb1BhdGgoKSArIG9wdGlvbnMudXJsLFxyXG4gICAgICAgIHdpZHRoID0gb3B0aW9ucy53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCxcclxuICAgICAgICB6SW5kZXggPSBvcHRpb25zLnpJbmRleCxcclxuICAgICAgICB0b3AgPSBvcHRpb25zLnRvcCxcclxuICAgICAgICBsZWZ0ID0gb3B0aW9ucy5sZWZ0LFxyXG4gICAgICAgIHZpZGVvLCBzb3VyY2UsIHBsYXllciwgYXBpO1xyXG5cclxuICAgIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcclxuICAgIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xyXG4gICAgc291cmNlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcclxuICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndmlkZW8vbXA0Jyk7XHJcbiAgICB2aWRlby5pZCA9ICd2aWRlb18nICsgdmlkZW9JZDtcclxuICAgIHZpZGVvLmNsYXNzTmFtZSA9IFwidmlkZW8tanMgdmpzLXN1YmxpbWUtc2tpblwiO1xyXG4gICAgdmlkZW8uYXBwZW5kQ2hpbGQoc291cmNlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmQodmlkZW8pO1xyXG4gICAgLy/mjIflrprmnKzlnLDnmoRzd2blnLDlnYDlj5bku6PnvZHnu5zlnLDlnYBcclxuICAgIHZpZGVvanMub3B0aW9ucy5mbGFzaC5zd2YgPSBcImxpYi9kYXRhL3ZpZGVvLWpzLnN3ZlwiO1xyXG5cclxuXHJcbiAgICB2YXIgY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+e7k+adn+WQjua4heeQhuiHquW3sVxyXG4gICAgICAgIFh1dC5WaWRlb01hbmFnZXIucmVtb3ZlVmlkZW8ob3B0aW9ucy5wYWdlSWQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL3ZpZGVvanPmmK92aWRlb2pz5a6a5LmJ55qE5YWo5bGA5Ye95pWwXHJcbiAgICBwbGF5ZXIgPSB2aWRlb2pzKHZpZGVvLCB7XHJcbiAgICAgICAgLy/op4bpopHlvJXmk47pobrluo8s5L2N572u5o6S5YmN6Z2i55qE5LyY5YWI57qn6LaK6auYXHJcbiAgICAgICAgXCJ0ZWNoT3JkZXJcIjogW1wiaHRtbDVcIiwgXCJmbGFzaFwiXSxcclxuICAgICAgICAvL+mihOWKoOi9vVxyXG4gICAgICAgIFwicHJlbG9hZFwiOiBcImF1dG9cIixcclxuICAgICAgICAvL+aYr+WQpuacieaOp+WItuadoVxyXG4gICAgICAgIFwiY29udHJvbHNcIjogdHJ1ZSxcclxuICAgICAgICBcImF1dG9wbGF5XCI6IHRydWUsXHJcbiAgICAgICAgXCJ3aWR0aFwiOiB3aWR0aCxcclxuICAgICAgICBcImhlaWdodFwiOiBoZWlnaHQsXHJcbiAgICAgICAgLy/mkq3mlL7lhYPntKDnm7jlhbPorr7nva5cclxuICAgICAgICBjaGlsZHJlbjoge1xyXG4gICAgICAgICAgICAvL+aaguWBnOaXtuaYr+WQpuaYvuekuuWkp+Wkp+eahOaSreaUvuaMiemSrlxyXG4gICAgICAgICAgICBiaWdQbGF5QnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgLy/mmK/lkKbmmL7npLrplJnor6/mj5DnpLpcclxuICAgICAgICAgICAgZXJyb3JEaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgLy/mmK/lkKbmmL7npLrop4bpopHlv6vnhadcclxuICAgICAgICAgICAgcG9zdGVySW1hZ2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAvL+aYr+WQpuaYvuekuuWtl+W5lVxyXG4gICAgICAgICAgICB0ZXh0VHJhY2tEaXNwbGF5OiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy/mjqfliLbmnaHnm7jlhbPorr7nva5cclxuICAgICAgICBjb250cm9sQmFyOiB7XHJcbiAgICAgICAgICAgIC8v5piv5ZCm5pi+56S65a2X5bmV5oyJ6ZKuXHJcbiAgICAgICAgICAgIGNhcHRpb25zQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgY2hhcHRlcnNCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICBsaXZlRGlzcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgIC8v5piv5ZCm5pi+56S65Ymp5L2Z5pe26Ze0XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1RpbWVEaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgLy/mmK/lkKbmmL7npLrlrZDmoIfpopjmjInpkq5cclxuICAgICAgICAgICAgc3VidGl0bGVzQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICAgICAgLy/mmK/lkKbmmL7npLrlm57mlL7oj5zljZXmjInpkq5cclxuICAgICAgICAgICAgcGxheWJhY2tSYXRlTWVudUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIC8v5piv5ZCm5pi+56S65pe26Ze05YiG6ZqU56ymXCIvXCJcclxuICAgICAgICAgICAgdGltZURpdmlkZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAvL+aYr+WQpuaYvuekuuW9k+WJjeinhumikeeahOW9k+WJjeaXtumXtOWAvFxyXG4gICAgICAgICAgICBjdXJyZW50VGltZURpc3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICAvL+aYr+WQpuaYvuekuuinhumikeaXtumVv1xyXG4gICAgICAgICAgICBkdXJhdGlvbkRpc3BsYXk6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/lj6/ku6Xmkq3mlL7ml7bmj5DljYflsYLnuqfvvIzpmLLmraLpl6rnjrBcclxuICAgICAgICB0aGlzLm9uKCdjYW5wbGF5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHdyYXAuc3R5bGUuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+aSreaUvuWujOavleWQjuiHquWKqOWFs+mXrVxyXG4gICAgICAgIHRoaXMub24oJ2VuZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v57uT5p2f5ZCO5riF55CG6Ieq5bexXHJcbiAgICAgICAgICAgIGNsZWFyKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xlYXIoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+WboOS4uuayoeacieWFs+mXreaMiemSrizlj4jkuI3mg7Poh6rlt7HlgZos5bCx5oqK5YWo5bGP5Y+Y5oiQ5YWz6Zet5aW95LqGLlxyXG4gICAgICAgIHRoaXMub24oXCJ0b3VjaGVuZCBtb3VzZXVwXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGUudGFyZ2V0LmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoLTEgIT0gY2xhc3NOYW1lLmluZGV4T2YoJ3Zqcy1mdWxsc2NyZWVuLWNvbnRyb2wnKSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXIoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgIC8v5L+u5q2j6KeG6aKR5qC35byPXHJcbiAgICB2YXIgd3JhcCA9IHBsYXllci5lbCgpLFxyXG4gICAgICAgIHZpZGVvRWxlbWVudCA9IHdyYXAuY2hpbGRyZW5bMF07XHJcbiAgICB3cmFwLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuICAgIHdyYXAuc3R5bGUudG9wID0gdG9wICsgJ3B4JztcclxuICAgIHdyYXAuc3R5bGUuekluZGV4ID0gLTE7XHJcblxyXG4gICAgYXBpID0ge1xyXG4gICAgICAgIHBsYXk6IG5vb3AsXHJcblxyXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcGxheWVyICYmIHBsYXllci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHBsYXllciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcGk7XHJcbn1cclxuXHJcblh1dC5WaWRlbzUgPSBWaWRlbzU7XHJcblxyXG5YdXQuVmlkZW8gPSBWaWRlb0NsYXNzO1xyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBWaWRlb0NsYXNzIGFzIEh0bWw1VmlkZW9cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC92aWRlby92aWRlby5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 54 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Adapter = Adapter;\n\nvar _iframe = __webpack_require__(55);\n\nvar _core = __webpack_require__(56);\n\n/********************************************************************\r\n *\r\n *                   零件适配器\r\n *\r\n * \t\t\t\t1 数据过滤\r\n * \t\t\t\t构件5种类型\r\n *\r\n * *******************************************************************/\n\nvar proportion = void 0;\nvar screenSize = void 0;\nvar appId = void 0;\n\nfunction loadWidget(type, data, widgetClass) {\n\n    Xut.Application.injectionComponent({\n        'pageType': data.pageType, //标记类型区分\n        'pageIndex': data.pageIndex,\n        'widget': new widgetClass(data)\n    });\n\n    // var widgetObj = new widgetClass(data);\n\n    // //特殊的零件，也是只加载脚本\n    // if (data.widgetName != \"bones\") {\n    //     //保存引用\n    //     //特殊的2个个零件不保存\n    //     Xut.Application.injectionComponent({\n    //         'pageType'  : data.pageType, //标记类型区分\n    //         'pageIndex' : data.pageIndex,\n    //         'widget'    : widgetObj\n    //     });\n    // }\n}\n\n/**\r\n * 构建5中零件类型\r\n * \t1、iframe零件\r\n *\t2、页面零件\r\n *\t3、SVG零件\r\n *\t4、canvas零件\r\n *\t5、webGL零件\r\n * @type {Object}\r\n */\nvar adapterType = {\n\n    /**\r\n     * iframe零件类型\r\n     * @param  {[type]} data [description]\r\n     * @return {[type]}      [description]\r\n     */\n    'iframe': function iframe(data) {\n        loadWidget('widget', data, _iframe.iframeWidget);\n    },\n    'widget': function widget(data) {\n        loadWidget('widget', data, _iframe.iframeWidget);\n    },\n\n    /**\r\n     * js零件类型处理\r\n     * @param  {[type]} data [description]\r\n     * @return {[type]}      [description]\r\n     */\n    'js': function js(data) {\n        loadWidget('js', data, _core.pageWidget);\n    },\n    'page': function page(data) {\n        loadWidget('page', data, _core.pageWidget);\n    },\n    'svg': function svg(data) {\n        loadWidget('svg', data, _core.pageWidget);\n    },\n    'canvas': function canvas(data) {\n        loadWidget('canvas', data, _core.pageWidget);\n    },\n    'webgL': function webgL(data) {\n        loadWidget('webgL', data, _core.pageWidget);\n    }\n};\n\n/**\r\n * 获取widget数据\r\n * @return {[type]} [description]\r\n */\nfunction filtrateDas(data) {\n    data = filterData(data);\n    return proportion.calculateElement(data);\n}\n\n/**\r\n * 过滤出数据\r\n * @return {[type]} [description]\r\n */\nfunction filterData(data) {\n    //直接通过id查询数据\t\n    if (data.widgetId) {\n        _.extend(data, Xut.data.query('Widget', data.widgetId));\n    } else {\n        //直接通过activityId查询数据\t\n        _.extend(data, Xut.data.query('Widget', data.activityId, 'activityId'));\n    }\n    return data;\n}\n\n/**\r\n * 解析json数据\r\n * @param  {[type]} itemArray [description]\r\n * @return {[type]}           [description]\r\n */\nfunction ParseJSON(itemArray) {\n    var anminJson;\n    try {\n        anminJson = JSON.parse(itemArray);\n    } catch (error) {\n        anminJson = new Function(\"return \" + itemArray)();\n    }\n    return anminJson;\n}\n\n/**\r\n * ifarme内部，请求返回数据\r\n * @return {[type]} [description]\r\n */\nfunction parsePara(data) {\n    var inputPara, //输入数据\n    outputPara; //输出数据\n    if (inputPara = data.inputPara) {\n        outputPara = ParseJSON(inputPara);\n    }\n    return outputPara;\n}\n\nfunction Adapter(para) {\n\n    var config = Xut.config;\n\n    proportion = config.proportion;\n    screenSize = config.screenSize;\n    appId = config.appId;\n\n    //获取数据\n    var data = filtrateDas(para);\n\n    para = null;\n\n    data.id = data.activityId;\n\n    //解析数据\n    data.inputPara = parsePara(data);\n\n    if (!data.inputPara) {\n        data.inputPara = {};\n    }\n\n    //增加属性参数\n    if (data.widgetType === 'page') {\n        data.inputPara.container = data.rootNode;\n    }\n\n    data.inputPara.uuid = appId + '-' + data.activityId; //唯一ID标示\n    data.inputPara.id = data.activityId;\n    data.inputPara.screenSize = screenSize;\n    //content的命名前缀\n    data.inputPara.contentPrefix = Xut.Presentation.MakeContentPrefix(data.pageIndex, data.pageType);\n\n    //画轴模式\n    data.scrollPaintingMode = config.scrollPaintingMode;\n    data.calculate = config.proportion.calculateContainer();\n\n    //执行类构建\n    adapterType[(data.widgetType || 'widget').toLowerCase()](data);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvYWRhcHRlci5qcz82NzQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBK0lnQixPLEdBQUEsTzs7QUFySWhCOztBQUNBOzs7Ozs7Ozs7OztBQUdBLElBQUksbUJBQUo7QUFDQSxJQUFJLG1CQUFKO0FBQ0EsSUFBSSxjQUFKOztBQUdBLFNBQVMsVUFBVCxDQUFvQixJQUFwQixFQUEwQixJQUExQixFQUFnQyxXQUFoQyxFQUE2Qzs7QUFHekMsUUFBSSxXQUFKLENBQWdCLGtCQUFoQixDQUFtQztBQUMvQixvQkFBYyxLQUFLLFFBRFksRTtBQUUvQixxQkFBYyxLQUFLLFNBRlk7QUFHL0Isa0JBQWMsSUFBSSxXQUFKLENBQWdCLElBQWhCO0FBSGlCLEtBQW5DOzs7Ozs7Ozs7Ozs7OztBQW1CSDs7Ozs7Ozs7Ozs7QUFXRCxJQUFJLGNBQWM7Ozs7Ozs7QUFPZCxjQUFVLGdCQUFTLElBQVQsRUFBZTtBQUNyQixtQkFBVyxRQUFYLEVBQXFCLElBQXJCO0FBQ0gsS0FUYTtBQVVkLGNBQVUsZ0JBQVMsSUFBVCxFQUFlO0FBQ3JCLG1CQUFXLFFBQVgsRUFBcUIsSUFBckI7QUFDSCxLQVphOzs7Ozs7O0FBbUJkLFVBQU0sWUFBUyxJQUFULEVBQWU7QUFDakIsbUJBQVcsSUFBWCxFQUFpQixJQUFqQjtBQUNILEtBckJhO0FBc0JkLFlBQVEsY0FBUyxJQUFULEVBQWU7QUFDbkIsbUJBQVcsTUFBWCxFQUFtQixJQUFuQjtBQUNILEtBeEJhO0FBeUJkLFdBQU8sYUFBUyxJQUFULEVBQWU7QUFDbEIsbUJBQVcsS0FBWCxFQUFrQixJQUFsQjtBQUNILEtBM0JhO0FBNEJkLGNBQVUsZ0JBQVMsSUFBVCxFQUFlO0FBQ3JCLG1CQUFXLFFBQVgsRUFBcUIsSUFBckI7QUFDSCxLQTlCYTtBQStCZCxhQUFTLGVBQVMsSUFBVCxFQUFlO0FBQ3BCLG1CQUFXLE9BQVgsRUFBb0IsSUFBcEI7QUFDSDtBQWpDYSxDQUFsQjs7Ozs7O0FBeUNBLFNBQVMsV0FBVCxDQUFxQixJQUFyQixFQUEyQjtBQUN2QixXQUFPLFdBQVcsSUFBWCxDQUFQO0FBQ0EsV0FBTyxXQUFXLGdCQUFYLENBQTRCLElBQTVCLENBQVA7QUFDSDs7Ozs7O0FBTUQsU0FBUyxVQUFULENBQW9CLElBQXBCLEVBQTBCOztBQUV0QixRQUFJLEtBQUssUUFBVCxFQUFtQjtBQUNmLFVBQUUsTUFBRixDQUFTLElBQVQsRUFBZSxJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsUUFBZixFQUF5QixLQUFLLFFBQTlCLENBQWY7QUFDSCxLQUZELE1BRU87O0FBRUgsVUFBRSxNQUFGLENBQVMsSUFBVCxFQUFlLElBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxRQUFmLEVBQXlCLEtBQUssVUFBOUIsRUFBMEMsWUFBMUMsQ0FBZjtBQUNIO0FBQ0QsV0FBTyxJQUFQO0FBQ0g7Ozs7Ozs7QUFPRCxTQUFTLFNBQVQsQ0FBbUIsU0FBbkIsRUFBOEI7QUFDMUIsUUFBSSxTQUFKO0FBQ0EsUUFBSTtBQUNBLG9CQUFZLEtBQUssS0FBTCxDQUFXLFNBQVgsQ0FBWjtBQUNILEtBRkQsQ0FFRSxPQUFPLEtBQVAsRUFBYztBQUNaLG9CQUFhLElBQUksUUFBSixDQUFhLFlBQVksU0FBekIsQ0FBRCxFQUFaO0FBQ0g7QUFDRCxXQUFPLFNBQVA7QUFDSDs7Ozs7O0FBT0QsU0FBUyxTQUFULENBQW1CLElBQW5CLEVBQXlCO0FBQ3JCLFFBQUksU0FBSixFO0FBQ0ksY0FESixDO0FBRUEsUUFBSSxZQUFZLEtBQUssU0FBckIsRUFBZ0M7QUFDNUIscUJBQWEsVUFBVSxTQUFWLENBQWI7QUFDSDtBQUNELFdBQU8sVUFBUDtBQUNIOztBQUdNLFNBQVMsT0FBVCxDQUFpQixJQUFqQixFQUF1Qjs7QUFFMUIsUUFBSyxTQUFTLElBQUksTUFBbEI7O0FBRUEsaUJBQWEsT0FBTyxVQUFwQjtBQUNBLGlCQUFhLE9BQU8sVUFBcEI7QUFDQSxZQUFhLE9BQU8sS0FBcEI7OztBQUdBLFFBQUksT0FBTyxZQUFZLElBQVosQ0FBWDs7QUFFQSxXQUFPLElBQVA7O0FBRUEsU0FBSyxFQUFMLEdBQVUsS0FBSyxVQUFmOzs7QUFHQSxTQUFLLFNBQUwsR0FBaUIsVUFBVSxJQUFWLENBQWpCOztBQUVBLFFBQUksQ0FBQyxLQUFLLFNBQVYsRUFBcUI7QUFDakIsYUFBSyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0g7OztBQUdELFFBQUksS0FBSyxVQUFMLEtBQW9CLE1BQXhCLEVBQWdDO0FBQzVCLGFBQUssU0FBTCxDQUFlLFNBQWYsR0FBMkIsS0FBSyxRQUFoQztBQUNIOztBQUVELFNBQUssU0FBTCxDQUFlLElBQWYsR0FBc0IsUUFBUSxHQUFSLEdBQWMsS0FBSyxVQUF6QyxDO0FBQ0EsU0FBSyxTQUFMLENBQWUsRUFBZixHQUFvQixLQUFLLFVBQXpCO0FBQ0EsU0FBSyxTQUFMLENBQWUsVUFBZixHQUE0QixVQUE1Qjs7QUFFQSxTQUFLLFNBQUwsQ0FBZSxhQUFmLEdBQStCLElBQUksWUFBSixDQUFpQixpQkFBakIsQ0FBbUMsS0FBSyxTQUF4QyxFQUFtRCxLQUFLLFFBQXhELENBQS9COzs7QUFHQSxTQUFLLGtCQUFMLEdBQTBCLE9BQU8sa0JBQWpDO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLE9BQU8sVUFBUCxDQUFrQixrQkFBbEIsRUFBakI7OztBQUlBLGdCQUFZLENBQUMsS0FBSyxVQUFMLElBQW1CLFFBQXBCLEVBQThCLFdBQTlCLEVBQVosRUFBeUQsSUFBekQ7QUFDSCIsImZpbGUiOiI1NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgICDpm7bku7bpgILphY3lmahcclxuICpcclxuICogXHRcdFx0XHQxIOaVsOaNrui/h+a7pFxyXG4gKiBcdFx0XHRcdOaehOS7tjXnp43nsbvlnotcclxuICpcclxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5pbXBvcnQgeyBpZnJhbWVXaWRnZXQgfSBmcm9tICcuL2lmcmFtZSdcclxuaW1wb3J0IHsgcGFnZVdpZGdldCB9IGZyb20gJy4vcGFnZS9jb3JlJ1xyXG5cclxuXHJcbmxldCBwcm9wb3J0aW9uXHJcbmxldCBzY3JlZW5TaXplXHJcbmxldCBhcHBJZFxyXG5cclxuIFxyXG5mdW5jdGlvbiBsb2FkV2lkZ2V0KHR5cGUsIGRhdGEsIHdpZGdldENsYXNzKSB7XHJcblxyXG5cclxuICAgIFh1dC5BcHBsaWNhdGlvbi5pbmplY3Rpb25Db21wb25lbnQoe1xyXG4gICAgICAgICdwYWdlVHlwZScgIDogZGF0YS5wYWdlVHlwZSwgLy/moIforrDnsbvlnovljLrliIZcclxuICAgICAgICAncGFnZUluZGV4JyA6IGRhdGEucGFnZUluZGV4LFxyXG4gICAgICAgICd3aWRnZXQnICAgIDogbmV3IHdpZGdldENsYXNzKGRhdGEpXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gdmFyIHdpZGdldE9iaiA9IG5ldyB3aWRnZXRDbGFzcyhkYXRhKTtcclxuXHJcbiAgICAvLyAvL+eJueauiueahOmbtuS7tu+8jOS5n+aYr+WPquWKoOi9veiEmuacrFxyXG4gICAgLy8gaWYgKGRhdGEud2lkZ2V0TmFtZSAhPSBcImJvbmVzXCIpIHtcclxuICAgIC8vICAgICAvL+S/neWtmOW8leeUqFxyXG4gICAgLy8gICAgIC8v54m55q6K55qEMuS4quS4qumbtuS7tuS4jeS/neWtmFxyXG4gICAgLy8gICAgIFh1dC5BcHBsaWNhdGlvbi5pbmplY3Rpb25Db21wb25lbnQoe1xyXG4gICAgLy8gICAgICAgICAncGFnZVR5cGUnICA6IGRhdGEucGFnZVR5cGUsIC8v5qCH6K6w57G75Z6L5Yy65YiGXHJcbiAgICAvLyAgICAgICAgICdwYWdlSW5kZXgnIDogZGF0YS5wYWdlSW5kZXgsXHJcbiAgICAvLyAgICAgICAgICd3aWRnZXQnICAgIDogd2lkZ2V0T2JqXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmnoTlu7o15Lit6Zu25Lu257G75Z6LXHJcbiAqIFx0MeOAgWlmcmFtZembtuS7tlxyXG4gKlx0MuOAgemhtemdoumbtuS7tlxyXG4gKlx0M+OAgVNWR+mbtuS7tlxyXG4gKlx0NOOAgWNhbnZhc+mbtuS7tlxyXG4gKlx0NeOAgXdlYkdM6Zu25Lu2XHJcbiAqIEB0eXBlIHtPYmplY3R9XHJcbiAqL1xyXG52YXIgYWRhcHRlclR5cGUgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpZnJhbWXpm7bku7bnsbvlnotcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICAnaWZyYW1lJzogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGxvYWRXaWRnZXQoJ3dpZGdldCcsIGRhdGEsIGlmcmFtZVdpZGdldCk7XHJcbiAgICB9LFxyXG4gICAgJ3dpZGdldCc6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBsb2FkV2lkZ2V0KCd3aWRnZXQnLCBkYXRhLCBpZnJhbWVXaWRnZXQpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIGpz6Zu25Lu257G75Z6L5aSE55CGXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgJ2pzJzogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGxvYWRXaWRnZXQoJ2pzJywgZGF0YSwgcGFnZVdpZGdldCk7XHJcbiAgICB9LFxyXG4gICAgJ3BhZ2UnOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbG9hZFdpZGdldCgncGFnZScsIGRhdGEsIHBhZ2VXaWRnZXQpO1xyXG4gICAgfSxcclxuICAgICdzdmcnOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbG9hZFdpZGdldCgnc3ZnJywgZGF0YSwgcGFnZVdpZGdldCk7XHJcbiAgICB9LFxyXG4gICAgJ2NhbnZhcyc6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBsb2FkV2lkZ2V0KCdjYW52YXMnLCBkYXRhLCBwYWdlV2lkZ2V0KTtcclxuICAgIH0sXHJcbiAgICAnd2ViZ0wnOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbG9hZFdpZGdldCgnd2ViZ0wnLCBkYXRhLCBwYWdlV2lkZ2V0KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDojrflj5Z3aWRnZXTmlbDmja5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWx0cmF0ZURhcyhkYXRhKSB7XHJcbiAgICBkYXRhID0gZmlsdGVyRGF0YShkYXRhKTtcclxuICAgIHJldHVybiBwcm9wb3J0aW9uLmNhbGN1bGF0ZUVsZW1lbnQoZGF0YSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOi/h+a7pOWHuuaVsOaNrlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGZpbHRlckRhdGEoZGF0YSkge1xyXG4gICAgLy/nm7TmjqXpgJrov4dpZOafpeivouaVsOaNrlx0XHJcbiAgICBpZiAoZGF0YS53aWRnZXRJZCkge1xyXG4gICAgICAgIF8uZXh0ZW5kKGRhdGEsIFh1dC5kYXRhLnF1ZXJ5KCdXaWRnZXQnLCBkYXRhLndpZGdldElkKSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy/nm7TmjqXpgJrov4dhY3Rpdml0eUlk5p+l6K+i5pWw5o2uXHRcclxuICAgICAgICBfLmV4dGVuZChkYXRhLCBYdXQuZGF0YS5xdWVyeSgnV2lkZ2V0JywgZGF0YS5hY3Rpdml0eUlkLCAnYWN0aXZpdHlJZCcpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipcclxuICog6Kej5p6QanNvbuaVsOaNrlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGl0ZW1BcnJheSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIFBhcnNlSlNPTihpdGVtQXJyYXkpIHtcclxuICAgIHZhciBhbm1pbkpzb247XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFubWluSnNvbiA9IEpTT04ucGFyc2UoaXRlbUFycmF5KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgYW5taW5Kc29uID0gKG5ldyBGdW5jdGlvbihcInJldHVybiBcIiArIGl0ZW1BcnJheSkpKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5taW5Kc29uO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIGlmYXJtZeWGhemDqO+8jOivt+axgui/lOWbnuaVsOaNrlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlUGFyYShkYXRhKSB7XHJcbiAgICB2YXIgaW5wdXRQYXJhLCAvL+i+k+WFpeaVsOaNrlxyXG4gICAgICAgIG91dHB1dFBhcmE7IC8v6L6T5Ye65pWw5o2uXHJcbiAgICBpZiAoaW5wdXRQYXJhID0gZGF0YS5pbnB1dFBhcmEpIHtcclxuICAgICAgICBvdXRwdXRQYXJhID0gUGFyc2VKU09OKGlucHV0UGFyYSlcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXRQYXJhO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEFkYXB0ZXIocGFyYSkge1xyXG5cclxuICAgIHZhciAgY29uZmlnID0gWHV0LmNvbmZpZztcclxuICAgIFxyXG4gICAgcHJvcG9ydGlvbiA9IGNvbmZpZy5wcm9wb3J0aW9uO1xyXG4gICAgc2NyZWVuU2l6ZSA9IGNvbmZpZy5zY3JlZW5TaXplO1xyXG4gICAgYXBwSWQgICAgICA9IGNvbmZpZy5hcHBJZDtcclxuXHJcbiAgICAvL+iOt+WPluaVsOaNrlxyXG4gICAgdmFyIGRhdGEgPSBmaWx0cmF0ZURhcyhwYXJhKTtcclxuXHJcbiAgICBwYXJhID0gbnVsbDtcclxuXHJcbiAgICBkYXRhLmlkID0gZGF0YS5hY3Rpdml0eUlkO1xyXG5cclxuICAgIC8v6Kej5p6Q5pWw5o2uXHJcbiAgICBkYXRhLmlucHV0UGFyYSA9IHBhcnNlUGFyYShkYXRhKTtcclxuXHJcbiAgICBpZiAoIWRhdGEuaW5wdXRQYXJhKSB7XHJcbiAgICAgICAgZGF0YS5pbnB1dFBhcmEgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WinuWKoOWxnuaAp+WPguaVsFxyXG4gICAgaWYgKGRhdGEud2lkZ2V0VHlwZSA9PT0gJ3BhZ2UnKSB7XHJcbiAgICAgICAgZGF0YS5pbnB1dFBhcmEuY29udGFpbmVyID0gZGF0YS5yb290Tm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhLmlucHV0UGFyYS51dWlkID0gYXBwSWQgKyAnLScgKyBkYXRhLmFjdGl2aXR5SWQ7IC8v5ZSv5LiASUTmoIfnpLpcclxuICAgIGRhdGEuaW5wdXRQYXJhLmlkID0gZGF0YS5hY3Rpdml0eUlkO1xyXG4gICAgZGF0YS5pbnB1dFBhcmEuc2NyZWVuU2l6ZSA9IHNjcmVlblNpemU7XHJcbiAgICAvL2NvbnRlbnTnmoTlkb3lkI3liY3nvIBcclxuICAgIGRhdGEuaW5wdXRQYXJhLmNvbnRlbnRQcmVmaXggPSBYdXQuUHJlc2VudGF0aW9uLk1ha2VDb250ZW50UHJlZml4KGRhdGEucGFnZUluZGV4LCBkYXRhLnBhZ2VUeXBlKVxyXG5cclxuICAgIC8v55S76L205qih5byPXHJcbiAgICBkYXRhLnNjcm9sbFBhaW50aW5nTW9kZSA9IGNvbmZpZy5zY3JvbGxQYWludGluZ01vZGU7XHJcbiAgICBkYXRhLmNhbGN1bGF0ZSA9IGNvbmZpZy5wcm9wb3J0aW9uLmNhbGN1bGF0ZUNvbnRhaW5lcigpO1xyXG5cclxuXHJcbiAgICAvL+aJp+ihjOexu+aehOW7ulxyXG4gICAgYWRhcHRlclR5cGVbKGRhdGEud2lkZ2V0VHlwZSB8fCAnd2lkZ2V0JykudG9Mb3dlckNhc2UoKV0oZGF0YSk7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvYWRhcHRlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 55 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 创建iframe零件包装器\r\n */\n\nfunction iframeWidget(data) {\n\n    var self = this;\n\n    //获取数据\n    _.extend(this, data);\n\n    //创建页面零件包装器\n    this.$wapper = this.createWapper();\n\n    Xut.nextTick({\n        'container': self.rootNode,\n        'content': this.$wapper\n    }, function () {\n        self.rootNode = null;\n        self.bindPMS();\n    });\n\n    return this;\n}\n\niframeWidget.prototype = {\n\n    /**\r\n     * 创建包含容器\r\n     * @return {[type]} [description]\r\n     */\n    createWapper: function createWapper() {\n        var zIndex, str, dom, ifr;\n\n        //层级设定\n        if (this.zIndex === 0) {\n            zIndex = this.zIndex;\n        } else {\n            zIndex = this.zIndex || Xut.zIndexlevel();\n        }\n\n        this.zIndex = zIndex;\n\n        str = '<div id=\"iframeWidget_{0}\" style=\"z-index:{1};width:{2}px;height:{3}px;top:{4}px;left:{5}px;position:absolute;\" ></div>';\n\n        dom = String.format(str, this.id, zIndex, this.width, this.height, this.top, this.left);\n\n        ifr = this.createIframe();\n\n        this._iframe = ifr;\n\n        return $(dom).append(ifr);\n    },\n\n    /**\r\n     * 加载iframe\r\n     * @return {[type]} [description]\r\n     */\n    createIframe: function createIframe() {\n        var me = this,\n            path = 'content/widget/' + this.widgetId + '/index.html?xxtParaIn=' + this.key,\n            ifr = document.createElement('iframe');\n\n        ifr.id = 'iframe_' + this.id;\n        ifr.src = path;\n        ifr.style.width = '100%';\n        ifr.style.height = '100%';\n        ifr.sandbox = \"allow-scripts allow-same-origin\";\n        ifr.frameborder = 0;\n        if (ifr.attachEvent) {\n            ifr.attachEvent('onload', function () {\n                me.iframeComplete();\n            });\n        } else {\n            ifr.onload = function () {\n                me.iframeComplete();\n            };\n        }\n        return ifr;\n    },\n\n    /**\r\n     * iframe加载完毕回调\r\n     * @return {[type]} [description]\r\n     */\n    iframeComplete: function iframeComplete() {\n        var me = this;\n        var dataSource = this.loadData();\n        var width = me._iframe.offsetWidth;\n        var height = me._iframe.offsetHeight;\n\n        if (dataSource.screenSize.width * 0.98 <= width && dataSource.screenSize.height * 0.98 <= height) {\n            Xut.View.Toolbar({\n                show: 'button',\n                hide: 'controlBar'\n            });\n        } else if (dataSource.screenSize.width * 0.7 <= width && dataSource.screenSize.height * 0.7 <= height) {\n            Xut.View.Toolbar({\n                show: 'button'\n            });\n        }\n\n        this.PMS.send({\n            target: me._iframe.contentWindow,\n            origin: '*',\n            type: 'loadData',\n            data: dataSource,\n            //消息传递完毕后的回调\n            success: success,\n            error: function error() {}\n        });\n\n        function success() {}\n        // console.log('完毕')\n\n\n        //iframe加载的状态\n        me.state = true;\n    },\n\n    /**\r\n     * ifarme内部，请求返回数据\r\n     * @return {[type]} [description]\r\n     */\n    loadData: function loadData() {\n        var item,\n            field,\n            source_export = [],\n            images = Xut.data['Image'],\n            token = null,\n            outputPara = this.inputPara,\n            items = outputPara.source;\n\n        for (item in items) {\n            if (items.hasOwnProperty(item)) {\n                field = {};\n                token = images.item((parseInt(items[item]) || 1) - 1);\n                field['img'] = '../gallery/' + token.md5;\n                field['thumb'] = '';\n                field['title'] = token.imageTitle;\n                source_export.push(field);\n            }\n        }\n\n        outputPara.source = source_export;\n\n        return outputPara;\n    },\n\n    /********************************************************************\r\n     *\r\n     *                   与iframe通讯接口\r\n     *\r\n     * ********************************************************************/\n\n    /**\r\n     * 与iframe通讯接口\r\n     * @return {[type]} [description]\r\n     */\n    bindPMS: function bindPMS() {\n        var me = this,\n            markId = this.id;\n\n        this.PMS = PMS;\n        //隐藏widget\n        PMS.bind(\"onHideWapper\" + markId, function (e) {\n            var $wapper = me.$wapper;\n            $wapper.hide();\n            me.state = false;\n        }, '*');\n\n        //全屏操作\n        PMS.bind(\"onFullscreen\" + markId, function (e) {\n            var $wapper = me.$wapper,\n                $iframe = $(me._iframe);\n\n            if (!$iframe.length) return;\n            //关闭视频\n            Xut.VideoManager.clearVideo();\n\n            $wapper.css({\n                width: '100%',\n                height: '100%',\n                zIndex: Xut.zIndexlevel(),\n                top: 0,\n                left: 0\n            });\n\n            //Widget全屏尺寸自动调整\n            if (e.full == false) {\n                var body = document.body,\n                    width = parseInt(body.clientWidth),\n                    height = parseInt(body.clientHeight),\n                    rote = me.width / me.height,\n                    getRote = function getRote(width, height, rote) {\n                    var w = width,\n                        h = width / rote;\n                    if (h > height) {\n                        h = height;\n                        w = h * rote;\n                    }\n                    return {\n                        w: parseInt(w),\n                        h: parseInt(h)\n                    };\n                },\n                    size = getRote(width, height, rote),\n                    left = (width - size.w) / 2,\n                    top = (height - size.h) / 2;\n\n                $iframe.css({\n                    width: size.w,\n                    height: size.h,\n                    position: 'absolute',\n                    top: top,\n                    left: left\n                });\n            }\n            //隐藏工作条\n            Xut.View.Toolbar(\"hide\");\n        }, '*');\n\n        //还原初始窗口操作\n        PMS.bind(\"onReset\" + markId, function (e) {\n            var $wapper = me.$wapper,\n                $iframe = $(me._iframe);\n\n            if (!$iframe.length) return;\n\n            $wapper.css({\n                zIndex: me.zIndex,\n                width: me.width + 'px',\n                height: me.height + 'px',\n                top: me.top + 'px',\n                left: me.left + 'px'\n            });\n\n            //还原iframe样式\n            $iframe.css({\n                width: '100%',\n                height: '100%',\n                position: '',\n                top: '0',\n                left: '0'\n            });\n\n            Xut.View.Toolbar(\"show\");\n        }, '*');\n\n        //显示工作条\n        PMS.bind(\"onShowToolbar\" + markId, function (e) {\n            // Xut.View.ShowToolbar();\n        }, '*');\n\n        //隐藏工作条\n        PMS.bind(\"onHideToolbar\" + markId, function (e) {\n            Xut.View.HideToolbar();\n        }, '*');\n\n        //跳转页面\n        PMS.bind('scrollToPage' + markId, function (data) {\n            Xut.View.GotoSlide(data['ppts'], data['pageIndex']);\n        }, '*');\n    },\n\n    //=============外部调用接口===================\n\n    /**\r\n     * 外部调用接口\r\n     * 显示隐藏\r\n     * @return {[type]} [description]\r\n     */\n    dispatchProcess: function dispatchProcess() {\n        if (this.state) {\n            this.stop();\n        } else {\n            this.start();\n        }\n    },\n\n    /**\r\n     * 开始\r\n     * @return {[type]} [description]\r\n     */\n    start: function start() {\n        var me = this;\n        me.domWapper();\n        this.PMS.send({\n            target: me._iframe.contentWindow,\n            url: me._iframe.src,\n            origin: '*',\n            type: 'onShow',\n            success: function success() {\n                // alert(123)\n            }\n        });\n        setTimeout(function () {\n            me.state = true;\n        }, 0);\n    },\n\n    /**\r\n     * 暂停\r\n     * @return {[type]} [description]\r\n     */\n    stop: function stop() {\n        var me = this;\n        me.domWapper();\n        this.PMS.send({\n            target: me._iframe.contentWindow,\n            url: me._iframe.src,\n            origin: '*',\n            type: 'onHide',\n            success: function success() {}\n        });\n        setTimeout(function () {\n            me.state = false;\n        }, 0);\n    },\n\n    /**\r\n     * 处理包装容器的状态\r\n     * @return {[type]} [description]\r\n     */\n    domWapper: function domWapper() {\n        if (this.state) {\n            this.$wapper.hide();\n        } else {\n            this.$wapper.show();\n        }\n    },\n\n    //复位\n    recovery: function recovery() {\n        var me = this;\n        if (me.state) {\n            me.PMS.send({\n                target: me._iframe.contentWindow,\n                url: me._iframe.src,\n                origin: '*',\n                type: 'onHide',\n                success: function success() {}\n            });\n            me.domWapper();\n            me.state = false;\n            return true;\n        }\n        return false;\n    },\n\n    //销毁接口\n    destroy: function destroy() {\n\n        var me = this,\n            iframe = this._iframe,\n            PMS = this.PMS;\n\n        //销毁内部事件\n        PMS.send({\n            target: iframe.contentWindow,\n            url: iframe.src,\n            origin: '*',\n            type: 'onDestory',\n            success: function success() {}\n        });\n\n        //销毁事件绑定\n        PMS.unbind();\n\n        //销魂节点\n        setTimeout(function () {\n            me._iframe = null;\n            me.$wapper.remove();\n            me.$wapper = null;\n        }, 0);\n    }\n\n};\n\nexports.iframeWidget = iframeWidget;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvaWZyYW1lLmpzP2JkZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSUEsU0FBUyxZQUFULENBQXNCLElBQXRCLEVBQTRCOztBQUV4QixRQUFJLE9BQU8sSUFBWDs7O0FBR0EsTUFBRSxNQUFGLENBQVMsSUFBVCxFQUFlLElBQWY7OztBQUdBLFNBQUssT0FBTCxHQUFlLEtBQUssWUFBTCxFQUFmOztBQUVBLFFBQUksUUFBSixDQUFhO0FBQ1QscUJBQWEsS0FBSyxRQURUO0FBRVQsbUJBQVcsS0FBSztBQUZQLEtBQWIsRUFHRyxZQUFXO0FBQ1YsYUFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsYUFBSyxPQUFMO0FBQ0gsS0FORDs7QUFRQSxXQUFPLElBQVA7QUFDSDs7QUFFRCxhQUFhLFNBQWIsR0FBeUI7Ozs7OztBQU1yQixrQkFBYyx3QkFBVztBQUNyQixZQUFJLE1BQUosRUFBWSxHQUFaLEVBQWlCLEdBQWpCLEVBQXNCLEdBQXRCOzs7QUFHQSxZQUFJLEtBQUssTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNuQixxQkFBUyxLQUFLLE1BQWQ7QUFDSCxTQUZELE1BRU87QUFDSCxxQkFBUyxLQUFLLE1BQUwsSUFBZSxJQUFJLFdBQUosRUFBeEI7QUFDSDs7QUFFRCxhQUFLLE1BQUwsR0FBYyxNQUFkOztBQUVBLGNBQU0seUhBQU47O0FBRUEsY0FBTSxPQUFPLE1BQVAsQ0FBYyxHQUFkLEVBQ0YsS0FBSyxFQURILEVBQ08sTUFEUCxFQUNlLEtBQUssS0FEcEIsRUFDMkIsS0FBSyxNQURoQyxFQUN3QyxLQUFLLEdBRDdDLEVBQ2tELEtBQUssSUFEdkQsQ0FBTjs7QUFJQSxjQUFNLEtBQUssWUFBTCxFQUFOOztBQUVBLGFBQUssT0FBTCxHQUFlLEdBQWY7O0FBRUEsZUFBTyxFQUFFLEdBQUYsRUFBTyxNQUFQLENBQWMsR0FBZCxDQUFQO0FBQ0gsS0E3Qm9COzs7Ozs7QUFvQ3JCLGtCQUFjLHdCQUFXO0FBQ3JCLFlBQUksS0FBSyxJQUFUO1lBQ0ksT0FBTyxvQkFBb0IsS0FBSyxRQUF6QixHQUFvQyx3QkFBcEMsR0FBK0QsS0FBSyxHQUQvRTtZQUVJLE1BQU0sU0FBUyxhQUFULENBQXVCLFFBQXZCLENBRlY7O0FBSUEsWUFBSSxFQUFKLEdBQVMsWUFBWSxLQUFLLEVBQTFCO0FBQ0EsWUFBSSxHQUFKLEdBQVUsSUFBVjtBQUNBLFlBQUksS0FBSixDQUFVLEtBQVYsR0FBa0IsTUFBbEI7QUFDQSxZQUFJLEtBQUosQ0FBVSxNQUFWLEdBQW1CLE1BQW5CO0FBQ0EsWUFBSSxPQUFKLEdBQWMsaUNBQWQ7QUFDQSxZQUFJLFdBQUosR0FBa0IsQ0FBbEI7QUFDQSxZQUFJLElBQUksV0FBUixFQUFxQjtBQUNqQixnQkFBSSxXQUFKLENBQWdCLFFBQWhCLEVBQTBCLFlBQVc7QUFDakMsbUJBQUcsY0FBSDtBQUNILGFBRkQ7QUFHSCxTQUpELE1BSU87QUFDSCxnQkFBSSxNQUFKLEdBQWEsWUFBVztBQUNwQixtQkFBRyxjQUFIO0FBQ0gsYUFGRDtBQUdIO0FBQ0QsZUFBTyxHQUFQO0FBQ0gsS0F6RG9COzs7Ozs7QUFnRXJCLG9CQUFnQiwwQkFBVztBQUN2QixZQUFJLEtBQUssSUFBVDtBQUNBLFlBQUksYUFBYSxLQUFLLFFBQUwsRUFBakI7QUFDQSxZQUFJLFFBQVEsR0FBRyxPQUFILENBQVcsV0FBdkI7QUFDQSxZQUFJLFNBQVMsR0FBRyxPQUFILENBQVcsWUFBeEI7O0FBRUEsWUFBSSxXQUFXLFVBQVgsQ0FBc0IsS0FBdEIsR0FBOEIsSUFBOUIsSUFBc0MsS0FBdEMsSUFBK0MsV0FBVyxVQUFYLENBQXNCLE1BQXRCLEdBQStCLElBQS9CLElBQXVDLE1BQTFGLEVBQWtHO0FBQzlGLGdCQUFJLElBQUosQ0FBUyxPQUFULENBQWlCO0FBQ2Isc0JBQU0sUUFETztBQUViLHNCQUFNO0FBRk8sYUFBakI7QUFJSCxTQUxELE1BS08sSUFBSSxXQUFXLFVBQVgsQ0FBc0IsS0FBdEIsR0FBOEIsR0FBOUIsSUFBcUMsS0FBckMsSUFBOEMsV0FBVyxVQUFYLENBQXNCLE1BQXRCLEdBQStCLEdBQS9CLElBQXNDLE1BQXhGLEVBQWdHO0FBQ25HLGdCQUFJLElBQUosQ0FBUyxPQUFULENBQWlCO0FBQ2Isc0JBQU07QUFETyxhQUFqQjtBQUdIOztBQUVELGFBQUssR0FBTCxDQUFTLElBQVQsQ0FBYztBQUNWLG9CQUFRLEdBQUcsT0FBSCxDQUFXLGFBRFQ7QUFFVixvQkFBUSxHQUZFO0FBR1Ysa0JBQU0sVUFISTtBQUlWLGtCQUFNLFVBSkk7O0FBTVYscUJBQVMsT0FOQztBQU9WLG1CQUFPLGlCQUFXLENBQUU7QUFQVixTQUFkOztBQVVBLGlCQUFTLE9BQVQsR0FBbUIsQ0FFbEI7Ozs7O0FBR0QsV0FBRyxLQUFILEdBQVcsSUFBWDtBQUNILEtBakdvQjs7Ozs7O0FBdUdyQixjQUFVLG9CQUFXO0FBQ2pCLFlBQUksSUFBSjtZQUNJLEtBREo7WUFFSSxnQkFBZ0IsRUFGcEI7WUFHSSxTQUFTLElBQUksSUFBSixDQUFTLE9BQVQsQ0FIYjtZQUlJLFFBQVEsSUFKWjtZQUtJLGFBQWEsS0FBSyxTQUx0QjtZQU1JLFFBQVEsV0FBVyxNQU52Qjs7QUFRQSxhQUFLLElBQUwsSUFBYSxLQUFiLEVBQW9CO0FBQ2hCLGdCQUFJLE1BQU0sY0FBTixDQUFxQixJQUFyQixDQUFKLEVBQWdDO0FBQzVCLHdCQUFRLEVBQVI7QUFDQSx3QkFBUSxPQUFPLElBQVAsQ0FBWSxDQUFDLFNBQVMsTUFBTSxJQUFOLENBQVQsS0FBeUIsQ0FBMUIsSUFBK0IsQ0FBM0MsQ0FBUjtBQUNBLHNCQUFNLEtBQU4sSUFBZSxnQkFBZ0IsTUFBTSxHQUFyQztBQUNBLHNCQUFNLE9BQU4sSUFBaUIsRUFBakI7QUFDQSxzQkFBTSxPQUFOLElBQWlCLE1BQU0sVUFBdkI7QUFDQSw4QkFBYyxJQUFkLENBQW1CLEtBQW5CO0FBQ0g7QUFDSjs7QUFFRCxtQkFBVyxNQUFYLEdBQW9CLGFBQXBCOztBQUVBLGVBQU8sVUFBUDtBQUNILEtBOUhvQjs7Ozs7Ozs7Ozs7O0FBMklyQixhQUFTLG1CQUFXO0FBQ2hCLFlBQUksS0FBSyxJQUFUO1lBQ0ksU0FBUyxLQUFLLEVBRGxCOztBQUdBLGFBQUssR0FBTCxHQUFXLEdBQVg7O0FBRUEsWUFBSSxJQUFKLENBQVMsaUJBQWlCLE1BQTFCLEVBQWtDLFVBQVMsQ0FBVCxFQUFZO0FBQzFDLGdCQUFJLFVBQVUsR0FBRyxPQUFqQjtBQUNBLG9CQUFRLElBQVI7QUFDQSxlQUFHLEtBQUgsR0FBVyxLQUFYO0FBRUgsU0FMRCxFQUtHLEdBTEg7OztBQVFBLFlBQUksSUFBSixDQUFTLGlCQUFpQixNQUExQixFQUFrQyxVQUFTLENBQVQsRUFBWTtBQUMxQyxnQkFBSSxVQUFVLEdBQUcsT0FBakI7Z0JBQ0ksVUFBVSxFQUFFLEdBQUcsT0FBTCxDQURkOztBQUdBLGdCQUFJLENBQUMsUUFBUSxNQUFiLEVBQXFCOztBQUVyQixnQkFBSSxZQUFKLENBQWlCLFVBQWpCOztBQUVBLG9CQUFRLEdBQVIsQ0FBWTtBQUNSLHVCQUFPLE1BREM7QUFFUix3QkFBUSxNQUZBO0FBR1Isd0JBQVEsSUFBSSxXQUFKLEVBSEE7QUFJUixxQkFBSyxDQUpHO0FBS1Isc0JBQU07QUFMRSxhQUFaOzs7QUFTQSxnQkFBSSxFQUFFLElBQUYsSUFBVSxLQUFkLEVBQXFCO0FBQ2pCLG9CQUFJLE9BQU8sU0FBUyxJQUFwQjtvQkFDSSxRQUFRLFNBQVMsS0FBSyxXQUFkLENBRFo7b0JBRUksU0FBUyxTQUFTLEtBQUssWUFBZCxDQUZiO29CQUdJLE9BQU8sR0FBRyxLQUFILEdBQVcsR0FBRyxNQUh6QjtvQkFJSSxVQUFVLFNBQVYsT0FBVSxDQUFTLEtBQVQsRUFBZ0IsTUFBaEIsRUFBd0IsSUFBeEIsRUFBOEI7QUFDcEMsd0JBQUksSUFBSSxLQUFSO3dCQUNJLElBQUksUUFBUSxJQURoQjtBQUVBLHdCQUFJLElBQUksTUFBUixFQUFnQjtBQUNaLDRCQUFJLE1BQUo7QUFDQSw0QkFBSSxJQUFJLElBQVI7QUFDSDtBQUNELDJCQUFPO0FBQ0gsMkJBQUcsU0FBUyxDQUFULENBREE7QUFFSCwyQkFBRyxTQUFTLENBQVQ7QUFGQSxxQkFBUDtBQUlILGlCQWZMO29CQWdCSSxPQUFPLFFBQVEsS0FBUixFQUFlLE1BQWYsRUFBdUIsSUFBdkIsQ0FoQlg7b0JBaUJJLE9BQU8sQ0FBQyxRQUFRLEtBQUssQ0FBZCxJQUFtQixDQWpCOUI7b0JBa0JJLE1BQU0sQ0FBQyxTQUFTLEtBQUssQ0FBZixJQUFvQixDQWxCOUI7O0FBb0JBLHdCQUFRLEdBQVIsQ0FBWTtBQUNSLDJCQUFPLEtBQUssQ0FESjtBQUVSLDRCQUFRLEtBQUssQ0FGTDtBQUdSLDhCQUFVLFVBSEY7QUFJUix5QkFBSyxHQUpHO0FBS1IsMEJBQU07QUFMRSxpQkFBWjtBQU9IOztBQUVELGdCQUFJLElBQUosQ0FBUyxPQUFULENBQWlCLE1BQWpCO0FBRUgsU0FqREQsRUFpREcsR0FqREg7OztBQW9EQSxZQUFJLElBQUosQ0FBUyxZQUFZLE1BQXJCLEVBQTZCLFVBQVMsQ0FBVCxFQUFZO0FBQ3JDLGdCQUFJLFVBQVUsR0FBRyxPQUFqQjtnQkFDSSxVQUFVLEVBQUUsR0FBRyxPQUFMLENBRGQ7O0FBR0EsZ0JBQUksQ0FBQyxRQUFRLE1BQWIsRUFBcUI7O0FBRXJCLG9CQUFRLEdBQVIsQ0FBWTtBQUNSLHdCQUFRLEdBQUcsTUFESDtBQUVSLHVCQUFPLEdBQUcsS0FBSCxHQUFXLElBRlY7QUFHUix3QkFBUSxHQUFHLE1BQUgsR0FBWSxJQUhaO0FBSVIscUJBQUssR0FBRyxHQUFILEdBQVMsSUFKTjtBQUtSLHNCQUFNLEdBQUcsSUFBSCxHQUFVO0FBTFIsYUFBWjs7O0FBU0Esb0JBQVEsR0FBUixDQUFZO0FBQ1IsdUJBQU8sTUFEQztBQUVSLHdCQUFRLE1BRkE7QUFHUiwwQkFBVSxFQUhGO0FBSVIscUJBQUssR0FKRztBQUtSLHNCQUFNO0FBTEUsYUFBWjs7QUFRQSxnQkFBSSxJQUFKLENBQVMsT0FBVCxDQUFpQixNQUFqQjtBQUVILFNBekJELEVBeUJHLEdBekJIOzs7QUE0QkEsWUFBSSxJQUFKLENBQVMsa0JBQWtCLE1BQTNCLEVBQW1DLFVBQVMsQ0FBVCxFQUFZOztBQUU5QyxTQUZELEVBRUcsR0FGSDs7O0FBS0EsWUFBSSxJQUFKLENBQVMsa0JBQWtCLE1BQTNCLEVBQW1DLFVBQVMsQ0FBVCxFQUFZO0FBQzNDLGdCQUFJLElBQUosQ0FBUyxXQUFUO0FBQ0gsU0FGRCxFQUVHLEdBRkg7OztBQUtBLFlBQUksSUFBSixDQUFTLGlCQUFpQixNQUExQixFQUFrQyxVQUFTLElBQVQsRUFBZTtBQUM3QyxnQkFBSSxJQUFKLENBQVMsU0FBVCxDQUFtQixLQUFLLE1BQUwsQ0FBbkIsRUFBaUMsS0FBSyxXQUFMLENBQWpDO0FBQ0gsU0FGRCxFQUVHLEdBRkg7QUFHSCxLQXRQb0I7Ozs7Ozs7OztBQWdRckIscUJBQWlCLDJCQUFXO0FBQ3hCLFlBQUksS0FBSyxLQUFULEVBQWdCO0FBQ1osaUJBQUssSUFBTDtBQUNILFNBRkQsTUFFTztBQUNILGlCQUFLLEtBQUw7QUFDSDtBQUNKLEtBdFFvQjs7Ozs7O0FBNFFyQixXQUFPLGlCQUFXO0FBQ2QsWUFBSSxLQUFLLElBQVQ7QUFDQSxXQUFHLFNBQUg7QUFDQSxhQUFLLEdBQUwsQ0FBUyxJQUFULENBQWM7QUFDVixvQkFBUSxHQUFHLE9BQUgsQ0FBVyxhQURUO0FBRVYsaUJBQUssR0FBRyxPQUFILENBQVcsR0FGTjtBQUdWLG9CQUFRLEdBSEU7QUFJVixrQkFBTSxRQUpJO0FBS1YscUJBQVMsbUJBQVc7O0FBRW5CO0FBUFMsU0FBZDtBQVNBLG1CQUFXLFlBQVc7QUFDbEIsZUFBRyxLQUFILEdBQVcsSUFBWDtBQUNILFNBRkQsRUFFRyxDQUZIO0FBR0gsS0EzUm9COzs7Ozs7QUFpU3JCLFVBQU0sZ0JBQVc7QUFDYixZQUFJLEtBQUssSUFBVDtBQUNBLFdBQUcsU0FBSDtBQUNBLGFBQUssR0FBTCxDQUFTLElBQVQsQ0FBYztBQUNWLG9CQUFRLEdBQUcsT0FBSCxDQUFXLGFBRFQ7QUFFVixpQkFBSyxHQUFHLE9BQUgsQ0FBVyxHQUZOO0FBR1Ysb0JBQVEsR0FIRTtBQUlWLGtCQUFNLFFBSkk7QUFLVixxQkFBUyxtQkFBVyxDQUFFO0FBTFosU0FBZDtBQU9BLG1CQUFXLFlBQVc7QUFDbEIsZUFBRyxLQUFILEdBQVcsS0FBWDtBQUNILFNBRkQsRUFFRyxDQUZIO0FBR0gsS0E5U29COzs7Ozs7QUFxVHJCLGVBQVcscUJBQVc7QUFDbEIsWUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDWixpQkFBSyxPQUFMLENBQWEsSUFBYjtBQUNILFNBRkQsTUFFTztBQUNILGlCQUFLLE9BQUwsQ0FBYSxJQUFiO0FBQ0g7QUFDSixLQTNUb0I7OztBQStUckIsY0FBVSxvQkFBVztBQUNqQixZQUFJLEtBQUssSUFBVDtBQUNBLFlBQUksR0FBRyxLQUFQLEVBQWM7QUFDVixlQUFHLEdBQUgsQ0FBTyxJQUFQLENBQVk7QUFDUix3QkFBUSxHQUFHLE9BQUgsQ0FBVyxhQURYO0FBRVIscUJBQUssR0FBRyxPQUFILENBQVcsR0FGUjtBQUdSLHdCQUFRLEdBSEE7QUFJUixzQkFBTSxRQUpFO0FBS1IseUJBQVMsbUJBQVcsQ0FBRTtBQUxkLGFBQVo7QUFPQSxlQUFHLFNBQUg7QUFDQSxlQUFHLEtBQUgsR0FBVyxLQUFYO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBQ0QsZUFBTyxLQUFQO0FBQ0gsS0E5VW9COzs7QUFpVnJCLGFBQVMsbUJBQVc7O0FBRWhCLFlBQUksS0FBSyxJQUFUO1lBQ0ksU0FBUyxLQUFLLE9BRGxCO1lBRUksTUFBTSxLQUFLLEdBRmY7OztBQUtBLFlBQUksSUFBSixDQUFTO0FBQ0wsb0JBQVEsT0FBTyxhQURWO0FBRUwsaUJBQUssT0FBTyxHQUZQO0FBR0wsb0JBQVEsR0FISDtBQUlMLGtCQUFNLFdBSkQ7QUFLTCxxQkFBUyxtQkFBVyxDQUFFO0FBTGpCLFNBQVQ7OztBQVNBLFlBQUksTUFBSjs7O0FBR0EsbUJBQVcsWUFBVztBQUNsQixlQUFHLE9BQUgsR0FBYSxJQUFiO0FBQ0EsZUFBRyxPQUFILENBQVcsTUFBWDtBQUNBLGVBQUcsT0FBSCxHQUFhLElBQWI7QUFDSCxTQUpELEVBSUcsQ0FKSDtBQUtIOztBQXpXb0IsQ0FBekI7O1FBOFdTLFksR0FBQSxZIiwiZmlsZSI6IjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIm+W7umlmcmFtZembtuS7tuWMheijheWZqFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGlmcmFtZVdpZGdldChkYXRhKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8v6I635Y+W5pWw5o2uXHJcbiAgICBfLmV4dGVuZCh0aGlzLCBkYXRhKVxyXG5cclxuICAgIC8v5Yib5bu66aG16Z2i6Zu25Lu25YyF6KOF5ZmoXHJcbiAgICB0aGlzLiR3YXBwZXIgPSB0aGlzLmNyZWF0ZVdhcHBlcigpO1xyXG5cclxuICAgIFh1dC5uZXh0VGljayh7XHJcbiAgICAgICAgJ2NvbnRhaW5lcic6IHNlbGYucm9vdE5vZGUsXHJcbiAgICAgICAgJ2NvbnRlbnQnOiB0aGlzLiR3YXBwZXJcclxuICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYucm9vdE5vZGUgPSBudWxsO1xyXG4gICAgICAgIHNlbGYuYmluZFBNUygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbmlmcmFtZVdpZGdldC5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rljIXlkKvlrrnlmahcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVXYXBwZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB6SW5kZXgsIHN0ciwgZG9tLCBpZnI7XHJcblxyXG4gICAgICAgIC8v5bGC57qn6K6+5a6aXHJcbiAgICAgICAgaWYgKHRoaXMuekluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHpJbmRleCA9IHRoaXMuekluZGV4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHpJbmRleCA9IHRoaXMuekluZGV4IHx8IFh1dC56SW5kZXhsZXZlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy56SW5kZXggPSB6SW5kZXg7XHJcblxyXG4gICAgICAgIHN0ciA9ICc8ZGl2IGlkPVwiaWZyYW1lV2lkZ2V0X3swfVwiIHN0eWxlPVwiei1pbmRleDp7MX07d2lkdGg6ezJ9cHg7aGVpZ2h0OnszfXB4O3RvcDp7NH1weDtsZWZ0Ons1fXB4O3Bvc2l0aW9uOmFic29sdXRlO1wiID48L2Rpdj4nO1xyXG5cclxuICAgICAgICBkb20gPSBTdHJpbmcuZm9ybWF0KHN0cixcclxuICAgICAgICAgICAgdGhpcy5pZCwgekluZGV4LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy50b3AsIHRoaXMubGVmdFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmciA9IHRoaXMuY3JlYXRlSWZyYW1lKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2lmcmFtZSA9IGlmcjtcclxuXHJcbiAgICAgICAgcmV0dXJuICQoZG9tKS5hcHBlbmQoaWZyKVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb1pZnJhbWVcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVJZnJhbWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXMsXHJcbiAgICAgICAgICAgIHBhdGggPSAnY29udGVudC93aWRnZXQvJyArIHRoaXMud2lkZ2V0SWQgKyAnL2luZGV4Lmh0bWw/eHh0UGFyYUluPScgKyB0aGlzLmtleSxcclxuICAgICAgICAgICAgaWZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcblxyXG4gICAgICAgIGlmci5pZCA9ICdpZnJhbWVfJyArIHRoaXMuaWQ7XHJcbiAgICAgICAgaWZyLnNyYyA9IHBhdGg7XHJcbiAgICAgICAgaWZyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgaWZyLnNhbmRib3ggPSBcImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW5cIjtcclxuICAgICAgICBpZnIuZnJhbWVib3JkZXIgPSAwO1xyXG4gICAgICAgIGlmIChpZnIuYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgaWZyLmF0dGFjaEV2ZW50KCdvbmxvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG1lLmlmcmFtZUNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG1lLmlmcmFtZUNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZnI7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGlmcmFtZeWKoOi9veWujOavleWbnuiwg1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGlmcmFtZUNvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5sb2FkRGF0YSgpO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IG1lLl9pZnJhbWUub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lLl9pZnJhbWUub2Zmc2V0SGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoZGF0YVNvdXJjZS5zY3JlZW5TaXplLndpZHRoICogMC45OCA8PSB3aWR0aCAmJiBkYXRhU291cmNlLnNjcmVlblNpemUuaGVpZ2h0ICogMC45OCA8PSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuVG9vbGJhcih7XHJcbiAgICAgICAgICAgICAgICBzaG93OiAnYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIGhpZGU6ICdjb250cm9sQmFyJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2Uuc2NyZWVuU2l6ZS53aWR0aCAqIDAuNyA8PSB3aWR0aCAmJiBkYXRhU291cmNlLnNjcmVlblNpemUuaGVpZ2h0ICogMC43IDw9IGhlaWdodCkge1xyXG4gICAgICAgICAgICBYdXQuVmlldy5Ub29sYmFyKHtcclxuICAgICAgICAgICAgICAgIHNob3c6ICdidXR0b24nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5QTVMuc2VuZCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogbWUuX2lmcmFtZS5jb250ZW50V2luZG93LFxyXG4gICAgICAgICAgICBvcmlnaW46ICcqJyxcclxuICAgICAgICAgICAgdHlwZTogJ2xvYWREYXRhJyxcclxuICAgICAgICAgICAgZGF0YTogZGF0YVNvdXJjZSxcclxuICAgICAgICAgICAgLy/mtojmga/kvKDpgJLlrozmr5XlkI7nmoTlm57osINcclxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge31cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3VjY2VzcygpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+WujOavlScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2lmcmFtZeWKoOi9veeahOeKtuaAgVxyXG4gICAgICAgIG1lLnN0YXRlID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpZmFybWXlhoXpg6jvvIzor7fmsYLov5Tlm57mlbDmja5cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBsb2FkRGF0YTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0sXHJcbiAgICAgICAgICAgIGZpZWxkLFxyXG4gICAgICAgICAgICBzb3VyY2VfZXhwb3J0ID0gW10sXHJcbiAgICAgICAgICAgIGltYWdlcyA9IFh1dC5kYXRhWydJbWFnZSddLFxyXG4gICAgICAgICAgICB0b2tlbiA9IG51bGwsXHJcbiAgICAgICAgICAgIG91dHB1dFBhcmEgPSB0aGlzLmlucHV0UGFyYSxcclxuICAgICAgICAgICAgaXRlbXMgPSBvdXRwdXRQYXJhLnNvdXJjZTtcclxuXHJcbiAgICAgICAgZm9yIChpdGVtIGluIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgZmllbGQgPSB7fTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gaW1hZ2VzLml0ZW0oKHBhcnNlSW50KGl0ZW1zW2l0ZW1dKSB8fCAxKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgZmllbGRbJ2ltZyddID0gJy4uL2dhbGxlcnkvJyArIHRva2VuLm1kNTtcclxuICAgICAgICAgICAgICAgIGZpZWxkWyd0aHVtYiddID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFsndGl0bGUnXSA9IHRva2VuLmltYWdlVGl0bGU7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VfZXhwb3J0LnB1c2goZmllbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvdXRwdXRQYXJhLnNvdXJjZSA9IHNvdXJjZV9leHBvcnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXRQYXJhO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKlxyXG4gICAgICogICAgICAgICAgICAgICAgICAg5LiOaWZyYW1l6YCa6K6v5o6l5Y+jXHJcbiAgICAgKlxyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuI5pZnJhbWXpgJrorq/mjqXlj6NcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBiaW5kUE1TOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzLFxyXG4gICAgICAgICAgICBtYXJrSWQgPSB0aGlzLmlkO1xyXG5cclxuICAgICAgICB0aGlzLlBNUyA9IFBNUztcclxuICAgICAgICAvL+makOiXj3dpZGdldFxyXG4gICAgICAgIFBNUy5iaW5kKFwib25IaWRlV2FwcGVyXCIgKyBtYXJrSWQsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyICR3YXBwZXIgPSBtZS4kd2FwcGVyO1xyXG4gICAgICAgICAgICAkd2FwcGVyLmhpZGUoKTtcclxuICAgICAgICAgICAgbWUuc3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgfSwgJyonKVxyXG5cclxuICAgICAgICAvL+WFqOWxj+aTjeS9nFxyXG4gICAgICAgIFBNUy5iaW5kKFwib25GdWxsc2NyZWVuXCIgKyBtYXJrSWQsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyICR3YXBwZXIgPSBtZS4kd2FwcGVyLFxyXG4gICAgICAgICAgICAgICAgJGlmcmFtZSA9ICQobWUuX2lmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoISRpZnJhbWUubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgICAgIC8v5YWz6Zet6KeG6aKRXHJcbiAgICAgICAgICAgIFh1dC5WaWRlb01hbmFnZXIuY2xlYXJWaWRlbygpO1xyXG5cclxuICAgICAgICAgICAgJHdhcHBlci5jc3Moe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgekluZGV4OiBYdXQuekluZGV4bGV2ZWwoKSxcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDBcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vV2lkZ2V05YWo5bGP5bC65a+46Ieq5Yqo6LCD5pW0XHJcbiAgICAgICAgICAgIGlmIChlLmZ1bGwgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KGJvZHkuY2xpZW50V2lkdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlSW50KGJvZHkuY2xpZW50SGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICByb3RlID0gbWUud2lkdGggLyBtZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0Um90ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHJvdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSB3aWR0aCAvIHJvdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IGggKiByb3RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3OiBwYXJzZUludCh3KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGg6IHBhcnNlSW50KGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplID0gZ2V0Um90ZSh3aWR0aCwgaGVpZ2h0LCByb3RlKSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gKHdpZHRoIC0gc2l6ZS53KSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gKGhlaWdodCAtIHNpemUuaCkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICRpZnJhbWUuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogc2l6ZS53LFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2l6ZS5oLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6ZqQ6JeP5bel5L2c5p2hXHJcbiAgICAgICAgICAgIFh1dC5WaWV3LlRvb2xiYXIoXCJoaWRlXCIpXHJcblxyXG4gICAgICAgIH0sICcqJyk7XHJcblxyXG4gICAgICAgIC8v6L+Y5Y6f5Yid5aeL56qX5Y+j5pON5L2cXHJcbiAgICAgICAgUE1TLmJpbmQoXCJvblJlc2V0XCIgKyBtYXJrSWQsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyICR3YXBwZXIgPSBtZS4kd2FwcGVyLFxyXG4gICAgICAgICAgICAgICAgJGlmcmFtZSA9ICQobWUuX2lmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoISRpZnJhbWUubGVuZ3RoKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAkd2FwcGVyLmNzcyh7XHJcbiAgICAgICAgICAgICAgICB6SW5kZXg6IG1lLnpJbmRleCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBtZS53aWR0aCArICdweCcsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG1lLmhlaWdodCArICdweCcsXHJcbiAgICAgICAgICAgICAgICB0b3A6IG1lLnRvcCArICdweCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBtZS5sZWZ0ICsgJ3B4J1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8v6L+Y5Y6faWZyYW1l5qC35byPXHJcbiAgICAgICAgICAgICRpZnJhbWUuY3NzKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnJyxcclxuICAgICAgICAgICAgICAgIHRvcDogJzAnLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogJzAnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBYdXQuVmlldy5Ub29sYmFyKFwic2hvd1wiKTtcclxuXHJcbiAgICAgICAgfSwgJyonKTtcclxuXHJcbiAgICAgICAgLy/mmL7npLrlt6XkvZzmnaFcclxuICAgICAgICBQTVMuYmluZChcIm9uU2hvd1Rvb2xiYXJcIiArIG1hcmtJZCwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAvLyBYdXQuVmlldy5TaG93VG9vbGJhcigpO1xyXG4gICAgICAgIH0sICcqJyk7XHJcblxyXG4gICAgICAgIC8v6ZqQ6JeP5bel5L2c5p2hXHJcbiAgICAgICAgUE1TLmJpbmQoXCJvbkhpZGVUb29sYmFyXCIgKyBtYXJrSWQsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuSGlkZVRvb2xiYXIoKTtcclxuICAgICAgICB9LCAnKicpO1xyXG5cclxuICAgICAgICAvL+i3s+i9rOmhtemdolxyXG4gICAgICAgIFBNUy5iaW5kKCdzY3JvbGxUb1BhZ2UnICsgbWFya0lkLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIFh1dC5WaWV3LkdvdG9TbGlkZShkYXRhWydwcHRzJ10sIGRhdGFbJ3BhZ2VJbmRleCddKVxyXG4gICAgICAgIH0sICcqJyk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvLz09PT09PT09PT09PT3lpJbpg6josIPnlKjmjqXlj6M9PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpJbpg6josIPnlKjmjqXlj6NcclxuICAgICAqIOaYvuekuumakOiXj1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoUHJvY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvIDlp4tcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBzdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1lID0gdGhpcztcclxuICAgICAgICBtZS5kb21XYXBwZXIoKTtcclxuICAgICAgICB0aGlzLlBNUy5zZW5kKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBtZS5faWZyYW1lLmNvbnRlbnRXaW5kb3csXHJcbiAgICAgICAgICAgIHVybDogbWUuX2lmcmFtZS5zcmMsXHJcbiAgICAgICAgICAgIG9yaWdpbjogJyonLFxyXG4gICAgICAgICAgICB0eXBlOiAnb25TaG93JyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGVydCgxMjMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtZS5zdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgfSwgMClcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmoLlgZxcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLmRvbVdhcHBlcigpO1xyXG4gICAgICAgIHRoaXMuUE1TLnNlbmQoe1xyXG4gICAgICAgICAgICB0YXJnZXQ6IG1lLl9pZnJhbWUuY29udGVudFdpbmRvdyxcclxuICAgICAgICAgICAgdXJsOiBtZS5faWZyYW1lLnNyYyxcclxuICAgICAgICAgICAgb3JpZ2luOiAnKicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdvbkhpZGUnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWUuc3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB9LCAwKVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITnkIbljIXoo4XlrrnlmajnmoTnirbmgIFcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBkb21XYXBwZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHdhcHBlci5oaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kd2FwcGVyLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvL+WkjeS9jVxyXG4gICAgcmVjb3Zlcnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKG1lLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIG1lLlBNUy5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogbWUuX2lmcmFtZS5jb250ZW50V2luZG93LFxyXG4gICAgICAgICAgICAgICAgdXJsOiBtZS5faWZyYW1lLnNyYyxcclxuICAgICAgICAgICAgICAgIG9yaWdpbjogJyonLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ29uSGlkZScsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtZS5kb21XYXBwZXIoKTtcclxuICAgICAgICAgICAgbWUuc3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/plIDmr4HmjqXlj6NcclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgbWUgPSB0aGlzLFxyXG4gICAgICAgICAgICBpZnJhbWUgPSB0aGlzLl9pZnJhbWUsXHJcbiAgICAgICAgICAgIFBNUyA9IHRoaXMuUE1TO1xyXG5cclxuICAgICAgICAvL+mUgOavgeWGhemDqOS6i+S7tlxyXG4gICAgICAgIFBNUy5zZW5kKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBpZnJhbWUuY29udGVudFdpbmRvdyxcclxuICAgICAgICAgICAgdXJsOiBpZnJhbWUuc3JjLFxyXG4gICAgICAgICAgICBvcmlnaW46ICcqJyxcclxuICAgICAgICAgICAgdHlwZTogJ29uRGVzdG9yeScsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge31cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/plIDmr4Hkuovku7bnu5HlrppcclxuICAgICAgICBQTVMudW5iaW5kKCk7XHJcblxyXG4gICAgICAgIC8v6ZSA6a2C6IqC54K5XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWUuX2lmcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgIG1lLiR3YXBwZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIG1lLiR3YXBwZXIgPSBudWxsO1xyXG4gICAgICAgIH0sIDApXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IHsgaWZyYW1lV2lkZ2V0IH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvaWZyYW1lLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 56 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.pageWidget = undefined;\n\nvar _loader = __webpack_require__(58);\n\nvar _data = __webpack_require__(57);\n\nvar _manage = __webpack_require__(49);\n\n/**\r\n * 解析数据,获取content对象\r\n * @return {[type]} [description]\r\n */\nvar parseContentObjs = function parseContentObjs(pageType, inputPara) {\n    var contentIds = [];\n    inputPara.content && _.each(inputPara.content, function (contentId) {\n        contentIds.push(contentId);\n    });\n    return Xut.Contents.GetPageWidgetData(pageType, contentIds);\n};\n\n/**\r\n * 页面零件\r\n * @param {[type]} data [description]\r\n */\n/********************************************************************\r\n *\r\n *                  创建所有的JS页面零件类\r\n *                  1 js\r\n *                  2 page\r\n *                  3 svg\r\n *                  4 canvas\r\n *                  5 webgL\r\n *\r\n * *******************************************************************/\n\nfunction pageWidget(data) {\n\n    //获取数据\n    _.extend(this, data);\n\n    this.pageObj = null;\n    this.widgetName + \"Widget\";\n    this._init();\n}\n\npageWidget.prototype = {\n\n    /**\r\n     * 获取参数\r\n     * 得到content对象与数据\r\n     * @return {[type]} [description]\r\n     */\n    _getArg: function _getArg() {\n        var data = (0, _data.createData)(this.inputPara, this.scrollPaintingMode, this.calculate);\n        var contentObjs = parseContentObjs(this.pageType, this.inputPara);\n        return [data, contentObjs];\n    },\n\n    /**\r\n     * 初始化,加载文件\r\n     * @return {[type]} [description]\r\n     */\n    _init: function _init() {\n\n        //pixi webgl模式\n        //2016.4.14\n        //高级精灵动画\n        //如果是canvas模式\n        //那么意味着所有的高级精灵动画统一转化pixi模式\n        var pageObj = Xut.Presentation.GetPageObj(this.pageType, this.pageIndex);\n        if (pageObj) {\n            if (pageObj.canvasRelated.enable) {\n                //高级精灵动画不处理\n                //已经改成本地化pixi=>content调用了\n                if (this.widgetName === \"spirit\") {\n                    //高级精灵动画创建器\n                    //管理器内部在创建子高级动画\n                    var arg = this._getArg();\n                    this.pageObj = new seniorManage(arg[0], arg[1]);\n                    return;\n                }\n            }\n        }\n\n        //加载文件\n        if (typeof window[this.widgetName + \"Widget\"] != \"function\") {\n            (0, _loader.loader)(this._executive, this);\n        } else {\n            this._executive();\n        }\n    },\n\n    /**\r\n     * 执行函数\r\n     * @return {[type]} [description]\r\n     */\n    _executive: function _executive() {\n        //普通dom模式\n        if (typeof window[this.widgetName + \"Widget\"] == \"function\") {\n            var arg = this._getArg();\n            this.pageObj = new window[this.widgetName + \"Widget\"](arg[0], arg[1]);\n        } else {\n            console.error(\"Function [\" + this.widgetName + \"Widget] does not exist.\");\n        }\n    },\n\n    play: function play() {\n        // console.log('widget')\n        return this.pageObj.play();\n    },\n\n    getIdName: function getIdName() {\n        return this.pageObj.getIdName();\n    },\n\n    /**\r\n     * 外部调用接口\r\n     * @return {[type]} [description]\r\n     */\n    dispatchProcess: function dispatchProcess() {\n        this.pageObj.toggle();\n    },\n\n    /**\r\n     * 处理包装容器的状态\r\n     * @return {[type]} [description]\r\n     */\n    domWapper: function domWapper() {\n        if (!this.wapper) return;\n        if (this.state) {\n            this.$wapper.hide();\n        } else {\n            this.$wapper.show();\n        }\n    },\n\n    /**\r\n     * 销毁页面零件\r\n     * @return {[type]} [description]\r\n     */\n    destroy: function destroy() {\n        if (this.pageObj && this.pageObj.destroy) {\n            this.pageObj.destroy();\n        }\n    }\n};\n\nexports.pageWidget = pageWidget;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvcGFnZS9jb3JlLmpzPzdmNzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVdBOztBQUNBOztBQUNBOzs7Ozs7QUFNQSxJQUFJLG1CQUFtQixTQUFuQixnQkFBbUIsQ0FBUyxRQUFULEVBQW1CLFNBQW5CLEVBQThCO0FBQ2pELFFBQUksYUFBYSxFQUFqQjtBQUNBLGNBQVUsT0FBVixJQUFxQixFQUFFLElBQUYsQ0FBTyxVQUFVLE9BQWpCLEVBQTBCLFVBQVMsU0FBVCxFQUFvQjtBQUMvRCxtQkFBVyxJQUFYLENBQWdCLFNBQWhCO0FBQ0gsS0FGb0IsQ0FBckI7QUFHQSxXQUFPLElBQUksUUFBSixDQUFhLGlCQUFiLENBQStCLFFBQS9CLEVBQXlDLFVBQXpDLENBQVA7QUFDSCxDQU5EOzs7Ozs7Ozs7Ozs7Ozs7OztBQWFBLFNBQVMsVUFBVCxDQUFvQixJQUFwQixFQUEwQjs7O0FBR3RCLE1BQUUsTUFBRixDQUFTLElBQVQsRUFBZSxJQUFmOztBQUVBLFNBQUssT0FBTCxHQUFlLElBQWY7QUFDQSxTQUFLLFVBQUwsR0FBa0IsUUFBbEI7QUFDQSxTQUFLLEtBQUw7QUFFSDs7QUFFRCxXQUFXLFNBQVgsR0FBdUI7Ozs7Ozs7QUFPbkIsYUFBUyxtQkFBVztBQUNoQixZQUFJLE9BQU8sc0JBQVcsS0FBSyxTQUFoQixFQUEyQixLQUFLLGtCQUFoQyxFQUFvRCxLQUFLLFNBQXpELENBQVg7QUFDQSxZQUFJLGNBQWMsaUJBQWlCLEtBQUssUUFBdEIsRUFBZ0MsS0FBSyxTQUFyQyxDQUFsQjtBQUNBLGVBQU8sQ0FBQyxJQUFELEVBQU8sV0FBUCxDQUFQO0FBQ0gsS0FYa0I7Ozs7OztBQWtCbkIsV0FBTyxpQkFBVzs7Ozs7OztBQU9kLFlBQUksVUFBVSxJQUFJLFlBQUosQ0FBaUIsVUFBakIsQ0FBNEIsS0FBSyxRQUFqQyxFQUEyQyxLQUFLLFNBQWhELENBQWQ7QUFDQSxZQUFJLE9BQUosRUFBYTtBQUNULGdCQUFJLFFBQVEsYUFBUixDQUFzQixNQUExQixFQUFrQzs7O0FBRzlCLG9CQUFJLEtBQUssVUFBTCxLQUFvQixRQUF4QixFQUFrQzs7O0FBRzlCLHdCQUFJLE1BQU0sS0FBSyxPQUFMLEVBQVY7QUFDQSx5QkFBSyxPQUFMLEdBQWUsSUFBSSxZQUFKLENBQWlCLElBQUksQ0FBSixDQUFqQixFQUF5QixJQUFJLENBQUosQ0FBekIsQ0FBZjtBQUNBO0FBQ0g7QUFDSjtBQUNKOzs7QUFHRCxZQUFJLE9BQU8sT0FBTyxLQUFLLFVBQUwsR0FBa0IsUUFBekIsQ0FBUCxJQUE2QyxVQUFqRCxFQUE2RDtBQUN6RCxnQ0FBTyxLQUFLLFVBQVosRUFBd0IsSUFBeEI7QUFDSCxTQUZELE1BRU87QUFDSCxpQkFBSyxVQUFMO0FBQ0g7QUFDSixLQTlDa0I7Ozs7OztBQW9EbkIsZ0JBQVksc0JBQVc7O0FBRW5CLFlBQUksT0FBTyxPQUFPLEtBQUssVUFBTCxHQUFrQixRQUF6QixDQUFQLElBQThDLFVBQWxELEVBQThEO0FBQzFELGdCQUFJLE1BQU0sS0FBSyxPQUFMLEVBQVY7QUFDQSxpQkFBSyxPQUFMLEdBQWUsSUFBSSxPQUFPLEtBQUssVUFBTCxHQUFrQixRQUF6QixDQUFKLENBQXVDLElBQUksQ0FBSixDQUF2QyxFQUErQyxJQUFJLENBQUosQ0FBL0MsQ0FBZjtBQUNILFNBSEQsTUFHTztBQUNILG9CQUFRLEtBQVIsQ0FBYyxlQUFlLEtBQUssVUFBcEIsR0FBaUMseUJBQS9DO0FBQ0g7QUFDSixLQTVEa0I7O0FBK0RuQixVQUFNLGdCQUFXOztBQUViLGVBQU8sS0FBSyxPQUFMLENBQWEsSUFBYixFQUFQO0FBQ0gsS0FsRWtCOztBQW9FbkIsZUFBVyxxQkFBVztBQUNsQixlQUFPLEtBQUssT0FBTCxDQUFhLFNBQWIsRUFBUDtBQUNILEtBdEVrQjs7Ozs7O0FBNEVuQixxQkFBaUIsMkJBQVc7QUFDeEIsYUFBSyxPQUFMLENBQWEsTUFBYjtBQUNILEtBOUVrQjs7Ozs7O0FBb0ZuQixlQUFXLHFCQUFXO0FBQ2xCLFlBQUksQ0FBQyxLQUFLLE1BQVYsRUFBa0I7QUFDbEIsWUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDWixpQkFBSyxPQUFMLENBQWEsSUFBYjtBQUNILFNBRkQsTUFFTztBQUNILGlCQUFLLE9BQUwsQ0FBYSxJQUFiO0FBQ0g7QUFDSixLQTNGa0I7Ozs7OztBQWlHbkIsYUFBUyxtQkFBVztBQUNoQixZQUFJLEtBQUssT0FBTCxJQUFnQixLQUFLLE9BQUwsQ0FBYSxPQUFqQyxFQUEwQztBQUN0QyxpQkFBSyxPQUFMLENBQWEsT0FBYjtBQUNIO0FBQ0o7QUFyR2tCLENBQXZCOztRQXlHUyxVLEdBQUEsVSIsImZpbGUiOiI1Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgIOWIm+W7uuaJgOacieeahEpT6aG16Z2i6Zu25Lu257G7XHJcbiAqICAgICAgICAgICAgICAgICAgMSBqc1xyXG4gKiAgICAgICAgICAgICAgICAgIDIgcGFnZVxyXG4gKiAgICAgICAgICAgICAgICAgIDMgc3ZnXHJcbiAqICAgICAgICAgICAgICAgICAgNCBjYW52YXNcclxuICogICAgICAgICAgICAgICAgICA1IHdlYmdMXHJcbiAqXHJcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBsb2FkZXIgfSBmcm9tICcuL2xvYWRlcidcclxuaW1wb3J0IHsgY3JlYXRlRGF0YSB9IGZyb20gJy4vZGF0YSdcclxuaW1wb3J0IHsgc3Bpcml0U2VuaW9yIH0gZnJvbSAnLi4vLi4vcGl4aS9zcGlyaXRlc2VuaW9yL21hbmFnZSdcclxuXHJcbi8qKlxyXG4gKiDop6PmnpDmlbDmja4s6I635Y+WY29udGVudOWvueixoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmxldCBwYXJzZUNvbnRlbnRPYmpzID0gZnVuY3Rpb24ocGFnZVR5cGUsIGlucHV0UGFyYSkge1xyXG4gICAgdmFyIGNvbnRlbnRJZHMgPSBbXTtcclxuICAgIGlucHV0UGFyYS5jb250ZW50ICYmIF8uZWFjaChpbnB1dFBhcmEuY29udGVudCwgZnVuY3Rpb24oY29udGVudElkKSB7XHJcbiAgICAgICAgY29udGVudElkcy5wdXNoKGNvbnRlbnRJZCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBYdXQuQ29udGVudHMuR2V0UGFnZVdpZGdldERhdGEocGFnZVR5cGUsIGNvbnRlbnRJZHMpXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6aG16Z2i6Zu25Lu2XHJcbiAqIEBwYXJhbSB7W3R5cGVdfSBkYXRhIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHBhZ2VXaWRnZXQoZGF0YSkge1xyXG5cclxuICAgIC8v6I635Y+W5pWw5o2uXHJcbiAgICBfLmV4dGVuZCh0aGlzLCBkYXRhKVxyXG5cclxuICAgIHRoaXMucGFnZU9iaiA9IG51bGw7XHJcbiAgICB0aGlzLndpZGdldE5hbWUgKyBcIldpZGdldFwiXHJcbiAgICB0aGlzLl9pbml0KClcclxuXHJcbn1cclxuXHJcbnBhZ2VXaWRnZXQucHJvdG90eXBlID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Y+C5pWwXHJcbiAgICAgKiDlvpfliLBjb250ZW505a+56LGh5LiO5pWw5o2uXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgX2dldEFyZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBjcmVhdGVEYXRhKHRoaXMuaW5wdXRQYXJhLCB0aGlzLnNjcm9sbFBhaW50aW5nTW9kZSwgdGhpcy5jYWxjdWxhdGUpO1xyXG4gICAgICAgIHZhciBjb250ZW50T2JqcyA9IHBhcnNlQ29udGVudE9ianModGhpcy5wYWdlVHlwZSwgdGhpcy5pbnB1dFBhcmEpO1xyXG4gICAgICAgIHJldHVybiBbZGF0YSwgY29udGVudE9ianNdXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMlizliqDovb3mlofku7ZcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIC8vcGl4aSB3ZWJnbOaooeW8j1xyXG4gICAgICAgIC8vMjAxNi40LjE0XHJcbiAgICAgICAgLy/pq5jnuqfnsr7ngbXliqjnlLtcclxuICAgICAgICAvL+WmguaenOaYr2NhbnZhc+aooeW8j1xyXG4gICAgICAgIC8v6YKj5LmI5oSP5ZGz552A5omA5pyJ55qE6auY57qn57K+54G15Yqo55S757uf5LiA6L2s5YyWcGl4aeaooeW8j1xyXG4gICAgICAgIHZhciBwYWdlT2JqID0gWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlT2JqKHRoaXMucGFnZVR5cGUsIHRoaXMucGFnZUluZGV4KVxyXG4gICAgICAgIGlmIChwYWdlT2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChwYWdlT2JqLmNhbnZhc1JlbGF0ZWQuZW5hYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAvL+mrmOe6p+eyvueBteWKqOeUu+S4jeWkhOeQhlxyXG4gICAgICAgICAgICAgICAgLy/lt7Lnu4/mlLnmiJDmnKzlnLDljJZwaXhpPT5jb250ZW506LCD55So5LqGXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53aWRnZXROYW1lID09PSBcInNwaXJpdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/pq5jnuqfnsr7ngbXliqjnlLvliJvlu7rlmahcclxuICAgICAgICAgICAgICAgICAgICAvL+euoeeQhuWZqOWGhemDqOWcqOWIm+W7uuWtkOmrmOe6p+WKqOeUu1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmcgPSB0aGlzLl9nZXRBcmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZU9iaiA9IG5ldyBzZW5pb3JNYW5hZ2UoYXJnWzBdLCBhcmdbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WKoOi9veaWh+S7tlxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93W3RoaXMud2lkZ2V0TmFtZSArIFwiV2lkZ2V0XCJdICE9IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBsb2FkZXIodGhpcy5fZXhlY3V0aXZlLCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9leGVjdXRpdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omn6KGM5Ye95pWwXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgX2V4ZWN1dGl2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/mma7pgJpkb23mqKHlvI9cclxuICAgICAgICBpZiAodHlwZW9mKHdpbmRvd1t0aGlzLndpZGdldE5hbWUgKyBcIldpZGdldFwiXSkgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmcgPSB0aGlzLl9nZXRBcmcoKVxyXG4gICAgICAgICAgICB0aGlzLnBhZ2VPYmogPSBuZXcgd2luZG93W3RoaXMud2lkZ2V0TmFtZSArIFwiV2lkZ2V0XCJdKGFyZ1swXSwgYXJnWzFdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRnVuY3Rpb24gW1wiICsgdGhpcy53aWRnZXROYW1lICsgXCJXaWRnZXRdIGRvZXMgbm90IGV4aXN0LlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBwbGF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnd2lkZ2V0JylcclxuICAgICAgICByZXR1cm4gdGhpcy5wYWdlT2JqLnBsYXkoKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0SWROYW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYWdlT2JqLmdldElkTmFtZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWklumDqOiwg+eUqOaOpeWPo1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoUHJvY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlT2JqLnRvZ2dsZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWkhOeQhuWMheijheWuueWZqOeahOeKtuaAgVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGRvbVdhcHBlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhcHBlcikgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHdhcHBlci5oaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kd2FwcGVyLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZSA5q+B6aG16Z2i6Zu25Lu2XHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZU9iaiAmJiB0aGlzLnBhZ2VPYmouZGVzdHJveSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VPYmouZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IHBhZ2VXaWRnZXQgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvY29tcG9uZW50L3dpZGdldC9wYWdlL2NvcmUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 57 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createData = createData;\n/**\r\n * 创建数据\r\n * @return {[type]} [description]\r\n */\nfunction createData(outputPara, scrollPaintingMode, calculate) {\n    var item,\n        field,\n        source = [],\n        images = Xut.data['Image'],\n        token = null,\n        items = outputPara.source;\n\n    for (item in items) {\n        if (items.hasOwnProperty(item)) {\n            field = {};\n            token = images.item((parseInt(items[item]) || 1) - 1);\n            field['img'] = token.md5;\n            field['thumb'] = '';\n            field['title'] = token.imageTitle;\n            source.push(field);\n        }\n    }\n\n    outputPara.source = source;\n    outputPara.scrollPaintingMode = scrollPaintingMode;\n    outputPara.calculate = calculate;\n\n    return outputPara;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvcGFnZS9kYXRhLmpzPzZhMGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFJZ0IsVSxHQUFBLFU7Ozs7O0FBQVQsU0FBUyxVQUFULENBQW9CLFVBQXBCLEVBQStCLGtCQUEvQixFQUFrRCxTQUFsRCxFQUE2RDtBQUNoRSxRQUFJLElBQUo7UUFDSSxLQURKO1FBRUksU0FBUyxFQUZiO1FBR0ksU0FBUyxJQUFJLElBQUosQ0FBUyxPQUFULENBSGI7UUFJSSxRQUFTLElBSmI7UUFLSSxRQUFTLFdBQVcsTUFMeEI7O0FBT0EsU0FBSyxJQUFMLElBQWEsS0FBYixFQUFvQjtBQUNoQixZQUFJLE1BQU0sY0FBTixDQUFxQixJQUFyQixDQUFKLEVBQWdDO0FBQzVCLG9CQUFRLEVBQVI7QUFDQSxvQkFBUSxPQUFPLElBQVAsQ0FBWSxDQUFDLFNBQVMsTUFBTSxJQUFOLENBQVQsS0FBeUIsQ0FBMUIsSUFBK0IsQ0FBM0MsQ0FBUjtBQUNBLGtCQUFNLEtBQU4sSUFBZSxNQUFNLEdBQXJCO0FBQ0Esa0JBQU0sT0FBTixJQUFpQixFQUFqQjtBQUNBLGtCQUFNLE9BQU4sSUFBaUIsTUFBTSxVQUF2QjtBQUNBLG1CQUFPLElBQVAsQ0FBWSxLQUFaO0FBQ0g7QUFDSjs7QUFFRCxlQUFXLE1BQVgsR0FBZ0MsTUFBaEM7QUFDQSxlQUFXLGtCQUFYLEdBQWdDLGtCQUFoQztBQUNBLGVBQVcsU0FBWCxHQUFnQyxTQUFoQzs7QUFFQSxXQUFPLFVBQVA7QUFDSCIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDliJvlu7rmlbDmja5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF0YShvdXRwdXRQYXJhLHNjcm9sbFBhaW50aW5nTW9kZSxjYWxjdWxhdGUpIHtcclxuICAgIHZhciBpdGVtLFxyXG4gICAgICAgIGZpZWxkLFxyXG4gICAgICAgIHNvdXJjZSA9IFtdLFxyXG4gICAgICAgIGltYWdlcyA9IFh1dC5kYXRhWydJbWFnZSddLFxyXG4gICAgICAgIHRva2VuICA9IG51bGwsXHJcbiAgICAgICAgaXRlbXMgID0gb3V0cHV0UGFyYS5zb3VyY2U7XHJcblxyXG4gICAgZm9yIChpdGVtIGluIGl0ZW1zKSB7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGZpZWxkID0ge307XHJcbiAgICAgICAgICAgIHRva2VuID0gaW1hZ2VzLml0ZW0oKHBhcnNlSW50KGl0ZW1zW2l0ZW1dKSB8fCAxKSAtIDEpO1xyXG4gICAgICAgICAgICBmaWVsZFsnaW1nJ10gPSB0b2tlbi5tZDU7XHJcbiAgICAgICAgICAgIGZpZWxkWyd0aHVtYiddID0gJyc7XHJcbiAgICAgICAgICAgIGZpZWxkWyd0aXRsZSddID0gdG9rZW4uaW1hZ2VUaXRsZTtcclxuICAgICAgICAgICAgc291cmNlLnB1c2goZmllbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXRQYXJhLnNvdXJjZSAgICAgICAgICAgICA9IHNvdXJjZTtcclxuICAgIG91dHB1dFBhcmEuc2Nyb2xsUGFpbnRpbmdNb2RlID0gc2Nyb2xsUGFpbnRpbmdNb2RlO1xyXG4gICAgb3V0cHV0UGFyYS5jYWxjdWxhdGUgICAgICAgICAgPSBjYWxjdWxhdGU7XHJcblxyXG4gICAgcmV0dXJuIG91dHB1dFBhcmE7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvcGFnZS9kYXRhLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 58 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loader = loader;\n\nvar _loader = __webpack_require__(12);\n\n/**\r\n * 路径地址\r\n * @param  {[type]} name [description]\r\n * @return {[type]}      [description]\r\n */\nfunction path(fileName, widgetId) {\n    return 'content/widget/' + widgetId + '/' + fileName;\n}\n\n/**\r\n * 加载js,css文件\r\n * @return {[type]} [description]\r\n */\nfunction loader(callback, base) {\n    var jsPath,\n        cssPath,\n        completeCount,\n        widgetId = base.widgetId,\n\n    //定义css,js的命名\n    jsName = base.widgetName + '.min.js',\n        cssName = base.widgetType == 'page' || base.widgetType == 'js' ? 'style.min.css' : 0;\n\n    //需要等待完成\n    var completeCount = function () {\n        var count = 0;\n        jsName && count++;\n        cssName && count++;\n        return function () {\n            if (count === 1) {\n                return callback && callback.call(base);\n            }\n            count--;\n        };\n    }();\n\n    //加载css\n    if (cssName) {\n        cssPath = path(cssName, widgetId);\n        (0, _loader.loadfile)(cssPath, function () {\n            completeCount();\n        });\n    }\n\n    //加载js\n    if (jsName) {\n        jsPath = path(jsName, widgetId);\n        (0, _loader.loadfile)(jsPath, function () {\n            completeCount();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbXBvbmVudC93aWRnZXQvcGFnZS9sb2FkZXIuanM/YmFiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQWtCZ0IsTSxHQUFBLE07O0FBbEJoQjs7Ozs7OztBQVNBLFNBQVMsSUFBVCxDQUFjLFFBQWQsRUFBdUIsUUFBdkIsRUFBaUM7QUFDN0IsV0FBTyxvQkFBb0IsUUFBcEIsR0FBK0IsR0FBL0IsR0FBcUMsUUFBNUM7QUFDSDs7Ozs7O0FBT00sU0FBUyxNQUFULENBQWdCLFFBQWhCLEVBQTBCLElBQTFCLEVBQWdDO0FBQ25DLFFBQUksTUFBSjtRQUFZLE9BQVo7UUFBcUIsYUFBckI7UUFDSSxXQUFXLEtBQUssUUFEcEI7OztBQUdJLGFBQVcsS0FBSyxVQUFMLEdBQWtCLFNBSGpDO1FBSUksVUFBWSxLQUFLLFVBQUwsSUFBbUIsTUFBbkIsSUFBNkIsS0FBSyxVQUFMLElBQW1CLElBQWpELEdBQXlELGVBQXpELEdBQTJFLENBSjFGOzs7QUFPQSxRQUFJLGdCQUFnQixZQUFXO0FBQzNCLFlBQUksUUFBUSxDQUFaO0FBQ0Esa0JBQVUsT0FBVjtBQUNBLG1CQUFXLE9BQVg7QUFDQSxlQUFPLFlBQVc7QUFDZCxnQkFBSSxVQUFVLENBQWQsRUFBaUI7QUFDYix1QkFBTyxZQUFZLFNBQVMsSUFBVCxDQUFjLElBQWQsQ0FBbkI7QUFDSDtBQUNEO0FBQ0gsU0FMRDtBQU1ILEtBVm1CLEVBQXBCOzs7QUFhQSxRQUFJLE9BQUosRUFBYTtBQUNULGtCQUFVLEtBQUssT0FBTCxFQUFhLFFBQWIsQ0FBVjtBQUNBLDhCQUFTLE9BQVQsRUFBa0IsWUFBVztBQUN6QjtBQUNILFNBRkQ7QUFHSDs7O0FBR0QsUUFBSSxNQUFKLEVBQVk7QUFDUixpQkFBUyxLQUFLLE1BQUwsRUFBWSxRQUFaLENBQVQ7QUFDQSw4QkFBUyxNQUFULEVBQWlCLFlBQVc7QUFDeEI7QUFDSCxTQUZEO0FBR0g7QUFDSiIsImZpbGUiOiI1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvYWRmaWxlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9sb2FkZXInXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDot6/lvoTlnLDlnYBcclxuICogQHBhcmFtICB7W3R5cGVdfSBuYW1lIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHBhdGgoZmlsZU5hbWUsd2lkZ2V0SWQpIHtcclxuICAgIHJldHVybiAnY29udGVudC93aWRnZXQvJyArIHdpZGdldElkICsgJy8nICsgZmlsZU5hbWVcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb1qcyxjc3Pmlofku7ZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZGVyKGNhbGxiYWNrLCBiYXNlKSB7XHJcbiAgICB2YXIganNQYXRoLCBjc3NQYXRoLCBjb21wbGV0ZUNvdW50LFxyXG4gICAgICAgIHdpZGdldElkID0gYmFzZS53aWRnZXRJZCxcclxuICAgICAgICAvL+WumuS5iWNzcyxqc+eahOWRveWQjVxyXG4gICAgICAgIGpzTmFtZSAgID0gYmFzZS53aWRnZXROYW1lICsgJy5taW4uanMnLFxyXG4gICAgICAgIGNzc05hbWUgID0gKGJhc2Uud2lkZ2V0VHlwZSA9PSAncGFnZScgfHwgYmFzZS53aWRnZXRUeXBlID09ICdqcycpID8gJ3N0eWxlLm1pbi5jc3MnIDogMDtcclxuXHJcbiAgICAvL+mcgOimgeetieW+heWujOaIkFxyXG4gICAgdmFyIGNvbXBsZXRlQ291bnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgICAgIGpzTmFtZSAmJiBjb3VudCsrO1xyXG4gICAgICAgIGNzc05hbWUgJiYgY291bnQrKztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoYmFzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY291bnQtLTtcclxuICAgICAgICB9XHJcbiAgICB9KCk7XHJcblxyXG4gICAgLy/liqDovb1jc3NcclxuICAgIGlmIChjc3NOYW1lKSB7XHJcbiAgICAgICAgY3NzUGF0aCA9IHBhdGgoY3NzTmFtZSx3aWRnZXRJZCk7XHJcbiAgICAgICAgbG9hZGZpbGUoY3NzUGF0aCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlQ291bnQoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqg6L29anNcclxuICAgIGlmIChqc05hbWUpIHtcclxuICAgICAgICBqc1BhdGggPSBwYXRoKGpzTmFtZSx3aWRnZXRJZCk7XHJcbiAgICAgICAgbG9hZGZpbGUoanNQYXRoLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29tcGxldGVDb3VudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9jb21wb25lbnQvd2lkZ2V0L3BhZ2UvbG9hZGVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 59 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Store = undefined;\n\nvar _execute = __webpack_require__(20);\n\n/**\r\n * 数据查询\r\n * @type {Object}\r\n */\nvar Store = {\n\n    statement: {},\n\n    /**\r\n     * novel表ID\r\n     * @type {[type]}\r\n     */\n    novelId: null,\n\n    /**\r\n     * ppt总数\r\n     * @type {Number}\r\n     */\n    count: 0,\n\n    /**\r\n     * 不存在的数据库表\r\n     * @type {Array}\r\n     */\n    collectError: []\n};\n\n//热点合集\nvar dataRet = {};\n\n'Setting,Parallax,Master,Activity,Content,Video,Image,Action,Animation,Widget,Novel,Season,Chapter'.replace(/[^, ]+/g, function (name) {\n    Store.statement[name] = 'select * FROM ' + name + ' order by _id ASC';\n});\n\n/**\r\n * 查询单一的数据\r\n * @return {[type]} [description]\r\n */\nStore.oneQuery = function (tableName, callback) {\n    (0, _execute.execute)('select * FROM ' + tableName + ' order by _id ASC', function (sqlRet, collectError) {\n        callback(sqlRet);\n    });\n};\n\n/**\r\n * 查询总数据\r\n */\nStore.query = function () {\n    var i,\n        self = this;\n    return $.Deferred(function (dfd) {\n        //数据库表重复数据只查询一次\n        if (Object.keys(dataRet).length) {\n            dfd.resolve(dataRet);\n            return;\n        }\n        //ibook模式，数据库外部注入的\n        if (Xut.IBooks.CONFIG) {\n            // self.collectError = collectError;\n            dfd.resolve(Xut.IBooks.CONFIG.data);\n        } else {\n            //查询所有数据\n            (0, _execute.execute)(Store.statement, function (sqlRet, collectError) {\n                for (i in sqlRet) {\n                    dataRet[i] = sqlRet[i];\n                }\n                dfd.resolve(dataRet);\n            });\n        }\n    }).promise();\n};\n\n/**\r\n * 删除数据\r\n * @type {[type]}\r\n */\nStore.remove = function (tableName, id) {\n    var i,\n        self = this;\n    var sql = 'delete from ' + tableName + ' where _id = ' + id;\n    return $.Deferred(function (dfd) {\n        //查询所有数据\n        (0, _execute.execute)(sql, function (success, failure) {\n            if (success) {\n                //成功回调\n                dfd.resolve();\n            } else if (failure) {\n                //失败回调\n                dfd.reject();\n            }\n        });\n    }).promise();\n};\n\nexports.Store = Store;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2RhdGEvc3RvcmUuanM/MjU3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQVNBLElBQUksUUFBUTs7QUFFUixlQUFXLEVBRkg7Ozs7OztBQVFSLGFBQVMsSUFSRDs7Ozs7O0FBY1IsV0FBTyxDQWRDOzs7Ozs7QUFvQlIsa0JBQWM7QUFwQk4sQ0FBWjs7O0FBd0JBLElBQUksVUFBVSxFQUFkOztBQUdBLG9HQUFvRyxPQUFwRyxDQUE0RyxTQUE1RyxFQUF1SCxVQUFTLElBQVQsRUFBZTtBQUNsSSxVQUFNLFNBQU4sQ0FBZ0IsSUFBaEIsSUFBd0IsbUJBQW9CLElBQXBCLEdBQTRCLG1CQUFwRDtBQUNILENBRkQ7Ozs7OztBQVFBLE1BQU0sUUFBTixHQUFpQixVQUFTLFNBQVQsRUFBb0IsUUFBcEIsRUFBOEI7QUFDM0MsMEJBQVEsbUJBQW1CLFNBQW5CLEdBQStCLG1CQUF2QyxFQUE0RCxVQUFTLE1BQVQsRUFBaUIsWUFBakIsRUFBK0I7QUFDdkYsaUJBQVMsTUFBVDtBQUNILEtBRkQ7QUFHSCxDQUpEOzs7OztBQVNBLE1BQU0sS0FBTixHQUFjLFlBQVc7QUFDckIsUUFBSSxDQUFKO1FBQU8sT0FBTyxJQUFkO0FBQ0EsV0FBTyxFQUFFLFFBQUYsQ0FBVyxVQUFTLEdBQVQsRUFBYzs7QUFFNUIsWUFBSSxPQUFPLElBQVAsQ0FBWSxPQUFaLEVBQXFCLE1BQXpCLEVBQWlDO0FBQzdCLGdCQUFJLE9BQUosQ0FBWSxPQUFaO0FBQ0E7QUFDSDs7QUFFRCxZQUFJLElBQUksTUFBSixDQUFXLE1BQWYsRUFBdUI7O0FBRW5CLGdCQUFJLE9BQUosQ0FBWSxJQUFJLE1BQUosQ0FBVyxNQUFYLENBQWtCLElBQTlCO0FBQ0gsU0FIRCxNQUdPOztBQUVILGtDQUFRLE1BQU0sU0FBZCxFQUF5QixVQUFTLE1BQVQsRUFBaUIsWUFBakIsRUFBK0I7QUFDcEQscUJBQUssQ0FBTCxJQUFVLE1BQVYsRUFBa0I7QUFDZCw0QkFBUSxDQUFSLElBQWEsT0FBTyxDQUFQLENBQWI7QUFDSDtBQUNELG9CQUFJLE9BQUosQ0FBWSxPQUFaO0FBQ0gsYUFMRDtBQU1IO0FBQ0osS0FuQk0sRUFtQkosT0FuQkksRUFBUDtBQW9CSCxDQXRCRDs7Ozs7O0FBNkJBLE1BQU0sTUFBTixHQUFlLFVBQVMsU0FBVCxFQUFvQixFQUFwQixFQUF3QjtBQUNuQyxRQUFJLENBQUo7UUFBTyxPQUFPLElBQWQ7QUFDQSxRQUFJLE1BQU0saUJBQWlCLFNBQWpCLEdBQTZCLGVBQTdCLEdBQStDLEVBQXpEO0FBQ0EsV0FBTyxFQUFFLFFBQUYsQ0FBVyxVQUFTLEdBQVQsRUFBYzs7QUFFNUIsOEJBQVEsR0FBUixFQUFhLFVBQVMsT0FBVCxFQUFrQixPQUFsQixFQUEyQjtBQUNwQyxnQkFBSSxPQUFKLEVBQWE7O0FBQ1Qsb0JBQUksT0FBSjtBQUNILGFBRkQsTUFFTyxJQUFJLE9BQUosRUFBYTs7QUFDaEIsb0JBQUksTUFBSjtBQUNIO0FBQ0osU0FORDtBQU9ILEtBVE0sRUFTSixPQVRJLEVBQVA7QUFVSCxDQWJEOztRQWlCSSxLLEdBQUEsSyIsImZpbGUiOiI1OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBleGVjdXRlXHJcbn1cclxuZnJvbSAnLi4vdXRpbC9leGVjdXRlJ1xyXG5cclxuLyoqXHJcbiAqIOaVsOaNruafpeivolxyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cclxudmFyIFN0b3JlID0ge1xyXG5cclxuICAgIHN0YXRlbWVudDoge30sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBub3ZlbOihqElEXHJcbiAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICBub3ZlbElkOiBudWxsLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHB05oC75pWwXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBjb3VudDogMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4jeWtmOWcqOeahOaVsOaNruW6k+ihqFxyXG4gICAgICogQHR5cGUge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBjb2xsZWN0RXJyb3I6IFtdXHJcbn1cclxuXHJcbi8v54Ot54K55ZCI6ZuGXHJcbnZhciBkYXRhUmV0ID0ge307XHJcblxyXG5cclxuJ1NldHRpbmcsUGFyYWxsYXgsTWFzdGVyLEFjdGl2aXR5LENvbnRlbnQsVmlkZW8sSW1hZ2UsQWN0aW9uLEFuaW1hdGlvbixXaWRnZXQsTm92ZWwsU2Vhc29uLENoYXB0ZXInLnJlcGxhY2UoL1teLCBdKy9nLCBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICBTdG9yZS5zdGF0ZW1lbnRbbmFtZV0gPSAnc2VsZWN0ICogRlJPTSAnICsgKG5hbWUpICsgJyBvcmRlciBieSBfaWQgQVNDJztcclxufSlcclxuXHJcbi8qKlxyXG4gKiDmn6Xor6LljZXkuIDnmoTmlbDmja5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TdG9yZS5vbmVRdWVyeSA9IGZ1bmN0aW9uKHRhYmxlTmFtZSwgY2FsbGJhY2spIHtcclxuICAgIGV4ZWN1dGUoJ3NlbGVjdCAqIEZST00gJyArIHRhYmxlTmFtZSArICcgb3JkZXIgYnkgX2lkIEFTQycsIGZ1bmN0aW9uKHNxbFJldCwgY29sbGVjdEVycm9yKSB7XHJcbiAgICAgICAgY2FsbGJhY2soc3FsUmV0KTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmn6Xor6LmgLvmlbDmja5cclxuICovXHJcblN0b3JlLnF1ZXJ5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaSwgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gJC5EZWZlcnJlZChmdW5jdGlvbihkZmQpIHtcclxuICAgICAgICAvL+aVsOaNruW6k+ihqOmHjeWkjeaVsOaNruWPquafpeivouS4gOasoVxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhUmV0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZGZkLnJlc29sdmUoZGF0YVJldCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pYm9va+aooeW8j++8jOaVsOaNruW6k+WklumDqOazqOWFpeeahFxyXG4gICAgICAgIGlmIChYdXQuSUJvb2tzLkNPTkZJRykge1xyXG4gICAgICAgICAgICAvLyBzZWxmLmNvbGxlY3RFcnJvciA9IGNvbGxlY3RFcnJvcjtcclxuICAgICAgICAgICAgZGZkLnJlc29sdmUoWHV0LklCb29rcy5DT05GSUcuZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/mn6Xor6LmiYDmnInmlbDmja5cclxuICAgICAgICAgICAgZXhlY3V0ZShTdG9yZS5zdGF0ZW1lbnQsIGZ1bmN0aW9uKHNxbFJldCwgY29sbGVjdEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgaW4gc3FsUmV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVJldFtpXSA9IHNxbFJldFtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRmZC5yZXNvbHZlKGRhdGFSZXQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pLnByb21pc2UoKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliKDpmaTmlbDmja5cclxuICogQHR5cGUge1t0eXBlXX1cclxuICovXHJcblN0b3JlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWQpIHtcclxuICAgIHZhciBpLCBzZWxmID0gdGhpcztcclxuICAgIHZhciBzcWwgPSAnZGVsZXRlIGZyb20gJyArIHRhYmxlTmFtZSArICcgd2hlcmUgX2lkID0gJyArIGlkO1xyXG4gICAgcmV0dXJuICQuRGVmZXJyZWQoZnVuY3Rpb24oZGZkKSB7XHJcbiAgICAgICAgLy/mn6Xor6LmiYDmnInmlbDmja5cclxuICAgICAgICBleGVjdXRlKHNxbCwgZnVuY3Rpb24oc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgICAgICBpZiAoc3VjY2VzcykgeyAvL+aIkOWKn+Wbnuiwg1xyXG4gICAgICAgICAgICAgICAgZGZkLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmYWlsdXJlKSB7IC8v5aSx6LSl5Zue6LCDXHJcbiAgICAgICAgICAgICAgICBkZmQucmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSkucHJvbWlzZSgpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IHtcclxuICAgIFN0b3JlXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2RhdGEvc3RvcmUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 60 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.promptMessage = promptMessage;\nexports.suspendHandles = suspendHandles;\n\nvar _index = __webpack_require__(2);\n\nvar _notice = __webpack_require__(21);\n\nvar _navbar = __webpack_require__(10);\n\n/***********************************************\r\n *\t      热点动作控制器模块\r\n *         1 所有content热点停止\r\n *         2 所有content热点销毁\r\n *         3 app应用销毁\r\n * **********************************************/\n\n//消息提示框\nfunction promptMessage(info) {\n    (0, _notice.show)({\n        hindex: Xut.Presentation.GetPageIndex(),\n        content: info || \"再按一次将退回到主页\",\n        time: 3000\n    });\n} //调度器\n;\n\n/************************************************************\r\n *\r\n * \t\t\t检测媒体的播放状态\r\n * \t\t\t1 视频\r\n * \t\t\t2 音频\r\n *\r\n * ***********************************************************/\nfunction checkMedia(pageId) {\n    var flag = false; //音频 视频 是否有处理\n\n    if (Xut.AudioManager.clearAudio(pageId)) {\n        flag = true;\n    }\n\n    if (Xut.VideoManager.clearVideo()) {\n        flag = true;\n    }\n\n    return flag;\n}\n\n/************************************************************\r\n *\r\n * \t\t\t检测热点的运行状态\r\n *\r\n * ***********************************************************/\nfunction checkWidgets(context, pageIndex) {\n    return (0, _index.recovery)();\n}\n\n/************************************************************\r\n * \t\t\t停止所有热点动作,并返回状态\r\n * \t\t\t1 content\r\n * \t\t\t2 widget\r\n * \t\t\t动画,视频,音频...........................\r\n * \t\t\t增加场景模式判断\r\n * ***********************************************************/\nfunction suspendHandles(context, pageIndex, skipMedia) {\n\n    //是否存在运行中\n    var stateRun = false;\n\n    //处理音频\n    if (checkMedia(skipMedia)) {\n        stateRun = true;\n    }\n\n    //正在运行的热点\n    ///content,Action', 'Widget', 'ShowNote'\n    if (checkWidgets(context, pageIndex)) {\n        stateRun = true;\n    }\n\n    //处理导航\n    (0, _navbar.close)(function () {\n        stateRun = true;\n    });\n\n    return stateRun;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2Rpc3BhdGNoZXIuanM/MDlkNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQTBCZ0IsYSxHQUFBLGE7UUFnREEsYyxHQUFBLGM7O0FBekVoQjs7QUFLQTs7QUFNQTs7Ozs7Ozs7OztBQWNPLFNBQVMsYUFBVCxDQUF1QixJQUF2QixFQUE2QjtBQUNoQyxzQkFBSztBQUNELGdCQUFRLElBQUksWUFBSixDQUFpQixZQUFqQixFQURQO0FBRUQsaUJBQVMsUUFBUSxZQUZoQjtBQUdELGNBQU07QUFITCxLQUFMO0FBS0gsQztBQUFBOzs7Ozs7Ozs7QUFVRCxTQUFTLFVBQVQsQ0FBb0IsTUFBcEIsRUFBNEI7QUFDeEIsUUFBSSxPQUFPLEtBQVgsQzs7QUFFQSxRQUFJLElBQUksWUFBSixDQUFpQixVQUFqQixDQUE0QixNQUE1QixDQUFKLEVBQXlDO0FBQ3JDLGVBQU8sSUFBUDtBQUNIOztBQUVELFFBQUksSUFBSSxZQUFKLENBQWlCLFVBQWpCLEVBQUosRUFBbUM7QUFDL0IsZUFBTyxJQUFQO0FBQ0g7O0FBRUQsV0FBTyxJQUFQO0FBQ0g7Ozs7Ozs7QUFRRCxTQUFTLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0IsU0FBL0IsRUFBMEM7QUFDdEMsV0FBTyxzQkFBUDtBQUNIOzs7Ozs7Ozs7QUFVTSxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsRUFBaUMsU0FBakMsRUFBNEMsU0FBNUMsRUFBdUQ7OztBQUcxRCxRQUFJLFdBQVcsS0FBZjs7O0FBR0EsUUFBSSxXQUFXLFNBQVgsQ0FBSixFQUEyQjtBQUN2QixtQkFBVyxJQUFYO0FBQ0g7Ozs7QUFJRCxRQUFJLGFBQWEsT0FBYixFQUFzQixTQUF0QixDQUFKLEVBQXNDO0FBQ2xDLG1CQUFXLElBQVg7QUFDSDs7O0FBR0QsdUJBQU0sWUFBVztBQUNiLG1CQUFXLElBQVg7QUFDSCxLQUZEOztBQUlBLFdBQU8sUUFBUDtBQUNIIiwiZmlsZSI6IjYwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/osIPluqblmahcclxuaW1wb3J0IHtcclxuICAgIHJlY292ZXJ5XHJcbn1cclxuZnJvbSAnLi9zY2hlZHVsZXIvaW5kZXgnXHJcblxyXG5pbXBvcnQge1xyXG4gICAgc2hvd1xyXG59XHJcbmZyb20gJy4vdXRpbC9ub3RpY2UnXHJcblxyXG5cclxuaW1wb3J0IHtcclxuICAgIGNsb3NlXHJcbn1cclxuZnJvbSAnLi90b29sYmFyL25hdmJhcidcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICpcdCAgICAgIOeDreeCueWKqOS9nOaOp+WItuWZqOaooeWdl1xyXG4gKiAgICAgICAgIDEg5omA5pyJY29udGVudOeDreeCueWBnOatolxyXG4gKiAgICAgICAgIDIg5omA5pyJY29udGVudOeDreeCuemUgOavgVxyXG4gKiAgICAgICAgIDMgYXBw5bqU55So6ZSA5q+BXHJcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vL+a2iOaBr+aPkOekuuahhlxyXG5leHBvcnQgZnVuY3Rpb24gcHJvbXB0TWVzc2FnZShpbmZvKSB7XHJcbiAgICBzaG93KHtcclxuICAgICAgICBoaW5kZXg6IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZUluZGV4KCksXHJcbiAgICAgICAgY29udGVudDogaW5mbyB8fCBcIuWGjeaMieS4gOasoeWwhumAgOWbnuWIsOS4u+mhtVwiLFxyXG4gICAgICAgIHRpbWU6IDMwMDBcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICpcclxuICogXHRcdFx05qOA5rWL5aqS5L2T55qE5pKt5pS+54q25oCBXHJcbiAqIFx0XHRcdDEg6KeG6aKRXHJcbiAqIFx0XHRcdDIg6Z+z6aKRXHJcbiAqXHJcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBjaGVja01lZGlhKHBhZ2VJZCkge1xyXG4gICAgdmFyIGZsYWcgPSBmYWxzZTsgLy/pn7PpopEg6KeG6aKRIOaYr+WQpuacieWkhOeQhlxyXG5cclxuICAgIGlmIChYdXQuQXVkaW9NYW5hZ2VyLmNsZWFyQXVkaW8ocGFnZUlkKSkge1xyXG4gICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChYdXQuVmlkZW9NYW5hZ2VyLmNsZWFyVmlkZW8oKSkge1xyXG4gICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmbGFnO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiBcdFx0XHTmo4DmtYvng63ngrnnmoTov5DooYznirbmgIFcclxuICpcclxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmZ1bmN0aW9uIGNoZWNrV2lkZ2V0cyhjb250ZXh0LCBwYWdlSW5kZXgpIHtcclxuICAgIHJldHVybiByZWNvdmVyeSgpXHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIFx0XHRcdOWBnOatouaJgOacieeDreeCueWKqOS9nCzlubbov5Tlm57nirbmgIFcclxuICogXHRcdFx0MSBjb250ZW50XHJcbiAqIFx0XHRcdDIgd2lkZ2V0XHJcbiAqIFx0XHRcdOWKqOeUuyzop4bpopEs6Z+z6aKRLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXHJcbiAqIFx0XHRcdOWinuWKoOWcuuaZr+aooeW8j+WIpOaWrVxyXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN1c3BlbmRIYW5kbGVzKGNvbnRleHQsIHBhZ2VJbmRleCwgc2tpcE1lZGlhKSB7XHJcblxyXG4gICAgLy/mmK/lkKblrZjlnKjov5DooYzkuK1cclxuICAgIHZhciBzdGF0ZVJ1biA9IGZhbHNlO1xyXG5cclxuICAgIC8v5aSE55CG6Z+z6aKRXHJcbiAgICBpZiAoY2hlY2tNZWRpYShza2lwTWVkaWEpKSB7XHJcbiAgICAgICAgc3RhdGVSdW4gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5q2j5Zyo6L+Q6KGM55qE54Ot54K5XHJcbiAgICAvLy9jb250ZW50LEFjdGlvbicsICdXaWRnZXQnLCAnU2hvd05vdGUnXHJcbiAgICBpZiAoY2hlY2tXaWRnZXRzKGNvbnRleHQsIHBhZ2VJbmRleCkpIHtcclxuICAgICAgICBzdGF0ZVJ1biA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpITnkIblr7zoiKpcclxuICAgIGNsb3NlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHN0YXRlUnVuID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzdGF0ZVJ1bjtcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvZGlzcGF0Y2hlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 61 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.external = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _controller = __webpack_require__(19);\n\nvar _index2 = __webpack_require__(2);\n\nvar _dispatcher = __webpack_require__(60);\n\nvar _scene = __webpack_require__(15);\n\nvar _factory = __webpack_require__(90);\n\n//调度器\n/**\r\n *\r\n * 杂志全局API\r\n *\r\n *  *** 有方法体的是全局接口，不会被重载***\r\n *  *** 无方法体的是场景接口，总会切换到当前可视区域场景***\r\n *\r\n * 1.   Xut.Application\r\n *          a)  整个应用程序的接口，执行应用级别的操作，例如退出应用之类。\r\n * 2.   Xut.DocumentWindow\r\n *          a)  窗口的接口。窗口就是电子杂志的展示区域，可以操作诸如宽度、高度、长宽比之类。\r\n * 3.   Xut.View\r\n *          a)  视图接口。视图是窗口的展示方式，和页面相关的接口，都在这里。\r\n * 4.   Xut.Presentation\r\n *          a)  数据接口。和电子杂志的数据相关的接口，都在这里。\r\n * 5.   Xut.Slides\r\n *          a)  所有页面的集合\r\n * 6.   Xut.Slide\r\n *          a)  单个页面\r\n * 7.   Xut.Master\r\n *          a)  页面的母版\r\n *\r\n *\r\n * @return {[type]} [description]\r\n */\n\n//ProcessControl\n\nvar config = Xut.config,\n    plat = Xut.plat,\n    LOCK = 1,\n    //锁定\nUNLOCK = 2,\n    //解除锁定\nIsPay = false; //\n\n/**\r\n * 代码注入空间\r\n * @type {Object}\r\n */\n\n\n//主场景工厂方法\n\n\n//场景管理器\nvar external = {};\n\n/**\r\n * 桌面绑定鼠标控制\r\n */\nif (plat.isBrowser) {\n    $(document).keyup(function (event) {\n        switch (event.keyCode) {\n            case 37:\n                Xut.View.GotoPrevSlide();\n                break;\n            case 39:\n                Xut.View.GotoNextSlide();\n                break;\n        }\n    });\n}\n\n//================================================\n//\n//              电子杂志所有接口\n//\n//=================================================\nXut.Assist = {};\nvar Presentation = Xut.Presentation = {};\nvar _View = Xut.View = {};\nvar Contents = Xut.Contents = {};\nvar Application = Xut.Application = {};\n\n/**\r\n * 忙碌光标\r\n * */\n(0, _index.portExtend)(_View, {\n\n    busyBarState: false,\n\n    //忙碌光标的引用\n    busyIcon: null,\n\n    ShowBusy: function ShowBusy() {\n        if (Xut.IBooks.Enabled) return;\n        _View.busyBarState = true;\n        _View.busyIcon.show();\n    },\n\n    HideBusy: function HideBusy() {\n        if (Xut.IBooks.Enabled) return;\n        var busyIcon = _View.busyIcon;\n        if (_View.ShowBusy.lock) return; //显示忙碌加锁，用于不处理hideBusy\n        _View.busyBarState = false;\n        busyIcon.hide();\n        IsPay && busyIcon.css('pointer-events', '').find('.xut-busy-text').html('');\n    },\n\n    ShowTextBusy: function ShowTextBusy(txt) {\n        if (Xut.IBooks.Enabled) return;\n        _View.busyIcon.css('pointer-events', 'none').find('.xut-busy-text').html(txt);\n        _View.ShowBusy();\n    }\n});\n\n/**\r\n * [检查是否购买]\r\n **/\nfunction CheckBuyGood(seasonId, chapterId, createMode, pageIndex) {\n    //已付费\n    if (IsPay) {\n        return false;\n    }\n\n    try {\n        var data = Xut.data.query('sectionRelated', seasonId).toolbar,\n            item = [];\n        data = JSON.parse(data);\n        //判断是否免费章节\n        if (!data.Inapp) {\n            return false;\n        }\n        //判断是否交费\n        if (UNLOCK == data.Inapp || UNLOCK == (0, _index._get)(inAppId)) {\n            setUnlock();\n            return false;\n        }\n        //判断是否收费章节\n        if (LOCK == data.Inapp && data.inappInfo) {\n            item = _.map(data.inappInfo.split('-'), function (num) {\n                return Number(num);\n            });\n            //收费提示页\n            if (item[0] == chapterId && item[1] == seasonId) {\n                return false;\n            } else {\n                _View.LoadScenario({\n                    'scenarioId': item[1],\n                    'chapterId': item[0],\n                    'createMode': createMode,\n                    'pageIndex': pageIndex,\n                    'isInApp': 'isInApp'\n                });\n            }\n        }\n    } catch (e) {\n        console.log('Data error:', e);\n    }\n    return true;\n}\n\n//重复点击\nvar repeatClick = false;\n\n/**\r\n * 场景\r\n * */\n(0, _index.portExtend)(_View, {\n\n    /**\r\n     * 关闭场景\r\n     */\n    CloseScenario: function CloseScenario() {\n        if (repeatClick) return;\n        repeatClick = true;\n        var serial = _controller.controll.takeOutPrevChainId();\n        _View.LoadScenario({\n            'scenarioId': serial.scenarioId,\n            'chapterId': serial.chapterId,\n            'createMode': 'sysClose'\n        }, function () {\n            repeatClick = false;\n        });\n    },\n\n    /**\r\n     * 加载一个新的场景\r\n     * 1 节与节跳\r\n     *    单场景情况\r\n     *    多场景情况\r\n     * 2 章与章跳\r\n     * useUnlockCallBack 用来解锁回调,重复判断\r\n     * isInApp 是否跳转到提示页面\r\n     */\n    LoadScenario: function LoadScenario(options, useUnlockCallBack) {\n\n        var seasonId = (0, _index.toNumber)(options.scenarioId),\n            chapterId = (0, _index.toNumber)(options.chapterId),\n            pageIndex = (0, _index.toNumber)(options.pageIndex),\n            createMode = options.createMode,\n            isInApp = options.isInApp;\n\n        //ibooks模式下的跳转\n        //全部转化成超链接\n        if (!options.main && Xut.IBooks.Enabled && Xut.IBooks.runMode()) {\n            location.href = chapterId + \".xhtml\";\n            return;\n        }\n\n        //检查应用内是否收费\n        if (current && CheckBuyGood(seasonId, chapterId, createMode, pageIndex)) {\n            //未交费\n            return false;\n        }\n\n        //处理场景跳转\n        var sceneController = _controller.controll,\n\n        //用户指定的跳转入口，而不是通过内部关闭按钮处理的\n        userAssign = createMode === 'sysClose' ? false : true,\n\n        //当前活动场景容器对象\n        current = sceneController.containerObj('current');\n\n        //获取到当前的页面对象\n        //用于跳转去重复\n        if (current && current.vm) {\n            var curVmPage;\n            if (curVmPage = current.vm.$curVmPage) {\n                if (curVmPage.scenarioId == seasonId && curVmPage.chapterId == chapterId) {\n                    console.log('无效的重复触发');\n                    return;\n                }\n            }\n        }\n\n        //==================场景内部跳转===============================\n        //\n        //  节相同，章与章的跳转\n        //  用户指定跳转模式,如果目标对象是当前应用页面，按内部跳转处理\n        //\n        //=============================================================\n        if (userAssign && current && current.scenarioId === seasonId) {\n            _View.GotoSlide(seasonId, chapterId);\n            return;\n        }\n\n        //==================场景外部跳转===============================\n        //\n        //  节与节的跳转,需要对场景的处理\n        //\n        //=============================================================\n\n        //清理热点动作\n        current && current.vm.$suspend();\n\n        //通过内部关闭按钮加载新场景处理\n        if (current && userAssign) {\n            //检测是不是往回跳转,重复处理\n            sceneController.checkToRepeat(seasonId);\n        }\n\n        //================加载新的场景=================\n\n        //读酷启动时不需要忙碌光标\n        if (DUKUCONFIG && options.main) {\n            Xut.View.HideBusy();\n        } else {\n            Xut.View.ShowBusy();\n        }\n\n        /**\r\n         * 跳出去\r\n         * $multiScenario\r\n         * 场景模式\r\n         * $multiScenario\r\n         *      true  多场景\r\n         *      false 单场景模式\r\n         * 如果当前是从主场景加载副场景\r\n         * 关闭系统工具栏\r\n         */\n        if (current && !current.vm.$multiScenario) {\n            _View.HideToolbar();\n        }\n\n        /**\r\n         * 重写场景的顺序编号\r\n         * 用于记录场景最后记录\r\n         */\n        var pageId;\n        if (current && (pageId = Xut.Presentation.GetPageId())) {\n            sceneController.rewrite(current.scenarioId, pageId);\n        }\n\n        /**\r\n         * 场景信息\r\n         * @type {[type]}\r\n         */\n        var sectionRang = Xut.data.query('sectionRelated', seasonId);\n        var barInfo = sectionRang.toolbar,\n            //场景工具栏配置信息\n        pageTotal = sectionRang.length,\n\n        //通过chapterId转化为实际页码指标\n        //season 2\n        //       {\n        //          chapterId : 1  => 0\n        //          chpaterId : 2  => 1\n        //       }\n        //\n        parseInitIndex = function parseInitIndex() {\n            return chapterId ? function () {\n                //如果节点内部跳转方式加载,无需转化页码\n                if (createMode === 'GotoSlide') {\n                    return chapterId;\n                }\n                //初始页从0开始，减去下标1\n                return chapterId - sectionRang.start - 1;\n            }() : 0;\n        };\n\n        //如果启动了虚拟模式\n        if (config.virtualMode) {\n            pageTotal = pageTotal * 2;\n        }\n\n        /**\r\n         * 传递的参数\r\n         * seasonId    节ID\r\n         * chapterId   页面ID\r\n         * pageIndex   指定页码\r\n         * isInApp     是否跳到收费提示页\r\n         * pageTotal   页面总数\r\n         * barInfo     工具栏配置文件\r\n         * history     历史记录\r\n         * sectionRang 节信息\r\n         * complete    构件完毕回调\r\n         * @type {Object}\r\n         */\n        var data = {\n            seasonId: seasonId,\n            chapterId: chapterId,\n            pageIndex: pageIndex || parseInitIndex(),\n            isInApp: isInApp,\n            pageTotal: pageTotal,\n            barInfo: barInfo,\n            history: options.history,\n            sectionRang: sectionRang,\n            //制作场景切换后处理\n            complete: function complete(nextBack) {\n                //销毁多余场景\n                current && current.destroy();\n                //下一个任务存在,执行切换回调后,在执行页面任务\n                nextBack && nextBack();\n                //去掉忙碌\n                _View.HideBusy();\n                //解锁回调\n                useUnlockCallBack && useUnlockCallBack();\n            }\n        };\n\n        //主场景判断（第一个节,因为工具栏的配置不同）\n        if (options.main || sceneController.mianId === seasonId) {\n            //清理缓存\n            (0, _index._remove)(\"history\");\n            //确定主场景\n            sceneController.mianId = seasonId;\n            //是否主场景\n            data.isMain = true;\n        }\n        new _factory.sceneFactory(data);\n    }\n});\n\n/**\r\n * 行为\r\n * */\n(0, _index.portExtend)(_View, {\n    /**\r\n     * 通过插件打开一个新view窗口\r\n     */\n    Open: function Open(pageUrl, width, height, left, top) {\n        Xut.Plugin.WebView.open(pageUrl, left, top, height, width, 1);\n    },\n\n    //关闭view窗口\n    Close: function Close() {\n        Xut.Plugin.WebView.close();\n    }\n});\n\n/**\r\n * content\r\n * */\n(0, _index.portExtend)(Contents, {\n\n    //存在文档碎片\n    //针对音频字幕增加的快捷查找\n    contentsFragment: {},\n\n    /**\r\n     * 是否为canvas元素\r\n     * 用来判断事件冒泡\r\n     * 判断当前元素是否支持滑动\r\n     * 默认任何元素都支持滑动\r\n     * @type {Boolean}\r\n     */\n    Canvas: {\n\n        /**\r\n         * 是否允许滑动\r\n         * @type {Boolean}\r\n         */\n        SupportSwipe: true,\n\n        /**\r\n         * 对象是否滑动\r\n         * @type {Boolean}\r\n         */\n        isSwipe: false,\n\n        /**\r\n         * 对象是否点击\r\n         */\n        isTap: false,\n\n        /**\r\n         * 复位标记\r\n         */\n        Reset: function Reset() {\n            Contents.Canvas.SupportSwipe = true;\n            Contents.Canvas.isSwipe = false;\n        },\n\n        /**\r\n         * 判断是否可以滑动\r\n         * @return {[type]} [description]\r\n         */\n        getSupportState: function getSupportState() {\n            var state;\n            if (Contents.Canvas.SupportSwipe) {\n                state = true;\n            } else {\n                state = false;\n            }\n            //清空状态\n            Contents.Canvas.Reset();\n            return state;\n        },\n\n        /**\r\n         * 判断是否绑定了滑动事件\r\n         * @return {Boolean} [description]\r\n         */\n        getIsSwipe: function getIsSwipe() {\n            var state;\n            if (Contents.Canvas.isSwipe) {\n                state = true;\n            } else {\n                state = false;\n            }\n            //清空状态\n            Contents.Canvas.Reset();\n            return state;\n        },\n\n        /**\r\n         * 是否绑定了点击事件\r\n         */\n        getIsTap: function getIsTap() {\n            var state = Contents.Canvas.isTap;\n            Contents.Canvas.isTap = false;\n            return state;\n        }\n    },\n\n    /**\r\n     * 恢复节点的默认控制\r\n     * 默认是系统接管\r\n     * 如果'drag', 'dragTag', 'swipeleft', 'swiperight', 'swipeup', 'swipedown'等事件会重写\r\n     * 还需要考虑第三方调用，所以需要给一个重写的接口\r\n     * @return {[type]} [description]\r\n     * Content_1_3\r\n     * [Content_1_3,Content_1_4,Content_1_5]\r\n     */\n    ResetDefaultControl: function ResetDefaultControl(pageType, id, value) {\n        if (!id) return;\n        var elements,\n            handle = function handle(ele) {\n            if (value) {\n                ele.attr('data-behavior', value);\n            } else {\n                ele.attr('data-behavior', 'disable');\n            }\n        };\n        if ((elements = Contents.Get(pageType, id)) && elements.$contentProcess) {\n            handle(elements.$contentProcess);\n        } else {\n            elements = $(\"#\" + id);\n            elements.length && handle(elements);\n        }\n    },\n\n    /**\r\n     * 针对SVG无节点操作\r\n     * 关闭控制\r\n     */\n    DisableControl: function DisableControl(callback) {\n        return {\n            behavior: 'data-behavior',\n            value: 'disable'\n        };\n    },\n\n    /**\r\n     * 针对SVG无节点操作\r\n     * 启动控制\r\n     */\n    EnableControl: function EnableControl(Value) {\n        return {\n            behavior: 'data-behavior',\n            value: Value || 'click-swipe'\n        };\n    }\n});\n\nfunction getStorage(name) {\n    return parseInt((0, _index._get)(name));\n}\n\n/**\r\n * [ 执行解锁]\r\n * @return {[type]} [description]\r\n */\nfunction setUnlock() {\n    IsPay = true;\n}\n\n//购买成功\nfunction pass() {\n    //如果提前关闭了忙碌光标说明被用户中止\n    if (!_View.busyBarState) return;\n    //将购买记录存入数据库\n    var db = config.db,\n        sql = 'UPDATE Setting SET value=? WHERE name=?';\n\n    db.transaction(function (tx) {\n        tx.executeSql(sql, [null, 'Inapp']);\n    }, function (e) {\n        (0, _index._set)(inAppId, UNLOCK);\n    });\n\n    setUnlock();\n    _View.CloseScenario();\n    _View.HideBusy();\n}\n\n//购买失败\nfunction failed() {\n    if (!_View.busyBarState) return;\n    (0, _index.messageBox)('购买失败');\n    _View.HideBusy();\n}\n\n(0, _index.portExtend)(Application, {\n\n    /**\r\n     * 应用平台\r\n     * @type {[type]}\r\n     */\n    Platform: function () {\n        //平台缩写\n        var platformName = ['duku', 'pc', 'ios', 'android'];\n        if (GLOBALIFRAME) {\n            //嵌套iframe平台\n            return platformName[0];\n        } else {\n            if (config.isBrowser) {\n                return platformName[1];\n            } else if (Xut.plat.isIOS) {\n                return platformName[2];\n            } else if (Xut.plat.isAndroid) {\n                return platformName[3];\n            }\n        }\n    }(),\n\n    /**\r\n     * [ 锁状态]\r\n     * @return {[type]} [description]\r\n     */\n    Unlock: function Unlock() {\n        return IsPay;\n    },\n\n    /**\r\n     * [ 检查是否解锁]\r\n     * @return {[type]}       [description]\r\n     */\n    CheckOut: function CheckOut() {\n        var Inapp = config.Inapp;\n        if (!Inapp || (0, _index._get)(Inapp) === UNLOCK || Xut.plat.isAndroid) {\n            setUnlock();\n        }\n    },\n\n    /**\r\n     * [ 付费接口]\r\n     * @param  {[type]} seasonId   [description]\r\n     * @param  {[type]} chapterId  [description]\r\n     * @param  {[type]} createMode [description]\r\n     * @param  {[type]} pageIndex  [description]\r\n     * @return {[type]}            [description]\r\n     */\n    BuyGood: function BuyGood() {\n        var inAppId = config.Inapp;\n        if (_View.busyBarState) return;\n        _View.ShowTextBusy('请稍候...');\n        //调式模式\n        if (plat.isBrowser) {\n            setTimeout(function () {\n                pass();\n            }, 3000);\n            return;\n        }\n        //从AppStore查询是否交费\n        Xut.Plugin.iapPlugin.selectInfo(function () {\n            pass(); //查询成功则表明已购买\n        }, function () {\n            //否则提示购买\n            Xut.Plugin.iapPlugin.buyGood(function () {\n                pass();\n            }, function (e) {\n                failed();\n            }, inAppId);\n        }, inAppId);\n    },\n\n    /**\r\n     * 已付费接口\r\n     * @return {[type]} [description]\r\n     */\n    HasBuyGood: function HasBuyGood() {\n        var inAppId = config.Inapp;\n        if (_View.busyBarState) return;\n        _View.ShowTextBusy('请稍候...');\n        //调式模式\n        if (plat.isBrowser) {\n            setTimeout(function () {\n                pass();\n            }, 3000);\n            return;\n        }\n\n        Xut.Plugin.iapPlugin.restore(function () {\n            pass(); //查询成功则表明已购买\n        }, function () {\n            failed();\n        }, inAppId);\n    },\n\n    /**\r\n     * 刷新页面\r\n     */\n    Resize: function Resize() {\n\n        //清理对象\n        _controller.controll.destroyAllScene();\n\n        //清理节点\n        $(\"#sceneContainer\").empty();\n\n        //加载新的页面\n        var novelId,\n            pageIndex = getStorage('pageIndex');\n\n        //缓存加载\n        if (pageIndex !== void 0) {\n            novelId = getStorage(\"novelId\");\n            //加强判断\n            if (novelId) {\n                (0, _scene.loadScene)({\n                    \"novelId\": novelId,\n                    \"pageIndex\": pageIndex,\n                    'history': (0, _index._get)('history')\n                });\n            };\n        }\n    },\n\n    /**\r\n     * home隐藏\r\n     * 后台运行的时候,恢复到初始化状态\r\n     * 用于进来的时候激活Activate\r\n     */\n    Original: function Original() {\n        (0, _index2.suspend)();\n        (0, _index2.original)();\n    },\n\n    /**\r\n     * home显示\r\n     * 后台弹回来\r\n     * 激活应用行为\r\n     */\n    Activate: function Activate() {\n        (0, _index2.autoRun)();\n    },\n\n    /**\r\n     * 销毁应用\r\n     */\n    Destroy: function Destroy() {\n        if (plat.isBrowser) {\n            //销毁桌面控制\n            $(document).off();\n        }\n        //销毁所有场景\n        _controller.controll.destroyAllScene();\n    },\n\n    /**\r\n     * 退出app\r\n     */\n    DropApp: function DropApp() {\n        //如果读酷\n        if (DUKUCONFIG) {\n            //外部回调通知\n            if (DUKUCONFIG.iframeDrop) {\n                var appId = (0, _index._get)('appId');\n                DUKUCONFIG.iframeDrop(['appId-' + appId, 'novelId-' + appId, 'pageIndex-' + appId]);\n            }\n            DUKUCONFIG = null;\n            unEvent();\n            destroy();\n            return;\n        }\n\n        //客户端模式\n        if (CLIENTCONFIGT) {\n            //外部回调通知\n            if (CLIENTCONFIGT.iframeDrop) {\n                CLIENTCONFIGT.iframeDrop();\n            }\n            CLIENTCONFIGT = null;\n            unEvent();\n            destroy();\n            return;\n        }\n\n        //妙妙学客户端\n        if (MMXCONFIG) {\n            //外部回调通知\n            if (MMXCONFIG.iframeDrop) {\n                MMXCONFIG.iframeDrop();\n            }\n            MMXCONFIG = null;\n            destroy();\n            return;\n        }\n\n        function unEvent() {\n            //并且是安卓情况下\n            //安卓销毁按键事件\n            if (Xut.plat.isAndroid) {\n                GLOBALCONTEXT.document.removeEventListener(\"backbutton\", config._event.back, false);\n                GLOBALCONTEXT.document.removeEventListener(\"pause\", config._event.pause, false);\n            }\n        }\n\n        //iframe模式,退出处理\n        function destroy() {\n            //销毁内存对象\n            Application.Destroy();\n            GLOBALCONTEXT = null;\n        }\n\n        //单应用dialogs\n        if (!plat.isBrowser) {\n            GLOBALCONTEXT.navigator.notification.confirm('您确认要退出吗？', function (button) {\n                if (1 == button) {\n                    GLOBALCONTEXT.navigator.app.exitApp();\n                }\n            }, '退出', ['确定', '取消']);\n        }\n    },\n\n    /**\r\n     * 暂停应用\r\n     * skipMedia 跳过音频你处理(跨页面)\r\n     * dispose   成功处理回调\r\n     * processed 处理完毕回调\r\n     */\n    Suspend: function Suspend(opts) {\n        if ((0, _dispatcher.suspendHandles)(opts.skipMedia)) {\n            //停止热点动作\n            if (opts.dispose) {\n                opts.dispose(_dispatcher.promptMessage);\n            }\n        } else {\n            opts.processed && opts.processed();\n        }\n    },\n\n    //============================================================\n    //\n    //  注册所有组件对象\n    //\n    //  2 widget 包括 视频 音频 Action 子文档 弹出口 类型\n    //    这种类型是冒泡处理，无法传递钩子，直接用这个接口与场景对接\n    //\n    injectionComponent: function injectionComponent(regData) {\n        var sceneObj = _controller.controll.containerObj('current');\n        sceneObj.vm.$injectionComponent = regData;\n    }\n});\n\n(0, _index.portExtend)(Application, {\n\n    /**\r\n     * 应用加载状态\r\n     * false未加载\r\n     * true 已加载\r\n     * @type {Boolean}\r\n     */\n    appState: false,\n\n    setAppState: function setAppState() {\n        Application.appState = true;\n    },\n\n    delAppState: function delAppState() {\n        Application.appState = false;\n    },\n\n    /**\r\n     * 获取应用加载状态\r\n     * @return {[type]} [description]\r\n     */\n    getAppState: function getAppState() {\n        return Application.appState;\n    },\n\n    /**\r\n     * 延时APP运用\r\n     * 一般是在等待视频先加载完毕\r\n     * @return {[type]} [description]\r\n     */\n    delayAppRun: function delayAppRun() {\n        Application.setAppState();\n    },\n\n    /**\r\n     * 启动app\r\n     * 重载启动方法\r\n     * 如果调用在重载之前，就删除，\r\n     * 否则被启动方法重载\r\n     * @type {[type]}\r\n     */\n    LaunchApp: function LaunchApp() {\n        Application.delAppState();\n    },\n\n    /**\r\n     * 应用加载完毕\r\n     */\n    AddEventListener: function AddEventListener() {}\n});\n\n//========================================================\n//\n//          脚本注入接口\n//\n//========================================================\n\nexports.external = external = {\n\n    /**\r\n           读取系统中保存的变量的值。\r\n           如果变量不存在，则新建这个全局变量\r\n           如果系统中没有保存的值，用默认值进行赋值\r\n           这个函数，将是创建全局变量的默认函数。\r\n         */\n    ReadVar: function ReadVar(variable, defaultValue) {\n        var temp;\n        if (temp = (0, _index._get)(variable)) {\n            return temp;\n        } else {\n            (0, _index._set)(variable, defaultValue);\n            return defaultValue;\n        }\n    },\n\n    /**\r\n     * 将变量的值保存起来\r\n     */\n    SaveVar: function SaveVar(variable, value) {\n        (0, _index._set)(variable, value);\n    },\n\n    /*\r\n           对变量赋值，然后保存变量的值\r\n           对于全局变量，这个函数将是主要使用的，替代简单的“=”赋值\r\n         */\n    SetVar: function SetVar(variable, value) {\n        (0, _index._set)(variable, value);\n    }\n\n};\n\n/**\r\n * u3d接口\r\n */\nXut.U3d = {\n    /**\r\n     * 跳转接口\r\n     * @param {[type]} seasonId  [description]\r\n     * @param {[type]} chapterId [description]\r\n     */\n    View: function View(seasonId, chapterId) {\n        _View.LoadScenario({\n            'scenarioId': serial.scenarioId,\n            'chapterId': serial.chapterId\n        });\n    }\n};\n\n//导出注入接口\nwindow.XXTAPI = external;\n\nexports.external = external;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2V4dGVybmFsLmpzPzQzMjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQTRCQTs7QUFXQTs7QUFNQTs7QUFLQTs7QUFLQTs7QUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLElBQUksU0FBUyxJQUFJLE1BQWpCO0lBQ0ksT0FBTyxJQUFJLElBRGY7SUFFSSxPQUFPLENBRlg7O0FBR0ksU0FBUyxDQUhiOztBQUlJLFFBQVEsS0FKWixDOzs7Ozs7Ozs7Ozs7QUFVQSxJQUFJLFdBQVcsRUFBZjs7Ozs7QUFLQSxJQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNoQixNQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFVBQVMsS0FBVCxFQUFnQjtBQUM5QixnQkFBUSxNQUFNLE9BQWQ7QUFDSSxpQkFBSyxFQUFMO0FBQ0ksb0JBQUksSUFBSixDQUFTLGFBQVQ7QUFDQTtBQUNKLGlCQUFLLEVBQUw7QUFDSSxvQkFBSSxJQUFKLENBQVMsYUFBVDtBQUNBO0FBTlI7QUFRSCxLQVREO0FBVUg7Ozs7Ozs7QUFRRCxJQUFJLE1BQUosR0FBYSxFQUFiO0FBQ0EsSUFBSSxlQUFlLElBQUksWUFBSixHQUFtQixFQUF0QztBQUNBLElBQUksUUFBTyxJQUFJLElBQUosR0FBVyxFQUF0QjtBQUNBLElBQUksV0FBVyxJQUFJLFFBQUosR0FBZSxFQUE5QjtBQUNBLElBQUksY0FBYyxJQUFJLFdBQUosR0FBa0IsRUFBcEM7Ozs7O0FBTUEsdUJBQVcsS0FBWCxFQUFpQjs7QUFFYixrQkFBYyxLQUZEOzs7QUFLYixjQUFVLElBTEc7O0FBT2IsY0FBVSxvQkFBVztBQUNqQixZQUFJLElBQUksTUFBSixDQUFXLE9BQWYsRUFBd0I7QUFDeEIsY0FBSyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsY0FBSyxRQUFMLENBQWMsSUFBZDtBQUNILEtBWFk7O0FBYWIsY0FBVSxvQkFBVztBQUNqQixZQUFJLElBQUksTUFBSixDQUFXLE9B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QixFQUE4QjtBQUNoQyxjQUFLLFlBQUwsQ0FBa0I7QUFDZCwwQkFBYyxPQUFPLFVBRFA7QUFFZCx5QkFBYSxPQUFPO0FBRk4sU0FBbEI7QUFJSDtBQVhLLENBQVY7OztBQWdCQSxPQUFPLE1BQVAsR0FBZ0IsUUFBaEI7O1FBR0ksUSxHQUFBLFEiLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICpcclxuICog5p2C5b+X5YWo5bGAQVBJXHJcbiAqXHJcbiAqICAqKiog5pyJ5pa55rOV5L2T55qE5piv5YWo5bGA5o6l5Y+j77yM5LiN5Lya6KKr6YeN6L29KioqXHJcbiAqICAqKiog5peg5pa55rOV5L2T55qE5piv5Zy65pmv5o6l5Y+j77yM5oC75Lya5YiH5o2i5Yiw5b2T5YmN5Y+v6KeG5Yy65Z+f5Zy65pmvKioqXHJcbiAqXHJcbiAqIDEuICAgWHV0LkFwcGxpY2F0aW9uXHJcbiAqICAgICAgICAgIGEpICDmlbTkuKrlupTnlKjnqIvluo/nmoTmjqXlj6PvvIzmiafooYzlupTnlKjnuqfliKvnmoTmk43kvZzvvIzkvovlpoLpgIDlh7rlupTnlKjkuYvnsbvjgIJcclxuICogMi4gICBYdXQuRG9jdW1lbnRXaW5kb3dcclxuICogICAgICAgICAgYSkgIOeql+WPo+eahOaOpeWPo+OAgueql+WPo+WwseaYr+eUteWtkOadguW/l+eahOWxleekuuWMuuWfn++8jOWPr+S7peaTjeS9nOivuOWmguWuveW6puOAgemrmOW6puOAgemVv+WuveavlOS5i+exu+OAglxyXG4gKiAzLiAgIFh1dC5WaWV3XHJcbiAqICAgICAgICAgIGEpICDop4blm77mjqXlj6PjgILop4blm77mmK/nqpflj6PnmoTlsZXnpLrmlrnlvI/vvIzlkozpobXpnaLnm7jlhbPnmoTmjqXlj6PvvIzpg73lnKjov5nph4zjgIJcclxuICogNC4gICBYdXQuUHJlc2VudGF0aW9uXHJcbiAqICAgICAgICAgIGEpICDmlbDmja7mjqXlj6PjgILlkoznlLXlrZDmnYLlv5fnmoTmlbDmja7nm7jlhbPnmoTmjqXlj6PvvIzpg73lnKjov5nph4zjgIJcclxuICogNS4gICBYdXQuU2xpZGVzXHJcbiAqICAgICAgICAgIGEpICDmiYDmnInpobXpnaLnmoTpm4blkIhcclxuICogNi4gICBYdXQuU2xpZGVcclxuICogICAgICAgICAgYSkgIOWNleS4qumhtemdolxyXG4gKiA3LiAgIFh1dC5NYXN0ZXJcclxuICogICAgICAgICAgYSkgIOmhtemdoueahOavjeeJiFxyXG4gKlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG4vL1Byb2Nlc3NDb250cm9sXHJcblxyXG5pbXBvcnQge1xyXG4gICAgX3NldCxcclxuICAgIF9nZXQsXHJcbiAgICBfcmVtb3ZlLFxyXG4gICAgdG9OdW1iZXIsXHJcbiAgICBwb3J0RXh0ZW5kLFxyXG4gICAgbWVzc2FnZUJveFxyXG59XHJcbmZyb20gJy4vdXRpbC9pbmRleCdcclxuXHJcbi8v5Zy65pmv566h55CG5ZmoXHJcbmltcG9ydCB7XHJcbiAgICBjb250cm9sbFxyXG59XHJcbmZyb20gJy4vc2NlbmFyaW8vY29udHJvbGxlcidcclxuXHJcbi8v6LCD5bqm5ZmoXHJcbmltcG9ydCB7XHJcbiAgICBhdXRvUnVuLCBvcmlnaW5hbCwgc3VzcGVuZFxyXG59XHJcbmZyb20gJy4vc2NoZWR1bGVyL2luZGV4J1xyXG5cclxuaW1wb3J0IHtcclxuICAgIHN1c3BlbmRIYW5kbGVzLCBwcm9tcHRNZXNzYWdlXHJcbn1cclxuZnJvbSAnLi9kaXNwYXRjaGVyJ1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGxvYWRTY2VuZVxyXG59XHJcbmZyb20gJy4vaW5pdC9zY2VuZSdcclxuXHJcbi8v5Li75Zy65pmv5bel5Y6C5pa55rOVXHJcbmltcG9ydCB7XHJcbiAgICBzY2VuZUZhY3RvcnlcclxufVxyXG5mcm9tICcuL3NjZW5hcmlvL2ZhY3RvcnknXHJcblxyXG5cclxudmFyIGNvbmZpZyA9IFh1dC5jb25maWcsXHJcbiAgICBwbGF0ID0gWHV0LnBsYXQsXHJcbiAgICBMT0NLID0gMSwgLy/plIHlrppcclxuICAgIFVOTE9DSyA9IDIsIC8v6Kej6Zmk6ZSB5a6aXHJcbiAgICBJc1BheSA9IGZhbHNlOyAvL1xyXG5cclxuLyoqXHJcbiAqIOS7o+eggeazqOWFpeepuumXtFxyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cclxudmFyIGV4dGVybmFsID0ge307XHJcblxyXG4vKipcclxuICog5qGM6Z2i57uR5a6a6byg5qCH5o6n5Yi2XHJcbiAqL1xyXG5pZiAocGxhdC5pc0Jyb3dzZXIpIHtcclxuICAgICQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICAgICAgICBYdXQuVmlldy5Hb3RvUHJldlNsaWRlKClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgICAgICAgICAgWHV0LlZpZXcuR290b05leHRTbGlkZSgpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy8gICAgICAgICAgICAgIOeUteWtkOadguW/l+aJgOacieaOpeWPo1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuWHV0LkFzc2lzdCA9IHt9XHJcbnZhciBQcmVzZW50YXRpb24gPSBYdXQuUHJlc2VudGF0aW9uID0ge307XHJcbnZhciBWaWV3ID0gWHV0LlZpZXcgPSB7fTtcclxudmFyIENvbnRlbnRzID0gWHV0LkNvbnRlbnRzID0ge307XHJcbnZhciBBcHBsaWNhdGlvbiA9IFh1dC5BcHBsaWNhdGlvbiA9IHt9O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDlv5nnoozlhYnmoIdcclxuICogKi9cclxucG9ydEV4dGVuZChWaWV3LCB7XHJcblxyXG4gICAgYnVzeUJhclN0YXRlOiBmYWxzZSxcclxuXHJcbiAgICAvL+W/meeijOWFieagh+eahOW8leeUqFxyXG4gICAgYnVzeUljb246IG51bGwsXHJcblxyXG4gICAgU2hvd0J1c3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChYdXQuSUJvb2tzLkVuYWJsZWQpIHJldHVybjtcclxuICAgICAgICBWaWV3LmJ1c3lCYXJTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgVmlldy5idXN5SWNvbi5zaG93KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIEhpZGVCdXN5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoWHV0LklCb29rcy5FbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1c3lJY29uID0gVmlldy5idXN5SWNvbjtcclxuICAgICAgICBpZiAoVmlldy5TaG93QnVzeS5sb2NrKSByZXR1cm47IC8v5pi+56S65b+Z56KM5Yqg6ZSB77yM55So5LqO5LiN5aSE55CGaGlkZUJ1c3lcclxuICAgICAgICBWaWV3LmJ1c3lCYXJTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIGJ1c3lJY29uLmhpZGUoKTtcclxuICAgICAgICBJc1BheSAmJiBidXN5SWNvbi5jc3MoJ3BvaW50ZXItZXZlbnRzJywgJycpLmZpbmQoJy54dXQtYnVzeS10ZXh0JykuaHRtbCgnJylcclxuICAgIH0sXHJcblxyXG4gICAgU2hvd1RleHRCdXN5OiBmdW5jdGlvbih0eHQpIHtcclxuICAgICAgICBpZiAoWHV0LklCb29rcy5FbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgVmlldy5idXN5SWNvbi5jc3MoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKS5maW5kKCcueHV0LWJ1c3ktdGV4dCcpLmh0bWwodHh0KTtcclxuICAgICAgICBWaWV3LlNob3dCdXN5KCk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBb5qOA5p+l5piv5ZCm6LSt5LmwXVxyXG4gKiovXHJcbmZ1bmN0aW9uIENoZWNrQnV5R29vZChzZWFzb25JZCwgY2hhcHRlcklkLCBjcmVhdGVNb2RlLCBwYWdlSW5kZXgpIHtcclxuICAgIC8v5bey5LuY6LS5XHJcbiAgICBpZiAoSXNQYXkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgZGF0YSA9IFh1dC5kYXRhLnF1ZXJ5KCdzZWN0aW9uUmVsYXRlZCcsIHNlYXNvbklkKS50b29sYmFyLFxyXG4gICAgICAgICAgICBpdGVtID0gW107XHJcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgLy/liKTmlq3mmK/lkKblhY3otLnnq6DoioJcclxuICAgICAgICBpZiAoIWRhdGEuSW5hcHApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WIpOaWreaYr+WQpuS6pOi0uVxyXG4gICAgICAgIGlmIChVTkxPQ0sgPT0gZGF0YS5JbmFwcCB8fCBVTkxPQ0sgPT0gX2dldChpbkFwcElkKSkge1xyXG4gICAgICAgICAgICBzZXRVbmxvY2soKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WIpOaWreaYr+WQpuaUtui0ueeroOiKglxyXG4gICAgICAgIGlmIChMT0NLID09IGRhdGEuSW5hcHAgJiYgZGF0YS5pbmFwcEluZm8pIHtcclxuICAgICAgICAgICAgaXRlbSA9IF8ubWFwKGRhdGEuaW5hcHBJbmZvLnNwbGl0KCctJyksIGZ1bmN0aW9uKG51bSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcihudW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy/mlLbotLnmj5DnpLrpobVcclxuICAgICAgICAgICAgaWYgKGl0ZW1bMF0gPT0gY2hhcHRlcklkICYmIGl0ZW1bMV0gPT0gc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFZpZXcuTG9hZFNjZW5hcmlvKHtcclxuICAgICAgICAgICAgICAgICAgICAnc2NlbmFyaW9JZCc6IGl0ZW1bMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NoYXB0ZXJJZCc6IGl0ZW1bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NyZWF0ZU1vZGUnOiBjcmVhdGVNb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYWdlSW5kZXgnOiBwYWdlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lzSW5BcHAnOiAnaXNJbkFwcCdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgZXJyb3I6JywgZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuXHJcblxyXG4vL+mHjeWkjeeCueWHu1xyXG52YXIgcmVwZWF0Q2xpY2sgPSBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiDlnLrmma9cclxuICogKi9cclxucG9ydEV4dGVuZChWaWV3LCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl63lnLrmma9cclxuICAgICAqL1xyXG4gICAgQ2xvc2VTY2VuYXJpbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHJlcGVhdENsaWNrKSByZXR1cm47XHJcbiAgICAgICAgcmVwZWF0Q2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIHZhciBzZXJpYWwgPSBjb250cm9sbC50YWtlT3V0UHJldkNoYWluSWQoKTtcclxuICAgICAgICBWaWV3LkxvYWRTY2VuYXJpbyh7XHJcbiAgICAgICAgICAgICdzY2VuYXJpb0lkJzogc2VyaWFsLnNjZW5hcmlvSWQsXHJcbiAgICAgICAgICAgICdjaGFwdGVySWQnOiBzZXJpYWwuY2hhcHRlcklkLFxyXG4gICAgICAgICAgICAnY3JlYXRlTW9kZSc6ICdzeXNDbG9zZSdcclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVwZWF0Q2xpY2sgPSBmYWxzZTtcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9veS4gOS4quaWsOeahOWcuuaZr1xyXG4gICAgICogMSDoioLkuI7oioLot7NcclxuICAgICAqICAgIOWNleWcuuaZr+aDheWGtVxyXG4gICAgICogICAg5aSa5Zy65pmv5oOF5Ya1XHJcbiAgICAgKiAyIOeroOS4jueroOi3s1xyXG4gICAgICogdXNlVW5sb2NrQ2FsbEJhY2sg55So5p2l6Kej6ZSB5Zue6LCDLOmHjeWkjeWIpOaWrVxyXG4gICAgICogaXNJbkFwcCDmmK/lkKbot7PovazliLDmj5DnpLrpobXpnaJcclxuICAgICAqL1xyXG4gICAgTG9hZFNjZW5hcmlvOiBmdW5jdGlvbihvcHRpb25zLCB1c2VVbmxvY2tDYWxsQmFjaykge1xyXG5cclxuICAgICAgICB2YXIgc2Vhc29uSWQgPSB0b051bWJlcihvcHRpb25zLnNjZW5hcmlvSWQpLFxyXG4gICAgICAgICAgICBjaGFwdGVySWQgPSB0b051bWJlcihvcHRpb25zLmNoYXB0ZXJJZCksXHJcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9IHRvTnVtYmVyKG9wdGlvbnMucGFnZUluZGV4KSxcclxuICAgICAgICAgICAgY3JlYXRlTW9kZSA9IG9wdGlvbnMuY3JlYXRlTW9kZSxcclxuICAgICAgICAgICAgaXNJbkFwcCA9IG9wdGlvbnMuaXNJbkFwcDtcclxuXHJcblxyXG4gICAgICAgIC8vaWJvb2tz5qih5byP5LiL55qE6Lez6L2sXHJcbiAgICAgICAgLy/lhajpg6jovazljJbmiJDotoXpk77mjqVcclxuICAgICAgICBpZiAoIW9wdGlvbnMubWFpbiAmJiBYdXQuSUJvb2tzLkVuYWJsZWQgJiYgWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGNoYXB0ZXJJZCArIFwiLnhodG1sXCI7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8v5qOA5p+l5bqU55So5YaF5piv5ZCm5pS26LS5XHJcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgQ2hlY2tCdXlHb29kKHNlYXNvbklkLCBjaGFwdGVySWQsIGNyZWF0ZU1vZGUsIHBhZ2VJbmRleCkpIHtcclxuICAgICAgICAgICAgLy/mnKrkuqTotLlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lpITnkIblnLrmma/ot7PovaxcclxuICAgICAgICB2YXIgc2NlbmVDb250cm9sbGVyID0gY29udHJvbGwsXHJcbiAgICAgICAgICAgIC8v55So5oi35oyH5a6a55qE6Lez6L2s5YWl5Y+j77yM6ICM5LiN5piv6YCa6L+H5YaF6YOo5YWz6Zet5oyJ6ZKu5aSE55CG55qEXHJcbiAgICAgICAgICAgIHVzZXJBc3NpZ24gPSBjcmVhdGVNb2RlID09PSAnc3lzQ2xvc2UnID8gZmFsc2UgOiB0cnVlLFxyXG4gICAgICAgICAgICAvL+W9k+WJjea0u+WKqOWcuuaZr+WuueWZqOWvueixoVxyXG4gICAgICAgICAgICBjdXJyZW50ID0gc2NlbmVDb250cm9sbGVyLmNvbnRhaW5lck9iaignY3VycmVudCcpO1xyXG5cclxuICAgICAgICAvL+iOt+WPluWIsOW9k+WJjeeahOmhtemdouWvueixoVxyXG4gICAgICAgIC8v55So5LqO6Lez6L2s5Y676YeN5aSNXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC52bSkge1xyXG4gICAgICAgICAgICB2YXIgY3VyVm1QYWdlO1xyXG4gICAgICAgICAgICBpZiAoY3VyVm1QYWdlID0gY3VycmVudC52bS4kY3VyVm1QYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyVm1QYWdlLnNjZW5hcmlvSWQgPT0gc2Vhc29uSWQgJiYgY3VyVm1QYWdlLmNoYXB0ZXJJZCA9PSBjaGFwdGVySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5peg5pWI55qE6YeN5aSN6Kem5Y+RJylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT3lnLrmma/lhoXpg6jot7Povaw9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAg6IqC55u45ZCM77yM56ug5LiO56ug55qE6Lez6L2sXHJcbiAgICAgICAgLy8gIOeUqOaIt+aMh+Wumui3s+i9rOaooeW8jyzlpoLmnpznm67moIflr7nosaHmmK/lvZPliY3lupTnlKjpobXpnaLvvIzmjInlhoXpg6jot7PovazlpITnkIZcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIGlmICh1c2VyQXNzaWduICYmIGN1cnJlbnQgJiYgY3VycmVudC5zY2VuYXJpb0lkID09PSBzZWFzb25JZCkge1xyXG4gICAgICAgICAgICBWaWV3LkdvdG9TbGlkZShzZWFzb25JZCwgY2hhcHRlcklkKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT095Zy65pmv5aSW6YOo6Lez6L2sPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gIOiKguS4juiKgueahOi3s+i9rCzpnIDopoHlr7nlnLrmma/nmoTlpITnkIZcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICAvL+a4heeQhueDreeCueWKqOS9nFxyXG4gICAgICAgIGN1cnJlbnQgJiYgY3VycmVudC52bS4kc3VzcGVuZCgpO1xyXG5cclxuICAgICAgICAvL+mAmui/h+WGhemDqOWFs+mXreaMiemSruWKoOi9veaWsOWcuuaZr+WkhOeQhlxyXG4gICAgICAgIGlmIChjdXJyZW50ICYmIHVzZXJBc3NpZ24pIHtcclxuICAgICAgICAgICAgLy/mo4DmtYvmmK/kuI3mmK/lvoDlm57ot7Povaws6YeN5aSN5aSE55CGXHJcbiAgICAgICAgICAgIHNjZW5lQ29udHJvbGxlci5jaGVja1RvUmVwZWF0KHNlYXNvbklkKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLz09PT09PT09PT09PT09PT3liqDovb3mlrDnmoTlnLrmma89PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICAvL+ivu+mFt+WQr+WKqOaXtuS4jemcgOimgeW/meeijOWFieagh1xyXG4gICAgICAgIGlmIChEVUtVQ09ORklHICYmIG9wdGlvbnMubWFpbikge1xyXG4gICAgICAgICAgICBYdXQuVmlldy5IaWRlQnVzeSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFh1dC5WaWV3LlNob3dCdXN5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Lez5Ye65Y67XHJcbiAgICAgICAgICogJG11bHRpU2NlbmFyaW9cclxuICAgICAgICAgKiDlnLrmma/mqKHlvI9cclxuICAgICAgICAgKiAkbXVsdGlTY2VuYXJpb1xyXG4gICAgICAgICAqICAgICAgdHJ1ZSAg5aSa5Zy65pmvXHJcbiAgICAgICAgICogICAgICBmYWxzZSDljZXlnLrmma/mqKHlvI9cclxuICAgICAgICAgKiDlpoLmnpzlvZPliY3mmK/ku47kuLvlnLrmma/liqDovb3lia/lnLrmma9cclxuICAgICAgICAgKiDlhbPpl63ns7vnu5/lt6XlhbfmoI9cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoY3VycmVudCAmJiAhY3VycmVudC52bS4kbXVsdGlTY2VuYXJpbykge1xyXG4gICAgICAgICAgICBWaWV3LkhpZGVUb29sYmFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6YeN5YaZ5Zy65pmv55qE6aG65bqP57yW5Y+3XHJcbiAgICAgICAgICog55So5LqO6K6w5b2V5Zy65pmv5pyA5ZCO6K6w5b2VXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHBhZ2VJZDtcclxuICAgICAgICBpZiAoY3VycmVudCAmJiAocGFnZUlkID0gWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlSWQoKSkpIHtcclxuICAgICAgICAgICAgc2NlbmVDb250cm9sbGVyLnJld3JpdGUoY3VycmVudC5zY2VuYXJpb0lkLCBwYWdlSWQpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWcuuaZr+S/oeaBr1xyXG4gICAgICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHNlY3Rpb25SYW5nID0gWHV0LmRhdGEucXVlcnkoJ3NlY3Rpb25SZWxhdGVkJywgc2Vhc29uSWQpO1xyXG4gICAgICAgIHZhciBiYXJJbmZvID0gc2VjdGlvblJhbmcudG9vbGJhciwgLy/lnLrmma/lt6XlhbfmoI/phY3nva7kv6Hmga9cclxuICAgICAgICAgICAgcGFnZVRvdGFsID0gc2VjdGlvblJhbmcubGVuZ3RoLFxyXG4gICAgICAgICAgICAvL+mAmui/h2NoYXB0ZXJJZOi9rOWMluS4uuWunumZhemhteeggeaMh+agh1xyXG4gICAgICAgICAgICAvL3NlYXNvbiAyXHJcbiAgICAgICAgICAgIC8vICAgICAgIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgY2hhcHRlcklkIDogMSAgPT4gMFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICBjaHBhdGVySWQgOiAyICA9PiAxXHJcbiAgICAgICAgICAgIC8vICAgICAgIH1cclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgcGFyc2VJbml0SW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFwdGVySWQgPyAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzoioLngrnlhoXpg6jot7PovazmlrnlvI/liqDovb0s5peg6ZyA6L2s5YyW6aG156CBXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZU1vZGUgPT09ICdHb3RvU2xpZGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFwdGVySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8v5Yid5aeL6aG15LuOMOW8gOWni++8jOWHj+WOu+S4i+aghzFcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcHRlcklkIC0gc2VjdGlvblJhbmcuc3RhcnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgfSkoKSA6IDA7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAvL+WmguaenOWQr+WKqOS6huiZmuaLn+aooeW8j1xyXG4gICAgICAgIGlmIChjb25maWcudmlydHVhbE1vZGUpIHtcclxuICAgICAgICAgICAgcGFnZVRvdGFsID0gcGFnZVRvdGFsICogMjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDkvKDpgJLnmoTlj4LmlbBcclxuICAgICAgICAgKiBzZWFzb25JZCAgICDoioJJRFxyXG4gICAgICAgICAqIGNoYXB0ZXJJZCAgIOmhtemdoklEXHJcbiAgICAgICAgICogcGFnZUluZGV4ICAg5oyH5a6a6aG156CBXHJcbiAgICAgICAgICogaXNJbkFwcCAgICAg5piv5ZCm6Lez5Yiw5pS26LS55o+Q56S66aG1XHJcbiAgICAgICAgICogcGFnZVRvdGFsICAg6aG16Z2i5oC75pWwXHJcbiAgICAgICAgICogYmFySW5mbyAgICAg5bel5YW35qCP6YWN572u5paH5Lu2XHJcbiAgICAgICAgICogaGlzdG9yeSAgICAg5Y6G5Y+y6K6w5b2VXHJcbiAgICAgICAgICogc2VjdGlvblJhbmcg6IqC5L+h5oGvXHJcbiAgICAgICAgICogY29tcGxldGUgICAg5p6E5Lu25a6M5q+V5Zue6LCDXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgc2Vhc29uSWQ6IHNlYXNvbklkLFxyXG4gICAgICAgICAgICBjaGFwdGVySWQ6IGNoYXB0ZXJJZCxcclxuICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXggfHwgcGFyc2VJbml0SW5kZXgoKSxcclxuICAgICAgICAgICAgaXNJbkFwcDogaXNJbkFwcCxcclxuICAgICAgICAgICAgcGFnZVRvdGFsOiBwYWdlVG90YWwsXHJcbiAgICAgICAgICAgIGJhckluZm86IGJhckluZm8sXHJcbiAgICAgICAgICAgIGhpc3Rvcnk6IG9wdGlvbnMuaGlzdG9yeSxcclxuICAgICAgICAgICAgc2VjdGlvblJhbmc6IHNlY3Rpb25SYW5nLFxyXG4gICAgICAgICAgICAvL+WItuS9nOWcuuaZr+WIh+aNouWQjuWkhOeQhlxyXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24obmV4dEJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8v6ZSA5q+B5aSa5L2Z5Zy65pmvXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ICYmIGN1cnJlbnQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgLy/kuIvkuIDkuKrku7vliqHlrZjlnKgs5omn6KGM5YiH5o2i5Zue6LCD5ZCOLOWcqOaJp+ihjOmhtemdouS7u+WKoVxyXG4gICAgICAgICAgICAgICAgbmV4dEJhY2sgJiYgbmV4dEJhY2soKTtcclxuICAgICAgICAgICAgICAgIC8v5Y675o6J5b+Z56KMXHJcbiAgICAgICAgICAgICAgICBWaWV3LkhpZGVCdXN5KCk7XHJcbiAgICAgICAgICAgICAgICAvL+ino+mUgeWbnuiwg1xyXG4gICAgICAgICAgICAgICAgdXNlVW5sb2NrQ2FsbEJhY2sgJiYgdXNlVW5sb2NrQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8v5Li75Zy65pmv5Yik5pat77yI56ys5LiA5Liq6IqCLOWboOS4uuW3peWFt+agj+eahOmFjee9ruS4jeWQjO+8iVxyXG4gICAgICAgIGlmIChvcHRpb25zLm1haW4gfHwgc2NlbmVDb250cm9sbGVyLm1pYW5JZCA9PT0gc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgLy/muIXnkIbnvJPlrZhcclxuICAgICAgICAgICAgX3JlbW92ZShcImhpc3RvcnlcIik7XHJcbiAgICAgICAgICAgIC8v56Gu5a6a5Li75Zy65pmvXHJcbiAgICAgICAgICAgIHNjZW5lQ29udHJvbGxlci5taWFuSWQgPSBzZWFzb25JZDtcclxuICAgICAgICAgICAgLy/mmK/lkKbkuLvlnLrmma9cclxuICAgICAgICAgICAgZGF0YS5pc01haW4gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXcgc2NlbmVGYWN0b3J5KGRhdGEpO1xyXG5cclxuICAgIH1cclxufSlcclxuXHJcblxyXG4vKipcclxuICog6KGM5Li6XHJcbiAqICovXHJcbnBvcnRFeHRlbmQoVmlldywge1xyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4fmj5Lku7bmiZPlvIDkuIDkuKrmlrB2aWV356qX5Y+jXHJcbiAgICAgKi9cclxuICAgIE9wZW46IGZ1bmN0aW9uKHBhZ2VVcmwsIHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCkge1xyXG4gICAgICAgIFh1dC5QbHVnaW4uV2ViVmlldy5vcGVuKHBhZ2VVcmwsIGxlZnQsIHRvcCwgaGVpZ2h0LCB3aWR0aCwgMSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5YWz6Zetdmlld+eql+WPo1xyXG4gICAgQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFh1dC5QbHVnaW4uV2ViVmlldy5jbG9zZSgpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcbi8qKlxyXG4gKiBjb250ZW50XHJcbiAqICovXHJcbnBvcnRFeHRlbmQoQ29udGVudHMsIHtcclxuXHJcbiAgICAvL+WtmOWcqOaWh+aho+eijueJh1xyXG4gICAgLy/pkojlr7npn7PpopHlrZfluZXlop7liqDnmoTlv6vmjbfmn6Xmib5cclxuICAgIGNvbnRlbnRzRnJhZ21lbnQ6IHt9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5Li6Y2FudmFz5YWD57SgXHJcbiAgICAgKiDnlKjmnaXliKTmlq3kuovku7blhpLms6FcclxuICAgICAqIOWIpOaWreW9k+WJjeWFg+e0oOaYr+WQpuaUr+aMgea7keWKqFxyXG4gICAgICog6buY6K6k5Lu75L2V5YWD57Sg6YO95pSv5oyB5ruR5YqoXHJcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgQ2FudmFzOiB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaYr+WQpuWFgeiuuOa7keWKqFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN1cHBvcnRTd2lwZTogdHJ1ZSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5a+56LGh5piv5ZCm5ruR5YqoXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaXNTd2lwZTogZmFsc2UsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWvueixoeaYr+WQpueCueWHu1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlzVGFwOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSN5L2N5qCH6K6wXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgUmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBDb250ZW50cy5DYW52YXMuU3VwcG9ydFN3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgQ29udGVudHMuQ2FudmFzLmlzU3dpcGUgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDliKTmlq3mmK/lkKblj6/ku6Xmu5HliqhcclxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRTdXBwb3J0U3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGU7XHJcbiAgICAgICAgICAgIGlmIChDb250ZW50cy5DYW52YXMuU3VwcG9ydFN3aXBlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5riF56m654q25oCBXHJcbiAgICAgICAgICAgIENvbnRlbnRzLkNhbnZhcy5SZXNldCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDliKTmlq3mmK/lkKbnu5Hlrprkuobmu5Hliqjkuovku7ZcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0SXNTd2lwZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZTtcclxuICAgICAgICAgICAgaWYgKENvbnRlbnRzLkNhbnZhcy5pc1N3aXBlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5riF56m654q25oCBXHJcbiAgICAgICAgICAgIENvbnRlbnRzLkNhbnZhcy5SZXNldCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5piv5ZCm57uR5a6a5LqG54K55Ye75LqL5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0SXNUYXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBDb250ZW50cy5DYW52YXMuaXNUYXA7XHJcbiAgICAgICAgICAgIENvbnRlbnRzLkNhbnZhcy5pc1RhcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmgaLlpI3oioLngrnnmoTpu5jorqTmjqfliLZcclxuICAgICAqIOm7mOiupOaYr+ezu+e7n+aOpeeuoVxyXG4gICAgICog5aaC5p6cJ2RyYWcnLCAnZHJhZ1RhZycsICdzd2lwZWxlZnQnLCAnc3dpcGVyaWdodCcsICdzd2lwZXVwJywgJ3N3aXBlZG93bifnrYnkuovku7bkvJrph43lhplcclxuICAgICAqIOi/mOmcgOimgeiAg+iZkeesrOS4ieaWueiwg+eUqO+8jOaJgOS7pemcgOimgee7meS4gOS4qumHjeWGmeeahOaOpeWPo1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBDb250ZW50XzFfM1xyXG4gICAgICogW0NvbnRlbnRfMV8zLENvbnRlbnRfMV80LENvbnRlbnRfMV81XVxyXG4gICAgICovXHJcbiAgICBSZXNldERlZmF1bHRDb250cm9sOiBmdW5jdGlvbihwYWdlVHlwZSwgaWQsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBlbGVtZW50cyxcclxuICAgICAgICAgICAgaGFuZGxlID0gZnVuY3Rpb24oZWxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGUuYXR0cignZGF0YS1iZWhhdmlvcicsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlLmF0dHIoJ2RhdGEtYmVoYXZpb3InLCAnZGlzYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGlmICgoZWxlbWVudHMgPSBDb250ZW50cy5HZXQocGFnZVR5cGUsIGlkKSkgJiYgZWxlbWVudHMuJGNvbnRlbnRQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZShlbGVtZW50cy4kY29udGVudFByb2Nlc3MpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudHMgPSAkKFwiI1wiICsgaWQpO1xyXG4gICAgICAgICAgICBlbGVtZW50cy5sZW5ndGggJiYgaGFuZGxlKGVsZW1lbnRzKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpkojlr7lTVkfml6DoioLngrnmk43kvZxcclxuICAgICAqIOWFs+mXreaOp+WItlxyXG4gICAgICovXHJcbiAgICBEaXNhYmxlQ29udHJvbDogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBiZWhhdmlvcjogJ2RhdGEtYmVoYXZpb3InLFxyXG4gICAgICAgICAgICB2YWx1ZTogJ2Rpc2FibGUnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmSiOWvuVNWR+aXoOiKgueCueaTjeS9nFxyXG4gICAgICog5ZCv5Yqo5o6n5Yi2XHJcbiAgICAgKi9cclxuICAgIEVuYWJsZUNvbnRyb2w6IGZ1bmN0aW9uKFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYmVoYXZpb3I6ICdkYXRhLWJlaGF2aW9yJyxcclxuICAgICAgICAgICAgdmFsdWU6IFZhbHVlIHx8ICdjbGljay1zd2lwZSdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFN0b3JhZ2UobmFtZSkge1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KF9nZXQobmFtZSkpO1xyXG59XHJcblxyXG4vKipcclxuICogWyDmiafooYzop6PplIFdXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VW5sb2NrKCkge1xyXG4gICAgSXNQYXkgPSB0cnVlO1xyXG59XHJcblxyXG5cclxuLy/otK3kubDmiJDlip9cclxuZnVuY3Rpb24gcGFzcygpIHtcclxuICAgIC8v5aaC5p6c5o+Q5YmN5YWz6Zet5LqG5b+Z56KM5YWJ5qCH6K+05piO6KKr55So5oi35Lit5q2iXHJcbiAgICBpZiAoIVZpZXcuYnVzeUJhclN0YXRlKSByZXR1cm47XHJcbiAgICAvL+Wwhui0reS5sOiusOW9leWtmOWFpeaVsOaNruW6k1xyXG4gICAgdmFyIGRiID0gY29uZmlnLmRiLFxyXG4gICAgICAgIHNxbCA9ICdVUERBVEUgU2V0dGluZyBTRVQgdmFsdWU9PyBXSEVSRSBuYW1lPT8nO1xyXG5cclxuICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XHJcbiAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwsIFtudWxsLCAnSW5hcHAnXSk7XHJcbiAgICB9LCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgX3NldChpbkFwcElkLCBVTkxPQ0spO1xyXG4gICAgfSlcclxuXHJcbiAgICBzZXRVbmxvY2soKTtcclxuICAgIFZpZXcuQ2xvc2VTY2VuYXJpbygpO1xyXG4gICAgVmlldy5IaWRlQnVzeSgpO1xyXG59XHJcblxyXG5cclxuLy/otK3kubDlpLHotKVcclxuZnVuY3Rpb24gZmFpbGVkKCkge1xyXG4gICAgaWYgKCFWaWV3LmJ1c3lCYXJTdGF0ZSkgcmV0dXJuO1xyXG4gICAgbWVzc2FnZUJveCgn6LSt5Lmw5aSx6LSlJyk7XHJcbiAgICBWaWV3LkhpZGVCdXN5KCk7XHJcbn1cclxuXHJcblxyXG5wb3J0RXh0ZW5kKEFwcGxpY2F0aW9uLCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjlubPlj7BcclxuICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIFBsYXRmb3JtOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy/lubPlj7DnvKnlhplcclxuICAgICAgICB2YXIgcGxhdGZvcm1OYW1lID0gWydkdWt1JywgJ3BjJywgJ2lvcycsICdhbmRyb2lkJ107XHJcbiAgICAgICAgaWYgKEdMT0JBTElGUkFNRSkge1xyXG4gICAgICAgICAgICAvL+W1jOWll2lmcmFtZeW5s+WPsFxyXG4gICAgICAgICAgICByZXR1cm4gcGxhdGZvcm1OYW1lWzBdXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF0Zm9ybU5hbWVbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoWHV0LnBsYXQuaXNJT1MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF0Zm9ybU5hbWVbMl07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoWHV0LnBsYXQuaXNBbmRyb2lkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxhdGZvcm1OYW1lWzNdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbIOmUgeeKtuaAgV1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBVbmxvY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBJc1BheTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbIOajgOafpeaYr+WQpuino+mUgV1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBDaGVja091dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIEluYXBwID0gY29uZmlnLkluYXBwO1xyXG4gICAgICAgIGlmICghSW5hcHAgfHwgX2dldChJbmFwcCkgPT09IFVOTE9DSyB8fCBYdXQucGxhdC5pc0FuZHJvaWQpIHtcclxuICAgICAgICAgICAgc2V0VW5sb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFsg5LuY6LS55o6l5Y+jXVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBzZWFzb25JZCAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY2hhcHRlcklkICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGNyZWF0ZU1vZGUgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBwYWdlSW5kZXggIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIEJ1eUdvb2Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpbkFwcElkID0gY29uZmlnLkluYXBwO1xyXG4gICAgICAgIGlmIChWaWV3LmJ1c3lCYXJTdGF0ZSkgcmV0dXJuO1xyXG4gICAgICAgIFZpZXcuU2hvd1RleHRCdXN5KCfor7fnqI3lgJkuLi4nKTtcclxuICAgICAgICAvL+iwg+W8j+aooeW8j1xyXG4gICAgICAgIGlmIChwbGF0LmlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcGFzcygpO1xyXG4gICAgICAgICAgICB9LCAzMDAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5LuOQXBwU3RvcmXmn6Xor6LmmK/lkKbkuqTotLlcclxuICAgICAgICBYdXQuUGx1Z2luLmlhcFBsdWdpbi5zZWxlY3RJbmZvKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwYXNzKCk7IC8v5p+l6K+i5oiQ5Yqf5YiZ6KGo5piO5bey6LSt5LmwXHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5ZCm5YiZ5o+Q56S66LSt5LmwXHJcbiAgICAgICAgICAgIFh1dC5QbHVnaW4uaWFwUGx1Z2luLmJ1eUdvb2QoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzKCk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGZhaWxlZCgpO1xyXG4gICAgICAgICAgICB9LCBpbkFwcElkKTtcclxuICAgICAgICB9LCBpbkFwcElkKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlt7Lku5jotLnmjqXlj6NcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBIYXNCdXlHb29kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaW5BcHBJZCA9IGNvbmZpZy5JbmFwcDtcclxuICAgICAgICBpZiAoVmlldy5idXN5QmFyU3RhdGUpIHJldHVybjtcclxuICAgICAgICBWaWV3LlNob3dUZXh0QnVzeSgn6K+356iN5YCZLi4uJyk7XHJcbiAgICAgICAgLy/osIPlvI/mqKHlvI9cclxuICAgICAgICBpZiAocGxhdC5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHBhc3MoKTtcclxuICAgICAgICAgICAgfSwgMzAwMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgWHV0LlBsdWdpbi5pYXBQbHVnaW4ucmVzdG9yZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcGFzcygpOyAvL+afpeivouaIkOWKn+WImeihqOaYjuW3sui0reS5sFxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmYWlsZWQoKTtcclxuICAgICAgICB9LCBpbkFwcElkKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliLfmlrDpobXpnaJcclxuICAgICAqL1xyXG4gICAgUmVzaXplOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy/muIXnkIblr7nosaFcclxuICAgICAgICBjb250cm9sbC5kZXN0cm95QWxsU2NlbmUoKVxyXG5cclxuICAgICAgICAvL+a4heeQhuiKgueCuVxyXG4gICAgICAgICQoXCIjc2NlbmVDb250YWluZXJcIikuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgLy/liqDovb3mlrDnmoTpobXpnaJcclxuICAgICAgICB2YXIgbm92ZWxJZCxcclxuICAgICAgICAgICAgcGFnZUluZGV4ID0gZ2V0U3RvcmFnZSgncGFnZUluZGV4Jyk7XHJcblxyXG4gICAgICAgIC8v57yT5a2Y5Yqg6L29XHJcbiAgICAgICAgaWYgKHBhZ2VJbmRleCAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIG5vdmVsSWQgPSBnZXRTdG9yYWdlKFwibm92ZWxJZFwiKTtcclxuICAgICAgICAgICAgLy/liqDlvLrliKTmlq1cclxuICAgICAgICAgICAgaWYgKG5vdmVsSWQpIHtcclxuICAgICAgICAgICAgICAgIGxvYWRTY2VuZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJub3ZlbElkXCI6IG5vdmVsSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYWdlSW5kZXhcIjogcGFnZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICdoaXN0b3J5JzogX2dldCgnaGlzdG9yeScpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhvbWXpmpDol49cclxuICAgICAqIOWQjuWPsOi/kOihjOeahOaXtuWAmSzmgaLlpI3liLDliJ3lp4vljJbnirbmgIFcclxuICAgICAqIOeUqOS6jui/m+adpeeahOaXtuWAmea/gOa0u0FjdGl2YXRlXHJcbiAgICAgKi9cclxuICAgIE9yaWdpbmFsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBzdXNwZW5kKCk7XHJcbiAgICAgICAgb3JpZ2luYWwoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBob21l5pi+56S6XHJcbiAgICAgKiDlkI7lj7DlvLnlm57mnaVcclxuICAgICAqIOa/gOa0u+W6lOeUqOihjOS4ulxyXG4gICAgICovXHJcbiAgICBBY3RpdmF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXV0b1J1bigpXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZSA5q+B5bqU55SoXHJcbiAgICAgKi9cclxuICAgIERlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChwbGF0LmlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICAvL+mUgOavgeahjOmdouaOp+WItlxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+mUgOavgeaJgOacieWcuuaZr1xyXG4gICAgICAgIGNvbnRyb2xsLmRlc3Ryb3lBbGxTY2VuZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAgOWHumFwcFxyXG4gICAgICovXHJcbiAgICBEcm9wQXBwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+WmguaenOivu+mFt1xyXG4gICAgICAgIGlmIChEVUtVQ09ORklHKSB7XHJcbiAgICAgICAgICAgIC8v5aSW6YOo5Zue6LCD6YCa55+lXHJcbiAgICAgICAgICAgIGlmIChEVUtVQ09ORklHLmlmcmFtZURyb3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBJZCA9IF9nZXQoJ2FwcElkJyk7XHJcbiAgICAgICAgICAgICAgICBEVUtVQ09ORklHLmlmcmFtZURyb3AoWydhcHBJZC0nICsgYXBwSWQsICdub3ZlbElkLScgKyBhcHBJZCwgJ3BhZ2VJbmRleC0nICsgYXBwSWRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEVUtVQ09ORklHID0gbnVsbDtcclxuICAgICAgICAgICAgdW5FdmVudCgpO1xyXG4gICAgICAgICAgICBkZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5a6i5oi356uv5qih5byPXHJcbiAgICAgICAgaWYgKENMSUVOVENPTkZJR1QpIHtcclxuICAgICAgICAgICAgLy/lpJbpg6jlm57osIPpgJrnn6VcclxuICAgICAgICAgICAgaWYgKENMSUVOVENPTkZJR1QuaWZyYW1lRHJvcCkge1xyXG4gICAgICAgICAgICAgICAgQ0xJRU5UQ09ORklHVC5pZnJhbWVEcm9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ0xJRU5UQ09ORklHVCA9IG51bGw7XHJcbiAgICAgICAgICAgIHVuRXZlbnQoKTtcclxuICAgICAgICAgICAgZGVzdHJveSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmmeWmmeWtpuWuouaIt+err1xyXG4gICAgICAgIGlmIChNTVhDT05GSUcpIHtcclxuICAgICAgICAgICAgLy/lpJbpg6jlm57osIPpgJrnn6VcclxuICAgICAgICAgICAgaWYgKE1NWENPTkZJRy5pZnJhbWVEcm9wKSB7XHJcbiAgICAgICAgICAgICAgICBNTVhDT05GSUcuaWZyYW1lRHJvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE1NWENPTkZJRyA9IG51bGw7XHJcbiAgICAgICAgICAgIGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdW5FdmVudCgpIHtcclxuICAgICAgICAgICAgLy/lubbkuJTmmK/lronljZPmg4XlhrXkuItcclxuICAgICAgICAgICAgLy/lronljZPplIDmr4HmjInplK7kuovku7ZcclxuICAgICAgICAgICAgaWYgKFh1dC5wbGF0LmlzQW5kcm9pZCkge1xyXG4gICAgICAgICAgICAgICAgR0xPQkFMQ09OVEVYVC5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmFja2J1dHRvblwiLCBjb25maWcuX2V2ZW50LmJhY2ssIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIEdMT0JBTENPTlRFWFQuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsIGNvbmZpZy5fZXZlbnQucGF1c2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pZnJhbWXmqKHlvI8s6YCA5Ye65aSE55CGXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgLy/plIDmr4HlhoXlrZjlr7nosaFcclxuICAgICAgICAgICAgQXBwbGljYXRpb24uRGVzdHJveSgpO1xyXG4gICAgICAgICAgICBHTE9CQUxDT05URVhUID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Y2V5bqU55SoZGlhbG9nc1xyXG4gICAgICAgIGlmICghcGxhdC5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgR0xPQkFMQ09OVEVYVC5uYXZpZ2F0b3Iubm90aWZpY2F0aW9uLmNvbmZpcm0oJ+aCqOehruiupOimgemAgOWHuuWQl++8nycsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihidXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMSA9PSBidXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR0xPQkFMQ09OVEVYVC5uYXZpZ2F0b3IuYXBwLmV4aXRBcHAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ+mAgOWHuicsIFsn56Gu5a6aJywgJ+WPlua2iCddXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmoLlgZzlupTnlKhcclxuICAgICAqIHNraXBNZWRpYSDot7Pov4fpn7PpopHkvaDlpITnkIYo6Leo6aG16Z2iKVxyXG4gICAgICogZGlzcG9zZSAgIOaIkOWKn+WkhOeQhuWbnuiwg1xyXG4gICAgICogcHJvY2Vzc2VkIOWkhOeQhuWujOavleWbnuiwg1xyXG4gICAgICovXHJcbiAgICBTdXNwZW5kOiBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgICAgaWYgKHN1c3BlbmRIYW5kbGVzKG9wdHMuc2tpcE1lZGlhKSkgeyAvL+WBnOatoueDreeCueWKqOS9nFxyXG4gICAgICAgICAgICBpZiAob3B0cy5kaXNwb3NlKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmRpc3Bvc2UocHJvbXB0TWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRzLnByb2Nlc3NlZCAmJiBvcHRzLnByb2Nlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvL1xyXG4gICAgLy8gIOazqOWGjOaJgOaciee7hOS7tuWvueixoVxyXG4gICAgLy9cclxuICAgIC8vICAyIHdpZGdldCDljIXmi6wg6KeG6aKRIOmfs+mikSBBY3Rpb24g5a2Q5paH5qGjIOW8ueWHuuWPoyDnsbvlnotcclxuICAgIC8vICAgIOi/meenjeexu+Wei+aYr+WGkuazoeWkhOeQhu+8jOaXoOazleS8oOmAkumSqeWtkO+8jOebtOaOpeeUqOi/meS4quaOpeWPo+S4juWcuuaZr+WvueaOpVxyXG4gICAgLy9cclxuICAgIGluamVjdGlvbkNvbXBvbmVudDogZnVuY3Rpb24ocmVnRGF0YSkge1xyXG4gICAgICAgIHZhciBzY2VuZU9iaiA9IGNvbnRyb2xsLmNvbnRhaW5lck9iaignY3VycmVudCcpO1xyXG4gICAgICAgIHNjZW5lT2JqLnZtLiRpbmplY3Rpb25Db21wb25lbnQgPSByZWdEYXRhO1xyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5wb3J0RXh0ZW5kKEFwcGxpY2F0aW9uLCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjliqDovb3nirbmgIFcclxuICAgICAqIGZhbHNl5pyq5Yqg6L29XHJcbiAgICAgKiB0cnVlIOW3suWKoOi9vVxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGFwcFN0YXRlOiBmYWxzZSxcclxuXHJcbiAgICBzZXRBcHBTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgQXBwbGljYXRpb24uYXBwU3RhdGUgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBkZWxBcHBTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgQXBwbGljYXRpb24uYXBwU3RhdGUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blupTnlKjliqDovb3nirbmgIFcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBnZXRBcHBTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uLmFwcFN0YXRlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW7tuaXtkFQUOi/kOeUqFxyXG4gICAgICog5LiA6Iis5piv5Zyo562J5b6F6KeG6aKR5YWI5Yqg6L295a6M5q+VXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZGVsYXlBcHBSdW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEFwcGxpY2F0aW9uLnNldEFwcFN0YXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ZCv5YqoYXBwXHJcbiAgICAgKiDph43ovb3lkK/liqjmlrnms5VcclxuICAgICAqIOWmguaenOiwg+eUqOWcqOmHjei9veS5i+WJje+8jOWwseWIoOmZpO+8jFxyXG4gICAgICog5ZCm5YiZ6KKr5ZCv5Yqo5pa55rOV6YeN6L29XHJcbiAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICBMYXVuY2hBcHA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEFwcGxpY2F0aW9uLmRlbEFwcFN0YXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bqU55So5Yqg6L295a6M5q+VXHJcbiAgICAgKi9cclxuICAgIEFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKCkge31cclxufSlcclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vICAgICAgICAgIOiEmuacrOazqOWFpeaOpeWPo1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHRlcm5hbCA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAgICDvga4gICDor7vlj5bns7vnu5/kuK3kv53lrZjnmoTlj5jph4/nmoTlgLzjgIJcclxuICAgICAgICDvga4gICDlpoLmnpzlj5jph4/kuI3lrZjlnKjvvIzliJnmlrDlu7rov5nkuKrlhajlsYDlj5jph49cclxuICAgICAgICDvga4gICDlpoLmnpzns7vnu5/kuK3msqHmnInkv53lrZjnmoTlgLzvvIznlKjpu5jorqTlgLzov5vooYzotYvlgLxcclxuICAgICAgICDvga4gICDov5nkuKrlh73mlbDvvIzlsIbmmK/liJvlu7rlhajlsYDlj5jph4/nmoTpu5jorqTlh73mlbDjgIJcclxuICAgICAgICAgKi9cclxuICAgIFJlYWRWYXI6IGZ1bmN0aW9uKHZhcmlhYmxlLCBkZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICB2YXIgdGVtcDtcclxuICAgICAgICBpZiAodGVtcCA9IF9nZXQodmFyaWFibGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF9zZXQodmFyaWFibGUsIGRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwhuWPmOmHj+eahOWAvOS/neWtmOi1t+adpVxyXG4gICAgICovXHJcbiAgICBTYXZlVmFyOiBmdW5jdGlvbih2YXJpYWJsZSwgdmFsdWUpIHtcclxuICAgICAgICBfc2V0KHZhcmlhYmxlLCB2YWx1ZSlcclxuICAgIH0sXHJcblxyXG4gICAgLypcclxuICAgICAgICDvga4gICDlr7nlj5jph4/otYvlgLzvvIznhLblkI7kv53lrZjlj5jph4/nmoTlgLxcclxuICAgICAgICDvga4gICDlr7nkuo7lhajlsYDlj5jph4/vvIzov5nkuKrlh73mlbDlsIbmmK/kuLvopoHkvb/nlKjnmoTvvIzmm7/ku6PnroDljZXnmoTigJw94oCd6LWL5YC8XHJcbiAgICAgICAgICovXHJcbiAgICBTZXRWYXI6IGZ1bmN0aW9uKHZhcmlhYmxlLCB2YWx1ZSkge1xyXG4gICAgICAgIF9zZXQodmFyaWFibGUsIHZhbHVlKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiB1M2TmjqXlj6NcclxuICovXHJcblh1dC5VM2QgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOi3s+i9rOaOpeWPo1xyXG4gICAgICogQHBhcmFtIHtbdHlwZV19IHNlYXNvbklkICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1t0eXBlXX0gY2hhcHRlcklkIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgVmlldzogZnVuY3Rpb24oc2Vhc29uSWQsIGNoYXB0ZXJJZCkge1xyXG4gICAgICAgIFZpZXcuTG9hZFNjZW5hcmlvKHtcclxuICAgICAgICAgICAgJ3NjZW5hcmlvSWQnOiBzZXJpYWwuc2NlbmFyaW9JZCxcclxuICAgICAgICAgICAgJ2NoYXB0ZXJJZCc6IHNlcmlhbC5jaGFwdGVySWRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy/lr7zlh7rms6jlhaXmjqXlj6Ncclxud2luZG93LlhYVEFQSSA9IGV4dGVybmFsO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIGV4dGVybmFsXHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9leHRlcm5hbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 62 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.cursor = cursor;\n/**\r\n * 用css3实现的忙碌光标\r\n * @return {[type]} [description]\r\n */\nfunction cursor() {\n    var sWidth = window.innerWidth,\n        sHeight = window.innerHeight,\n        width = Math.min(sWidth, sHeight) / 4,\n        space = Math.round((sHeight - width) / 2),\n        delay = [0, 0.9167, 0.833, 0.75, 0.667, 0.5833, 0.5, 0.41667, 0.333, 0.25, 0.1667, 0.0833],\n        deg = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330],\n        i = 12,\n        prefix = Xut.plat.prefixStyle,\n        html;\n\n    html = '<div style=\"width:' + width + \"px;height:\" + width + 'px;margin:' + space + 'px auto;\">';\n    html += '<div style=\"height:30%;\"></div><div class=\"xut-busy-middle\">';\n\n    while (i--) {\n        html += '<div class=\"xut-busy-spinner\" style=\"' + prefix('transform') + ':rotate(' + deg[i] + 'deg) translate(0,-142%);' + prefix('animation-delay') + ':-' + delay[i] + 's;\"></div>';\n    }\n\n    html += '</div><div class=\"xut-busy-text\"></div></div>';\n\n    Xut.View.busyIcon = $('#busyIcon').html(html);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2luaXQvY3Vyc29yLmpzPzU0YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFJZ0IsTSxHQUFBLE07Ozs7O0FBQVQsU0FBUyxNQUFULEdBQWtCO0FBQ3JCLFFBQUksU0FBUyxPQUFPLFVBQXBCO1FBQ0ksVUFBVSxPQUFPLFdBRHJCO1FBRUksUUFBUSxLQUFLLEdBQUwsQ0FBUyxNQUFULEVBQWlCLE9BQWpCLElBQTRCLENBRnhDO1FBR0ksUUFBUSxLQUFLLEtBQUwsQ0FBVyxDQUFDLFVBQVUsS0FBWCxJQUFvQixDQUEvQixDQUhaO1FBSUksUUFBUSxDQUFDLENBQUQsRUFBSSxNQUFKLEVBQVksS0FBWixFQUFtQixJQUFuQixFQUF5QixLQUF6QixFQUFnQyxNQUFoQyxFQUF3QyxHQUF4QyxFQUE2QyxPQUE3QyxFQUFzRCxLQUF0RCxFQUE2RCxJQUE3RCxFQUFtRSxNQUFuRSxFQUEyRSxNQUEzRSxDQUpaO1FBS0ksTUFBTSxDQUFDLENBQUQsRUFBSSxFQUFKLEVBQVEsRUFBUixFQUFZLEVBQVosRUFBZ0IsR0FBaEIsRUFBcUIsR0FBckIsRUFBMEIsR0FBMUIsRUFBK0IsR0FBL0IsRUFBb0MsR0FBcEMsRUFBeUMsR0FBekMsRUFBOEMsR0FBOUMsRUFBbUQsR0FBbkQsQ0FMVjtRQU1JLElBQUksRUFOUjtRQU9JLFNBQVMsSUFBSSxJQUFKLENBQVMsV0FQdEI7UUFRSSxJQVJKOztBQVVBLFdBQU8sdUJBQXVCLEtBQXZCLEdBQStCLFlBQS9CLEdBQThDLEtBQTlDLEdBQXNELFlBQXRELEdBQXFFLEtBQXJFLEdBQTZFLFlBQXBGO0FBQ0EsWUFBUSw4REFBUjs7QUFFQSxXQUFPLEdBQVAsRUFBWTtBQUNSLGdCQUFRLDBDQUEwQyxPQUFPLFdBQVAsQ0FBMUMsR0FBZ0UsVUFBaEUsR0FBNkUsSUFBSSxDQUFKLENBQTdFLEdBQXNGLDBCQUF0RixHQUFtSCxPQUFPLGlCQUFQLENBQW5ILEdBQStJLElBQS9JLEdBQXNKLE1BQU0sQ0FBTixDQUF0SixHQUFpSyxZQUF6SztBQUNIOztBQUVELFlBQVEsK0NBQVI7O0FBRUEsUUFBSSxJQUFKLENBQVMsUUFBVCxHQUFvQixFQUFFLFdBQUYsRUFBZSxJQUFmLENBQW9CLElBQXBCLENBQXBCO0FBRUgiLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog55SoY3NzM+WunueOsOeahOW/meeijOWFieagh1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjdXJzb3IoKSB7XHJcbiAgICB2YXIgc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgICB3aWR0aCA9IE1hdGgubWluKHNXaWR0aCwgc0hlaWdodCkgLyA0LFxyXG4gICAgICAgIHNwYWNlID0gTWF0aC5yb3VuZCgoc0hlaWdodCAtIHdpZHRoKSAvIDIpLFxyXG4gICAgICAgIGRlbGF5ID0gWzAsIDAuOTE2NywgMC44MzMsIDAuNzUsIDAuNjY3LCAwLjU4MzMsIDAuNSwgMC40MTY2NywgMC4zMzMsIDAuMjUsIDAuMTY2NywgMC4wODMzXSxcclxuICAgICAgICBkZWcgPSBbMCwgMzAsIDYwLCA5MCwgMTIwLCAxNTAsIDE4MCwgMjEwLCAyNDAsIDI3MCwgMzAwLCAzMzBdLFxyXG4gICAgICAgIGkgPSAxMixcclxuICAgICAgICBwcmVmaXggPSBYdXQucGxhdC5wcmVmaXhTdHlsZSxcclxuICAgICAgICBodG1sO1xyXG5cclxuICAgIGh0bWwgPSAnPGRpdiBzdHlsZT1cIndpZHRoOicgKyB3aWR0aCArIFwicHg7aGVpZ2h0OlwiICsgd2lkdGggKyAncHg7bWFyZ2luOicgKyBzcGFjZSArICdweCBhdXRvO1wiPic7XHJcbiAgICBodG1sICs9ICc8ZGl2IHN0eWxlPVwiaGVpZ2h0OjMwJTtcIj48L2Rpdj48ZGl2IGNsYXNzPVwieHV0LWJ1c3ktbWlkZGxlXCI+JztcclxuXHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInh1dC1idXN5LXNwaW5uZXJcIiBzdHlsZT1cIicgKyBwcmVmaXgoJ3RyYW5zZm9ybScpICsgJzpyb3RhdGUoJyArIGRlZ1tpXSArICdkZWcpIHRyYW5zbGF0ZSgwLC0xNDIlKTsnICsgcHJlZml4KCdhbmltYXRpb24tZGVsYXknKSArICc6LScgKyBkZWxheVtpXSArICdzO1wiPjwvZGl2Pic7XHJcbiAgICB9XHJcblxyXG4gICAgaHRtbCArPSAnPC9kaXY+PGRpdiBjbGFzcz1cInh1dC1idXN5LXRleHRcIj48L2Rpdj48L2Rpdj4nO1xyXG5cclxuICAgIFh1dC5WaWV3LmJ1c3lJY29uID0gJCgnI2J1c3lJY29uJykuaHRtbChodG1sKTtcclxuXHJcbn0gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2luaXQvY3Vyc29yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 63 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.nextTask = nextTask;\n\nvar _index = __webpack_require__(1);\n\nvar _cursor = __webpack_require__(62);\n\nvar _external = __webpack_require__(61);\n\nvar _index2 = __webpack_require__(14);\n\nvar _filter = __webpack_require__(38);\n\nvar _scene = __webpack_require__(15);\n\nvar config = void 0;\n\nfunction getCache(name) {\n    return parseInt((0, _index._get)(name));\n}\n\n/**\r\n * 进入主页面\r\n * @return {[type]} [description]\r\n */\nfunction initMain(novelData) {\n\n    var novelId,\n        parameter,\n        pageIndex = getCache('pageIndex'),\n        pageFlip = getCache('pageFlip') || 0;\n\n    /**\r\n     * IBOOS模式\r\n     */\n    if (Xut.IBooks.Enabled) {\n        //删除背景图\n        $(\"#removelayer\").remove();\n        LoadScene({\n            \"pageIndex\": Xut.IBooks.CONFIG.pageIndex\n        });\n        return;\n    }\n\n    /**\r\n     * 多模式判断\r\n     * 全局翻页模式\r\n     * 0 滑动翻页\r\n     * 1 直接换\r\n     * 所以pageFlip只有在左面的情况下\r\n     */\n    if (parameter = novelData.parameter) {\n        //拿出pageflip的值\n        parameter = (0, _index.parseJSON)(parameter);\n        //获取pageflip的值得\n        //pageflip用来标\n        //不能翻页\n        //直接切换模式\n        pageFlip = parameter.pageflip;\n        if (pageFlip !== undefined) {\n            //设置缓存\n            (0, _index._set)({\n                'pageFlip': pageFlip\n            });\n        }\n    }\n\n    //缓存加载\n    //如果启动recordHistory记录\n    if (config.recordHistory && pageIndex !== undefined) {\n        //加强判断\n        if (novelId = getCache(\"novelId\")) {\n            return (0, _scene.loadScene)({\n                'pageFlip': pageFlip,\n                \"novelId\": novelId,\n                \"pageIndex\": pageIndex,\n                'history': (0, _index._get)('history')\n            });\n        }\n    }\n\n    //第一次加载\n    //没有缓存\n    (0, _scene.loadScene)({\n        \"novelId\": novelData._id,\n        \"pageIndex\": 0,\n        'pageFlip': pageFlip\n    });\n};\n\n/**\r\n * 根据set表初始化数据\r\n * @return {[type]} [description]\r\n */\nfunction initValue() {\n    (0, _index2.createStore)().done(function (setData, novelData) {\n        initDefaults(setData);\n        fixedSize(novelData);\n        initMain(novelData);\n    });\n};\n\n/**\r\n * 配置默认数据\r\n * @return {[type]} [description]\r\n */\nfunction initDefaults(setData) {\n    var rs,\n        data = {},\n        cfg = {},\n\n    //工具栏默认参数\n    defaults = {\n        ToolbarPos: 0, //工具栏[0顶部,1底部]\n        NavbarPos: 1, //左右翻页按钮[0顶部, 1中间, 2底部]\n        HomeBut: 1, //主页按钮[0不显示,1显示]\n        ContentBut: 1, //目录按钮[0不显示,1显示]\n        PageBut: 1, //页码按钮[0不显示,1显示]\n        NavLeft: 1, //左翻页按钮[0不显示,1显示]\n        NavRight: 1, //右翻页按钮[0不显示,1显示]\n        customButton: 0, //自定义翻页按钮\n        CloseBut: SUbDOCCONTEXT ? 1 : 0 //关闭按钮[0不显示,1显示]\n    };\n\n    for (var i = 0, len = setData.length; i < len; i++) {\n        rs = setData.item(i);\n        data[rs.name] = rs.value;\n    }\n\n    _.defaults(data, defaults);\n\n    for (i in defaults) {\n        cfg[i] = Number(data[i]);\n    }\n\n    config.settings = cfg;\n    config.appId = data.appId; //应用配置唯一标示符\n    config.shortName = data.shortName;\n    config.Inapp = data.Inapp; //是否为应用内购买\n\n    //应用的唯一标识符\n    //生成时间+appid\n    config.appUUID = data.adUpdateTime ? data.appId + '-' + /\\S*/.exec(data.adUpdateTime)[0] : data.adUpdateTime;\n\n    //检查是否解锁\n    Xut.Application.CheckOut();\n\n    //资源路径配置\n    config.initResourcesPath();\n\n    //缓存应用ID\n    (0, _index._set)({\n        'appId': data.appId\n    });\n\n    //新增模式,用于记录浏览器退出记录\n    cfgHistory(data);\n\n    //广告Id\n    //2014.9.2\n    Xut.Presentation.AdsId = data.adsId;\n\n    //2015.2.26\n    //启动画轴模式\n    //防止是布尔0成立\n    if (data.scrollPaintingMode && data.scrollPaintingMode == 1) {\n        config.scrollPaintingMode = true;\n    }\n\n    //假如启用了画轴模式，看看是不是竖版的情况，需要切半模版virtualMode\n    if (config.scrollPaintingMode) {\n        if (config.screenSize.width < config.screenSize.height) {\n            config.virtualMode = true;\n        }\n    }\n\n    //创建过滤器\n    Xut.CreateFilter = (0, _filter.contentFilter)('createFilter');\n    Xut.TransformFilter = (0, _filter.contentFilter)('transformFilter');\n}\n\n//新增模式,用于记录浏览器退出记录\n//默认启动\n//是否回到退出的页面\n//set表中写一个recordHistory\n//是   1\n//否   0\nfunction cfgHistory(data) {\n\n    var recordHistory = 1; //默认启动\n    if (data.recordHistory !== undefined) {\n        recordHistory = Number(data.recordHistory);\n    }\n\n    //如果启动桌面调试模式\n    //自动打开缓存加载\n    if (!recordHistory && config.isBrowser && config.debugMode) {\n        recordHistory = 1;\n    }\n\n    config.recordHistory = recordHistory;\n}\n\n/**\r\n * 修正尺寸\r\n * 修正实际分辨率\r\n * @return {[type]} [description]\r\n */\nfunction fixedSize(novelData) {\n    if (novelData) {\n        if (novelData.pptWidth || novelData.pptHeight) {\n            config.setProportion(novelData.pptWidth, novelData.pptHeight);\n        }\n    }\n}\n\n/**\r\n * 数据库检测\r\n * @return {[type]} [description]\r\n */\nfunction checkTestDB() {\n    var database = config.db,\n        sql = 'SELECT * FROM Novel';\n    if (database) {\n        database.transaction(function (tx) {\n            tx.executeSql(sql, [], function (tx, rs) {\n                initValue();\n            }, function () {\n                Xut.config.db = null;\n                initValue();\n            });\n        });\n    } else {\n        initValue();\n    }\n}\n\n/**\r\n * 初始化\r\n * 数据结构\r\n */\nfunction nextTask() {\n\n    config = Xut.config;\n\n    //加载忙碌光标\n    if (!Xut.IBooks.Enabled) {\n        (0, _cursor.cursor)();\n    }\n\n    if (window.openDatabase) {\n        try {\n            //数据库链接对象\n            config.db = window.openDatabase(config.dbName, \"1.0\", \"Xxtebook Database\", config.dbSize);\n        } catch (err) {\n            console.log('window.openDatabase出错');\n        }\n    }\n\n    //检查数据库\n    checkTestDB();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2luaXQvZGF0YS5qcz9jNjhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBd1BnQixRLEdBQUEsUTs7QUF4UGhCOztBQU9BOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdBLElBQUksZUFBSjs7QUFHQSxTQUFTLFFBQVQsQ0FBa0IsSUFBbEIsRUFBd0I7QUFDcEIsV0FBTyxTQUFTLGlCQUFLLElBQUwsQ0FBVCxDQUFQO0FBQ0g7Ozs7OztBQU9ELFNBQVMsUUFBVCxDQUFrQixTQUFsQixFQUE2Qjs7QUFFekIsUUFBSSxPQUFKO1FBQ0ksU0FESjtRQUVJLFlBQVksU0FBUyxXQUFULENBRmhCO1FBR0ksV0FBVyxTQUFTLFVBQVQsS0FBd0IsQ0FIdkM7Ozs7O0FBUUEsUUFBSSxJQUFJLE1BQUosQ0FBVyxPQUFmLEVBQXdCOztBQUVwQixVQUFFLGNBQUYsRUFBa0IsTUFBbEI7QUFDQSxrQkFBVTtBQUNOLHlCQUFhLElBQUksTUFBSixDQUFXLE1BQVgsQ0FBa0I7QUFEekIsU0FBVjtBQUdBO0FBQ0g7Ozs7Ozs7OztBQVNELFFBQUksWUFBWSxVQUFVLFNBQTFCLEVBQXFDOztBQUVqQyxvQkFBWSxzQkFBVSxTQUFWLENBQVo7Ozs7O0FBS0EsbUJBQVcsVUFBVSxRQUFyQjtBQUNBLFlBQUksYUFBYSxTQUFqQixFQUE0Qjs7QUFFeEIsNkJBQUs7QUFDRCw0QkFBWTtBQURYLGFBQUw7QUFHSDtBQUNKOzs7O0FBSUQsUUFBSSxPQUFPLGFBQVAsSUFBd0IsY0FBYyxTQUExQyxFQUFxRDs7QUFFakQsWUFBSSxVQUFVLFNBQVMsU0FBVCxDQUFkLEVBQW1DO0FBQy9CLG1CQUFPLHNCQUFVO0FBQ2IsNEJBQVksUUFEQztBQUViLDJCQUFXLE9BRkU7QUFHYiw2QkFBYSxTQUhBO0FBSWIsMkJBQVcsaUJBQUssU0FBTDtBQUpFLGFBQVYsQ0FBUDtBQU1IO0FBQ0o7Ozs7QUFJRCwwQkFBVTtBQUNOLG1CQUFXLFVBQVUsR0FEZjtB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LFFBQVYsSUFBc0IsVUFBVSxTQUFwQyxFQUErQztBQUMzQyxtQkFBTyxhQUFQLENBQXFCLFVBQVUsUUFBL0IsRUFBeUMsVUFBVSxTQUFuRDtBQUNIO0FBQ0o7QUFDSjs7Ozs7O0FBT0QsU0FBUyxXQUFULEdBQXVCO0FBQ25CLFFBQUksV0FBVyxPQUFPLEVBQXRCO1FBQ0ksTUFBTSxxQkFEVjtBQUVBLFFBQUksUUFBSixFQUFjO0FBQ1YsaUJBQVMsV0FBVCxDQUFxQixVQUFTLEVBQVQsRUFBYTtBQUM5QixlQUFHLFVBQUgsQ0FBYyxHQUFkLEVBQW1CLEVBQW5CLEVBQXVCLFVBQVMsRUFBVCxFQUFhLEVBQWIsRUFBaUI7QUFDcEM7QUFDSCxhQUZELEVBRUcsWUFBVztBQUNWLG9CQUFJLE1BQUosQ0FBVyxFQUFYLEdBQWdCLElBQWhCO0FBQ0E7QUFDSCxhQUxEO0FBTUgsU0FQRDtBQVFILEtBVEQsTUFTTztBQUNIO0FBQ0g7QUFDSjs7Ozs7O0FBTU0sU0FBUyxRQUFULEdBQW9COztBQUV2QixhQUFTLElBQUksTUFBYjs7O0FBR0EsUUFBSSxDQUFDLElBQUksTUFBSixDQUFXLE9BQWhCLEVBQXlCO0FBQ3JCO0FBQ0g7O0FBRUQsUUFBSSxPQUFPLFlBQVgsRUFBeUI7QUFDckIsWUFBSTs7QUFFQSxtQkFBTyxFQUFQLEdBQVksT0FBTyxZQUFQLENBQW9CLE9BQU8sTUFBM0IsRUFBbUMsS0FBbkMsRUFBMEMsbUJBQTFDLEVBQStELE9BQU8sTUFBdEUsQ0FBWjtBQUNILFNBSEQsQ0FHRSxPQUFPLEdBQVAsRUFBWTtBQUNWLG9CQUFRLEdBQVIsQ0FBWSx1QkFBWjtBQUNIO0FBQ0o7OztBQUdEO0FBQ0giLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgX3NldCxcclxuICAgIF9nZXQsXHJcbiAgICBwYXJzZUpTT05cclxufVxyXG5mcm9tICcuLi91dGlsL2luZGV4J1xyXG5cclxuaW1wb3J0IHsgY3Vyc29yIH0gZnJvbSAnLi9jdXJzb3InXHJcbmltcG9ydCB7IGV4dGVybmFsIH0gZnJvbSAnLi4vZXh0ZXJuYWwnXHJcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCdcclxuaW1wb3J0IHsgY29udGVudEZpbHRlciB9IGZyb20gJy4uL2NvbXBvbmVudC9jb250ZW50L2ZpbHRlcidcclxuaW1wb3J0IHsgbG9hZFNjZW5lIH0gZnJvbSAnLi9zY2VuZSdcclxuXHJcblxyXG5sZXQgY29uZmlnO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdldENhY2hlKG5hbWUpIHtcclxuICAgIHJldHVybiBwYXJzZUludChfZ2V0KG5hbWUpKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDov5vlhaXkuLvpobXpnaJcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0TWFpbihub3ZlbERhdGEpIHtcclxuXHJcbiAgICB2YXIgbm92ZWxJZCxcclxuICAgICAgICBwYXJhbWV0ZXIsXHJcbiAgICAgICAgcGFnZUluZGV4ID0gZ2V0Q2FjaGUoJ3BhZ2VJbmRleCcpLFxyXG4gICAgICAgIHBhZ2VGbGlwID0gZ2V0Q2FjaGUoJ3BhZ2VGbGlwJykgfHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIElCT09T5qih5byPXHJcbiAgICAgKi9cclxuICAgIGlmIChYdXQuSUJvb2tzLkVuYWJsZWQpIHtcclxuICAgICAgICAvL+WIoOmZpOiDjOaZr+WbvlxyXG4gICAgICAgICQoXCIjcmVtb3ZlbGF5ZXJcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgTG9hZFNjZW5lKHtcclxuICAgICAgICAgICAgXCJwYWdlSW5kZXhcIjogWHV0LklCb29rcy5DT05GSUcucGFnZUluZGV4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpJrmqKHlvI/liKTmlq1cclxuICAgICAqIOWFqOWxgOe/u+mhteaooeW8j1xyXG4gICAgICogMCDmu5Hliqjnv7vpobVcclxuICAgICAqIDEg55u05o6l5o2iXHJcbiAgICAgKiDmiYDku6VwYWdlRmxpcOWPquacieWcqOW3pumdoueahOaDheWGteS4i1xyXG4gICAgICovXHJcbiAgICBpZiAocGFyYW1ldGVyID0gbm92ZWxEYXRhLnBhcmFtZXRlcikge1xyXG4gICAgICAgIC8v5ou/5Ye6cGFnZWZsaXDnmoTlgLxcclxuICAgICAgICBwYXJhbWV0ZXIgPSBwYXJzZUpTT04ocGFyYW1ldGVyKTtcclxuICAgICAgICAvL+iOt+WPlnBhZ2VmbGlw55qE5YC85b6XXHJcbiAgICAgICAgLy9wYWdlZmxpcOeUqOadpeagh1xyXG4gICAgICAgIC8v5LiN6IO957+76aG1XHJcbiAgICAgICAgLy/nm7TmjqXliIfmjaLmqKHlvI9cclxuICAgICAgICBwYWdlRmxpcCA9IHBhcmFtZXRlci5wYWdlZmxpcFxyXG4gICAgICAgIGlmIChwYWdlRmxpcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8v6K6+572u57yT5a2YXHJcbiAgICAgICAgICAgIF9zZXQoe1xyXG4gICAgICAgICAgICAgICAgJ3BhZ2VGbGlwJzogcGFnZUZsaXBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v57yT5a2Y5Yqg6L29XHJcbiAgICAvL+WmguaenOWQr+WKqHJlY29yZEhpc3RvcnnorrDlvZVcclxuICAgIGlmIChjb25maWcucmVjb3JkSGlzdG9yeSAmJiBwYWdlSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8v5Yqg5by65Yik5patXHJcbiAgICAgICAgaWYgKG5vdmVsSWQgPSBnZXRDYWNoZShcIm5vdmVsSWRcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvYWRTY2VuZSh7XHJcbiAgICAgICAgICAgICAgICAncGFnZUZsaXAnOiBwYWdlRmxpcCxcclxuICAgICAgICAgICAgICAgIFwibm92ZWxJZFwiOiBub3ZlbElkLFxyXG4gICAgICAgICAgICAgICAgXCJwYWdlSW5kZXhcIjogcGFnZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgJ2hpc3RvcnknOiBfZ2V0KCdoaXN0b3J5JylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v56ys5LiA5qyh5Yqg6L29XHJcbiAgICAvL+ayoeaciee8k+WtmFxyXG4gICAgbG9hZFNjZW5lKHtcclxuICAgICAgICBcIm5vdmVsSWRcIjogbm92ZWxEYXRhLl9pZCxcclxuICAgICAgICBcInBhZ2VJbmRleFwiOiAwLFxyXG4gICAgICAgICdwYWdlRmxpcCc6IHBhZ2VGbGlwXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4vKipcclxuICog5qC55o2uc2V06KGo5Yid5aeL5YyW5pWw5o2uXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdFZhbHVlKCkge1xyXG4gICAgY3JlYXRlU3RvcmUoKVxyXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uKHNldERhdGEsIG5vdmVsRGF0YSkge1xyXG4gICAgICAgICAgICBpbml0RGVmYXVsdHMoc2V0RGF0YSk7XHJcbiAgICAgICAgICAgIGZpeGVkU2l6ZShub3ZlbERhdGEpO1xyXG4gICAgICAgICAgICBpbml0TWFpbihub3ZlbERhdGEpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDphY3nva7pu5jorqTmlbDmja5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0RGVmYXVsdHMoc2V0RGF0YSkge1xyXG4gICAgdmFyIHJzLFxyXG4gICAgICAgIGRhdGEgPSB7fSxcclxuICAgICAgICBjZmcgPSB7fSxcclxuICAgICAgICAvL+W3peWFt+agj+m7mOiupOWPguaVsFxyXG4gICAgICAgIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICBUb29sYmFyUG9zOiAwLCAvL+W3peWFt+agj1sw6aG26YOoLDHlupXpg6hdXHJcbiAgICAgICAgICAgIE5hdmJhclBvczogMSwgLy/lt6blj7Pnv7vpobXmjInpkq5bMOmhtumDqCwgMeS4remXtCwgMuW6lemDqF1cclxuICAgICAgICAgICAgSG9tZUJ1dDogMSwgLy/kuLvpobXmjInpkq5bMOS4jeaYvuekuiwx5pi+56S6XVxyXG4gICAgICAgICAgICBDb250ZW50QnV0OiAxLCAvL+ebruW9leaMiemSrlsw5LiN5pi+56S6LDHmmL7npLpdXHJcbiAgICAgICAgICAgIFBhZ2VCdXQ6IDEsIC8v6aG156CB5oyJ6ZKuWzDkuI3mmL7npLosMeaYvuekul1cclxuICAgICAgICAgICAgTmF2TGVmdDogMSwgLy/lt6bnv7vpobXmjInpkq5bMOS4jeaYvuekuiwx5pi+56S6XVxyXG4gICAgICAgICAgICBOYXZSaWdodDogMSwgLy/lj7Pnv7vpobXmjInpkq5bMOS4jeaYvuekuiwx5pi+56S6XVxyXG4gICAgICAgICAgICBjdXN0b21CdXR0b246IDAsIC8v6Ieq5a6a5LmJ57+76aG15oyJ6ZKuXHJcbiAgICAgICAgICAgIENsb3NlQnV0OiBTVWJET0NDT05URVhUID8gMSA6IDAgLy/lhbPpl63mjInpkq5bMOS4jeaYvuekuiwx5pi+56S6XVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNldERhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBycyA9IHNldERhdGEuaXRlbShpKTtcclxuICAgICAgICBkYXRhW3JzLm5hbWVdID0gcnMudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgXy5kZWZhdWx0cyhkYXRhLCBkZWZhdWx0cyk7XHJcblxyXG4gICAgZm9yIChpIGluIGRlZmF1bHRzKSB7XHJcbiAgICAgICAgY2ZnW2ldID0gTnVtYmVyKGRhdGFbaV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmZpZy5zZXR0aW5ncyA9IGNmZztcclxuICAgIGNvbmZpZy5hcHBJZCA9IGRhdGEuYXBwSWQ7IC8v5bqU55So6YWN572u5ZSv5LiA5qCH56S656ymXHJcbiAgICBjb25maWcuc2hvcnROYW1lID0gZGF0YS5zaG9ydE5hbWU7XHJcbiAgICBjb25maWcuSW5hcHAgPSBkYXRhLkluYXBwOyAvL+aYr+WQpuS4uuW6lOeUqOWGhei0reS5sFxyXG5cclxuICAgIC8v5bqU55So55qE5ZSv5LiA5qCH6K+G56ymXHJcbiAgICAvL+eUn+aIkOaXtumXtCthcHBpZFxyXG4gICAgY29uZmlnLmFwcFVVSUQgPSBkYXRhLmFkVXBkYXRlVGltZSA/IGRhdGEuYXBwSWQgKyAnLScgKyAvXFxTKi8uZXhlYyhkYXRhLmFkVXBkYXRlVGltZSlbMF0gOiBkYXRhLmFkVXBkYXRlVGltZTtcclxuXHJcbiAgICAvL+ajgOafpeaYr+WQpuino+mUgVxyXG4gICAgWHV0LkFwcGxpY2F0aW9uLkNoZWNrT3V0KCk7XHJcblxyXG4gICAgLy/otYTmupDot6/lvoTphY3nva5cclxuICAgIGNvbmZpZy5pbml0UmVzb3VyY2VzUGF0aCgpO1xyXG5cclxuICAgIC8v57yT5a2Y5bqU55SoSURcclxuICAgIF9zZXQoe1xyXG4gICAgICAgICdhcHBJZCc6IGRhdGEuYXBwSWRcclxuICAgIH0pO1xyXG5cclxuICAgIC8v5paw5aKe5qih5byPLOeUqOS6juiusOW9lea1j+iniOWZqOmAgOWHuuiusOW9lVxyXG4gICAgY2ZnSGlzdG9yeShkYXRhKTtcclxuXHJcbiAgICAvL+W5v+WRiklkXHJcbiAgICAvLzIwMTQuOS4yXHJcbiAgICBYdXQuUHJlc2VudGF0aW9uLkFkc0lkID0gZGF0YS5hZHNJZDtcclxuXHJcbiAgICAvLzIwMTUuMi4yNlxyXG4gICAgLy/lkK/liqjnlLvovbTmqKHlvI9cclxuICAgIC8v6Ziy5q2i5piv5biD5bCUMOaIkOeri1xyXG4gICAgaWYgKGRhdGEuc2Nyb2xsUGFpbnRpbmdNb2RlICYmIGRhdGEuc2Nyb2xsUGFpbnRpbmdNb2RlID09IDEpIHtcclxuICAgICAgICBjb25maWcuc2Nyb2xsUGFpbnRpbmdNb2RlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WBh+WmguWQr+eUqOS6hueUu+i9tOaooeW8j++8jOeci+eci+aYr+S4jeaYr+erlueJiOeahOaDheWGte+8jOmcgOimgeWIh+WNiuaooeeJiHZpcnR1YWxNb2RlXHJcbiAgICBpZiAoY29uZmlnLnNjcm9sbFBhaW50aW5nTW9kZSkge1xyXG4gICAgICAgIGlmIChjb25maWcuc2NyZWVuU2l6ZS53aWR0aCA8IGNvbmZpZy5zY3JlZW5TaXplLmhlaWdodCkge1xyXG4gICAgICAgICAgICBjb25maWcudmlydHVhbE1vZGUgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yib5bu66L+H5ruk5ZmoXHJcbiAgICBYdXQuQ3JlYXRlRmlsdGVyID0gY29udGVudEZpbHRlcignY3JlYXRlRmlsdGVyJyk7XHJcbiAgICBYdXQuVHJhbnNmb3JtRmlsdGVyID0gY29udGVudEZpbHRlcigndHJhbnNmb3JtRmlsdGVyJyk7XHJcbn1cclxuXHJcblxyXG5cclxuLy/mlrDlop7mqKHlvI8s55So5LqO6K6w5b2V5rWP6KeI5Zmo6YCA5Ye66K6w5b2VXHJcbi8v6buY6K6k5ZCv5YqoXHJcbi8v5piv5ZCm5Zue5Yiw6YCA5Ye655qE6aG16Z2iXHJcbi8vc2V06KGo5Lit5YaZ5LiA5LiqcmVjb3JkSGlzdG9yeVxyXG4vL+aYryAgIDFcclxuLy/lkKYgICAwXHJcbmZ1bmN0aW9uIGNmZ0hpc3RvcnkoZGF0YSkge1xyXG5cclxuICAgIHZhciByZWNvcmRIaXN0b3J5ID0gMTsgLy/pu5jorqTlkK/liqhcclxuICAgIGlmIChkYXRhLnJlY29yZEhpc3RvcnkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJlY29yZEhpc3RvcnkgPSBOdW1iZXIoZGF0YS5yZWNvcmRIaXN0b3J5KTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WmguaenOWQr+WKqOahjOmdouiwg+ivleaooeW8j1xyXG4gICAgLy/oh6rliqjmiZPlvIDnvJPlrZjliqDovb1cclxuICAgIGlmICghcmVjb3JkSGlzdG9yeSAmJiBjb25maWcuaXNCcm93c2VyICYmIGNvbmZpZy5kZWJ1Z01vZGUpIHtcclxuICAgICAgICByZWNvcmRIaXN0b3J5ID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBjb25maWcucmVjb3JkSGlzdG9yeSA9IHJlY29yZEhpc3Rvcnk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5L+u5q2j5bC65a+4XHJcbiAqIOS/ruato+WunumZheWIhui+qOeOh1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGZpeGVkU2l6ZShub3ZlbERhdGEpIHtcclxuICAgIGlmIChub3ZlbERhdGEpIHtcclxuICAgICAgICBpZiAobm92ZWxEYXRhLnBwdFdpZHRoIHx8IG5vdmVsRGF0YS5wcHRIZWlnaHQpIHtcclxuICAgICAgICAgICAgY29uZmlnLnNldFByb3BvcnRpb24obm92ZWxEYXRhLnBwdFdpZHRoLCBub3ZlbERhdGEucHB0SGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5pWw5o2u5bqT5qOA5rWLXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tUZXN0REIoKSB7XHJcbiAgICB2YXIgZGF0YWJhc2UgPSBjb25maWcuZGIsXHJcbiAgICAgICAgc3FsID0gJ1NFTEVDVCAqIEZST00gTm92ZWwnO1xyXG4gICAgaWYgKGRhdGFiYXNlKSB7XHJcbiAgICAgICAgZGF0YWJhc2UudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcclxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwsIFtdLCBmdW5jdGlvbih0eCwgcnMpIHtcclxuICAgICAgICAgICAgICAgIGluaXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIFh1dC5jb25maWcuZGIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaW5pdFZhbHVlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5pdFZhbHVlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJZcclxuICog5pWw5o2u57uT5p6EXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbmV4dFRhc2soKSB7XHJcblxyXG4gICAgY29uZmlnID0gWHV0LmNvbmZpZ1xyXG5cclxuICAgIC8v5Yqg6L295b+Z56KM5YWJ5qCHIFxyXG4gICAgaWYgKCFYdXQuSUJvb2tzLkVuYWJsZWQpIHtcclxuICAgICAgICBjdXJzb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAod2luZG93Lm9wZW5EYXRhYmFzZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8v5pWw5o2u5bqT6ZO+5o6l5a+56LGhXHJcbiAgICAgICAgICAgIGNvbmZpZy5kYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UoY29uZmlnLmRiTmFtZSwgXCIxLjBcIiwgXCJYeHRlYm9vayBEYXRhYmFzZVwiLCBjb25maWcuZGJTaXplKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3dpbmRvdy5vcGVuRGF0YWJhc2Xlh7rplJknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+ajgOafpeaVsOaNruW6k1xyXG4gICAgY2hlY2tUZXN0REIoKTtcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvaW5pdC9kYXRhLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 64 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.init = init;\n\nvar _manager = __webpack_require__(31);\n\nvar _manager2 = __webpack_require__(52);\n\nvar _index = __webpack_require__(1);\n\nvar _data = __webpack_require__(63);\n\nvar _initprocess = __webpack_require__(65);\n\nfunction init() {\n\n    var config = Xut.config;\n    var isBrowser = config.isBrowser;\n\n    //绑定键盘事件\n    (0, _initprocess.bindEvent)(config);\n\n    //如果不是读库模式\n    //播放HTML5视频\n    //在IOS\n    if (!DUKUCONFIG && !GLOBALIFRAME && Xut.plat.isIOS) {\n        (0, _initprocess.html5Video)();\n    }\n\n    //Ifarme嵌套处理\n    //1 新阅读\n    //2 子文档\n    //=======\n    //3 pc\n    //4 ios/android\n    if (GLOBALIFRAME) {\n        creatDatabase(config);\n    } else {\n        //PC还是移动\n        if (isBrowser) {\n            loadApp(config);\n        } else {\n            //如果不是iframe加载,则创建空数据库\n            window.openDatabase(config.dbName, \"1.0\", \"Xxtebook Database\", config.dbSize);\n            //等待硬件加载完毕\n            document.addEventListener(\"deviceready\", creatDatabase, false);\n        }\n    }\n}\n\n/**\r\n * 如果是安卓桌面端\r\n * 绑定事件\r\n * 创建数据库\r\n * @return {[type]} [description]\r\n */\n//预初始化\nfunction creatDatabase(config) {\n\n    //安卓上\n    if (Xut.plat.isAndroid) {\n\n        //预加载处理视频\n        //妙妙学不加载视频\n        //读库不加载视频\n        if (!MMXCONFIG && !DUKUCONFIG) {\n            (0, _initprocess.loadVideo)();\n        }\n\n        //不是子文档指定绑定按键\n        if (!SUbCONFIGT) {\n            Xut.Application.AddEventListener = function () {\n                GLOBALCONTEXT.document.addEventListener(\"backbutton\", config._event.back, false);\n                GLOBALCONTEXT.document.addEventListener(\"pause\", config._event.pause, false);\n            };\n        }\n    }\n\n    if (DUKUCONFIG) {\n        PMS.bind(\"MagazineExit\", function () {\n            PMS.unbind();\n            Xut.Application.DropApp();\n        }, \"*\");\n    }\n\n    //拷贝数据库\n    Xut.Plugin.XXTEbookInit.startup(config.dbName, loadApp, function () {});\n};\n\n/**\r\n * 加载app应用\r\n * @param  {[type]} config [description]\r\n * @return {[type]}        [description]\r\n */\nfunction loadApp(config) {\n\n    //修正API接口\n    //iframe要要Xut.config\n    Xut.config.revised();\n\n    //加载横版或者竖版css\n    var baseCss = './css/' + Xut.config.layoutMode + '.css';\n    var svgsheet = './content/gallery/svgsheet.css';\n\n    var cssArr = [baseCss, svgsheet];\n    //是否需要加载svg\n    //如果是ibooks模式\n    //并且没有svg\n    //兼容安卓2.x\n    if (Xut.IBooks.Enabled && !Xut.IBooks.existSvg) {\n        cssArr = [baseCss];\n    }\n\n    //动态加载脚本\n    _index.loader.load(cssArr, function () {\n        //修正全局字体\n        (0, _index.setRootfont)();\n        (0, _data.nextTask)();\n    }, null, true);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2luaXQvaW5kZXguanM/MjAxZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQWFnQixJLEdBQUEsSTs7QUFaaEI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBUU8sU0FBUyxJQUFULEdBQWdCOztBQUVuQixRQUFJLFNBQVMsSUFBSSxNQUFqQjtBQUNBLFFBQUksWUFBWSxPQUFPLFNBQXZCOzs7QUFHQSxnQ0FBVSxNQUFWOzs7OztBQUtBLFFBQUksQ0FBQyxVQUFELElBQWUsQ0FBQyxZQUFoQixJQUFnQyxJQUFJLElBQUosQ0FBUyxLQUE3QyxFQUFvRDtBQUNoRDtBQUNIOzs7Ozs7OztBQVFELFFBQUksWUFBSixFQUFrQjtBQUNkLHNCQUFjLE1BQWQ7QUFDSCxLQUZELE1BRU87O0FBRUgsWUFBSSxTQUFKLEVBQWU7QUFDWCxvQkFBUSxNQUFSO0FBQ0gsU0FGRCxNQUVPOztBQUVILG1CQUFPLFlBQVAsQ0FBb0IsT0FBTyxNQUEzQixFQUFtQyxLQUFuQyxFQUEwQyxtQkFBMUMsRUFBK0QsT0FBTyxNQUF0RTs7QUFFQSxxQkFBUyxnQkFBVCxDQUEwQixhQUExQixFQUF5QyxhQUF6QyxFQUF3RCxLQUF4RDtBQUNIO0FBQ0o7QUFFSjs7Ozs7Ozs7O0FBU0QsU0FBUyxhQUFULENBQXVCLE1BQXZCLEVBQStCOzs7QUFHM0IsUUFBSSxJQUFJLElBQUosQ0FBUyxTQUFiLEVBQXdCOzs7OztBQUtwQixZQUFJLENBQUMsU0FBRCxJQUFjLENBQUMsVUFBbkIsRUFBK0I7QUFDM0I7QUFDSDs7O0FBR0QsWUFBSSxDQUFDLFVBQUwsRUFBaUI7QUFDYixnQkFBSSxXQUFKLENBQWdCLGdCQUFoQixHQUFtQyxZQUFXO0FBQzFDLDhCQUFjLFFBQWQsQ0FBdUIsZ0JBQXZCLENBQXdDLFlBQXhDLEVBQXNELE9BQU8sTUFBUCxDQUFjLElBQXBFLEVBQTBFLEtBQTFFO0FBQ0EsOEJBQWMsUUFBZCxDQUF1QixnQkFBdkIsQ0FBd0MsT0FBeEMsRUFBaUQsT0FBTyxNQUFQLENBQWMsS0FBL0QsRUFBc0UsS0FBdEU7QUFDSCxhQUhEO0FBSUg7QUFDSjs7QUFFRCxRQUFJLFVBQUosRUFBZ0I7QUFDWixZQUFJLElBQUosQ0FBUyxjQUFULEVBQXlCLFlBQVc7QUFDaEMsZ0JBQUksTUFBSjtBQUNBLGdCQUFJLFdBQUosQ0FBZ0IsT0FBaEI7QUFDSCxTQUhELEVBR0csR0FISDtBQUlIOzs7QUFLRCxRQUFJLE1BQUosQ0FBVyxZQUFYLENBQXdCLE9BQXhCLENBQWdDLE9BQU8sTUFBdkMsRUFBK0MsT0FBL0MsRUFBd0QsWUFBVyxDQUFFLENBQXJFO0FBQ0g7Ozs7Ozs7QUFRRCxTQUFTLE9BQVQsQ0FBaUIsTUFBakIsRUFBeUI7Ozs7QUFLckIsUUFBSSxNQUFKLENBQVcsT0FBWDs7O0FBR0EsUUFBSSxVQUFVLFdBQVksSUFBSSxNQUFKLENBQVcsVUFBdkIsR0FBcUMsTUFBbkQ7QUFDQSxRQUFJLFdBQVcsZ0NBQWY7O0FBRUEsUUFBSSxTQUFTLENBQUMsT0FBRCxFQUFVLFFBQVYsQ0FBYjs7Ozs7QUFLQSxRQUFJLElBQUksTUFBSixDQUFXLE9BQVgsSUFBc0IsQ0FBQyxJQUFJLE1BQUosQ0FBVyxRQUF0QyxFQUFnRDtBQUM1QyxpQkFBUyxDQUFDLE9BQUQsQ0FBVDtBQUNIOzs7QUFHRCxrQkFBTyxJQUFQLENBQVksTUFBWixFQUFvQixZQUFXOztBQUUzQjtBQUNBO0FBQ0gsS0FKRCxFQUlHLElBSkgsRUFJUyxJQUpUO0FBS0giLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL+mihOWIneWni+WMllxyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9jb21wb25lbnQvYXVkaW8vbWFuYWdlcidcclxuaW1wb3J0IHsgVmlkZW9NYW5hZ2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L3ZpZGVvL21hbmFnZXInXHJcbmltcG9ydCB7IGxvYWRlciwgc2V0Um9vdGZvbnQgfSBmcm9tICcuLi91dGlsL2luZGV4J1xyXG5pbXBvcnQgeyBuZXh0VGFzayB9IGZyb20gJy4vZGF0YSdcclxuaW1wb3J0IHtcclxuICAgIGxvYWRWaWRlbyxcclxuICAgIGh0bWw1VmlkZW8sXHJcbiAgICBiaW5kRXZlbnRcclxufVxyXG5mcm9tICcuL2luaXRwcm9jZXNzJ1xyXG4gXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICB2YXIgY29uZmlnID0gWHV0LmNvbmZpZztcclxuICAgIHZhciBpc0Jyb3dzZXIgPSBjb25maWcuaXNCcm93c2VyO1xyXG5cclxuICAgIC8v57uR5a6a6ZSu55uY5LqL5Lu2XHJcbiAgICBiaW5kRXZlbnQoY29uZmlnKVxyXG5cclxuICAgIC8v5aaC5p6c5LiN5piv6K+75bqT5qih5byPXHJcbiAgICAvL+aSreaUvkhUTUw16KeG6aKRXHJcbiAgICAvL+WcqElPU1xyXG4gICAgaWYgKCFEVUtVQ09ORklHICYmICFHTE9CQUxJRlJBTUUgJiYgWHV0LnBsYXQuaXNJT1MpIHtcclxuICAgICAgICBodG1sNVZpZGVvKCk7XHJcbiAgICB9XHJcbiBcclxuICAgIC8vSWZhcm1l5bWM5aWX5aSE55CGXHJcbiAgICAvLzEg5paw6ZiF6K+7XHJcbiAgICAvLzIg5a2Q5paH5qGjXHJcbiAgICAvLz09PT09PT1cclxuICAgIC8vMyBwY1xyXG4gICAgLy80IGlvcy9hbmRyb2lkXHJcbiAgICBpZiAoR0xPQkFMSUZSQU1FKSB7XHJcbiAgICAgICAgY3JlYXREYXRhYmFzZShjb25maWcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL1BD6L+Y5piv56e75YqoXHJcbiAgICAgICAgaWYgKGlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICBsb2FkQXBwKGNvbmZpZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/lpoLmnpzkuI3mmK9pZnJhbWXliqDovb0s5YiZ5Yib5bu656m65pWw5o2u5bqTXHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuRGF0YWJhc2UoY29uZmlnLmRiTmFtZSwgXCIxLjBcIiwgXCJYeHRlYm9vayBEYXRhYmFzZVwiLCBjb25maWcuZGJTaXplKTtcclxuICAgICAgICAgICAgLy/nrYnlvoXnoazku7bliqDovb3lrozmr5VcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGNyZWF0RGF0YWJhc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWmguaenOaYr+WuieWNk+ahjOmdouerr1xyXG4gKiDnu5Hlrprkuovku7ZcclxuICog5Yib5bu65pWw5o2u5bqTXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXREYXRhYmFzZShjb25maWcpIHtcclxuXHJcbiAgICAvL+WuieWNk+S4ilxyXG4gICAgaWYgKFh1dC5wbGF0LmlzQW5kcm9pZCkge1xyXG5cclxuICAgICAgICAvL+mihOWKoOi9veWkhOeQhuinhumikVxyXG4gICAgICAgIC8v5aaZ5aaZ5a2m5LiN5Yqg6L296KeG6aKRXHJcbiAgICAgICAgLy/or7vlupPkuI3liqDovb3op4bpopFcclxuICAgICAgICBpZiAoIU1NWENPTkZJRyAmJiAhRFVLVUNPTkZJRykge1xyXG4gICAgICAgICAgICBsb2FkVmlkZW8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5LiN5piv5a2Q5paH5qGj5oyH5a6a57uR5a6a5oyJ6ZSuXHJcbiAgICAgICAgaWYgKCFTVWJDT05GSUdUKSB7XHJcbiAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5BZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBHTE9CQUxDT05URVhULmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJiYWNrYnV0dG9uXCIsIGNvbmZpZy5fZXZlbnQuYmFjaywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgR0xPQkFMQ09OVEVYVC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgY29uZmlnLl9ldmVudC5wYXVzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChEVUtVQ09ORklHKSB7XHJcbiAgICAgICAgUE1TLmJpbmQoXCJNYWdhemluZUV4aXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFBNUy51bmJpbmQoKTtcclxuICAgICAgICAgICAgWHV0LkFwcGxpY2F0aW9uLkRyb3BBcHAoKTtcclxuICAgICAgICB9LCBcIipcIilcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8v5ou36LSd5pWw5o2u5bqTXHJcbiAgICBYdXQuUGx1Z2luLlhYVEVib29rSW5pdC5zdGFydHVwKGNvbmZpZy5kYk5hbWUsIGxvYWRBcHAsIGZ1bmN0aW9uKCkge30pO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb1hcHDlupTnlKhcclxuICogQHBhcmFtICB7W3R5cGVdfSBjb25maWcgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkQXBwKGNvbmZpZykge1xyXG5cclxuXHJcbiAgICAvL+S/ruato0FQSeaOpeWPo1xyXG4gICAgLy9pZnJhbWXopoHopoFYdXQuY29uZmlnXHJcbiAgICBYdXQuY29uZmlnLnJldmlzZWQoKTtcclxuXHJcbiAgICAvL+WKoOi9veaoqueJiOaIluiAheerlueJiGNzc1xyXG4gICAgdmFyIGJhc2VDc3MgPSAnLi9jc3MvJyArIChYdXQuY29uZmlnLmxheW91dE1vZGUpICsgJy5jc3MnO1xyXG4gICAgdmFyIHN2Z3NoZWV0ID0gJy4vY29udGVudC9nYWxsZXJ5L3N2Z3NoZWV0LmNzcyc7XHJcblxyXG4gICAgdmFyIGNzc0FyciA9IFtiYXNlQ3NzLCBzdmdzaGVldF07XHJcbiAgICAvL+aYr+WQpumcgOimgeWKoOi9vXN2Z1xyXG4gICAgLy/lpoLmnpzmmK9pYm9va3PmqKHlvI9cclxuICAgIC8v5bm25LiU5rKh5pyJc3ZnXHJcbiAgICAvL+WFvOWuueWuieWNkzIueFxyXG4gICAgaWYgKFh1dC5JQm9va3MuRW5hYmxlZCAmJiAhWHV0LklCb29rcy5leGlzdFN2Zykge1xyXG4gICAgICAgIGNzc0FyciA9IFtiYXNlQ3NzXVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqo5oCB5Yqg6L296ISa5pysXHJcbiAgICBsb2FkZXIubG9hZChjc3NBcnIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v5L+u5q2j5YWo5bGA5a2X5L2TXHJcbiAgICAgICAgc2V0Um9vdGZvbnQoKTtcclxuICAgICAgICBuZXh0VGFzaygpO1xyXG4gICAgfSwgbnVsbCwgdHJ1ZSk7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2luaXQvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 65 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loadVideo = loadVideo;\nexports.bindEvent = bindEvent;\nexports.html5Video = html5Video;\nvar preloadVideo = {\n    //播放状态\n    state: false,\n    //地址\n    path: DUKUCONFIG ? DUKUCONFIG.path + \"duku.mp4\" : 'android.resource://#packagename#/raw/duku',\n\n    //加载视频\n    load: function load() {\n        // if (window.localStorage.getItem(\"videoPlayer\") == 'error') {\n        //       alert(\"error\")\n        //     return preloadVideo.launchApp();\n        // }\n        this.play();\n        this.state = true;\n    },\n\n    //播放视频\n    play: function play() {\n        //延时应用加载\n        Xut.Application.delayAppRun();\n        Xut.Plugin.VideoPlayer.play(function () {\n            preloadVideo.launchApp();\n        }, function () {\n            //捕获出错,下次不进入了,,暂无ID号\n            // window.localStorage.setItem(\"videoPlayer\", \"error\")\n            preloadVideo.launchApp();\n        }, preloadVideo.path, 1, 0, 0, window.innerHeight, window.innerWidth);\n    },\n\n    //清理视频\n    closeVideo: function closeVideo() {\n        Xut.Plugin.VideoPlayer.close(function () {\n            preloadVideo.launchApp();\n        });\n    },\n\n    //加载应用\n    launchApp: function launchApp() {\n        this.state = false;\n        Xut.Application.LaunchApp();\n    }\n};\n\nfunction loadVideo() {\n    preloadVideo.load();\n}\n\n/**************\r\n * 物理按键处理\r\n **************/\n\n//退出加锁,防止过快点击\nvar outLock = false;\n\n//回退按钮状态控制器\nfunction controller(state) {\n    //如果是子文档处理\n    if (Xut.isRunSubDoc) {\n        //通过Action动作激活的,需要到Action类中处理\n        Xut.publish('subdoc:dropApp');\n        return;\n    }\n    //正常逻辑\n    outLock = true;\n\n    Xut.Application.Suspend({\n        dispose: function dispose() {\n            //停止热点动作\n            setTimeout(function () {\n                outLock = false;\n            }, 100);\n        },\n        processed: function processed() {\n            //退出应用\n            state === 'back' && Xut.Application.DropApp();\n        }\n    });\n}\n\n/**\r\n * 绑定控制案例事件\r\n * @param  {[type]} config [description]\r\n * @return {[type]}        [description]\r\n */\nfunction bindEvent(config) {\n    //存放绑定事件\n    config._event = {\n        //回退键\n        back: function back() {\n            //如果是预加载视频\n            if (preloadVideo.state) {\n                preloadVideo.closeVideo();\n            } else {\n                controller('back');\n            }\n        },\n        //暂停键\n        pause: function pause() {\n            controller('pause');\n        }\n    };\n}\n\n/**\r\n *  创建播放器\r\n *  IOS，PC端执行\r\n */\nfunction html5Video() {\n    //延时应用开始\n    Xut.Application.delayAppRun();\n    var videoPlay = Xut.Video5({\n        url: 'duku.mp4',\n        startBoot: function startBoot() {\n            Xut.Application.LaunchApp();\n        }\n    });\n    videoPlay.play();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL2luaXQvaW5pdHByb2Nlc3MuanM/MmNhYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQTJDZ0IsUyxHQUFBLFM7UUF3Q0EsUyxHQUFBLFM7UUF5QkEsVSxHQUFBLFU7QUE1R2hCLElBQUksZUFBZTs7QUFFZixXQUFPLEtBRlE7O0FBSWYsVUFBTSxhQUFhLFdBQVcsSUFBWCxHQUFrQixVQUEvQixHQUE0QywyQ0FKbkM7OztBQU9mLFVBQU0sZ0JBQVc7Ozs7O0FBS2IsYUFBSyxJQUFMO0FBQ0EsYUFBSyxLQUFMLEdBQWEsSUFBYjtBQUNILEtBZGM7OztBQWlCZixVQUFNLGdCQUFXOztBQUViLFlBQUksV0FBSixDQUFnQixXQUFoQjtBQUNBLFlBQUksTUFBSixDQUFXLFdBQVgsQ0FBdUIsSUFBdkIsQ0FBNEIsWUFBVztBQUNuQyx5QkFBYSxTQUFiO0FBQ0gsU0FGRCxFQUVHLFlBQVc7OztBQUdWLHlCQUFhLFNBQWI7QUFDSCxTQU5ELEVBTUcsYUFBYSxJQU5oQixFQU1zQixDQU50QixFQU15QixDQU56QixFQU00QixDQU41QixFQU0rQixPQUFPLFdBTnRDLEVBTW1ELE9BQU8sVUFOMUQ7QUFPSCxLQTNCYzs7O0FBOEJmLGdCQUFZLHNCQUFXO0FBQ25CLFlBQUksTUFBSixDQUFXLFdBQVgsQ0FBdUIsS0FBdkIsQ0FBNkIsWUFBVztBQUNwQyx5QkFBYSxTQUFiO0FBQ0gsU0FGRDtBQUdILEtBbENjOzs7QUFxQ2YsZUFBVyxxQkFBVztBQUNsQixhQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0EsWUFBSSxXQUFKLENBQWdCLFNBQWhCO0FBQ0g7QUF4Q2MsQ0FBbkI7O0FBMkNPLFNBQVMsU0FBVCxHQUFxQjtBQUN4QixpQkFBYSxJQUFiO0FBQ0g7Ozs7Ozs7QUFRRCxJQUFJLFVBQVUsS0FBZDs7O0FBR0EsU0FBUyxVQUFULENBQW9CLEtBQXBCLEVBQTJCOztBQUV2QixRQUFJLElBQUksV0FBUixFQUFxQjs7QUFFakIsWUFBSSxPQUFKLENBQVksZ0JBQVo7QUFDQTtBQUNIOztBQUVELGNBQVUsSUFBVjs7QUFFQSxRQUFJLFdBQUosQ0FBZ0IsT0FBaEIsQ0FBd0I7QUFDcEIsaUJBQVMsbUJBQVc7O0FBQ2hCLHVCQUFXLFlBQVc7QUFDbEIsMEJBQVUsS0FBVjtBQUNILGFBRkQsRUFFRyxHQUZIO0FBR0gsU0FMbUI7QUFNcEIsbUJBQVcscUJBQVc7O0FBQ2xCLHNCQUFVLE1BQVYsSUFBb0IsSUFBSSxXQUFKLENBQWdCLE9BQWhCLEVBQXBCO0FBQ0g7QUFSbUIsS0FBeEI7QUFVSDs7Ozs7OztBQU9NLFNBQVMsU0FBVCxDQUFtQixNQUFuQixFQUEyQjs7QUFFOUIsV0FBTyxNQUFQLEdBQWdCOztBQUVaLGNBQU0sZ0JBQVc7O0FBRWIsZ0JBQUksYUFBYSxLQUFqQixFQUF3QjtBQUNwQiw2QkFBYSxVQUFiO0FBQ0gsYUFGRCxNQUVPO0FBQ0gsMkJBQVcsTUFBWDtBQUNIO0FBQ0osU0FUVzs7QUFXWixlQUFPLGlCQUFXO0FBQ2QsdUJBQVcsT0FBWDtBQUNIO0FBYlcsS0FBaEI7QUFlSDs7Ozs7O0FBUU0sU0FBUyxVQUFULEdBQXNCOztBQUV6QixRQUFJLFdBQUosQ0FBZ0IsV0FBaEI7QUFDQSxRQUFJLFlBQVksSUFBSSxNQUFKLENBQVc7QUFDdkIsYUFBSyxVQURrQjtBQUV2QixtQkFBVyxxQkFBVztBQUNsQixnQkFBSSxXQUFKLENBQWdCLFNBQWhCO0FBQ0g7QUFKc0IsS0FBWCxDQUFoQjtBQU1BLGNBQVUsSUFBVjtBQUNIIiwiZmlsZSI6IjY1LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHByZWxvYWRWaWRlbyA9IHtcclxuICAgIC8v5pKt5pS+54q25oCBXHJcbiAgICBzdGF0ZTogZmFsc2UsXHJcbiAgICAvL+WcsOWdgFxyXG4gICAgcGF0aDogRFVLVUNPTkZJRyA/IERVS1VDT05GSUcucGF0aCArIFwiZHVrdS5tcDRcIiA6ICdhbmRyb2lkLnJlc291cmNlOi8vI3BhY2thZ2VuYW1lIy9yYXcvZHVrdScsXHJcblxyXG4gICAgLy/liqDovb3op4bpopFcclxuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ2aWRlb1BsYXllclwiKSA9PSAnZXJyb3InKSB7XHJcbiAgICAgICAgLy8gICAgICAgYWxlcnQoXCJlcnJvclwiKVxyXG4gICAgICAgIC8vICAgICByZXR1cm4gcHJlbG9hZFZpZGVvLmxhdW5jaEFwcCgpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/mkq3mlL7op4bpopFcclxuICAgIHBsYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v5bu25pe25bqU55So5Yqg6L29XHJcbiAgICAgICAgWHV0LkFwcGxpY2F0aW9uLmRlbGF5QXBwUnVuKCk7XHJcbiAgICAgICAgWHV0LlBsdWdpbi5WaWRlb1BsYXllci5wbGF5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwcmVsb2FkVmlkZW8ubGF1bmNoQXBwKCk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5o2V6I635Ye66ZSZLOS4i+asoeS4jei/m+WFpeS6hiws5pqC5pegSUTlj7dcclxuICAgICAgICAgICAgLy8gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidmlkZW9QbGF5ZXJcIiwgXCJlcnJvclwiKVxyXG4gICAgICAgICAgICBwcmVsb2FkVmlkZW8ubGF1bmNoQXBwKCk7XHJcbiAgICAgICAgfSwgcHJlbG9hZFZpZGVvLnBhdGgsIDEsIDAsIDAsIHdpbmRvdy5pbm5lckhlaWdodCwgd2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+a4heeQhuinhumikVxyXG4gICAgY2xvc2VWaWRlbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgWHV0LlBsdWdpbi5WaWRlb1BsYXllci5jbG9zZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcHJlbG9hZFZpZGVvLmxhdW5jaEFwcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+WKoOi9veW6lOeUqFxyXG4gICAgbGF1bmNoQXBwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgWHV0LkFwcGxpY2F0aW9uLkxhdW5jaEFwcCgpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkVmlkZW8oKSB7XHJcbiAgICBwcmVsb2FkVmlkZW8ubG9hZCgpO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqXHJcbiAqIOeJqeeQhuaMiemUruWkhOeQhlxyXG4gKioqKioqKioqKioqKiovXHJcblxyXG4vL+mAgOWHuuWKoOmUgSzpmLLmraLov4flv6vngrnlh7tcclxudmFyIG91dExvY2sgPSBmYWxzZTtcclxuXHJcbi8v5Zue6YCA5oyJ6ZKu54q25oCB5o6n5Yi25ZmoXHJcbmZ1bmN0aW9uIGNvbnRyb2xsZXIoc3RhdGUpIHtcclxuICAgIC8v5aaC5p6c5piv5a2Q5paH5qGj5aSE55CGXHJcbiAgICBpZiAoWHV0LmlzUnVuU3ViRG9jKSB7XHJcbiAgICAgICAgLy/pgJrov4dBY3Rpb27liqjkvZzmv4DmtLvnmoQs6ZyA6KaB5YiwQWN0aW9u57G75Lit5aSE55CGXHJcbiAgICAgICAgWHV0LnB1Ymxpc2goJ3N1YmRvYzpkcm9wQXBwJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy/mraPluLjpgLvovpFcclxuICAgIG91dExvY2sgPSB0cnVlO1xyXG5cclxuICAgIFh1dC5BcHBsaWNhdGlvbi5TdXNwZW5kKHtcclxuICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHsgLy/lgZzmraLng63ngrnliqjkvZxcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG91dExvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgMTAwKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvY2Vzc2VkOiBmdW5jdGlvbigpIHsgLy/pgIDlh7rlupTnlKhcclxuICAgICAgICAgICAgc3RhdGUgPT09ICdiYWNrJyAmJiBYdXQuQXBwbGljYXRpb24uRHJvcEFwcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog57uR5a6a5o6n5Yi25qGI5L6L5LqL5Lu2XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY29uZmlnIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFdmVudChjb25maWcpIHtcclxuICAgIC8v5a2Y5pS+57uR5a6a5LqL5Lu2XHJcbiAgICBjb25maWcuX2V2ZW50ID0ge1xyXG4gICAgICAgIC8v5Zue6YCA6ZSuXHJcbiAgICAgICAgYmFjazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5piv6aKE5Yqg6L296KeG6aKRXHJcbiAgICAgICAgICAgIGlmIChwcmVsb2FkVmlkZW8uc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHByZWxvYWRWaWRlby5jbG9zZVZpZGVvKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIoJ2JhY2snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy/mmoLlgZzplK5cclxuICAgICAgICBwYXVzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIoJ3BhdXNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiAg5Yib5bu65pKt5pS+5ZmoXHJcbiAqICBJT1PvvIxQQ+err+aJp+ihjFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGh0bWw1VmlkZW8oKSB7XHJcbiAgICAvL+W7tuaXtuW6lOeUqOW8gOWni1xyXG4gICAgWHV0LkFwcGxpY2F0aW9uLmRlbGF5QXBwUnVuKCk7XHJcbiAgICB2YXIgdmlkZW9QbGF5ID0gWHV0LlZpZGVvNSh7XHJcbiAgICAgICAgdXJsOiAnZHVrdS5tcDQnLFxyXG4gICAgICAgIHN0YXJ0Qm9vdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5MYXVuY2hBcHAoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHZpZGVvUGxheS5wbGF5KCk7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL2luaXQvaW5pdHByb2Nlc3MuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 66 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Manager = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _observe = __webpack_require__(3);\n\nvar _globalevent = __webpack_require__(67);\n\nvar _overrideapi = __webpack_require__(69);\n\nvar _index2 = __webpack_require__(2);\n\nvar _schedule = __webpack_require__(71);\n\n//调度器\n\n\n//全部交互通知\n/*********************************************************************\r\n *              场景容器构造器\r\n *          1 构件页面级容器\r\n *          2 翻页全局事件\r\n *\r\n **********************************************************************/\n\n// 定义访问器\n\n\nvar config = void 0;\n\n// 'container'     : this.elements[0],\n// 'pageMode'      : pageMode,\n// 'multiScenario' : !isMain,\n// 'rootPage'      : scenarioPage,\n// 'rootMaster'    : scenarioMaster,\n// 'initIndex'     : pageIndex, //保存索引从0开始\n// 'pagetotal'     : pageTotal,\n// 'sectionRang'   : this.sectionRang,\n// 'scenarioId'    : scenarioId,\n// 'chapterId'     : this.chapterId,\n// 'isInApp'       : this.isInApp //提示页面\n\n\n//调度任务\n\n\n//动态api\n\n\n// 观察\nfunction Manager(parameter) {\n\n    config = Xut.config;\n\n    var vm = this;\n\n    var options = {\n        //数据库定义的翻页模式\n        //用来兼容客户端的制作模式\n        //妙妙学模式处理，多页面下翻页切换\n        //0 翻页滑动\n        //1 没有滑动过程,直接切换页面\n        'pageFlip': config.pageFlip,\n\n        //翻页模式\n        //根据页码数决定,主要是优化一些代码\n        //true  是多页面模式,支持翻页滑动\n        //false 单页面模式,不能翻页，只能跳转\n        'pageMode': false,\n\n        //是否多场景加载\n        //单页场景 false\n        //多场景   true\n        'multiScenario': false,\n\n        //是否为连续页面\n        //通过pageMode的参数定义\n        'multiplePages': false\n    };\n\n    //配置文件\n    options = vm.options = _.extend(options, parameter);\n\n    //强制转换\n    //multiplePages\n    //是否为连续页面\n    if (Xut.IBooks.Enabled) {\n        options.multiplePages = false;\n    } else {\n        options.multiplePages = options.pageFlip ? options.pageFlip : options.pageMode ? true : false;\n    }\n\n    //创建翻页滑动\n    var $globalEvent = vm.$globalEvent = new _globalevent.GlobalEvent(options, config);\n\n    // console.log( $globalEvent)\n\n    //创建page页面管理\n    var $scheduler = vm.$scheduler = new _schedule.Scheduler(vm);\n\n    //委托事件处理钩子\n    var delegateHooks = {\n        //超连接,跳转\n        //svg内嵌跳转标记处理\n        'data-xxtlink': function dataXxtlink(target, attribute, rootNode, pageIndex) {\n            try {\n                var para = attribute.split('-');\n                if (para.length > 1) {\n                    //如果有多个就是多场景的组合\n                    Xut.View.GotoSlide(para[0], para[1]);\n                } else {\n                    Xut.View.GotoSlide(para[0]);\n                }\n            } catch (err) {\n                console.log('跳转错误');\n            }\n        },\n\n        //Action', 'Widget', 'Video', 'ShowNote', 'SubDoc'委托\n        'data-delegate': function dataDelegate(target, attribute, rootNode, pageIndex) {\n            _index2.trigger.apply(null, arguments);\n        },\n\n        //如果是canvas节点\n        'data-canvas': function dataCanvas(cur) {\n            // alert(1)\n        }\n    };\n\n    //如果是主场景,才能切换系统工具栏\n    if (options.multiplePages) {\n        _.extend(delegateHooks, {\n            //li节点,多线程创建的时候处理滑动\n            'data-container': function dataContainer() {\n                vm.$emit('change:toggleToolbar');\n            },\n\n            //是背景层\n            'data-multilayer': function dataMultilayer() {\n                //改变工具条状态\n                vm.$emit('change:toggleToolbar');\n            },\n\n            //默认content元素可以翻页\n            'data-behavior': function dataBehavior(target, attribute, rootNode, pageIndex) {\n                //没有事件的元素,即可翻页又可点击切换工具栏\n                if (attribute == 'click-swipe') {\n                    vm.$emit('change:toggleToolbar');\n                }\n            }\n        });\n    }\n\n    //简化委托处理，默认一层元素只能绑定一个委托事件\n    function filterProcessor(event, pageType) {\n        var i,\n            k,\n            attribute,\n            attributes,\n            value,\n            cur = event.target;\n\n        if (cur.nodeType) {\n            //如果触发点直接是li\n            if (cur === this) {\n                return {\n                    'rootNode': this,\n                    'elem': cur,\n                    'handlers': delegateHooks['data-container']\n                };\n            }\n            //否则是内部的节点\n            try {\n                for (; cur !== this; cur = cur.parentNode || this) {\n                    //如果是canvas节点\n                    if (cur.nodeName && cur.nodeName.toLowerCase() === 'canvas') {\n                        //是否为滑动行为\n                        if (Xut.Contents.Canvas.getSupportState()) {\n                            return true;\n                        } else {\n                            return false;\n                        }\n                    }\n                    //如果是dom节点\n                    attributes = cur['attributes'];\n                    for (k in delegateHooks) {\n                        if (attribute = attributes[k]) {\n                            value = attribute['value' || 'nodeValue'];\n                            return {\n                                'rootNode': this,\n                                'elem': cur,\n                                'attribute': value,\n                                'pageType': pageType,\n                                'handlers': delegateHooks[k]\n                            };\n                        }\n                    }\n                }\n            } catch (err) {\n                // config.isBrowser && console.log('默认事件跟踪', err)\n            }\n        }\n    }\n\n    /**\r\n     * 判断处理那个页面层次\r\n     * 找到pageType类型\r\n     * 项目分4个层\r\n     * page mater page浮动 mater浮动\r\n     * 通过\r\n     * 因为冒泡的元素，可能是页面层，也可能是母板上的\r\n     * @return {Boolean} [description]\r\n     */\n    function isBelong(target) {\n        var pageType = 'page';\n        if (target.dataset && target.dataset.belong) {\n            pageType = target.dataset.belong;\n        }\n        return pageType;\n    }\n\n    /**\r\n     * 阻止元素的默认行为\r\n     * 在火狐下面image带有href的行为\r\n     * 会自动触发另存为\r\n     * @return {[type]} [description]\r\n     *\r\n     * 2016.3.18\r\n     * 妙妙学 滚动插件默认行为被阻止\r\n     */\n    function preventDefault(evtObj, target) {\n        //var tagName = target.nodeName.toLowerCase();\n        if (Xut.plat.isBrowser && !Xut.IBooks.Enabled && !MMXCONFIG) {\n            evtObj.preventDefault && evtObj.preventDefault();\n        }\n    }\n\n    /*********************************************************************\r\n     *                对页面事件的调控与状态动作的处理\r\n     *                1 触屏 onswipedown\r\n     *                2 滑动 onSwipeMove\r\n     *                3 松手 onSwipeUp\r\n     *                3 松手继续滑动 onSwipeUpSlider\r\n     *                4 动画结束后处理 onAnimComplete                                                                               *\r\n     **********************************************************************/\n\n    /**\r\n     * 事件句柄对象\r\n     */\n    var handlerObj = null;\n\n    /**\r\n     * 过滤器.全局控制函数\r\n     * return true 阻止页面滑动\r\n     */\n    $globalEvent.$watch('filter', function (hookCallback, point, evtObj) {\n        var target, pageType, parentNode;\n        target = point.target;\n        //阻止默认行为\n        preventDefault(evtObj, target);\n        //页面类型\n        pageType = isBelong(target);\n        //根节点\n        parentNode = $globalEvent.findRootElement(point, pageType);\n        //执行过滤处理\n        handlerObj = filterProcessor.call(parentNode, point, pageType);\n        if (!handlerObj || handlerObj.attribute === 'disable') {\n            //停止翻页,针对content对象可以拖动,滑动的情况处理\n            hookCallback();\n        }\n    });\n\n    /**\r\n     * 触屏滑动,通知pageMgr处理页面移动\r\n     * @return {[type]} [description]\r\n     */\n    $globalEvent.$watch('onSwipeMove', function () {\n        $scheduler.move.apply($scheduler, arguments);\n    });\n\n    /**\r\n     * 触屏松手点击\r\n     * 无滑动\r\n     */\n    $globalEvent.$watch('onSwipeUp', function (pageIndex, hookCallback) {\n        if (handlerObj) {\n            if (handlerObj.handlers) {\n                handlerObj.handlers(handlerObj.elem, handlerObj.attribute, handlerObj.rootNode, pageIndex);\n            } else {\n                if (!Xut.Contents.Canvas.getIsTap()) {\n                    vm.$emit('change:toggleToolbar');\n                }\n            }\n            handlerObj = null;\n            hookCallback();\n        }\n    });\n\n    /**\r\n     * 触屏滑动,通知ProcessMgr关闭所有激活的热点\r\n     * @return {[type]}          [description]\r\n     */\n    $globalEvent.$watch('onSwipeUpSlider', function (pointers) {\n        $scheduler.suspend(pointers);\n    });\n\n    /**\r\n     * 翻页动画完成回调\r\n     * @return {[type]}              [description]\r\n     */\n    $globalEvent.$watch('onAnimComplete', function (direction, pagePointer, unfliplock, isQuickTurn) {\n        $scheduler.complete.apply($scheduler, arguments);\n    });\n\n    /**\r\n     * 切换页面\r\n     * @return {[type]}      [description]\r\n     */\n    $globalEvent.$watch('onJumpPage', function (data) {\n        $scheduler.jumpPage(data);\n    });\n\n    /**\r\n     * 退出应用\r\n     * @return {[type]}      [description]\r\n     */\n    $globalEvent.$watch('onDropApp', function (data) {\n        GLOBALIFRAME && Xut.publish('magazine:dropApp');\n    });\n\n    /**\r\n     * 母板移动反馈\r\n     * 只有存在data-parallaxProcessed\r\n     * 才需要重新激活对象\r\n     * 删除parallaxProcessed\r\n     */\n    $globalEvent.$watch('onMasterMove', function (hindex, target) {\n        if (/Content/i.test(target.id) && target.getAttribute('data-parallaxProcessed')) {\n            $scheduler.masterMgr && $scheduler.masterMgr.reactivation(target);\n        }\n    });\n\n    vm.$overrideApi();\n}\n\n//***************************************************************\n//\n//                      应用接口\n//\n//***************************************************************\n\nvar VMProto = Manager.prototype;\n\n/**\r\n * 扩充事件\r\n */\n_observe.observe.call(VMProto);\n\n/**\r\n * 是否多场景模式\r\n */\n(0, _index.defAccess)(VMProto, '$multiScenario', {\n    get: function get() {\n        return this.options.multiScenario;\n    }\n});\n\n/**\r\n * 动态注入对象接口\r\n * 注入对象管理,注册所有widget组件对象\r\n *  content类型  创建时注册\r\n *  widget类型   执行时注册\r\n *  widget 包括 视频 音频 Action 子文档 弹出口 类型\r\n *  这种类型是冒泡处理，无法传递钩子，直接用这个接口与场景对接\r\n */\n(0, _index.defAccess)(VMProto, '$injectionComponent', {\n    set: function set(regData) {\n        var injection;\n        if (injection = this.$scheduler[regData.pageType + 'Mgr']) {\n            injection.abstractAssistPocess(regData.pageIndex, function (pageObj) {\n                pageObj.baseRegisterComponent.call(pageObj, regData.widget);\n            });\n        } else {\n            console.log('注册injection失败,regData=' + regData);\n        }\n    }\n});\n\n/**\r\n * 得到当前的视图页面\r\n * @return {[type]}   [description]\r\n */\n(0, _index.defAccess)(VMProto, '$curVmPage', {\n    get: function get() {\n        return this.$scheduler.pageMgr.abstractGetPageObj(this.$globalEvent.hindex);\n    }\n});\n\n/**\r\n *  监听viewmodel内部的状态的改变,触发后传入值\r\n *\r\n *  与状态有关的change:\r\n *      翻页\r\n *          'flipOver' : function(pageIndex) {},\r\n *\r\n *      切换工具栏\r\n *          'toggleToolbar' : function(state, pointer) {},\r\n *\r\n *      复位工具栏\r\n *          'resetToolbar'  : function() {},\r\n *\r\n *      隐藏下一页按钮\r\n *          'hideNext'   : function(state) {},\r\n *\r\n *      显示下一页按钮\r\n *          'showNext'   : function() {}\r\n *\r\n *  与创建相关\r\n *      创建完毕回调\r\n *          'createComplete': null,\r\n *      创建后中断自动运行回调\r\n *          'suspendAutoCallback': null\r\n *\r\n */\n(0, _index.defProtected)(VMProto, '$bind', function (key, callback) {\n    var vm = this;\n    vm.$watch('change:' + key, function () {\n        callback.apply(vm, arguments);\n    });\n});\n\n/**\r\n * 创建页面\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$init', function () {\n    this.$scheduler.initCreate();\n});\n\n/**\r\n * 运动动画\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$run', function () {\n    var vm = this;\n    vm.$scheduler.pageMgr.activateAutoRuns(vm.$globalEvent.hindex, Xut.Presentation.GetPageObj());\n});\n\n/**\r\n * 复位对象\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$reset', function () {\n    return this.$scheduler.pageMgr.resetOriginal(this.$globalEvent.hindex);\n});\n\n/**\r\n * 停止所有任务\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$suspend', function () {\n    Xut.Application.Suspend({\n        skipMedia: true //跨页面不处理\n    });\n});\n\n/**\r\n * 销毁场景内部对象\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$destroy', function () {\n    this.$off();\n    this.$globalEvent.destroy();\n    this.$scheduler.destroy();\n    this.$scheduler = null;\n    this.$globalEvent = null;\n});\n\n/**\r\n * 设置所有API接口\r\n * @return {[type]} [description]\r\n */\n(0, _index.defProtected)(VMProto, '$overrideApi', function () {\n    (0, _overrideapi.overrideApi)(this);\n});\n\nexports.Manager = Manager;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvY29yZS5qcz9mNDUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFRQTs7QUFNQTs7QUFNQTs7QUFNQTs7QUFNQTs7QUFNQTs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLElBQUksZUFBSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWFBLFNBQVMsT0FBVCxDQUFpQixTQUFqQixFQUE0Qjs7QUFFeEIsYUFBUyxJQUFJLE1BQWI7O0FBRUEsUUFBSSxLQUFLLElBQVQ7O0FBRUEsUUFBSSxVQUFVOzs7Ozs7QUFNVixvQkFBWSxPQUFPLFFBTlQ7Ozs7OztBQVlWLG9CQUFZLEtBWkY7Ozs7O0FBaUJWLHlCQUFpQixLQWpCUDs7OztBQXFCVix5QkFBaUI7QUFyQlAsS0FBZDs7O0FBeUJBLGNBQVUsR0FBRyxPQUFILEdBQWEsRUFBRSxNQUFGLENBQVMsT0FBVCxFQUFrQixTQUFsQixDQUF2Qjs7Ozs7QUFLQSxRQUFJLElBQUksTUFBSixDQUFXLE9BQWYsRUFBd0I7QUFDcEIsZ0JBQVEsYUFBUixHQUF3QixLQUF4QjtBQUNILEtBRkQsTUFFTztBQUNILGdCQUFRLGFBQVIsR0FBd0IsUUFBUSxRQUFSLEdBQ3BCLFFBQVEsUUFEWSxHQUVwQixRQUFRLFFBQVIsR0FBbUIsSUFBbkIsR0FBMEIsS0FGOUI7QUFHSDs7O0FBR0QsUUFBSSxlQUFlLEdBQUcsWUFBSCxHQUFrQiw2QkFBZ0IsT0FBaEIsRUFBeUIsTUFBekIsQ0FBckM7Ozs7O0FBS0EsUUFBSSxhQUFhLEdBQUcsVUFBSCxHQUFnQix3QkFBYyxFQUFkLENBQWpDOzs7QUFHQSxRQUFJLGdCQUFnQjs7O0FBR2hCLHdCQUFnQixxQkFBUyxNQUFULEVBQWlCLFNBQWpCLEVBQTRCLFFBQTVCLEVBQXNDLFNBQXRDLEVBQWlEO0FBQzdELGdCQUFJO0FBQ0Esb0JBQUksT0FBTyxVQUFVLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBWDtBQUNBLG9CQUFJLEtBQUssTUFBTCxHQUFj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QUNBLE9BQUcsVUFBSCxDQUFjLE9BQWQsQ0FBc0IsZ0JBQXRCLENBQ0ksR0FBRyxZQUFILENBQWdCLE1BRHBCLEVBQzRCLElBQUksWUFBSixDQUFpQixVQUFqQixFQUQ1QjtBQUdILENBTEQ7Ozs7OztBQVlBLHlCQUFJLE9BQUosRUFBYSxRQUFiLEVBQXVCLFlBQVc7QUFDOUIsV0FBTyxLQUFLLFVBQUwsQ0FBZ0IsT0FBaEIsQ0FBd0IsYUFBeEIsQ0FBc0MsS0FBSyxZQUFMLENBQWtCLE1BQXhELENBQVA7QUFDSCxDQUZEOzs7Ozs7QUFTQSx5QkFBSSxPQUFKLEVBQWEsVUFBYixFQUF5QixZQUFXO0FBQ2hDLFFBQUksV0FBSixDQUFnQixPQUFoQixDQUF3QjtBQUNwQixtQkFBVyxJO0FBRFMsS0FBeEI7QUFHSCxDQUpEOzs7Ozs7QUFXQSx5QkFBSSxPQUFKLEVBQWEsVUFBYixFQUF5QixZQUFXO0FBQ2hDLFNBQUssSUFBTDtBQUNBLFNBQUssWUFBTCxDQUFrQixPQUFsQjtBQUNBLFNBQUssVUFBTCxDQUFnQixPQUFoQjtBQUNBLFNBQUssVUFBTCxHQUFrQixJQUFsQjtBQUNBLFNBQUssWUFBTCxHQUFvQixJQUFwQjtBQUNILENBTkQ7Ozs7OztBQWFBLHlCQUFJLE9BQUosRUFBYSxjQUFiLEVBQTZCLFlBQVc7QUFDcEMsa0NBQVksSUFBWjtBQUNILENBRkQ7O1FBTUksTyxHQUFBLE8iLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqICAgICAgICAgICAgICDlnLrmma/lrrnlmajmnoTpgKDlmahcclxuICogICAgICAgICAgMSDmnoTku7bpobXpnaLnuqflrrnlmahcclxuICogICAgICAgICAgMiDnv7vpobXlhajlsYDkuovku7ZcclxuICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyDlrprkuYnorr/pl67lmahcclxuaW1wb3J0IHtcclxuICAgIGRlZlByb3RlY3RlZCBhcyBkZWYsIGRlZkFjY2Vzc1xyXG59XHJcbmZyb20gJy4uL3V0aWwvaW5kZXgnXHJcblxyXG4vLyDop4Llr59cclxuaW1wb3J0IHtcclxuICAgIG9ic2VydmVcclxufVxyXG5mcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlJ1xyXG5cclxuLy/lhajpg6jkuqTkupLpgJrnn6VcclxuaW1wb3J0IHtcclxuICAgIEdsb2JhbEV2ZW50XHJcbn1cclxuZnJvbSAnLi9nbG9iYWxldmVudCdcclxuXHJcbi8v5Yqo5oCBYXBpXHJcbmltcG9ydCB7XHJcbiAgICBvdmVycmlkZUFwaVxyXG59XHJcbmZyb20gJy4vb3ZlcnJpZGVhcGknXHJcblxyXG4vL+iwg+W6puWZqFxyXG5pbXBvcnQge1xyXG4gICAgdHJpZ2dlclxyXG59XHJcbmZyb20gJy4uL3NjaGVkdWxlci9pbmRleCdcclxuXHJcbi8v6LCD5bqm5Lu75YqhXHJcbmltcG9ydCB7XHJcbiAgICBTY2hlZHVsZXJcclxufVxyXG5mcm9tICcuL3NjaGVkdWxlJ1xyXG5cclxubGV0IGNvbmZpZ1xyXG5cclxuLy8gJ2NvbnRhaW5lcicgICAgIDogdGhpcy5lbGVtZW50c1swXSxcclxuLy8gJ3BhZ2VNb2RlJyAgICAgIDogcGFnZU1vZGUsXHJcbi8vICdtdWx0aVNjZW5hcmlvJyA6ICFpc01haW4sXHJcbi8vICdyb290UGFnZScgICAgICA6IHNjZW5hcmlvUGFnZSxcclxuLy8gJ3Jvb3RNYXN0ZXInICAgIDogc2NlbmFyaW9NYXN0ZXIsXHJcbi8vICdpbml0SW5kZXgnICAgICA6IHBhZ2VJbmRleCwgLy/kv53lrZjntKLlvJXku44w5byA5aeLXHJcbi8vICdwYWdldG90YWwnICAgICA6IHBhZ2VUb3RhbCxcclxuLy8gJ3NlY3Rpb25SYW5nJyAgIDogdGhpcy5zZWN0aW9uUmFuZyxcclxuLy8gJ3NjZW5hcmlvSWQnICAgIDogc2NlbmFyaW9JZCxcclxuLy8gJ2NoYXB0ZXJJZCcgICAgIDogdGhpcy5jaGFwdGVySWQsXHJcbi8vICdpc0luQXBwJyAgICAgICA6IHRoaXMuaXNJbkFwcCAvL+aPkOekuumhtemdolxyXG5mdW5jdGlvbiBNYW5hZ2VyKHBhcmFtZXRlcikge1xyXG5cclxuICAgIGNvbmZpZyA9IFh1dC5jb25maWdcclxuXHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgIC8v5pWw5o2u5bqT5a6a5LmJ55qE57+76aG15qih5byPXHJcbiAgICAgICAgLy/nlKjmnaXlhbzlrrnlrqLmiLfnq6/nmoTliLbkvZzmqKHlvI9cclxuICAgICAgICAvL+WmmeWmmeWtpuaooeW8j+WkhOeQhu+8jOWkmumhtemdouS4i+e/u+mhteWIh+aNolxyXG4gICAgICAgIC8vMCDnv7vpobXmu5HliqhcclxuICAgICAgICAvLzEg5rKh5pyJ5ruR5Yqo6L+H56iLLOebtOaOpeWIh+aNoumhtemdolxyXG4gICAgICAgICdwYWdlRmxpcCc6IGNvbmZpZy5wYWdlRmxpcCxcclxuXHJcbiAgICAgICAgLy/nv7vpobXmqKHlvI9cclxuICAgICAgICAvL+agueaNrumhteeggeaVsOWGs+WumizkuLvopoHmmK/kvJjljJbkuIDkupvku6PnoIFcclxuICAgICAgICAvL3RydWUgIOaYr+WkmumhtemdouaooeW8jyzmlK/mjIHnv7vpobXmu5HliqhcclxuICAgICAgICAvL2ZhbHNlIOWNlemhtemdouaooeW8jyzkuI3og73nv7vpobXvvIzlj6rog73ot7PovaxcclxuICAgICAgICAncGFnZU1vZGUnOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLy/mmK/lkKblpJrlnLrmma/liqDovb1cclxuICAgICAgICAvL+WNlemhteWcuuaZryBmYWxzZVxyXG4gICAgICAgIC8v5aSa5Zy65pmvICAgdHJ1ZVxyXG4gICAgICAgICdtdWx0aVNjZW5hcmlvJzogZmFsc2UsXHJcblxyXG4gICAgICAgIC8v5piv5ZCm5Li66L+e57ut6aG16Z2iXHJcbiAgICAgICAgLy/pgJrov4dwYWdlTW9kZeeahOWPguaVsOWumuS5iVxyXG4gICAgICAgICdtdWx0aXBsZVBhZ2VzJzogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy/phY3nva7mlofku7ZcclxuICAgIG9wdGlvbnMgPSB2bS5vcHRpb25zID0gXy5leHRlbmQob3B0aW9ucywgcGFyYW1ldGVyKTtcclxuXHJcbiAgICAvL+W8uuWItui9rOaNolxyXG4gICAgLy9tdWx0aXBsZVBhZ2VzXHJcbiAgICAvL+aYr+WQpuS4uui/nue7remhtemdolxyXG4gICAgaWYgKFh1dC5JQm9va3MuRW5hYmxlZCkge1xyXG4gICAgICAgIG9wdGlvbnMubXVsdGlwbGVQYWdlcyA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zLm11bHRpcGxlUGFnZXMgPSBvcHRpb25zLnBhZ2VGbGlwID9cclxuICAgICAgICAgICAgb3B0aW9ucy5wYWdlRmxpcCA6XHJcbiAgICAgICAgICAgIG9wdGlvbnMucGFnZU1vZGUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liJvlu7rnv7vpobXmu5HliqhcclxuICAgIHZhciAkZ2xvYmFsRXZlbnQgPSB2bS4kZ2xvYmFsRXZlbnQgPSBuZXcgR2xvYmFsRXZlbnQob3B0aW9ucywgY29uZmlnKTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyggJGdsb2JhbEV2ZW50KVxyXG5cclxuICAgIC8v5Yib5bu6cGFnZemhtemdoueuoeeQhlxyXG4gICAgdmFyICRzY2hlZHVsZXIgPSB2bS4kc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcih2bSk7XHJcblxyXG4gICAgLy/lp5TmiZjkuovku7blpITnkIbpkqnlrZBcclxuICAgIHZhciBkZWxlZ2F0ZUhvb2tzID0ge1xyXG4gICAgICAgIC8v6LaF6L+e5o6lLOi3s+i9rFxyXG4gICAgICAgIC8vc3Zn5YaF5bWM6Lez6L2s5qCH6K6w5aSE55CGXHJcbiAgICAgICAgJ2RhdGEteHh0bGluayc6IGZ1bmN0aW9uKHRhcmdldCwgYXR0cmlidXRlLCByb290Tm9kZSwgcGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyYSA9IGF0dHJpYnV0ZS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmEubGVuZ3RoID4gMSkgeyAvL+WmguaenOacieWkmuS4quWwseaYr+WkmuWcuuaZr+eahOe7hOWQiFxyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5WaWV3LkdvdG9TbGlkZShwYXJhWzBdLCBwYXJhWzFdKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBYdXQuVmlldy5Hb3RvU2xpZGUocGFyYVswXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6Lez6L2s6ZSZ6K+vJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vQWN0aW9uJywgJ1dpZGdldCcsICdWaWRlbycsICdTaG93Tm90ZScsICdTdWJEb2Mn5aeU5omYXHJcbiAgICAgICAgJ2RhdGEtZGVsZWdhdGUnOiBmdW5jdGlvbih0YXJnZXQsIGF0dHJpYnV0ZSwgcm9vdE5vZGUsIHBhZ2VJbmRleCkge1xyXG4gICAgICAgICAgICB0cmlnZ2VyLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK9jYW52YXPoioLngrlcclxuICAgICAgICAnZGF0YS1jYW52YXMnOiBmdW5jdGlvbihjdXIpIHtcclxuICAgICAgICAgICAgLy8gYWxlcnQoMSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpoLmnpzmmK/kuLvlnLrmma8s5omN6IO95YiH5o2i57O757uf5bel5YW35qCPXHJcbiAgICBpZiAob3B0aW9ucy5tdWx0aXBsZVBhZ2VzKSB7XHJcbiAgICAgICAgXy5leHRlbmQoZGVsZWdhdGVIb29rcywge1xyXG4gICAgICAgICAgICAvL2xp6IqC54K5LOWkmue6v+eoi+WIm+W7uueahOaXtuWAmeWkhOeQhua7keWKqFxyXG4gICAgICAgICAgICAnZGF0YS1jb250YWluZXInOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6dG9nZ2xlVG9vbGJhcicpXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvL+aYr+iDjOaZr+WxglxyXG4gICAgICAgICAgICAnZGF0YS1tdWx0aWxheWVyJzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvL+aUueWPmOW3peWFt+adoeeKtuaAgVxyXG4gICAgICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTp0b2dnbGVUb29sYmFyJylcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8v6buY6K6kY29udGVudOWFg+e0oOWPr+S7pee/u+mhtVxyXG4gICAgICAgICAgICAnZGF0YS1iZWhhdmlvcic6IGZ1bmN0aW9uKHRhcmdldCwgYXR0cmlidXRlLCByb290Tm9kZSwgcGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAvL+ayoeacieS6i+S7tueahOWFg+e0oCzljbPlj6/nv7vpobXlj4jlj6/ngrnlh7vliIfmjaLlt6XlhbfmoI9cclxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgPT0gJ2NsaWNrLXN3aXBlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6dG9nZ2xlVG9vbGJhcicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL+eugOWMluWnlOaJmOWkhOeQhu+8jOm7mOiupOS4gOWxguWFg+e0oOWPquiDvee7keWumuS4gOS4quWnlOaJmOS6i+S7tlxyXG4gICAgZnVuY3Rpb24gZmlsdGVyUHJvY2Vzc29yKGV2ZW50LCBwYWdlVHlwZSkge1xyXG4gICAgICAgIHZhciBpLCBrLCBhdHRyaWJ1dGUsIGF0dHJpYnV0ZXMsIHZhbHVlLFxyXG4gICAgICAgICAgICBjdXIgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgIGlmIChjdXIubm9kZVR5cGUpIHtcclxuICAgICAgICAgICAgLy/lpoLmnpzop6blj5Hngrnnm7TmjqXmmK9saVxyXG4gICAgICAgICAgICBpZiAoY3VyID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICdyb290Tm9kZSc6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2VsZW0nOiBjdXIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hhbmRsZXJzJzogZGVsZWdhdGVIb29rc1snZGF0YS1jb250YWluZXInXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5ZCm5YiZ5piv5YaF6YOo55qE6IqC54K5XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzmmK9jYW52YXPoioLngrlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5vZGVOYW1lICYmIGN1ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnY2FudmFzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aYr+WQpuS4uua7keWKqOihjOS4ulxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoWHV0LkNvbnRlbnRzLkNhbnZhcy5nZXRTdXBwb3J0U3RhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzmmK9kb23oioLngrlcclxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gY3VyWydhdHRyaWJ1dGVzJ107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrIGluIGRlbGVnYXRlSG9va3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNba10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXR0cmlidXRlWyd2YWx1ZScgfHwgJ25vZGVWYWx1ZSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncm9vdE5vZGUnOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtJzogY3VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdHRyaWJ1dGUnOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFnZVR5cGUnOiBwYWdlVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFuZGxlcnMnOiBkZWxlZ2F0ZUhvb2tzW2tdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uZmlnLmlzQnJvd3NlciAmJiBjb25zb2xlLmxvZygn6buY6K6k5LqL5Lu26Lef6LiqJywgZXJyKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3lpITnkIbpgqPkuKrpobXpnaLlsYLmrKFcclxuICAgICAqIOaJvuWIsHBhZ2VUeXBl57G75Z6LXHJcbiAgICAgKiDpobnnm67liIY05Liq5bGCXHJcbiAgICAgKiBwYWdlIG1hdGVyIHBhZ2Xmta7liqggbWF0ZXLmta7liqhcclxuICAgICAqIOmAmui/h1xyXG4gICAgICog5Zug5Li65YaS5rOh55qE5YWD57Sg77yM5Y+v6IO95piv6aG16Z2i5bGC77yM5Lmf5Y+v6IO95piv5q+N5p2/5LiK55qEXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzQmVsb25nKHRhcmdldCkge1xyXG4gICAgICAgIHZhciBwYWdlVHlwZSA9ICdwYWdlJztcclxuICAgICAgICBpZiAodGFyZ2V0LmRhdGFzZXQgJiYgdGFyZ2V0LmRhdGFzZXQuYmVsb25nKSB7XHJcbiAgICAgICAgICAgIHBhZ2VUeXBlID0gdGFyZ2V0LmRhdGFzZXQuYmVsb25nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFnZVR5cGVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmYu+atouWFg+e0oOeahOm7mOiupOihjOS4ulxyXG4gICAgICog5Zyo54Gr54uQ5LiL6Z2iaW1hZ2XluKbmnIlocmVm55qE6KGM5Li6XHJcbiAgICAgKiDkvJroh6rliqjop6blj5Hlj6blrZjkuLpcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICpcclxuICAgICAqIDIwMTYuMy4xOFxyXG4gICAgICog5aaZ5aaZ5a2mIOa7muWKqOaPkuS7tum7mOiupOihjOS4uuiiq+mYu+atolxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldnRPYmosIHRhcmdldCkge1xyXG4gICAgICAgIC8vdmFyIHRhZ05hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoWHV0LnBsYXQuaXNCcm93c2VyICYmICFYdXQuSUJvb2tzLkVuYWJsZWQgJiYgIU1NWENPTkZJRykge1xyXG4gICAgICAgICAgICBldnRPYmoucHJldmVudERlZmF1bHQgJiYgZXZ0T2JqLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAqICAgICAgICAgICAgICAgIOWvuemhtemdouS6i+S7tueahOiwg+aOp+S4jueKtuaAgeWKqOS9nOeahOWkhOeQhlxyXG4gICAgICogICAgICAgICAgICAgICAgMSDop6blsY8gb25zd2lwZWRvd25cclxuICAgICAqICAgICAgICAgICAgICAgIDIg5ruR5YqoIG9uU3dpcGVNb3ZlXHJcbiAgICAgKiAgICAgICAgICAgICAgICAzIOadvuaJiyBvblN3aXBlVXBcclxuICAgICAqICAgICAgICAgICAgICAgIDMg5p2+5omL57un57ut5ruR5YqoIG9uU3dpcGVVcFNsaWRlclxyXG4gICAgICogICAgICAgICAgICAgICAgNCDliqjnlLvnu5PmnZ/lkI7lpITnkIYgb25BbmltQ29tcGxldGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuovku7blj6Xmn4Tlr7nosaFcclxuICAgICAqL1xyXG4gICAgdmFyIGhhbmRsZXJPYmogPSBudWxsO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi/h+a7pOWZqC7lhajlsYDmjqfliLblh73mlbBcclxuICAgICAqIHJldHVybiB0cnVlIOmYu+atoumhtemdoua7keWKqFxyXG4gICAgICovXHJcbiAgICAkZ2xvYmFsRXZlbnQuJHdhdGNoKCdmaWx0ZXInLCBmdW5jdGlvbihob29rQ2FsbGJhY2ssIHBvaW50LCBldnRPYmopIHtcclxuICAgICAgICB2YXIgdGFyZ2V0LCBwYWdlVHlwZSwgcGFyZW50Tm9kZTtcclxuICAgICAgICB0YXJnZXQgPSBwb2ludC50YXJnZXQ7XHJcbiAgICAgICAgLy/pmLvmraLpu5jorqTooYzkuLpcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdChldnRPYmosIHRhcmdldCk7XHJcbiAgICAgICAgLy/pobXpnaLnsbvlnotcclxuICAgICAgICBwYWdlVHlwZSA9IGlzQmVsb25nKHRhcmdldCk7XHJcbiAgICAgICAgLy/moLnoioLngrlcclxuICAgICAgICBwYXJlbnROb2RlID0gJGdsb2JhbEV2ZW50LmZpbmRSb290RWxlbWVudChwb2ludCwgcGFnZVR5cGUpO1xyXG4gICAgICAgIC8v5omn6KGM6L+H5ruk5aSE55CGXHJcbiAgICAgICAgaGFuZGxlck9iaiA9IGZpbHRlclByb2Nlc3Nvci5jYWxsKHBhcmVudE5vZGUsIHBvaW50LCBwYWdlVHlwZSk7XHJcbiAgICAgICAgaWYgKCFoYW5kbGVyT2JqIHx8IGhhbmRsZXJPYmouYXR0cmlidXRlID09PSAnZGlzYWJsZScpIHtcclxuICAgICAgICAgICAgLy/lgZzmraLnv7vpobUs6ZKI5a+5Y29udGVudOWvueixoeWPr+S7peaLluWKqCzmu5HliqjnmoTmg4XlhrXlpITnkIZcclxuICAgICAgICAgICAgaG9va0NhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kem5bGP5ruR5YqoLOmAmuefpXBhZ2VNZ3LlpITnkIbpobXpnaLnp7vliqhcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICAkZ2xvYmFsRXZlbnQuJHdhdGNoKCdvblN3aXBlTW92ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRzY2hlZHVsZXIubW92ZS5hcHBseSgkc2NoZWR1bGVyLCBhcmd1bWVudHMpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kem5bGP5p2+5omL54K55Ye7XHJcbiAgICAgKiDml6Dmu5HliqhcclxuICAgICAqL1xyXG4gICAgJGdsb2JhbEV2ZW50LiR3YXRjaCgnb25Td2lwZVVwJywgZnVuY3Rpb24ocGFnZUluZGV4LCBob29rQ2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoaGFuZGxlck9iaikge1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlck9iai5oYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlck9iai5oYW5kbGVycyhoYW5kbGVyT2JqLmVsZW0sIGhhbmRsZXJPYmouYXR0cmlidXRlLCBoYW5kbGVyT2JqLnJvb3ROb2RlLCBwYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFYdXQuQ29udGVudHMuQ2FudmFzLmdldElzVGFwKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnRvZ2dsZVRvb2xiYXInKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhhbmRsZXJPYmogPSBudWxsO1xyXG4gICAgICAgICAgICBob29rQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6blsY/mu5Hliqgs6YCa55+lUHJvY2Vzc01ncuWFs+mXreaJgOaciea/gOa0u+eahOeDreeCuVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgICRnbG9iYWxFdmVudC4kd2F0Y2goJ29uU3dpcGVVcFNsaWRlcicsIGZ1bmN0aW9uKHBvaW50ZXJzKSB7XHJcbiAgICAgICAgJHNjaGVkdWxlci5zdXNwZW5kKHBvaW50ZXJzKVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57+76aG15Yqo55S75a6M5oiQ5Zue6LCDXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgICRnbG9iYWxFdmVudC4kd2F0Y2goJ29uQW5pbUNvbXBsZXRlJywgZnVuY3Rpb24oZGlyZWN0aW9uLCBwYWdlUG9pbnRlciwgdW5mbGlwbG9jaywgaXNRdWlja1R1cm4pIHtcclxuICAgICAgICAkc2NoZWR1bGVyLmNvbXBsZXRlLmFwcGx5KCRzY2hlZHVsZXIsIGFyZ3VtZW50cyk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIfmjaLpobXpnaJcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgICRnbG9iYWxFdmVudC4kd2F0Y2goJ29uSnVtcFBhZ2UnLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgJHNjaGVkdWxlci5qdW1wUGFnZShkYXRhKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAgOWHuuW6lOeUqFxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgJGdsb2JhbEV2ZW50LiR3YXRjaCgnb25Ecm9wQXBwJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIEdMT0JBTElGUkFNRSAmJiBYdXQucHVibGlzaCgnbWFnYXppbmU6ZHJvcEFwcCcpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q+N5p2/56e75Yqo5Y+N6aaIXHJcbiAgICAgKiDlj6rmnInlrZjlnKhkYXRhLXBhcmFsbGF4UHJvY2Vzc2VkXHJcbiAgICAgKiDmiY3pnIDopoHph43mlrDmv4DmtLvlr7nosaFcclxuICAgICAqIOWIoOmZpHBhcmFsbGF4UHJvY2Vzc2VkXHJcbiAgICAgKi9cclxuICAgICRnbG9iYWxFdmVudC4kd2F0Y2goJ29uTWFzdGVyTW92ZScsIGZ1bmN0aW9uKGhpbmRleCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKC9Db250ZW50L2kudGVzdCh0YXJnZXQuaWQpICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFyYWxsYXhQcm9jZXNzZWQnKSkge1xyXG4gICAgICAgICAgICAkc2NoZWR1bGVyLm1hc3Rlck1nciAmJiAkc2NoZWR1bGVyLm1hc3Rlck1nci5yZWFjdGl2YXRpb24odGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdm0uJG92ZXJyaWRlQXBpKCk7XHJcbn1cclxuXHJcblxyXG5cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy9cclxuLy8gICAgICAgICAgICAgICAgICAgICAg5bqU55So5o6l5Y+jXHJcbi8vXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5cclxudmFyIFZNUHJvdG8gPSBNYW5hZ2VyLnByb3RvdHlwZVxyXG5cclxuLyoqXHJcbiAqIOaJqeWFheS6i+S7tlxyXG4gKi9cclxub2JzZXJ2ZS5jYWxsKFZNUHJvdG8pO1xyXG5cclxuLyoqXHJcbiAqIOaYr+WQpuWkmuWcuuaZr+aooeW8j1xyXG4gKi9cclxuZGVmQWNjZXNzKFZNUHJvdG8sICckbXVsdGlTY2VuYXJpbycsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5tdWx0aVNjZW5hcmlvXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDliqjmgIHms6jlhaXlr7nosaHmjqXlj6NcclxuICog5rOo5YWl5a+56LGh566h55CGLOazqOWGjOaJgOaciXdpZGdldOe7hOS7tuWvueixoVxyXG4gKiAgY29udGVudOexu+WeiyAg5Yib5bu65pe25rOo5YaMXHJcbiAqICB3aWRnZXTnsbvlnosgICDmiafooYzml7bms6jlhoxcclxuICogIHdpZGdldCDljIXmi6wg6KeG6aKRIOmfs+mikSBBY3Rpb24g5a2Q5paH5qGjIOW8ueWHuuWPoyDnsbvlnotcclxuICogIOi/meenjeexu+Wei+aYr+WGkuazoeWkhOeQhu+8jOaXoOazleS8oOmAkumSqeWtkO+8jOebtOaOpeeUqOi/meS4quaOpeWPo+S4juWcuuaZr+WvueaOpVxyXG4gKi9cclxuZGVmQWNjZXNzKFZNUHJvdG8sICckaW5qZWN0aW9uQ29tcG9uZW50Jywge1xyXG4gICAgc2V0OiBmdW5jdGlvbihyZWdEYXRhKSB7XHJcbiAgICAgICAgdmFyIGluamVjdGlvbjtcclxuICAgICAgICBpZiAoaW5qZWN0aW9uID0gdGhpcy4kc2NoZWR1bGVyW3JlZ0RhdGEucGFnZVR5cGUgKyAnTWdyJ10pIHtcclxuICAgICAgICAgICAgaW5qZWN0aW9uLmFic3RyYWN0QXNzaXN0UG9jZXNzKHJlZ0RhdGEucGFnZUluZGV4LCBmdW5jdGlvbihwYWdlT2JqKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlT2JqLmJhc2VSZWdpc3RlckNvbXBvbmVudC5jYWxsKHBhZ2VPYmosIHJlZ0RhdGEud2lkZ2V0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5rOo5YaMaW5qZWN0aW9u5aSx6LSlLHJlZ0RhdGE9JyArIHJlZ0RhdGEpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDlvpfliLDlvZPliY3nmoTop4blm77pobXpnaJcclxuICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmRlZkFjY2VzcyhWTVByb3RvLCAnJGN1clZtUGFnZScsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjaGVkdWxlci5wYWdlTWdyLmFic3RyYWN0R2V0UGFnZU9iaih0aGlzLiRnbG9iYWxFdmVudC5oaW5kZXgpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogIOebkeWQrHZpZXdtb2RlbOWGhemDqOeahOeKtuaAgeeahOaUueWPmCzop6blj5HlkI7kvKDlhaXlgLxcclxuICpcclxuICogIOS4jueKtuaAgeacieWFs+eahGNoYW5nZTpcclxuICogICAgICDnv7vpobVcclxuICogICAgICAgICAgJ2ZsaXBPdmVyJyA6IGZ1bmN0aW9uKHBhZ2VJbmRleCkge30sXHJcbiAqXHJcbiAqICAgICAg5YiH5o2i5bel5YW35qCPXHJcbiAqICAgICAgICAgICd0b2dnbGVUb29sYmFyJyA6IGZ1bmN0aW9uKHN0YXRlLCBwb2ludGVyKSB7fSxcclxuICpcclxuICogICAgICDlpI3kvY3lt6XlhbfmoI9cclxuICogICAgICAgICAgJ3Jlc2V0VG9vbGJhcicgIDogZnVuY3Rpb24oKSB7fSxcclxuICpcclxuICogICAgICDpmpDol4/kuIvkuIDpobXmjInpkq5cclxuICogICAgICAgICAgJ2hpZGVOZXh0JyAgIDogZnVuY3Rpb24oc3RhdGUpIHt9LFxyXG4gKlxyXG4gKiAgICAgIOaYvuekuuS4i+S4gOmhteaMiemSrlxyXG4gKiAgICAgICAgICAnc2hvd05leHQnICAgOiBmdW5jdGlvbigpIHt9XHJcbiAqXHJcbiAqICDkuI7liJvlu7rnm7jlhbNcclxuICogICAgICDliJvlu7rlrozmr5Xlm57osINcclxuICogICAgICAgICAgJ2NyZWF0ZUNvbXBsZXRlJzogbnVsbCxcclxuICogICAgICDliJvlu7rlkI7kuK3mlq3oh6rliqjov5DooYzlm57osINcclxuICogICAgICAgICAgJ3N1c3BlbmRBdXRvQ2FsbGJhY2snOiBudWxsXHJcbiAqXHJcbiAqL1xyXG5kZWYoVk1Qcm90bywgJyRiaW5kJywgZnVuY3Rpb24oa2V5LCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHZtID0gdGhpc1xyXG4gICAgdm0uJHdhdGNoKCdjaGFuZ2U6JyArIGtleSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2FsbGJhY2suYXBwbHkodm0sIGFyZ3VtZW50cylcclxuICAgIH0pXHJcbn0pXHJcblxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uumhtemdolxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmRlZihWTVByb3RvLCAnJGluaXQnLCBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJHNjaGVkdWxlci5pbml0Q3JlYXRlKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDov5DliqjliqjnlLtcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5kZWYoVk1Qcm90bywgJyRydW4nLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICB2bS4kc2NoZWR1bGVyLnBhZ2VNZ3IuYWN0aXZhdGVBdXRvUnVucyhcclxuICAgICAgICB2bS4kZ2xvYmFsRXZlbnQuaGluZGV4LCBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VPYmooKVxyXG4gICAgKVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICog5aSN5L2N5a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZGVmKFZNUHJvdG8sICckcmVzZXQnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLiRzY2hlZHVsZXIucGFnZU1nci5yZXNldE9yaWdpbmFsKHRoaXMuJGdsb2JhbEV2ZW50LmhpbmRleCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDlgZzmraLmiYDmnInku7vliqFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5kZWYoVk1Qcm90bywgJyRzdXNwZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICBYdXQuQXBwbGljYXRpb24uU3VzcGVuZCh7XHJcbiAgICAgICAgc2tpcE1lZGlhOiB0cnVlIC8v6Leo6aG16Z2i5LiN5aSE55CGXHJcbiAgICB9KVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICog6ZSA5q+B5Zy65pmv5YaF6YOo5a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZGVmKFZNUHJvdG8sICckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy4kb2ZmKCk7XHJcbiAgICB0aGlzLiRnbG9iYWxFdmVudC5kZXN0cm95KCk7XHJcbiAgICB0aGlzLiRzY2hlZHVsZXIuZGVzdHJveSgpO1xyXG4gICAgdGhpcy4kc2NoZWR1bGVyID0gbnVsbDtcclxuICAgIHRoaXMuJGdsb2JhbEV2ZW50ID0gbnVsbDtcclxufSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIOiuvue9ruaJgOaciUFQSeaOpeWPo1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmRlZihWTVByb3RvLCAnJG92ZXJyaWRlQXBpJywgZnVuY3Rpb24oKSB7XHJcbiAgICBvdmVycmlkZUFwaSh0aGlzKVxyXG59KVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBNYW5hZ2VyXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL21hbmFnZXIvY29yZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 67 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GlobalEvent = undefined;\n\nvar _observe = __webpack_require__(3);\n\n/**\r\n * 初始化首次范围\r\n * @return {[type]} [description]\r\n */\nfunction initPointer(init, pagetotal) {\n    var leftscope = 0,\n        pagePointer = {};\n\n    if (init === leftscope) {\n        //首页\n        pagePointer['currIndex'] = init;\n        pagePointer['rightIndex'] = init + 1;\n    } else if (init === pagetotal - 1) {\n        //首页\n        pagePointer['currIndex'] = init;\n        pagePointer['leftIndex'] = init - 1;\n    } else {\n        //中间页\n        pagePointer['leftIndex'] = init - 1;\n        pagePointer['currIndex'] = init;\n        pagePointer['rightIndex'] = init + 1;\n    }\n\n    return pagePointer;\n}\n\n//============================\n//\n//    自定义事件类型\n//\n// //触屏点击\n// 'onSwipeDown',\n// //触屏移动\n// 'onSwipeMove',\n// //触屏松手\n// 'onSwipeUp',\n// //触屏松手 滑动处理\n// 'onSwipeUpSlider',\n// //松手动画（反弹）\n// 'onFlipSliding',\n// //执行反弹\n// 'onFlipRebound',\n// //动画完成\n// 'onAnimComplete',\n// //退出应用\n// 'onDropApp'\n\n//element   根容器元素\n//pageIndex 页面索引\n\n// 观察\nfunction GlobalEvent(options, config) {\n\n    options.hindex = options.initIndex;\n\n    this.screenWidth = config.screenSize.width;\n\n    _.extend(this, options);\n\n    // this.element = options.rootPage;\n    this.element = options.container;\n\n    /**\r\n     * 翻页时间\r\n     * @type {Number}\r\n     */\n    this.speed = options.pageFlip ? 0 : 500;\n\n    /**\r\n     * 翻页速率\r\n     * @type {Number}\r\n     */\n    this.clickSpeed = 600;\n\n    /**\r\n     * 速率\r\n     * @type {[type]}\r\n     */\n    this.speedRate = this.originalRate = this.speed / this.screenWidth;\n\n    /**\r\n     * 计算初始化页码\r\n     * @type {[type]}\r\n     */\n    this.pagePointer = initPointer(options.hindex, options.pagetotal);\n\n    /**\r\n     * 初始化绑定事件\r\n     */\n    if (!this.prveIndex) {\n        this.prveIndex = this.hindex;\n    }\n\n    //ibooks不绑定全局事件\n    // if (!Xut.IBooks.runMode()) {\n    this._bindEvt();\n    // }\n\n    //用于查找跟元素\n    var ul = this.element.querySelectorAll('ul');\n    this.bubbleNode = {\n        page: ul[0],\n        master: ul[1]\n    };\n};\n\nvar edProto = GlobalEvent.prototype;\n\n/**\r\n * 首位越界处理，不反弹\r\n * @param  {[type]} deltaX [description]\r\n * @return {[type]}        [description]\r\n */\nedProto.overstep = function (deltaX) {\n    //首页,并且是左滑动\n    if (this.hindex === 0 && deltaX > 0) {\n        return true;\n        //尾页\n    } else if (this.hindex === this.pagetotal - 1 && deltaX < 0) {\n            return true;\n        }\n};\n\n/**\r\n * 前翻页接口\r\n * @return {[type]} [description]\r\n */\nedProto.prev = function () {\n    if (!this.overstep(1)) {\n        this.slideTo('prev');\n    };\n};\n\n/**\r\n * 后翻页接口\r\n * @return {Function} [description]\r\n */\nedProto.next = function () {\n    if (!this.overstep(-1)) {\n        this.slideTo('next');\n    }\n};\n\n/**\r\n * 检车是否还在移动中\r\n * @return {Boolean} [description]\r\n */\nedProto.isMove = function () {\n    return this.fliplock;\n};\n\n/**\r\n * 是否为边界\r\n * @param  {[type]}  distance [description]\r\n * @return {Boolean}          [description]\r\n */\nedProto.isBorder = function (distance) {\n    //起点左偏移\n    if (this.hindex === 0 && distance > 0) {\n        return true;\n    }\n    //终点右偏移\n    if (this.hindex === this.pagetotal - 1 && distance < 0) {\n        return true;\n    }\n};\n\n/**\r\n * 目标元素\r\n * 找到li元素\r\n * @param  {Function} callback [description]\r\n * @return {[type]}            [description]\r\n */\nedProto.findRootElement = function (point, pageType) {\n    var liNode,\n        map,\n        hindex = this.hindex,\n        sectionRang = this.sectionRang,\n\n    //找到对应的li\n    childNodes = this.bubbleNode[pageType].childNodes,\n        numNodes = childNodes.length;\n\n    while (numNodes--) {\n        liNode = childNodes[numNodes];\n        map = liNode.getAttribute('data-map');\n        if (sectionRang) {\n            hindex += sectionRang.start;\n        }\n        if (map == hindex) {\n            return liNode;\n        }\n        hindex = this.hindex;\n    }\n};\n\n/**\r\n * 溢出控制\r\n * @param  {[type]} direction [description]\r\n * @return {[type]}           [description]\r\n */\nedProto.scopePointer = function (direction) {\n    var overflow,\n        pointer = this.pagePointer,\n        fillength = Object.keys(pointer).length;\n\n    switch (direction) {\n        case 'prev':\n            //前翻页\n            overflow = pointer.currIndex === 0 && fillength === 2 ? true : false;\n            break;\n        case 'next':\n            //后翻页\n            overflow = pointer.currIndex === this.pagetotal - 1 && fillength === 2 ? true : false;\n            break;\n    }\n\n    return {\n        pointer: pointer,\n        overflow: overflow //是否溢出\n    };\n};\n\n//转换页码索引\n//direction 方向\n//pointer 当前页码标示\n//[17 18 19]  pagePointer\n//[18 19 20]  转换后\n// 17 销毁\n// 20 创建\nedProto.shiftPointer = function (pointer) {\n    var createPointer, //创建的页\n    destroyPointer; //销毁的页\n\n    switch (this.direction) {\n        case 'prev':\n            //前处理\n            createPointer = pointer.leftIndex - 1;\n            destroyPointer = pointer.rightIndex;\n            break;\n        case 'next':\n            //后处理\n            createPointer = pointer.rightIndex + 1;\n            destroyPointer = pointer.leftIndex;\n            break;\n    }\n\n    pointer['createPointer'] = createPointer;\n    pointer['destroyPointer'] = destroyPointer;\n\n    return pointer;\n};\n\n//修正页码指示\nedProto.revisedFilpPointer = function (pointer) {\n\n    //需要停止动作的页面索引\n    var stopPointer = pointer.currIndex;\n\n    switch (this.direction) {\n        case 'prev':\n            //前处理\n            if (-1 < pointer.createPointer) {\n                //首页情况\n                this.updataPointer(pointer.createPointer, pointer.leftIndex, pointer.currIndex);\n            }\n            if (-1 === pointer.createPointer) {\n                this.pagePointer['rightIndex'] = pointer.currIndex;\n                this.pagePointer['currIndex'] = pointer.leftIndex;\n                delete this.pagePointer['leftIndex'];\n            }\n            break;\n        case 'next':\n            //后处理\n            if (this.pagetotal > pointer.createPointer) {\n                this.updataPointer(pointer.currIndex, pointer.rightIndex, pointer.createPointer);\n            }\n            if (this.pagetotal === pointer.createPointer) {\n                //如果是尾页\n                this.pagePointer['leftIndex'] = pointer.currIndex;\n                this.pagePointer['currIndex'] = pointer.rightIndex;\n                delete this.pagePointer['rightIndex'];\n            }\n            break;\n    }\n\n    this.pagePointer['createPointer'] = pointer.createPointer;\n    this.pagePointer['destroyPointer'] = pointer.destroyPointer;\n    this.pagePointer['stopPointer'] = stopPointer;\n\n    return this.pagePointer;\n};\n\n//更新页码标示\nedProto.updataPointer = function (leftIndex, currIndex, rightIndex) {\n    if (arguments.length === 3) {\n        this.pagePointer = {\n            'leftIndex': leftIndex,\n            'currIndex': currIndex,\n            'rightIndex': rightIndex\n        };\n        return;\n    }\n\n    if (arguments.length === 1) {\n        var data = leftIndex;\n        var viewFlip = data['viewFlip'];\n\n        this.fixHindex(data.targetIndex);\n\n        if (viewFlip.length === 3) {\n            this.updataPointer(viewFlip[0], viewFlip[1], viewFlip[2]);\n        }\n        if (viewFlip.length === 2) {\n            if (viewFlip[0] === 0) {\n                //首页\n                this.pagePointer['rightIndex'] = viewFlip[1];\n                this.pagePointer['currIndex'] = viewFlip[0];\n                delete this.pagePointer['leftIndex'];\n            } else {\n                //尾页\n                this.pagePointer['leftIndex'] = viewFlip[0];\n                this.pagePointer['currIndex'] = viewFlip[1];\n                delete this.pagePointer['rightIndex'];\n            }\n        }\n        return;\n    }\n};\n\n//修正页面索引\nedProto.fixHindex = function (currIndex) {\n    this.hindex = currIndex; //翻页索引\n};\n\nedProto.slideTo = function (direction) {\n    var resolve;\n    //如果在忙碌状态,如果翻页还没完毕\n    if (Xut.busyBarState || this.fliplock) {\n        return;\n    };\n    resolve = this.scopePointer(direction);\n    if (resolve.overflow) return;\n    this.startAnimTo(resolve.pointer, direction);\n};\n\nedProto.startAnimTo = function (pointer, direction) {\n    this.fliplock = true;\n    this.prveHindex = this.hindex;\n    this.direction = direction;\n    this.judgeQuickTurn();\n    if (direction === 'next') {\n        this.nextRun(pointer);\n    } else {\n        this.preRun(pointer);\n    }\n};\n\n//上翻页\nedProto.preRun = function (pointer) {\n    var pointers,\n        me = this;\n\n    function createPrev() {\n        pointers = me.shiftPointer(pointer);\n        pointers = me.revisedFilpPointer(pointers);\n        me.sliderStop(pointers);\n        me.fixHindex(pointers.currIndex);\n    }\n\n    this.processorMove({\n        'pageIndex': this.hindex,\n        'speed': this.calculatespeed(),\n        'distance': 0,\n        'direction': this.direction,\n        'action': 'flipOver'\n    });\n\n    //动画执行\n    setTimeout(createPrev);\n};\n\n//下翻页\nedProto.nextRun = function (pointer) {\n    var pointers,\n        me = this;\n\n    function createNext() {\n        pointers = me.shiftPointer(pointer);\n        pointers = me.revisedFilpPointer(pointers);\n        me.sliderStop(pointers);\n        me.fixHindex(pointers.currIndex);\n    }\n\n    this.processorMove({\n        'pageIndex': this.hindex,\n        'speed': this.calculatespeed(),\n        'distance': 0,\n        'direction': this.direction,\n        'action': 'flipOver'\n    });\n\n    //动画执行\n    setTimeout(createNext);\n};\n\n/**\r\n * 判断是否快速翻页\r\n * @return {[type]} [description]\r\n */\nedProto.judgeQuickTurn = function () {\n\n    var startDate = +new Date();\n\n    if (this.preClickTime) {\n        if (startDate - this.preClickTime < this.clickSpeed) {\n            this.setRate();\n        }\n    }\n\n    this.preClickTime = +new Date();\n};\n\n/**\r\n * 计算滑动速度\r\n * @return {[type]} [description]\r\n */\nedProto.calculatespeed = function () {\n    return (this.screenWidth - Math.abs(this.deltaX)) * this.speedRate || this.speed;\n};\n\n/**\r\n * 处理松手后滑动\r\n * pageIndex 页面\r\n * distance  移动距离\r\n * speed     时间\r\n * viewTag   可使区标记\r\n * follow    是否为跟随滑动\r\n * @return {[type]} [description]\r\n */\nedProto.processorMove = function (data) {\n    var pagePointer = this.pagePointer;\n    data.leftIndex = pagePointer.leftIndex;\n    data.rightIndex = pagePointer.rightIndex;\n    this.$emit('onSwipeMove', data);\n};\n\n/**\r\n * 滑动事件派发处理\r\n * 停止动画,视频 音频\r\n * @return {[type]} [description]\r\n */\nedProto.sliderStop = function (pointers) {\n    this.$emit('onSwipeUpSlider', pointers);\n};\n\n/*********************************************************************\r\n *                 页面交互\r\n *                                                         *\r\n **********************************************************************/\n\n/**\r\n * 兼容事件对象\r\n * @return {[type]}   [description]\r\n */\nfunction compatibilityEvent(e) {\n    var point;\n    if (e.touches && e.touches[0]) {\n        point = e.touches[0];\n    } else {\n        point = e;\n    }\n    return point;\n}\n\nedProto.onTouchStart = function (e) {\n\n    var interrupt,\n        point = compatibilityEvent(e);\n\n    if (!point) {\n        return interrupt = this.preventSwipe = true;\n    }\n\n    /**\r\n     * 获取观察对象\r\n     * 钩子函数\r\n     * point 事件对象\r\n     * @return {[type]} [description]\r\n     */\n    this.$emit('filter', function () {\n        interrupt = true;\n    }, point, e);\n\n    //打断动作\n    if (interrupt) return;\n\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.preventSwipe = false, //是否滑动事件受限\n    this.isoverstep = false; //是否边界溢出\n    this.isScrollX = false; //是否为X轴滑动\n    this.isScrollY = false; //是否为Y轴滑动\n    this.isTouching = true; //点击了屏幕\n\n    this.start = {\n        pageX: point.pageX,\n        pageY: point.pageY,\n        time: +new Date()\n    };\n};\n\nedProto.onTouchMove = function (e) {\n\n    //如果没有点击\n    //或是Y轴滑动\n    //或者是阻止滑动\n    if (!this.isTouching || this.isScrollY || this.preventSwipe) return;\n\n    var point = compatibilityEvent(e),\n        deltaX = point.pageX - this.start.pageX,\n        deltaY = point.pageY - this.start.pageY,\n        absDeltaX = Math.abs(deltaX),\n        absDeltaY = Math.abs(deltaY);\n\n    if (!this.isScrollY) {\n        //===============Y轴滑动======================\n        //\n        if (absDeltaY > absDeltaX) {\n            this.isScrollY = true; //为Y轴滑动\n            return;\n        }\n    }\n\n    //===============X轴滑动======================\n\n    //越界处理\n    if (this.isoverstep = this.overstep(deltaX)) return;\n\n    //防止滚动\n    e.preventDefault();\n\n    this.deltaX = deltaX / (!this.hindex && deltaX > 0 // 在首页\n     || this.hindex == this.pagetotal - 1 // 尾页\n     && deltaX < 0 // 中间\n    ? absDeltaX / this.screenWidth + 1 : 1);\n\n    if (!this.isScrollX && this.deltaX) {\n        this.isScrollX = true;\n    }\n\n    //算一次有效的滑动\n    if (absDeltaX <= 25) return;\n\n    var delayX = 0;\n\n    if (this.deltaX < 0) {\n        delayX = 20;\n    } else {\n        delayX = -20;\n    }\n\n    !this.fliplock && this.processorMove({\n        'pageIndex': this.hindex,\n        'distance': this.deltaX + delayX,\n        'speed': 0,\n        'direction': this.deltaX > 0 ? 'prev' : 'next',\n        'action': 'flipMove'\n    });\n};\n\nedProto.onTouchEnd = function (e) {\n\n    this.isTouching = false;\n\n    if (this.isoverstep || this.preventSwipe) return;\n\n    //点击\n    if (!this.isScrollX && !this.isScrollY) {\n        var isReturn = false;\n        this.$emit('onSwipeUp', this.hindex, function () {\n            isReturn = true;\n        });\n        if (isReturn) return;\n    }\n\n    //如果是左右滑动\n    if (this.isScrollX) {\n\n        var duration = +new Date() - this.start.time,\n            deltaX = Math.abs(this.deltaX),\n\n        //如果是首尾\n        isPastBounds = !this.hindex && this.deltaX > 0 || this.hindex == this.pagetotal - 1 && this.deltaX < 0,\n            isValidSlide = Number(duration) < 200 && Math.abs(deltaX) > 30 || Math.abs(deltaX) > this.screenWidth / 6;\n\n        //跟随移动\n        if (!this.fliplock && isValidSlide && !isPastBounds) {\n            if (this.deltaX < 0) {\n                //true:right, false:left\n                this.slideTo('next');\n            } else {\n                this.slideTo('prev');\n            }\n        } else {\n            //反弹\n            this.processorMove({\n                'pageIndex': this.hindex,\n                'direction': this.deltaX > 0 ? 'prev' : 'next',\n                'distance': 0,\n                'speed': 300,\n                'action': 'flipRebound'\n            });\n        }\n    }\n};\n\n/**\r\n * 设置动画完成\r\n * @param {[type]} element [description]\r\n */\nedProto.setAnimComplete = function (element) {\n    this.distributed(element[0]);\n};\n\n/**\r\n * 动画结束后处理\r\n * @param  {[type]} e [description]\r\n * @return {[type]}   [description]\r\n */\nedProto.onAnimComplete = function (e) {\n    var target = e.target,\n        pageType = target.getAttribute('data-pageType'),\n        view = target.getAttribute('data-view'); //操作的可视窗口\n\n    //反弹效果,未翻页\n    if (!view) {\n        if (!pageType) {\n            //只针对母板处理\n            this.$emit('onMasterMove', this.hindex, target);\n        }\n        return;\n    }\n\n    this.distributed(target);\n};\n\n/**\r\n * 派发事件\r\n * @return {[type]} [description]\r\n */\nedProto.distributed = function (element) {\n\n    //针对拖拽翻页阻止\n    this.preventSwipe = true;\n    this.isTouching = false;\n\n    //快速翻页\n    var isQuickTurn = this.isQuickTurn;\n\n    //恢复速率\n    this.resetRate();\n\n    element.removeAttribute('data-view', 'false');\n\n    var slef = this;\n    setTimeout(function () {\n        slef.$emit('onAnimComplete', slef.direction, slef.pagePointer, slef.unlock.bind(slef), isQuickTurn);\n    }, 100);\n};\n\nedProto.lock = function () {\n    this.fliplock = true;\n};\n\n//解锁翻页\nedProto.unlock = function () {\n    this.fliplock = false;\n};\n\n//快速翻页时间计算\nedProto.setRate = function () {\n    this.speedRate = 50 / this.screenWidth;\n    this.isQuickTurn = true;\n};\n\n//复位速率\nedProto.resetRate = function () {\n    this.speedRate = this.originalRate;\n    this.isQuickTurn = false;\n};\n\nedProto.openSwipe = function () {\n    this._bindEvt();\n};\n\nedProto.closeSwipe = function () {\n    this.evtDestroy();\n};\n\n/*********************************************************************\r\n *\r\n *                 页面跳转事件\r\n *                                                         *\r\n **********************************************************************/\n\n//计算当前已经创建的页面索引\nfunction calculationPosition(currIndex, targetIndex, pagetotal) {\n    var i = 0,\n        existpage,\n        createpage,\n        pageIndex,\n        ruleOut = [],\n        create = [],\n        destroy,\n        viewFlip;\n\n    //存在的页面\n    if (currIndex === 0) {\n        existpage = [currIndex, currIndex + 1];\n    } else if (currIndex === pagetotal - 1) {\n        existpage = [currIndex - 1, currIndex];\n    } else {\n        existpage = [currIndex - 1, currIndex, currIndex + 1];\n    }\n\n    //需要创建的新页面\n    if (targetIndex === 0) {\n        createpage = [targetIndex, targetIndex + 1];\n    } else if (targetIndex === pagetotal - 1) {\n        createpage = [targetIndex - 1, targetIndex];\n    } else {\n        createpage = [targetIndex - 1, targetIndex, targetIndex + 1];\n    }\n\n    for (; i < createpage.length; i++) {\n        pageIndex = createpage[i];\n        //跳过存在的页面\n        if (-1 === existpage.indexOf(pageIndex)) {\n            //创建目标的页面\n            create.push(pageIndex);\n        } else {\n            //排除已存在的页面\n            ruleOut.push(pageIndex);\n        }\n    }\n\n    _.each(ruleOut, function (ruleOutIndex) {\n        existpage.splice(existpage.indexOf(ruleOutIndex), 1);\n    });\n\n    destroy = existpage;\n\n    viewFlip = [].concat(create).concat(ruleOut).sort(function (a, b) {\n        return a - b;\n    });\n\n    return {\n        'create': create,\n        'ruleOut': ruleOut,\n        'destroy': destroy,\n        'viewFlip': viewFlip,\n        'targetIndex': targetIndex,\n        'currIndex': currIndex\n    };\n}\n\nedProto.scrollToPage = function (targetIndex, preMode, complete) {\n    //目标页面\n\n    //如果还在翻页中\n    if (this.fliplock) return;\n\n    var data;\n    var currIndex = this.hindex; //当前页面\n\n    switch (targetIndex) {\n        //前一页\n        case currIndex - 1:\n            if (this.multiplePages) {\n                return this.prev();\n            }\n            break;\n        //首页\n        case currIndex:\n            if (currIndex == 0) {\n                this.$emit('onDropApp');\n            }\n            return;\n        //后一页\n        case currIndex + 1:\n            if (this.multiplePages) {\n                return this.next();\n            }\n            break;\n    }\n\n    //算出是相关数据\n    data = calculationPosition(currIndex, targetIndex, this.pagetotal);\n\n    //更新页码索引\n    this.updataPointer(data);\n\n    data.pagePointer = this.pagePointer;\n\n    this.$emit('onJumpPage', data);\n};\n\n/**\r\n * 事件处理\r\n * @param  {[type]} e [description]\r\n * @return {[type]}   [description]\r\n */\nedProto.handleEvent = function (e) {\n    Xut.plat.handleEvent({\n        start: function start(e) {\n            this.onTouchStart(e);\n        },\n        move: function move(e) {\n            this.onTouchMove(e);\n        },\n        end: function end(e) {\n            this.onTouchEnd(e);\n        },\n        transitionend: function transitionend(e) {\n            this.onAnimComplete(e);\n        }\n    }, this, e);\n};\n\n/**\r\n * 绑定事件\r\n * @return {[type]} [description]\r\n */\nedProto._bindEvt = function () {\n    var self = this;\n    //pageFlip启动，没有滑动处理\n    if (this.pageFlip) {\n        Xut.plat.execEvent('on', {\n            context: this.element,\n            callback: {\n                start: this,\n                end: this,\n                transitionend: this\n            }\n        });\n    } else if (this.multiplePages) {\n        Xut.plat.execEvent('on', {\n            context: this.element,\n            callback: {\n                start: this,\n                move: this,\n                end: this,\n                transitionend: this\n            }\n        });\n    } else {\n        Xut.plat.execEvent('on', {\n            context: this.element,\n            callback: {\n                start: this,\n                end: this\n            }\n        });\n    }\n};\n\n/**\r\n * 销毁事件\r\n * @return {[type]} [description]\r\n */\nedProto.evtDestroy = function () {\n    var self = this;\n    Xut.plat.execEvent('off', {\n        context: this.element,\n        callback: {\n            start: this,\n            move: this,\n            end: this,\n            transitionend: this\n        }\n    });\n};\n\n/**\r\n * 销毁所有\r\n * @return {[type]} [description]\r\n */\nedProto.destroy = function () {\n    this.evtDestroy();\n    this.$off();\n    this.bubbleNode.page = null;\n    this.bubbleNode.master = null;\n    this.element = null;\n};\n\n/**\r\n * 扩充事件\r\n */\n_observe.observe.call(GlobalEvent.prototype);\n\nexports.GlobalEvent = GlobalEvent;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvZ2xvYmFsZXZlbnQuanM/Nzk5NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7OztBQU1BLFNBQVMsV0FBVCxDQUFxQixJQUFyQixFQUEyQixTQUEzQixFQUFzQztBQUNsQyxRQUFJLFlBQVksQ0FBaEI7UUFDSSxjQUFjLEVBRGxCOztBQUdBLFFBQUksU0FBUyxTQUFiLEVBQXdCOztBQUNwQixvQkFBWSxXQUFaLElBQTJCLElBQTNCO0FBQ0Esb0JBQVksWUFBWixJQUE0QixPQUFPLENBQW5DO0FBQ0gsS0FIRCxNQUdPLElBQUksU0FBUyxZQUFZLENBQXpCLEVBQTRCOztBQUMvQixvQkFBWSxXQUFaLElBQTJCLElBQTNCO0FBQ0Esb0JBQVksV0FBWixJQUEyQixPQUFPLENBQWxDO0FBQ0gsS0FITSxNQUdBOztBQUNILG9CQUFZLFdBQVosSUFBMkIsT0FBTyxDQUFsQztBQUNBLG9CQUFZLFdBQVosSUFBMkIsSUFBM0I7QUFDQSxvQkFBWSxZQUFaLElBQTRCLE9BQU8sQ0FBbkM7QUFDSDs7QUFFRCxXQUFPLFdBQVA7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEJELFNBQVMsV0FBVCxDQUFxQixPQUFyQixFQUE4QixNQUE5QixFQUFzQzs7QUFFckMsWUFBUSxNQUFSLEdBQWlCLFFBQVEsU0FBekI7O0FBRUEsU0FBSyxXQUFMLEdBQW1CLE9BQU8sVUFBUCxDQUFrQixLQUFyQzs7QUFFQSxNQUFFLE1BQUYsQ0FBUyxJQUFULEVBQWUsT0FBZjs7O0FBR0csU0FBSyxPQUFMLEdBQWUsUUFBUSxTQUF2Qjs7Ozs7O0FBTUEsU0FBSyxLQUFMLEdBQWEsUUFBUSxRQUFSLEdBQW1CLENBQW5CLEdBQXVCLEdBQXBDOzs7Ozs7QUFNQSxTQUFLLFVBQUwsR0FBa0IsR0FBbEI7Ozs7OztBQU9BLFNBQUssU0FBTCxHQUFpQixLQUFLLFlBQUwsR0FBb0IsS0FBSyxLQUFMLEdBQWEsS0FB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QUFLLE9BRE87QUFFckIsc0JBQVU7QUFDTix1QkFBTyxJQUREO0FBRU4sc0JBQU0sSUFGQTtBQUdOLHFCQUFLLElBSEM7QUFJTiwrQkFBZTtBQUpUO0FBRlcsU0FBekI7QUFTSCxLQVZNLE1BVUE7QUFDSCxZQUFJLElBQUosQ0FBUyxTQUFULENBQW1CLElBQW5CLEVBQXlCO0FBQ3JCLHFCQUFTLEtBQUssT0FETztBQUVyQixzQkFBVTtBQUNOLHVCQUFPLElBREQ7QUFFTixxQkFBSztBQUZDO0FBRlcsU0FBekI7QUFPSDtBQUNKLENBL0JEOzs7Ozs7QUFxQ0EsUUFBUSxVQUFSLEdBQXFCLFlBQVc7QUFDNUIsUUFBSSxPQUFPLElBQVg7QUFDQSxRQUFJLElBQUosQ0FBUyxTQUFULENBQW1CLEtBQW5CLEVBQTBCO0FBQ3RCLGlCQUFTLEtBQUssT0FEUTtBQUV0QixrQkFBVTtBQUNOLG1CQUFPLElBREQ7QUFFTixrQkFBTSxJQUZBO0FBR04saUJBQUssSUFIQztBQUlOLDJCQUFlO0FBSlQ7QUFGWSxLQUExQjtBQVNILENBWEQ7Ozs7OztBQWtCQSxRQUFRLE9BQVIsR0FBa0IsWUFBVztBQUN6QixTQUFLLFVBQUw7QUFDQSxTQUFLLElBQUw7QUFDQSxTQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsR0FBdUIsSUFBdkI7QUFDQSxTQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsR0FBeUIsSUFBekI7QUFDQSxTQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0gsQ0FORDs7Ozs7QUFXQSxpQkFBUSxJQUFSLENBQWEsWUFBWSxTQUF6Qjs7UUFHUyxXLEdBQUEsVyIsImZpbGUiOiI2Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vLyDop4Llr59cclxuaW1wb3J0IHtvYnNlcnZlfSBmcm9tICcuLi9vYnNlcnZlci9vYnNlcnZlJ1xyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMlummluasoeiMg+WbtFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGluaXRQb2ludGVyKGluaXQsIHBhZ2V0b3RhbCkge1xyXG4gICAgdmFyIGxlZnRzY29wZSA9IDAsXHJcbiAgICAgICAgcGFnZVBvaW50ZXIgPSB7fTtcclxuXHJcbiAgICBpZiAoaW5pdCA9PT0gbGVmdHNjb3BlKSB7IC8v6aaW6aG1XHJcbiAgICAgICAgcGFnZVBvaW50ZXJbJ2N1cnJJbmRleCddID0gaW5pdDtcclxuICAgICAgICBwYWdlUG9pbnRlclsncmlnaHRJbmRleCddID0gaW5pdCArIDE7XHJcbiAgICB9IGVsc2UgaWYgKGluaXQgPT09IHBhZ2V0b3RhbCAtIDEpIHsgLy/pppbpobVcclxuICAgICAgICBwYWdlUG9pbnRlclsnY3VyckluZGV4J10gPSBpbml0O1xyXG4gICAgICAgIHBhZ2VQb2ludGVyWydsZWZ0SW5kZXgnXSA9IGluaXQgLSAxO1xyXG4gICAgfSBlbHNlIHsgLy/kuK3pl7TpobVcclxuICAgICAgICBwYWdlUG9pbnRlclsnbGVmdEluZGV4J10gPSBpbml0IC0gMTtcclxuICAgICAgICBwYWdlUG9pbnRlclsnY3VyckluZGV4J10gPSBpbml0O1xyXG4gICAgICAgIHBhZ2VQb2ludGVyWydyaWdodEluZGV4J10gPSBpbml0ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFnZVBvaW50ZXI7XHJcbn1cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy8gICAg6Ieq5a6a5LmJ5LqL5Lu257G75Z6LXHJcbi8vXHJcbi8vIC8v6Kem5bGP54K55Ye7XHJcbi8vICdvblN3aXBlRG93bicsXHJcbi8vIC8v6Kem5bGP56e75YqoXHJcbi8vICdvblN3aXBlTW92ZScsXHJcbi8vIC8v6Kem5bGP5p2+5omLXHJcbi8vICdvblN3aXBlVXAnLFxyXG4vLyAvL+inpuWxj+advuaJiyDmu5HliqjlpITnkIZcclxuLy8gJ29uU3dpcGVVcFNsaWRlcicsXHJcbi8vIC8v5p2+5omL5Yqo55S777yI5Y+N5by577yJXHJcbi8vICdvbkZsaXBTbGlkaW5nJyxcclxuLy8gLy/miafooYzlj43lvLlcclxuLy8gJ29uRmxpcFJlYm91bmQnLFxyXG4vLyAvL+WKqOeUu+WujOaIkFxyXG4vLyAnb25BbmltQ29tcGxldGUnLFxyXG4vLyAvL+mAgOWHuuW6lOeUqFxyXG4vLyAnb25Ecm9wQXBwJ1xyXG5cclxuLy9lbGVtZW50ICAg5qC55a655Zmo5YWD57SgXHJcbi8vcGFnZUluZGV4IOmhtemdoue0ouW8lVxyXG5mdW5jdGlvbiBHbG9iYWxFdmVudChvcHRpb25zLCBjb25maWcpIHtcclxuXHJcblx0b3B0aW9ucy5oaW5kZXggPSBvcHRpb25zLmluaXRJbmRleDtcclxuXHJcblx0dGhpcy5zY3JlZW5XaWR0aCA9IGNvbmZpZy5zY3JlZW5TaXplLndpZHRoO1xyXG5cclxuXHRfLmV4dGVuZCh0aGlzLCBvcHRpb25zKTtcclxuXHJcbiAgICAvLyB0aGlzLmVsZW1lbnQgPSBvcHRpb25zLnJvb3RQYWdlO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gb3B0aW9ucy5jb250YWluZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnv7vpobXml7bpl7RcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuc3BlZWQgPSBvcHRpb25zLnBhZ2VGbGlwID8gMCA6IDUwMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe/u+mhtemAn+eOh1xyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5jbGlja1NwZWVkID0gNjAwO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAn+eOh1xyXG4gICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAqL1xyXG4gICAgdGhpcy5zcGVlZFJhdGUgPSB0aGlzLm9yaWdpbmFsUmF0ZSA9IHRoaXMuc3BlZWQgLyB0aGlzLnNjcmVlbldpZHRoO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+WIneWni+WMlumhteeggVxyXG4gICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAqL1xyXG4gICAgdGhpcy5wYWdlUG9pbnRlciA9IGluaXRQb2ludGVyKG9wdGlvbnMuaGluZGV4LCBvcHRpb25zLnBhZ2V0b3RhbCk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW57uR5a6a5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIGlmICghdGhpcy5wcnZlSW5kZXgpIHtcclxuICAgICAgICB0aGlzLnBydmVJbmRleCA9IHRoaXMuaGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vaWJvb2tz5LiN57uR5a6a5YWo5bGA5LqL5Lu2XHJcbiAgICAvLyBpZiAoIVh1dC5JQm9va3MucnVuTW9kZSgpKSB7XHJcbiAgICB0aGlzLl9iaW5kRXZ0KCk7XHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8v55So5LqO5p+l5om+6Lef5YWD57SgXHJcbiAgICB2YXIgdWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndWwnKTtcclxuICAgIHRoaXMuYnViYmxlTm9kZSA9IHtcclxuICAgICAgICBwYWdlOiB1bFswXSxcclxuICAgICAgICBtYXN0ZXI6IHVsWzFdXHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbnZhciBlZFByb3RvID0gR2xvYmFsRXZlbnQucHJvdG90eXBlO1xyXG5cclxuLyoqXHJcbiAqIOmmluS9jei2iueVjOWkhOeQhu+8jOS4jeWPjeW8uVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRlbHRhWCBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmVkUHJvdG8ub3ZlcnN0ZXAgPSBmdW5jdGlvbihkZWx0YVgpIHtcclxuICAgIC8v6aaW6aG1LOW5tuS4lOaYr+W3pua7keWKqFxyXG4gICAgaWYgKHRoaXMuaGluZGV4ID09PSAwICYmIGRlbHRhWCA+IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAvL+WwvumhtVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLmhpbmRleCA9PT0gdGhpcy5wYWdldG90YWwgLSAxICYmIGRlbHRhWCA8IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWJjee/u+mhteaOpeWPo1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmVkUHJvdG8ucHJldiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLm92ZXJzdGVwKDEpKSB7XHJcbiAgICAgICAgdGhpcy5zbGlkZVRvKCdwcmV2Jyk7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICog5ZCO57+76aG15o6l5Y+jXHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLm5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5vdmVyc3RlcCgtMSkpIHtcclxuICAgICAgICB0aGlzLnNsaWRlVG8oJ25leHQnKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOajgOi9puaYr+WQpui/mOWcqOenu+WKqOS4rVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLmlzTW92ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmxpcGxvY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmK/lkKbkuLrovrnnlYxcclxuICogQHBhcmFtICB7W3R5cGVdfSAgZGlzdGFuY2UgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLmlzQm9yZGVyID0gZnVuY3Rpb24oZGlzdGFuY2UpIHtcclxuICAgIC8v6LW354K55bem5YGP56e7XHJcbiAgICBpZiAodGhpcy5oaW5kZXggPT09IDAgJiYgZGlzdGFuY2UgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvL+e7iOeCueWPs+WBj+enu1xyXG4gICAgaWYgKHRoaXMuaGluZGV4ID09PSAodGhpcy5wYWdldG90YWwgLSAxKSAmJiBkaXN0YW5jZSA8IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog55uu5qCH5YWD57SgXHJcbiAqIOaJvuWIsGxp5YWD57SgXHJcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLmZpbmRSb290RWxlbWVudCA9IGZ1bmN0aW9uKHBvaW50LCBwYWdlVHlwZSkge1xyXG4gICAgdmFyIGxpTm9kZSwgbWFwLFxyXG4gICAgICAgIGhpbmRleCA9IHRoaXMuaGluZGV4LFxyXG4gICAgICAgIHNlY3Rpb25SYW5nID0gdGhpcy5zZWN0aW9uUmFuZyxcclxuICAgICAgICAvL+aJvuWIsOWvueW6lOeahGxpXHJcbiAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuYnViYmxlTm9kZVtwYWdlVHlwZV0uY2hpbGROb2RlcyxcclxuICAgICAgICBudW1Ob2RlcyA9IGNoaWxkTm9kZXMubGVuZ3RoO1xyXG5cclxuICAgIHdoaWxlIChudW1Ob2Rlcy0tKSB7XHJcbiAgICAgICAgbGlOb2RlID0gY2hpbGROb2Rlc1tudW1Ob2Rlc107XHJcbiAgICAgICAgbWFwID0gbGlOb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1tYXAnKTtcclxuICAgICAgICBpZiAoc2VjdGlvblJhbmcpIHtcclxuICAgICAgICAgICAgaGluZGV4ICs9IHNlY3Rpb25SYW5nLnN0YXJ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWFwID09IGhpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlOb2RlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhpbmRleCA9IHRoaXMuaGluZGV4O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5rqi5Ye65o6n5Yi2XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGlyZWN0aW9uIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5zY29wZVBvaW50ZXIgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcclxuICAgIHZhciBvdmVyZmxvdyxcclxuICAgICAgICBwb2ludGVyID0gdGhpcy5wYWdlUG9pbnRlcixcclxuICAgICAgICBmaWxsZW5ndGggPSBPYmplY3Qua2V5cyhwb2ludGVyKS5sZW5ndGg7XHJcblxyXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgICBjYXNlICdwcmV2JzogLy/liY3nv7vpobVcclxuICAgICAgICAgICAgb3ZlcmZsb3cgPSAocG9pbnRlci5jdXJySW5kZXggPT09IDAgJiYgZmlsbGVuZ3RoID09PSAyKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbmV4dCc6IC8v5ZCO57+76aG1XHJcbiAgICAgICAgICAgIG92ZXJmbG93ID0gKHBvaW50ZXIuY3VyckluZGV4ID09PSAodGhpcy5wYWdldG90YWwgLSAxKSAmJiBmaWxsZW5ndGggPT09IDIpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBvaW50ZXI6IHBvaW50ZXIsXHJcbiAgICAgICAgb3ZlcmZsb3c6IG92ZXJmbG93IC8v5piv5ZCm5rqi5Ye6XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6L2s5o2i6aG156CB57Si5byVXHJcbi8vZGlyZWN0aW9uIOaWueWQkVxyXG4vL3BvaW50ZXIg5b2T5YmN6aG156CB5qCH56S6XHJcbi8vWzE3IDE4IDE5XSAgcGFnZVBvaW50ZXJcclxuLy9bMTggMTkgMjBdICDovazmjaLlkI5cclxuLy8gMTcg6ZSA5q+BXHJcbi8vIDIwIOWIm+W7ulxyXG5lZFByb3RvLnNoaWZ0UG9pbnRlciA9IGZ1bmN0aW9uKHBvaW50ZXIpIHtcclxuICAgIHZhciBjcmVhdGVQb2ludGVyLCAvL+WIm+W7uueahOmhtVxyXG4gICAgICAgIGRlc3Ryb3lQb2ludGVyOyAvL+mUgOavgeeahOmhtVxyXG5cclxuICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcclxuICAgICAgICBjYXNlICdwcmV2JzogLy/liY3lpITnkIZcclxuICAgICAgICAgICAgY3JlYXRlUG9pbnRlciA9IChwb2ludGVyLmxlZnRJbmRleCAtIDEpO1xyXG4gICAgICAgICAgICBkZXN0cm95UG9pbnRlciA9IChwb2ludGVyLnJpZ2h0SW5kZXgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICduZXh0JzogLy/lkI7lpITnkIZcclxuICAgICAgICAgICAgY3JlYXRlUG9pbnRlciA9IChwb2ludGVyLnJpZ2h0SW5kZXggKyAxKTtcclxuICAgICAgICAgICAgZGVzdHJveVBvaW50ZXIgPSAocG9pbnRlci5sZWZ0SW5kZXgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBwb2ludGVyWydjcmVhdGVQb2ludGVyJ10gPSBjcmVhdGVQb2ludGVyO1xyXG4gICAgcG9pbnRlclsnZGVzdHJveVBvaW50ZXInXSA9IGRlc3Ryb3lQb2ludGVyO1xyXG5cclxuICAgIHJldHVybiBwb2ludGVyO1xyXG59XHJcblxyXG4vL+S/ruato+mhteeggeaMh+ekulxyXG5lZFByb3RvLnJldmlzZWRGaWxwUG9pbnRlciA9IGZ1bmN0aW9uKHBvaW50ZXIpIHtcclxuXHJcbiAgICAvL+mcgOimgeWBnOatouWKqOS9nOeahOmhtemdoue0ouW8lVxyXG4gICAgdmFyIHN0b3BQb2ludGVyID0gcG9pbnRlci5jdXJySW5kZXg7XHJcblxyXG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xyXG4gICAgICAgIGNhc2UgJ3ByZXYnOiAvL+WJjeWkhOeQhlxyXG4gICAgICAgICAgICBpZiAoLTEgPCBwb2ludGVyLmNyZWF0ZVBvaW50ZXIpIHsgLy/pppbpobXmg4XlhrVcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRhUG9pbnRlcihwb2ludGVyLmNyZWF0ZVBvaW50ZXIsIHBvaW50ZXIubGVmdEluZGV4LCBwb2ludGVyLmN1cnJJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKC0xID09PSBwb2ludGVyLmNyZWF0ZVBvaW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVBvaW50ZXJbJ3JpZ2h0SW5kZXgnXSA9IHBvaW50ZXIuY3VyckluZGV4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlUG9pbnRlclsnY3VyckluZGV4J10gPSBwb2ludGVyLmxlZnRJbmRleDtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhZ2VQb2ludGVyWydsZWZ0SW5kZXgnXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICduZXh0JzogLy/lkI7lpITnkIZcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFnZXRvdGFsID4gcG9pbnRlci5jcmVhdGVQb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0YVBvaW50ZXIocG9pbnRlci5jdXJySW5kZXgsIHBvaW50ZXIucmlnaHRJbmRleCwgcG9pbnRlci5jcmVhdGVQb2ludGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYWdldG90YWwgPT09IHBvaW50ZXIuY3JlYXRlUG9pbnRlcikgeyAvL+WmguaenOaYr+WwvumhtVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlUG9pbnRlclsnbGVmdEluZGV4J10gPSBwb2ludGVyLmN1cnJJbmRleDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVBvaW50ZXJbJ2N1cnJJbmRleCddID0gcG9pbnRlci5yaWdodEluZGV4O1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFnZVBvaW50ZXJbJ3JpZ2h0SW5kZXgnXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBhZ2VQb2ludGVyWydjcmVhdGVQb2ludGVyJ10gPSBwb2ludGVyLmNyZWF0ZVBvaW50ZXI7XHJcbiAgICB0aGlzLnBhZ2VQb2ludGVyWydkZXN0cm95UG9pbnRlciddID0gcG9pbnRlci5kZXN0cm95UG9pbnRlcjtcclxuICAgIHRoaXMucGFnZVBvaW50ZXJbJ3N0b3BQb2ludGVyJ10gPSBzdG9wUG9pbnRlcjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5wYWdlUG9pbnRlcjtcclxufVxyXG5cclxuLy/mm7TmlrDpobXnoIHmoIfnpLpcclxuZWRQcm90by51cGRhdGFQb2ludGVyID0gZnVuY3Rpb24obGVmdEluZGV4LCBjdXJySW5kZXgsIHJpZ2h0SW5kZXgpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlUG9pbnRlciA9IHtcclxuICAgICAgICAgICAgJ2xlZnRJbmRleCc6IGxlZnRJbmRleCxcclxuICAgICAgICAgICAgJ2N1cnJJbmRleCc6IGN1cnJJbmRleCxcclxuICAgICAgICAgICAgJ3JpZ2h0SW5kZXgnOiByaWdodEluZGV4XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gbGVmdEluZGV4O1xyXG4gICAgICAgIHZhciB2aWV3RmxpcCA9IGRhdGFbJ3ZpZXdGbGlwJ107XHJcblxyXG4gICAgICAgIHRoaXMuZml4SGluZGV4KGRhdGEudGFyZ2V0SW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAodmlld0ZsaXAubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRhUG9pbnRlcih2aWV3RmxpcFswXSwgdmlld0ZsaXBbMV0sIHZpZXdGbGlwWzJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZXdGbGlwLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICBpZiAodmlld0ZsaXBbMF0gPT09IDApIHsgLy/pppbpobVcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVBvaW50ZXJbJ3JpZ2h0SW5kZXgnXSA9IHZpZXdGbGlwWzFdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlUG9pbnRlclsnY3VyckluZGV4J10gPSB2aWV3RmxpcFswXTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhZ2VQb2ludGVyWydsZWZ0SW5kZXgnXTtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy/lsL7pobVcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVBvaW50ZXJbJ2xlZnRJbmRleCddID0gdmlld0ZsaXBbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VQb2ludGVyWydjdXJySW5kZXgnXSA9IHZpZXdGbGlwWzFdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFnZVBvaW50ZXJbJ3JpZ2h0SW5kZXgnXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vL+S/ruato+mhtemdoue0ouW8lVxyXG5lZFByb3RvLmZpeEhpbmRleCA9IGZ1bmN0aW9uKGN1cnJJbmRleCkge1xyXG4gICAgdGhpcy5oaW5kZXggPSBjdXJySW5kZXg7IC8v57+76aG157Si5byVXHJcbn1cclxuXHJcbmVkUHJvdG8uc2xpZGVUbyA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xyXG4gICAgdmFyIHJlc29sdmU7XHJcbiAgICAvL+WmguaenOWcqOW/meeijOeKtuaAgSzlpoLmnpznv7vpobXov5jmsqHlrozmr5VcclxuICAgIGlmIChYdXQuYnVzeUJhclN0YXRlIHx8IHRoaXMuZmxpcGxvY2spIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9O1xyXG4gICAgcmVzb2x2ZSA9IHRoaXMuc2NvcGVQb2ludGVyKGRpcmVjdGlvbik7XHJcbiAgICBpZiAocmVzb2x2ZS5vdmVyZmxvdykgcmV0dXJuO1xyXG4gICAgdGhpcy5zdGFydEFuaW1UbyhyZXNvbHZlLnBvaW50ZXIsIGRpcmVjdGlvbik7XHJcbn1cclxuXHJcbmVkUHJvdG8uc3RhcnRBbmltVG8gPSBmdW5jdGlvbihwb2ludGVyLCBkaXJlY3Rpb24pIHtcclxuICAgIHRoaXMuZmxpcGxvY2sgPSB0cnVlO1xyXG4gICAgdGhpcy5wcnZlSGluZGV4ID0gdGhpcy5oaW5kZXg7XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgIHRoaXMuanVkZ2VRdWlja1R1cm4oKTtcclxuICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIHRoaXMubmV4dFJ1bihwb2ludGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wcmVSdW4ocG9pbnRlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL+S4iue/u+mhtVxyXG5lZFByb3RvLnByZVJ1biA9IGZ1bmN0aW9uKHBvaW50ZXIpIHtcclxuICAgIHZhciBwb2ludGVycywgbWUgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXYoKSB7XHJcbiAgICAgICAgcG9pbnRlcnMgPSBtZS5zaGlmdFBvaW50ZXIocG9pbnRlcik7XHJcbiAgICAgICAgcG9pbnRlcnMgPSBtZS5yZXZpc2VkRmlscFBvaW50ZXIocG9pbnRlcnMpO1xyXG4gICAgICAgIG1lLnNsaWRlclN0b3AocG9pbnRlcnMpO1xyXG4gICAgICAgIG1lLmZpeEhpbmRleChwb2ludGVycy5jdXJySW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJvY2Vzc29yTW92ZSh7XHJcbiAgICAgICAgJ3BhZ2VJbmRleCc6IHRoaXMuaGluZGV4LFxyXG4gICAgICAgICdzcGVlZCc6IHRoaXMuY2FsY3VsYXRlc3BlZWQoKSxcclxuICAgICAgICAnZGlzdGFuY2UnOiAwLFxyXG4gICAgICAgICdkaXJlY3Rpb24nOiB0aGlzLmRpcmVjdGlvbixcclxuICAgICAgICAnYWN0aW9uJzogJ2ZsaXBPdmVyJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/liqjnlLvmiafooYxcclxuICAgIHNldFRpbWVvdXQoY3JlYXRlUHJldik7XHJcbn1cclxuXHJcbi8v5LiL57+76aG1XHJcbmVkUHJvdG8ubmV4dFJ1biA9IGZ1bmN0aW9uKHBvaW50ZXIpIHtcclxuICAgIHZhciBwb2ludGVycywgbWUgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5leHQoKSB7XHJcbiAgICAgICAgcG9pbnRlcnMgPSBtZS5zaGlmdFBvaW50ZXIocG9pbnRlcik7XHJcbiAgICAgICAgcG9pbnRlcnMgPSBtZS5yZXZpc2VkRmlscFBvaW50ZXIocG9pbnRlcnMpO1xyXG4gICAgICAgIG1lLnNsaWRlclN0b3AocG9pbnRlcnMpO1xyXG4gICAgICAgIG1lLmZpeEhpbmRleChwb2ludGVycy5jdXJySW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJvY2Vzc29yTW92ZSh7XHJcbiAgICAgICAgJ3BhZ2VJbmRleCc6IHRoaXMuaGluZGV4LFxyXG4gICAgICAgICdzcGVlZCc6IHRoaXMuY2FsY3VsYXRlc3BlZWQoKSxcclxuICAgICAgICAnZGlzdGFuY2UnOiAwLFxyXG4gICAgICAgICdkaXJlY3Rpb24nOiB0aGlzLmRpcmVjdGlvbixcclxuICAgICAgICAnYWN0aW9uJzogJ2ZsaXBPdmVyJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/liqjnlLvmiafooYxcclxuICAgIHNldFRpbWVvdXQoY3JlYXRlTmV4dCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5b+r6YCf57+76aG1XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5qdWRnZVF1aWNrVHVybiA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBzdGFydERhdGUgPSArbmV3IERhdGUoKTtcclxuXHJcbiAgICBpZiAodGhpcy5wcmVDbGlja1RpbWUpIHtcclxuICAgICAgICBpZiAoc3RhcnREYXRlIC0gdGhpcy5wcmVDbGlja1RpbWUgPCB0aGlzLmNsaWNrU3BlZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRSYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJlQ2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6K6h566X5ruR5Yqo6YCf5bqmXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5jYWxjdWxhdGVzcGVlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLnNjcmVlbldpZHRoIC0gKE1hdGguYWJzKHRoaXMuZGVsdGFYKSkpICogdGhpcy5zcGVlZFJhdGUgfHwgdGhpcy5zcGVlZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWkhOeQhuadvuaJi+WQjua7keWKqFxyXG4gKiBwYWdlSW5kZXgg6aG16Z2iXHJcbiAqIGRpc3RhbmNlICDnp7vliqjot53nprtcclxuICogc3BlZWQgICAgIOaXtumXtFxyXG4gKiB2aWV3VGFnICAg5Y+v5L2/5Yy65qCH6K6wXHJcbiAqIGZvbGxvdyAgICDmmK/lkKbkuLrot5/pmo/mu5HliqhcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLnByb2Nlc3Nvck1vdmUgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB2YXIgcGFnZVBvaW50ZXIgPSB0aGlzLnBhZ2VQb2ludGVyO1xyXG4gICAgZGF0YS5sZWZ0SW5kZXggPSBwYWdlUG9pbnRlci5sZWZ0SW5kZXg7XHJcbiAgICBkYXRhLnJpZ2h0SW5kZXggPSBwYWdlUG9pbnRlci5yaWdodEluZGV4O1xyXG4gICAgdGhpcy4kZW1pdCgnb25Td2lwZU1vdmUnLCBkYXRhKVxyXG59XHJcblxyXG4vKipcclxuICog5ruR5Yqo5LqL5Lu25rS+5Y+R5aSE55CGXHJcbiAqIOWBnOatouWKqOeUuyzop4bpopEg6Z+z6aKRXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5zbGlkZXJTdG9wID0gZnVuY3Rpb24ocG9pbnRlcnMpIHtcclxuICAgIHRoaXMuJGVtaXQoJ29uU3dpcGVVcFNsaWRlcicsIHBvaW50ZXJzKTtcclxufVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgICAgICAgICAgICAgICAg6aG16Z2i5Lqk5LqSXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiDlhbzlrrnkuovku7blr7nosaFcclxuICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNvbXBhdGliaWxpdHlFdmVudChlKSB7XHJcbiAgICB2YXIgcG9pbnQ7XHJcbiAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlc1swXSkge1xyXG4gICAgICAgIHBvaW50ID0gZS50b3VjaGVzWzBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb2ludCA9IGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9pbnRcclxufVxyXG5cclxuXHJcbmVkUHJvdG8ub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZSkge1xyXG5cclxuICAgIHZhciBpbnRlcnJ1cHQsXHJcbiAgICAgICAgcG9pbnQgPSBjb21wYXRpYmlsaXR5RXZlbnQoZSk7XHJcblxyXG4gICAgaWYgKCFwb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpbnRlcnJ1cHQgPSB0aGlzLnByZXZlbnRTd2lwZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bop4Llr5/lr7nosaFcclxuICAgICAqIOmSqeWtkOWHveaVsFxyXG4gICAgICogcG9pbnQg5LqL5Lu25a+56LGhXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgdGhpcy4kZW1pdCgnZmlsdGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW50ZXJydXB0ID0gdHJ1ZTtcclxuICAgIH0sIHBvaW50LCBlKVxyXG5cclxuXHJcbiAgICAvL+aJk+aWreWKqOS9nFxyXG4gICAgaWYgKGludGVycnVwdCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZGVsdGFYID0gMDtcclxuICAgIHRoaXMuZGVsdGFZID0gMDtcclxuICAgIHRoaXMucHJldmVudFN3aXBlID0gZmFsc2UsIC8v5piv5ZCm5ruR5Yqo5LqL5Lu25Y+X6ZmQXHJcbiAgICAgICAgdGhpcy5pc292ZXJzdGVwID0gZmFsc2U7IC8v5piv5ZCm6L6555WM5rqi5Ye6XHJcbiAgICB0aGlzLmlzU2Nyb2xsWCA9IGZhbHNlOyAvL+aYr+WQpuS4uljovbTmu5HliqhcclxuICAgIHRoaXMuaXNTY3JvbGxZID0gZmFsc2U7IC8v5piv5ZCm5Li6Wei9tOa7keWKqFxyXG4gICAgdGhpcy5pc1RvdWNoaW5nID0gdHJ1ZTsgLy/ngrnlh7vkuoblsY/luZVcclxuXHJcbiAgICB0aGlzLnN0YXJ0ID0ge1xyXG4gICAgICAgIHBhZ2VYOiBwb2ludC5wYWdlWCxcclxuICAgICAgICBwYWdlWTogcG9pbnQucGFnZVksXHJcbiAgICAgICAgdGltZTogKCtuZXcgRGF0ZSgpKVxyXG4gICAgfTtcclxufVxyXG5cclxuZWRQcm90by5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAvL+WmguaenOayoeacieeCueWHu1xyXG4gICAgLy/miJbmmK9Z6L205ruR5YqoXHJcbiAgICAvL+aIluiAheaYr+mYu+atoua7keWKqFxyXG4gICAgaWYgKCF0aGlzLmlzVG91Y2hpbmcgfHwgdGhpcy5pc1Njcm9sbFkgfHwgdGhpcy5wcmV2ZW50U3dpcGUpIHJldHVybjtcclxuXHJcbiAgICB2YXIgcG9pbnQgPSBjb21wYXRpYmlsaXR5RXZlbnQoZSksXHJcbiAgICAgICAgZGVsdGFYID0gcG9pbnQucGFnZVggLSB0aGlzLnN0YXJ0LnBhZ2VYLFxyXG4gICAgICAgIGRlbHRhWSA9IHBvaW50LnBhZ2VZIC0gdGhpcy5zdGFydC5wYWdlWSxcclxuICAgICAgICBhYnNEZWx0YVggPSBNYXRoLmFicyhkZWx0YVgpLFxyXG4gICAgICAgIGFic0RlbHRhWSA9IE1hdGguYWJzKGRlbHRhWSk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlzU2Nyb2xsWSkge1xyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09Wei9tOa7keWKqD09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvL1xyXG4gICAgICAgIGlmIChhYnNEZWx0YVkgPiBhYnNEZWx0YVgpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbFkgPSB0cnVlOyAvL+S4ulnovbTmu5HliqhcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PVjovbTmu5Hliqg9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLy/otornlYzlpITnkIZcclxuICAgIGlmICh0aGlzLmlzb3ZlcnN0ZXAgPSB0aGlzLm92ZXJzdGVwKGRlbHRhWCkpIHJldHVybjtcclxuXHJcbiAgICAvL+mYsuatoua7muWKqFxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHRoaXMuZGVsdGFYID0gZGVsdGFYIC8gKCghdGhpcy5oaW5kZXggJiYgZGVsdGFYID4gMCAvLyDlnKjpppbpobVcclxuICAgICAgICAgICAgfHwgdGhpcy5oaW5kZXggPT0gdGhpcy5wYWdldG90YWwgLSAxIC8vIOWwvumhtVxyXG4gICAgICAgICAgICAmJiBkZWx0YVggPCAwIC8vIOS4remXtFxyXG4gICAgICAgICkgP1xyXG4gICAgICAgIChhYnNEZWx0YVggLyB0aGlzLnNjcmVlbldpZHRoICsgMSkgOiAxKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNTY3JvbGxYICYmIHRoaXMuZGVsdGFYKSB7XHJcbiAgICAgICAgdGhpcy5pc1Njcm9sbFggPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8v566X5LiA5qyh5pyJ5pWI55qE5ruR5YqoXHJcbiAgICBpZiAoYWJzRGVsdGFYIDw9IDI1KSByZXR1cm47XHJcblxyXG4gICAgdmFyIGRlbGF5WCA9IDA7XHJcblxyXG4gICAgaWYgKHRoaXMuZGVsdGFYIDwgMCkge1xyXG4gICAgICAgIGRlbGF5WCA9IDIwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkZWxheVggPSAoLTIwKTtcclxuICAgIH1cclxuXHJcbiAgICAhdGhpcy5mbGlwbG9jayAmJiB0aGlzLnByb2Nlc3Nvck1vdmUoe1xyXG4gICAgICAgICdwYWdlSW5kZXgnOiB0aGlzLmhpbmRleCxcclxuICAgICAgICAnZGlzdGFuY2UnOiB0aGlzLmRlbHRhWCArIGRlbGF5WCxcclxuICAgICAgICAnc3BlZWQnOiAwLFxyXG4gICAgICAgICdkaXJlY3Rpb24nOiB0aGlzLmRlbHRhWCA+IDAgPyAncHJldicgOiAnbmV4dCcsXHJcbiAgICAgICAgJ2FjdGlvbic6ICdmbGlwTW92ZSdcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZWRQcm90by5vblRvdWNoRW5kID0gZnVuY3Rpb24oZSkge1xyXG5cclxuICAgIHRoaXMuaXNUb3VjaGluZyA9IGZhbHNlO1xyXG5cclxuICAgIGlmICh0aGlzLmlzb3ZlcnN0ZXAgfHwgdGhpcy5wcmV2ZW50U3dpcGUpIHJldHVybjtcclxuXHJcbiAgICAvL+eCueWHu1xyXG4gICAgaWYgKCF0aGlzLmlzU2Nyb2xsWCAmJiAhdGhpcy5pc1Njcm9sbFkpIHtcclxuICAgICAgICB2YXIgaXNSZXR1cm4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLiRlbWl0KCdvblN3aXBlVXAnLCB0aGlzLmhpbmRleCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlzUmV0dXJuID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaXNSZXR1cm4pIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvL+WmguaenOaYr+W3puWPs+a7keWKqFxyXG4gICAgaWYgKHRoaXMuaXNTY3JvbGxYKSB7XHJcblxyXG4gICAgICAgIHZhciBkdXJhdGlvbiA9ICtuZXcgRGF0ZSAtIHRoaXMuc3RhcnQudGltZSxcclxuICAgICAgICAgICAgZGVsdGFYID0gTWF0aC5hYnModGhpcy5kZWx0YVgpLFxyXG4gICAgICAgICAgICAvL+WmguaenOaYr+mmluWwvlxyXG4gICAgICAgICAgICBpc1Bhc3RCb3VuZHMgPSAhdGhpcy5oaW5kZXggJiYgdGhpcy5kZWx0YVggPiAwIHx8IHRoaXMuaGluZGV4ID09IHRoaXMucGFnZXRvdGFsIC0gMSAmJiB0aGlzLmRlbHRhWCA8IDAsXHJcbiAgICAgICAgICAgIGlzVmFsaWRTbGlkZSA9XHJcbiAgICAgICAgICAgIE51bWJlcihkdXJhdGlvbikgPCAyMDAgJiYgTWF0aC5hYnMoZGVsdGFYKSA+IDMwIHx8IE1hdGguYWJzKGRlbHRhWCkgPiB0aGlzLnNjcmVlbldpZHRoIC8gNjtcclxuXHJcblxyXG4gICAgICAgIC8v6Lef6ZqP56e75YqoXHJcbiAgICAgICAgaWYgKCF0aGlzLmZsaXBsb2NrICYmIGlzVmFsaWRTbGlkZSAmJiAhaXNQYXN0Qm91bmRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbHRhWCA8IDApIHsgLy90cnVlOnJpZ2h0LCBmYWxzZTpsZWZ0XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlVG8oJ25leHQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVUbygncHJldicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/lj43lvLlcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3JNb3ZlKHtcclxuICAgICAgICAgICAgICAgICdwYWdlSW5kZXgnOiB0aGlzLmhpbmRleCxcclxuICAgICAgICAgICAgICAgICdkaXJlY3Rpb24nOiB0aGlzLmRlbHRhWCA+IDAgPyAncHJldicgOiAnbmV4dCcsXHJcbiAgICAgICAgICAgICAgICAnZGlzdGFuY2UnOiAwLFxyXG4gICAgICAgICAgICAgICAgJ3NwZWVkJzogMzAwLFxyXG4gICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdmbGlwUmVib3VuZCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOiuvue9ruWKqOeUu+WujOaIkFxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gZWxlbWVudCBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLnNldEFuaW1Db21wbGV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuZGlzdHJpYnV0ZWQoZWxlbWVudFswXSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliqjnlLvnu5PmnZ/lkI7lpITnkIZcclxuICogQHBhcmFtICB7W3R5cGVdfSBlIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmVkUHJvdG8ub25BbmltQ29tcGxldGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQsXHJcbiAgICAgICAgcGFnZVR5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2VUeXBlJyksXHJcbiAgICAgICAgdmlldyA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmlldycpOyAvL+aTjeS9nOeahOWPr+inhueql+WPo1xyXG5cclxuICAgIC8v5Y+N5by55pWI5p6cLOacque/u+mhtVxyXG4gICAgaWYgKCF2aWV3KSB7XHJcbiAgICAgICAgaWYgKCFwYWdlVHlwZSkge1xyXG4gICAgICAgICAgICAvL+WPqumSiOWvueavjeadv+WkhOeQhlxyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdvbk1hc3Rlck1vdmUnLCB0aGlzLmhpbmRleCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGlzdHJpYnV0ZWQodGFyZ2V0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa0vuWPkeS6i+S7tlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmVkUHJvdG8uZGlzdHJpYnV0ZWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG4gICAgLy/pkojlr7nmi5bmi73nv7vpobXpmLvmraJcclxuICAgIHRoaXMucHJldmVudFN3aXBlID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNUb3VjaGluZyA9IGZhbHNlO1xyXG5cclxuICAgIC8v5b+r6YCf57+76aG1XHJcbiAgICB2YXIgaXNRdWlja1R1cm4gPSB0aGlzLmlzUXVpY2tUdXJuO1xyXG5cclxuICAgIC8v5oGi5aSN6YCf546HXHJcbiAgICB0aGlzLnJlc2V0UmF0ZSgpO1xyXG5cclxuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZpZXcnLCAnZmFsc2UnKTtcclxuXHJcbiAgICB2YXIgc2xlZiA9IHRoaXM7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNsZWYuJGVtaXQoJ29uQW5pbUNvbXBsZXRlJywgc2xlZi5kaXJlY3Rpb24sIHNsZWYucGFnZVBvaW50ZXIsIHNsZWYudW5sb2NrLmJpbmQoc2xlZiksIGlzUXVpY2tUdXJuKTtcclxuICAgIH0sIDEwMClcclxufVxyXG5cclxuXHJcbmVkUHJvdG8ubG9jayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5mbGlwbG9jayA9IHRydWU7XHJcbn1cclxuXHJcbi8v6Kej6ZSB57+76aG1XHJcbmVkUHJvdG8udW5sb2NrID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmZsaXBsb2NrID0gZmFsc2U7XHJcbn1cclxuXHJcbi8v5b+r6YCf57+76aG15pe26Ze06K6h566XXHJcbmVkUHJvdG8uc2V0UmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zcGVlZFJhdGUgPSA1MCAvIHRoaXMuc2NyZWVuV2lkdGg7XHJcbiAgICB0aGlzLmlzUXVpY2tUdXJuID0gdHJ1ZTtcclxufVxyXG5cclxuLy/lpI3kvY3pgJ/njodcclxuZWRQcm90by5yZXNldFJhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc3BlZWRSYXRlID0gdGhpcy5vcmlnaW5hbFJhdGU7XHJcbiAgICB0aGlzLmlzUXVpY2tUdXJuID0gZmFsc2U7XHJcbn1cclxuXHJcbmVkUHJvdG8ub3BlblN3aXBlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9iaW5kRXZ0KCk7XHJcbn1cclxuXHJcbmVkUHJvdG8uY2xvc2VTd2lwZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5ldnREZXN0cm95KCk7XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICDpobXpnaLot7Povazkuovku7ZcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbi8v6K6h566X5b2T5YmN5bey57uP5Yib5bu655qE6aG16Z2i57Si5byVXHJcbmZ1bmN0aW9uIGNhbGN1bGF0aW9uUG9zaXRpb24oY3VyckluZGV4LCB0YXJnZXRJbmRleCwgcGFnZXRvdGFsKSB7XHJcbiAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgZXhpc3RwYWdlLFxyXG4gICAgICAgIGNyZWF0ZXBhZ2UsXHJcbiAgICAgICAgcGFnZUluZGV4LFxyXG4gICAgICAgIHJ1bGVPdXQgPSBbXSxcclxuICAgICAgICBjcmVhdGUgPSBbXSxcclxuICAgICAgICBkZXN0cm95LFxyXG4gICAgICAgIHZpZXdGbGlwO1xyXG5cclxuICAgIC8v5a2Y5Zyo55qE6aG16Z2iXHJcbiAgICBpZiAoY3VyckluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgZXhpc3RwYWdlID0gW2N1cnJJbmRleCwgY3VyckluZGV4ICsgMV07XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJJbmRleCA9PT0gcGFnZXRvdGFsIC0gMSkge1xyXG4gICAgICAgIGV4aXN0cGFnZSA9IFtjdXJySW5kZXggLSAxLCBjdXJySW5kZXhdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBleGlzdHBhZ2UgPSBbY3VyckluZGV4IC0gMSwgY3VyckluZGV4LCBjdXJySW5kZXggKyAxXTtcclxuICAgIH1cclxuXHJcbiAgICAvL+mcgOimgeWIm+W7uueahOaWsOmhtemdolxyXG4gICAgaWYgKHRhcmdldEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgY3JlYXRlcGFnZSA9IFt0YXJnZXRJbmRleCwgdGFyZ2V0SW5kZXggKyAxXTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0SW5kZXggPT09IHBhZ2V0b3RhbCAtIDEpIHtcclxuICAgICAgICBjcmVhdGVwYWdlID0gW3RhcmdldEluZGV4IC0gMSwgdGFyZ2V0SW5kZXhdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjcmVhdGVwYWdlID0gW3RhcmdldEluZGV4IC0gMSwgdGFyZ2V0SW5kZXgsIHRhcmdldEluZGV4ICsgMV07XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICg7IGkgPCBjcmVhdGVwYWdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcGFnZUluZGV4ID0gY3JlYXRlcGFnZVtpXTtcclxuICAgICAgICAvL+i3s+i/h+WtmOWcqOeahOmhtemdolxyXG4gICAgICAgIGlmICgtMSA9PT0gZXhpc3RwYWdlLmluZGV4T2YocGFnZUluZGV4KSkge1xyXG4gICAgICAgICAgICAvL+WIm+W7uuebruagh+eahOmhtemdolxyXG4gICAgICAgICAgICBjcmVhdGUucHVzaChwYWdlSW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5o6S6Zmk5bey5a2Y5Zyo55qE6aG16Z2iXHJcbiAgICAgICAgICAgIHJ1bGVPdXQucHVzaChwYWdlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfLmVhY2gocnVsZU91dCwgZnVuY3Rpb24ocnVsZU91dEluZGV4KSB7XHJcbiAgICAgICAgZXhpc3RwYWdlLnNwbGljZShleGlzdHBhZ2UuaW5kZXhPZihydWxlT3V0SW5kZXgpLCAxKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzdHJveSA9IGV4aXN0cGFnZTtcclxuXHJcbiAgICB2aWV3RmxpcCA9IFtdLmNvbmNhdChjcmVhdGUpLmNvbmNhdChydWxlT3V0KS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gYSAtIGJcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2NyZWF0ZSc6IGNyZWF0ZSxcclxuICAgICAgICAncnVsZU91dCc6IHJ1bGVPdXQsXHJcbiAgICAgICAgJ2Rlc3Ryb3knOiBkZXN0cm95LFxyXG4gICAgICAgICd2aWV3RmxpcCc6IHZpZXdGbGlwLFxyXG4gICAgICAgICd0YXJnZXRJbmRleCc6IHRhcmdldEluZGV4LFxyXG4gICAgICAgICdjdXJySW5kZXgnOiBjdXJySW5kZXhcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmVkUHJvdG8uc2Nyb2xsVG9QYWdlID0gZnVuY3Rpb24odGFyZ2V0SW5kZXgsIHByZU1vZGUsIGNvbXBsZXRlKSB7IC8v55uu5qCH6aG16Z2iXHJcblxyXG4gICAgLy/lpoLmnpzov5jlnKjnv7vpobXkuK1cclxuICAgIGlmICh0aGlzLmZsaXBsb2NrKSByZXR1cm5cclxuXHJcbiAgICB2YXIgZGF0YTtcclxuICAgIHZhciBjdXJySW5kZXggPSB0aGlzLmhpbmRleDsgLy/lvZPliY3pobXpnaJcclxuXHJcbiAgICBzd2l0Y2ggKHRhcmdldEluZGV4KSB7XHJcbiAgICAgICAgLy/liY3kuIDpobVcclxuICAgICAgICBjYXNlIChjdXJySW5kZXggLSAxKTpcclxuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvL+mmlumhtVxyXG4gICAgICAgIGNhc2UgY3VyckluZGV4OlxyXG4gICAgICAgICAgICBpZiAoY3VyckluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uRHJvcEFwcCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAvL+WQjuS4gOmhtVxyXG4gICAgICAgIGNhc2UgKGN1cnJJbmRleCArIDEpOlxyXG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aXBsZVBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nrpflh7rmmK/nm7jlhbPmlbDmja5cclxuICAgIGRhdGEgPSBjYWxjdWxhdGlvblBvc2l0aW9uKGN1cnJJbmRleCwgdGFyZ2V0SW5kZXgsIHRoaXMucGFnZXRvdGFsKVxyXG5cclxuICAgIC8v5pu05paw6aG156CB57Si5byVXHJcbiAgICB0aGlzLnVwZGF0YVBvaW50ZXIoZGF0YSk7XHJcblxyXG4gICAgZGF0YS5wYWdlUG9pbnRlciA9IHRoaXMucGFnZVBvaW50ZXI7XHJcblxyXG4gICAgdGhpcy4kZW1pdCgnb25KdW1wUGFnZScsIGRhdGEpO1xyXG59XHJcblxyXG4vKipcclxuICog5LqL5Lu25aSE55CGXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5lZFByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgWHV0LnBsYXQuaGFuZGxlRXZlbnQoe1xyXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub3VjaFN0YXJ0KGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZTogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uVG91Y2hNb3ZlKGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW5kOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub3VjaEVuZChlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyYW5zaXRpb25lbmQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkFuaW1Db21wbGV0ZShlKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0aGlzLCBlKVxyXG59XHJcblxyXG4vKipcclxuICog57uR5a6a5LqL5Lu2XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5fYmluZEV2dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy9wYWdlRmxpcOWQr+WKqO+8jOayoeaciea7keWKqOWkhOeQhlxyXG4gICAgaWYgKHRoaXMucGFnZUZsaXApIHtcclxuICAgICAgICBYdXQucGxhdC5leGVjRXZlbnQoJ29uJywge1xyXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGVuZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25lbmQ6IHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubXVsdGlwbGVQYWdlcykge1xyXG4gICAgICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb24nLCB7XHJcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbW92ZTogdGhpcyxcclxuICAgICAgICAgICAgICAgIGVuZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25lbmQ6IHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIFh1dC5wbGF0LmV4ZWNFdmVudCgnb24nLCB7XHJcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgZW5kOiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog6ZSA5q+B5LqL5Lu2XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5ldnREZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBYdXQucGxhdC5leGVjRXZlbnQoJ29mZicsIHtcclxuICAgICAgICBjb250ZXh0OiB0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgc3RhcnQ6IHRoaXMsXHJcbiAgICAgICAgICAgIG1vdmU6IHRoaXMsXHJcbiAgICAgICAgICAgIGVuZDogdGhpcyxcclxuICAgICAgICAgICAgdHJhbnNpdGlvbmVuZDogdGhpc1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6ZSA5q+B5omA5pyJXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZWRQcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmV2dERlc3Ryb3koKTtcclxuICAgIHRoaXMuJG9mZigpO1xyXG4gICAgdGhpcy5idWJibGVOb2RlLnBhZ2UgPSBudWxsO1xyXG4gICAgdGhpcy5idWJibGVOb2RlLm1hc3RlciA9IG51bGw7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICog5omp5YWF5LqL5Lu2XHJcbiAqL1xyXG5vYnNlcnZlLmNhbGwoR2xvYmFsRXZlbnQucHJvdG90eXBlKTtcclxuXHJcblxyXG5leHBvcnQgeyBHbG9iYWxFdmVudCB9XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9tYW5hZ2VyL2dsb2JhbGV2ZW50LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 68 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.MasterMgr = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _abstract = __webpack_require__(16);\n\nvar _translation = __webpack_require__(8);\n\nvar _constor = __webpack_require__(18);\n\nvar _index2 = __webpack_require__(2);\n\nvar prefix = Xut.plat.prefixStyle;\n//动作热热点派发\n/**\r\n * 母版管理模块\r\n * @param  {[type]}\r\n * @return {[type]}\r\n */\n\nvar rword = \"-\";\n\n/**\r\n * parallaObjsCollection: Object\r\n *  \t0: Page\r\n *\t    1: Page\r\n *\r\n *\trecordMasterId: Object\r\n *\t\t0: 9001\r\n *\t \t1: 9001\r\n *\r\n *\trecordMasterscope: Object\r\n *\t\t9001: Array[2]\r\n *\r\n *\trootNode: ul # parallax.xut - parallax xut - flip\r\n *\r\n *\tcurrMasterId: 9001 //实际的可使区\r\n */\n\nfunction MasterMgr(vm) {\n\n    var config = Xut.config;\n\n    this.screenWidth = config.screenSize.width;\n    this.screenHeight = config.screenSize.height;\n\n    this.pageType = 'master';\n\n    this.rootNode = vm.options.rootMaster;\n    this.recordMasterscope = {}; //记录master区域范围\n    this.recordMasterId = {}; //记录页面与母板对应的编号\n    this.currMasterId = null; //可视区母板编号\n\n    //记录视察处理的对象\n    this.parallaxProcessedContetns = {};\n\n    /**\r\n     * 抽象方法\r\n     * 创建视觉差容器\r\n     */\n    this.abstractCreateCollection();\n}\n\nvar MasterProto = MasterMgr.prototype;\n\n/****************************************************************\r\n *\r\n *                 对外接口\r\n *\r\n ***************************************************************/\n\n//====================页面结构处理===========================\n\nMasterProto.create = function (dataOpts, pageIndex, createCallBack) {\n    var masterObj,\n        reuseMasterId,\n        reuseMasterKey,\n        pptMaster = dataOpts.chapterDas.pptMaster,\n        pageOffset = dataOpts.chapterDas.pageOffset;\n\n    //母板复用的标示\n    reuseMasterId = pageOffset && pageOffset.split(rword);\n\n    //组合下标\n    if (reuseMasterId && reuseMasterId.length === 3) {\n        reuseMasterKey = pptMaster + rword + reuseMasterId[2];\n    } else {\n        reuseMasterKey = pptMaster;\n    }\n\n    //检测视觉差对象是否重复创建\n    if (this._checkRepeat(reuseMasterKey, pageOffset, pageIndex)) {\n        return;\n    }\n\n    //通知外部,需要创建的母版\n    createCallBack();\n\n    masterObj = new _constor.constor(_.extend(dataOpts, {\n        'pageType': this.pageType, //创建页面的类型\n        'root': this.rootNode, //根元素\n        'pptMaster': pptMaster //ppt母板ID\n    }));\n\n    //增加页面管理\n    this.abstractAddCollection(reuseMasterKey, masterObj);\n\n    return masterObj;\n};\n\n//销毁整个页面对象\nMasterProto.destroy = function () {\n    this.rootNode = null;\n    //销毁对象\n    this.abstractDestroyCollection();\n};\n\n/**\r\n * 找到当前页面的可以需要滑动是视觉页面对象\r\n * @return {[type]}            [description]\r\n */\nMasterProto.findMaster = function (leftIndex, currIndex, rightIndex, direction, action) {\n    var prevFlag,\n        nextFlag,\n        prevMasterObj,\n        currMasterObj,\n        nextMasterObj,\n        prevMasterId = this.conversionMasterId(leftIndex),\n        currMasterId = this.conversionMasterId(currIndex),\n        nextMasterId = this.conversionMasterId(rightIndex);\n\n    switch (direction) {\n        case 'prev':\n            if (prevFlag = currMasterId !== prevMasterId) {\n                currMasterObj = this.abstractGetPageObj(currMasterId);\n            }\n            if (prevMasterId && prevFlag) {\n                action === 'flipOver' && this.checkClear([currMasterId, prevMasterId]); //边界清理\n                prevMasterObj = this.abstractGetPageObj(prevMasterId);\n            }\n            break;\n        case 'next':\n            if (nextFlag = currMasterId !== nextMasterId) {\n                currMasterObj = this.abstractGetPageObj(currMasterId);\n            }\n            if (nextMasterId && nextFlag) {\n                action === 'flipOver' && this.checkClear([currMasterId, nextMasterId]); //边界清理\n                nextMasterObj = this.abstractGetPageObj(nextMasterId);\n            }\n            break;\n    }\n    return [prevMasterObj, currMasterObj, nextMasterObj];\n};\n\n/**\r\n * 页面滑动处理\r\n * 1 母版之间的切换\r\n * 2 浮动对象的切换\r\n */\nMasterProto.move = function (leftIndex, currIndex, rightIndex, direction, moveDistance, action, speed, nodes) {\n    var parallaxOffset,\n        self = this,\n        isBoundary = false; //是边界处理\n\n    //找到需要滑动的母版\n    _.each(this.findMaster(leftIndex, currIndex, rightIndex, direction, action), function (pageObj, index) {\n        if (pageObj) {\n            isBoundary = true;\n            //母版交接判断\n            //用户事件的触发\n            pageObj.onceMaster = false;\n            //移动母版\n            _translation.translation[action].call(pageObj, moveDistance[index], speed);\n            //移动浮动容器\n            if (pageObj.floatContents.MasterContainer) {\n                _translation.translation[action].call(pageObj, moveDistance[index], speed, pageObj.floatContents.MasterContainer);\n            }\n        }\n    });\n\n    //越界不需要处理内部视察对象\n    this.isBoundary = isBoundary;\n    if (isBoundary) {\n        return;\n    }\n\n    //移动视察对象\n    function moveParallaxObject(nodes) {\n        self.moveParallaxs(moveDistance, currIndex, action, direction, speed, nodes);\n    }\n\n    //移动视察对象\n    switch (direction) {\n        case 'prev':\n            moveParallaxObject();\n            break;\n        case 'next':\n            nodes && moveParallaxObject(nodes);\n            break;\n    }\n};\n\n/**\r\n * 停止行为\r\n * @return {[type]} [description]\r\n */\nMasterProto.suspend = function (pointers) {\n    //如果未越界不需要处理行为\n    if (!this.isBoundary) return;\n    var masterObj,\n        stopPointer = pointers.stopPointer;\n    if (masterObj = this.abstractGetPageObj(stopPointer)) {\n        var pageId = masterObj.baseGetPageId(stopPointer);\n        //停止活动对象活动\n        (0, _index2.suspend)(masterObj, pageId);\n    }\n};\n\n/**\r\n * 复位初始状态\r\n * @return {[type]} [description]\r\n */\nMasterProto.resetOriginal = function (pageIndex) {\n    var originalPageObj;\n    if (originalPageObj = this.abstractGetPageObj(pageIndex)) {\n        (0, _index2.original)(originalPageObj);\n    }\n};\n\n/**\r\n * \t母版自动运行\r\n */\nMasterProto.autoRun = function (data) {\n    var masterObj, element;\n    if (masterObj = this.abstractGetPageObj(data.currIndex)) {\n        //热点状态复位\n        this.resetOriginal(data.suspendIndex);\n        (0, _index2.autoRun)(masterObj, data.currIndex);\n    }\n};\n\n/**\r\n * 移动内部的视察对象\r\n */\nMasterProto.moveParallaxs = function (moveDistance, currIndex, action, direction, speed, nodes) {\n    var rootNode,\n        floatObj,\n        contentObj,\n        contentObjs,\n        baseContents,\n        currParallaxObj,\n        currMoveDistance,\n        hasFloatMater,\n        floatMaterParallaxChange,\n\n    //需要执行动画\n    activationAnim = action === \"flipRebound\" || action === \"flipOver\",\n        self = this;\n\n    //处理当前页面内的视觉差对象效果\n    if (currParallaxObj = this.abstractGetPageObj(this.conversionMasterId(currIndex))) {\n        if (baseContents = currParallaxObj.baseGetContent()) {\n            self.baseContents = baseContents;\n            //移动距离\n            currMoveDistance = moveDistance[1];\n            //遍历所有活动对象\n            _.each(baseContents, function (content) {\n                content.eachAssistContents(function (scope) {\n                    //如果是视察对象移动\n                    if (scope.parallax) {\n                        rootNode = scope.parallax.rootNode;\n                        contentObj = currParallaxObj.baseGetContentObject(scope.id);\n                        /////////////////////\n                        //如果有这个动画效果 //\n                        //先停止否则通过视觉差移动会出问题\n                        // //影响，摩天轮转动APK\n                        // * 重新激动视觉差对象\n                        // * 因为视察滑动对象有动画\n                        // * 2个CSS3动画冲突的\n                        // * 所以在视察滑动的情况下先停止动画\n                        // * 然后给每一个视察对象打上对应的hack=>data-parallaxProcessed\n                        // * 通过动画回调在重新加载动画\n                        /////////////////////\n                        if (action === \"flipMove\" && contentObj.anminInstance && !contentObj.parallaxProcessed) {\n                            //标记\n                            var actName = contentObj.actName;\n                            contentObj.stopAnimations();\n                            //视觉差处理一次,停止过动画\n                            contentObj.parallaxProcessed = true;\n                            //增加标记\n                            rootNode.attr('data-parallaxProcessed', actName);\n                            //记录\n                            self.parallaxProcessedContetns[actName] = contentObj;\n                        }\n\n                        //移动视觉差对象\n                        conversionTranslateX(rootNode, scope.parallax, direction, action, speed, nodes, currMoveDistance, floatMaterParallaxChange);\n                    }\n                });\n            });\n        }\n    }\n\n    function conversionTranslateX(rootNode, scope, direction, action, speed, nodes, currMoveDistance, floatMaterParallaxChange) {\n        var translate = scope.translate,\n            offsetTranslate = scope.offsetTranslate,\n            nodes_1,\n            moveTranslate;\n\n        //往前翻页\n        if (direction === 'prev') {\n            //分割的比例\n            nodes_1 = scope.nodeProportion;\n            //如果往前溢出则取0\n            nodes = nodes == nodes_1 ? 0 : nodes_1;\n        }\n\n        //视觉对象移动的距离\n        moveTranslate = self._transformConversion(translate, currMoveDistance, nodes);\n\n        switch (action) {\n            //移动中\n            case 'flipMove':\n                moveTranslate = self._flipMove(moveTranslate, offsetTranslate);\n                break;\n            //反弹\n            case 'flipRebound':\n                moveTranslate = self._flipRebound(moveTranslate, offsetTranslate);\n                break;\n            //翻页结束,记录上一页的坐标\n            case 'flipOver':\n                if (direction === 'prev') {\n                    moveTranslate = self._flipOver(moveTranslate, offsetTranslate);\n                }\n                self._overMemory(moveTranslate, offsetTranslate);\n                /**\r\n                 * 记录浮动母版视察修改\r\n                 * 2014.6.30针对浮动处理\r\n                 */\n                // floatMaterParallaxChange && floatMaterParallaxChange(moveTranslate.translateX)\n                break;\n        }\n\n        //直接操作元素\n        self._transformNodes(rootNode, speed, moveTranslate, offsetTranslate.opacityStart || 0);\n    }\n};\n\n/**\r\n * 重新激动视觉差对象\r\n * 因为视察滑动对象有动画\r\n * 2个CSS3动画冲突的\r\n * 所以在视察滑动的情况下先停止动画\r\n * 然后给每一个视察对象打上对应的hack=>data-parallaxProcessed\r\n * 通过动画回调在重新加载动画\r\n * @return {[type]} [description]\r\n */\nMasterProto.reactivation = function (target) {\n    if (this.parallaxProcessedContetns) {\n        var actName = target.id;\n        var contentObj = this.parallaxProcessedContetns[actName];\n        if (contentObj) {\n            contentObj.runAnimations();\n            //视觉差处理一次,停止过动画\n            contentObj.parallaxProcessed = false;\n            //移除标记\n            target.removeAttribute('data-parallaxProcessed');\n            //记录\n            delete this.parallaxProcessedContetns[actName];\n        }\n    }\n};\n\n//变化节点的css3transform属性\nMasterProto._transformNodes = function (rootNode, speed, property, opacityStart) {\n    var style = {},\n        effect = '',\n        x = 0,\n        y = 0,\n        z = 0,\n        round = Math.round;\n\n    if (property.translateX != undefined || property.translateY != undefined || property.translateZ != undefined) {\n        x = round(property.translateX) || 0;\n        y = round(property.translateY) || 0;\n        z = round(property.translateZ) || 0;\n        effect += String.format('translate3d({0}px,{1}px,{2}px) ', x, y, z);\n    }\n\n    if (property.rotateX != undefined || property.rotateY != undefined || property.rotateZ != undefined) {\n        x = round(property.rotateX);\n        y = round(property.rotateY);\n        z = round(property.rotateZ);\n        effect += x ? 'rotateX(' + x + 'deg) ' : '';\n        effect += y ? 'rotateY(' + y + 'deg) ' : '';\n        effect += z ? 'rotateZ(' + z + 'deg) ' : '';\n    }\n\n    if (property.scaleX != undefined || property.scaleY != undefined || property.scaleZ != undefined) {\n        x = round(property.scaleX * 100) / 100 || 1;\n        y = round(property.scaleY * 100) / 100 || 1;\n        z = round(property.scaleZ * 100) / 100 || 1;\n        effect += String.format('scale3d({0},{1},{2}) ', x, y, z);\n    }\n\n    if (property.opacity != undefined) {\n        style.opacity = round(property.opacity * 100) / 100 + opacityStart;\n        effect += ';';\n    }\n\n    ////////////////\n    //最终改变视觉对象的坐标 //\n    ////////////////\n    if (effect) {\n        style[prefix('transition-duration')] = speed + 'ms';\n        style[prefix('transform')] = effect;\n        rootNode.css(style);\n    }\n};\n\n//针对跳转页面\n//制作处理器\nMasterProto.makeJumpPocesss = function (data) {\n    var filter;\n    var master = this;\n    return {\n        pre: function pre() {\n            var targetIndex = data.targetIndex;\n            //目标母板对象\n            var targetkey = master.conversionMasterId(targetIndex);\n            //得到过滤的边界keys\n            //在filter中的页面为过滤\n            filter = master.scanBounds(targetIndex, targetkey);\n            //清理多余母板\n            //filter 需要保留的范围\n            master.checkClear(filter, true);\n            //更新可视母板编号\n            master.currMasterId = targetkey;\n        },\n        //修正位置\n        clean: function clean(currIndex, targetIndex) {\n            master._fixPosition(filter);\n            master._checkParallaxPox(currIndex, targetIndex);\n        }\n    };\n};\n\n//扫描边界\n//扫描key的左右边界\n//当前页面的左右边\nMasterProto.scanBounds = function (currPage, currkey) {\n    var currKey = this.conversionMasterId(currPage),\n        filter = {},\n        i = currPage,\n        prevKey,\n        nextKey;\n\n    //往前\n    while (i--) {\n        prevKey = this.conversionMasterId(i);\n        if (prevKey && prevKey !== currkey) {\n            filter['prev'] = prevKey;\n            break;\n        }\n    }\n\n    //往后\n    nextKey = this.conversionMasterId(currPage + 1);\n\n    //如果有下一条记录\n    if (nextKey && nextKey !== currkey) {\n        //如果不是当期页面满足范围要求\n        filter['next'] = nextKey;\n    }\n\n    //当前页面\n    if (currKey) {\n        filter['curr'] = currKey;\n    }\n    return filter;\n};\n\n//修正位置\nMasterProto._fixPosition = function (filter) {\n\n    var self = this;\n\n    function setPosition(parallaxObj, position) {\n        //设置移动\n        function toMove(distance, speed) {\n            var element = parallaxObj.element;\n            if (element) {\n                element.css(prefix('transition-duration'), speed + 'ms');\n                element.css(prefix('transform'), 'translate3d(' + distance + 'px,0px,0px)');\n            }\n        }\n\n        if (position === 'prev') {\n            toMove(-self.screenWidth);\n        } else if (position === 'next') {\n            toMove(self.screenWidth);\n        } else if (position === 'curr') {\n            toMove(0);\n        }\n    }\n\n    for (var key in filter) {\n        switch (key) {\n            case 'prev':\n                setPosition(this.abstractGetPageObj(filter[key]), 'prev');\n                break;\n            case 'curr':\n                setPosition(this.abstractGetPageObj(filter[key]), 'curr');\n                break;\n            case 'next':\n                setPosition(this.abstractGetPageObj(filter[key]), 'next');\n                break;\n        }\n    }\n};\n\nMasterProto._checkParallaxPox = function (currPageIndex, targetIndex) {\n    var key,\n        pageObj,\n        pageCollection = this.abstractGetCollection();\n    for (key in pageCollection) {\n        pageObj = pageCollection[key];\n        //跳跃过的视觉容器处理\n        this._fixParallaxPox(pageObj, currPageIndex, targetIndex);\n    }\n};\n\n//=======================去重检测==============================\n\n//当前同一视觉页面作用的范围\nMasterProto._toRepeat = function (reuseMasterKey, pageIndex) {\n    var temp;\n    if (temp = this.recordMasterscope[reuseMasterKey]) {\n        return temp;\n    }\n    return false;\n};\n\n//更新母板作用域范围\n//recordMasterscope:{\n//\t 9001-1:[0,1], master 对应记录的页码\n//\t 9002-1:[2,3]\n//\t 9001-2:[4,5]\n//}\nMasterProto._updataMasterscope = function (reuseMasterKey, pageIndex) {\n    var scope;\n    if (scope = this.recordMasterscope[reuseMasterKey]) {\n        if (-1 === scope.indexOf(pageIndex)) {\n            scope.push(pageIndex);\n        }\n    } else {\n        this.recordMasterscope[reuseMasterKey] = [pageIndex];\n    }\n};\n\n//记录页面与模板标示的映射\nMasterProto._updatadParallaxMaster = function (reuseMasterKey, pageIndex) {\n    //记录页面与模板标示的映射\n    this.recordMasterId[pageIndex] = reuseMasterKey;\n    //更新可视区母板的编号\n    this.currMasterId = this.conversionMasterId(Xut.Presentation.GetPageIndex());\n};\n\n//检测是否需要创建视觉差\nMasterProto._checkRepeat = function (reuseMasterKey, pageOffset, pageIndex) {\n    var tag = this._toRepeat(reuseMasterKey, pageIndex); //false就是没找到视察对象\n    this._updataMasterscope(reuseMasterKey, pageIndex);\n    this._updatadParallaxMaster(reuseMasterKey, pageIndex);\n    return tag;\n};\n\n//transform转化成相对应的偏移量\nMasterProto._transformConversion = function (property, moveDistance, nodes) {\n    var temp = {},\n        i;\n\n    for (i in property) {\n        switch (i) {\n            case 'translateX':\n            case 'translateZ':\n                temp[i] = moveDistance * nodes * property[i];\n                break;\n            case 'translateY':\n                temp[i] = moveDistance * (this.screenHeight / this.screenWidth) * nodes * property[i];\n                break;\n            case 'opacityStart':\n                temp[i] = property.opacityStart;\n                break;\n            default:\n                //乘以-1是为了向右翻页时取值为正,位移不需这样做\n                temp[i] = -1 * moveDistance / this.screenWidth * property[i] * nodes;\n        }\n    }\n    return temp;\n};\n\n//移动叠加值\nMasterProto._flipMove = function (property, repairProperty) {\n    var temp = {};\n    var start = property.opacityStart;\n    for (var i in property) {\n        temp[i] = property[i] + repairProperty[i];\n    }\n    if (start > -1) temp.opacityStart = start;\n    return temp;\n};\n\n//反弹\nMasterProto._flipRebound = function (property, repairProperty) {\n    var temp = {};\n    for (var i in property) {\n        temp[i] = repairProperty[i] || property[i];\n    }\n    return temp;\n};\n\n//翻页结束\nMasterProto._flipOver = function (property, repairProperty) {\n    return this._flipMove(property, repairProperty);\n};\n\n//结束后缓存上一个记录\nMasterProto._overMemory = function (property, repairProperty) {\n    for (var i in property) {\n        repairProperty[i] = property[i];\n    }\n};\n\n//修正跳转后视觉对象坐标\nMasterProto._fixParallaxPox = function (parallaxObj, currPageIndex, targetIndex) {\n    var self = this,\n        contentObjs,\n        prevNodes,\n        nodes;\n    if (contentObjs = parallaxObj.baseGetContent()) {\n        contentObjs.forEach(function (contentObj) {\n            contentObj.eachAssistContents(function (scope) {\n                if (scope.parallax) {\n                    repairNodes.call(self, scope.parallax, currPageIndex, targetIndex);\n                }\n            });\n        });\n    }\n\n    function repairNodes(scope, currPageIndex, targetIndex) {\n        var rangePage = scope.calculateRangePage(),\n            rootNode = scope.rootNode,\n            translate = scope.translate,\n            offsetTranslate = scope.offsetTranslate,\n            moveTranslate,\n            nodes = Xut.Presentation.GetPageNode(targetIndex - 1);\n\n        if (targetIndex > currPageIndex) {\n            //next\n            if (targetIndex > rangePage['end']) {\n                nodes = 1;\n            }\n        } else {\n            //prev\n            if (targetIndex < rangePage['start']) {\n                nodes = 0;\n            }\n        }\n\n        moveTranslate = this._transformConversion(translate, -self.screenWidth, nodes);\n        this._transformNodes(rootNode, 300, moveTranslate, offsetTranslate.opacityStart);\n        this._overMemory(moveTranslate, offsetTranslate);\n    }\n};\n\n//扁平化对象到数组\nfunction toArray(filter) {\n    var arr = [];\n    if (!filter.length) {\n        for (var key in filter) {\n            arr.push(filter[key]);\n        }\n        filter = arr;\n    }\n    return filter;\n}\n\n//检测是否需要清理\n// 1 普通翻页清理  【数组过滤条件】\n// 2 跳转页面清理  【对象过滤条件】\nMasterProto.checkClear = function (filter, toPage) {\n    var key,\n        indexOf,\n        removeMasterId = _.keys(this.abstractGetCollection());\n\n    // 如果有2个以上的母板对象,就需要清理\n    if (removeMasterId.length > 2 || toPage) {\n        //或者是跳转页面\n        //解析对象\n        filter = toArray(filter);\n        //过滤\n        _.each(filter, function (masterId) {\n            if (masterId !== undefined) {\n                indexOf = removeMasterId.indexOf(masterId.toString());\n                if (-1 !== indexOf) {\n                    //过滤需要删除的对象\n                    removeMasterId.splice(indexOf, 1);\n                }\n            }\n        });\n        this.clearMemory(removeMasterId);\n    }\n};\n\n//清理内存\n//需要清理的key合集\nMasterProto.clearMemory = function (removeMasterId) {\n    var pageObj,\n        self = this;\n    _.each(removeMasterId, function (removekey) {\n        //销毁页面对象事件\n        if (pageObj = self.abstractGetPageObj(removekey)) {\n            //移除事件\n            pageObj.baseDestroy();\n            //移除列表\n            self.abstractRemoveCollection(removekey);\n            self.removeRecordMasterscope(removekey);;\n        }\n        //清理作用域缓存\n        delete self.recordMasterscope[removekey];\n    });\n};\n\n//注册状态管理\nMasterProto.register = function (pageIndex, type, hotspotObj) {\n    var parallaxObj;\n    if (parallaxObj = this.abstractGetPageObj(this.conversionMasterId(pageIndex))) {\n        parallaxObj.registerCotents.apply(pageObj, arguments);\n    }\n};\n\n//=======================工具方法==============================\n\n//page转化成母版ID\nMasterProto.conversionMasterId = function (pageIndex) {\n    return this.recordMasterId ? this.recordMasterId[pageIndex] : undefined;\n};\n\nMasterProto.removeRecordMasterscope = function (removekey) {\n    var me = this;\n    var recordMasterscope = me.recordMasterscope[removekey];\n    //清理页码指示标记\n    recordMasterscope.forEach(function (scope) {\n        delete me.recordMasterId[scope];\n    });\n};\n\n//混入抽象接口方法\n(0, _index.extend)(MasterMgr, _abstract.Abstract);\n\nexports.MasterMgr = MasterMgr;\n\n// })\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvbWFzdGVyLmpzPzM2ODkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUtBOztBQUlBOztBQUNBOztBQUNBOztBQUVBOztBQUdBLElBQUksU0FBUyxJQUFJLElBQUosQ0FBUyxXQUF0Qjs7Ozs7Ozs7QUFDQSxJQUFJLFFBQVEsR0FBWjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQSxTQUFTLFNBQVQsQ0FBbUIsRUFBbkIsRUFBdUI7O0FBRW5CLFFBQUksU0FBUyxJQUFJLE1BQWpCOztBQUVBLFNBQUssV0FBTCxHQUFtQixPQUFPLFVBQVAsQ0FBa0IsS0FBckM7QUFDQSxTQUFLLFlBQUwsR0FBb0IsT0FBTyxVQUFQLENBQWtCLE1BQXRDOztBQUVBLFNBQUssUUFBTCxHQUFnQixRQUFoQjs7QUFFQSxTQUFLLFFBQUwsR0FBZ0IsR0FBRyxPQUFILENBQVcsVUFBM0I7QUFDQSxTQUFLLGlCQUFMLEdBQXlCLEVBQXpCLEM7QUFDQSxTQUFLLGNBQUwsR0FBc0IsRUFBdEIsQztBQUNBLFNBQUssWUFBTCxHQUFvQixJQUFwQixDOzs7QUFHQSxTQUFLLHlCQUFMLEdBQWlDLEVBQWpDOzs7Ozs7QUFNQSxTQUFLLHdCQUFMO0FBQ0g7O0FBR0QsSUFBSSxjQUFjLFVBQVUsU0FBNUI7Ozs7Ozs7Ozs7QUFXQSxZQUFZLE1BQVosR0FBcUIsVUFBUyxRQUFULEVBQW1CLFNBQW5CLEVBQThCLGNBQTlCLEVBQThDO0FBQy9ELFFBQUksU0FBSjtRQUFlLGFBQWY7UUFBOEIsY0FBOUI7UUFDSSxZQUFZLFNBQVMsVUFBVCxDQUFvQixTQURwQztRQUVJLGFBQWEsU0FBUyxVQUFULENBQW9CLFVBRnJDOzs7QUFLQSxvQkFBZ0IsY0FBYyxXQUFXLEtBQVgsQ0FBaUIsS0FBakIsQ0FBOUI7OztBQUdBLFFBQUksaUJBQWlCLGNBQWMsTUFBZCxLQUF5QixDQUE5QyxFQUFpRDtBQUM3Qyx5QkFBaUIsWUFBWSxLQUFaLEdBQW9CLGNB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a0JBQVosR0FBaUMsVUFBUyxTQUFULEVBQW9CO0FBQ2pELFdBQU8sS0FBSyxjQUFMLEdBQXNCLEtBQUssY0FBTCxDQUFvQixTQUFwQixDQUF0QixHQUF1RCxTQUE5RDtBQUNILENBRkQ7O0FBSUEsWUFBWSx1QkFBWixHQUFzQyxVQUFTLFNBQVQsRUFBb0I7QUFDdEQsUUFBSSxLQUFLLElBQVQ7QUFDQSxRQUFJLG9CQUFvQixHQUFHLGlCQUFILENBQXFCLFNBQXJCLENBQXhCOztBQUVBLHNCQUFrQixPQUFsQixDQUEwQixVQUFTLEtBQVQsRUFBZ0I7QUFDdEMsZUFBTyxHQUFHLGNBQUgsQ0FBa0IsS0FBbEIsQ0FBUDtBQUNILEtBRkQ7QUFHSCxDQVBEOzs7QUFXQSxtQkFBTyxTQUFQOztRQUlJLFMsR0FBQSxTIiwiZmlsZSI6IjY4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOavjeeJiOeuoeeQhuaooeWdl1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19XHJcbiAqIEByZXR1cm4ge1t0eXBlXX1cclxuICovXHJcbmltcG9ydCB7XHJcbiAgICBleHRlbmRcclxufVxyXG5mcm9tICcuLi91dGlsL2luZGV4J1xyXG5pbXBvcnQgeyBBYnN0cmFjdCB9IGZyb20gJy4vYWJzdHJhY3QnXHJcbmltcG9ydCB7IHRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vcGFnZWJhc2UvdHJhbnNsYXRpb24nXHJcbmltcG9ydCB7IGNvbnN0b3IgYXMgTWFzdGVyfSBmcm9tICcuLi9wYWdlYmFzZS9jb25zdG9yJ1xyXG4vL+WKqOS9nOeDreeDreeCuea0vuWPkSBcclxuaW1wb3J0IHsgc3VzcGVuZCBhcyBfc3VzcGVuZCwgb3JpZ2luYWwgYXMgX29yaWdpbmFsLCBhdXRvUnVuIGFzIF9hdXRvUnVuIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2luZGV4J1xyXG5cclxuXHJcbmxldCBwcmVmaXggPSBYdXQucGxhdC5wcmVmaXhTdHlsZVxyXG5sZXQgcndvcmQgPSBcIi1cIlxyXG5cclxuXHJcbi8qKlxyXG4gKiBwYXJhbGxhT2Jqc0NvbGxlY3Rpb246IE9iamVjdFxyXG4gKiAgXHQwOiBQYWdlXHJcbiAqXHQgICAgMTogUGFnZVxyXG4gKlxyXG4gKlx0cmVjb3JkTWFzdGVySWQ6IE9iamVjdFxyXG4gKlx0XHQwOiA5MDAxXHJcbiAqXHQgXHQxOiA5MDAxXHJcbiAqXHJcbiAqXHRyZWNvcmRNYXN0ZXJzY29wZTogT2JqZWN0XHJcbiAqXHRcdDkwMDE6IEFycmF5WzJdXHJcbiAqXHJcbiAqXHRyb290Tm9kZTogdWwgIyBwYXJhbGxheC54dXQgLSBwYXJhbGxheCB4dXQgLSBmbGlwXHJcbiAqXHJcbiAqXHRjdXJyTWFzdGVySWQ6IDkwMDEgLy/lrp7pmYXnmoTlj6/kvb/ljLpcclxuICovXHJcblxyXG5mdW5jdGlvbiBNYXN0ZXJNZ3Iodm0pIHtcclxuXHJcbiAgICB2YXIgY29uZmlnID0gWHV0LmNvbmZpZ1xyXG5cclxuICAgIHRoaXMuc2NyZWVuV2lkdGggPSBjb25maWcuc2NyZWVuU2l6ZS53aWR0aFxyXG4gICAgdGhpcy5zY3JlZW5IZWlnaHQgPSBjb25maWcuc2NyZWVuU2l6ZS5oZWlnaHRcclxuXHJcbiAgICB0aGlzLnBhZ2VUeXBlID0gJ21hc3Rlcic7XHJcblxyXG4gICAgdGhpcy5yb290Tm9kZSA9IHZtLm9wdGlvbnMucm9vdE1hc3RlcjtcclxuICAgIHRoaXMucmVjb3JkTWFzdGVyc2NvcGUgPSB7fTsgLy/orrDlvZVtYXN0ZXLljLrln5/ojIPlm7RcclxuICAgIHRoaXMucmVjb3JkTWFzdGVySWQgPSB7fTsgLy/orrDlvZXpobXpnaLkuI7mr43mnb/lr7nlupTnmoTnvJblj7dcclxuICAgIHRoaXMuY3Vyck1hc3RlcklkID0gbnVsbDsgLy/lj6/op4bljLrmr43mnb/nvJblj7dcclxuXHJcbiAgICAvL+iusOW9leinhuWvn+WkhOeQhueahOWvueixoVxyXG4gICAgdGhpcy5wYXJhbGxheFByb2Nlc3NlZENvbnRldG5zID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmir3osaHmlrnms5VcclxuICAgICAqIOWIm+W7uuinhuinieW3ruWuueWZqFxyXG4gICAgICovXHJcbiAgICB0aGlzLmFic3RyYWN0Q3JlYXRlQ29sbGVjdGlvbigpO1xyXG59XHJcblxyXG5cclxudmFyIE1hc3RlclByb3RvID0gTWFzdGVyTWdyLnByb3RvdHlwZTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAg5a+55aSW5o6l5Y+jXHJcbiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT096aG16Z2i57uT5p6E5aSE55CGPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5NYXN0ZXJQcm90by5jcmVhdGUgPSBmdW5jdGlvbihkYXRhT3B0cywgcGFnZUluZGV4LCBjcmVhdGVDYWxsQmFjaykge1xyXG4gICAgdmFyIG1hc3Rlck9iaiwgcmV1c2VNYXN0ZXJJZCwgcmV1c2VNYXN0ZXJLZXksXHJcbiAgICAgICAgcHB0TWFzdGVyID0gZGF0YU9wdHMuY2hhcHRlckRhcy5wcHRNYXN0ZXIsXHJcbiAgICAgICAgcGFnZU9mZnNldCA9IGRhdGFPcHRzLmNoYXB0ZXJEYXMucGFnZU9mZnNldDtcclxuXHJcbiAgICAvL+avjeadv+WkjeeUqOeahOagh+ekulxyXG4gICAgcmV1c2VNYXN0ZXJJZCA9IHBhZ2VPZmZzZXQgJiYgcGFnZU9mZnNldC5zcGxpdChyd29yZCk7XHJcblxyXG4gICAgLy/nu4TlkIjkuIvmoIdcclxuICAgIGlmIChyZXVzZU1hc3RlcklkICYmIHJldXNlTWFzdGVySWQubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgcmV1c2VNYXN0ZXJLZXkgPSBwcHRNYXN0ZXIgKyByd29yZCArIHJldXNlTWFzdGVySWRbMl07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldXNlTWFzdGVyS2V5ID0gcHB0TWFzdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5qOA5rWL6KeG6KeJ5beu5a+56LGh5piv5ZCm6YeN5aSN5Yib5bu6XHJcbiAgICBpZiAodGhpcy5fY2hlY2tSZXBlYXQocmV1c2VNYXN0ZXJLZXksIHBhZ2VPZmZzZXQsIHBhZ2VJbmRleCkpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvL+mAmuefpeWklumDqCzpnIDopoHliJvlu7rnmoTmr43niYhcclxuICAgIGNyZWF0ZUNhbGxCYWNrKCk7XHJcblxyXG4gICAgbWFzdGVyT2JqID0gbmV3IE1hc3RlcihcclxuICAgICAgICBfLmV4dGVuZChkYXRhT3B0cywge1xyXG4gICAgICAgICAgICAncGFnZVR5cGUnOiB0aGlzLnBhZ2VUeXBlLCAvL+WIm+W7uumhtemdoueahOexu+Wei1xyXG4gICAgICAgICAgICAncm9vdCc6IHRoaXMucm9vdE5vZGUsIC8v5qC55YWD57SgXHJcbiAgICAgICAgICAgICdwcHRNYXN0ZXInOiBwcHRNYXN0ZXIgLy9wcHTmr43mnb9JRFxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIC8v5aKe5Yqg6aG16Z2i566h55CGXHJcbiAgICB0aGlzLmFic3RyYWN0QWRkQ29sbGVjdGlvbihyZXVzZU1hc3RlcktleSwgbWFzdGVyT2JqKTtcclxuXHJcbiAgICByZXR1cm4gbWFzdGVyT2JqO1xyXG59XHJcblxyXG5cclxuLy/plIDmr4HmlbTkuKrpobXpnaLlr7nosaFcclxuTWFzdGVyUHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5yb290Tm9kZSA9IG51bGw7XHJcbiAgICAvL+mUgOavgeWvueixoVxyXG4gICAgdGhpcy5hYnN0cmFjdERlc3Ryb3lDb2xsZWN0aW9uKCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5om+5Yiw5b2T5YmN6aG16Z2i55qE5Y+v5Lul6ZyA6KaB5ruR5Yqo5piv6KeG6KeJ6aG16Z2i5a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5NYXN0ZXJQcm90by5maW5kTWFzdGVyID0gZnVuY3Rpb24obGVmdEluZGV4LCBjdXJySW5kZXgsIHJpZ2h0SW5kZXgsIGRpcmVjdGlvbiwgYWN0aW9uKSB7XHJcbiAgICB2YXIgcHJldkZsYWcsXHJcbiAgICAgICAgbmV4dEZsYWcsXHJcbiAgICAgICAgcHJldk1hc3Rlck9iaixcclxuICAgICAgICBjdXJyTWFzdGVyT2JqLFxyXG4gICAgICAgIG5leHRNYXN0ZXJPYmosXHJcbiAgICAgICAgcHJldk1hc3RlcklkID0gdGhpcy5jb252ZXJzaW9uTWFzdGVySWQobGVmdEluZGV4KSxcclxuICAgICAgICBjdXJyTWFzdGVySWQgPSB0aGlzLmNvbnZlcnNpb25NYXN0ZXJJZChjdXJySW5kZXgpLFxyXG4gICAgICAgIG5leHRNYXN0ZXJJZCA9IHRoaXMuY29udmVyc2lvbk1hc3RlcklkKHJpZ2h0SW5kZXgpO1xyXG5cclxuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAncHJldic6XHJcbiAgICAgICAgICAgIGlmIChwcmV2RmxhZyA9IChjdXJyTWFzdGVySWQgIT09IHByZXZNYXN0ZXJJZCkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJNYXN0ZXJPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihjdXJyTWFzdGVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcmV2TWFzdGVySWQgJiYgcHJldkZsYWcpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbiA9PT0gJ2ZsaXBPdmVyJyAmJiB0aGlzLmNoZWNrQ2xlYXIoW2N1cnJNYXN0ZXJJZCwgcHJldk1hc3RlcklkXSk7IC8v6L6555WM5riF55CGXHJcbiAgICAgICAgICAgICAgICBwcmV2TWFzdGVyT2JqID0gdGhpcy5hYnN0cmFjdEdldFBhZ2VPYmoocHJldk1hc3RlcklkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ25leHQnOlxyXG4gICAgICAgICAgICBpZiAobmV4dEZsYWcgPSAoY3Vyck1hc3RlcklkICE9PSBuZXh0TWFzdGVySWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyTWFzdGVyT2JqID0gdGhpcy5hYnN0cmFjdEdldFBhZ2VPYmooY3Vyck1hc3RlcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobmV4dE1hc3RlcklkICYmIG5leHRGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24gPT09ICdmbGlwT3ZlcicgJiYgdGhpcy5jaGVja0NsZWFyKFtjdXJyTWFzdGVySWQsIG5leHRNYXN0ZXJJZF0pOyAvL+i+ueeVjOa4heeQhlxyXG4gICAgICAgICAgICAgICAgbmV4dE1hc3Rlck9iaiA9IHRoaXMuYWJzdHJhY3RHZXRQYWdlT2JqKG5leHRNYXN0ZXJJZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBbcHJldk1hc3Rlck9iaiwgY3Vyck1hc3Rlck9iaiwgbmV4dE1hc3Rlck9ial07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6aG16Z2i5ruR5Yqo5aSE55CGXHJcbiAqIDEg5q+N54mI5LmL6Ze055qE5YiH5o2iXHJcbiAqIDIg5rWu5Yqo5a+56LGh55qE5YiH5o2iXHJcbiAqL1xyXG5NYXN0ZXJQcm90by5tb3ZlID0gZnVuY3Rpb24obGVmdEluZGV4LCBjdXJySW5kZXgsIHJpZ2h0SW5kZXgsIGRpcmVjdGlvbiwgbW92ZURpc3RhbmNlLCBhY3Rpb24sIHNwZWVkLCBub2Rlcykge1xyXG4gICAgdmFyIHBhcmFsbGF4T2Zmc2V0LFxyXG4gICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGlzQm91bmRhcnkgPSBmYWxzZTsgLy/mmK/ovrnnlYzlpITnkIZcclxuXHJcbiAgICAvL+aJvuWIsOmcgOimgea7keWKqOeahOavjeeJiFxyXG4gICAgXy5lYWNoKHRoaXMuZmluZE1hc3RlcihsZWZ0SW5kZXgsIGN1cnJJbmRleCwgcmlnaHRJbmRleCwgZGlyZWN0aW9uLCBhY3Rpb24pLCBmdW5jdGlvbihwYWdlT2JqLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChwYWdlT2JqKSB7XHJcbiAgICAgICAgICAgIGlzQm91bmRhcnkgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL+avjeeJiOS6pOaOpeWIpOaWrVxyXG4gICAgICAgICAgICAvL+eUqOaIt+S6i+S7tueahOinpuWPkVxyXG4gICAgICAgICAgICBwYWdlT2JqLm9uY2VNYXN0ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy/np7vliqjmr43niYhcclxuICAgICAgICAgICAgdHJhbnNsYXRpb25bYWN0aW9uXS5jYWxsKHBhZ2VPYmosIG1vdmVEaXN0YW5jZVtpbmRleF0sIHNwZWVkKVxyXG4gICAgICAgICAgICAgICAgLy/np7vliqjmta7liqjlrrnlmahcclxuICAgICAgICAgICAgaWYgKHBhZ2VPYmouZmxvYXRDb250ZW50cy5NYXN0ZXJDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uW2FjdGlvbl0uY2FsbChwYWdlT2JqLCBtb3ZlRGlzdGFuY2VbaW5kZXhdLCBzcGVlZCwgcGFnZU9iai5mbG9hdENvbnRlbnRzLk1hc3RlckNvbnRhaW5lcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy/otornlYzkuI3pnIDopoHlpITnkIblhoXpg6jop4blr5/lr7nosaFcclxuICAgIHRoaXMuaXNCb3VuZGFyeSA9IGlzQm91bmRhcnk7XHJcbiAgICBpZiAoaXNCb3VuZGFyeSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvL+enu+WKqOinhuWvn+WvueixoVxyXG4gICAgZnVuY3Rpb24gbW92ZVBhcmFsbGF4T2JqZWN0KG5vZGVzKSB7XHJcbiAgICAgICAgc2VsZi5tb3ZlUGFyYWxsYXhzKG1vdmVEaXN0YW5jZSwgY3VyckluZGV4LCBhY3Rpb24sIGRpcmVjdGlvbiwgc3BlZWQsIG5vZGVzKVxyXG4gICAgfVxyXG5cclxuICAgIC8v56e75Yqo6KeG5a+f5a+56LGhXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgIGNhc2UgJ3ByZXYnOlxyXG4gICAgICAgICAgICBtb3ZlUGFyYWxsYXhPYmplY3QoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbmV4dCc6XHJcbiAgICAgICAgICAgIG5vZGVzICYmIG1vdmVQYXJhbGxheE9iamVjdChub2RlcylcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5YGc5q2i6KGM5Li6XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuTWFzdGVyUHJvdG8uc3VzcGVuZCA9IGZ1bmN0aW9uKHBvaW50ZXJzKSB7XHJcbiAgICAvL+WmguaenOacqui2iueVjOS4jemcgOimgeWkhOeQhuihjOS4ulxyXG4gICAgaWYgKCF0aGlzLmlzQm91bmRhcnkpIHJldHVybjtcclxuICAgIHZhciBtYXN0ZXJPYmosXHJcbiAgICAgICAgc3RvcFBvaW50ZXIgPSBwb2ludGVycy5zdG9wUG9pbnRlcjtcclxuICAgIGlmIChtYXN0ZXJPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihzdG9wUG9pbnRlcikpIHtcclxuICAgICAgICB2YXIgcGFnZUlkID0gbWFzdGVyT2JqLmJhc2VHZXRQYWdlSWQoc3RvcFBvaW50ZXIpO1xyXG4gICAgICAgIC8v5YGc5q2i5rS75Yqo5a+56LGh5rS75YqoXHJcbiAgICAgICAgX3N1c3BlbmQobWFzdGVyT2JqLCBwYWdlSWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5aSN5L2N5Yid5aeL54q25oCBXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuTWFzdGVyUHJvdG8ucmVzZXRPcmlnaW5hbCA9IGZ1bmN0aW9uKHBhZ2VJbmRleCkge1xyXG4gICAgdmFyIG9yaWdpbmFsUGFnZU9iajtcclxuICAgIGlmIChvcmlnaW5hbFBhZ2VPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihwYWdlSW5kZXgpKSB7XHJcbiAgICAgICAgX29yaWdpbmFsKG9yaWdpbmFsUGFnZU9iaik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdOavjeeJiOiHquWKqOi/kOihjFxyXG4gKi9cclxuTWFzdGVyUHJvdG8uYXV0b1J1biA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBtYXN0ZXJPYmosIGVsZW1lbnQ7XHJcbiAgICBpZiAobWFzdGVyT2JqID0gdGhpcy5hYnN0cmFjdEdldFBhZ2VPYmooZGF0YS5jdXJySW5kZXgpKSB7XHJcbiAgICAgICAgLy/ng63ngrnnirbmgIHlpI3kvY1cclxuICAgICAgICB0aGlzLnJlc2V0T3JpZ2luYWwoZGF0YS5zdXNwZW5kSW5kZXgpXHJcbiAgICAgICAgX2F1dG9SdW4obWFzdGVyT2JqLCBkYXRhLmN1cnJJbmRleCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog56e75Yqo5YaF6YOo55qE6KeG5a+f5a+56LGhXHJcbiAqL1xyXG5NYXN0ZXJQcm90by5tb3ZlUGFyYWxsYXhzID0gZnVuY3Rpb24obW92ZURpc3RhbmNlLCBjdXJySW5kZXgsIGFjdGlvbiwgZGlyZWN0aW9uLCBzcGVlZCwgbm9kZXMpIHtcclxuICAgIHZhciByb290Tm9kZSxcclxuICAgICAgICBmbG9hdE9iaixcclxuICAgICAgICBjb250ZW50T2JqLFxyXG4gICAgICAgIGNvbnRlbnRPYmpzLFxyXG4gICAgICAgIGJhc2VDb250ZW50cyxcclxuICAgICAgICBjdXJyUGFyYWxsYXhPYmosXHJcbiAgICAgICAgY3Vyck1vdmVEaXN0YW5jZSxcclxuICAgICAgICBoYXNGbG9hdE1hdGVyLFxyXG4gICAgICAgIGZsb2F0TWF0ZXJQYXJhbGxheENoYW5nZSxcclxuICAgICAgICAvL+mcgOimgeaJp+ihjOWKqOeUu1xyXG4gICAgICAgIGFjdGl2YXRpb25BbmltID0gYWN0aW9uID09PSBcImZsaXBSZWJvdW5kXCIgfHwgYWN0aW9uID09PSBcImZsaXBPdmVyXCIsXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy/lpITnkIblvZPliY3pobXpnaLlhoXnmoTop4bop4nlt67lr7nosaHmlYjmnpxcclxuICAgIGlmIChjdXJyUGFyYWxsYXhPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaih0aGlzLmNvbnZlcnNpb25NYXN0ZXJJZChjdXJySW5kZXgpKSkge1xyXG4gICAgICAgIGlmIChiYXNlQ29udGVudHMgPSBjdXJyUGFyYWxsYXhPYmouYmFzZUdldENvbnRlbnQoKSkge1xyXG4gICAgICAgICAgICBzZWxmLmJhc2VDb250ZW50cyA9IGJhc2VDb250ZW50cztcclxuICAgICAgICAgICAgLy/np7vliqjot53nprtcclxuICAgICAgICAgICAgY3Vyck1vdmVEaXN0YW5jZSA9IG1vdmVEaXN0YW5jZVsxXTtcclxuICAgICAgICAgICAgLy/pgY3ljobmiYDmnInmtLvliqjlr7nosaFcclxuICAgICAgICAgICAgXy5lYWNoKGJhc2VDb250ZW50cywgZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5lYWNoQXNzaXN0Q29udGVudHMoZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+inhuWvn+Wvueixoeenu+WKqFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5wYXJhbGxheCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290Tm9kZSA9IHNjb3BlLnBhcmFsbGF4LnJvb3ROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50T2JqID0gY3VyclBhcmFsbGF4T2JqLmJhc2VHZXRDb250ZW50T2JqZWN0KHNjb3BlLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaciei/meS4quWKqOeUu+aViOaenCAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lhYjlgZzmraLlkKbliJnpgJrov4fop4bop4nlt67np7vliqjkvJrlh7rpl67pophcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8v5b2x5ZON77yM5pGp5aSp6L2u6L2s5YqoQVBLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIOmHjeaWsOa/gOWKqOinhuinieW3ruWvueixoVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiDlm6DkuLrop4blr5/mu5Hliqjlr7nosaHmnInliqjnlLtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICogMuS4qkNTUzPliqjnlLvlhrLnqoHnmoRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICog5omA5Lul5Zyo6KeG5a+f5ruR5Yqo55qE5oOF5Ya15LiL5YWI5YGc5q2i5Yqo55S7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIOeEtuWQjue7meavj+S4gOS4quinhuWvn+WvueixoeaJk+S4iuWvueW6lOeahGhhY2s9PmRhdGEtcGFyYWxsYXhQcm9jZXNzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICog6YCa6L+H5Yqo55S75Zue6LCD5Zyo6YeN5paw5Yqg6L295Yqo55S7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJmbGlwTW92ZVwiICYmIGNvbnRlbnRPYmouYW5taW5JbnN0YW5jZSAmJiAhY29udGVudE9iai5wYXJhbGxheFByb2Nlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/moIforrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3ROYW1lID0gY29udGVudE9iai5hY3ROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudE9iai5zdG9wQW5pbWF0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/op4bop4nlt67lpITnkIbkuIDmrKEs5YGc5q2i6L+H5Yqo55S7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50T2JqLnBhcmFsbGF4UHJvY2Vzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aKe5Yqg5qCH6K6wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290Tm9kZS5hdHRyKCdkYXRhLXBhcmFsbGF4UHJvY2Vzc2VkJywgYWN0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+iusOW9lVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJhbGxheFByb2Nlc3NlZENvbnRldG5zW2FjdE5hbWVdID0gY29udGVudE9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/np7vliqjop4bop4nlt67lr7nosaFcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2lvblRyYW5zbGF0ZVgocm9vdE5vZGUsIHNjb3BlLnBhcmFsbGF4LCBkaXJlY3Rpb24sIGFjdGlvbiwgc3BlZWQsIG5vZGVzLCBjdXJyTW92ZURpc3RhbmNlLCBmbG9hdE1hdGVyUGFyYWxsYXhDaGFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnNpb25UcmFuc2xhdGVYKHJvb3ROb2RlLCBzY29wZSwgZGlyZWN0aW9uLCBhY3Rpb24sIHNwZWVkLCBub2RlcywgY3Vyck1vdmVEaXN0YW5jZSwgZmxvYXRNYXRlclBhcmFsbGF4Q2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IHNjb3BlLnRyYW5zbGF0ZSxcclxuICAgICAgICAgICAgb2Zmc2V0VHJhbnNsYXRlID0gc2NvcGUub2Zmc2V0VHJhbnNsYXRlLFxyXG4gICAgICAgICAgICBub2Rlc18xLCBtb3ZlVHJhbnNsYXRlO1xyXG5cclxuICAgICAgICAvL+W+gOWJjee/u+mhtVxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xyXG4gICAgICAgICAgICAvL+WIhuWJsueahOavlOS+i1xyXG4gICAgICAgICAgICBub2Rlc18xID0gc2NvcGUubm9kZVByb3BvcnRpb247XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5b6A5YmN5rqi5Ye65YiZ5Y+WMFxyXG4gICAgICAgICAgICBub2RlcyA9IChub2RlcyA9PSBub2Rlc18xKSA/IDAgOiBub2Rlc18xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/op4bop4nlr7nosaHnp7vliqjnmoTot53nprtcclxuICAgICAgICBtb3ZlVHJhbnNsYXRlID0gc2VsZi5fdHJhbnNmb3JtQ29udmVyc2lvbih0cmFuc2xhdGUsIGN1cnJNb3ZlRGlzdGFuY2UsIG5vZGVzKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgLy/np7vliqjkuK1cclxuICAgICAgICAgICAgY2FzZSAnZmxpcE1vdmUnOlxyXG4gICAgICAgICAgICAgICAgbW92ZVRyYW5zbGF0ZSA9IHNlbGYuX2ZsaXBNb3ZlKG1vdmVUcmFuc2xhdGUsIG9mZnNldFRyYW5zbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8v5Y+N5by5XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZsaXBSZWJvdW5kJzpcclxuICAgICAgICAgICAgICAgIG1vdmVUcmFuc2xhdGUgPSBzZWxmLl9mbGlwUmVib3VuZChtb3ZlVHJhbnNsYXRlLCBvZmZzZXRUcmFuc2xhdGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvL+e/u+mhtee7k+adnyzorrDlvZXkuIrkuIDpobXnmoTlnZDmoIdcclxuICAgICAgICAgICAgY2FzZSAnZmxpcE92ZXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRyYW5zbGF0ZSA9IHNlbGYuX2ZsaXBPdmVyKG1vdmVUcmFuc2xhdGUsIG9mZnNldFRyYW5zbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9vdmVyTWVtb3J5KG1vdmVUcmFuc2xhdGUsIG9mZnNldFRyYW5zbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIOiusOW9lea1ruWKqOavjeeJiOinhuWvn+S/ruaUuVxyXG4gICAgICAgICAgICAgICAgICogMjAxNC42LjMw6ZKI5a+55rWu5Yqo5aSE55CGXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIC8vIGZsb2F0TWF0ZXJQYXJhbGxheENoYW5nZSAmJiBmbG9hdE1hdGVyUGFyYWxsYXhDaGFuZ2UobW92ZVRyYW5zbGF0ZS50cmFuc2xhdGVYKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+ebtOaOpeaTjeS9nOWFg+e0oFxyXG4gICAgICAgIHNlbGYuX3RyYW5zZm9ybU5vZGVzKHJvb3ROb2RlLCBzcGVlZCwgbW92ZVRyYW5zbGF0ZSwgb2Zmc2V0VHJhbnNsYXRlLm9wYWNpdHlTdGFydCB8fCAwKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDph43mlrDmv4Dliqjop4bop4nlt67lr7nosaFcclxuICog5Zug5Li66KeG5a+f5ruR5Yqo5a+56LGh5pyJ5Yqo55S7XHJcbiAqIDLkuKpDU1Mz5Yqo55S75Yay56qB55qEXHJcbiAqIOaJgOS7peWcqOinhuWvn+a7keWKqOeahOaDheWGteS4i+WFiOWBnOatouWKqOeUu1xyXG4gKiDnhLblkI7nu5nmr4/kuIDkuKrop4blr5/lr7nosaHmiZPkuIrlr7nlupTnmoRoYWNrPT5kYXRhLXBhcmFsbGF4UHJvY2Vzc2VkXHJcbiAqIOmAmui/h+WKqOeUu+Wbnuiwg+WcqOmHjeaWsOWKoOi9veWKqOeUu1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbk1hc3RlclByb3RvLnJlYWN0aXZhdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgaWYgKHRoaXMucGFyYWxsYXhQcm9jZXNzZWRDb250ZXRucykge1xyXG4gICAgICAgIHZhciBhY3ROYW1lID0gdGFyZ2V0LmlkO1xyXG4gICAgICAgIHZhciBjb250ZW50T2JqID0gdGhpcy5wYXJhbGxheFByb2Nlc3NlZENvbnRldG5zW2FjdE5hbWVdO1xyXG4gICAgICAgIGlmIChjb250ZW50T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRPYmoucnVuQW5pbWF0aW9ucygpO1xyXG4gICAgICAgICAgICAvL+inhuinieW3ruWkhOeQhuS4gOasoSzlgZzmraLov4fliqjnlLtcclxuICAgICAgICAgICAgY29udGVudE9iai5wYXJhbGxheFByb2Nlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL+enu+mZpOagh+iusFxyXG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXBhcmFsbGF4UHJvY2Vzc2VkJyk7XHJcbiAgICAgICAgICAgIC8v6K6w5b2VXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFsbGF4UHJvY2Vzc2VkQ29udGV0bnNbYWN0TmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy/lj5jljJboioLngrnnmoRjc3MzdHJhbnNmb3Jt5bGe5oCnXHJcbk1hc3RlclByb3RvLl90cmFuc2Zvcm1Ob2RlcyA9IGZ1bmN0aW9uKHJvb3ROb2RlLCBzcGVlZCwgcHJvcGVydHksIG9wYWNpdHlTdGFydCkge1xyXG4gICAgdmFyIHN0eWxlID0ge30sXHJcbiAgICAgICAgZWZmZWN0ID0gJycsXHJcbiAgICAgICAgeCA9IDAsXHJcbiAgICAgICAgeSA9IDAsXHJcbiAgICAgICAgeiA9IDAsXHJcbiAgICAgICAgcm91bmQgPSBNYXRoLnJvdW5kO1xyXG5cclxuICAgIGlmIChwcm9wZXJ0eS50cmFuc2xhdGVYICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS50cmFuc2xhdGVZICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS50cmFuc2xhdGVaICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHggPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVYKSB8fCAwO1xyXG4gICAgICAgIHkgPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVZKSB8fCAwO1xyXG4gICAgICAgIHogPSByb3VuZChwcm9wZXJ0eS50cmFuc2xhdGVaKSB8fCAwO1xyXG4gICAgICAgIGVmZmVjdCArPSBTdHJpbmcuZm9ybWF0KCd0cmFuc2xhdGUzZCh7MH1weCx7MX1weCx7Mn1weCkgJywgeCwgeSwgeik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb3BlcnR5LnJvdGF0ZVggIT0gdW5kZWZpbmVkIHx8IHByb3BlcnR5LnJvdGF0ZVkgIT0gdW5kZWZpbmVkIHx8IHByb3BlcnR5LnJvdGF0ZVogIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgeCA9IHJvdW5kKHByb3BlcnR5LnJvdGF0ZVgpO1xyXG4gICAgICAgIHkgPSByb3VuZChwcm9wZXJ0eS5yb3RhdGVZKTtcclxuICAgICAgICB6ID0gcm91bmQocHJvcGVydHkucm90YXRlWik7XHJcbiAgICAgICAgZWZmZWN0ICs9IHggPyAncm90YXRlWCgnICsgeCArICdkZWcpICcgOiAnJztcclxuICAgICAgICBlZmZlY3QgKz0geSA/ICdyb3RhdGVZKCcgKyB5ICsgJ2RlZykgJyA6ICcnO1xyXG4gICAgICAgIGVmZmVjdCArPSB6ID8gJ3JvdGF0ZVooJyArIHogKyAnZGVnKSAnIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb3BlcnR5LnNjYWxlWCAhPSB1bmRlZmluZWQgfHwgcHJvcGVydHkuc2NhbGVZICE9IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS5zY2FsZVogIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgeCA9IHJvdW5kKHByb3BlcnR5LnNjYWxlWCAqIDEwMCkgLyAxMDAgfHwgMTtcclxuICAgICAgICB5ID0gcm91bmQocHJvcGVydHkuc2NhbGVZICogMTAwKSAvIDEwMCB8fCAxO1xyXG4gICAgICAgIHogPSByb3VuZChwcm9wZXJ0eS5zY2FsZVogKiAxMDApIC8gMTAwIHx8IDE7XHJcbiAgICAgICAgZWZmZWN0ICs9IFN0cmluZy5mb3JtYXQoJ3NjYWxlM2QoezB9LHsxfSx7Mn0pICcsIHgsIHksIHopO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcm9wZXJ0eS5vcGFjaXR5ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN0eWxlLm9wYWNpdHkgPSByb3VuZChwcm9wZXJ0eS5vcGFjaXR5ICogMTAwKSAvIDEwMCArIG9wYWNpdHlTdGFydDtcclxuICAgICAgICBlZmZlY3QgKz0gJzsnXHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy/mnIDnu4jmlLnlj5jop4bop4nlr7nosaHnmoTlnZDmoIcgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuICAgIGlmIChlZmZlY3QpIHtcclxuICAgICAgICBzdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb24tZHVyYXRpb24nKV0gPSBzcGVlZCArICdtcyc7XHJcbiAgICAgICAgc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSBlZmZlY3Q7XHJcbiAgICAgICAgcm9vdE5vZGUuY3NzKHN0eWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v6ZKI5a+56Lez6L2s6aG16Z2iXHJcbi8v5Yi25L2c5aSE55CG5ZmoXHJcbk1hc3RlclByb3RvLm1ha2VKdW1wUG9jZXNzcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBmaWx0ZXI7XHJcbiAgICB2YXIgbWFzdGVyID0gdGhpcztcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldEluZGV4ID0gZGF0YS50YXJnZXRJbmRleDtcclxuICAgICAgICAgICAgLy/nm67moIfmr43mnb/lr7nosaFcclxuICAgICAgICAgICAgdmFyIHRhcmdldGtleSA9IG1hc3Rlci5jb252ZXJzaW9uTWFzdGVySWQodGFyZ2V0SW5kZXgpO1xyXG4gICAgICAgICAgICAvL+W+l+WIsOi/h+a7pOeahOi+ueeVjGtleXNcclxuICAgICAgICAgICAgLy/lnKhmaWx0ZXLkuK3nmoTpobXpnaLkuLrov4fmu6RcclxuICAgICAgICAgICAgZmlsdGVyID0gbWFzdGVyLnNjYW5Cb3VuZHModGFyZ2V0SW5kZXgsIHRhcmdldGtleSk7XHJcbiAgICAgICAgICAgIC8v5riF55CG5aSa5L2Z5q+N5p2/XHJcbiAgICAgICAgICAgIC8vZmlsdGVyIOmcgOimgeS/neeVmeeahOiMg+WbtFxyXG4gICAgICAgICAgICBtYXN0ZXIuY2hlY2tDbGVhcihmaWx0ZXIsIHRydWUpO1xyXG4gICAgICAgICAgICAvL+abtOaWsOWPr+inhuavjeadv+e8luWPt1xyXG4gICAgICAgICAgICBtYXN0ZXIuY3Vyck1hc3RlcklkID0gdGFyZ2V0a2V5O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy/kv67mraPkvY3nva5cclxuICAgICAgICBjbGVhbjogZnVuY3Rpb24oY3VyckluZGV4LCB0YXJnZXRJbmRleCkge1xyXG4gICAgICAgICAgICBtYXN0ZXIuX2ZpeFBvc2l0aW9uKGZpbHRlcik7XHJcbiAgICAgICAgICAgIG1hc3Rlci5fY2hlY2tQYXJhbGxheFBveChjdXJySW5kZXgsIHRhcmdldEluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v5omr5o+P6L6555WMXHJcbi8v5omr5o+Pa2V555qE5bem5Y+z6L6555WMXHJcbi8v5b2T5YmN6aG16Z2i55qE5bem5Y+z6L65XHJcbk1hc3RlclByb3RvLnNjYW5Cb3VuZHMgPSBmdW5jdGlvbihjdXJyUGFnZSwgY3VycmtleSkge1xyXG4gICAgdmFyIGN1cnJLZXkgPSB0aGlzLmNvbnZlcnNpb25NYXN0ZXJJZChjdXJyUGFnZSksXHJcbiAgICAgICAgZmlsdGVyID0ge30sXHJcbiAgICAgICAgaSA9IGN1cnJQYWdlLFxyXG4gICAgICAgIHByZXZLZXksIG5leHRLZXk7XHJcblxyXG4gICAgLy/lvoDliY1cclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICBwcmV2S2V5ID0gdGhpcy5jb252ZXJzaW9uTWFzdGVySWQoaSk7XHJcbiAgICAgICAgaWYgKHByZXZLZXkgJiYgcHJldktleSAhPT0gY3VycmtleSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJbJ3ByZXYnXSA9IHByZXZLZXk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+W+gOWQjlxyXG4gICAgbmV4dEtleSA9IHRoaXMuY29udmVyc2lvbk1hc3RlcklkKGN1cnJQYWdlICsgMSk7XHJcblxyXG4gICAgLy/lpoLmnpzmnInkuIvkuIDmnaHorrDlvZVcclxuICAgIGlmIChuZXh0S2V5ICYmIG5leHRLZXkgIT09IGN1cnJrZXkpIHtcclxuICAgICAgICAvL+WmguaenOS4jeaYr+W9k+acn+mhtemdoua7oei2s+iMg+WbtOimgeaxglxyXG4gICAgICAgIGZpbHRlclsnbmV4dCddID0gbmV4dEtleTtcclxuICAgIH1cclxuXHJcbiAgICAvL+W9k+WJjemhtemdolxyXG4gICAgaWYgKGN1cnJLZXkpIHtcclxuICAgICAgICBmaWx0ZXJbJ2N1cnInXSA9IGN1cnJLZXk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsdGVyO1xyXG59XHJcblxyXG5cclxuLy/kv67mraPkvY3nva5cclxuTWFzdGVyUHJvdG8uX2ZpeFBvc2l0aW9uID0gZnVuY3Rpb24oZmlsdGVyKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzXHJcblxyXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb24ocGFyYWxsYXhPYmosIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgLy/orr7nva7np7vliqhcclxuICAgICAgICBmdW5jdGlvbiB0b01vdmUoZGlzdGFuY2UsIHNwZWVkKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gcGFyYWxsYXhPYmouZWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHByZWZpeCgndHJhbnNpdGlvbi1kdXJhdGlvbicpLCBzcGVlZCArICdtcycpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jc3MocHJlZml4KCd0cmFuc2Zvcm0nKSwgJ3RyYW5zbGF0ZTNkKCcgKyBkaXN0YW5jZSArICdweCwwcHgsMHB4KScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdwcmV2Jykge1xyXG4gICAgICAgICAgICB0b01vdmUoLXNlbGYuc2NyZWVuV2lkdGgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgICAgICB0b01vdmUoc2VsZi5zY3JlZW5XaWR0aCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2N1cnInKSB7XHJcbiAgICAgICAgICAgIHRvTW92ZSgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIga2V5IGluIGZpbHRlcikge1xyXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ByZXYnOlxyXG4gICAgICAgICAgICAgICAgc2V0UG9zaXRpb24odGhpcy5hYnN0cmFjdEdldFBhZ2VPYmooZmlsdGVyW2tleV0pLCAncHJldicpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY3Vycic6XHJcbiAgICAgICAgICAgICAgICBzZXRQb3NpdGlvbih0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihmaWx0ZXJba2V5XSksICdjdXJyJylcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICduZXh0JzpcclxuICAgICAgICAgICAgICAgIHNldFBvc2l0aW9uKHRoaXMuYWJzdHJhY3RHZXRQYWdlT2JqKGZpbHRlcltrZXldKSwgJ25leHQnKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuTWFzdGVyUHJvdG8uX2NoZWNrUGFyYWxsYXhQb3ggPSBmdW5jdGlvbihjdXJyUGFnZUluZGV4LCB0YXJnZXRJbmRleCkge1xyXG4gICAgdmFyIGtleSwgcGFnZU9iaixcclxuICAgICAgICBwYWdlQ29sbGVjdGlvbiA9IHRoaXMuYWJzdHJhY3RHZXRDb2xsZWN0aW9uKCk7XHJcbiAgICBmb3IgKGtleSBpbiBwYWdlQ29sbGVjdGlvbikge1xyXG4gICAgICAgIHBhZ2VPYmogPSBwYWdlQ29sbGVjdGlvbltrZXldO1xyXG4gICAgICAgIC8v6Lez6LeD6L+H55qE6KeG6KeJ5a655Zmo5aSE55CGXHJcbiAgICAgICAgdGhpcy5fZml4UGFyYWxsYXhQb3gocGFnZU9iaiwgY3VyclBhZ2VJbmRleCwgdGFyZ2V0SW5kZXgpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT095Y676YeN5qOA5rWLPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vL+W9k+WJjeWQjOS4gOinhuiniemhtemdouS9nOeUqOeahOiMg+WbtFxyXG5NYXN0ZXJQcm90by5fdG9SZXBlYXQgPSBmdW5jdGlvbihyZXVzZU1hc3RlcktleSwgcGFnZUluZGV4KSB7XHJcbiAgICB2YXIgdGVtcDtcclxuICAgIGlmICh0ZW1wID0gdGhpcy5yZWNvcmRNYXN0ZXJzY29wZVtyZXVzZU1hc3RlcktleV0pIHtcclxuICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy/mm7TmlrDmr43mnb/kvZznlKjln5/ojIPlm7RcclxuLy9yZWNvcmRNYXN0ZXJzY29wZTp7XHJcbi8vXHQgOTAwMS0xOlswLDFdLCBtYXN0ZXIg5a+55bqU6K6w5b2V55qE6aG156CBXHJcbi8vXHQgOTAwMi0xOlsyLDNdXHJcbi8vXHQgOTAwMS0yOls0LDVdXHJcbi8vfVxyXG5NYXN0ZXJQcm90by5fdXBkYXRhTWFzdGVyc2NvcGUgPSBmdW5jdGlvbihyZXVzZU1hc3RlcktleSwgcGFnZUluZGV4KSB7XHJcbiAgICB2YXIgc2NvcGU7XHJcbiAgICBpZiAoc2NvcGUgPSB0aGlzLnJlY29yZE1hc3RlcnNjb3BlW3JldXNlTWFzdGVyS2V5XSkge1xyXG4gICAgICAgIGlmICgtMSA9PT0gc2NvcGUuaW5kZXhPZihwYWdlSW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnB1c2gocGFnZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmVjb3JkTWFzdGVyc2NvcGVbcmV1c2VNYXN0ZXJLZXldID0gW3BhZ2VJbmRleF1cclxuICAgIH1cclxufVxyXG5cclxuLy/orrDlvZXpobXpnaLkuI7mqKHmnb/moIfnpLrnmoTmmKDlsIRcclxuTWFzdGVyUHJvdG8uX3VwZGF0YWRQYXJhbGxheE1hc3RlciA9IGZ1bmN0aW9uKHJldXNlTWFzdGVyS2V5LCBwYWdlSW5kZXgpIHtcclxuICAgIC8v6K6w5b2V6aG16Z2i5LiO5qih5p2/5qCH56S655qE5pig5bCEXHJcbiAgICB0aGlzLnJlY29yZE1hc3RlcklkW3BhZ2VJbmRleF0gPSByZXVzZU1hc3RlcktleTtcclxuICAgIC8v5pu05paw5Y+v6KeG5Yy65q+N5p2/55qE57yW5Y+3XHJcbiAgICB0aGlzLmN1cnJNYXN0ZXJJZCA9IHRoaXMuY29udmVyc2lvbk1hc3RlcklkKFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZUluZGV4KCkpXHJcbn1cclxuXHJcbi8v5qOA5rWL5piv5ZCm6ZyA6KaB5Yib5bu66KeG6KeJ5beuXHJcbk1hc3RlclByb3RvLl9jaGVja1JlcGVhdCA9IGZ1bmN0aW9uKHJldXNlTWFzdGVyS2V5LCBwYWdlT2Zmc2V0LCBwYWdlSW5kZXgpIHtcclxuICAgIHZhciB0YWcgPSB0aGlzLl90b1JlcGVhdChyZXVzZU1hc3RlcktleSwgcGFnZUluZGV4KTsgLy9mYWxzZeWwseaYr+ayoeaJvuWIsOinhuWvn+WvueixoVxyXG4gICAgdGhpcy5fdXBkYXRhTWFzdGVyc2NvcGUocmV1c2VNYXN0ZXJLZXksIHBhZ2VJbmRleCk7XHJcbiAgICB0aGlzLl91cGRhdGFkUGFyYWxsYXhNYXN0ZXIocmV1c2VNYXN0ZXJLZXksIHBhZ2VJbmRleCk7XHJcbiAgICByZXR1cm4gdGFnO1xyXG59XHJcblxyXG4vL3RyYW5zZm9ybei9rOWMluaIkOebuOWvueW6lOeahOWBj+enu+mHj1xyXG5NYXN0ZXJQcm90by5fdHJhbnNmb3JtQ29udmVyc2lvbiA9IGZ1bmN0aW9uKHByb3BlcnR5LCBtb3ZlRGlzdGFuY2UsIG5vZGVzKSB7XHJcbiAgICB2YXIgdGVtcCA9IHt9LFxyXG4gICAgICAgIGk7XHJcblxyXG4gICAgZm9yIChpIGluIHByb3BlcnR5KSB7XHJcbiAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZVgnOlxyXG4gICAgICAgICAgICBjYXNlICd0cmFuc2xhdGVaJzpcclxuICAgICAgICAgICAgICAgIHRlbXBbaV0gPSBtb3ZlRGlzdGFuY2UgKiBub2RlcyAqIHByb3BlcnR5W2ldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZVknOlxyXG4gICAgICAgICAgICAgICAgdGVtcFtpXSA9IG1vdmVEaXN0YW5jZSAqICh0aGlzLnNjcmVlbkhlaWdodCAvIHRoaXMuc2NyZWVuV2lkdGgpICogbm9kZXMgKiBwcm9wZXJ0eVtpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvcGFjaXR5U3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgdGVtcFtpXSA9IHByb3BlcnR5Lm9wYWNpdHlTdGFydDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy/kuZjku6UtMeaYr+S4uuS6huWQkeWPs+e/u+mhteaXtuWPluWAvOS4uuatoyzkvY3np7vkuI3pnIDov5nmoLflgZpcclxuICAgICAgICAgICAgICAgIHRlbXBbaV0gPSAtMSAqIG1vdmVEaXN0YW5jZSAvIHRoaXMuc2NyZWVuV2lkdGggKiBwcm9wZXJ0eVtpXSAqIG5vZGVzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0ZW1wO1xyXG59XHJcblxyXG4vL+enu+WKqOWPoOWKoOWAvFxyXG5NYXN0ZXJQcm90by5fZmxpcE1vdmUgPSBmdW5jdGlvbihwcm9wZXJ0eSwgcmVwYWlyUHJvcGVydHkpIHtcclxuICAgIHZhciB0ZW1wID0ge307XHJcbiAgICB2YXIgc3RhcnQgPSBwcm9wZXJ0eS5vcGFjaXR5U3RhcnQ7XHJcbiAgICBmb3IgKHZhciBpIGluIHByb3BlcnR5KSB7XHJcbiAgICAgICAgdGVtcFtpXSA9IHByb3BlcnR5W2ldICsgcmVwYWlyUHJvcGVydHlbaV07XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhcnQgPiAtMSkgdGVtcC5vcGFjaXR5U3RhcnQgPSBzdGFydDtcclxuICAgIHJldHVybiB0ZW1wO1xyXG59XHJcblxyXG4vL+WPjeW8uVxyXG5NYXN0ZXJQcm90by5fZmxpcFJlYm91bmQgPSBmdW5jdGlvbihwcm9wZXJ0eSwgcmVwYWlyUHJvcGVydHkpIHtcclxuICAgIHZhciB0ZW1wID0ge307XHJcbiAgICBmb3IgKHZhciBpIGluIHByb3BlcnR5KSB7XHJcbiAgICAgICAgdGVtcFtpXSA9IHJlcGFpclByb3BlcnR5W2ldIHx8IHByb3BlcnR5W2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRlbXA7XHJcbn1cclxuXHJcbi8v57+76aG157uT5p2fXHJcbk1hc3RlclByb3RvLl9mbGlwT3ZlciA9IGZ1bmN0aW9uKHByb3BlcnR5LCByZXBhaXJQcm9wZXJ0eSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZsaXBNb3ZlKHByb3BlcnR5LCByZXBhaXJQcm9wZXJ0eSk7XHJcbn1cclxuXHJcbi8v57uT5p2f5ZCO57yT5a2Y5LiK5LiA5Liq6K6w5b2VXHJcbk1hc3RlclByb3RvLl9vdmVyTWVtb3J5ID0gZnVuY3Rpb24ocHJvcGVydHksIHJlcGFpclByb3BlcnR5KSB7XHJcbiAgICBmb3IgKHZhciBpIGluIHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmVwYWlyUHJvcGVydHlbaV0gPSBwcm9wZXJ0eVtpXTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v5L+u5q2j6Lez6L2s5ZCO6KeG6KeJ5a+56LGh5Z2Q5qCHXHJcbk1hc3RlclByb3RvLl9maXhQYXJhbGxheFBveCA9IGZ1bmN0aW9uKHBhcmFsbGF4T2JqLCBjdXJyUGFnZUluZGV4LCB0YXJnZXRJbmRleCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgIGNvbnRlbnRPYmpzLCBwcmV2Tm9kZXMsIG5vZGVzO1xyXG4gICAgaWYgKGNvbnRlbnRPYmpzID0gcGFyYWxsYXhPYmouYmFzZUdldENvbnRlbnQoKSkge1xyXG4gICAgICAgIGNvbnRlbnRPYmpzLmZvckVhY2goZnVuY3Rpb24oY29udGVudE9iaikge1xyXG4gICAgICAgICAgICBjb250ZW50T2JqLmVhY2hBc3Npc3RDb250ZW50cyhmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLnBhcmFsbGF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwYWlyTm9kZXMuY2FsbChzZWxmLCBzY29wZS5wYXJhbGxheCwgY3VyclBhZ2VJbmRleCwgdGFyZ2V0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwYWlyTm9kZXMoc2NvcGUsIGN1cnJQYWdlSW5kZXgsIHRhcmdldEluZGV4KSB7XHJcbiAgICAgICAgdmFyIHJhbmdlUGFnZSA9IHNjb3BlLmNhbGN1bGF0ZVJhbmdlUGFnZSgpLFxyXG4gICAgICAgICAgICByb290Tm9kZSA9IHNjb3BlLnJvb3ROb2RlLFxyXG4gICAgICAgICAgICB0cmFuc2xhdGUgPSBzY29wZS50cmFuc2xhdGUsXHJcbiAgICAgICAgICAgIG9mZnNldFRyYW5zbGF0ZSA9IHNjb3BlLm9mZnNldFRyYW5zbGF0ZSxcclxuICAgICAgICAgICAgbW92ZVRyYW5zbGF0ZSxcclxuICAgICAgICAgICAgbm9kZXMgPSBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VOb2RlKHRhcmdldEluZGV4IC0gMSk7XHJcblxyXG4gICAgICAgIGlmICh0YXJnZXRJbmRleCA+IGN1cnJQYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgLy9uZXh0XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXRJbmRleCA+IHJhbmdlUGFnZVsnZW5kJ10pIHtcclxuICAgICAgICAgICAgICAgIG5vZGVzID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vcHJldlxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0SW5kZXggPCByYW5nZVBhZ2VbJ3N0YXJ0J10pIHtcclxuICAgICAgICAgICAgICAgIG5vZGVzID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbW92ZVRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zZm9ybUNvbnZlcnNpb24odHJhbnNsYXRlLCAtc2VsZi5zY3JlZW5XaWR0aCwgbm9kZXMpO1xyXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybU5vZGVzKHJvb3ROb2RlLCAzMDAsIG1vdmVUcmFuc2xhdGUsIG9mZnNldFRyYW5zbGF0ZS5vcGFjaXR5U3RhcnQpO1xyXG4gICAgICAgIHRoaXMuX292ZXJNZW1vcnkobW92ZVRyYW5zbGF0ZSwgb2Zmc2V0VHJhbnNsYXRlKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8v5omB5bmz5YyW5a+56LGh5Yiw5pWw57uEXHJcbmZ1bmN0aW9uIHRvQXJyYXkoZmlsdGVyKSB7XHJcbiAgICB2YXIgYXJyID0gW107IFxyXG4gICAgaWYgKCFmaWx0ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGZpbHRlcikge1xyXG4gICAgICAgICAgICBhcnIucHVzaChmaWx0ZXJba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbHRlciA9IGFycjtcclxuICAgIH1cclxuICAgIHJldHVybiBmaWx0ZXI7XHJcbn1cclxuXHJcbi8v5qOA5rWL5piv5ZCm6ZyA6KaB5riF55CGXHJcbi8vIDEg5pmu6YCa57+76aG15riF55CGICDjgJDmlbDnu4Tov4fmu6TmnaHku7bjgJFcclxuLy8gMiDot7PovazpobXpnaLmuIXnkIYgIOOAkOWvueixoei/h+a7pOadoeS7tuOAkVxyXG5NYXN0ZXJQcm90by5jaGVja0NsZWFyID0gZnVuY3Rpb24oZmlsdGVyLCB0b1BhZ2UpIHtcclxuICAgIHZhciBrZXksIGluZGV4T2YsXHJcbiAgICAgICAgcmVtb3ZlTWFzdGVySWQgPSBfLmtleXModGhpcy5hYnN0cmFjdEdldENvbGxlY3Rpb24oKSk7XHJcblxyXG4gICAgLy8g5aaC5p6c5pyJMuS4quS7peS4iueahOavjeadv+WvueixoSzlsLHpnIDopoHmuIXnkIZcclxuICAgIGlmIChyZW1vdmVNYXN0ZXJJZC5sZW5ndGggPiAyIHx8IHRvUGFnZSkgeyAvL+aIluiAheaYr+i3s+i9rOmhtemdolxyXG4gICAgICAgIC8v6Kej5p6Q5a+56LGhXHJcbiAgICAgICAgZmlsdGVyID0gdG9BcnJheShmaWx0ZXIpO1xyXG4gICAgICAgIC8v6L+H5rukXHJcbiAgICAgICAgXy5lYWNoKGZpbHRlciwgZnVuY3Rpb24obWFzdGVySWQpIHtcclxuICAgICAgICAgICAgaWYgKG1hc3RlcklkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4T2YgPSByZW1vdmVNYXN0ZXJJZC5pbmRleE9mKG1hc3RlcklkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKC0xICE9PSBpbmRleE9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/ov4fmu6TpnIDopoHliKDpmaTnmoTlr7nosaFcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVNYXN0ZXJJZC5zcGxpY2UoaW5kZXhPZiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuY2xlYXJNZW1vcnkocmVtb3ZlTWFzdGVySWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL+a4heeQhuWGheWtmFxyXG4vL+mcgOimgea4heeQhueahGtleeWQiOmbhlxyXG5NYXN0ZXJQcm90by5jbGVhck1lbW9yeSA9IGZ1bmN0aW9uKHJlbW92ZU1hc3RlcklkKSB7XHJcbiAgICB2YXIgcGFnZU9iaiwgc2VsZiA9IHRoaXM7XHJcbiAgICBfLmVhY2gocmVtb3ZlTWFzdGVySWQsIGZ1bmN0aW9uKHJlbW92ZWtleSkge1xyXG4gICAgICAgIC8v6ZSA5q+B6aG16Z2i5a+56LGh5LqL5Lu2XHJcbiAgICAgICAgaWYgKHBhZ2VPYmogPSBzZWxmLmFic3RyYWN0R2V0UGFnZU9iaihyZW1vdmVrZXkpKSB7XHJcbiAgICAgICAgICAgIC8v56e76Zmk5LqL5Lu2XHJcbiAgICAgICAgICAgIHBhZ2VPYmouYmFzZURlc3Ryb3koKTtcclxuICAgICAgICAgICAgLy/np7vpmaTliJfooahcclxuICAgICAgICAgICAgc2VsZi5hYnN0cmFjdFJlbW92ZUNvbGxlY3Rpb24ocmVtb3Zla2V5KTtcclxuICAgICAgICAgICAgc2VsZi5yZW1vdmVSZWNvcmRNYXN0ZXJzY29wZShyZW1vdmVrZXkpOztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/muIXnkIbkvZznlKjln5/nvJPlrZhcclxuICAgICAgICBkZWxldGUgc2VsZi5yZWNvcmRNYXN0ZXJzY29wZVtyZW1vdmVrZXldO1xyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8v5rOo5YaM54q25oCB566h55CGXHJcbk1hc3RlclByb3RvLnJlZ2lzdGVyID0gZnVuY3Rpb24ocGFnZUluZGV4LCB0eXBlLCBob3RzcG90T2JqKSB7XHJcbiAgICB2YXIgcGFyYWxsYXhPYmo7XHJcbiAgICBpZiAocGFyYWxsYXhPYmogPSB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaih0aGlzLmNvbnZlcnNpb25NYXN0ZXJJZChwYWdlSW5kZXgpKSkge1xyXG4gICAgICAgIHBhcmFsbGF4T2JqLnJlZ2lzdGVyQ290ZW50cy5hcHBseShwYWdlT2JqLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG59XHJcbiBcclxuLy89PT09PT09PT09PT09PT09PT09PT09PeW3peWFt+aWueazlT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy9wYWdl6L2s5YyW5oiQ5q+N54mISURcclxuTWFzdGVyUHJvdG8uY29udmVyc2lvbk1hc3RlcklkID0gZnVuY3Rpb24ocGFnZUluZGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWNvcmRNYXN0ZXJJZCA/IHRoaXMucmVjb3JkTWFzdGVySWRbcGFnZUluZGV4XSA6IHVuZGVmaW5lZDtcclxufVxyXG5cclxuTWFzdGVyUHJvdG8ucmVtb3ZlUmVjb3JkTWFzdGVyc2NvcGUgPSBmdW5jdGlvbihyZW1vdmVrZXkpIHtcclxuICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICB2YXIgcmVjb3JkTWFzdGVyc2NvcGUgPSBtZS5yZWNvcmRNYXN0ZXJzY29wZVtyZW1vdmVrZXldO1xyXG4gICAgLy/muIXnkIbpobXnoIHmjIfnpLrmoIforrBcclxuICAgIHJlY29yZE1hc3RlcnNjb3BlLmZvckVhY2goZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICBkZWxldGUgbWUucmVjb3JkTWFzdGVySWRbc2NvcGVdO1xyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8v5re35YWl5oq96LGh5o6l5Y+j5pa55rOVXHJcbmV4dGVuZChNYXN0ZXJNZ3IsIEFic3RyYWN0KVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBNYXN0ZXJNZ3JcclxufVxyXG5cclxuLy8gfSlcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL21hbmFnZXIvbWFzdGVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 69 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.overrideApi = overrideApi;\n\nvar _option = __webpack_require__(4);\n\nvar typeFilter = ['page', 'master'];\n\n/**\r\n * 合并参数设置\r\n * 1 pageMgr\r\n * 2 masterMgr\r\n * 3 修正pageType\r\n * 4 args参数\r\n * 5 回调每一个上下文\r\n */\n/**\r\n * 应用对外接口\r\n * 此模块的所有方法都是动态修正上下文，自动切换场景\r\n * 1.\tXut.Application\r\n * \t\t\ta)\t整个应用程序的接口，执行应用级别的操作，例如退出应用之类。\r\n * 2.\tXut.DocumentWindow\r\n * \t\t\ta)\t窗口的接口。窗口就是电子杂志的展示区域，可以操作诸如宽度、高度、长宽比之类。\r\n * 3.\tXut.View\r\n * \t\t\ta)\t视图接口。视图是窗口的展示方式，和页面相关的接口，都在这里。\r\n * 4.\tXut.Presentation\r\n * \t\t\ta)\t数据接口。和电子杂志的数据相关的接口，都在这里。\r\n * 5.\tXut.Slides\r\n *\t\t\ta)\t所有页面的集合\r\n * 6.\tXut.Slide\r\n * \t\t\ta)\t单个页面\r\n * 7.\tXut.Master\r\n * \t\t\ta)\t页面的母版\r\n * @return {[type]} [description]\r\n */\n\nfunction createaAccess(mgr) {\n    return function (callback, pageType, args, eachContext) {\n        //如果第一个参数不是pageType模式\n        //参数移位\n        if (pageType !== undefined && -1 === typeFilter.indexOf(pageType)) {\n            var temp = args;\n            args = pageType;\n            eachContext = temp;\n            pageType = 'page';\n        }\n\n        //pageIndex为pageType参数\n        if (-1 !== typeFilter.indexOf(args)) {\n            pageType = args;\n            args = null;\n        }\n\n        pageType = pageType || 'page';\n\n        if (mgr[pageType]) {\n            return callback(mgr[pageType], pageType, args, eachContext);\n        } else {\n            console.log('传递到access的pageType错误！');\n        }\n    };\n}\n\n/**\r\n * 判断是否存在页码索引\r\n * 如果不存在默认取当前页面\r\n */\nfunction createExistIndex($globalEvent) {\n    return function (pageIndex) {\n        //如果不存在\n        if (pageIndex == undefined) {\n            pageIndex = $globalEvent.hindex; //当前页面\n        }\n        return pageIndex;\n    };\n}\n\nfunction overrideApi(vm) {\n\n    var $globalEvent = vm.$globalEvent;\n    var options = vm.options;\n    var $scheduler = vm.$scheduler;\n\n    //页面与母版的管理器\n    var access = createaAccess({\n        page: $scheduler.pageMgr,\n        master: $scheduler.masterMgr\n    });\n\n    var isExistIndex = createExistIndex($globalEvent);\n\n    //***************************************************************\n    //\n    //  数据接口\n    //\n    //***************************************************************\n\n    var Presentation = Xut.Presentation;\n\n    /**\r\n     * 获取当前页码\r\n     */\n    Presentation.GetPageIndex = function () {\n        return $globalEvent.hindex;\n    };\n\n    ///////////////\n    //获取页面的总数据 //\n    //1 chapter数据\n    //2 section数据\n    ///////////////\n    _.each([\"Section\", \"Page\"], function (apiName) {\n        Presentation['GetApp' + apiName + 'Data'] = function (callback) {\n            var i = 0,\n                temp = [],\n                cps = Xut.data.query('app' + apiName),\n                cpsLength = cps.length;\n            for (i; i < cpsLength; i++) {\n                temp.push(cps.item(i));\n            }\n            return temp;\n        };\n    });\n\n    //////////////////\n    //获取首页的pageId //\n    //////////////////\n    Presentation.GetFirstPageId = function (seasonId) {\n        var sectionRang = Xut.data.query('sectionRelated', seasonId);\n        var pageData = Xut.data.query('appPage');\n        return pageData.item(sectionRang.start);\n    };\n\n    //==========================================\n    //\t四大数据接口\n    //\t快速获取一个页面的nodes值\n    //\t获取当前页面的页码编号 - chapterId\n    //\t快速获取指定页面的chapter数据\n    //\tpagebase页面管理对象\n    //==========================================\n    _.each([\"GetPageId\", \"GetPageNode\", \"GetPageData\", \"GetPageObj\"], function (apiName) {\n        Presentation[apiName] = function (pageType, pageIndex) {\n            return access(function (manager, pageType, pageIndex) {\n                pageIndex = isExistIndex(pageIndex);\n                return manager[\"abstract\" + apiName](pageIndex, pageType);\n            }, pageType, pageIndex);\n        };\n    });\n\n    /**\r\n     * 得到页面根节点\r\n     * li节点\r\n     */\n    Presentation.GetPageElement = function () {\n        var obj = Presentation.GetPageObj();\n        return obj.element;\n    };\n\n    /**\r\n     * 获取页码标记\r\n     * 因为非线性的关系，页面都是按chpater组合的\r\n     * page_0\r\n     * page_10\r\n     * 但是每一个章节页面的索引是从0开始的\r\n     * 区分pageIndex\r\n     */\n    Presentation.GetPagePrefix = function (pageType, pageIndex) {\n        var pageObj = Presentation.GetPageObj(pageType, pageIndex);\n        return pageObj.pid;\n    };\n\n    //命名前缀\n    var prefix = 'Content_';\n\n    /**\r\n     * 创建一个content的命名规则\r\n     */\n    Presentation.MakeContentPrefix = function (pageIndex) {\n        return prefix + Presentation.GetPagePrefix(pageIndex) + \"_\";\n    };\n\n    /**\r\n     * 获取命名规则\r\n     */\n    Presentation.GetContentName = function (id) {\n        if (id) {\n            return prefix + Presentation.GetPagePrefix() + \"_\" + id;\n        } else {\n            return prefix + Presentation.GetPagePrefix();\n        }\n    };\n\n    //***************************************************************\n    //\n    //  视图接口\n    //\n    //***************************************************************\n\n    var View = Xut.View;\n\n    /**\r\n     * 显示工具栏\r\n     * 没有参数显示 工具栏与控制翻页按钮\r\n     * 有参数单独显示指定的\r\n     */\n    View.ShowToolbar = function (point) {\n        vm.$emit('change:toggleToolbar', 'show', point);\n    };\n\n    /**\r\n     * 隐藏工具栏\r\n     * 没有参数隐藏 工具栏与控制翻页按钮\r\n     * 有参数单独隐藏指定\r\n     */\n    View.HideToolbar = function (point) {\n        vm.$emit('change:toggleToolbar', 'hide', point);\n    };\n\n    /**\r\n     * 指定特定的显示与隐藏\r\n     *  Xut.View.Toolbar({\r\n     *       show :'bottom',\r\n     *       hide :'controlBar'\r\n     *   })\r\n     *\r\n     *  //工具栏与翻页按钮全部显示/隐藏\r\n     *  Xut.View.Toolbar('show')\r\n     *  Xut.View.Toolbar('hide')\r\n     *\r\n     * @return {[type]} [description]\r\n     */\n    View.Toolbar = function (cfg) {\n        vm.$emit('change:toggleToolbar', cfg);\n    };\n\n    /**\r\n     * 跳转到上一个页面\r\n     */\n    View.GotoPrevSlide = function (seasonId, chapterId) {\n        if (seasonId && chapterId) {\n            Xut.View.LoadScenario({\n                'scenarioId': seasonId,\n                'chapterId': chapterId\n            });\n            return;\n        }\n\n        //ibooks模式下的跳转\n        //全部转化成超链接\n        if (Xut.IBooks.Enabled && Xut.IBooks.runMode()) {\n            location.href = Xut.IBooks.pageIndex - 1 + \".xhtml\";\n            return;\n        }\n\n        options.multiplePages && $globalEvent.prev();\n    };\n\n    /**\r\n     * 跳转到下一个页面\r\n     */\n    View.GotoNextSlide = function (seasonId, chapterId) {\n        if (seasonId && chapterId) {\n            Xut.View.LoadScenario({\n                'scenarioId': seasonId,\n                'chapterId': chapterId\n            });\n            return;\n        }\n\n        //ibooks模式下的跳转\n        //全部转化成超链接\n        if (Xut.IBooks.Enabled && Xut.IBooks.runMode()) {\n            location.href = Xut.IBooks.pageIndex + 1 + \".xhtml\";\n            return;\n        }\n\n        options.multiplePages && $globalEvent.next();\n    };\n\n    /**\r\n     * 跳转页面\r\n     * 场景内部切换\r\n     * 跳转到指定编号的页面\r\n     * Action 类型跳转\r\n     * xxtlink 超连接跳转,svg内嵌跳转标记处理\r\n     * 文本框跳转\r\n     * ........\r\n     */\n    View.GotoSlide = function (seasonId, chapterId) {\n        var count,\n            sceneObj,\n            currscene,\n            sceneController,\n\n        //修正参数\n        fixParameter = function fixParameter(pageIndex) {\n            pageIndex = Number(pageIndex) - 1;\n            if (pageIndex < 0) {\n                pageIndex = 0;\n            }\n            return pageIndex;\n        };\n\n        //ibooks模式下的跳转\n        //全部转化成超链接\n        if (Xut.IBooks.Enabled && Xut.IBooks.runMode() && chapterId) {\n            location.href = chapterId + \".xhtml\";\n            return;\n        }\n\n        //兼容数据错误\n        if (!seasonId && !chapterId) return;\n\n        //如果是一个参数是传递页码数,则为内部跳转\n        if (arguments.length === 1) {\n            //复位翻页按钮\n            vm.$emit('change:showNext');\n            return $globalEvent.scrollToPage(fixParameter(seasonId));\n        }\n\n        //场景模式内部跳转\n        if (options.scenarioId == seasonId) {\n            //chpaterId 转化成实际页码\n            var sectionRang = Xut.data.query('sectionRelated', seasonId);\n            var pageIndex = chapterId - sectionRang.start;\n            vm.$emit('change:showNext');\n            return $globalEvent.scrollToPage(fixParameter(pageIndex));\n        }\n        //场景与场景的跳转\n        return View.LoadScenario({\n            'scenarioId': seasonId,\n            'chapterId': chapterId\n        });\n    };\n\n    //页面滑动\n    View.MovePage = function (distance, speed, direction, action) {\n        //如果禁止翻页模式 || 如果是滑动,不是边界\n        if (!options.multiplePages || $globalEvent.isMove() || action === 'flipMove' && $globalEvent.isBorder(distance)) {\n            return;\n        }\n        var pagePointer = $globalEvent.pagePointer,\n            data = {\n            'distance': distance,\n            'speed': speed,\n            'direction': direction,\n            'action': action,\n            'leftIndex': pagePointer.leftIndex,\n            'pageIndex': pagePointer.currIndex,\n            'rightIndex': pagePointer.rightIndex\n        };\n        $scheduler.move(data);\n        pagePointer = null;\n    };\n\n    //***************************************************************\n    //\n    //  辅助对象的控制接口\n    //\n    //***************************************************************\n\n    /**\r\n     * 运行辅助动画\r\n     * 辅助对象的activityId,或者合集activityId\r\n     * Run\r\n     * stop\r\n     * 1 零件\r\n     * 2 音频动画\r\n     */\n    var Assist = Xut.Assist;\n\n    _.each([\"Run\", \"Stop\"], function (apiName) {\n        Assist[apiName] = function (pageType, activityId, outCallBack) {\n            access(function (manager, pageType, activityId, outCallBack) {\n                //数组\n                if (_.isArray(activityId)) {\n                    //完成通知\n                    var markComplete = function () {\n                        var completeStatistics = activityId.length; //动画完成统计\n                        return function () {\n                            if (completeStatistics === 1) {\n                                outCallBack && outCallBack();\n                                markComplete = null;\n                            }\n                            completeStatistics--;\n                        };\n                    }();\n                    _.each(activityId, function (id) {\n                        manager.abstractAssistAppoint(id, $globalEvent.hindex, markComplete, apiName);\n                    });\n                } else {\n                    manager.abstractAssistAppoint(activityId, $globalEvent.hindex, outCallBack, apiName);\n                }\n            }, pageType, activityId, outCallBack);\n        };\n    });\n\n    //***************************************************************\n    //\n    //  针对page页面的content类型操作接口\n    //\n    //***************************************************************\n\n    var Contents = Xut.Contents;\n\n    /**\r\n     * 获取指定的对象\r\n     * 传递参数\r\n     * 单一 id\r\n     * 数据id合集 [1,2,4,5,6]\r\n     * @param {[type]}   contentIds  [description]\r\n     * @param {Function} eachContext 回调遍历每一个上下文\r\n     */\n    Contents.Get = function (pageType, contentIds, eachContext) {\n\n        return access(function (manager, pageType, contentIds, eachContext) {\n\n            var contentObj,\n                contentObjs,\n                pageIndex = Presentation.GetPageIndex();\n\n            function findContent(currIndex, contentId) {\n                var pageObj;\n                if (pageObj = manager.abstractGetPageObj(currIndex)) {\n                    return pageObj.baseGetContentObject(contentId);\n                }\n            }\n\n            //如果传递是数组合集\n            if (_.isArray(contentIds)) {\n                contentObjs = [];\n                _.each(contentIds, function (id) {\n                    contentObj = findContent(pageIndex, id);\n                    if (eachContext) {\n                        //传递每一个处理的上下文\n                        eachContext(id, contentObj);\n                    } else {\n                        if (contentObj) {\n                            contentObjs.push(contentObj);\n                        } else {\n                            Xut.log('error', '找不到对应的content数据' + id);\n                        }\n                    }\n                });\n                return contentObjs;\n            }\n\n            //如果传递的是Content_1_3组合情况\n            if (/_/.test(contentIds)) {\n                var expr = contentIds.split('_');\n                if (expr.length > 1) {\n                    return findContent(expr[1], expr[2]);\n                }\n            }\n\n            //单一content id\n            contentObj = findContent(pageIndex, contentIds);\n\n            if (eachContext) {\n                eachContext(contentObj);\n            } else {\n                return contentObj;\n            }\n        }, pageType, contentIds, eachContext);\n    };\n\n    /**\r\n     * 得到指定页面零件的数据\r\n     * 获取指定的content数据\r\n     * @param  {[type]} contentId [description]\r\n     * @return {[type]}           [description]\r\n     */\n    Contents.GetPageWidgetData = function (pageType, contentId) {\n\n        //如果没有传递pageType取默认\n        if (-1 === typeFilter.indexOf(pageType)) {\n            contentId = pageType;\n            pageType = 'page';\n        }\n\n        //必须有数据\n        if (!contentId || !contentId.length) {\n            return;\n        }\n\n        //保证是数组格式\n        if (_.isString(contentId)) {\n            contentId = [contentId];\n        }\n\n        var contentDas,\n            contents = [];\n\n        Contents.Get(pageType, contentId, function (cid, content) {\n            //是内部对象\n            if (content && (contentDas = content.contentDas)) {\n                //通过内部管理获取对象\n                contents.push({\n                    'id': content.id,\n                    'idName': content.actName,\n                    'element': content.$contentProcess,\n                    'theTitle': contentDas.theTitle,\n                    'scaleHeight': contentDas.scaleHeight,\n                    'scaleLeft': contentDas.scaleLeft,\n                    'scaleTop': contentDas.scaleTop,\n                    'scaleWidth': contentDas.scaleWidth,\n                    'contentData': contentDas,\n                    'source': 'innerObjet' //获取方式内部对象\n                });\n            } else {\n                    //如果通过内部找不到对象的content数据,则直接查找数据库\n                    //可能是一个事件的钩子对象\n                    if (contentDas = seekQuery(cid)) {\n                        var actName = Presentation.GetContentName(cid);\n                        var element;\n                        //如果对象是事件钩子或者是浮动对象\n                        //没有具体的数据\n                        if (content && content.$contentProcess) {\n                            element = content.$contentProcess;\n                        } else {\n                            element = $('#' + actName);\n                        }\n                        contents.push({\n                            'id': cid,\n                            'idName': actName,\n                            'element': element,\n                            'theTitle': contentDas.theTitle,\n                            'scaleHeight': contentDas.scaleHeight,\n                            'scaleLeft': contentDas.scaleLeft,\n                            'scaleTop': contentDas.scaleTop,\n                            'scaleWidth': contentDas.scaleWidth,\n                            'contentData': contentDas,\n                            'source': 'dataBase'\n                        });\n                    } else {\n                        Xut.log('error', '找不到对应的GetPageWidgetData数据' + cid);\n                    }\n                }\n        });\n        return contents;\n    };\n\n    //数据库查找\n    function seekQuery(id) {\n        var contentData = Xut.data.query('Content', id);\n        if (contentData) {\n            return (0, _option.reviseSize)(_.extend({}, contentData));\n        }\n    }\n\n    //******************************************\n    //\n    //\t\t互斥接口\n    //\t\t直接显示\\隐藏\\停止动画\n    //\n    //*******************************************\n\n    //检测类型为字符串\n    function typeCheck(objNameList) {\n        return !objNameList || typeof objNameList !== 'string' ? true : false;\n    }\n\n    /**\r\n     * 针对文本对象的直接操作\r\n     * 显示\r\n     * 隐藏\r\n     * 停止动画\r\n     */\n    _.each([\"Show\", \"Hide\", \"StopAnim\"], function (operate) {\n        Contents[operate] = function (pageType, nameList) {\n            access(function (manager, pageType, nameList) {\n                if (typeCheck(nameList)) return;\n                var pageBaseObj;\n                if (!(pageBaseObj = manager.abstractAssistPocess($globalEvent.hindex))) {\n                    console.log('注入互斥接口数据错误！');\n                    return;\n                }\n                _.each(nameList.split(','), function (contentId) {\n                    pageBaseObj.baseContentMutex(contentId, operate);\n                });\n            }, pageType, nameList);\n        };\n    });\n\n    //******************************************\n    //\n    //\t\tApplication\n    //\t\t应用接口\n    //\n    //*******************************************\n\n    var Application = Xut.Application;\n\n    /**\r\n     * 获取一个存在的实例对象\r\n     * 区分不同层级page/master\r\n     * 不同类型\t   content/widget\r\n     */\n    Application.GetSpecifiedObject = function (pageType, data) {\n        return access(function (manager, pageType) {\n            var pageObj;\n            if (pageObj = manager.abstractGetPageObj(data.pageIndex)) {\n                if (data.type === 'Content') {\n                    return pageObj.baseSpecifiedContent(data);\n                } else {\n                    return pageObj.baseSpecifiedComponent(data);\n                }\n            }\n        }, pageType);\n    };\n\n    /**\r\n     * 应用滑动接口\r\n     * @return {[type]}\r\n     */\n    _.each([\"closeSwipe\", \"openSwipe\"], function (operate) {\n        Application[operate] = function () {\n            $globalEvent[operate]();\n        };\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvb3ZlcnJpZGVhcGkuanM/YWI5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQTRFZ0IsVyxHQUFBLFc7O0FBeERoQjs7QUFHQSxJQUFJLGFBQWEsQ0FBQyxNQUFELEVBQVMsUUFBVCxDQUFqQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVUEsU0FBUyxhQUFULENBQXVCLEdBQXZCLEVBQTRCO0FBQ3hCLFdBQU8sVUFBUyxRQUFULEVBQW1CLFFBQW5CLEVBQTZCLElBQTdCLEVBQW1DLFdBQW5DLEVBQWdEOzs7QUFHbkQsWUFBSSxhQUFhLFNBQWIsSUFBMEIsQ0FBQyxDQUFELEtBQU8sV0FBVyxPQUFYLENBQW1CLFFBQW5CLENBQXJDLEVBQW1FO0FBQy9ELGdCQUFJLE9BQU8sSUFBWDtBQUNBLG1CQUFPLFFBQVA7QUFDQSwwQkFBYyxJQUFkO0FBQ0EsdUJBQVcsTUFBWDtBQUNIOzs7QUFHRCxZQUFJLENBQUMsQ0FBRCxLQUFPLFdBQVcsT0FBWCxDQUFtQixJQUFuQixDQUFYLEVBQXFDO0FBQ2pDLHVCQUFXLElBQVg7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7O0FBRUQsbUJBQVcsWUFBWSxNQUF2Qjs7QUFFQSxZQUFJLElBQUksUUFBSixDQUFKLEVBQW1CO0FBQ2YsbUJBQU8sU0FBUyxJQUFJLFFBQUosQ0FBVCxFQUF3QixRQUF4QixFQUFrQyxJQUFsQyxFQUF3QyxXQUF4QyxDQUFQO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsb0JBQVEsR0FBUixDQUFZLHVCQUFaO0FBQ0g7QUFDSixLQXZCRDtBQXdCSDs7Ozs7O0FBT0QsU0FBUyxnQkFBVCxDQUEwQixZQUExQixFQUF3QztBQUNwQyxXQUFPLFVBQVMsU0FBVCxFQUFvQjs7QUFFdkIsWUFBSSxhQUFhLFNBQWpCLEVBQTRCO0FBQ3hCLHdCQUFZLGFBQWEsTUFBekIsQztBQUNIO0FBQ0QsZUFBTyxTQUFQO0FBQ0gsS0FORDtBQU9IOztBQUdNLFNB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QyxVQUFTLFFBQVQsRUFBbUIsSUFBbkIsRUFBeUI7QUFDdEQsZUFBTyxPQUFPLFVBQVMsT0FBVCxFQUFrQixRQUFsQixFQUE0QjtBQUN0QyxnQkFBSSxPQUFKO0FBQ0EsZ0JBQUksVUFBVSxRQUFRLGtCQUFSLENBQTJCLEtBQUssU0FBaEMsQ0FBZCxFQUEwRDtBQUN0RCxvQkFBSSxLQUFLLElBQUwsS0FBYyxTQUFsQixFQUE2QjtBQUN6QiwyQkFBTyxRQUFRLG9CQUFSLENBQTZCLElBQTdCLENBQVA7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsMkJBQU8sUUFBUSxzQkFBUixDQUErQixJQUEvQixDQUFQO0FBQ0g7QUFDSjtBQUNKLFNBVE0sRUFTSixRQVRJLENBQVA7QUFVSCxLQVhEOzs7Ozs7QUFrQkEsTUFBRSxJQUFGLENBQU8sQ0FDSCxZQURHLEVBRUgsV0FGRyxDQUFQLEVBR0csVUFBUyxPQUFULEVBQWtCO0FBQ2pCLG9CQUFZLE9BQVosSUFBdUIsWUFBVztBQUM5Qix5QkFBYSxPQUFiO0FBQ0gsU0FGRDtBQUdILEtBUEQ7QUFRSCIsImZpbGUiOiI2OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlupTnlKjlr7nlpJbmjqXlj6NcclxuICog5q2k5qih5Z2X55qE5omA5pyJ5pa55rOV6YO95piv5Yqo5oCB5L+u5q2j5LiK5LiL5paH77yM6Ieq5Yqo5YiH5o2i5Zy65pmvXHJcbiAqIDEuXHRYdXQuQXBwbGljYXRpb25cclxuICogXHRcdFx0YSlcdOaVtOS4quW6lOeUqOeoi+W6j+eahOaOpeWPo++8jOaJp+ihjOW6lOeUqOe6p+WIq+eahOaTjeS9nO+8jOS+i+WmgumAgOWHuuW6lOeUqOS5i+exu+OAglxyXG4gKiAyLlx0WHV0LkRvY3VtZW50V2luZG93XHJcbiAqIFx0XHRcdGEpXHTnqpflj6PnmoTmjqXlj6PjgILnqpflj6PlsLHmmK/nlLXlrZDmnYLlv5fnmoTlsZXnpLrljLrln5/vvIzlj6/ku6Xmk43kvZzor7jlpoLlrr3luqbjgIHpq5jluqbjgIHplb/lrr3mr5TkuYvnsbvjgIJcclxuICogMy5cdFh1dC5WaWV3XHJcbiAqIFx0XHRcdGEpXHTop4blm77mjqXlj6PjgILop4blm77mmK/nqpflj6PnmoTlsZXnpLrmlrnlvI/vvIzlkozpobXpnaLnm7jlhbPnmoTmjqXlj6PvvIzpg73lnKjov5nph4zjgIJcclxuICogNC5cdFh1dC5QcmVzZW50YXRpb25cclxuICogXHRcdFx0YSlcdOaVsOaNruaOpeWPo+OAguWSjOeUteWtkOadguW/l+eahOaVsOaNruebuOWFs+eahOaOpeWPo++8jOmDveWcqOi/memHjOOAglxyXG4gKiA1Llx0WHV0LlNsaWRlc1xyXG4gKlx0XHRcdGEpXHTmiYDmnInpobXpnaLnmoTpm4blkIhcclxuICogNi5cdFh1dC5TbGlkZVxyXG4gKiBcdFx0XHRhKVx05Y2V5Liq6aG16Z2iXHJcbiAqIDcuXHRYdXQuTWFzdGVyXHJcbiAqIFx0XHRcdGEpXHTpobXpnaLnmoTmr43niYhcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtyZXZpc2VTaXplfSBmcm9tICcuLi91dGlsL29wdGlvbidcclxuXHJcblxyXG52YXIgdHlwZUZpbHRlciA9IFsncGFnZScsICdtYXN0ZXInXTtcclxuXHJcbi8qKlxyXG4gKiDlkIjlubblj4LmlbDorr7nva5cclxuICogMSBwYWdlTWdyXHJcbiAqIDIgbWFzdGVyTWdyXHJcbiAqIDMg5L+u5q2jcGFnZVR5cGVcclxuICogNCBhcmdz5Y+C5pWwXHJcbiAqIDUg5Zue6LCD5q+P5LiA5Liq5LiK5LiL5paHXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVhQWNjZXNzKG1ncikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrLCBwYWdlVHlwZSwgYXJncywgZWFjaENvbnRleHQpIHtcclxuICAgICAgICAvL+WmguaenOesrOS4gOS4quWPguaVsOS4jeaYr3BhZ2VUeXBl5qih5byPXHJcbiAgICAgICAgLy/lj4LmlbDnp7vkvY1cclxuICAgICAgICBpZiAocGFnZVR5cGUgIT09IHVuZGVmaW5lZCAmJiAtMSA9PT0gdHlwZUZpbHRlci5pbmRleE9mKHBhZ2VUeXBlKSkge1xyXG4gICAgICAgICAgICB2YXIgdGVtcCA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBwYWdlVHlwZTtcclxuICAgICAgICAgICAgZWFjaENvbnRleHQgPSB0ZW1wO1xyXG4gICAgICAgICAgICBwYWdlVHlwZSA9ICdwYWdlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcGFnZUluZGV45Li6cGFnZVR5cGXlj4LmlbBcclxuICAgICAgICBpZiAoLTEgIT09IHR5cGVGaWx0ZXIuaW5kZXhPZihhcmdzKSkge1xyXG4gICAgICAgICAgICBwYWdlVHlwZSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFnZVR5cGUgPSBwYWdlVHlwZSB8fCAncGFnZSc7XHJcblxyXG4gICAgICAgIGlmIChtZ3JbcGFnZVR5cGVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhtZ3JbcGFnZVR5cGVdLCBwYWdlVHlwZSwgYXJncywgZWFjaENvbnRleHQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+S8oOmAkuWIsGFjY2Vzc+eahHBhZ2VUeXBl6ZSZ6K+v77yBJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5a2Y5Zyo6aG156CB57Si5byVXHJcbiAqIOWmguaenOS4jeWtmOWcqOm7mOiupOWPluW9k+WJjemhtemdolxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRXhpc3RJbmRleCgkZ2xvYmFsRXZlbnQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihwYWdlSW5kZXgpIHtcclxuICAgICAgICAvL+WmguaenOS4jeWtmOWcqFxyXG4gICAgICAgIGlmIChwYWdlSW5kZXggPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9ICRnbG9iYWxFdmVudC5oaW5kZXggLy/lvZPliY3pobXpnaJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VJbmRleFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlQXBpKHZtKSB7XHJcblxyXG4gICAgdmFyICRnbG9iYWxFdmVudCA9IHZtLiRnbG9iYWxFdmVudDtcclxuICAgIHZhciBvcHRpb25zID0gdm0ub3B0aW9ucztcclxuICAgIHZhciAkc2NoZWR1bGVyID0gdm0uJHNjaGVkdWxlclxyXG5cclxuICAgIC8v6aG16Z2i5LiO5q+N54mI55qE566h55CG5ZmoXHJcbiAgICB2YXIgYWNjZXNzID0gY3JlYXRlYUFjY2Vzcyh7XHJcbiAgICAgICAgcGFnZTogJHNjaGVkdWxlci5wYWdlTWdyLFxyXG4gICAgICAgIG1hc3RlcjogJHNjaGVkdWxlci5tYXN0ZXJNZ3JcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBpc0V4aXN0SW5kZXggPSBjcmVhdGVFeGlzdEluZGV4KCRnbG9iYWxFdmVudCk7XHJcblxyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIC8vXHJcbiAgICAvLyAg5pWw5o2u5o6l5Y+jXHJcbiAgICAvL1xyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbiAgICB2YXIgUHJlc2VudGF0aW9uID0gWHV0LlByZXNlbnRhdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluW9k+WJjemhteeggVxyXG4gICAgICovXHJcbiAgICBQcmVzZW50YXRpb24uR2V0UGFnZUluZGV4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICRnbG9iYWxFdmVudC5oaW5kZXg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy/ojrflj5bpobXpnaLnmoTmgLvmlbDmja4gLy9cclxuICAgIC8vMSBjaGFwdGVy5pWw5o2uXHJcbiAgICAvLzIgc2VjdGlvbuaVsOaNrlxyXG4gICAgLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBfLmVhY2goW1xyXG4gICAgICAgIFwiU2VjdGlvblwiLFxyXG4gICAgICAgIFwiUGFnZVwiXHJcbiAgICBdLCBmdW5jdGlvbihhcGlOYW1lKSB7XHJcbiAgICAgICAgUHJlc2VudGF0aW9uWydHZXRBcHAnICsgYXBpTmFtZSArICdEYXRhJ10gPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gW10sXHJcbiAgICAgICAgICAgICAgICBjcHMgPSBYdXQuZGF0YS5xdWVyeSgnYXBwJyArIGFwaU5hbWUpLFxyXG4gICAgICAgICAgICAgICAgY3BzTGVuZ3RoID0gY3BzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChpOyBpIDwgY3BzTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRlbXAucHVzaChjcHMuaXRlbShpKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8v6I635Y+W6aaW6aG155qEcGFnZUlkIC8vXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIFByZXNlbnRhdGlvbi5HZXRGaXJzdFBhZ2VJZCA9IGZ1bmN0aW9uKHNlYXNvbklkKSB7XHJcbiAgICAgICAgdmFyIHNlY3Rpb25SYW5nID0gWHV0LmRhdGEucXVlcnkoJ3NlY3Rpb25SZWxhdGVkJywgc2Vhc29uSWQpO1xyXG4gICAgICAgIHZhciBwYWdlRGF0YSA9IFh1dC5kYXRhLnF1ZXJ5KCdhcHBQYWdlJyk7XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VEYXRhLml0ZW0oc2VjdGlvblJhbmcuc3RhcnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvL1x05Zub5aSn5pWw5o2u5o6l5Y+jXHJcbiAgICAvL1x05b+r6YCf6I635Y+W5LiA5Liq6aG16Z2i55qEbm9kZXPlgLxcclxuICAgIC8vXHTojrflj5blvZPliY3pobXpnaLnmoTpobXnoIHnvJblj7cgLSBjaGFwdGVySWRcclxuICAgIC8vXHTlv6vpgJ/ojrflj5bmjIflrprpobXpnaLnmoRjaGFwdGVy5pWw5o2uXHJcbiAgICAvL1x0cGFnZWJhc2XpobXpnaLnrqHnkIblr7nosaFcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICBfLmVhY2goW1xyXG4gICAgICAgIFwiR2V0UGFnZUlkXCIsXHJcbiAgICAgICAgXCJHZXRQYWdlTm9kZVwiLFxyXG4gICAgICAgIFwiR2V0UGFnZURhdGFcIixcclxuICAgICAgICBcIkdldFBhZ2VPYmpcIlxyXG4gICAgXSwgZnVuY3Rpb24oYXBpTmFtZSkge1xyXG4gICAgICAgIFByZXNlbnRhdGlvblthcGlOYW1lXSA9IGZ1bmN0aW9uKHBhZ2VUeXBlLCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY2VzcyhmdW5jdGlvbihtYW5hZ2VyLCBwYWdlVHlwZSwgcGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBpc0V4aXN0SW5kZXgocGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYW5hZ2VyW1wiYWJzdHJhY3RcIiArIGFwaU5hbWVdKHBhZ2VJbmRleCwgcGFnZVR5cGUpO1xyXG4gICAgICAgICAgICB9LCBwYWdlVHlwZSwgcGFnZUluZGV4KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvpfliLDpobXpnaLmoLnoioLngrlcclxuICAgICAqIGxp6IqC54K5XHJcbiAgICAgKi9cclxuICAgIFByZXNlbnRhdGlvbi5HZXRQYWdlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvYmogPSBQcmVzZW50YXRpb24uR2V0UGFnZU9iaigpO1xyXG4gICAgICAgIHJldHVybiBvYmouZWxlbWVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bpobXnoIHmoIforrBcclxuICAgICAqIOWboOS4uumdnue6v+aAp+eahOWFs+ezu++8jOmhtemdoumDveaYr+aMiWNocGF0ZXLnu4TlkIjnmoRcclxuICAgICAqIHBhZ2VfMFxyXG4gICAgICogcGFnZV8xMFxyXG4gICAgICog5L2G5piv5q+P5LiA5Liq56ug6IqC6aG16Z2i55qE57Si5byV5piv5LuOMOW8gOWni+eahFxyXG4gICAgICog5Yy65YiGcGFnZUluZGV4XHJcbiAgICAgKi9cclxuICAgIFByZXNlbnRhdGlvbi5HZXRQYWdlUHJlZml4ID0gZnVuY3Rpb24ocGFnZVR5cGUsIHBhZ2VJbmRleCkge1xyXG4gICAgICAgIHZhciBwYWdlT2JqID0gUHJlc2VudGF0aW9uLkdldFBhZ2VPYmoocGFnZVR5cGUsIHBhZ2VJbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VPYmoucGlkO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy/lkb3lkI3liY3nvIBcclxuICAgIHZhciBwcmVmaXggPSAnQ29udGVudF8nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65LiA5LiqY29udGVudOeahOWRveWQjeinhOWImVxyXG4gICAgICovXHJcbiAgICBQcmVzZW50YXRpb24uTWFrZUNvbnRlbnRQcmVmaXggPSBmdW5jdGlvbihwYWdlSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gcHJlZml4ICsgUHJlc2VudGF0aW9uLkdldFBhZ2VQcmVmaXgocGFnZUluZGV4KSArIFwiX1wiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5ZG95ZCN6KeE5YiZXHJcbiAgICAgKi9cclxuICAgIFByZXNlbnRhdGlvbi5HZXRDb250ZW50TmFtZSA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgaWYgKGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBQcmVzZW50YXRpb24uR2V0UGFnZVByZWZpeCgpICsgXCJfXCIgKyBpZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgUHJlc2VudGF0aW9uLkdldFBhZ2VQcmVmaXgoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIC8vXHJcbiAgICAvLyAg6KeG5Zu+5o6l5Y+jXHJcbiAgICAvL1xyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbiAgICB2YXIgVmlldyA9IFh1dC5WaWV3O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pi+56S65bel5YW35qCPXHJcbiAgICAgKiDmsqHmnInlj4LmlbDmmL7npLog5bel5YW35qCP5LiO5o6n5Yi257+76aG15oyJ6ZKuXHJcbiAgICAgKiDmnInlj4LmlbDljZXni6zmmL7npLrmjIflrprnmoRcclxuICAgICAqL1xyXG4gICAgVmlldy5TaG93VG9vbGJhciA9IGZ1bmN0aW9uKHBvaW50KSB7XHJcbiAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTp0b2dnbGVUb29sYmFyJywgJ3Nob3cnLCBwb2ludClcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmpDol4/lt6XlhbfmoI9cclxuICAgICAqIOayoeacieWPguaVsOmakOiXjyDlt6XlhbfmoI/kuI7mjqfliLbnv7vpobXmjInpkq5cclxuICAgICAqIOacieWPguaVsOWNleeLrOmakOiXj+aMh+WumlxyXG4gICAgICovXHJcbiAgICBWaWV3LkhpZGVUb29sYmFyID0gZnVuY3Rpb24ocG9pbnQpIHtcclxuICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnRvZ2dsZVRvb2xiYXInLCAnaGlkZScsIHBvaW50KVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaMh+WumueJueWumueahOaYvuekuuS4jumakOiXj1xyXG4gICAgICogIFh1dC5WaWV3LlRvb2xiYXIoe1xyXG4gICAgICogICAgICAgc2hvdyA6J2JvdHRvbScsXHJcbiAgICAgKiAgICAgICBoaWRlIDonY29udHJvbEJhcidcclxuICAgICAqICAgfSlcclxuICAgICAqXHJcbiAgICAgKiAgLy/lt6XlhbfmoI/kuI7nv7vpobXmjInpkq7lhajpg6jmmL7npLov6ZqQ6JePXHJcbiAgICAgKiAgWHV0LlZpZXcuVG9vbGJhcignc2hvdycpXHJcbiAgICAgKiAgWHV0LlZpZXcuVG9vbGJhcignaGlkZScpXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIFZpZXcuVG9vbGJhciA9IGZ1bmN0aW9uKGNmZykge1xyXG4gICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6dG9nZ2xlVG9vbGJhcicsIGNmZylcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDot7PovazliLDkuIrkuIDkuKrpobXpnaJcclxuICAgICAqL1xyXG4gICAgVmlldy5Hb3RvUHJldlNsaWRlID0gZnVuY3Rpb24oc2Vhc29uSWQsIGNoYXB0ZXJJZCkge1xyXG4gICAgICAgIGlmIChzZWFzb25JZCAmJiBjaGFwdGVySWQpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuTG9hZFNjZW5hcmlvKHtcclxuICAgICAgICAgICAgICAgICdzY2VuYXJpb0lkJzogc2Vhc29uSWQsXHJcbiAgICAgICAgICAgICAgICAnY2hhcHRlcklkJzogY2hhcHRlcklkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vaWJvb2tz5qih5byP5LiL55qE6Lez6L2sXHJcbiAgICAgICAgLy/lhajpg6jovazljJbmiJDotoXpk77mjqVcclxuICAgICAgICBpZiAoWHV0LklCb29rcy5FbmFibGVkICYmIFh1dC5JQm9va3MucnVuTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAoWHV0LklCb29rcy5wYWdlSW5kZXggLSAxKSArIFwiLnhodG1sXCI7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucy5tdWx0aXBsZVBhZ2VzICYmICRnbG9iYWxFdmVudC5wcmV2KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Lez6L2s5Yiw5LiL5LiA5Liq6aG16Z2iXHJcbiAgICAgKi9cclxuICAgIFZpZXcuR290b05leHRTbGlkZSA9IGZ1bmN0aW9uKHNlYXNvbklkLCBjaGFwdGVySWQpIHtcclxuICAgICAgICBpZiAoc2Vhc29uSWQgJiYgY2hhcHRlcklkKSB7XHJcbiAgICAgICAgICAgIFh1dC5WaWV3LkxvYWRTY2VuYXJpbyh7XHJcbiAgICAgICAgICAgICAgICAnc2NlbmFyaW9JZCc6IHNlYXNvbklkLFxyXG4gICAgICAgICAgICAgICAgJ2NoYXB0ZXJJZCc6IGNoYXB0ZXJJZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2lib29rc+aooeW8j+S4i+eahOi3s+i9rFxyXG4gICAgICAgIC8v5YWo6YOo6L2s5YyW5oiQ6LaF6ZO+5o6lXHJcbiAgICAgICAgaWYgKFh1dC5JQm9va3MuRW5hYmxlZCAmJiBYdXQuSUJvb2tzLnJ1bk1vZGUoKSkge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gKFh1dC5JQm9va3MucGFnZUluZGV4ICsgMSkgKyBcIi54aHRtbFwiO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMubXVsdGlwbGVQYWdlcyAmJiAkZ2xvYmFsRXZlbnQubmV4dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOi3s+i9rOmhtemdolxyXG4gICAgICog5Zy65pmv5YaF6YOo5YiH5o2iXHJcbiAgICAgKiDot7PovazliLDmjIflrprnvJblj7fnmoTpobXpnaJcclxuICAgICAqIEFjdGlvbiDnsbvlnovot7PovaxcclxuICAgICAqIHh4dGxpbmsg6LaF6L+e5o6l6Lez6L2sLHN2Z+WGheW1jOi3s+i9rOagh+iusOWkhOeQhlxyXG4gICAgICog5paH5pys5qGG6Lez6L2sXHJcbiAgICAgKiAuLi4uLi4uLlxyXG4gICAgICovXHJcbiAgICBWaWV3LkdvdG9TbGlkZSA9IGZ1bmN0aW9uKHNlYXNvbklkLCBjaGFwdGVySWQpIHtcclxuICAgICAgICB2YXIgY291bnQsXHJcbiAgICAgICAgICAgIHNjZW5lT2JqLFxyXG4gICAgICAgICAgICBjdXJyc2NlbmUsXHJcbiAgICAgICAgICAgIHNjZW5lQ29udHJvbGxlcixcclxuICAgICAgICAgICAgLy/kv67mraPlj4LmlbBcclxuICAgICAgICAgICAgZml4UGFyYW1ldGVyID0gZnVuY3Rpb24ocGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBOdW1iZXIocGFnZUluZGV4KSAtIDE7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFnZUluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZUluZGV4O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL2lib29rc+aooeW8j+S4i+eahOi3s+i9rFxyXG4gICAgICAgIC8v5YWo6YOo6L2s5YyW5oiQ6LaF6ZO+5o6lXHJcbiAgICAgICAgaWYgKFh1dC5JQm9va3MuRW5hYmxlZCAmJiBYdXQuSUJvb2tzLnJ1bk1vZGUoKSAmJiBjaGFwdGVySWQpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGNoYXB0ZXJJZCArIFwiLnhodG1sXCI7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lhbzlrrnmlbDmja7plJnor69cclxuICAgICAgICBpZiAoIXNlYXNvbklkICYmICFjaGFwdGVySWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK/kuIDkuKrlj4LmlbDmmK/kvKDpgJLpobXnoIHmlbAs5YiZ5Li65YaF6YOo6Lez6L2sXHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgLy/lpI3kvY3nv7vpobXmjInpkq5cclxuICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpzaG93TmV4dCcpXHJcbiAgICAgICAgICAgIHJldHVybiAkZ2xvYmFsRXZlbnQuc2Nyb2xsVG9QYWdlKGZpeFBhcmFtZXRlcihzZWFzb25JZCkpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WcuuaZr+aooeW8j+WGhemDqOi3s+i9rFxyXG4gICAgICAgIGlmIChvcHRpb25zLnNjZW5hcmlvSWQgPT0gc2Vhc29uSWQpIHtcclxuICAgICAgICAgICAgLy9jaHBhdGVySWQg6L2s5YyW5oiQ5a6e6ZmF6aG156CBXHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uUmFuZyA9IFh1dC5kYXRhLnF1ZXJ5KCdzZWN0aW9uUmVsYXRlZCcsIHNlYXNvbklkKTtcclxuICAgICAgICAgICAgdmFyIHBhZ2VJbmRleCA9IGNoYXB0ZXJJZCAtIHNlY3Rpb25SYW5nLnN0YXJ0O1xyXG4gICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnNob3dOZXh0JylcclxuICAgICAgICAgICAgcmV0dXJuICRnbG9iYWxFdmVudC5zY3JvbGxUb1BhZ2UoZml4UGFyYW1ldGVyKHBhZ2VJbmRleCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Zy65pmv5LiO5Zy65pmv55qE6Lez6L2sXHJcbiAgICAgICAgcmV0dXJuIFZpZXcuTG9hZFNjZW5hcmlvKHtcclxuICAgICAgICAgICAgJ3NjZW5hcmlvSWQnOiBzZWFzb25JZCxcclxuICAgICAgICAgICAgJ2NoYXB0ZXJJZCc6IGNoYXB0ZXJJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6aG16Z2i5ruR5YqoXHJcbiAgICBWaWV3Lk1vdmVQYWdlID0gZnVuY3Rpb24oZGlzdGFuY2UsIHNwZWVkLCBkaXJlY3Rpb24sIGFjdGlvbikge1xyXG4gICAgICAgIC8v5aaC5p6c56aB5q2i57+76aG15qih5byPIHx8IOWmguaenOaYr+a7keWKqCzkuI3mmK/ovrnnlYxcclxuICAgICAgICBpZiAoIW9wdGlvbnMubXVsdGlwbGVQYWdlcyB8fCAkZ2xvYmFsRXZlbnQuaXNNb3ZlKCkgfHwgYWN0aW9uID09PSAnZmxpcE1vdmUnICYmICRnbG9iYWxFdmVudC5pc0JvcmRlcihkaXN0YW5jZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFnZVBvaW50ZXIgPSAkZ2xvYmFsRXZlbnQucGFnZVBvaW50ZXIsXHJcbiAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAnZGlzdGFuY2UnOiBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgICdzcGVlZCc6IHNwZWVkLFxyXG4gICAgICAgICAgICAgICAgJ2RpcmVjdGlvbic6IGRpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICdhY3Rpb24nOiBhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAnbGVmdEluZGV4JzogcGFnZVBvaW50ZXIubGVmdEluZGV4LFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2VJbmRleCc6IHBhZ2VQb2ludGVyLmN1cnJJbmRleCxcclxuICAgICAgICAgICAgICAgICdyaWdodEluZGV4JzogcGFnZVBvaW50ZXIucmlnaHRJbmRleFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICRzY2hlZHVsZXIubW92ZShkYXRhKTtcclxuICAgICAgICBwYWdlUG9pbnRlciA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIC8vXHJcbiAgICAvLyAg6L6F5Yqp5a+56LGh55qE5o6n5Yi25o6l5Y+jXHJcbiAgICAvL1xyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbiAgICAvKipcclxuICAgICAqIOi/kOihjOi+heWKqeWKqOeUu1xyXG4gICAgICog6L6F5Yqp5a+56LGh55qEYWN0aXZpdHlJZCzmiJbogIXlkIjpm4ZhY3Rpdml0eUlkXHJcbiAgICAgKiBSdW5cclxuICAgICAqIHN0b3BcclxuICAgICAqIDEg6Zu25Lu2XHJcbiAgICAgKiAyIOmfs+mikeWKqOeUu1xyXG4gICAgICovXHJcbiAgICB2YXIgQXNzaXN0ID0gWHV0LkFzc2lzdDtcclxuXHJcbiAgICBfLmVhY2goW1xyXG4gICAgICAgIFwiUnVuXCIsXHJcbiAgICAgICAgXCJTdG9wXCJcclxuICAgIF0sIGZ1bmN0aW9uKGFwaU5hbWUpIHtcclxuICAgICAgICBBc3Npc3RbYXBpTmFtZV0gPSBmdW5jdGlvbihwYWdlVHlwZSwgYWN0aXZpdHlJZCwgb3V0Q2FsbEJhY2spIHtcclxuICAgICAgICAgICAgYWNjZXNzKGZ1bmN0aW9uKG1hbmFnZXIsIHBhZ2VUeXBlLCBhY3Rpdml0eUlkLCBvdXRDYWxsQmFjaykge1xyXG4gICAgICAgICAgICAgICAgLy/mlbDnu4RcclxuICAgICAgICAgICAgICAgIGlmIChfLmlzQXJyYXkoYWN0aXZpdHlJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WujOaIkOmAmuefpVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlU3RhdGlzdGljcyA9IGFjdGl2aXR5SWQubGVuZ3RoOyAvL+WKqOeUu+WujOaIkOe7n+iuoVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVTdGF0aXN0aWNzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Q2FsbEJhY2sgJiYgb3V0Q2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrQ29tcGxldGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVTdGF0aXN0aWNzLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGFjdGl2aXR5SWQsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZXIuYWJzdHJhY3RBc3Npc3RBcHBvaW50KGlkLCAkZ2xvYmFsRXZlbnQuaGluZGV4LCBtYXJrQ29tcGxldGUsIGFwaU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZXIuYWJzdHJhY3RBc3Npc3RBcHBvaW50KGFjdGl2aXR5SWQsICRnbG9iYWxFdmVudC5oaW5kZXgsIG91dENhbGxCYWNrLCBhcGlOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgcGFnZVR5cGUsIGFjdGl2aXR5SWQsIG91dENhbGxCYWNrKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAvL1xyXG4gICAgLy8gIOmSiOWvuXBhZ2XpobXpnaLnmoRjb250ZW5057G75Z6L5pON5L2c5o6l5Y+jXHJcbiAgICAvL1xyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbiAgICB2YXIgQ29udGVudHMgPSBYdXQuQ29udGVudHM7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bmjIflrprnmoTlr7nosaFcclxuICAgICAqIOS8oOmAkuWPguaVsFxyXG4gICAgICog5Y2V5LiAIGlkXHJcbiAgICAgKiDmlbDmja5pZOWQiOmbhiBbMSwyLDQsNSw2XVxyXG4gICAgICogQHBhcmFtIHtbdHlwZV19ICAgY29udGVudElkcyAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaENvbnRleHQg5Zue6LCD6YGN5Y6G5q+P5LiA5Liq5LiK5LiL5paHXHJcbiAgICAgKi9cclxuICAgIENvbnRlbnRzLkdldCA9IGZ1bmN0aW9uKHBhZ2VUeXBlLCBjb250ZW50SWRzLCBlYWNoQ29udGV4dCkge1xyXG5cclxuICAgICAgICByZXR1cm4gYWNjZXNzKGZ1bmN0aW9uKG1hbmFnZXIsIHBhZ2VUeXBlLCBjb250ZW50SWRzLCBlYWNoQ29udGV4dCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRPYmosIGNvbnRlbnRPYmpzLFxyXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4ID0gUHJlc2VudGF0aW9uLkdldFBhZ2VJbmRleCgpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZENvbnRlbnQoY3VyckluZGV4LCBjb250ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlT2JqO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VPYmogPSBtYW5hZ2VyLmFic3RyYWN0R2V0UGFnZU9iaihjdXJySW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VPYmouYmFzZUdldENvbnRlbnRPYmplY3QoY29udGVudElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lpoLmnpzkvKDpgJLmmK/mlbDnu4TlkIjpm4ZcclxuICAgICAgICAgICAgaWYgKF8uaXNBcnJheShjb250ZW50SWRzKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGVudE9ianMgPSBbXTtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChjb250ZW50SWRzLCBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRPYmogPSBmaW5kQ29udGVudChwYWdlSW5kZXgsIGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlYWNoQ29udGV4dCkgeyAvL+S8oOmAkuavj+S4gOS4quWkhOeQhueahOS4iuS4i+aWh1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoQ29udGV4dChpZCwgY29udGVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRPYmpzLnB1c2goY29udGVudE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYdXQubG9nKCdlcnJvcicsICfmib7kuI3liLDlr7nlupTnmoRjb250ZW505pWw5o2uJyArIGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50T2JqcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lpoLmnpzkvKDpgJLnmoTmmK9Db250ZW50XzFfM+e7hOWQiOaDheWGtVxyXG4gICAgICAgICAgICBpZiAoL18vLnRlc3QoY29udGVudElkcykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHByID0gY29udGVudElkcy5zcGxpdCgnXycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4cHIubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5kQ29udGVudChleHByWzFdLCBleHByWzJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/ljZXkuIBjb250ZW50IGlkXHJcbiAgICAgICAgICAgIGNvbnRlbnRPYmogPSBmaW5kQ29udGVudChwYWdlSW5kZXgsIGNvbnRlbnRJZHMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVhY2hDb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoQ29udGV4dChjb250ZW50T2JqKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50T2JqO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sIHBhZ2VUeXBlLCBjb250ZW50SWRzLCBlYWNoQ29udGV4dClcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvpfliLDmjIflrprpobXpnaLpm7bku7bnmoTmlbDmja5cclxuICAgICAqIOiOt+WPluaMh+WumueahGNvbnRlbnTmlbDmja5cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudElkIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgQ29udGVudHMuR2V0UGFnZVdpZGdldERhdGEgPSBmdW5jdGlvbihwYWdlVHlwZSwgY29udGVudElkKSB7XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5rKh5pyJ5Lyg6YCScGFnZVR5cGXlj5bpu5jorqRcclxuICAgICAgICBpZiAoLTEgPT09IHR5cGVGaWx0ZXIuaW5kZXhPZihwYWdlVHlwZSkpIHtcclxuICAgICAgICAgICAgY29udGVudElkID0gcGFnZVR5cGU7XHJcbiAgICAgICAgICAgIHBhZ2VUeXBlID0gJ3BhZ2UnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lv4XpobvmnInmlbDmja5cclxuICAgICAgICBpZiAoIWNvbnRlbnRJZCB8fCAhY29udGVudElkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S/neivgeaYr+aVsOe7hOagvOW8j1xyXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKGNvbnRlbnRJZCkpIHtcclxuICAgICAgICAgICAgY29udGVudElkID0gW2NvbnRlbnRJZF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY29udGVudERhcywgY29udGVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgQ29udGVudHMuR2V0KHBhZ2VUeXBlLCBjb250ZW50SWQsIGZ1bmN0aW9uKGNpZCwgY29udGVudCkge1xyXG4gICAgICAgICAgICAvL+aYr+WGhemDqOWvueixoVxyXG4gICAgICAgICAgICBpZiAoY29udGVudCAmJiAoY29udGVudERhcyA9IGNvbnRlbnQuY29udGVudERhcykpIHsgLy/pgJrov4flhoXpg6jnrqHnkIbojrflj5blr7nosaFcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICdpZCc6IGNvbnRlbnQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lkTmFtZSc6IGNvbnRlbnQuYWN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAnZWxlbWVudCc6IGNvbnRlbnQuJGNvbnRlbnRQcm9jZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICd0aGVUaXRsZSc6IGNvbnRlbnREYXMudGhlVGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3NjYWxlSGVpZ2h0JzogY29udGVudERhcy5zY2FsZUhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAnc2NhbGVMZWZ0JzogY29udGVudERhcy5zY2FsZUxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3NjYWxlVG9wJzogY29udGVudERhcy5zY2FsZVRvcCxcclxuICAgICAgICAgICAgICAgICAgICAnc2NhbGVXaWR0aCc6IGNvbnRlbnREYXMuc2NhbGVXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudERhdGEnOiBjb250ZW50RGFzLFxyXG4gICAgICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnaW5uZXJPYmpldCcgLy/ojrflj5bmlrnlvI/lhoXpg6jlr7nosaFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzpgJrov4flhoXpg6jmib7kuI3liLDlr7nosaHnmoRjb250ZW505pWw5o2uLOWImeebtOaOpeafpeaJvuaVsOaNruW6k1xyXG4gICAgICAgICAgICAgICAgLy/lj6/og73mmK/kuIDkuKrkuovku7bnmoTpkqnlrZDlr7nosaFcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50RGFzID0gc2Vla1F1ZXJ5KGNpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0TmFtZSA9IFByZXNlbnRhdGlvbi5HZXRDb250ZW50TmFtZShjaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5a+56LGh5piv5LqL5Lu26ZKp5a2Q5oiW6ICF5piv5rWu5Yqo5a+56LGhXHJcbiAgICAgICAgICAgICAgICAgICAgLy/msqHmnInlhbfkvZPnmoTmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50LiRjb250ZW50UHJvY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gY29udGVudC4kY29udGVudFByb2Nlc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9ICQoJyMnICsgYWN0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBjaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdpZE5hbWUnOiBhY3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZWxlbWVudCc6IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGVUaXRsZSc6IGNvbnRlbnREYXMudGhlVGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzY2FsZUhlaWdodCc6IGNvbnRlbnREYXMuc2NhbGVIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzY2FsZUxlZnQnOiBjb250ZW50RGFzLnNjYWxlTGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NjYWxlVG9wJzogY29udGVudERhcy5zY2FsZVRvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NjYWxlV2lkdGgnOiBjb250ZW50RGFzLnNjYWxlV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50RGF0YSc6IGNvbnRlbnREYXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnZGF0YUJhc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5sb2coJ2Vycm9yJywgJ+aJvuS4jeWIsOWvueW6lOeahEdldFBhZ2VXaWRnZXREYXRh5pWw5o2uJyArIGNpZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50cztcclxuICAgIH1cclxuXHJcbiAgICAvL+aVsOaNruW6k+afpeaJvlxyXG4gICAgZnVuY3Rpb24gc2Vla1F1ZXJ5KGlkKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnREYXRhID0gWHV0LmRhdGEucXVlcnkoJ0NvbnRlbnQnLCBpZCk7XHJcbiAgICAgICAgaWYgKGNvbnRlbnREYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXZpc2VTaXplKF8uZXh0ZW5kKHt9LCBjb250ZW50RGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIC8vXHJcbiAgICAvL1x0XHTkupLmlqXmjqXlj6NcclxuICAgIC8vXHRcdOebtOaOpeaYvuekulxc6ZqQ6JePXFzlgZzmraLliqjnlLtcclxuICAgIC8vXHJcbiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbiAgICAvL+ajgOa1i+exu+Wei+S4uuWtl+espuS4slxyXG4gICAgZnVuY3Rpb24gdHlwZUNoZWNrKG9iak5hbWVMaXN0KSB7XHJcbiAgICAgICAgcmV0dXJuICFvYmpOYW1lTGlzdCB8fCB0eXBlb2Ygb2JqTmFtZUxpc3QgIT09ICdzdHJpbmcnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZKI5a+55paH5pys5a+56LGh55qE55u05o6l5pON5L2cXHJcbiAgICAgKiDmmL7npLpcclxuICAgICAqIOmakOiXj1xyXG4gICAgICog5YGc5q2i5Yqo55S7XHJcbiAgICAgKi9cclxuICAgIF8uZWFjaChbXHJcbiAgICAgICAgXCJTaG93XCIsXHJcbiAgICAgICAgXCJIaWRlXCIsXHJcbiAgICAgICAgXCJTdG9wQW5pbVwiXHJcbiAgICBdLCBmdW5jdGlvbihvcGVyYXRlKSB7XHJcbiAgICAgICAgQ29udGVudHNbb3BlcmF0ZV0gPSBmdW5jdGlvbihwYWdlVHlwZSwgbmFtZUxpc3QpIHtcclxuICAgICAgICAgICAgYWNjZXNzKGZ1bmN0aW9uKG1hbmFnZXIsIHBhZ2VUeXBlLCBuYW1lTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVDaGVjayhuYW1lTGlzdCkpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlQmFzZU9iajtcclxuICAgICAgICAgICAgICAgIGlmICghKHBhZ2VCYXNlT2JqID0gbWFuYWdlci5hYnN0cmFjdEFzc2lzdFBvY2VzcygkZ2xvYmFsRXZlbnQuaGluZGV4KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5rOo5YWl5LqS5pal5o6l5Y+j5pWw5o2u6ZSZ6K+v77yBJylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfLmVhY2gobmFtZUxpc3Quc3BsaXQoJywnKSwgZnVuY3Rpb24oY29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZUJhc2VPYmouYmFzZUNvbnRlbnRNdXRleChjb250ZW50SWQsIG9wZXJhdGUpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LCBwYWdlVHlwZSwgbmFtZUxpc3QpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIC8vXHJcbiAgICAvL1x0XHRBcHBsaWNhdGlvblxyXG4gICAgLy9cdFx05bqU55So5o6l5Y+jXHJcbiAgICAvL1xyXG4gICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG4gICAgdmFyIEFwcGxpY2F0aW9uID0gWHV0LkFwcGxpY2F0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5LiA5Liq5a2Y5Zyo55qE5a6e5L6L5a+56LGhXHJcbiAgICAgKiDljLrliIbkuI3lkIzlsYLnuqdwYWdlL21hc3RlclxyXG4gICAgICog5LiN5ZCM57G75Z6LXHQgICBjb250ZW50L3dpZGdldFxyXG4gICAgICovXHJcbiAgICBBcHBsaWNhdGlvbi5HZXRTcGVjaWZpZWRPYmplY3QgPSBmdW5jdGlvbihwYWdlVHlwZSwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBhY2Nlc3MoZnVuY3Rpb24obWFuYWdlciwgcGFnZVR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIHBhZ2VPYmo7XHJcbiAgICAgICAgICAgIGlmIChwYWdlT2JqID0gbWFuYWdlci5hYnN0cmFjdEdldFBhZ2VPYmooZGF0YS5wYWdlSW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnQ29udGVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFnZU9iai5iYXNlU3BlY2lmaWVkQ29udGVudChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VPYmouYmFzZVNwZWNpZmllZENvbXBvbmVudChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHBhZ2VUeXBlKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW6lOeUqOa7keWKqOaOpeWPo1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICBfLmVhY2goW1xyXG4gICAgICAgIFwiY2xvc2VTd2lwZVwiLFxyXG4gICAgICAgIFwib3BlblN3aXBlXCJcclxuICAgIF0sIGZ1bmN0aW9uKG9wZXJhdGUpIHtcclxuICAgICAgICBBcHBsaWNhdGlvbltvcGVyYXRlXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkZ2xvYmFsRXZlbnRbb3BlcmF0ZV0oKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9tYW5hZ2VyL292ZXJyaWRlYXBpLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 70 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PageMgr = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _abstract = __webpack_require__(16);\n\nvar _constor = __webpack_require__(18);\n\nvar _translation = __webpack_require__(8);\n\nvar _edge = __webpack_require__(104);\n\nvar _index2 = __webpack_require__(2);\n\n//epub使用\n/**\r\n * 页面模块\r\n * @param  {[type]}\r\n * @return {[type]}\r\n */\n\n\nfunction PageMgr(vm) {\n\n    this.pageType = 'page';\n\n    /**\r\n     * 页面根节点\r\n     * @type {[type]}\r\n     */\n    this.rootNode = vm.options.rootPage;\n\n    /**\r\n     * 抽象方法\r\n     * 创建合集容器\r\n     */\n    this.abstractCreateCollection();\n}\n//动作热热点派发\n;\n\nvar PageMgrProto = PageMgr.prototype;\n\n/****************************************************************\r\n *\r\n *                 对外接口\r\n *\r\n ***************************************************************/\n\n//====================页面结构处理===========================\n\n//创建页新的页面\nPageMgrProto.create = function (dataOpts, pageIndex) {\n\n    //生成指定页面对象\n    var pageObjs = new _constor.constor(_.extend(dataOpts, {\n        'pageType': this.pageType, //创建页面的类型\n        'root': this.rootNode //根元素\n    }));\n\n    //增加页面管理\n    this.abstractAddCollection(pageIndex, pageObjs);\n\n    return pageObjs;\n};\n\n/**\r\n * 清理视频\r\n * @return {[type]} [description]\r\n */\nfunction removeVideo(clearPageIndex) {\n    //处理视频\n    var pageId = Xut.Presentation.GetPageId(clearPageIndex);\n    Xut.VideoManager.removeVideo(pageId);\n}\n\n//清理其中的一个页面\nPageMgrProto.clearPage = function (clearPageIndex) {\n    var pageObj;\n    //清理视频\n    // removeVideo(clearPageIndex);\n    //销毁页面对象事件\n    if (pageObj = this.abstractGetPageObj(clearPageIndex)) {\n        //移除事件\n        pageObj.baseDestroy();\n        //移除列表\n        this.abstractRemoveCollection(clearPageIndex);\n    }\n};\n\n//销毁整个页面管理对象\nPageMgrProto.destroy = function () {\n    //清理视频\n    removeVideo(Xut.Presentation.GetPageIndex());\n    //清理对象\n    this.abstractDestroyCollection();\n    //清理节点\n    this.rootNode = null;\n};\n\n/**\r\n * 检测脚本注入\r\n * @return {[type]} [description]\r\n */\nfunction checkInjectScript(pageObject, type) {\n    var code;\n    if (code = pageObject.chapterDas[type]) {\n        (0, _index.injectScript)(code, type);\n    }\n}\n\n/****************************************************************\r\n *\r\n *                 多线程任务片段调用\r\n *\r\n ***************************************************************/\n\n/**\r\n * 设置中断正在创建的页面对象任务\r\n * @param {[type]}   currIndex [description]\r\n * @param {Function} callback  [description]\r\n */\nPageMgrProto.suspendInnerCreateTasks = function (pointers) {\n    var pageObj,\n        self = this;\n    [pointers.leftIndex, pointers.currIndex, pointers.rightIndex].forEach(function (pointer) {\n        if (pageObj = self.abstractGetPageObj(pointer)) {\n            pageObj.setTaskSuspend();\n        }\n    });\n};\n\n/**\r\n * 检测活动窗口任务\r\n * @return {[type]} [description]\r\n */\nPageMgrProto.checkTaskCompleted = function (currIndex, callback) {\n    var currPageObj,\n        self = this;\n    // console.log('激活活动任务',currIndex)\n    if (currPageObj = self.abstractGetPageObj(currIndex)) {\n        currPageObj.checkThreadTask(function () {\n            // console.log('11111111111当前页面创建完毕',currIndex+1)\n            callback(currPageObj);\n        });\n    }\n};\n\n/**\r\n * 检测后台预创建任务\r\n * @return {[type]} [description]\r\n */\nPageMgrProto.checkPreforkTasks = function (resumePointer, preCreateTask) {\n    var resumeObj, resumeCount;\n    if (!resumePointer.length) {\n        resumePointer = [resumePointer];\n    }\n    resumeCount = resumePointer.length;\n    while (resumeCount--) {\n        if (resumeObj = this.abstractGetPageObj(resumePointer[resumeCount])) {\n            resumeObj.createPreforkTasks(function () {\n                // console.log('后台处理完毕')\n            }, preCreateTask);\n        }\n    }\n};\n\n/************************************************************\r\n *\r\n *                       页面滑动\r\n *\r\n * **********************************************************/\nPageMgrProto.move = function (leftIndex, currIndex, rightIndex, direction, speed, action, moveDistance) {\n\n    //////////////\n    //找到需要滑动的页面 //\n    //////////////\n    function findPage() {\n        return [this.abstractGetPageObj(leftIndex), this.abstractGetPageObj(currIndex), this.abstractGetPageObj(rightIndex)];\n    }\n\n    ///////////\n    //开始移动页面 //\n    ///////////\n    _.each(findPage.call(this), function (pageObj, index) {\n        if (pageObj) {\n            //移动浮动页面容器\n            var flaotElement;\n            if (flaotElement = pageObj.floatContents.PageContainer) {\n                _translation.translation[action].call(pageObj, moveDistance[index], speed, flaotElement);\n            }\n            //正常页面\n            _translation.translation[action].call(pageObj, moveDistance[index], speed);\n        }\n    });\n};\n\n/****************************************************************\r\n *\r\n *                  流程状态控制\r\n *\r\n ***************************************************************/\n\n/**\r\n * 触屏翻页开始\r\n * 1 中断所有任务\r\n * 2 停止热点对象运行\r\n *     停止动画,视频音频等等\r\n */\nPageMgrProto.suspend = function (pointers) {\n    var stopPointer = pointers.stopPointer,\n        suspendPageObj = this.abstractGetPageObj(stopPointer),\n        prveChpterId = suspendPageObj.baseGetPageId(stopPointer);\n\n    //翻页结束脚本\n    checkInjectScript(suspendPageObj, 'postCode');\n\n    //中断节点创建任务\n    this.suspendInnerCreateTasks(pointers);\n\n    //停止活动对象活动\n    (0, _index2.suspend)(suspendPageObj, prveChpterId);\n};\n\n/**\r\n * 复位初始状态\r\n * @return {[type]} [description]\r\n */\nPageMgrProto.resetOriginal = function (pageIndex) {\n    var originalPageObj, flaotElement;\n    if (originalPageObj = this.abstractGetPageObj(pageIndex)) {\n        if (flaotElement = originalPageObj.floatContents.PageContainer) {\n            //floatPages设置的content溢出后处理\n            //在非视区增加overflow:hidden\n            //可视区域overflow:''\n            flaotElement.css({\n                'zIndex': 2000,\n                'overflow': 'hidden'\n            });\n        }\n        (0, _index2.original)(originalPageObj);\n    }\n};\n\n/**\r\n * 触屏翻页完成\r\n * 1 停止热点动作\r\n * 2 触发新的页面动作\r\n * @param  {[type]} prevPageIndex [上一页面]\r\n * @param  {[type]} currPageIndex [当前页码]\r\n * @param  {[type]} nextPageIndex [下一页页码]\r\n * @param  {[type]} suspendIndex  [停止动作的页码]因为要区分滑动的方向\r\n * @param  {[type]} createPointer [正在创建的页面]\r\n * @param  {[type]} direction     [滑动方向]\r\n */\nPageMgrProto.autoRun = function (data) {\n\n    var self = this;\n\n    //检测当前页面构建任务的情况\n    //如果任务没有完成，则等待任务完成\n    this.checkTaskCompleted(data.currIndex, function (currPageObj) {\n\n        //提升当前页面浮动对象的层级\n        //因为浮动对象可以是并联的\n        var flaotElement;\n        if (flaotElement = currPageObj.floatContents.PageContainer) {\n            flaotElement.css({\n                'zIndex': 2001,\n                'overflow': ''\n            });\n        }\n\n        //IE上不支持蒙版效果的处理\n        if (Xut.plat.noMaskBoxImage) {\n            (0, _edge.addEdges)();\n        }\n\n        //构件完成通知\n        data.buildComplete(currPageObj.scenarioId);\n\n        //执行自动动作之前的脚本\n        checkInjectScript(currPageObj, 'preCode');\n\n        //热点状态复位\n        self.resetOriginal(data.suspendIndex);\n\n        //预构建背景\n        preCreate('background');\n\n        //等待动画结束后构建\n        startAutoRun(currPageObj, data);\n    });\n\n    /**\r\n     * 预执行背景创建\r\n     * 支持多线程快速翻页\r\n     * 1 初始化,或者快速翻页补全前后页面\r\n     * 2 正常翻页创建前后\r\n     */\n    function preCreate(preCreateTask) {\n        var resumePointer;\n        if (data.isQuickTurn || !data.direction) {\n            resumePointer = [data.prevIndex, data.nextIndex];\n        } else {\n            resumePointer = data.createPointer || data.nextIndex || data.prevIndex;\n        }\n        self.checkPreforkTasks(resumePointer, preCreateTask);\n    };\n\n    //激活自动运行对象\n    function startAutoRun(currPageObj, data) {\n\n        //结束通知\n        function complete() {\n            data.processComplete();\n            preCreate();\n        }\n\n        //如果页面容器存在,才处理自动运行\n        var currRootNode = currPageObj.element;\n        if (!currRootNode) {\n            return complete();\n        }\n\n        //运行动作\n        function startRun() {\n            (0, _index2.autoRun)(currPageObj, data.currIndex, complete);\n        }\n\n        //运行如果被中断,则等待\n        if (data.suspendCallback) {\n            data.suspendCallback(startRun);\n        } else {\n            startRun();\n        }\n    }\n};\n\n//混入抽象接口方法\n(0, _index.extend)(PageMgr, _abstract.Abstract);\n\nexports.PageMgr = PageMgr;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvcGFnZS5qcz80ODdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7Ozs7OztBQUdBLFNBQVMsT0FBVCxDQUFpQixFQUFqQixFQUFxQjs7QUFFakIsU0FBSyxRQUFMLEdBQWdCLE1BQWhCOzs7Ozs7QUFNQSxTQUFLLFFBQUwsR0FBZ0IsR0FBRyxPQUFILENBQVcsUUFBM0I7Ozs7OztBQU1BLFNBQUssd0JBQUw7QUFDSDs7QUFBQTs7QUFJRCxJQUFJLGVBQWUsUUFBUSxTQUEzQjs7Ozs7Ozs7Ozs7QUFZQSxhQUFhLE1BQWIsR0FBc0IsVUFBUyxRQUFULEVBQW1CLFNBQW5CLEVBQThCOzs7QUFHaEQsUUFBSSxXQUFXLHFCQUNYLEVBQUUsTUFBRixDQUFTLFFBQVQsRUFBbUI7QUFDZixvQkFBWSxLQUFLLFFBREYsRTtBQUVmLGdCQUFRLEtBQUssUTtBQUZFLEtBQW5CLENBRFcsQ0FBZjs7O0FBUUEsU0FBSyxxQkFBTCxDQUEyQixTQUEzQixFQUFzQyxRQUF0Qzs7QUFFQSxXQUFPLFFBQVA7QUFDSCxDQWREOzs7Ozs7QUFvQkEsU0FBUyxXQUFULENBQXFCLGNBQXJCLEVBQXFDOztBQUVqQyxRQUFJLFNBQVMsSUFBSSxZQUFKLENBQWlCLFNBQWpCLENBQTJCLGNBQTNCLENBQWI7QUFDQSxRQUFJLFlBQUosQ0FBaUIsV0FBakIsQ0FBNkIsTUFBN0I7QUFDSDs7O0FBR0QsYUFBYSxTQUFiLEdBQXlCLFVBQVMsY0FBVCxFQUF5QjtBQUM5QyxRQUFJLE9BQUo7Ozs7QUFJQSxRQUFJLFVBQVUsS0FBSyxrQkFBTCxDQUF3QixjQUF4QixDQUFkLEVBQXVEOztBQUVuRCxnQkFBUSxXQUFSOztBQUVBLGFBQUssd0JBQUwsQ0FBOEIsY0FBOUI7QUFDSDtBQUNKLENBWEQ7OztBQWNBLGFBQWEsT0FBYixHQUF1QixZQUFXOztBQUU5QixnQkFBWSxJ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Q0EsWUFBSSxLQUFLLFdBQUwsSUFBb0IsQ0FBQyxLQUFLLFNBQTlCLEVBQXlDO0FBQ3JDLDRCQUFnQixDQUFDLEtBQUssU0FBTixFQUFpQixLQUFLLFNBQXRCLENBQWhCO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsNEJBQWdCLEtBQUssYUFBTCxJQUFzQixLQUFLLFNBQTNCLElBQXdDLEtBQUssU0FBN0Q7QUFDSDtBQUNELGFBQUssaUJBQUwsQ0FBdUIsYUFBdkIsRUFBc0MsYUFBdEM7QUFDSDs7O0FBSUQsYUFBUyxZQUFULENBQXNCLFdBQXRCLEVBQW1DLElBQW5DLEVBQXlDOzs7QUFHckMsaUJBQVMsUUFBVCxHQUFvQjtBQUNoQixpQkFBSyxlQUFMO0FBQ0E7QUFDSDs7O0FBR0QsWUFBSSxlQUFlLFlBQVksT0FBL0I7QUFDQSxZQUFJLENBQUMsWUFBTCxFQUFtQjtBQUNmLG1CQUFPLFVBQVA7QUFDSDs7O0FBR0QsaUJBQVMsUUFBVCxHQUFvQjtBQUNoQixpQ0FBUyxXQUFULEVBQXNCLEtBQUssU0FBM0IsRUFBc0MsUUFBdEM7QUFDSDs7O0FBR0QsWUFBSSxLQUFLLGVBQVQsRUFBMEI7QUFDdEIsaUJBQUssZUFBTCxDQUFxQixRQUFyQjtBQUNILFNBRkQsTUFFTztBQUNIO0FBQ0g7QUFDSjtBQUNKLENBbkZEOzs7QUFzRkEsbUJBQU8sT0FBUDs7UUFHUyxPLEdBQUEsTyIsImZpbGUiOiI3MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDpobXpnaLmqKHlnZdcclxuICogQHBhcmFtICB7W3R5cGVdfVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19XHJcbiAqL1xyXG5pbXBvcnQgeyBpbmplY3RTY3JpcHQsIGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvaW5kZXgnXHJcbmltcG9ydCB7IEFic3RyYWN0IH0gZnJvbSAnLi9hYnN0cmFjdCdcclxuaW1wb3J0IHsgY29uc3RvciBhcyBQYWdlIH0gZnJvbSAnLi4vcGFnZWJhc2UvY29uc3RvcidcclxuaW1wb3J0IHsgdHJhbnNsYXRpb24gfSBmcm9tICcuLi9wYWdlYmFzZS90cmFuc2xhdGlvbidcclxuLy9lcHVi5L2/55SoXHJcbmltcG9ydCB7IGFkZEVkZ2VzIH0gZnJvbSAnLi4vdXRpbC9lZGdlJ1xyXG4vL+WKqOS9nOeDreeDreeCuea0vuWPkSBcclxuaW1wb3J0IHsgc3VzcGVuZCBhcyBfc3VzcGVuZCwgb3JpZ2luYWwgYXMgX29yaWdpbmFsLCBhdXRvUnVuIGFzIF9hdXRvUnVuIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2luZGV4J1xyXG5cclxuXHJcbmZ1bmN0aW9uIFBhZ2VNZ3Iodm0pIHtcclxuXHJcbiAgICB0aGlzLnBhZ2VUeXBlID0gJ3BhZ2UnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6aG16Z2i5qC56IqC54K5XHJcbiAgICAgKiBAdHlwZSB7W3R5cGVdfVxyXG4gICAgICovXHJcbiAgICB0aGlzLnJvb3ROb2RlID0gdm0ub3B0aW9ucy5yb290UGFnZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaKveixoeaWueazlVxyXG4gICAgICog5Yib5bu65ZCI6ZuG5a655ZmoXHJcbiAgICAgKi9cclxuICAgIHRoaXMuYWJzdHJhY3RDcmVhdGVDb2xsZWN0aW9uKCk7XHJcbn07XHJcblxyXG5cclxuXHJcbmxldCBQYWdlTWdyUHJvdG8gPSBQYWdlTWdyLnByb3RvdHlwZTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAg5a+55aSW5o6l5Y+jXHJcbiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT096aG16Z2i57uT5p6E5aSE55CGPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vL+WIm+W7uumhteaWsOeahOmhtemdolxyXG5QYWdlTWdyUHJvdG8uY3JlYXRlID0gZnVuY3Rpb24oZGF0YU9wdHMsIHBhZ2VJbmRleCkge1xyXG5cclxuICAgIC8v55Sf5oiQ5oyH5a6a6aG16Z2i5a+56LGhXHJcbiAgICB2YXIgcGFnZU9ianMgPSBuZXcgUGFnZShcclxuICAgICAgICBfLmV4dGVuZChkYXRhT3B0cywge1xyXG4gICAgICAgICAgICAncGFnZVR5cGUnOiB0aGlzLnBhZ2VUeXBlLCAvL+WIm+W7uumhtemdoueahOexu+Wei1xyXG4gICAgICAgICAgICAncm9vdCc6IHRoaXMucm9vdE5vZGUgLy/moLnlhYPntKBcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG5cclxuICAgIC8v5aKe5Yqg6aG16Z2i566h55CGXHJcbiAgICB0aGlzLmFic3RyYWN0QWRkQ29sbGVjdGlvbihwYWdlSW5kZXgsIHBhZ2VPYmpzKTtcclxuXHJcbiAgICByZXR1cm4gcGFnZU9ianM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmuIXnkIbop4bpopFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVWaWRlbyhjbGVhclBhZ2VJbmRleCkge1xyXG4gICAgLy/lpITnkIbop4bpopFcclxuICAgIHZhciBwYWdlSWQgPSBYdXQuUHJlc2VudGF0aW9uLkdldFBhZ2VJZChjbGVhclBhZ2VJbmRleCk7XHJcbiAgICBYdXQuVmlkZW9NYW5hZ2VyLnJlbW92ZVZpZGVvKHBhZ2VJZCk7XHJcbn1cclxuXHJcbi8v5riF55CG5YW25Lit55qE5LiA5Liq6aG16Z2iXHJcblBhZ2VNZ3JQcm90by5jbGVhclBhZ2UgPSBmdW5jdGlvbihjbGVhclBhZ2VJbmRleCkge1xyXG4gICAgdmFyIHBhZ2VPYmo7XHJcbiAgICAvL+a4heeQhuinhumikVxyXG4gICAgLy8gcmVtb3ZlVmlkZW8oY2xlYXJQYWdlSW5kZXgpO1xyXG4gICAgLy/plIDmr4HpobXpnaLlr7nosaHkuovku7ZcclxuICAgIGlmIChwYWdlT2JqID0gdGhpcy5hYnN0cmFjdEdldFBhZ2VPYmooY2xlYXJQYWdlSW5kZXgpKSB7XHJcbiAgICAgICAgLy/np7vpmaTkuovku7ZcclxuICAgICAgICBwYWdlT2JqLmJhc2VEZXN0cm95KCk7XHJcbiAgICAgICAgLy/np7vpmaTliJfooahcclxuICAgICAgICB0aGlzLmFic3RyYWN0UmVtb3ZlQ29sbGVjdGlvbihjbGVhclBhZ2VJbmRleCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6ZSA5q+B5pW05Liq6aG16Z2i566h55CG5a+56LGhXHJcblBhZ2VNZ3JQcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvL+a4heeQhuinhumikVxyXG4gICAgcmVtb3ZlVmlkZW8oWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlSW5kZXgoKSk7XHJcbiAgICAvL+a4heeQhuWvueixoVxyXG4gICAgdGhpcy5hYnN0cmFjdERlc3Ryb3lDb2xsZWN0aW9uKCk7XHJcbiAgICAvL+a4heeQhuiKgueCuVxyXG4gICAgdGhpcy5yb290Tm9kZSA9IG51bGw7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5qOA5rWL6ISa5pys5rOo5YWlXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tJbmplY3RTY3JpcHQocGFnZU9iamVjdCwgdHlwZSkge1xyXG4gICAgdmFyIGNvZGU7XHJcbiAgICBpZiAoY29kZSA9IHBhZ2VPYmplY3QuY2hhcHRlckRhc1t0eXBlXSkge1xyXG4gICAgICAgIGluamVjdFNjcmlwdChjb2RlLCB0eXBlKVxyXG4gICAgfVxyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAg5aSa57q/56iL5Lu75Yqh54mH5q616LCD55SoXHJcbiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICog6K6+572u5Lit5pat5q2j5Zyo5Yib5bu655qE6aG16Z2i5a+56LGh5Lu75YqhXHJcbiAqIEBwYXJhbSB7W3R5cGVdfSAgIGN1cnJJbmRleCBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5QYWdlTWdyUHJvdG8uc3VzcGVuZElubmVyQ3JlYXRlVGFza3MgPSBmdW5jdGlvbihwb2ludGVycykge1xyXG4gICAgdmFyIHBhZ2VPYmosXHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcbiAgICBbcG9pbnRlcnMubGVmdEluZGV4LCBwb2ludGVycy5jdXJySW5kZXgsIHBvaW50ZXJzLnJpZ2h0SW5kZXhdLmZvckVhY2goZnVuY3Rpb24ocG9pbnRlcikge1xyXG4gICAgICAgIGlmIChwYWdlT2JqID0gc2VsZi5hYnN0cmFjdEdldFBhZ2VPYmoocG9pbnRlcikpIHtcclxuICAgICAgICAgICAgcGFnZU9iai5zZXRUYXNrU3VzcGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmo4DmtYvmtLvliqjnqpflj6Pku7vliqFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5QYWdlTWdyUHJvdG8uY2hlY2tUYXNrQ29tcGxldGVkID0gZnVuY3Rpb24oY3VyckluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGN1cnJQYWdlT2JqLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ+a/gOa0u+a0u+WKqOS7u+WKoScsY3VyckluZGV4KVxyXG4gICAgaWYgKGN1cnJQYWdlT2JqID0gc2VsZi5hYnN0cmFjdEdldFBhZ2VPYmooY3VyckluZGV4KSkge1xyXG4gICAgICAgIGN1cnJQYWdlT2JqLmNoZWNrVGhyZWFkVGFzayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJzExMTExMTExMTEx5b2T5YmN6aG16Z2i5Yib5bu65a6M5q+VJyxjdXJySW5kZXgrMSlcclxuICAgICAgICAgICAgY2FsbGJhY2soY3VyclBhZ2VPYmopXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOajgOa1i+WQjuWPsOmihOWIm+W7uuS7u+WKoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblBhZ2VNZ3JQcm90by5jaGVja1ByZWZvcmtUYXNrcyA9IGZ1bmN0aW9uKHJlc3VtZVBvaW50ZXIsIHByZUNyZWF0ZVRhc2spIHtcclxuICAgIHZhciByZXN1bWVPYmosIHJlc3VtZUNvdW50O1xyXG4gICAgaWYgKCFyZXN1bWVQb2ludGVyLmxlbmd0aCkge1xyXG4gICAgICAgIHJlc3VtZVBvaW50ZXIgPSBbcmVzdW1lUG9pbnRlcl07XHJcbiAgICB9XHJcbiAgICByZXN1bWVDb3VudCA9IHJlc3VtZVBvaW50ZXIubGVuZ3RoO1xyXG4gICAgd2hpbGUgKHJlc3VtZUNvdW50LS0pIHtcclxuICAgICAgICBpZiAocmVzdW1lT2JqID0gdGhpcy5hYnN0cmFjdEdldFBhZ2VPYmoocmVzdW1lUG9pbnRlcltyZXN1bWVDb3VudF0pKSB7XHJcbiAgICAgICAgICAgIHJlc3VtZU9iai5jcmVhdGVQcmVmb3JrVGFza3MoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5ZCO5Y+w5aSE55CG5a6M5q+VJylcclxuICAgICAgICAgICAgfSwgcHJlQ3JlYXRlVGFzaylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICDpobXpnaLmu5HliqhcclxuICpcclxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuUGFnZU1nclByb3RvLm1vdmUgPSBmdW5jdGlvbihsZWZ0SW5kZXgsIGN1cnJJbmRleCwgcmlnaHRJbmRleCwgZGlyZWN0aW9uLCBzcGVlZCwgYWN0aW9uLCBtb3ZlRGlzdGFuY2UpIHtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vL1xyXG4gICAgLy/mib7liLDpnIDopoHmu5HliqjnmoTpobXpnaIgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vXHJcbiAgICBmdW5jdGlvbiBmaW5kUGFnZSgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihsZWZ0SW5kZXgpLFxyXG4gICAgICAgICAgICB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihjdXJySW5kZXgpLFxyXG4gICAgICAgICAgICB0aGlzLmFic3RyYWN0R2V0UGFnZU9iaihyaWdodEluZGV4KVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy9cclxuICAgIC8v5byA5aeL56e75Yqo6aG16Z2iIC8vXHJcbiAgICAvLy8vLy8vLy8vL1xyXG4gICAgXy5lYWNoKGZpbmRQYWdlLmNhbGwodGhpcyksIGZ1bmN0aW9uKHBhZ2VPYmosIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKHBhZ2VPYmopIHtcclxuICAgICAgICAgICAgLy/np7vliqjmta7liqjpobXpnaLlrrnlmahcclxuICAgICAgICAgICAgdmFyIGZsYW90RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGZsYW90RWxlbWVudCA9IHBhZ2VPYmouZmxvYXRDb250ZW50cy5QYWdlQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvblthY3Rpb25dLmNhbGwocGFnZU9iaiwgbW92ZURpc3RhbmNlW2luZGV4XSwgc3BlZWQsIGZsYW90RWxlbWVudClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+ato+W4uOmhtemdolxyXG4gICAgICAgICAgICB0cmFuc2xhdGlvblthY3Rpb25dLmNhbGwocGFnZU9iaiwgbW92ZURpc3RhbmNlW2luZGV4XSwgc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICAg5rWB56iL54q25oCB5o6n5Yi2XHJcbiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICog6Kem5bGP57+76aG15byA5aeLXHJcbiAqIDEg5Lit5pat5omA5pyJ5Lu75YqhXHJcbiAqIDIg5YGc5q2i54Ot54K55a+56LGh6L+Q6KGMXHJcbiAqICAgICDlgZzmraLliqjnlLss6KeG6aKR6Z+z6aKR562J562JXHJcbiAqL1xyXG5QYWdlTWdyUHJvdG8uc3VzcGVuZCA9IGZ1bmN0aW9uKHBvaW50ZXJzKSB7XHJcbiAgICB2YXIgc3RvcFBvaW50ZXIgPSBwb2ludGVycy5zdG9wUG9pbnRlcixcclxuICAgICAgICBzdXNwZW5kUGFnZU9iaiA9IHRoaXMuYWJzdHJhY3RHZXRQYWdlT2JqKHN0b3BQb2ludGVyKSxcclxuICAgICAgICBwcnZlQ2hwdGVySWQgPSBzdXNwZW5kUGFnZU9iai5iYXNlR2V0UGFnZUlkKHN0b3BQb2ludGVyKTtcclxuXHJcbiAgICAvL+e/u+mhtee7k+adn+iEmuacrFxyXG4gICAgY2hlY2tJbmplY3RTY3JpcHQoc3VzcGVuZFBhZ2VPYmosICdwb3N0Q29kZScpO1xyXG5cclxuICAgIC8v5Lit5pat6IqC54K55Yib5bu65Lu75YqhXHJcbiAgICB0aGlzLnN1c3BlbmRJbm5lckNyZWF0ZVRhc2tzKHBvaW50ZXJzKTtcclxuXHJcbiAgICAvL+WBnOatoua0u+WKqOWvueixoea0u+WKqFxyXG4gICAgX3N1c3BlbmQoc3VzcGVuZFBhZ2VPYmosIHBydmVDaHB0ZXJJZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlpI3kvY3liJ3lp4vnirbmgIFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5QYWdlTWdyUHJvdG8ucmVzZXRPcmlnaW5hbCA9IGZ1bmN0aW9uKHBhZ2VJbmRleCkge1xyXG4gICAgdmFyIG9yaWdpbmFsUGFnZU9iaiwgZmxhb3RFbGVtZW50O1xyXG4gICAgaWYgKG9yaWdpbmFsUGFnZU9iaiA9IHRoaXMuYWJzdHJhY3RHZXRQYWdlT2JqKHBhZ2VJbmRleCkpIHtcclxuICAgICAgICBpZiAoZmxhb3RFbGVtZW50ID0gb3JpZ2luYWxQYWdlT2JqLmZsb2F0Q29udGVudHMuUGFnZUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAvL2Zsb2F0UGFnZXPorr7nva7nmoRjb250ZW505rqi5Ye65ZCO5aSE55CGXHJcbiAgICAgICAgICAgIC8v5Zyo6Z2e6KeG5Yy65aKe5Yqgb3ZlcmZsb3c6aGlkZGVuXHJcbiAgICAgICAgICAgIC8v5Y+v6KeG5Yy65Z+fb3ZlcmZsb3c6JydcclxuICAgICAgICAgICAgZmxhb3RFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnekluZGV4JzogMjAwMCxcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9vcmlnaW5hbChvcmlnaW5hbFBhZ2VPYmopO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog6Kem5bGP57+76aG15a6M5oiQXHJcbiAqIDEg5YGc5q2i54Ot54K55Yqo5L2cXHJcbiAqIDIg6Kem5Y+R5paw55qE6aG16Z2i5Yqo5L2cXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gcHJldlBhZ2VJbmRleCBb5LiK5LiA6aG16Z2iXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGN1cnJQYWdlSW5kZXggW+W9k+WJjemhteeggV1cclxuICogQHBhcmFtICB7W3R5cGVdfSBuZXh0UGFnZUluZGV4IFvkuIvkuIDpobXpobXnoIFdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gc3VzcGVuZEluZGV4ICBb5YGc5q2i5Yqo5L2c55qE6aG156CBXeWboOS4uuimgeWMuuWIhua7keWKqOeahOaWueWQkVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGNyZWF0ZVBvaW50ZXIgW+ato+WcqOWIm+W7uueahOmhtemdol1cclxuICogQHBhcmFtICB7W3R5cGVdfSBkaXJlY3Rpb24gICAgIFvmu5HliqjmlrnlkJFdXHJcbiAqL1xyXG5QYWdlTWdyUHJvdG8uYXV0b1J1biA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy/mo4DmtYvlvZPliY3pobXpnaLmnoTlu7rku7vliqHnmoTmg4XlhrVcclxuICAgIC8v5aaC5p6c5Lu75Yqh5rKh5pyJ5a6M5oiQ77yM5YiZ562J5b6F5Lu75Yqh5a6M5oiQXHJcbiAgICB0aGlzLmNoZWNrVGFza0NvbXBsZXRlZChkYXRhLmN1cnJJbmRleCwgZnVuY3Rpb24oY3VyclBhZ2VPYmopIHtcclxuXHJcbiAgICAgICAgLy/mj5DljYflvZPliY3pobXpnaLmta7liqjlr7nosaHnmoTlsYLnuqdcclxuICAgICAgICAvL+WboOS4uua1ruWKqOWvueixoeWPr+S7peaYr+W5tuiBlOeahFxyXG4gICAgICAgIHZhciBmbGFvdEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGZsYW90RWxlbWVudCA9IGN1cnJQYWdlT2JqLmZsb2F0Q29udGVudHMuUGFnZUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBmbGFvdEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICd6SW5kZXgnOiAyMDAxLFxyXG4gICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJydcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vSUXkuIrkuI3mlK/mjIHokpnniYjmlYjmnpznmoTlpITnkIZcclxuICAgICAgICBpZiAoWHV0LnBsYXQubm9NYXNrQm94SW1hZ2UpIHtcclxuICAgICAgICAgICAgYWRkRWRnZXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5p6E5Lu25a6M5oiQ6YCa55+lXHJcbiAgICAgICAgZGF0YS5idWlsZENvbXBsZXRlKGN1cnJQYWdlT2JqLnNjZW5hcmlvSWQpO1xyXG5cclxuICAgICAgICAvL+aJp+ihjOiHquWKqOWKqOS9nOS5i+WJjeeahOiEmuacrFxyXG4gICAgICAgIGNoZWNrSW5qZWN0U2NyaXB0KGN1cnJQYWdlT2JqLCAncHJlQ29kZScpO1xyXG5cclxuICAgICAgICAvL+eDreeCueeKtuaAgeWkjeS9jVxyXG4gICAgICAgIHNlbGYucmVzZXRPcmlnaW5hbChkYXRhLnN1c3BlbmRJbmRleClcclxuXHJcbiAgICAgICAgLy/pooTmnoTlu7rog4zmma9cclxuICAgICAgICBwcmVDcmVhdGUoJ2JhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy/nrYnlvoXliqjnlLvnu5PmnZ/lkI7mnoTlu7pcclxuICAgICAgICBzdGFydEF1dG9SdW4oY3VyclBhZ2VPYmosIGRhdGEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpooTmiafooYzog4zmma/liJvlu7pcclxuICAgICAqIOaUr+aMgeWkmue6v+eoi+W/q+mAn+e/u+mhtVxyXG4gICAgICogMSDliJ3lp4vljJYs5oiW6ICF5b+r6YCf57+76aG16KGl5YWo5YmN5ZCO6aG16Z2iXHJcbiAgICAgKiAyIOato+W4uOe/u+mhteWIm+W7uuWJjeWQjlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwcmVDcmVhdGUocHJlQ3JlYXRlVGFzaykge1xyXG4gICAgICAgIHZhciByZXN1bWVQb2ludGVyO1xyXG4gICAgICAgIGlmIChkYXRhLmlzUXVpY2tUdXJuIHx8ICFkYXRhLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXN1bWVQb2ludGVyID0gW2RhdGEucHJldkluZGV4LCBkYXRhLm5leHRJbmRleF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdW1lUG9pbnRlciA9IGRhdGEuY3JlYXRlUG9pbnRlciB8fCBkYXRhLm5leHRJbmRleCB8fCBkYXRhLnByZXZJbmRleFxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmNoZWNrUHJlZm9ya1Rhc2tzKHJlc3VtZVBvaW50ZXIsIHByZUNyZWF0ZVRhc2spO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy/mv4DmtLvoh6rliqjov5DooYzlr7nosaFcclxuICAgIGZ1bmN0aW9uIHN0YXJ0QXV0b1J1bihjdXJyUGFnZU9iaiwgZGF0YSkge1xyXG5cclxuICAgICAgICAvL+e7k+adn+mAmuefpVxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xyXG4gICAgICAgICAgICBkYXRhLnByb2Nlc3NDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICBwcmVDcmVhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c6aG16Z2i5a655Zmo5a2Y5ZyoLOaJjeWkhOeQhuiHquWKqOi/kOihjFxyXG4gICAgICAgIHZhciBjdXJyUm9vdE5vZGUgPSBjdXJyUGFnZU9iai5lbGVtZW50XHJcbiAgICAgICAgaWYgKCFjdXJyUm9vdE5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+i/kOihjOWKqOS9nFxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0UnVuKCkge1xyXG4gICAgICAgICAgICBfYXV0b1J1bihjdXJyUGFnZU9iaiwgZGF0YS5jdXJySW5kZXgsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v6L+Q6KGM5aaC5p6c6KKr5Lit5patLOWImeetieW+hVxyXG4gICAgICAgIGlmIChkYXRhLnN1c3BlbmRDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBkYXRhLnN1c3BlbmRDYWxsYmFjayhzdGFydFJ1bilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFydFJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy/mt7flhaXmir3osaHmjqXlj6Pmlrnms5VcclxuZXh0ZW5kKFBhZ2VNZ3IsIEFic3RyYWN0KVxyXG5cclxuXHJcbmV4cG9ydCB7IFBhZ2VNZ3IgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvbWFuYWdlci9wYWdlLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 71 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Scheduler = Scheduler;\n\nvar _stroage = __webpack_require__(5);\n\nvar _page = __webpack_require__(70);\n\nvar _master = __webpack_require__(68);\n\nvar _index = __webpack_require__(14);\n\nvar _parser = __webpack_require__(17);\n\nvar _switch = __webpack_require__(72);\n\nvar _navbar = __webpack_require__(10);\n\n//判断是否能整除2\n\n//页面切换\n\n\n//错误的数据库表\n\n//页面管理\nfunction offsetPage(num) {\n    return num % 2 == 0 ? 'left' : 'right';\n}\n\n//如果是场景加载，转化页码数\n//转化按0开始\n//pageIndex 页码\n//visiblePid 可见页面chpaterId\n\n//Navbar\n\n//数据解析\n/*********************************************************************\r\n *                 调度器 生成页面模块\r\n *\r\n *            处理：事件动作分派\r\n *            调度：\r\n *                1. PageMgr     模块\r\n *                2. MasterMgr 模块\r\n *                                                                    *\r\n **********************************************************************/\nfunction conversionPageOpts(pageIndex, visiblePid) {\n    var sectionRang;\n    //转化可视区域值viewPageIndex\n    if (this.options.multiScenario) {\n        sectionRang = this.options.sectionRang;\n        //如果传入的是数据\n        if (!visiblePid && _.isArray(pageIndex)) {\n            pageIndex.forEach(function (ele, index) {\n                pageIndex.splice(index, 1, ele - sectionRang.start);\n            });\n            return pageIndex;\n        }\n        pageIndex -= sectionRang.start;\n        visiblePid += sectionRang.start;\n    } else {\n        //pageIndex是数组，并且realPage为空\n        if (_.isArray(pageIndex)) {\n            return pageIndex;\n        }\n    }\n\n    return {\n        'pageIndex': pageIndex,\n        'visiblePid': visiblePid\n    };\n}\n\n///////////\n//计算翻页距离 //\n///////////\nfunction calculateDistance(action, distance, direction) {\n    var leftOffset, currOffset, rightOffset;\n\n    //保持缩放比,计算缩放比情况下的转化\n    var calculateContainer = Xut.config.proportion.calculateContainer();\n    var containerWidth = calculateContainer.width;\n\n    switch (direction) {\n        //前翻\n        case 'prev':\n            switch (action) {\n                case 'flipMove':\n                    leftOffset = distance - containerWidth;\n                    currOffset = distance;\n                    rightOffset = distance + containerWidth;\n                    break;\n                case 'flipRebound':\n                    leftOffset = -containerWidth;\n                    currOffset = distance;\n                    rightOffset = containerWidth;\n                    break;\n                case 'flipOver':\n                    leftOffset = 0;\n                    currOffset = containerWidth;\n                    rightOffset = 2 * containerWidth;\n                    break;\n            }\n            break;\n        //后翻\n        case 'next':\n            switch (action) {\n                case 'flipMove':\n                    leftOffset = distance - containerWidth;\n                    rightOffset = distance + containerWidth;\n                    currOffset = distance;\n                    break;\n                case 'flipRebound':\n                    leftOffset = -containerWidth;\n                    rightOffset = containerWidth;\n                    currOffset = distance;\n                    break;\n                case 'flipOver':\n                    leftOffset = -2 * containerWidth;\n                    rightOffset = distance;\n                    currOffset = -containerWidth;\n                    break;\n            }\n            break;\n    }\n\n    return [leftOffset, currOffset, rightOffset];\n}\n\n////////////\n//计算初始化页码 //\n////////////\nfunction calculatePointer(targetIndex, pageTotal, multiplePages) {\n\n    var leftscope = 0,\n        pagePointer = {},\n        createPointer = [];\n\n    function setValue(index) {\n        if (index.leftIndex !== undefined) {\n            pagePointer.leftIndex = index.leftIndex;\n            createPointer.push(index.leftIndex);\n        }\n        if (index.currIndex !== undefined) {\n            pagePointer.currIndex = index.currIndex;\n            createPointer.push(index.currIndex);\n        }\n        if (index.rightIndex !== undefined) {\n            pagePointer.rightIndex = index.rightIndex;\n            createPointer.push(index.rightIndex);\n        }\n    }\n\n    //如果只有一页 or  非线性,只创建一个页面\n    if (pageTotal === 1 || !multiplePages) {\n        setValue({\n            'currIndex': targetIndex\n        });\n    } else {\n        //多页情况\n        if (targetIndex === leftscope) {\n            //首页\n            setValue({\n                'currIndex': targetIndex,\n                'rightIndex': targetIndex + 1\n            });\n        } else if (targetIndex === pageTotal - 1) {\n            //尾页\n            setValue({\n                'currIndex': targetIndex,\n                'leftIndex': targetIndex - 1\n            });\n        } else {\n            //中间页\n            setValue({\n                'currIndex': targetIndex,\n                'leftIndex': targetIndex - 1,\n                'rightIndex': targetIndex + 1\n            });\n        }\n    }\n\n    this.pagePointer = pagePointer;\n\n    return createPointer;\n}\n\n//保证可视页面第一个分解\n//createPage 需要创建的页面 [0,1,2]\n//visualPage 可视区页面       [1]\nfunction conversionCid(createPage, visualPage) {\n\n    var indexOf, start, less;\n\n    //如果第一个不是可视区域\n    //切换位置\n    //加快创建速度\n    if (createPage[0] !== visualPage) {\n        indexOf = createPage.indexOf(visualPage), less = createPage.splice(indexOf, 1), createPage = less.concat(createPage);\n    }\n\n    //场景加载模式,计算正确的chapter顺序\n    //多场景的模式chpater分段后\n    //叠加起始段落\n    if (this.options.multiScenario) {\n        //需要提前解析数据库的排列方式\n        //chpater的开始位置\n        start = this.options.sectionRang.start;\n        //拼接位置\n        createPage.forEach(function (page, index) {\n            createPage.splice(index, 1, page + start);\n        });\n    }\n\n    // [0,1,2] => [73,74,75]\n    return createPage;\n}\n\n//页码转化成相对应的chpater表数据\nfunction conversionPids(createPage) {\n    return (0, _parser.query)('chapter', createPage);\n}\n\n//检测是否构建母板模块处理\nfunction checkMasterCreate() {\n    var table = (0, _index.errorTable)();\n    //如果没有Master数据,直接过滤\n    if (-1 !== table.indexOf('Master') || !Xut.data['Master'] || !Xut.data['Master'].length) {\n        return false;\n    }\n    return true;\n}\n\n////////\n//调度器 //\n////////\nfunction Scheduler(vm) {\n\n    this.vm = vm;\n    this.options = vm.options;\n\n    /**\r\n     * 创建前景页面管理模块\r\n     * @type {PageMgr}\r\n     */\n    this.pageMgr = new _page.PageMgr(vm);\n\n    /**\r\n     * 检测是否需要创母版模块\r\n     * @return {[type]} [description]\r\n     */\n    if (checkMasterCreate()) {\n        this.masterMgr = new _master.MasterMgr(vm);\n    }\n};\n\nvar SchedulerProto = Scheduler.prototype;\n\n/**\r\n * 初始化页面创建\r\n * 因为多个页面的问题，所以不是创建调用\r\n * 统一回调\r\n * @return {[type]} [description]\r\n */\nSchedulerProto.initCreate = function () {\n    var options = this.options;\n    /**\r\n     * 初始化构建页面\r\n     */\n    this.create(calculatePointer.call(this, options.initIndex, options.pagetotal, options.multiplePages), options.initIndex, 'init');\n};\n\n/**\r\n *  创建普通页面\r\n *  创建母版页面\r\n *  createPointer  需要创建的页面索引\r\n *  visiblePage       当前可视区页面索引\r\n *  action         toPage/init/flipOver\r\n *  toPageCallback 跳转页面支持回调通知\r\n *  userStyle      规定创建的style属性\r\n **/\nSchedulerProto.create = function (createPage, visiblePage, action, toPageCallback, userStyle) {\n\n    //2016.1.20\n    //修正苗苗学问题 确保createPage不是undefined\n    if (void 0 === createPage[0]) {\n        return;\n    }\n\n    // console.debug('当前页面:' + this.pagePointer.currIndex + ',创建新页面:\"'+ createPointer + '\",动作:' +action)\n    var createPid,\n        pageBase,\n        visiblePid,\n        pageIndex,\n        conversion,\n        newCreate,\n        callbackAction,\n        virtualMode = Xut.config.virtualMode,\n        self = this,\n        multiplePages = this.options.multiplePages,\n        //是否线性\n    total = createPage.length,\n        toPageAction = action === 'toPage',\n        //如果是跳转\n    filpOverAction = action === 'flipOver',\n        //如果是翻页\n\n    //使用第一个是分解可见页面\n    //将页码pageIndex转化成对应的chapter\n    createPids = conversionCid.call(this, createPage, visiblePage),\n\n\n    //收集创建的页面对象\n    //用于处理2个页面在切换的时候闪屏问题\n    //主要是传递createStyle自定义样式的处理\n    collectCreatePageBase = [],\n\n\n    //是否触发母版的自动时间\n    //因为页面每次翻页都会驱动auto事件\n    //但是母版可能是共享的\n    createMaster = false,\n\n\n    //收集完成回调\n    collectCallback = function () {\n        //收集创建页码的数量\n        var createContent = 0;\n        return function (callback) {\n            ++createContent;\n            if (createContent === total) {\n                callback();\n            }\n        };\n    }(),\n\n\n    //构建执行代码\n    callbackAction = {\n        //初始化\n        init: function init() {\n            collectCallback(function () {\n                self.loadPage('init');\n            });\n        },\n        //翻页\n        flipOver: function flipOver() {\n            collectCallback(function () {\n                self.autoRun({ //翻页\n                    'createPointer': createPids,\n                    'createMaster': createMaster\n                });\n            });\n        },\n        //跳转\n        toPage: function toPage() {\n            collectCallback(function () {\n                toPageCallback(collectCreatePageBase);\n            });\n        }\n    };\n\n    ////////////////////\n    //pid=>chpterData //\n    ////////////////////\n    var results = conversionPids(createPids);\n\n    ////////////\n    //如果是最后一页 //\n    //没有对应的虚拟数据，取前一页的\n    ////////////\n    if (virtualMode && !results.length) {\n        var virtualPid = _.extend([], createPids);\n        createPids.forEach(function (pid, index) {\n            virtualPid.splice(index, 1, --pid);\n        });\n        results = conversionPids(virtualPid);\n    }\n\n    //页码转成数据\n    _.each(results, function (chapterData, index) {\n\n        //转化值\n        //chapterId => createPid\n        createPid = createPids[index];\n\n        //createPid\n        //pageIndex\n        conversion = conversionPageOpts.call(self, createPid, visiblePage);\n        visiblePid = conversion.visiblePid;\n        pageIndex = conversion.pageIndex;\n\n        ////////////////\n        // 如果启动了虚拟页面模式 //\n        ////////////////\n        var virtualPid = false; //虚拟页面的pid编号\n        var virtualOffset = false; //页面坐标left,right\n        if (virtualMode) {\n\n            //获取新的chpater数据\n\n            var fixCids = function fixCids(originalIndex) {\n                var originalPid = conversionCid.call(self, [originalIndex]);\n                return conversionPids([originalPid])[0];\n            };\n\n            ////////////\n            //如果是翻页创建 //\n            //由于是拼接的所以chapter移位了\n            ////////////\n\n\n            //页面位置\n            virtualOffset = offsetPage(pageIndex);if (virtualOffset === 'left') {\n                chapterData = fixCids(pageIndex / 2);\n            }\n            //修正右边chapter\n            if (virtualOffset === 'right') {\n                chapterData = fixCids((pageIndex - 1) / 2);\n            }\n        }\n\n        if (total === 1) {\n            self.options.chapterId = chapterData._id;\n        }\n\n        //构件新的页面\n        //masterFilter 母板过滤器回调函数\n        newCreate = function newCreate(masterFilter) {\n\n            //跳转的时候，创建新页面可以自动样式信息\n            //优化设置，只是改变当前页面即可\n            if (toPageAction && visiblePid !== createPid) {\n                userStyle = undefined;\n            }\n\n            var dataOpts = {\n                'pageIndex': pageIndex,\n                'multiplePages': multiplePages,\n                'pid': createPid, //页码chapterId\n                'chapterDas': chapterData, //当前页面的chpater数据\n                'visiblePid': visiblePid, //实际中页面显示的索引\n                'userStyle': userStyle,\n                'virtualPid': virtualPid, //pid\n                'virtualOffset': virtualOffset //虚拟页面位置\n            };\n\n            //初始化构建页面对象\n            //page\n            //master\n            pageBase = this.create(dataOpts, pageIndex, masterFilter);\n\n            //构建页面对象后\n            //开始执行\n            if (pageBase) {\n                //开始线程任务\n                //当为滑动模式,支持快速创建\n                pageBase.startThreadTask(filpOverAction, function () {\n                    // console.log('创建完毕************** ' + (createPid+1) +' '+ action)\n                    callbackAction[action]();\n                });\n                //收集自定义样式的页面对象\n                if (userStyle) {\n                    collectCreatePageBase.push(pageBase);\n                }\n            }\n        };\n\n        //母版层\n        if (chapterData.pptMaster && self.masterMgr) {\n            newCreate.call(self.masterMgr, function () {\n                //母版是否创建等待通知\n                //母版是共享的所以不一定每次翻页都会创建\n                //如果需要创建,则叠加总数\n                ++total;\n                createMaster = true;\n            });\n        }\n\n        //页面层\n        newCreate.call(self.pageMgr);\n    });\n};\n\n/**\r\n * 滑动处理\r\n *  1 滑动\r\n *  2 反弹\r\n *  3 翻页\r\n */\nSchedulerProto.move = function (data) {\n\n    //动作\n    var action = data.action;\n\n    //用户强制直接切换模式\n    //禁止页面跟随滑动\n    if (this.options.pageFlip && action == 'flipMove') {\n        return;\n    }\n\n    var speed = data.speed;\n    var distance = data.distance;\n    var leftIndex = data.leftIndex;\n    var currIndex = data.pageIndex;\n    var rightIndex = data.rightIndex;\n    var direction = data.direction;\n    //移动的距离\n    var moveDistance = calculateDistance(action, distance, direction);\n    //视觉差页面滑动\n    var nodes = this.pageMgr.abstractGetPageObj(currIndex)['chapterDas']['nodes'];\n\n    ///////\n    //页面改变 //\n    ///////\n    //通知page模块\n    this.pageMgr.move(leftIndex, currIndex, rightIndex, direction, speed, action, moveDistance);\n\n    //通知视觉差模块\n    this.callMasterMgr(function () {\n        this.move(leftIndex, currIndex, rightIndex, direction, moveDistance, action, speed, nodes);\n    });\n\n    //更新页码标示\n    'flipOver' === action && setTimeout(function () {\n        this.vm.$emit('change:pageUpdate', direction === 'next' ? rightIndex : leftIndex);\n    }.bind(this), 0);\n};\n\n/**\r\n * 翻页松手后\r\n * 暂停页面的各种活动动作\r\n * @param  {[type]} pointers [description]\r\n * @return {[type]}          [description]\r\n */\nSchedulerProto.suspend = function (pointers) {\n    //关闭层事件\n    this.pageMgr.suspend(pointers);\n    this.callMasterMgr(function () {\n        this.suspend(pointers);\n    });\n    //目录栏\n    (0, _navbar.close)();\n    //复位工具栏\n    this.vm.$emit('change:resetToolbar');\n};\n\n/**\r\n * 翻页动画完毕后\r\n * @return {[type]}              [description]\r\n */\nSchedulerProto.complete = function (direction, pagePointer, unfliplock, isQuickTurn) {\n    //方向\n    this.direction = direction;\n    //是否快速翻页\n    this.isQuickTurn = isQuickTurn || false;\n    //解锁\n    this.unfliplock = unfliplock;\n    //清理上一个页面\n    this._clearPage(pagePointer.destroyPointer);\n    this._updatePointer(pagePointer);\n    //预创建下一页\n    this._advanceCreate(direction, pagePointer);\n};\n\n//清理页面结构\nSchedulerProto._clearPage = function (clearPageIndex) {\n    this.pageMgr.clearPage(clearPageIndex);\n};\n\n//更新页码索引标示\nSchedulerProto._updatePointer = function (pagePointer) {\n    this.pagePointer = pagePointer;\n};\n\n//预创建新页面\nSchedulerProto._advanceCreate = function (direction, pagePointer) {\n    var pagetotal = this.options.pagetotal,\n        vm = this.vm,\n        createPointer = pagePointer.createPointer,\n        destroyPointer = pagePointer.destroyPointer,\n\n    //清理页码\n    clear = function clear() {\n        delete pagePointer.createPointer;\n        delete pagePointer.destroyPointer;\n    },\n\n    //创建新的页面对象\n    createNextContainer = function createNextContainer(createPointer, currIndex) {\n        this.create([createPointer], currIndex, 'flipOver');\n    };\n\n    //如果是右边翻页\n    if (direction === 'next') {\n        //首尾无须创建页面\n        if (pagePointer.currIndex === pagetotal - 1) {\n            this.autoRun();\n            //如果总数只有2页，那么首页的按钮是关闭的，需要显示\n            if (pagetotal == 2) {\n                vm.$emit('change:showPrev');\n            }\n            //多页处理\n            vm.$emit('change:hideNext');\n            return;\n        }\n        if (createPointer < pagetotal) {\n            //创建的页面\n            createNextContainer.call(this, createPointer, pagePointer.currIndex);\n            clear();\n            vm.$emit('change:showPrev');\n            return;\n        }\n    }\n\n    //如果是左边翻页\n    if (direction === 'prev') {\n        //首尾无须创建页面\n        if (pagePointer.currIndex === 0) {\n            this.autoRun();\n            //如果总数只有2页，那么首页的按钮是关闭的，需要显示\n            if (pagetotal == 2) {\n                vm.$emit('change:showNext');\n            }\n            vm.$emit('change:hidePrev');\n            return;\n        }\n        if (pagePointer.currIndex > -1) {\n            //创建的页面\n            createNextContainer.call(this, createPointer, pagePointer.currIndex);\n            clear();\n            vm.$emit('change:showNext');\n            return;\n        }\n    }\n\n    clear();\n\n    return;\n};\n\n/**\r\n * 自动运行处理\r\n *  流程四:执行自动触发动作\r\n *   1.初始化创建页面完毕\r\n *   2.翻页完毕\r\n */\nSchedulerProto.autoRun = function (para) {\n    var options = this.options,\n        pagePointer = this.pagePointer,\n        prevIndex = pagePointer.leftIndex,\n        currIndex = pagePointer.currIndex,\n        nextIndex = pagePointer.rightIndex,\n        action = para ? para.action : '',\n        createPointer = para ? para.createPointer : '',\n        direction = this.direction,\n\n    //暂停的页面索引autorun\n    suspendIndex = action === 'init' ? '' : direction === 'next' ? prevIndex : nextIndex;\n\n    /**\r\n     * 存在2中模式的情况下\r\n     * 转化页码标记\r\n     */\n    if (createPointer) {\n        createPointer = conversionPageOpts.call(this, createPointer);\n    }\n\n    var data = {\n        'prevIndex': prevIndex,\n        'currIndex': currIndex,\n        'nextIndex': nextIndex,\n        'suspendIndex': suspendIndex,\n        'createPointer': createPointer,\n        'direction': direction,\n        'isQuickTurn': this.isQuickTurn,\n        //中断通知\n        'suspendCallback': options.suspendAutoCallback,\n        //构建完毕通知\n        'buildComplete': function buildComplete(scenarioId) {\n            //==========================================\n            //\n            //      构建完成通知,用于处理历史缓存记录\n            //      如果是调试模式\n            //      && 不是收费提示页面\n            //      && 多场景应用\n            //\n            //==========================================\n            if (Xut.config.recordHistory && !options.isInApp && options.multiScenario) {\n                var history;\n                if (history = Xut.sceneController.sequence(scenarioId, currIndex)) {\n                    (0, _stroage._set)(\"history\", history);\n                }\n            }\n        },\n\n        //流程结束通知\n        //包括动画都已经结束了\n        'processComplete': function processComplete() {}\n    };\n\n    //页面自动运行\n    this.pageMgr.autoRun(data);\n\n    //模板自动运行\n    this.callMasterMgr(function () {\n        //如果动作是初始化，或者触发了母版自动运行\n        //如果是越界处理\n        //console.log(action,this.isBoundary,para.createMaster)\n        if (action || this.isBoundary) {\n            this.autoRun(data);\n        }\n    });\n\n    /**\r\n     * 触发自动通知\r\n     * @type {[type]}\r\n     */\n    var vm = this.vm;\n\n    switch (action) {\n        case 'init':\n            //更新页码标示\n            vm.$emit('change:pageUpdate', currIndex);\n            resetToolbar.call(this);\n            setTimeout(function () {\n                $(\"#startupPage\").remove();\n                $(\"#removelayer\").remove();\n            }, 2000);\n            break;\n        case 'toPage':\n            //更新页码标示\n            vm.$emit('change:pageUpdate', currIndex);\n            resetToolbar.call(this);\n            break;\n    }\n\n    /**\r\n     * 初始化与跳转针对翻页案例的设置逻辑\r\n     * @return {[type]} [description]\r\n     */\n    function resetToolbar() {\n        //不显示首尾对应的按钮\n        if (currIndex == 0) {\n            vm.$emit('change:hidePrev');\n        } else if (currIndex == options.pagetotal - 1) {\n            vm.$emit('change:hideNext');\n            vm.$emit('change:showPrev');\n        } else {\n            vm.$emit('change:showNext');\n            vm.$emit('change:showPrev');\n        }\n    }\n\n    /**\r\n     * 线性结构\r\n     * 保存目录索引\r\n     */\n    if (!options.multiScenario) {\n        (0, _stroage._set)(\"pageIndex\", currIndex);\n    }\n\n    /**\r\n     * 解锁翻页\r\n     * 允许继续执行下一个翻页作用\r\n     */\n    if (this.unfliplock) {\n        this.unfliplock();\n        this.unfliplock = null;\n    }\n\n    //关闭快速翻页\n    this.isQuickTurn = false;\n};\n\n/**\r\n * 页面跳转切换处\r\n * @param  {[type]} data [description]\r\n * @return {[type]}      [description]\r\n */\nSchedulerProto.jumpPage = function (data) {\n\n    Xut.View.ShowBusy();\n\n    //如果是非线性,创建页面修改\n    if (!this.options.multiplePages) {\n        data.create = [data.targetIndex];\n        data.destroy = [data.currIndex];\n        data.ruleOut = [data.targetIndex];\n        data.pagePointer = {\n            currIndex: data.targetIndex\n        };\n    }\n\n    //执行页面切换\n    (0, _switch.SwitchPage)(this, data, function (data) {\n        this._updatePointer(data.pagePointer);\n        this.autoRun({\n            'action': 'toPage',\n            'createPointer': data['create']\n        });\n        Xut.View.HideBusy();\n    });\n};\n\n/**\r\n * 加载页面事件与动作\r\n * @param  {[type]} action [description]\r\n * @return {[type]}        [description]\r\n */\nSchedulerProto.loadPage = function (action) {\n    var self = this;\n\n    //触发自动任务\n    function trigger() {\n        self.autoRun({\n            'action': 'init'\n        });\n    }\n\n    //加载主场景页面\n    function firstLoading() {\n\n        $(\"#sceneHome\").css({\n            'visibility': 'visible'\n        });\n\n        if (GLOBALIFRAME) {\n            trigger();\n            return;\n        }\n        //获取应用的状态\n        if (Xut.Application.getAppState()) {\n            //保留启动方法\n            var pre = Xut.Application.LaunchApp;\n            Xut.Application.LaunchApp = function () {\n                pre();\n                trigger();\n            };\n        } else {\n            trigger();\n        }\n    }\n\n    //创建完成回调\n    self.vm.$emit('change:createComplete', function () {\n        if (self.options.multiScenario) {\n            trigger();\n        } else {\n            //第一次加载\n            //进入应用\n            firstLoading();\n        }\n    });\n};\n\n/**\r\n * 调用母版管理器\r\n * @return {[type]} [description]\r\n */\nSchedulerProto.callMasterMgr = function (callback) {\n    if (this.masterMgr) {\n        callback.call(this.masterMgr);\n    }\n};\n\n/**\r\n * 销毁接口\r\n * 对应多场景操作\r\n * @return {[type]} [description]\r\n */\nSchedulerProto.destroy = function () {\n    this.pageMgr.destroy();\n    this.callMasterMgr(function () {\n        this.destroy();\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvc2NoZWR1bGUuanM/YmI5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQXFPZ0IsUyxHQUFBLFM7O0FBNU5oQjs7QUFFQTs7QUFDQTs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7Ozs7Ozs7OztBQUtBLFNBQVMsVUFBVCxDQUFvQixHQUFwQixFQUF5QjtBQUNyQixXQUFTLE1BQU0sQ0FBTixJQUFXLENBQVosR0FBaUIsTUFBakIsR0FBMEIsT0FBbEM7QUFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1ELFNBQVMsa0JBQVQsQ0FBNEIsU0FBNUIsRUFBdUMsVUFBdkMsRUFBbUQ7QUFDL0MsUUFBSSxXQUFKOztBQUVBLFFBQUksS0FBSyxPQUFMLENBQWEsYUFBakIsRUFBZ0M7QUFDNUIsc0JBQWMsS0FBSyxPQUFMLENBQWEsV0FBM0I7O0FBRUEsWUFBSSxDQUFDLFVBQUQsSUFBZSxFQUFFLE9BQUYsQ0FBVSxTQUFWLENBQW5CLEVBQXlDO0FBQ3JDLHNCQUFVLE9BQVYsQ0FBa0IsVUFBUyxHQUFULEVBQWMsS0FBZCxFQUFxQjtBQUNuQywwQkFBVSxNQUFWLENBQWlCLEtBQWpCLEVBQXdCLENBQXhCLEVBQTJCLE1BQU0sWUFBWSxLQUE3QztBQUNILGFBRkQ7QUFHQSxtQkFBTyxTQUFQO0FBQ0g7QUFDRCxxQkFBYSxZQUFZLEtBQXpCO0FBQ0Esc0JBQWMsWUFBWSxLQUExQjtBQUNILEtBWEQsTUFXTzs7QUFFSCxZQUFJLEVBQUUsT0FBRixDQUFVLFNBQVYsQ0FBSixFQUEwQjtBQUN0QixtQkFBTyxTQUFQO0FBQ0g7QUFDSjs7QUFFRCxXQUFPO0FBQ0gscUJBQWEsU0FEVjtBQUVILHNCQUFjO0FBRlgsS0FBUDtBQUlIOzs7OztBQUtELFNBQVMsaUJBQVQsQ0FBMkIsTUFBM0IsRUFBbUMsUUFBbkMsRUFBNkMsU0FBN0MsRUFBd0Q7QUFDcEQsUUFBSSxVQUFKLEVBQ0ksVUFESixFQUVJLFdBRko7OztBQUtI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QUFkLEVBQXVDLFlBQVc7QUFDOUMsWUFBSSxLQUFLLE9BQUwsQ0FBYSxhQUFqQixFQUFnQztBQUM1QjtBQUNILFNBRkQsTUFFTzs7O0FBR0g7QUFDSDtBQUNKLEtBUkQ7QUFTSCxDQTlDRDs7Ozs7O0FBcURBLGVBQWUsYUFBZixHQUErQixVQUFTLFFBQVQsRUFBbUI7QUFDOUMsUUFBSSxLQUFLLFNBQVQsRUFBb0I7QUFDaEIsaUJBQVMsSUFBVCxDQUFjLEtBQUssU0FBbkI7QUFDSDtBQUNKLENBSkQ7Ozs7Ozs7QUFZQSxlQUFlLE9BQWYsR0FBeUIsWUFBVztBQUNoQyxTQUFLLE9BQUwsQ0FBYSxPQUFiO0FBQ0EsU0FBSyxhQUFMLENBQW1CLFlBQVc7QUFDMUIsYUFBSyxPQUFMO0FBQ0gsS0FGRDtBQUdILENBTEQiLCJmaWxlIjoiNzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqICAgICAgICAgICAgICAgICDosIPluqblmagg55Sf5oiQ6aG16Z2i5qih5Z2XXHJcbiAqXHJcbiAqICAgICAgICAgICAg5aSE55CG77ya5LqL5Lu25Yqo5L2c5YiG5rS+XHJcbiAqICAgICAgICAgICAg6LCD5bqm77yaXHJcbiAqICAgICAgICAgICAgICAgIDEuIFBhZ2VNZ3IgICAgIOaooeWdl1xyXG4gKiAgICAgICAgICAgICAgICAyLiBNYXN0ZXJNZ3Ig5qih5Z2XXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQge19zZXR9IGZyb20gJy4uL3V0aWwvc3Ryb2FnZSdcclxuLy/pobXpnaLnrqHnkIZcclxuaW1wb3J0IHtQYWdlTWdyfSBmcm9tICcuL3BhZ2UnXHJcbmltcG9ydCB7TWFzdGVyTWdyfSBmcm9tICcuL21hc3RlcidcclxuXHJcbi8v6ZSZ6K+v55qE5pWw5o2u5bqT6KGoXHJcbmltcG9ydCB7ZXJyb3JUYWJsZX0gZnJvbSAnLi4vZGF0YS9pbmRleCdcclxuLy/mlbDmja7op6PmnpBcclxuaW1wb3J0IHtxdWVyeX0gZnJvbSAnLi9wYXJzZXInXHJcbi8v6aG16Z2i5YiH5o2iXHJcbmltcG9ydCB7U3dpdGNoUGFnZX0gZnJvbSAnLi9zd2l0Y2gnXHJcbi8vTmF2YmFyXHJcbmltcG9ydCB7Y2xvc2UgYXMgX2Nsb3NlfSBmcm9tICcuLi90b29sYmFyL25hdmJhcidcclxuXHJcblxyXG5cclxuLy/liKTmlq3mmK/lkKbog73mlbTpmaQyXHJcbmZ1bmN0aW9uIG9mZnNldFBhZ2UobnVtKSB7XHJcbiAgICByZXR1cm4gKChudW0gJSAyID09IDApID8gJ2xlZnQnIDogJ3JpZ2h0Jyk7XHJcbn1cclxuXHJcbi8v5aaC5p6c5piv5Zy65pmv5Yqg6L2977yM6L2s5YyW6aG156CB5pWwXHJcbi8v6L2s5YyW5oyJMOW8gOWni1xyXG4vL3BhZ2VJbmRleCDpobXnoIFcclxuLy92aXNpYmxlUGlkIOWPr+ingemhtemdomNocGF0ZXJJZFxyXG5mdW5jdGlvbiBjb252ZXJzaW9uUGFnZU9wdHMocGFnZUluZGV4LCB2aXNpYmxlUGlkKSB7XHJcbiAgICB2YXIgc2VjdGlvblJhbmc7XHJcbiAgICAvL+i9rOWMluWPr+inhuWMuuWfn+WAvHZpZXdQYWdlSW5kZXhcclxuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlTY2VuYXJpbykge1xyXG4gICAgICAgIHNlY3Rpb25SYW5nID0gdGhpcy5vcHRpb25zLnNlY3Rpb25SYW5nO1xyXG4gICAgICAgIC8v5aaC5p6c5Lyg5YWl55qE5piv5pWw5o2uXHJcbiAgICAgICAgaWYgKCF2aXNpYmxlUGlkICYmIF8uaXNBcnJheShwYWdlSW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHBhZ2VJbmRleC5mb3JFYWNoKGZ1bmN0aW9uKGVsZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VJbmRleC5zcGxpY2UoaW5kZXgsIDEsIGVsZSAtIHNlY3Rpb25SYW5nLnN0YXJ0KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcGFnZUluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYWdlSW5kZXggLT0gc2VjdGlvblJhbmcuc3RhcnQ7XHJcbiAgICAgICAgdmlzaWJsZVBpZCArPSBzZWN0aW9uUmFuZy5zdGFydDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9wYWdlSW5kZXjmmK/mlbDnu4TvvIzlubbkuJRyZWFsUGFnZeS4uuepulxyXG4gICAgICAgIGlmIChfLmlzQXJyYXkocGFnZUluZGV4KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFnZUluZGV4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdwYWdlSW5kZXgnOiBwYWdlSW5kZXgsXHJcbiAgICAgICAgJ3Zpc2libGVQaWQnOiB2aXNpYmxlUGlkXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vXHJcbi8v6K6h566X57+76aG16Led56a7IC8vXHJcbi8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZURpc3RhbmNlKGFjdGlvbiwgZGlzdGFuY2UsIGRpcmVjdGlvbikge1xyXG4gICAgdmFyIGxlZnRPZmZzZXQsXHJcbiAgICAgICAgY3Vyck9mZnNldCxcclxuICAgICAgICByaWdodE9mZnNldDtcclxuXHJcblx0Ly/kv53mjIHnvKnmlL7mr5Qs6K6h566X57yp5pS+5q+U5oOF5Ya15LiL55qE6L2s5YyWXHJcblx0dmFyIGNhbGN1bGF0ZUNvbnRhaW5lciA9IFh1dC5jb25maWcucHJvcG9ydGlvbi5jYWxjdWxhdGVDb250YWluZXIoKTtcclxuXHR2YXIgIGNvbnRhaW5lcldpZHRoICAgID0gY2FsY3VsYXRlQ29udGFpbmVyLndpZHRoO1xyXG5cclxuXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgIC8v5YmN57+7XHJcbiAgICAgICAgY2FzZSAncHJldic6XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmbGlwTW92ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdE9mZnNldCA9IGRpc3RhbmNlIC0gY29udGFpbmVyV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyck9mZnNldCA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0T2Zmc2V0ID0gZGlzdGFuY2UgKyBjb250YWluZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZsaXBSZWJvdW5kJzpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0T2Zmc2V0ID0gLWNvbnRhaW5lcldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJPZmZzZXQgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICByaWdodE9mZnNldCA9IGNvbnRhaW5lcldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmxpcE92ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRPZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJPZmZzZXQgPSBjb250YWluZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICByaWdodE9mZnNldCA9IDIgKiBjb250YWluZXJXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvL+WQjue/u1xyXG4gICAgICAgIGNhc2UgJ25leHQnOlxyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmxpcE1vdmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRPZmZzZXQgPSBkaXN0YW5jZSAtIGNvbnRhaW5lcldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0T2Zmc2V0ID0gZGlzdGFuY2UgKyBjb250YWluZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyT2Zmc2V0ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmbGlwUmVib3VuZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdE9mZnNldCA9IC1jb250YWluZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICByaWdodE9mZnNldCA9IGNvbnRhaW5lcldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJPZmZzZXQgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZsaXBPdmVyJzpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0T2Zmc2V0ID0gLTIgKiBjb250YWluZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICByaWdodE9mZnNldCA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJPZmZzZXQgPSAtY29udGFpbmVyV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtsZWZ0T2Zmc2V0LCBjdXJyT2Zmc2V0LCByaWdodE9mZnNldF07XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vL1xyXG4vL+iuoeeul+WIneWni+WMlumhteeggSAvL1xyXG4vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gY2FsY3VsYXRlUG9pbnRlcih0YXJnZXRJbmRleCwgcGFnZVRvdGFsLCBtdWx0aXBsZVBhZ2VzKSB7XHJcblxyXG4gICAgdmFyIGxlZnRzY29wZSA9IDAsXHJcbiAgICAgICAgcGFnZVBvaW50ZXIgPSB7fSxcclxuICAgICAgICBjcmVhdGVQb2ludGVyID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmFsdWUoaW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXgubGVmdEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGFnZVBvaW50ZXIubGVmdEluZGV4ID0gaW5kZXgubGVmdEluZGV4O1xyXG4gICAgICAgICAgICBjcmVhdGVQb2ludGVyLnB1c2goaW5kZXgubGVmdEluZGV4KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5kZXguY3VyckluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGFnZVBvaW50ZXIuY3VyckluZGV4ID0gaW5kZXguY3VyckluZGV4O1xyXG4gICAgICAgICAgICBjcmVhdGVQb2ludGVyLnB1c2goaW5kZXguY3VyckluZGV4KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5kZXgucmlnaHRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHBhZ2VQb2ludGVyLnJpZ2h0SW5kZXggPSBpbmRleC5yaWdodEluZGV4O1xyXG4gICAgICAgICAgICBjcmVhdGVQb2ludGVyLnB1c2goaW5kZXgucmlnaHRJbmRleClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpoLmnpzlj6rmnInkuIDpobUgb3IgIOmdnue6v+aApyzlj6rliJvlu7rkuIDkuKrpobXpnaJcclxuICAgIGlmIChwYWdlVG90YWwgPT09IDEgfHwgIW11bHRpcGxlUGFnZXMpIHtcclxuICAgICAgICBzZXRWYWx1ZSh7XHJcbiAgICAgICAgICAgICdjdXJySW5kZXgnOiB0YXJnZXRJbmRleFxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v5aSa6aG15oOF5Ya1XHJcbiAgICAgICAgaWYgKHRhcmdldEluZGV4ID09PSBsZWZ0c2NvcGUpIHsgLy/pppbpobVcclxuICAgICAgICAgICAgc2V0VmFsdWUoe1xyXG4gICAgICAgICAgICAgICAgJ2N1cnJJbmRleCc6IHRhcmdldEluZGV4LFxyXG4gICAgICAgICAgICAgICAgJ3JpZ2h0SW5kZXgnOiB0YXJnZXRJbmRleCArIDFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldEluZGV4ID09PSBwYWdlVG90YWwgLSAxKSB7IC8v5bC+6aG1XHJcbiAgICAgICAgICAgIHNldFZhbHVlKHtcclxuICAgICAgICAgICAgICAgICdjdXJySW5kZXgnOiB0YXJnZXRJbmRleCxcclxuICAgICAgICAgICAgICAgICdsZWZ0SW5kZXgnOiB0YXJnZXRJbmRleCAtIDFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2UgeyAvL+S4remXtOmhtVxyXG4gICAgICAgICAgICBzZXRWYWx1ZSh7XHJcbiAgICAgICAgICAgICAgICAnY3VyckluZGV4JzogdGFyZ2V0SW5kZXgsXHJcbiAgICAgICAgICAgICAgICAnbGVmdEluZGV4JzogdGFyZ2V0SW5kZXggLSAxLFxyXG4gICAgICAgICAgICAgICAgJ3JpZ2h0SW5kZXgnOiB0YXJnZXRJbmRleCArIDFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wYWdlUG9pbnRlciA9IHBhZ2VQb2ludGVyO1xyXG5cclxuICAgIHJldHVybiBjcmVhdGVQb2ludGVyO1xyXG59XHJcblxyXG4vL+S/neivgeWPr+inhumhtemdouesrOS4gOS4quWIhuino1xyXG4vL2NyZWF0ZVBhZ2Ug6ZyA6KaB5Yib5bu655qE6aG16Z2iIFswLDEsMl1cclxuLy92aXN1YWxQYWdlIOWPr+inhuWMuumhtemdoiAgICAgICBbMV1cclxuZnVuY3Rpb24gY29udmVyc2lvbkNpZChjcmVhdGVQYWdlLCB2aXN1YWxQYWdlKSB7XHJcblxyXG4gICAgdmFyIGluZGV4T2YsIHN0YXJ0LCBsZXNzO1xyXG5cclxuICAgIC8v5aaC5p6c56ys5LiA5Liq5LiN5piv5Y+v6KeG5Yy65Z+fXHJcbiAgICAvL+WIh+aNouS9jee9rlxyXG4gICAgLy/liqDlv6vliJvlu7rpgJ/luqZcclxuICAgIGlmIChjcmVhdGVQYWdlWzBdICE9PSB2aXN1YWxQYWdlKSB7XHJcbiAgICAgICAgaW5kZXhPZiA9IGNyZWF0ZVBhZ2UuaW5kZXhPZih2aXN1YWxQYWdlKSxcclxuICAgICAgICAgICAgbGVzcyA9IGNyZWF0ZVBhZ2Uuc3BsaWNlKGluZGV4T2YsIDEpLFxyXG4gICAgICAgICAgICBjcmVhdGVQYWdlID0gbGVzcy5jb25jYXQoY3JlYXRlUGFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lnLrmma/liqDovb3mqKHlvI8s6K6h566X5q2j56Gu55qEY2hhcHRlcumhuuW6j1xyXG4gICAgLy/lpJrlnLrmma/nmoTmqKHlvI9jaHBhdGVy5YiG5q615ZCOXHJcbiAgICAvL+WPoOWKoOi1t+Wni+auteiQvVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aVNjZW5hcmlvKSB7XHJcbiAgICAgICAgLy/pnIDopoHmj5DliY3op6PmnpDmlbDmja7lupPnmoTmjpLliJfmlrnlvI9cclxuICAgICAgICAvL2NocGF0ZXLnmoTlvIDlp4vkvY3nva5cclxuICAgICAgICBzdGFydCA9IHRoaXMub3B0aW9ucy5zZWN0aW9uUmFuZy5zdGFydDtcclxuICAgICAgICAvL+aLvOaOpeS9jee9rlxyXG4gICAgICAgIGNyZWF0ZVBhZ2UuZm9yRWFjaChmdW5jdGlvbihwYWdlLCBpbmRleCkge1xyXG4gICAgICAgICAgICBjcmVhdGVQYWdlLnNwbGljZShpbmRleCwgMSwgcGFnZSArIHN0YXJ0KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gWzAsMSwyXSA9PiBbNzMsNzQsNzVdXHJcbiAgICByZXR1cm4gY3JlYXRlUGFnZTtcclxufVxyXG5cclxuXHJcbi8v6aG156CB6L2s5YyW5oiQ55u45a+55bqU55qEY2hwYXRlcuihqOaVsOaNrlxyXG5mdW5jdGlvbiBjb252ZXJzaW9uUGlkcyhjcmVhdGVQYWdlKSB7XHJcbiAgICByZXR1cm4gcXVlcnkoJ2NoYXB0ZXInLCBjcmVhdGVQYWdlKTtcclxufVxyXG5cclxuXHJcbi8v5qOA5rWL5piv5ZCm5p6E5bu65q+N5p2/5qih5Z2X5aSE55CGXHJcbmZ1bmN0aW9uIGNoZWNrTWFzdGVyQ3JlYXRlKCkge1xyXG4gICAgdmFyIHRhYmxlID0gZXJyb3JUYWJsZSgpO1xyXG4gICAgLy/lpoLmnpzmsqHmnIlNYXN0ZXLmlbDmja4s55u05o6l6L+H5rukXHJcbiAgICBpZiAoLTEgIT09IHRhYmxlLmluZGV4T2YoJ01hc3RlcicpIHx8ICFYdXQuZGF0YVsnTWFzdGVyJ10gfHwgIVh1dC5kYXRhWydNYXN0ZXInXS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuXHJcbi8vLy8vLy8vXHJcbi8v6LCD5bqm5ZmoIC8vXHJcbi8vLy8vLy8vXHJcbmV4cG9ydCBmdW5jdGlvbiBTY2hlZHVsZXIodm0pIHtcclxuXHJcbiAgICB0aGlzLnZtID0gdm07XHJcbiAgICB0aGlzLm9wdGlvbnMgPSB2bS5vcHRpb25zO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65YmN5pmv6aG16Z2i566h55CG5qih5Z2XXHJcbiAgICAgKiBAdHlwZSB7UGFnZU1ncn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5wYWdlTWdyID0gbmV3IFBhZ2VNZ3Iodm0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qOA5rWL5piv5ZCm6ZyA6KaB5Yib5q+N54mI5qih5Z2XXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgaWYgKGNoZWNrTWFzdGVyQ3JlYXRlKCkpIHtcclxuICAgICAgICB0aGlzLm1hc3Rlck1nciA9IG5ldyBNYXN0ZXJNZ3Iodm0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbnZhciBTY2hlZHVsZXJQcm90byA9IFNjaGVkdWxlci5wcm90b3R5cGVcclxuXHJcblxyXG4vKipcclxuICog5Yid5aeL5YyW6aG16Z2i5Yib5bu6XHJcbiAqIOWboOS4uuWkmuS4qumhtemdoueahOmXrumimO+8jOaJgOS7peS4jeaYr+WIm+W7uuiwg+eUqFxyXG4gKiDnu5/kuIDlm57osINcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TY2hlZHVsZXJQcm90by5pbml0Q3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW5p6E5bu66aG16Z2iXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY3JlYXRlKFxyXG4gICAgICAgIGNhbGN1bGF0ZVBvaW50ZXIuY2FsbCh0aGlzLCBvcHRpb25zLmluaXRJbmRleCwgb3B0aW9ucy5wYWdldG90YWwsIG9wdGlvbnMubXVsdGlwbGVQYWdlcyksIG9wdGlvbnMuaW5pdEluZGV4LCAnaW5pdCdcclxuICAgICk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqICDliJvlu7rmma7pgJrpobXpnaJcclxuICogIOWIm+W7uuavjeeJiOmhtemdolxyXG4gKiAgY3JlYXRlUG9pbnRlciAg6ZyA6KaB5Yib5bu655qE6aG16Z2i57Si5byVXHJcbiAqICB2aXNpYmxlUGFnZSAgICAgICDlvZPliY3lj6/op4bljLrpobXpnaLntKLlvJVcclxuICogIGFjdGlvbiAgICAgICAgIHRvUGFnZS9pbml0L2ZsaXBPdmVyXHJcbiAqICB0b1BhZ2VDYWxsYmFjayDot7PovazpobXpnaLmlK/mjIHlm57osIPpgJrnn6VcclxuICogIHVzZXJTdHlsZSAgICAgIOinhOWumuWIm+W7uueahHN0eWxl5bGe5oCnXHJcbiAqKi9cclxuU2NoZWR1bGVyUHJvdG8uY3JlYXRlID0gZnVuY3Rpb24oY3JlYXRlUGFnZSwgdmlzaWJsZVBhZ2UsIGFjdGlvbiwgdG9QYWdlQ2FsbGJhY2ssIHVzZXJTdHlsZSkge1xyXG5cclxuICAgIC8vMjAxNi4xLjIwXHJcbiAgICAvL+S/ruato+iLl+iLl+WtpumXrumimCDnoa7kv51jcmVhdGVQYWdl5LiN5pivdW5kZWZpbmVkXHJcbiAgICBpZiAodm9pZCAwID09PSBjcmVhdGVQYWdlWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjb25zb2xlLmRlYnVnKCflvZPliY3pobXpnaI6JyArIHRoaXMucGFnZVBvaW50ZXIuY3VyckluZGV4ICsgJyzliJvlu7rmlrDpobXpnaI6XCInKyBjcmVhdGVQb2ludGVyICsgJ1wiLOWKqOS9nDonICthY3Rpb24pXHJcbiAgICB2YXIgY3JlYXRlUGlkLFxyXG4gICAgICAgIHBhZ2VCYXNlLFxyXG4gICAgICAgIHZpc2libGVQaWQsXHJcbiAgICAgICAgcGFnZUluZGV4LFxyXG4gICAgICAgIGNvbnZlcnNpb24sXHJcbiAgICAgICAgbmV3Q3JlYXRlLFxyXG4gICAgICAgIGNhbGxiYWNrQWN0aW9uLFxyXG4gICAgICAgIHZpcnR1YWxNb2RlID0gWHV0LmNvbmZpZy52aXJ0dWFsTW9kZSxcclxuICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICBtdWx0aXBsZVBhZ2VzID0gdGhpcy5vcHRpb25zLm11bHRpcGxlUGFnZXMsIC8v5piv5ZCm57q/5oCnXHJcbiAgICAgICAgdG90YWwgPSBjcmVhdGVQYWdlLmxlbmd0aCxcclxuICAgICAgICB0b1BhZ2VBY3Rpb24gPSBhY3Rpb24gPT09ICd0b1BhZ2UnLCAvL+WmguaenOaYr+i3s+i9rFxyXG4gICAgICAgIGZpbHBPdmVyQWN0aW9uID0gYWN0aW9uID09PSAnZmxpcE92ZXInLCAvL+WmguaenOaYr+e/u+mhtVxyXG5cclxuICAgICAgICAvL+S9v+eUqOesrOS4gOS4quaYr+WIhuino+WPr+ingemhtemdolxyXG4gICAgICAgIC8v5bCG6aG156CBcGFnZUluZGV46L2s5YyW5oiQ5a+55bqU55qEY2hhcHRlclxyXG4gICAgICAgIGNyZWF0ZVBpZHMgPSBjb252ZXJzaW9uQ2lkLmNhbGwodGhpcywgY3JlYXRlUGFnZSwgdmlzaWJsZVBhZ2UpLFxyXG5cclxuICAgICAgICAvL+aUtumbhuWIm+W7uueahOmhtemdouWvueixoVxyXG4gICAgICAgIC8v55So5LqO5aSE55CGMuS4qumhtemdouWcqOWIh+aNoueahOaXtuWAmemXquWxj+mXrumimFxyXG4gICAgICAgIC8v5Li76KaB5piv5Lyg6YCSY3JlYXRlU3R5bGXoh6rlrprkuYnmoLflvI/nmoTlpITnkIZcclxuICAgICAgICBjb2xsZWN0Q3JlYXRlUGFnZUJhc2UgPSBbXSxcclxuXHJcbiAgICAgICAgLy/mmK/lkKbop6blj5Hmr43niYjnmoToh6rliqjml7bpl7RcclxuICAgICAgICAvL+WboOS4uumhtemdouavj+asoee/u+mhtemDveS8mumpseWKqGF1dG/kuovku7ZcclxuICAgICAgICAvL+S9huaYr+avjeeJiOWPr+iDveaYr+WFseS6q+eahFxyXG4gICAgICAgIGNyZWF0ZU1hc3RlciA9IGZhbHNlLFxyXG5cclxuICAgICAgICAvL+aUtumbhuWujOaIkOWbnuiwg1xyXG4gICAgICAgIGNvbGxlY3RDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL+aUtumbhuWIm+W7uumhteeggeeahOaVsOmHj1xyXG4gICAgICAgICAgICB2YXIgY3JlYXRlQ29udGVudCA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgKytjcmVhdGVDb250ZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JlYXRlQ29udGVudCA9PT0gdG90YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSgpLFxyXG5cclxuICAgICAgICAvL+aehOW7uuaJp+ihjOS7o+eggVxyXG4gICAgICAgIGNhbGxiYWNrQWN0aW9uID0ge1xyXG4gICAgICAgICAgICAvL+WIneWni+WMllxyXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RDYWxsYmFjayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRQYWdlKCdpbml0Jyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvL+e/u+mhtVxyXG4gICAgICAgICAgICBmbGlwT3ZlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0Q2FsbGJhY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hdXRvUnVuKHsgLy/nv7vpobVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NyZWF0ZVBvaW50ZXInOiBjcmVhdGVQaWRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY3JlYXRlTWFzdGVyJzogY3JlYXRlTWFzdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvL+i3s+i9rFxyXG4gICAgICAgICAgICB0b1BhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdENhbGxiYWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvUGFnZUNhbGxiYWNrKGNvbGxlY3RDcmVhdGVQYWdlQmFzZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy9waWQ9PmNocHRlckRhdGEgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICB2YXIgcmVzdWx0cyA9IGNvbnZlcnNpb25QaWRzKGNyZWF0ZVBpZHMpO1xyXG5cclxuICAgIC8vLy8vLy8vLy8vL1xyXG4gICAgLy/lpoLmnpzmmK/mnIDlkI7kuIDpobUgLy9cclxuICAgIC8v5rKh5pyJ5a+55bqU55qE6Jma5ouf5pWw5o2u77yM5Y+W5YmN5LiA6aG155qEXHJcbiAgICAvLy8vLy8vLy8vLy9cclxuICAgIGlmICh2aXJ0dWFsTW9kZSAmJiAhcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgdmlydHVhbFBpZCA9IF8uZXh0ZW5kKFtdLCBjcmVhdGVQaWRzKTtcclxuICAgICAgICBjcmVhdGVQaWRzLmZvckVhY2goZnVuY3Rpb24ocGlkLCBpbmRleCkge1xyXG4gICAgICAgICAgICB2aXJ0dWFsUGlkLnNwbGljZShpbmRleCwgMSwgLS1waWQpXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXN1bHRzID0gY29udmVyc2lvblBpZHModmlydHVhbFBpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/pobXnoIHovazmiJDmlbDmja5cclxuICAgIF8uZWFjaChyZXN1bHRzLCBmdW5jdGlvbihjaGFwdGVyRGF0YSwgaW5kZXgpIHtcclxuXHJcbiAgICAgICAgLy/ovazljJblgLxcclxuICAgICAgICAvL2NoYXB0ZXJJZCA9PiBjcmVhdGVQaWRcclxuICAgICAgICBjcmVhdGVQaWQgPSBjcmVhdGVQaWRzW2luZGV4XTtcclxuXHJcbiAgICAgICAgLy9jcmVhdGVQaWQgXHJcbiAgICAgICAgLy9wYWdlSW5kZXggXHJcbiAgICAgICAgY29udmVyc2lvbiA9IGNvbnZlcnNpb25QYWdlT3B0cy5jYWxsKHNlbGYsIGNyZWF0ZVBpZCwgdmlzaWJsZVBhZ2UpO1xyXG4gICAgICAgIHZpc2libGVQaWQgPSBjb252ZXJzaW9uLnZpc2libGVQaWQ7XHJcbiAgICAgICAgcGFnZUluZGV4ID0gY29udmVyc2lvbi5wYWdlSW5kZXg7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyDlpoLmnpzlkK/liqjkuobomZrmi5/pobXpnaLmqKHlvI8gLy9cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgdmFyIHZpcnR1YWxQaWQgPSBmYWxzZTsgLy/omZrmi5/pobXpnaLnmoRwaWTnvJblj7dcclxuICAgICAgICB2YXIgdmlydHVhbE9mZnNldCA9IGZhbHNlOyAvL+mhtemdouWdkOagh2xlZnQscmlnaHRcclxuICAgICAgICBpZiAodmlydHVhbE1vZGUpIHtcclxuICAgICAgICAgICAgLy/pobXpnaLkvY3nva5cclxuICAgICAgICAgICAgdmlydHVhbE9mZnNldCA9IG9mZnNldFBhZ2UocGFnZUluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIC8v6I635Y+W5paw55qEY2hwYXRlcuaVsOaNrlxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmaXhDaWRzKG9yaWdpbmFsSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFBpZCA9IGNvbnZlcnNpb25DaWQuY2FsbChzZWxmLCBbb3JpZ2luYWxJbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb25QaWRzKFtvcmlnaW5hbFBpZF0pWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgLy/lpoLmnpzmmK/nv7vpobXliJvlu7ogLy9cclxuICAgICAgICAgICAgLy/nlLHkuo7mmK/mi7zmjqXnmoTmiYDku6VjaGFwdGVy56e75L2N5LqGXHJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICBpZiAodmlydHVhbE9mZnNldCA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFwdGVyRGF0YSA9IGZpeENpZHMocGFnZUluZGV4IC8gMilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+S/ruato+WPs+i+uWNoYXB0ZXJcclxuICAgICAgICAgICAgaWYgKHZpcnR1YWxPZmZzZXQgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIGNoYXB0ZXJEYXRhID0gZml4Q2lkcygocGFnZUluZGV4IC0gMSkgLyAyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodG90YWwgPT09IDEpIHtcclxuICAgICAgICAgICAgc2VsZi5vcHRpb25zLmNoYXB0ZXJJZCA9IGNoYXB0ZXJEYXRhLl9pZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mnoTku7bmlrDnmoTpobXpnaJcclxuICAgICAgICAvL21hc3RlckZpbHRlciDmr43mnb/ov4fmu6Tlmajlm57osIPlh73mlbBcclxuICAgICAgICBuZXdDcmVhdGUgPSBmdW5jdGlvbihtYXN0ZXJGaWx0ZXIpIHtcclxuXHJcbiAgICAgICAgICAgIC8v6Lez6L2s55qE5pe25YCZ77yM5Yib5bu65paw6aG16Z2i5Y+v5Lul6Ieq5Yqo5qC35byP5L+h5oGvXHJcbiAgICAgICAgICAgIC8v5LyY5YyW6K6+572u77yM5Y+q5piv5pS55Y+Y5b2T5YmN6aG16Z2i5Y2z5Y+vXHJcbiAgICAgICAgICAgIGlmICh0b1BhZ2VBY3Rpb24gJiYgdmlzaWJsZVBpZCAhPT0gY3JlYXRlUGlkKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyU3R5bGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhT3B0cyA9IHtcclxuICAgICAgICAgICAgICAgICdwYWdlSW5kZXgnOiBwYWdlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICAnbXVsdGlwbGVQYWdlcyc6IG11bHRpcGxlUGFnZXMsXHJcbiAgICAgICAgICAgICAgICAncGlkJzogY3JlYXRlUGlkLCAvL+mhteeggWNoYXB0ZXJJZFxyXG4gICAgICAgICAgICAgICAgJ2NoYXB0ZXJEYXMnOiBjaGFwdGVyRGF0YSwgLy/lvZPliY3pobXpnaLnmoRjaHBhdGVy5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAndmlzaWJsZVBpZCc6IHZpc2libGVQaWQsIC8v5a6e6ZmF5Lit6aG16Z2i5pi+56S655qE57Si5byVXHJcbiAgICAgICAgICAgICAgICAndXNlclN0eWxlJzogdXNlclN0eWxlLFxyXG4gICAgICAgICAgICAgICAgJ3ZpcnR1YWxQaWQnOiB2aXJ0dWFsUGlkLCAvL3BpZFxyXG4gICAgICAgICAgICAgICAgJ3ZpcnR1YWxPZmZzZXQnOiB2aXJ0dWFsT2Zmc2V0IC8v6Jma5ouf6aG16Z2i5L2N572uXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v5Yid5aeL5YyW5p6E5bu66aG16Z2i5a+56LGhXHJcbiAgICAgICAgICAgIC8vcGFnZVxyXG4gICAgICAgICAgICAvL21hc3RlclxyXG4gICAgICAgICAgICBwYWdlQmFzZSA9IHRoaXMuY3JlYXRlKGRhdGFPcHRzLCBwYWdlSW5kZXgsIG1hc3RlckZpbHRlcik7XHJcblxyXG4gICAgICAgICAgICAvL+aehOW7uumhtemdouWvueixoeWQjlxyXG4gICAgICAgICAgICAvL+W8gOWni+aJp+ihjFxyXG4gICAgICAgICAgICBpZiAocGFnZUJhc2UpIHtcclxuICAgICAgICAgICAgICAgIC8v5byA5aeL57q/56iL5Lu75YqhXHJcbiAgICAgICAgICAgICAgICAvL+W9k+S4uua7keWKqOaooeW8jyzmlK/mjIHlv6vpgJ/liJvlu7pcclxuICAgICAgICAgICAgICAgIHBhZ2VCYXNlLnN0YXJ0VGhyZWFkVGFzayhmaWxwT3ZlckFjdGlvbiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+WIm+W7uuWujOavlSoqKioqKioqKioqKioqICcgKyAoY3JlYXRlUGlkKzEpICsnICcrIGFjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0FjdGlvblthY3Rpb25dKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8v5pS26ZuG6Ieq5a6a5LmJ5qC35byP55qE6aG16Z2i5a+56LGhXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlclN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdENyZWF0ZVBhZ2VCYXNlLnB1c2gocGFnZUJhc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mr43niYjlsYJcclxuICAgICAgICBpZiAoY2hhcHRlckRhdGEucHB0TWFzdGVyICYmIHNlbGYubWFzdGVyTWdyKSB7XHJcbiAgICAgICAgICAgIG5ld0NyZWF0ZS5jYWxsKHNlbGYubWFzdGVyTWdyLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8v5q+N54mI5piv5ZCm5Yib5bu6562J5b6F6YCa55+lXHJcbiAgICAgICAgICAgICAgICAvL+avjeeJiOaYr+WFseS6q+eahOaJgOS7peS4jeS4gOWumuavj+asoee/u+mhtemDveS8muWIm+W7ulxyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzpnIDopoHliJvlu7os5YiZ5Y+g5Yqg5oC75pWwXHJcbiAgICAgICAgICAgICAgICArK3RvdGFsO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlTWFzdGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+mhtemdouWxglxyXG4gICAgICAgIG5ld0NyZWF0ZS5jYWxsKHNlbGYucGFnZU1ncik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOa7keWKqOWkhOeQhlxyXG4gKiAgMSDmu5HliqhcclxuICogIDIg5Y+N5by5XHJcbiAqICAzIOe/u+mhtVxyXG4gKi9cclxuU2NoZWR1bGVyUHJvdG8ubW92ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgICAvL+WKqOS9nFxyXG4gICAgdmFyIGFjdGlvbiA9IGRhdGEuYWN0aW9uO1xyXG5cclxuICAgIC8v55So5oi35by65Yi255u05o6l5YiH5o2i5qih5byPXHJcbiAgICAvL+emgeatoumhtemdoui3n+maj+a7keWKqFxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYWdlRmxpcCAmJiBhY3Rpb24gPT0gJ2ZsaXBNb3ZlJykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHZhciBzcGVlZCA9IGRhdGEuc3BlZWQ7XHJcbiAgICB2YXIgZGlzdGFuY2UgPSBkYXRhLmRpc3RhbmNlO1xyXG4gICAgdmFyIGxlZnRJbmRleCA9IGRhdGEubGVmdEluZGV4O1xyXG4gICAgdmFyIGN1cnJJbmRleCA9IGRhdGEucGFnZUluZGV4O1xyXG4gICAgdmFyIHJpZ2h0SW5kZXggPSBkYXRhLnJpZ2h0SW5kZXg7XHJcbiAgICB2YXIgZGlyZWN0aW9uID0gZGF0YS5kaXJlY3Rpb247XHJcbiAgICAvL+enu+WKqOeahOi3neemu1xyXG4gICAgdmFyIG1vdmVEaXN0YW5jZSA9IGNhbGN1bGF0ZURpc3RhbmNlKGFjdGlvbiwgZGlzdGFuY2UsIGRpcmVjdGlvbik7XHJcbiAgICAvL+inhuinieW3rumhtemdoua7keWKqFxyXG4gICAgdmFyIG5vZGVzID0gdGhpcy5wYWdlTWdyLmFic3RyYWN0R2V0UGFnZU9iaihjdXJySW5kZXgpWydjaGFwdGVyRGFzJ11bJ25vZGVzJ107XHJcblxyXG4gICAgLy8vLy8vL1xyXG4gICAgLy/pobXpnaLmlLnlj5ggLy9cclxuICAgIC8vLy8vLy9cclxuICAgIC8v6YCa55+lcGFnZeaooeWdl1xyXG4gICAgdGhpcy5wYWdlTWdyLm1vdmUobGVmdEluZGV4LCBjdXJySW5kZXgsIHJpZ2h0SW5kZXgsIGRpcmVjdGlvbiwgc3BlZWQsIGFjdGlvbiwgbW92ZURpc3RhbmNlKTtcclxuXHJcbiAgICAvL+mAmuefpeinhuinieW3ruaooeWdl1xyXG4gICAgdGhpcy5jYWxsTWFzdGVyTWdyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMubW92ZShsZWZ0SW5kZXgsIGN1cnJJbmRleCwgcmlnaHRJbmRleCwgZGlyZWN0aW9uLCBtb3ZlRGlzdGFuY2UsIGFjdGlvbiwgc3BlZWQsIG5vZGVzKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy/mm7TmlrDpobXnoIHmoIfnpLpcclxuICAgICdmbGlwT3ZlcicgPT09IGFjdGlvbiAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMudm0uJGVtaXQoJ2NoYW5nZTpwYWdlVXBkYXRlJywgZGlyZWN0aW9uID09PSAnbmV4dCcgPyByaWdodEluZGV4IDogbGVmdEluZGV4KVxyXG4gICAgfS5iaW5kKHRoaXMpLCAwKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnv7vpobXmnb7miYvlkI5cclxuICog5pqC5YGc6aG16Z2i55qE5ZCE56eN5rS75Yqo5Yqo5L2cXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gcG9pbnRlcnMgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcblNjaGVkdWxlclByb3RvLnN1c3BlbmQgPSBmdW5jdGlvbihwb2ludGVycykge1xyXG4gICAgLy/lhbPpl63lsYLkuovku7ZcclxuICAgIHRoaXMucGFnZU1nci5zdXNwZW5kKHBvaW50ZXJzKTtcclxuICAgIHRoaXMuY2FsbE1hc3Rlck1ncihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5zdXNwZW5kKHBvaW50ZXJzKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/nm67lvZXmoI9cclxuICAgIF9jbG9zZSgpO1xyXG4gICAgLy/lpI3kvY3lt6XlhbfmoI9cclxuICAgIHRoaXMudm0uJGVtaXQoJ2NoYW5nZTpyZXNldFRvb2xiYXInKVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOe/u+mhteWKqOeUu+WujOavleWQjlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TY2hlZHVsZXJQcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbiwgcGFnZVBvaW50ZXIsIHVuZmxpcGxvY2ssIGlzUXVpY2tUdXJuKSB7XHJcbiAgICAvL+aWueWQkVxyXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAvL+aYr+WQpuW/q+mAn+e/u+mhtVxyXG4gICAgdGhpcy5pc1F1aWNrVHVybiA9IGlzUXVpY2tUdXJuIHx8IGZhbHNlO1xyXG4gICAgLy/op6PplIFcclxuICAgIHRoaXMudW5mbGlwbG9jayA9IHVuZmxpcGxvY2s7XHJcbiAgICAvL+a4heeQhuS4iuS4gOS4qumhtemdolxyXG4gICAgdGhpcy5fY2xlYXJQYWdlKHBhZ2VQb2ludGVyLmRlc3Ryb3lQb2ludGVyKVxyXG4gICAgdGhpcy5fdXBkYXRlUG9pbnRlcihwYWdlUG9pbnRlcik7XHJcbiAgICAvL+mihOWIm+W7uuS4i+S4gOmhtVxyXG4gICAgdGhpcy5fYWR2YW5jZUNyZWF0ZShkaXJlY3Rpb24sIHBhZ2VQb2ludGVyKTtcclxufVxyXG5cclxuXHJcbi8v5riF55CG6aG16Z2i57uT5p6EXHJcblNjaGVkdWxlclByb3RvLl9jbGVhclBhZ2UgPSBmdW5jdGlvbihjbGVhclBhZ2VJbmRleCkge1xyXG4gICAgdGhpcy5wYWdlTWdyLmNsZWFyUGFnZShjbGVhclBhZ2VJbmRleCk7XHJcbn1cclxuXHJcblxyXG4vL+abtOaWsOmhteeggee0ouW8leagh+ekulxyXG5TY2hlZHVsZXJQcm90by5fdXBkYXRlUG9pbnRlciA9IGZ1bmN0aW9uKHBhZ2VQb2ludGVyKSB7XHJcbiAgICB0aGlzLnBhZ2VQb2ludGVyID0gcGFnZVBvaW50ZXI7XHJcbn1cclxuXHJcblxyXG4vL+mihOWIm+W7uuaWsOmhtemdolxyXG5TY2hlZHVsZXJQcm90by5fYWR2YW5jZUNyZWF0ZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbiwgcGFnZVBvaW50ZXIpIHtcclxuICAgIHZhciBwYWdldG90YWwgPSB0aGlzLm9wdGlvbnMucGFnZXRvdGFsLFxyXG4gICAgICAgIHZtID0gdGhpcy52bSxcclxuICAgICAgICBjcmVhdGVQb2ludGVyID0gcGFnZVBvaW50ZXIuY3JlYXRlUG9pbnRlcixcclxuICAgICAgICBkZXN0cm95UG9pbnRlciA9IHBhZ2VQb2ludGVyLmRlc3Ryb3lQb2ludGVyLFxyXG4gICAgICAgIC8v5riF55CG6aG156CBXHJcbiAgICAgICAgY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHBhZ2VQb2ludGVyLmNyZWF0ZVBvaW50ZXI7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwYWdlUG9pbnRlci5kZXN0cm95UG9pbnRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8v5Yib5bu65paw55qE6aG16Z2i5a+56LGhXHJcbiAgICAgICAgY3JlYXRlTmV4dENvbnRhaW5lciA9IGZ1bmN0aW9uKGNyZWF0ZVBvaW50ZXIsIGN1cnJJbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZShbY3JlYXRlUG9pbnRlcl0sIGN1cnJJbmRleCwgJ2ZsaXBPdmVyJyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgLy/lpoLmnpzmmK/lj7Povrnnv7vpobVcclxuICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIC8v6aaW5bC+5peg6aG75Yib5bu66aG16Z2iXHJcbiAgICAgICAgaWYgKHBhZ2VQb2ludGVyLmN1cnJJbmRleCA9PT0gcGFnZXRvdGFsIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9SdW4oKTtcclxuICAgICAgICAgICAgLy/lpoLmnpzmgLvmlbDlj6rmnIky6aG177yM6YKj5LmI6aaW6aG155qE5oyJ6ZKu5piv5YWz6Zet55qE77yM6ZyA6KaB5pi+56S6XHJcbiAgICAgICAgICAgIGlmIChwYWdldG90YWwgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpzaG93UHJldicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5aSa6aG15aSE55CGXHJcbiAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6aGlkZU5leHQnKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjcmVhdGVQb2ludGVyIDwgcGFnZXRvdGFsKSB7IC8v5Yib5bu655qE6aG16Z2iXHJcbiAgICAgICAgICAgIGNyZWF0ZU5leHRDb250YWluZXIuY2FsbCh0aGlzLCBjcmVhdGVQb2ludGVyLCBwYWdlUG9pbnRlci5jdXJySW5kZXgpO1xyXG4gICAgICAgICAgICBjbGVhcigpO1xyXG4gICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnNob3dQcmV2Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lpoLmnpzmmK/lt6bovrnnv7vpobVcclxuICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xyXG4gICAgICAgIC8v6aaW5bC+5peg6aG75Yib5bu66aG16Z2iXHJcbiAgICAgICAgaWYgKHBhZ2VQb2ludGVyLmN1cnJJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9SdW4oKTtcclxuICAgICAgICAgICAgLy/lpoLmnpzmgLvmlbDlj6rmnIky6aG177yM6YKj5LmI6aaW6aG155qE5oyJ6ZKu5piv5YWz6Zet55qE77yM6ZyA6KaB5pi+56S6XHJcbiAgICAgICAgICAgIGlmIChwYWdldG90YWwgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpzaG93TmV4dCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6aGlkZVByZXYnKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWdlUG9pbnRlci5jdXJySW5kZXggPiAtMSkgeyAvL+WIm+W7uueahOmhtemdolxyXG4gICAgICAgICAgICBjcmVhdGVOZXh0Q29udGFpbmVyLmNhbGwodGhpcywgY3JlYXRlUG9pbnRlciwgcGFnZVBvaW50ZXIuY3VyckluZGV4KTtcclxuICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpzaG93TmV4dCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk7XHJcblxyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOiHquWKqOi/kOihjOWkhOeQhlxyXG4gKiAg5rWB56iL5ZubOuaJp+ihjOiHquWKqOinpuWPkeWKqOS9nFxyXG4gKiAgIDEu5Yid5aeL5YyW5Yib5bu66aG16Z2i5a6M5q+VXHJcbiAqICAgMi7nv7vpobXlrozmr5VcclxuICovXHJcblNjaGVkdWxlclByb3RvLmF1dG9SdW4gPSBmdW5jdGlvbihwYXJhKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuICAgICAgICBwYWdlUG9pbnRlciA9IHRoaXMucGFnZVBvaW50ZXIsXHJcbiAgICAgICAgcHJldkluZGV4ID0gcGFnZVBvaW50ZXIubGVmdEluZGV4LFxyXG4gICAgICAgIGN1cnJJbmRleCA9IHBhZ2VQb2ludGVyLmN1cnJJbmRleCxcclxuICAgICAgICBuZXh0SW5kZXggPSBwYWdlUG9pbnRlci5yaWdodEluZGV4LFxyXG4gICAgICAgIGFjdGlvbiA9IHBhcmEgPyBwYXJhLmFjdGlvbiA6ICcnLFxyXG4gICAgICAgIGNyZWF0ZVBvaW50ZXIgPSBwYXJhID8gcGFyYS5jcmVhdGVQb2ludGVyIDogJycsXHJcbiAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24sXHJcbiAgICAgICAgLy/mmoLlgZznmoTpobXpnaLntKLlvJVhdXRvcnVuXHJcbiAgICAgICAgc3VzcGVuZEluZGV4ID0gYWN0aW9uID09PSAnaW5pdCcgPyAnJyA6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gcHJldkluZGV4IDogbmV4dEluZGV4O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5a2Y5ZyoMuS4reaooeW8j+eahOaDheWGteS4i1xyXG4gICAgICog6L2s5YyW6aG156CB5qCH6K6wXHJcbiAgICAgKi9cclxuICAgIGlmIChjcmVhdGVQb2ludGVyKSB7XHJcbiAgICAgICAgY3JlYXRlUG9pbnRlciA9IGNvbnZlcnNpb25QYWdlT3B0cy5jYWxsKHRoaXMsIGNyZWF0ZVBvaW50ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICdwcmV2SW5kZXgnOiBwcmV2SW5kZXgsXHJcbiAgICAgICAgJ2N1cnJJbmRleCc6IGN1cnJJbmRleCxcclxuICAgICAgICAnbmV4dEluZGV4JzogbmV4dEluZGV4LFxyXG4gICAgICAgICdzdXNwZW5kSW5kZXgnOiBzdXNwZW5kSW5kZXgsXHJcbiAgICAgICAgJ2NyZWF0ZVBvaW50ZXInOiBjcmVhdGVQb2ludGVyLFxyXG4gICAgICAgICdkaXJlY3Rpb24nOiBkaXJlY3Rpb24sXHJcbiAgICAgICAgJ2lzUXVpY2tUdXJuJzogdGhpcy5pc1F1aWNrVHVybixcclxuICAgICAgICAvL+S4reaWremAmuefpVxyXG4gICAgICAgICdzdXNwZW5kQ2FsbGJhY2snOiBvcHRpb25zLnN1c3BlbmRBdXRvQ2FsbGJhY2ssXHJcbiAgICAgICAgLy/mnoTlu7rlrozmr5XpgJrnn6VcclxuICAgICAgICAnYnVpbGRDb21wbGV0ZSc6IGZ1bmN0aW9uKHNjZW5hcmlvSWQpIHtcclxuICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gICAgICDmnoTlu7rlrozmiJDpgJrnn6Us55So5LqO5aSE55CG5Y6G5Y+y57yT5a2Y6K6w5b2VXHJcbiAgICAgICAgICAgIC8vICAgICAg5aaC5p6c5piv6LCD6K+V5qih5byPXHJcbiAgICAgICAgICAgIC8vICAgICAgJiYg5LiN5piv5pS26LS55o+Q56S66aG16Z2iXHJcbiAgICAgICAgICAgIC8vICAgICAgJiYg5aSa5Zy65pmv5bqU55SoXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICAgIGlmIChYdXQuY29uZmlnLnJlY29yZEhpc3RvcnkgJiYgIW9wdGlvbnMuaXNJbkFwcCAmJiBvcHRpb25zLm11bHRpU2NlbmFyaW8pIHtcclxuICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5O1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnkgPSBYdXQuc2NlbmVDb250cm9sbGVyLnNlcXVlbmNlKHNjZW5hcmlvSWQsIGN1cnJJbmRleCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2V0KFwiaGlzdG9yeVwiLCBoaXN0b3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v5rWB56iL57uT5p2f6YCa55+lXHJcbiAgICAgICAgLy/ljIXmi6zliqjnlLvpg73lt7Lnu4/nu5PmnZ/kuoZcclxuICAgICAgICAncHJvY2Vzc0NvbXBsZXRlJzogZnVuY3Rpb24oKSB7fVxyXG4gICAgfTtcclxuXHJcbiAgICAvL+mhtemdouiHquWKqOi/kOihjFxyXG4gICAgdGhpcy5wYWdlTWdyLmF1dG9SdW4oZGF0YSk7XHJcblxyXG4gICAgLy/mqKHmnb/oh6rliqjov5DooYxcclxuICAgIHRoaXMuY2FsbE1hc3Rlck1ncihmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+WmguaenOWKqOS9nOaYr+WIneWni+WMlu+8jOaIluiAheinpuWPkeS6huavjeeJiOiHquWKqOi/kOihjFxyXG4gICAgICAgIC8v5aaC5p6c5piv6LaK55WM5aSE55CGXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhhY3Rpb24sdGhpcy5pc0JvdW5kYXJ5LHBhcmEuY3JlYXRlTWFzdGVyKVxyXG4gICAgICAgIGlmIChhY3Rpb24gfHwgdGhpcy5pc0JvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0b1J1bihkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOinpuWPkeiHquWKqOmAmuefpVxyXG4gICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAqL1xyXG4gICAgdmFyIHZtID0gdGhpcy52bTtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgIGNhc2UgJ2luaXQnOlxyXG4gICAgICAgICAgICAvL+abtOaWsOmhteeggeagh+ekulxyXG4gICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnBhZ2VVcGRhdGUnLCBjdXJySW5kZXgpXHJcbiAgICAgICAgICAgIHJlc2V0VG9vbGJhci5jYWxsKHRoaXMpXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3N0YXJ0dXBQYWdlXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNyZW1vdmVsYXllclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSwgMjAwMClcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAndG9QYWdlJzpcclxuICAgICAgICAgICAgLy/mm7TmlrDpobXnoIHmoIfnpLpcclxuICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpwYWdlVXBkYXRlJywgY3VyckluZGV4KVxyXG4gICAgICAgICAgICByZXNldFRvb2xiYXIuY2FsbCh0aGlzKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJ3lp4vljJbkuI7ot7Povazpkojlr7nnv7vpobXmoYjkvovnmoTorr7nva7pgLvovpFcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXNldFRvb2xiYXIoKSB7XHJcbiAgICAgICAgLy/kuI3mmL7npLrpppblsL7lr7nlupTnmoTmjInpkq5cclxuICAgICAgICBpZiAoY3VyckluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgdm0uJGVtaXQoJ2NoYW5nZTpoaWRlUHJldicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VyckluZGV4ID09IG9wdGlvbnMucGFnZXRvdGFsIC0gMSkge1xyXG4gICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOmhpZGVOZXh0Jyk7XHJcbiAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6c2hvd1ByZXYnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2bS4kZW1pdCgnY2hhbmdlOnNob3dOZXh0Jyk7XHJcbiAgICAgICAgICAgIHZtLiRlbWl0KCdjaGFuZ2U6c2hvd1ByZXYnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57q/5oCn57uT5p6EXHJcbiAgICAgKiDkv53lrZjnm67lvZXntKLlvJVcclxuICAgICAqL1xyXG4gICAgaWYgKCFvcHRpb25zLm11bHRpU2NlbmFyaW8pIHtcclxuICAgICAgICBfc2V0KFwicGFnZUluZGV4XCIsIGN1cnJJbmRleCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kej6ZSB57+76aG1XHJcbiAgICAgKiDlhYHorrjnu6fnu63miafooYzkuIvkuIDkuKrnv7vpobXkvZznlKhcclxuICAgICAqL1xyXG4gICAgaWYgKHRoaXMudW5mbGlwbG9jaykge1xyXG4gICAgICAgIHRoaXMudW5mbGlwbG9jaygpO1xyXG4gICAgICAgIHRoaXMudW5mbGlwbG9jayA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lhbPpl63lv6vpgJ/nv7vpobVcclxuICAgIHRoaXMuaXNRdWlja1R1cm4gPSBmYWxzZTtcclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6aG16Z2i6Lez6L2s5YiH5o2i5aSEXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TY2hlZHVsZXJQcm90by5qdW1wUGFnZSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgICBYdXQuVmlldy5TaG93QnVzeSgpO1xyXG5cclxuICAgIC8v5aaC5p6c5piv6Z2e57q/5oCnLOWIm+W7uumhtemdouS/ruaUuVxyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGVQYWdlcykge1xyXG4gICAgICAgIGRhdGEuY3JlYXRlID0gW2RhdGEudGFyZ2V0SW5kZXhdO1xyXG4gICAgICAgIGRhdGEuZGVzdHJveSA9IFtkYXRhLmN1cnJJbmRleF07XHJcbiAgICAgICAgZGF0YS5ydWxlT3V0ID0gW2RhdGEudGFyZ2V0SW5kZXhdO1xyXG4gICAgICAgIGRhdGEucGFnZVBvaW50ZXIgPSB7XHJcbiAgICAgICAgICAgIGN1cnJJbmRleDogZGF0YS50YXJnZXRJbmRleFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aJp+ihjOmhtemdouWIh+aNolxyXG4gICAgU3dpdGNoUGFnZSh0aGlzLCBkYXRhLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlUG9pbnRlcihkYXRhLnBhZ2VQb2ludGVyKTtcclxuICAgICAgICB0aGlzLmF1dG9SdW4oe1xyXG4gICAgICAgICAgICAnYWN0aW9uJzogJ3RvUGFnZScsXHJcbiAgICAgICAgICAgICdjcmVhdGVQb2ludGVyJzogZGF0YVsnY3JlYXRlJ11cclxuICAgICAgICB9KTtcclxuICAgICAgICBYdXQuVmlldy5IaWRlQnVzeSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb3pobXpnaLkuovku7bkuI7liqjkvZxcclxuICogQHBhcmFtICB7W3R5cGVdfSBhY3Rpb24gW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TY2hlZHVsZXJQcm90by5sb2FkUGFnZSA9IGZ1bmN0aW9uKGFjdGlvbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAvL+inpuWPkeiHquWKqOS7u+WKoVxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcclxuICAgICAgICBzZWxmLmF1dG9SdW4oe1xyXG4gICAgICAgICAgICAnYWN0aW9uJzogJ2luaXQnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3kuLvlnLrmma/pobXpnaJcclxuICAgIGZ1bmN0aW9uIGZpcnN0TG9hZGluZygpIHtcclxuXHJcbiAgICAgICAgJChcIiNzY2VuZUhvbWVcIikuY3NzKHtcclxuICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAndmlzaWJsZSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKEdMT0JBTElGUkFNRSkge1xyXG4gICAgICAgICAgICB0cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/ojrflj5blupTnlKjnmoTnirbmgIFcclxuICAgICAgICBpZiAoWHV0LkFwcGxpY2F0aW9uLmdldEFwcFN0YXRlKCkpIHtcclxuICAgICAgICAgICAgLy/kv53nlZnlkK/liqjmlrnms5VcclxuICAgICAgICAgICAgdmFyIHByZSA9IFh1dC5BcHBsaWNhdGlvbi5MYXVuY2hBcHA7XHJcbiAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5MYXVuY2hBcHAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHByZSgpO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcigpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8v5Yib5bu65a6M5oiQ5Zue6LCDXHJcbiAgICBzZWxmLnZtLiRlbWl0KCdjaGFuZ2U6Y3JlYXRlQ29tcGxldGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLm11bHRpU2NlbmFyaW8pIHtcclxuICAgICAgICAgICAgdHJpZ2dlcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v56ys5LiA5qyh5Yqg6L29XHJcbiAgICAgICAgICAgIC8v6L+b5YWl5bqU55SoXHJcbiAgICAgICAgICAgIGZpcnN0TG9hZGluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6LCD55So5q+N54mI566h55CG5ZmoXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuU2NoZWR1bGVyUHJvdG8uY2FsbE1hc3Rlck1nciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICBpZiAodGhpcy5tYXN0ZXJNZ3IpIHtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMubWFzdGVyTWdyKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOmUgOavgeaOpeWPo1xyXG4gKiDlr7nlupTlpJrlnLrmma/mk43kvZxcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5TY2hlZHVsZXJQcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnBhZ2VNZ3IuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5jYWxsTWFzdGVyTWdyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgfSlcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvbWFuYWdlci9zY2hlZHVsZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 72 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SwitchPage = SwitchPage;\n/**\r\n * 页面切换逻辑\r\n * @param  {[type]} ) [description]\r\n * @return {[type]}   [description]\r\n */\n\n/**\r\n * 跳转之前提高层级问题\r\n * @return {[type]}          [description]\r\n */\nfunction prev(complier, data) {\n    var currIndex = data.currIndex;\n    //跳转之前提高层级问题\n    complier.pageMgr.abstractAssistPocess(currIndex, function (pageObj) {\n        pageObj.element.css({\n            'z-index': 9997\n        });\n    });\n    //提高母版层级\n    complier.callMasterMgr(function () {\n        this.abstractAssistPocess(currIndex, function (pageObj) {\n            pageObj.element.css({\n                'z-index': 1\n            });\n        });\n    });\n}\n\n//处理跳转逻辑\nfunction calculateFlip(complier, data, createCallback) {\n    //缓存当前页面索引用于销毁\n    var pageIndex,\n        i = 0,\n        collectContainers = [],\n        create = data.create,\n        targetIndex = data.targetIndex;\n\n    //需要创建的页面闭包器\n    for (; i < create.length; i++) {\n        pageIndex = create[i];\n        collectContainers.push(function (targetIndex, pageIndex) {\n            return function (callback) {\n                //创建新结构\n                complier.create([pageIndex], targetIndex, 'toPage', callback, {\n                    'opacity': 0 //同页面切换,规定切换的样式\n                });\n            };\n        }(targetIndex, pageIndex));\n    }\n\n    /**\r\n     * 二维数组保存，创建返回的对象\r\n     * 1 page对象\r\n     * 2 母版对象\r\n     * @type {Array}\r\n     */\n    data.pageBaseCollect = [];\n\n    var i = 0,\n        collectLength,\n        count,\n        count = collectLength = collectContainers.length;\n\n    if (collectContainers && collectLength) {\n        for (; i < collectLength; i++) {\n            //收集创建的根节点,异步等待容器的创建\n            collectContainers[i].call(complier, function (callbackPageBase) {\n                if (count === 1) {\n                    collectContainers = null;\n                    setTimeout(function () {\n                        createCallback(data);\n                    }, 100);\n                }\n                //接受创建后返回的页面对象\n                data.pageBaseCollect.push(callbackPageBase);\n                count--;\n            });\n        }\n    }\n}\n\n//节点创建完毕后，切换页面动，执行动作\nfunction createContainerView(complier, data) {\n\n    var prveHindex = data.currIndex;\n    var pageMgr = complier.pageMgr;\n\n    //停止当前页面动作\n    complier.suspend({\n        'stopPointer': prveHindex\n    });\n\n    //========处理跳转中逻辑=========\n\n    /**\r\n     * 清除掉不需要的页面\r\n     * 排除掉当前提高层次页面\r\n     */\n    _.each(data['destroy'], function (destroyIndex) {\n        if (destroyIndex !== data.currIndex) {\n            pageMgr.clearPage(destroyIndex);\n        }\n    });\n\n    //修正翻页2页的页面坐标值\n    _.each(data['ruleOut'], function (pageIndex) {\n        if (pageIndex > data['targetIndex']) {\n            pageMgr.abstractAssistAppoint(pageIndex, function (pageObj) {\n                Translation.fix.call(pageObj, 'nextEffect');\n            });\n        }\n        if (pageIndex < data['targetIndex']) {\n            pageMgr.abstractAssistAppoint(pageIndex, function (pageObj) {\n                Translation.fix.call(pageObj, 'prevEffect');\n            });\n        }\n    });\n\n    var jumpPocesss;\n\n    //母版\n    complier.callMasterMgr(function () {\n        jumpPocesss = this.makeJumpPocesss(data);\n        jumpPocesss.pre();\n    });\n\n    //===========跳槽后逻辑========================\n    pageMgr.clearPage(prveHindex);\n\n    jumpPocesss && jumpPocesss.clean(data.currIndex, data.targetIndex);\n\n    /**\r\n     * 同页面切换,规定切换的样式复位\r\n     * @param  {[type]} pageBase [description]\r\n     * @return {[type]}          [description]\r\n     */\n    _.each(data.pageBaseCollect, function (pageBase) {\n        _.each(pageBase, function (pageObj) {\n            pageObj.element && pageObj.element.css({\n                'opacity': 1\n            });\n        });\n    });\n\n    data.pageBaseCollect = null;\n    jumpPocesss = null;\n}\n\nfunction SwitchPage(complier, data, success) {\n    //跳前逻辑\n    prev(complier, data);\n    //处理逻辑\n    calculateFlip(complier, data, function (data) {\n        createContainerView(complier, data);\n        success.call(complier, data);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL21hbmFnZXIvc3dpdGNoLmpzPzI4MDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUF3SmdCLFUsR0FBQSxVOzs7Ozs7Ozs7OztBQTlJaEIsU0FBUyxJQUFULENBQWMsUUFBZCxFQUF3QixJQUF4QixFQUE4QjtBQUMxQixRQUFJLFlBQVksS0FBSyxTQUFyQjs7QUFFQSxhQUFTLE9BQVQsQ0FBaUIsb0JBQWpCLENBQXNDLFNBQXRDLEVBQWlELFVBQVMsT0FBVCxFQUFrQjtBQUMzRCxnQkFBUSxPQUFSLENBQWdCLEdBQWhCLENBQW9CO0FBQ2hCLHVCQUFXO0FBREssU0FBcEI7QUFHSCxLQUpMOztBQU1BLGFBQVMsYUFBVCxDQUF1QixZQUFXO0FBQzlCLGFBQUssb0JBQUwsQ0FBMEIsU0FBMUIsRUFBcUMsVUFBUyxPQUFULEVBQWtCO0FBQ25ELG9CQUFRLE9BQVIsQ0FBZ0IsR0FBaEIsQ0FBb0I7QUFDaEIsMkJBQVc7QUFESyxhQUFwQjtBQUdILFNBSkQ7QUFLSCxLQU5EO0FBT0g7OztBQUlELFNBQVMsYUFBVCxDQUF1QixRQUF2QixFQUFpQyxJQUFqQyxFQUF1QyxjQUF2QyxFQUF1RDs7QUFFbkQsUUFBSSxTQUFKO1FBQ0ksSUFBSSxDQURSO1FBRUksb0JBQW9CLEVBRnhCO1FBR0ksU0FBUyxLQUFLLE1BSGxCO1FBSUksY0FBYyxLQUFLLFdBSnZCOzs7QUFPQSxXQUFPLElBQUksT0FBTyxNQUFsQixFQUEwQixHQUExQixFQUErQjtBQUMzQixvQkFBWSxPQUFPLENBQVAsQ0FBWjtBQUNBLDBCQUFrQixJQUFsQixDQUF1QixVQUFTLFdBQVQsRUFBc0IsU0FBdEIsRUFBaUM7QUFDcEQsbUJBQU8sVUFBUyxRQUFULEVBQW1COztBQUV0Qix5QkFBUyxNQUFULENBQWdCLENBQUMsU0FBRCxDQUFoQixFQUE2QixXQUE3QixFQUEwQyxRQUExQyxFQUFvRCxRQUFwRCxFQUE4RDtBQUMxRCwrQkFBVyxDO0FBRCtDLGlCQUE5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dUIsSUFBdkI7QUFDSCxLQUhEO0FBSUgiLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog6aG16Z2i5YiH5o2i6YC76L6RXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gKSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIOi3s+i9rOS5i+WJjeaPkOmrmOWxgue6p+mXrumimFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHByZXYoY29tcGxpZXIsIGRhdGEpIHtcclxuICAgIHZhciBjdXJySW5kZXggPSBkYXRhLmN1cnJJbmRleDtcclxuICAgIC8v6Lez6L2s5LmL5YmN5o+Q6auY5bGC57qn6Zeu6aKYXHJcbiAgICBjb21wbGllci5wYWdlTWdyLmFic3RyYWN0QXNzaXN0UG9jZXNzKGN1cnJJbmRleCwgZnVuY3Rpb24ocGFnZU9iaikge1xyXG4gICAgICAgICAgICBwYWdlT2JqLmVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICd6LWluZGV4JzogOTk5N1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v5o+Q6auY5q+N54mI5bGC57qnXHJcbiAgICBjb21wbGllci5jYWxsTWFzdGVyTWdyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuYWJzdHJhY3RBc3Npc3RQb2Nlc3MoY3VyckluZGV4LCBmdW5jdGlvbihwYWdlT2JqKSB7XHJcbiAgICAgICAgICAgIHBhZ2VPYmouZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLy/lpITnkIbot7PovazpgLvovpFcclxuZnVuY3Rpb24gY2FsY3VsYXRlRmxpcChjb21wbGllciwgZGF0YSwgY3JlYXRlQ2FsbGJhY2spIHtcclxuICAgIC8v57yT5a2Y5b2T5YmN6aG16Z2i57Si5byV55So5LqO6ZSA5q+BXHJcbiAgICB2YXIgcGFnZUluZGV4LFxyXG4gICAgICAgIGkgPSAwLFxyXG4gICAgICAgIGNvbGxlY3RDb250YWluZXJzID0gW10sXHJcbiAgICAgICAgY3JlYXRlID0gZGF0YS5jcmVhdGUsXHJcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBkYXRhLnRhcmdldEluZGV4O1xyXG5cclxuICAgIC8v6ZyA6KaB5Yib5bu655qE6aG16Z2i6Zet5YyF5ZmoXHJcbiAgICBmb3IgKDsgaSA8IGNyZWF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHBhZ2VJbmRleCA9IGNyZWF0ZVtpXTtcclxuICAgICAgICBjb2xsZWN0Q29udGFpbmVycy5wdXNoKGZ1bmN0aW9uKHRhcmdldEluZGV4LCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WIm+W7uuaWsOe7k+aehFxyXG4gICAgICAgICAgICAgICAgY29tcGxpZXIuY3JlYXRlKFtwYWdlSW5kZXhdLCB0YXJnZXRJbmRleCwgJ3RvUGFnZScsIGNhbGxiYWNrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAwIC8v5ZCM6aG16Z2i5YiH5o2iLOinhOWumuWIh+aNoueahOagt+W8j1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KHRhcmdldEluZGV4LCBwYWdlSW5kZXgpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuoznu7TmlbDnu4Tkv53lrZjvvIzliJvlu7rov5Tlm57nmoTlr7nosaFcclxuICAgICAqIDEgcGFnZeWvueixoVxyXG4gICAgICogMiDmr43niYjlr7nosaFcclxuICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgZGF0YS5wYWdlQmFzZUNvbGxlY3QgPSBbXTtcclxuXHJcbiAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgY29sbGVjdExlbmd0aCwgY291bnQsXHJcbiAgICAgICAgY291bnQgPSBjb2xsZWN0TGVuZ3RoID0gY29sbGVjdENvbnRhaW5lcnMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChjb2xsZWN0Q29udGFpbmVycyAmJiBjb2xsZWN0TGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yICg7IGkgPCBjb2xsZWN0TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy/mlLbpm4bliJvlu7rnmoTmoLnoioLngrks5byC5q2l562J5b6F5a655Zmo55qE5Yib5bu6XHJcbiAgICAgICAgICAgIGNvbGxlY3RDb250YWluZXJzW2ldLmNhbGwoY29tcGxpZXIsIGZ1bmN0aW9uKGNhbGxiYWNrUGFnZUJhc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3RDb250YWluZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy/mjqXlj5fliJvlu7rlkI7ov5Tlm57nmoTpobXpnaLlr7nosaFcclxuICAgICAgICAgICAgICAgIGRhdGEucGFnZUJhc2VDb2xsZWN0LnB1c2goY2FsbGJhY2tQYWdlQmFzZSk7XHJcbiAgICAgICAgICAgICAgICBjb3VudC0tO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL+iKgueCueWIm+W7uuWujOavleWQju+8jOWIh+aNoumhtemdouWKqO+8jOaJp+ihjOWKqOS9nFxyXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXJWaWV3KGNvbXBsaWVyLCBkYXRhKSB7XHJcblxyXG4gICAgdmFyIHBydmVIaW5kZXggPSBkYXRhLmN1cnJJbmRleDtcclxuICAgIHZhciBwYWdlTWdyID0gY29tcGxpZXIucGFnZU1ncjtcclxuXHJcbiAgICAvL+WBnOatouW9k+WJjemhtemdouWKqOS9nFxyXG4gICAgY29tcGxpZXIuc3VzcGVuZCh7XHJcbiAgICAgICAgJ3N0b3BQb2ludGVyJzogcHJ2ZUhpbmRleFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy89PT09PT09PeWkhOeQhui3s+i9rOS4remAu+i+kT09PT09PT09PVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5riF6Zmk5o6J5LiN6ZyA6KaB55qE6aG16Z2iXHJcbiAgICAgKiDmjpLpmaTmjonlvZPliY3mj5Dpq5jlsYLmrKHpobXpnaJcclxuICAgICAqL1xyXG4gICAgXy5lYWNoKGRhdGFbJ2Rlc3Ryb3knXSwgZnVuY3Rpb24oZGVzdHJveUluZGV4KSB7XHJcbiAgICAgICAgaWYgKGRlc3Ryb3lJbmRleCAhPT0gZGF0YS5jdXJySW5kZXgpIHtcclxuICAgICAgICAgICAgcGFnZU1nci5jbGVhclBhZ2UoZGVzdHJveUluZGV4KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy/kv67mraPnv7vpobUy6aG155qE6aG16Z2i5Z2Q5qCH5YC8XHJcbiAgICBfLmVhY2goZGF0YVsncnVsZU91dCddLCBmdW5jdGlvbihwYWdlSW5kZXgpIHtcclxuICAgICAgICBpZiAocGFnZUluZGV4ID4gZGF0YVsndGFyZ2V0SW5kZXgnXSkge1xyXG4gICAgICAgICAgICBwYWdlTWdyLmFic3RyYWN0QXNzaXN0QXBwb2ludChwYWdlSW5kZXgsIGZ1bmN0aW9uKHBhZ2VPYmopIHtcclxuICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLmZpeC5jYWxsKHBhZ2VPYmosICduZXh0RWZmZWN0JylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhZ2VJbmRleCA8IGRhdGFbJ3RhcmdldEluZGV4J10pIHtcclxuICAgICAgICAgICAgcGFnZU1nci5hYnN0cmFjdEFzc2lzdEFwcG9pbnQocGFnZUluZGV4LCBmdW5jdGlvbihwYWdlT2JqKSB7XHJcbiAgICAgICAgICAgICAgICBUcmFuc2xhdGlvbi5maXguY2FsbChwYWdlT2JqLCAncHJldkVmZmVjdCcpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgdmFyIGp1bXBQb2Nlc3NzO1xyXG5cclxuICAgIC8v5q+N54mIXHJcbiAgICBjb21wbGllci5jYWxsTWFzdGVyTWdyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGp1bXBQb2Nlc3NzID0gdGhpcy5tYWtlSnVtcFBvY2Vzc3MoZGF0YSk7XHJcbiAgICAgICAganVtcFBvY2Vzc3MucHJlKCk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vPT09PT09PT09PT3ot7Pmp73lkI7pgLvovpE9PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIHBhZ2VNZ3IuY2xlYXJQYWdlKHBydmVIaW5kZXgpO1xyXG5cclxuICAgIGp1bXBQb2Nlc3NzICYmIGp1bXBQb2Nlc3NzLmNsZWFuKGRhdGEuY3VyckluZGV4LCBkYXRhLnRhcmdldEluZGV4KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWQjOmhtemdouWIh+aNoizop4TlrprliIfmjaLnmoTmoLflvI/lpI3kvY1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gcGFnZUJhc2UgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIF8uZWFjaChkYXRhLnBhZ2VCYXNlQ29sbGVjdCwgZnVuY3Rpb24ocGFnZUJhc2UpIHtcclxuICAgICAgICBfLmVhY2gocGFnZUJhc2UsIGZ1bmN0aW9uKHBhZ2VPYmopIHtcclxuICAgICAgICAgICAgcGFnZU9iai5lbGVtZW50ICYmIHBhZ2VPYmouZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ29wYWNpdHknOiAxXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgZGF0YS5wYWdlQmFzZUNvbGxlY3QgPSBudWxsO1xyXG4gICAganVtcFBvY2Vzc3MgPSBudWxsO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFN3aXRjaFBhZ2UoY29tcGxpZXIsIGRhdGEsIHN1Y2Nlc3MpIHtcclxuICAgIC8v6Lez5YmN6YC76L6RXHJcbiAgICBwcmV2KGNvbXBsaWVyLCBkYXRhKTtcclxuICAgIC8v5aSE55CG6YC76L6RXHJcbiAgICBjYWxjdWxhdGVGbGlwKGNvbXBsaWVyLCBkYXRhLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyVmlldyhjb21wbGllciwgZGF0YSk7XHJcbiAgICAgICAgc3VjY2Vzcy5jYWxsKGNvbXBsaWVyLCBkYXRhKVxyXG4gICAgfSlcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvbWFuYWdlci9zd2l0Y2guanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 73 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Factory = undefined;\n\nvar _observe = __webpack_require__(3);\n\n/**\r\n * canvas相关处理\r\n * 启动canvas,pixi库\r\n * 事件，动画等\r\n * 需要收集所有content的执行\r\n * 因为canvas只能绘制一次\r\n * cnavas模式下 category === \"Sprite\" 转化cid\r\n */\n\nvar Factory = function Factory() {\n\n    /**\r\n     * 是否启动模式\r\n     * @type {Boolean}\r\n     */\n    this.enable = false;\n\n    /**\r\n     * 加载失败content列表\r\n     * @type {Array}\r\n     */\n    this.failCid = [];\n\n    //所有contentId\n    this.cid = [];\n\n    //开启了contentMode的节点\n    //对应的content转化成canvas模式\n    //普通精灵动画\n    //ppt动画=>转化\n    this.pptId = [];\n\n    //普通灵精\n    this.spiritId = [];\n\n    //widget零件保存的content id\n    //高级精灵动画\n    this.widgetId = [];\n\n    /**\r\n     * cid=>wid\r\n     * 对应的pixi对象容器\r\n     * @type {Object}\r\n     */\n    this.collections = {};\n}; // 观察\n\n\n_observe.observe.call(Factory.prototype);\n\nexports.Factory = Factory;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL2NhbnZhc3JlbGF0ZWQuanM/MWYxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7Ozs7Ozs7O0FBV0EsSUFBSSxVQUFVLFNBQVYsT0FBVSxHQUFXOzs7Ozs7QUFNckIsU0FBSyxNQUFMLEdBQWMsS0FBZDs7Ozs7O0FBTUEsU0FBSyxPQUFMLEdBQWUsRUFBZjs7O0FBR0EsU0FBSyxHQUFMLEdBQVcsRUFBWDs7Ozs7O0FBTUEsU0FBSyxLQUFMLEdBQWEsRUFBYjs7O0FBR0EsU0FBSyxRQUFMLEdBQWdCLEVBQWhCOzs7O0FBSUEsU0FBSyxRQUFMLEdBQWdCLEVBQWhCOzs7Ozs7O0FBT0EsU0FBSyxXQUFMLEdBQW1CLEVBQW5CO0FBRUgsQ0FyQ0QsQzs7O0FBdUNBLGlCQUFRLElBQVIsQ0FBYSxRQUFRLFNBQXJCOztRQUVTLE8sR0FBQSxPIiwiZmlsZSI6IjczLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g6KeC5a+fXHJcbmltcG9ydCB7b2JzZXJ2ZX0gZnJvbSAnLi4vb2JzZXJ2ZXIvb2JzZXJ2ZSdcclxuXHJcbi8qKlxyXG4gKiBjYW52YXPnm7jlhbPlpITnkIZcclxuICog5ZCv5YqoY2FudmFzLHBpeGnlupNcclxuICog5LqL5Lu277yM5Yqo55S7562JXHJcbiAqIOmcgOimgeaUtumbhuaJgOaciWNvbnRlbnTnmoTmiafooYxcclxuICog5Zug5Li6Y2FudmFz5Y+q6IO957uY5Yi25LiA5qyhXHJcbiAqIGNuYXZhc+aooeW8j+S4iyBjYXRlZ29yeSA9PT0gXCJTcHJpdGVcIiDovazljJZjaWRcclxuICovXHJcblxyXG52YXIgRmFjdG9yeSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5ZCv5Yqo5qih5byPXHJcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5lbmFibGUgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295aSx6LSlY29udGVudOWIl+ihqFxyXG4gICAgICogQHR5cGUge0FycmF5fVxyXG4gICAgICovXHJcbiAgICB0aGlzLmZhaWxDaWQgPSBbXVxyXG5cclxuICAgIC8v5omA5pyJY29udGVudElkXHJcbiAgICB0aGlzLmNpZCA9IFtdXHJcblxyXG4gICAgLy/lvIDlkK/kuoZjb250ZW50TW9kZeeahOiKgueCuVxyXG4gICAgLy/lr7nlupTnmoRjb250ZW506L2s5YyW5oiQY2FudmFz5qih5byPXHJcbiAgICAvL+aZrumAmueyvueBteWKqOeUu1xyXG4gICAgLy9wcHTliqjnlLs9Pui9rOWMllxyXG4gICAgdGhpcy5wcHRJZCA9IFtdXHJcblxyXG4gICAgLy/mma7pgJrngbXnsr5cclxuICAgIHRoaXMuc3Bpcml0SWQgPSBbXVxyXG5cclxuICAgIC8vd2lkZ2V06Zu25Lu25L+d5a2Y55qEY29udGVudCBpZCBcclxuICAgIC8v6auY57qn57K+54G15Yqo55S7XHJcbiAgICB0aGlzLndpZGdldElkID0gW11cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNpZD0+d2lkXHJcbiAgICAgKiDlr7nlupTnmoRwaXhp5a+56LGh5a655ZmoXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB0aGlzLmNvbGxlY3Rpb25zID0ge31cclxuXHJcbn1cclxuXHJcbm9ic2VydmUuY2FsbChGYWN0b3J5LnByb3RvdHlwZSk7XHJcblxyXG5leHBvcnQgeyBGYWN0b3J5IH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL2NhbnZhc3JlbGF0ZWQuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 74 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Collection = Collection;\n/**\r\n * [ description]\r\n * @return {[type]} [description]\r\n */\n\nfunction Collection() {\n    this.reset();\n}\n\nCollection.prototype = {\n\n    register: function register(contentObj) {\n        if (!this._list) {\n            this._list = [contentObj];\n        } else {\n            this._list.push(contentObj);\n        }\n    },\n\n    get: function get() {\n        return this._list;\n    },\n\n    //得到一个指定的实例\n    specified: function specified(data) {\n        var instance;\n        var listLength = this._list.length;\n        while (listLength) {\n            listLength--;\n            if (instance = this._list[listLength]) {\n                if (instance.type === data.type && instance.id === data.id) {\n                    return instance;\n                }\n            }\n        }\n    },\n\n    remove: function remove() {\n        this._list = [];\n    },\n\n    reset: function reset() {\n        this._list = [];\n    }\n\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL2NvbGxlY3Rpb24uanM/MjExZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQUtnQixVLEdBQUEsVTs7Ozs7O0FBQVQsU0FBUyxVQUFULEdBQXNCO0FBQ3pCLFNBQUssS0FBTDtBQUNIOztBQUVELFdBQVcsU0FBWCxHQUF1Qjs7QUFFbkIsY0FBVSxrQkFBUyxVQUFULEVBQXFCO0FBQzNCLFlBQUksQ0FBQyxLQUFLLEtBQVYsRUFBaUI7QUFDYixpQkFBSyxLQUFMLEdBQWEsQ0FBQyxVQUFELENBQWI7QUFDSCxTQUZELE1BRU87QUFDSCxpQkFBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixVQUFoQjtBQUNIO0FBQ0osS0FSa0I7O0FBVW5CLFNBQUssZUFBVztBQUNaLGVBQU8sS0FBSyxLQUFaO0FBQ0gsS0Faa0I7OztBQWVuQixlQUFXLG1CQUFTLElBQVQsRUFBZTtBQUN0QixZQUFJLFFBQUo7QUFDQSxZQUFJLGFBQWEsS0FBSyxLQUFMLENBQVcsTUFBNUI7QUFDQSxlQUFPLFVBQVAsRUFBbUI7QUFDZjtBQUNBLGdCQUFJLFdBQVcsS0FBSyxLQUFMLENBQVcsVUFBWCxDQUFmLEVBQXVDO0FBQ25DLG9CQUFJLFNBQVMsSUFBVCxLQUFrQixLQUFLLElBQXZCLElBQStCLFNBQVMsRUFBVCxLQUFnQixLQUFLLEVBQXhELEVBQTREO0FBQ3hELDJCQUFPLFFBQVA7QUFDSDtBQUNKO0FBQ0o7QUFDSixLQTFCa0I7O0FBNEJuQixZQUFRLGtCQUFXO0FBQ2YsYUFBSyxLQUFMLEdBQWEsRUFBYjtBQUNILEtBOUJrQjs7QUFnQ25CLFdBQU8saUJBQVc7QUFDZCxhQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0g7O0FBbENrQixDQUF2QiIsImZpbGUiOiI3NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBbIGRlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcclxuICAgIHRoaXMucmVzZXQoKTtcclxufVxyXG5cclxuQ29sbGVjdGlvbi5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRlbnRPYmopIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdCA9IFtjb250ZW50T2JqXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LnB1c2goY29udGVudE9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0O1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+W+l+WIsOS4gOS4quaMh+WumueahOWunuS+i1xyXG4gICAgc3BlY2lmaWVkOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlO1xyXG4gICAgICAgIHZhciBsaXN0TGVuZ3RoID0gdGhpcy5fbGlzdC5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGxpc3RMZW5ndGgpIHtcclxuICAgICAgICAgICAgbGlzdExlbmd0aC0tO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgPSB0aGlzLl9saXN0W2xpc3RMZW5ndGhdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UudHlwZSA9PT0gZGF0YS50eXBlICYmIGluc3RhbmNlLmlkID09PSBkYXRhLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcclxuICAgIH0sXHJcblxyXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcclxuICAgIH1cclxuXHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS9jb2xsZWN0aW9uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 75 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\nexports.destroy = destroy;\n\nvar _event = __webpack_require__(6);\n\n//获取对应的activity对象\nvar getActivity = function getActivity(activityId, callback) {\n    var activity;\n    if (activity = this.abActivitys) {\n        _.each(activity.get(), function (contentObj, index) {\n            if (activityId == contentObj.activityId) {\n                callback(contentObj);\n                return;\n            }\n        }, this);\n    }\n};\n\n//制作一个处理绑定函数\n//***********************************************************\n//\n//             多事件模块\n//\n//**********************************************************\n\nvar makeRunBinding = function makeRunBinding(pagebase) {\n    var registers = this.registers;\n    var shift;\n    return function () {\n        var activityId = registers[0];\n        getActivity.call(pagebase, activityId, function (activityObj) {\n            activityObj.runEffects(function () {\n                shift = registers.shift();\n                registers.push(shift);\n            });\n        });\n    };\n};\n\n/**\r\n * 多事件处理\r\n * 每次通过同一个热点,触发不同的对象操作\r\n * @return {[type]} [description]\r\n */\nfunction combineEvents(pagebase, eventRelated) {\n\n    var contentObj, element, eventName;\n\n    //多条activty数据,一个对象上多事件\n    _.each(eventRelated, function (edata) {\n\n        _.each(edata, function (scope) {\n\n            contentObj = pagebase.baseGetContentObject(scope.eventContentId);\n\n            if (!contentObj) {\n                Xut.log('error', 'pagebase.js第' + pagebase.pageIndex + '页多事件处理出错!!!!');\n                return;\n            }\n\n            element = contentObj.$contentProcess;\n            eventName = (0, _event.conversionEventType)(scope.eventType);\n\n            //制动运行动作\n            scope.runEffects = makeRunBinding.call(scope, pagebase);\n\n            //销毁方法\n            scope.destroy = function () {\n                (0, _event.destroyEvents)(scope, eventName);\n                scope.registers = null;\n                scope.runEffects = null;\n            };\n\n            //事件绑定\n            (0, _event.bindEvents)({\n                'eventRun': function eventRun() {\n                    scope.runEffects();\n                },\n                'eventHandler': function eventHandler(eventReference, _eventHandler) {\n                    scope.eventReference = eventReference;\n                    scope.eventHandler = _eventHandler;\n                },\n                'eventContext': element,\n                'eventName': eventName,\n                'parameter': scope.dragdropPara,\n                'target': null,\n                'domMode': true\n            });\n        });\n\n        //暴露引用\n        pagebase.listenerHooks.registerEvents = eventRelated;\n    });\n}\n\nfunction create(pagebase, eventRelated) {\n    combineEvents(pagebase, eventRelated);\n}\n\nfunction destroy(pagebase) {\n    var registerEvents;\n    if (registerEvents = pagebase.listenerHooks.registerEvents) {\n        _.each(registerEvents, function (edata) {\n            _.each(edata, function (obj) {\n                obj.destroy && obj.destroy();\n            });\n        });\n    }\n    pagebase.listenerHooks.registerEvents = null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL211bHRpZXZlbnQuanM/MTgxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQWlHZ0IsTSxHQUFBLE07UUFLQSxPLEdBQUEsTzs7QUFoR2hCOzs7QUFNQSxJQUFJLGNBQWMsU0FBZCxXQUFjLENBQVMsVUFBVCxFQUFxQixRQUFyQixFQUErQjtBQUM3QyxRQUFJLFFBQUo7QUFDQSxRQUFJLFdBQVcsS0FBSyxXQUFwQixFQUFpQztBQUM3QixVQUFFLElBQUYsQ0FBTyxTQUFTLEdBQVQsRUFBUCxFQUF1QixVQUFTLFVBQVQsRUFBcUIsS0FBckIsRUFBNEI7QUFDL0MsZ0JBQUksY0FBYyxXQUFXLFVBQTdCLEVBQXlDO0FBQ3JDLHlCQUFTLFVBQVQ7QUFDQTtBQUNIO0FBQ0osU0FMRCxFQUtHLElBTEg7QUFNSDtBQUNKLENBVkQ7Ozs7Ozs7OztBQWFBLElBQUksaUJBQWlCLFNBQWpCLGNBQWlCLENBQVMsUUFBVCxFQUFtQjtBQUNwQyxRQUFJLFlBQVksS0FBSyxTQUFyQjtBQUNBLFFBQUksS0FBSjtBQUNBLFdBQU8sWUFBVztBQUNkLFlBQUksYUFBYSxVQUFVLENBQVYsQ0FBakI7QUFDQSxvQkFBWSxJQUFaLENBQWlCLFFBQWpCLEVBQTJCLFVBQTNCLEVBQXVDLFVBQVMsV0FBVCxFQUFzQjtBQUN6RCx3QkFBWSxVQUFaLENBQXVCLFlBQVc7QUFDOUIsd0JBQVEsVUFBVSxLQUFWLEVBQVI7QUFDQSwwQkFBVSxJQUFWLENBQWUsS0FBZjtBQUNILGFBSEQ7QUFJSCxTQUxEO0FBTUgsS0FSRDtBQVNILENBWkQ7Ozs7Ozs7QUFtQkEsU0FBUyxhQUFULENBQXVCLFFBQXZCLEVBQWlDLFlBQWpDLEVBQStDOztBQUUzQyxRQUFJLFVBQUosRUFBZ0IsT0FBaEIsRUFBeUIsU0FBekI7OztBQUdBLE1BQUUsSUFBRixDQUFPLFlBQVAsRUFBcUIsVUFBUyxLQUFULEVBQWdCOztBQUVqQyxVQUFFLElBQUYsQ0FBTyxLQUFQLEVBQWMsVUFBUyxLQUFULEVBQWdCOztBQUUxQix5QkFBYSxTQUFTLG9CQUFULENBQThCLE1BQU0sY0FBcEMsQ0FBYjs7QUFFQSxnQkFBSSxDQUFDLFVBQUwsRUFBaUI7QUFDYixvQkFBSSxHQUFKLENBQVEsT0FBUixFQUFpQixpQkFBaUIsU0FBUyxTQUExQixHQUFzQyxjQUF2RDtBQUNBO0FBQ0g7O0FBRUQsc0JBQVUsV0FBVyxlQUFyQjtBQUNBLHdCQUFZLGdDQUFvQixNQUFNLFNBQTFCLENBQVo7OztBQUdBLGtCQUFNLFVBQU4sR0FBbUIsZUFBZSxJQUFmLENBQW9CLEtBQXBCLEVBQTJCLFFBQTNCLENBQW5COzs7QUFHQSxrQkFBTSxPQUFOLEdBQWdCLFlBQVc7QUFDdkIsMENBQWMsS0FBZCxFQUFxQixTQUFyQjtBQUNBLHNCQUFNLFNBQU4sR0FBa0IsSUFBbEI7QUFDQSxzQkFBTSxVQUFOLEdBQW1CLElBQW5CO0FBQ0gsYUFKRDs7O0FBT0EsbUNBQVc7QUFDUCw0QkFBWSxvQkFBVztBQUNuQiwwQkFBTSxVQUFOO0FBQ0gsaUJBSE07QUFJUCxnQ0FBZ0Isc0JBQVMsY0FBVCxFQUF5QixhQUF6QixFQUF1QztBQUNuRCwwQkFBTSxjQUFOLEdBQXVCLGNBQXZCO0FBQ0EsMEJBQU0sWUFBTixHQUFxQixhQUFyQjtBQUNILGlCQVBNO0FBUVAsZ0NBQWdCLE9BUlQ7QUFTUCw2QkFBYSxTQVROO0FBVVAsNkJBQWEsTUFBTSxZQVZaO0FBV1AsMEJBQVUsSUFYSDtBQVlQLDJCQUFXO0FBWkosYUFBWDtBQWNILFNBckNEOzs7QUF3Q0EsaUJBQVMsYUFBVCxDQUF1QixjQUF2QixHQUF3QyxZQUF4QztBQUNILEtBM0NEO0FBNENIOztBQUlNLFNBQVMsTUFBVCxDQUFnQixRQUFoQixFQUEwQixZQUExQixFQUF3QztBQUMzQyxrQkFBYyxRQUFkLEVBQXdCLFlBQXhCO0FBQ0g7O0FBR00sU0FBUyxPQUFULENBQWlCLFFBQWpCLEVBQTJCO0FBQzlCLFFBQUksY0FBSjtBQUNBLFFBQUksaUJBQWlCLFNBQVMsYUFBVCxDQUF1QixjQUE1QyxFQUE0RDtBQUN4RCxVQUFFLElBQUYsQ0FBTyxjQUFQLEVBQXVCLFVBQVMsS0FBVCxFQUFnQjtBQUNuQyxjQUFFLElBQUYsQ0FBTyxLQUFQLEVBQWMsVUFBUyxHQUFULEVBQWM7QUFDeEIsb0JBQUksT0FBSixJQUFlLElBQUksT0FBSixFQUFmO0FBQ0gsYUFGRDtBQUdILFNBSkQ7QUFLSDtBQUNELGFBQVMsYUFBVCxDQUF1QixjQUF2QixHQUF3QyxJQUF4QztBQUNIIiwiZmlsZSI6Ijc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vL1xyXG4vLyAgICAgICAgICAgICDlpJrkuovku7bmqKHlnZdcclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5pbXBvcnQge1xyXG4gICAgY29udmVyc2lvbkV2ZW50VHlwZSwgYmluZEV2ZW50cywgZGVzdHJveUV2ZW50c1xyXG59XHJcbmZyb20gJy4uL2NvbXBvbmVudC9jb250ZW50L2V2ZW50J1xyXG5cclxuLy/ojrflj5blr7nlupTnmoRhY3Rpdml0eeWvueixoVxyXG52YXIgZ2V0QWN0aXZpdHkgPSBmdW5jdGlvbihhY3Rpdml0eUlkLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGFjdGl2aXR5O1xyXG4gICAgaWYgKGFjdGl2aXR5ID0gdGhpcy5hYkFjdGl2aXR5cykge1xyXG4gICAgICAgIF8uZWFjaChhY3Rpdml0eS5nZXQoKSwgZnVuY3Rpb24oY29udGVudE9iaiwgaW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2aXR5SWQgPT0gY29udGVudE9iai5hY3Rpdml0eUlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjb250ZW50T2JqKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v5Yi25L2c5LiA5Liq5aSE55CG57uR5a6a5Ye95pWwXHJcbnZhciBtYWtlUnVuQmluZGluZyA9IGZ1bmN0aW9uKHBhZ2ViYXNlKSB7XHJcbiAgICB2YXIgcmVnaXN0ZXJzID0gdGhpcy5yZWdpc3RlcnM7XHJcbiAgICB2YXIgc2hpZnQ7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGFjdGl2aXR5SWQgPSByZWdpc3RlcnNbMF07XHJcbiAgICAgICAgZ2V0QWN0aXZpdHkuY2FsbChwYWdlYmFzZSwgYWN0aXZpdHlJZCwgZnVuY3Rpb24oYWN0aXZpdHlPYmopIHtcclxuICAgICAgICAgICAgYWN0aXZpdHlPYmoucnVuRWZmZWN0cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNoaWZ0ID0gcmVnaXN0ZXJzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICByZWdpc3RlcnMucHVzaChzaGlmdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDlpJrkuovku7blpITnkIZcclxuICog5q+P5qyh6YCa6L+H5ZCM5LiA5Liq54Ot54K5LOinpuWPkeS4jeWQjOeahOWvueixoeaTjeS9nFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNvbWJpbmVFdmVudHMocGFnZWJhc2UsIGV2ZW50UmVsYXRlZCkge1xyXG5cclxuICAgIHZhciBjb250ZW50T2JqLCBlbGVtZW50LCBldmVudE5hbWU7XHJcblxyXG4gICAgLy/lpJrmnaFhY3RpdnR55pWw5o2uLOS4gOS4quWvueixoeS4iuWkmuS6i+S7tlxyXG4gICAgXy5lYWNoKGV2ZW50UmVsYXRlZCwgZnVuY3Rpb24oZWRhdGEpIHtcclxuXHJcbiAgICAgICAgXy5lYWNoKGVkYXRhLCBmdW5jdGlvbihzY29wZSkge1xyXG5cclxuICAgICAgICAgICAgY29udGVudE9iaiA9IHBhZ2ViYXNlLmJhc2VHZXRDb250ZW50T2JqZWN0KHNjb3BlLmV2ZW50Q29udGVudElkKVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjb250ZW50T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBYdXQubG9nKCdlcnJvcicsICdwYWdlYmFzZS5qc+esrCcgKyBwYWdlYmFzZS5wYWdlSW5kZXggKyAn6aG15aSa5LqL5Lu25aSE55CG5Ye66ZSZISEhIScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxlbWVudCA9IGNvbnRlbnRPYmouJGNvbnRlbnRQcm9jZXNzO1xyXG4gICAgICAgICAgICBldmVudE5hbWUgPSBjb252ZXJzaW9uRXZlbnRUeXBlKHNjb3BlLmV2ZW50VHlwZSk7XHJcblxyXG4gICAgICAgICAgICAvL+WItuWKqOi/kOihjOWKqOS9nFxyXG4gICAgICAgICAgICBzY29wZS5ydW5FZmZlY3RzID0gbWFrZVJ1bkJpbmRpbmcuY2FsbChzY29wZSwgcGFnZWJhc2UpO1xyXG5cclxuICAgICAgICAgICAgLy/plIDmr4Hmlrnms5VcclxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveUV2ZW50cyhzY29wZSwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVycyA9IG51bGxcclxuICAgICAgICAgICAgICAgIHNjb3BlLnJ1bkVmZmVjdHMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+S6i+S7tue7keWumlxyXG4gICAgICAgICAgICBiaW5kRXZlbnRzKHtcclxuICAgICAgICAgICAgICAgICdldmVudFJ1bic6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJ1bkVmZmVjdHMoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnZXZlbnRIYW5kbGVyJzogZnVuY3Rpb24oZXZlbnRSZWZlcmVuY2UsIGV2ZW50SGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmV2ZW50UmVmZXJlbmNlID0gZXZlbnRSZWZlcmVuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXZlbnRIYW5kbGVyID0gZXZlbnRIYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdldmVudENvbnRleHQnOiBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgJ2V2ZW50TmFtZSc6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICdwYXJhbWV0ZXInOiBzY29wZS5kcmFnZHJvcFBhcmEsXHJcbiAgICAgICAgICAgICAgICAndGFyZ2V0JzogbnVsbCxcclxuICAgICAgICAgICAgICAgICdkb21Nb2RlJzogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v5pq06Zyy5byV55SoXHJcbiAgICAgICAgcGFnZWJhc2UubGlzdGVuZXJIb29rcy5yZWdpc3RlckV2ZW50cyA9IGV2ZW50UmVsYXRlZDtcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwYWdlYmFzZSwgZXZlbnRSZWxhdGVkKSB7XHJcbiAgICBjb21iaW5lRXZlbnRzKHBhZ2ViYXNlLCBldmVudFJlbGF0ZWQpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3kocGFnZWJhc2UpIHtcclxuICAgIHZhciByZWdpc3RlckV2ZW50cztcclxuICAgIGlmIChyZWdpc3RlckV2ZW50cyA9IHBhZ2ViYXNlLmxpc3RlbmVySG9va3MucmVnaXN0ZXJFdmVudHMpIHtcclxuICAgICAgICBfLmVhY2gocmVnaXN0ZXJFdmVudHMsIGZ1bmN0aW9uKGVkYXRhKSB7XHJcbiAgICAgICAgICAgIF8uZWFjaChlZGF0YSwgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouZGVzdHJveSAmJiBvYmouZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBwYWdlYmFzZS5saXN0ZW5lckhvb2tzLnJlZ2lzdGVyRXZlbnRzID0gbnVsbDtcclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS9tdWx0aWV2ZW50LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 76 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PageBase = undefined;\n\nvar _collection = __webpack_require__(74);\n\nvar _translation = __webpack_require__(8);\n\nvar _multievent = __webpack_require__(75);\n\nvar _threadtask = __webpack_require__(89);\n\nvar _canvasrelated = __webpack_require__(73);\n\n//分配任务\n\n\nfunction PageBase() {}\n//canvas相关\n/*********************************************************************\r\n *                 构建页面对象\r\n *             实现目标：\r\n *                快速翻页\r\n *                最快中断任务\r\n *                提高优先级\r\n *\r\n *             1 构建四个大任务，每个大人物附属一堆小任务\r\n *             2 每次触发一个新的任务，都会去检测是否允许创建的条件\r\n *\r\n *  2014.11.18\r\n *  新增canvan模式\r\n *    contentMode 分为  0 或者 1\r\n *    0 是dom模式\r\n *    1 是canvas模式\r\n *    以后如果其余的在增加\r\n *    针对页面chapter中的parameter写入 contentMode   值为 1\r\n *    如果是canvas模式的时候，同时也是能够存在dom模式是\r\n *\r\n *                                                         *\r\n **********************************************************************/\n\n;\nvar baseProto = PageBase.prototype;\n\n/********************************************************************\r\n *\r\n *                    多线程创建管理\r\n *\r\n ********************************************************************/\n\n/**\r\n * 初始化多线程任务\r\n * @return {[type]} [description]\r\n */\nbaseProto.initTasks = function (options) {\n\n    var self = this;\n\n    _.extend(self, options);\n\n    /**\r\n     * 数据缓存容器\r\n     * @type {Object}\r\n     */\n    this.dataCache = {};\n    this.scenarioId = this.chapterDas.seasonId;\n    this.chapterId = this.chapterDas._id;\n\n    /**\r\n     * 是否开启多线程,默认开启\r\n     * 如果是非线性，则关闭多线程创建\r\n     * 启动 true\r\n     * 关闭 false\r\n     * @type {[type]}\r\n     */\n    this.isMultithread = this.multiplePages ? true : false;\n\n    //母版处理\n    if (self.pageType === 'master') {\n        this.isMaster = true;\n    }\n\n    /**\r\n     * canvas模式\r\n     * @type {Boolean}\r\n     */\n    this.canvasRelated = new _canvasrelated.Factory();\n\n    /**\r\n     * 创建相关的信息\r\n     * @type {Object}\r\n     */\n    var createRelated = this.createRelated = {\n\n        /**\r\n         * 主线任务等待\r\n         */\n        tasksHang: null,\n\n        /**\r\n         * 创建相关的信息\r\n         * @type {Object}\r\n         */\n        tasksTimer: 0,\n\n        /**\r\n         * 当前任务是否中断\r\n         * return\r\n         *     true  中断\r\n         *     false 没有中断\r\n         */\n        isTaskSuspend: false,\n\n        /**\r\n         * 是否预创建背景中\r\n         */\n        preCreateTasks: false,\n\n        /**\r\n         * 下一个将要运行的任务标示\r\n         * 1 主容器任务\r\n         * 2 背景任务\r\n         * 3 widget热点任务\r\n         * 4 content对象任务\r\n         */\n        nextRunTask: 'container',\n\n        /**\r\n         * 缓存构建中断回调\r\n         * 构建分2步骤\r\n         * 1 构建数据与结构（执行中断处理）\r\n         * 2 构建绘制页面\r\n         * @type {Object}\r\n         */\n        cacheTasks: function () {\n            var cacheTasks = {};\n            _.each([\"background\", \"components\", \"contents\"], function (taskName) {\n                cacheTasks[taskName] = false;\n            });\n            return cacheTasks;\n        }(),\n\n        /**\r\n         * 与创建相关的信息\r\n         * 创建坐标\r\n         * 1 创建li位置\r\n         * 2 创建浮动对象\r\n         * \"translate3d(0px, 0, 0)\", \"original\"\r\n         */\n        initTransformParameter: (0, _translation.createTransform)(this.visiblePid, this.pid),\n\n        /**\r\n         * 预创建\r\n         * 构建页面主容器完毕后,此时可以翻页\r\n         * @return {[type]} [description]\r\n         */\n        preforkComplete: function preforkComplete() {},\n\n        /**\r\n         * 整个页面都构建完毕通知\r\n         * @return {[type]} [description]\r\n         */\n        createTasksComplete: function createTasksComplete() {}\n    };\n\n    //==================内部钩子相关===========================\n    //\n    // * 监听状态的钩子\n    // * 注册所有content对象管理\n    // * 收集所有content对象\n    // * 构建li主结构后,即可翻页\n    // * 构建所有对象完毕后处理\n    //\n\n    //抽象activtiys合集,用于关联各自的content\n    //划分各自的子作用域\n    //1对多的关系\n    this.abActivitys = new _collection.Collection();\n\n    //widget热点处理类\n    //1 iframe零件\n    //2 页面零件\n    //只存在当前页面\n    this.components = new _collection.Collection();\n\n    /**\r\n     * 缓存所有的content对象引用\r\n     * 1对1的关系\r\n     * @type {Object}\r\n     */\n    this.contentsCollector = {};\n\n    /**\r\n     * 浮动对象\r\n     * 1 母版中\r\n     * 2 页面中\r\n     * 页面中是最高的\r\n     * [floatContents description]\r\n     * @type {Object}\r\n     */\n    var floatContents = this.floatContents = {\n\n        /**\r\n         * 页面浮动对象容器\r\n         * @type {[type]}\r\n         */\n        PageContainer: null,\n\n        /**\r\n         * 浮动页面对象\r\n         * @type {Object}\r\n         */\n        Page: {},\n\n        /**\r\n         * 浮动母版容器\r\n         */\n        MasterContainer: null,\n\n        /**\r\n         * 浮动母版的content对象\r\n         * 用于边界切换,自动加上移动\r\n         * @type {Object}\r\n         *     1：Object {}      //空对象,零件\r\n         *     2: PPTeffect  {}  //行为对象\r\n         */\n        Master: {}\n    };\n\n    /**\r\n     * 对象的处理情况的内部钩子方法\r\n     * @type {Object}\r\n     */\n    this.listenerHooks = {\n\n        //注册抽象Activity类content(大类,总content对象)\n        registerAbstractActivity: function registerAbstractActivity(contentsObjs) {\n            self.abActivitys.register(contentsObjs);\n        },\n\n        //收集器\n        collector: {\n            //搜集所有的content(每一个content对象)\n            //因为content多页面共享的,所以content的合集需要保存在pageMgr中（特殊处理）\n            contents: function contents(pid, id, contentScope) {\n                var scope = self.baseGetContentObject[id];\n                //特殊处理,如果注册了事件ID,上面还有动画,需要覆盖\n                if (scope && scope.isBindEventHooks) {\n                    self.contentsCollector[id] = contentScope;\n                }\n                if (!scope) {\n                    self.contentsCollector[id] = contentScope;\n                }\n            },\n\n            //2014.11.7\n            //新概念，浮动页面对象\n            //用于是最顶层的，比母版浮动对象还要高\n            //所以这个浮动对象需要跟随页面动\n            floatPages: function floatPages(data) {\n                var contentObj;\n                //浮动页面对象容器\n                floatContents.PageContainer = data.container;\n                _.each(data.ids, function (id) {\n                    if (contentObj = self.baseGetContentObject(id)) {\n                        //初始视察坐标\n                        if (contentObj.parallax) {\n                            contentObj.parallaxOffset = contentObj.parallax.parallaxOffset;\n                        }\n                        floatContents.Page[id] = contentObj;\n                    } else {\n                        console.log('页面浮动对象找不到');\n                    }\n                });\n            },\n\n            //浮动母版对象\n            //1 浮动的对象是有动画数据或者视觉差数据\n            //2 浮动的对象是用于零件类型,这边只提供创建\n            //  所以需要制造一个空的容器，用于母版交界动\n            floatMaters: function floatMaters(data) {\n                var prefix, contentObj, contentProcess, contentsFragment;\n                //浮动容器\n                floatContents.MasterContainer = data.container;\n                //浮动对象\n                _.each(data.ids, function (id) {\n                    //转化成实际操作的浮动对象,保存\n                    if (contentObj = self.baseGetContentObject(id)) {\n                        //初始视察坐标\n                        if (contentObj.parallax) {\n                            contentObj.parallaxOffset = contentObj.parallax.parallaxOffset;\n                        }\n                        floatContents.Master[id] = contentObj;\n                    } else {\n                        Xut.plat.isBrowser && console.log('浮动母版对象数据不存在原始对象,制作伪对象母版移动', id);\n                        //获取DOM节点\n                        if (contentsFragment = self.createRelated.cacheTasks.contents.contentsFragment) {\n                            prefix = 'Content_' + self.pid + \"_\";\n                            _.each(contentsFragment, function (dom) {\n                                var makePrefix = prefix + id;\n                                if (dom.id == makePrefix) {\n                                    contentProcess = dom;\n                                }\n                            });\n                        }\n                        //制作一个伪数据\n                        //作为零件类型的空content处理\n                        floatContents.Master[id] = {\n                            id: id,\n                            pid: self.pid,\n                            $contentProcess: $(contentProcess),\n                            'empty': true //空类型\n                        };\n                    }\n                });\n            }\n        },\n\n        //多事件钩子\n        //执行多事件绑定\n        eventBinding: function eventBinding(eventRelated) {\n            (0, _multievent.create)(self, eventRelated);\n        }\n    };\n\n    /**\r\n     * 设置下一个标记\r\n     */\n    function setNextRunTask(taskName) {\n        createRelated.nextRunTask = taskName;\n    }\n\n    function callContext(taskName, fn) {\n        return _threadtask.assignedTasks[taskName](fn, self);\n    }\n\n    /**\r\n     * 任务钩子\r\n     * @type {Object}\r\n     */\n    self.tasks = {\n        container: function container() {\n            callContext('Container', function (element, pseudoElement) {\n                //////////////\n                //li,li-div //\n                //////////////\n                self.element = element;\n                self.pseudoElement = pseudoElement;\n                //获取根节点\n                self.getElement = function () {\n                    return pseudoElement ? pseudoElement : element;\n                };\n\n                setNextRunTask('background');\n                //构建主容器li完毕,可以提前执行翻页动作\n                createRelated.preforkComplete();\n                //视觉差不管\n                if (self.isMaster) {\n                    self.nextTasks({\n                        'taskName': '外部background',\n                        'outNextTasks': function outNextTasks() {\n                            self.dispatchTasks();\n                        }\n                    });\n                }\n            });\n        },\n        background: function background() {\n            var nextRun = function nextRun() {\n                createRelated.preCreateTasks = false;\n                setNextRunTask('components');\n                //针对当前页面的检测\n                if (!createRelated.tasksHang || self.isMaster) {\n                    self.nextTasks({\n                        'taskName': '外部widgets',\n                        outNextTasks: function outNextTasks() {\n                            self.dispatchTasks();\n                        }\n                    });\n                }\n\n                //如果有挂起任务，则继续执行\n                if (createRelated.tasksHang) {\n                    createRelated.tasksHang();\n                }\n            };\n\n            callContext('Background', nextRun);\n        },\n        components: function components() {\n            //构件零件类型任务\n            callContext('Components', function () {\n                setNextRunTask('contents');\n                self.nextTasks({\n                    'taskName': '外部contents',\n                    outNextTasks: function outNextTasks() {\n                        self.dispatchTasks();\n                    }\n                });\n            });\n        },\n        contents: function contents() {\n            callContext('Contetns', function () {\n                setNextRunTask('complete');\n                createRelated.createTasksComplete();\n            });\n        }\n    };\n};\n\n/****************************************************************\r\n *\r\n *                     对外接口\r\n *\r\n *               1 开始调用任务\r\n *               2 调用自动运行任务\r\n *               3 设置中断\r\n *               4 取消中断设置\r\n *\r\n * **************************************************************/\n\n/**\r\n * 开始调用任务\r\n * @return {[type]} [description]\r\n */\nbaseProto.startThreadTask = function (flipOver, callback) {\n\n    //制作回调\n    //如果是快速翻页,立刻调用\n    this.createRelated.preforkComplete = function (context) {\n        return function () {\n            //滑动允许打断创建\n            flipOver ? callback() :\n            //所有继续分解任务\n            context.checkTasksCreate(function () {\n                callback();\n            });\n        };\n    }(this);\n\n    //继续构建任务\n    this.dispatchTasks();\n};\n\n/**\r\n * 检测任务是否完成\r\n * actTasksCallback 活动任务完成\r\n * @return {[type]} [description]\r\n */\nbaseProto.checkThreadTask = function (actTasksCallback) {\n    var self = this;\n    this.isAutoRun = true;\n    this.checkTasksCreate(function () {\n        self.isAutoRun = false;\n        actTasksCallback();\n    });\n};\n\n/**\r\n * 后台预创建任务\r\n * @param  {[type]} tasksTimer [时间间隔]\r\n * @return {[type]}            [description]\r\n */\nbaseProto.createPreforkTasks = function (callback, isPreCreate) {\n    var self = this;\n    //2个预创建间隔太短\n    //背景预创建还在进行中，先挂起来等待\n    if (this.createRelated.preCreateTasks) {\n        this.createRelated.tasksHang = function (callback) {\n            return function () {\n                self.checkTasksCreate(callback);\n            };\n        }(callback);\n        return;\n    }\n\n    /**\r\n     * 翻页完毕后\r\n     * 预创建背景\r\n     */\n    if (isPreCreate) {\n        this.createRelated.preCreateTasks = true;\n    }\n\n    this.checkTasksCreate(callback);\n};\n\n/**\r\n * 自动运行：检测是否需要开始创建任务\r\n * 1 如果任务全部完成了毕\r\n * 2 如果有中断任务,就需要继续创建未完成的任务\r\n * 3 如果任务未中断,还在继续创建\r\n * currtask 是否为当前任务，加速创建\r\n */\nbaseProto.checkTasksCreate = function (callback, context) {\n\n    //如果任务全部完成\n    if (this.createRelated.nextRunTask === 'complete') {\n        return callback.call(context);\n    }\n\n    var self = this;\n\n    //开始构未完成的任务\n    this.cancelTaskSuspend();\n\n    //完毕回调\n    this.createRelated.createTasksComplete = function () {\n        callback.call(context);\n    };\n\n    //派发任务\n    this.nextTasks({\n        outNextTasks: function outNextTasks() {\n            self.dispatchTasks();\n        }\n    });\n};\n\n/**\r\n * 设置任务中断\r\n */\nbaseProto.setTaskSuspend = function () {\n    this.isAutoRun = false;\n    this.canvasRelated.isTaskSuspend = true;\n    this.createRelated.preCreateTasks = false;\n    this.createRelated.tasksHang = null;\n};\n\n/**\r\n * 取消任务中断\r\n * @return {[type]} [description]\r\n */\nbaseProto.cancelTaskSuspend = function () {\n    this.canvasRelated.isTaskSuspend = false;\n};\n\n/**\r\n * 检测任务是否需要中断\r\n * @return {[type]} [description]\r\n */\nbaseProto.checkTaskSuspend = function () {\n    return this.canvasRelated.isTaskSuspend;\n};\n\n/**\r\n * 多线程检测\r\n * @return {[type]} [description]\r\n */\nbaseProto.multithreadCheck = function (callbacks, interrupt) {\n    //多线程检测\n    var self = this;\n\n    function check() {\n        if (self.checkTaskSuspend()) {\n            self.tasksTimeOutId && clearTimeout(self.tasksTimeOutId);\n            callbacks.suspendCallback.call(self);\n        } else {\n            callbacks.nextTaskCallback.call(self);\n        }\n    }\n\n    function next() {\n        self.tasksTimeOutId = setTimeout(function () {\n            check();\n        }, self.canvasRelated.tasksTimer);\n    }\n\n    //自动运行页面构建\n    if (self.isAutoRun) {\n        //自动运行content中断检测 打断一次\n        if (interrupt) {\n            next();\n        } else {\n            check();\n        }\n    } else {\n        //后台构建\n        next();\n    }\n};\n\n/**\r\n * 任务队列挂起\r\n * nextTaskCallback 成功回调\r\n * suspendCallback  中断回调\r\n * @return {[type]} [description]\r\n */\nbaseProto.asyTasks = function (callbacks, interrupt) {\n\n    //如果关闭多线程,不检测任务调度\n    if (!this.isMultithread) {\n        return callbacks.nextTaskCallback.call(this);\n    }\n\n    //多线程检测\n    this.multithreadCheck(callbacks, interrupt);\n};\n\n/**\r\n * 开始执行下一个线程任务,检测是否中断\r\n * outSuspendTasks,\r\n * outNextTasks\r\n * taskName\r\n * @return {[type]} [description]\r\n */\nbaseProto.nextTasks = function (callback) {\n    var outSuspendTasks, outNextTasks, taskName;\n\n    this.asyTasks({\n        suspendCallback: function suspendCallback() {\n            // console.log('@@@@@@@@@@中断创建任务 ' + callback.taskName + ' @@@@@@@@@@@', this.pid + 1, this.element)\n            if (outSuspendTasks = callback.outSuspendTasks) {\n                outSuspendTasks();\n            }\n        },\n        nextTaskCallback: function nextTaskCallback() {\n            if (outNextTasks = callback.outNextTasks) {\n                outNextTasks();\n            }\n        }\n    }, callback.interrupt);\n};\n\n/**\r\n * 任务调度\r\n * @return {[type]} [description]\r\n */\nbaseProto.dispatchTasks = function () {\n    var tasks;\n    if (tasks = this.tasks[this.createRelated.nextRunTask]) {\n        tasks();\n    }\n};\n\n//========================构建模块任务对象=========================\n//\n//  taskCallback 每个模块任务完毕后的回调\n//  用于继续往下个任务构建\n//\n//==================================================================\n\n/**\r\n * 对象实例内部构建\r\n * @return {[type]} [description]\r\n */\nbaseProto.checkInstanceTasks = function (taskName) {\n    var tasksObj;\n    if (tasksObj = this.createRelated.cacheTasks[taskName]) {\n        tasksObj.runSuspendTasks();\n        return true;\n    }\n};\n\n//获取页面数据\nbaseProto.baseData = function () {\n    return this.dataCache[this.pageType];\n};\n\n//获取热点数据信息\nbaseProto.baseActivits = function () {\n    return this.dataCache['activitys'];\n};\n\n//获取自动运行数据\nbaseProto.baseAutoRun = function () {\n    var autoRunDas = this.dataCache['autoRunDas'];\n    return autoRunDas && autoRunDas;\n};\n\n//获取chapterid\nbaseProto.baseGetPageId = function (pid) {\n    return this.baseData(pid)['_id'];\n};\n\n/**\r\n * 找到对象的content对象\r\n * @param  {[type]}   contentId [description]\r\n * @param  {Function} callback  [description]\r\n * @return {[type]}             [description]\r\n */\nbaseProto.baseGetContentObject = function (contentId) {\n    var contentsObj;\n    if (contentsObj = this.contentsCollector[contentId]) {\n        return contentsObj;\n    } else {\n        //查找浮动母版\n        return this.floatContents.Master[contentId];\n    }\n};\n\n/**\r\n * Xut.Content.show/hide 针对互斥效果增加接口\r\n * 扩充，显示，隐藏，动画控制接口\r\n * @param  {[type]} name [description]\r\n * @return {[type]}      [description]\r\n */\nbaseProto.baseContentMutex = function (contentId, type) {\n    var contentObj,\n        base = this;\n    if (contentObj = base.baseGetContentObject(contentId)) {\n        var context = contentObj.$contentProcess;\n        var handle = {\n            'Show': function Show() {\n                if (contentObj.type === 'dom') {\n                    context.css({\n                        'display': 'blcok',\n                        'visibility': 'visible'\n                    }).prop(\"mutex\", false);\n                } else {\n                    context.visible = true;\n                    console.log('show');\n                    base.canvasRelated.oneRender();\n                }\n            },\n            'Hide': function Hide() {\n                if (contentObj.type === 'dom') {\n                    context.css({\n                        'display': 'none',\n                        'visibility': 'hidden'\n                    }).prop(\"mutex\", true);\n                } else {\n                    console.log('hide');\n                    context.visible = false;\n                    base.canvasRelated.oneRender();\n                }\n            },\n            'StopAnim': function StopAnim() {\n                contentObj.stopAnims && contentObj.stopAnims();\n            }\n        };\n        handle[type]();\n    }\n};\n\n//content接口\n_.each([\"Get\", \"Specified\"], function (type) {\n    baseProto['base' + type + 'Content'] = function (data) {\n        switch (type) {\n            case 'Get':\n                return this.abActivitys.get();\n            case 'Specified':\n                return this.abActivitys.specified(data);\n        }\n    };\n});\n\n//components零件类型处理\n//baseGetComponent\n//baseRemoveComponent\n//baseRegisterComponent\n//baseSpecifiedComponent\n_.each([\"Get\", \"Remove\", \"Register\", \"Specified\"], function (type) {\n    baseProto['base' + type + 'Component'] = function (data) {\n        switch (type) {\n            case 'Register':\n                return this.components.register(data);\n            case 'Get':\n                return this.components.get();\n            case 'Specified':\n                return this.components.specified(data);\n            case 'Remove':\n                return this.components.remove();\n        }\n    };\n});\n\n//***************************************************************\n//\n//               运行辅助对象事件\n//\n//***************************************************************\nbaseProto.baseAssistRun = function (activityId, outCallBack, actionName) {\n    var activity;\n    if (activity = this.abActivitys) {\n        _.each(activity.get(), function (contentObj, index) {\n            if (activityId == contentObj.activityId) {\n                if (actionName == 'Run') {\n                    contentObj.runEffects(outCallBack, true);\n                }\n                if (actionName == 'Stop') {\n                    contentObj.stopEffects(outCallBack);\n                }\n            }\n        }, this);\n    }\n};\n\n//销毁页面对象\nbaseProto.baseDestroy = function () {\n\n    //清理图片缓存\n    //读库快速退出模式下报错修正\n    try {\n        this.element.hide().find('img').each(function (aaa, img) {\n            img.src = 'images/icons/clearmem.png';\n        });\n    } catch (e) {}\n\n    //清理线程任务块\n    var cacheTasks, key, tasks;\n    if (cacheTasks = this.createRelated.cacheTasks) {\n        for (key in cacheTasks) {\n            if (tasks = cacheTasks[key]) {\n                tasks.clearReference();\n            }\n        }\n    }\n\n    //浮动对象\n    var floatMaterContents = this.floatContents.Master;\n    //是否有浮动对象\n    var hasFloatMater = !_.isEmpty(floatMaterContents);\n\n    //清理content类型对象\n    var contents;\n    if (contents = this.abActivitys.get()) {\n        contents.forEach(function (contentObj) {\n            contentObj.destroy(function (destroyObj) {\n                //如果不是浮动对象,清理元素引用\n                if (!hasFloatMater || destroyObj && !floatMaterContents[destroyObj.id]) {\n                    destroyObj.$contentProcess = null;\n                }\n            });\n        });\n    }\n\n    //清除母版浮动容器\n    if (hasFloatMater && this.floatContents.MasterContainer) {\n        this.floatContents.MasterContainer.remove();\n    }\n\n    //清除浮动页面对象\n    if (this.floatContents.Page && this.floatContents.PageContainer) {\n        this.floatContents.PageContainer.remove();\n    }\n\n    //清理零件类型对象\n    var components;\n    if (components = this.baseGetComponent()) {\n        components.length && components.forEach(function (componentObj) {\n            componentObj.destroy && componentObj.destroy();\n        });\n    }\n\n    //多事件销毁\n    (0, _multievent.destroy)(this);\n\n    //销毁canvas相关\n    if (this.canvasRelated && this.canvasRelated.destroy) {\n        this.canvasRelated.destroy();\n    }\n\n    //伪li节点\n    if (this.pseudoElement) {\n        this.pseudoElement = null;\n    }\n\n    //移除li容器节点节点\n    this.element.remove();\n    this.root = null;\n    this.element = null;\n};\n\nexports.PageBase = PageBase;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3BhZ2ViYXNlLmpzPzUyOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQXVCQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7QUFHQSxTQUFTLFFBQVQsR0FBb0IsQ0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDdEIsSUFBSSxZQUFZLFNBQVMsU0FBekI7Ozs7Ozs7Ozs7OztBQWFBLFVBQVUsU0FBVixHQUFzQixVQUFTLE9BQVQsRUFBa0I7O0FBRXBDLFFBQUksT0FBTyxJQUFYOztBQUVBLE1BQUUsTUFBRixDQUFTLElBQVQsRUFBZSxPQUFmOzs7Ozs7QUFNQSxTQUFLLFNBQUwsR0FBaUIsRUFBakI7QUFDQSxTQUFLLFVBQUwsR0FBa0IsS0FBSyxVQUFMLENBQWdCLFFBQWxDO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLEtBQUssVUFBTCxDQUFnQixHQUFqQzs7Ozs7Ozs7O0FBU0EsU0FBSyxhQUFMLEdBQXFCLEtBQUssYUFBTCxHQUFxQixJQUFyQixHQUE0QixLQUFqRDs7O0FBR0EsUUFBSSxLQUFLLFFBQUwsS0FBa0IsUUFBdEIsRUFBZ0M7QUFDNUIsYUFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0g7Ozs7OztBQU1ELFNBQUssYUFBTCxHQUFxQiw0QkFBckI7Ozs7OztBQU1BLFFBQUksZ0JBQWdCLEtBQUssYUFBTCxHQUFxQjs7Ozs7QUFLckMsbUJBQVcsSUFMMEI7Ozs7OztBQVdyQyxvQkFBWSxDQVh5Qjs7Ozs7Ozs7QUFtQnJDLHVCQUFlLEtBbkJzQjs7Ozs7QUF3QnJDLHdCQUFnQixLQXhCcUI7Ozs7Ozs7OztBQWtDckMscUJBQWEsV0FsQ3dCOzs7Ozs7Ozs7QUEyQ3JDLG9CQUFZLFlBQVc7QUFDbkIsZ0JBQUksYUFBYSxFQUFqQjtBQUNBLGNBQUUsSUFBRixDQUFPLENBQUMsWUFBRCxFQUFlLFlBQWYsRUFBNkIsVUFBN0IsQ0FBUCxFQUFpRCxVQUFTLFFBQVQsRUFB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QUFHRCxRQUFJLEtBQUssYUFBVCxFQUF3QjtBQUNwQixhQUFLLGFBQUwsR0FBcUIsSUFBckI7QUFDSDs7O0FBR0QsU0FBSyxPQUFMLENBQWEsTUFBYjtBQUNBLFNBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxTQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0gsQ0EzRUQ7O1FBOEVTLFEsR0FBQSxRIiwiZmlsZSI6Ijc2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiAgICAgICAgICAgICAgICAg5p6E5bu66aG16Z2i5a+56LGhXHJcbiAqICAgICAgICAgICAgIOWunueOsOebruagh++8mlxyXG4gKiAgICAgICAgICAgICAgICDlv6vpgJ/nv7vpobVcclxuICogICAgICAgICAgICAgICAg5pyA5b+r5Lit5pat5Lu75YqhXHJcbiAqICAgICAgICAgICAgICAgIOaPkOmrmOS8mOWFiOe6p1xyXG4gKlxyXG4gKiAgICAgICAgICAgICAxIOaehOW7uuWbm+S4quWkp+S7u+WKoe+8jOavj+S4quWkp+S6uueJqemZhOWxnuS4gOWghuWwj+S7u+WKoVxyXG4gKiAgICAgICAgICAgICAyIOavj+asoeinpuWPkeS4gOS4quaWsOeahOS7u+WKoe+8jOmDveS8muWOu+ajgOa1i+aYr+WQpuWFgeiuuOWIm+W7uueahOadoeS7tlxyXG4gKlxyXG4gKiAgMjAxNC4xMS4xOFxyXG4gKiAg5paw5aKeY2FudmFu5qih5byPXHJcbiAqICAgIGNvbnRlbnRNb2RlIOWIhuS4uiAgMCDmiJbogIUgMVxyXG4gKiAgICAwIOaYr2RvbeaooeW8j1xyXG4gKiAgICAxIOaYr2NhbnZhc+aooeW8j1xyXG4gKiAgICDku6XlkI7lpoLmnpzlhbbkvZnnmoTlnKjlop7liqBcclxuICogICAg6ZKI5a+56aG16Z2iY2hhcHRlcuS4reeahHBhcmFtZXRlcuWGmeWFpSBjb250ZW50TW9kZSAgIOWAvOS4uiAxXHJcbiAqICAgIOWmguaenOaYr2NhbnZhc+aooeW8j+eahOaXtuWAme+8jOWQjOaXtuS5n+aYr+iDveWkn+WtmOWcqGRvbeaooeW8j+aYr1xyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vY29sbGVjdGlvbidcclxuaW1wb3J0IHsgY3JlYXRlVHJhbnNmb3JtIH0gZnJvbSAnLi90cmFuc2xhdGlvbidcclxuaW1wb3J0IHsgY3JlYXRlIGFzIF9jcmVhdGUsIGRlc3Ryb3kgYXMgX2Rlc3Ryb3kgfSBmcm9tICcuL211bHRpZXZlbnQnXHJcbi8v5YiG6YWN5Lu75YqhXHJcbmltcG9ydCB7IGFzc2lnbmVkVGFza3MgfSBmcm9tICcuL3RocmVhZHRhc2snXHJcbi8vY2FudmFz55u45YWzXHJcbmltcG9ydCB7IEZhY3RvcnkgYXMgQ2FudmFzUmVsYXRlZCB9IGZyb20gJy4vY2FudmFzcmVsYXRlZCdcclxuXHJcblxyXG5mdW5jdGlvbiBQYWdlQmFzZSgpIHt9O1xyXG52YXIgYmFzZVByb3RvID0gUGFnZUJhc2UucHJvdG90eXBlXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICAgICDlpJrnur/nqIvliJvlu7rnrqHnkIZcclxuICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMluWkmue6v+eoi+S7u+WKoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmJhc2VQcm90by5pbml0VGFza3MgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIF8uZXh0ZW5kKHNlbGYsIG9wdGlvbnMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pWw5o2u57yT5a2Y5a655ZmoXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB0aGlzLmRhdGFDYWNoZSA9IHt9O1xyXG4gICAgdGhpcy5zY2VuYXJpb0lkID0gdGhpcy5jaGFwdGVyRGFzLnNlYXNvbklkO1xyXG4gICAgdGhpcy5jaGFwdGVySWQgPSB0aGlzLmNoYXB0ZXJEYXMuX2lkXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblvIDlkK/lpJrnur/nqIss6buY6K6k5byA5ZCvXHJcbiAgICAgKiDlpoLmnpzmmK/pnZ7nur/mgKfvvIzliJnlhbPpl63lpJrnur/nqIvliJvlu7pcclxuICAgICAqIOWQr+WKqCB0cnVlXHJcbiAgICAgKiDlhbPpl60gZmFsc2VcclxuICAgICAqIEB0eXBlIHtbdHlwZV19XHJcbiAgICAgKi9cclxuICAgIHRoaXMuaXNNdWx0aXRocmVhZCA9IHRoaXMubXVsdGlwbGVQYWdlcyA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAvL+avjeeJiOWkhOeQhlxyXG4gICAgaWYgKHNlbGYucGFnZVR5cGUgPT09ICdtYXN0ZXInKSB7XHJcbiAgICAgICAgdGhpcy5pc01hc3RlciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYW52YXPmqKHlvI9cclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLmNhbnZhc1JlbGF0ZWQgPSBuZXcgQ2FudmFzUmVsYXRlZCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu655u45YWz55qE5L+h5oGvXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY3JlYXRlUmVsYXRlZCA9IHRoaXMuY3JlYXRlUmVsYXRlZCA9IHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Li757q/5Lu75Yqh562J5b6FXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGFza3NIYW5nOiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDliJvlu7rnm7jlhbPnmoTkv6Hmga9cclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRhc2tzVGltZXI6IDAsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOW9k+WJjeS7u+WKoeaYr+WQpuS4reaWrVxyXG4gICAgICAgICAqIHJldHVyblxyXG4gICAgICAgICAqICAgICB0cnVlICDkuK3mlq1cclxuICAgICAgICAgKiAgICAgZmFsc2Ug5rKh5pyJ5Lit5patXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaXNUYXNrU3VzcGVuZDogZmFsc2UsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaYr+WQpumihOWIm+W7uuiDjOaZr+S4rVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByZUNyZWF0ZVRhc2tzOiBmYWxzZSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOS4i+S4gOS4quWwhuimgei/kOihjOeahOS7u+WKoeagh+ekulxyXG4gICAgICAgICAqIDEg5Li75a655Zmo5Lu75YqhXHJcbiAgICAgICAgICogMiDog4zmma/ku7vliqFcclxuICAgICAgICAgKiAzIHdpZGdldOeDreeCueS7u+WKoVxyXG4gICAgICAgICAqIDQgY29udGVudOWvueixoeS7u+WKoVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG5leHRSdW5UYXNrOiAnY29udGFpbmVyJyxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog57yT5a2Y5p6E5bu65Lit5pat5Zue6LCDXHJcbiAgICAgICAgICog5p6E5bu65YiGMuatpemqpFxyXG4gICAgICAgICAqIDEg5p6E5bu65pWw5o2u5LiO57uT5p6E77yI5omn6KGM5Lit5pat5aSE55CG77yJXHJcbiAgICAgICAgICogMiDmnoTlu7rnu5jliLbpobXpnaJcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNhY2hlVGFza3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVUYXNrcyA9IHt9O1xyXG4gICAgICAgICAgICBfLmVhY2goW1wiYmFja2dyb3VuZFwiLCBcImNvbXBvbmVudHNcIiwgXCJjb250ZW50c1wiXSwgZnVuY3Rpb24odGFza05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlVGFza3NbdGFza05hbWVdID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVRhc2tzO1xyXG4gICAgICAgIH0oKSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5LiO5Yib5bu655u45YWz55qE5L+h5oGvXHJcbiAgICAgICAgICog5Yib5bu65Z2Q5qCHXHJcbiAgICAgICAgICogMSDliJvlu7psaeS9jee9rlxyXG4gICAgICAgICAqIDIg5Yib5bu65rWu5Yqo5a+56LGhXHJcbiAgICAgICAgICogXCJ0cmFuc2xhdGUzZCgwcHgsIDAsIDApXCIsIFwib3JpZ2luYWxcIlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluaXRUcmFuc2Zvcm1QYXJhbWV0ZXI6IGNyZWF0ZVRyYW5zZm9ybSh0aGlzLnZpc2libGVQaWQsIHRoaXMucGlkKSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6aKE5Yib5bu6XHJcbiAgICAgICAgICog5p6E5bu66aG16Z2i5Li75a655Zmo5a6M5q+V5ZCOLOatpOaXtuWPr+S7pee/u+mhtVxyXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByZWZvcmtDb21wbGV0ZTogZnVuY3Rpb24oKSB7fSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5pW05Liq6aG16Z2i6YO95p6E5bu65a6M5q+V6YCa55+lXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY3JlYXRlVGFza3NDb21wbGV0ZTogZnVuY3Rpb24oKSB7fVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PeWGhemDqOmSqeWtkOebuOWFsz09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy9cclxuICAgIC8vICog55uR5ZCs54q25oCB55qE6ZKp5a2QXHJcbiAgICAvLyAqIOazqOWGjOaJgOaciWNvbnRlbnTlr7nosaHnrqHnkIZcclxuICAgIC8vICog5pS26ZuG5omA5pyJY29udGVudOWvueixoVxyXG4gICAgLy8gKiDmnoTlu7psaeS4u+e7k+aehOWQjizljbPlj6/nv7vpobVcclxuICAgIC8vICog5p6E5bu65omA5pyJ5a+56LGh5a6M5q+V5ZCO5aSE55CGXHJcbiAgICAvL1xyXG5cclxuICAgIC8v5oq96LGhYWN0aXZ0aXlz5ZCI6ZuGLOeUqOS6juWFs+iBlOWQhOiHqueahGNvbnRlbnRcclxuICAgIC8v5YiS5YiG5ZCE6Ieq55qE5a2Q5L2c55So5Z+fXHJcbiAgICAvLzHlr7nlpJrnmoTlhbPns7tcclxuICAgIHRoaXMuYWJBY3Rpdml0eXMgPSBuZXcgQ29sbGVjdGlvbigpO1xyXG5cclxuICAgIC8vd2lkZ2V054Ot54K55aSE55CG57G7XHJcbiAgICAvLzEgaWZyYW1l6Zu25Lu2XHJcbiAgICAvLzIg6aG16Z2i6Zu25Lu2XHJcbiAgICAvL+WPquWtmOWcqOW9k+WJjemhtemdolxyXG4gICAgdGhpcy5jb21wb25lbnRzID0gbmV3IENvbGxlY3Rpb24oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe8k+WtmOaJgOacieeahGNvbnRlbnTlr7nosaHlvJXnlKhcclxuICAgICAqIDHlr7kx55qE5YWz57O7XHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB0aGlzLmNvbnRlbnRzQ29sbGVjdG9yID0ge307XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5rWu5Yqo5a+56LGhXHJcbiAgICAgKiAxIOavjeeJiOS4rVxyXG4gICAgICogMiDpobXpnaLkuK1cclxuICAgICAqIOmhtemdouS4reaYr+acgOmrmOeahFxyXG4gICAgICogW2Zsb2F0Q29udGVudHMgZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgZmxvYXRDb250ZW50cyA9IHRoaXMuZmxvYXRDb250ZW50cyA9IHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6aG16Z2i5rWu5Yqo5a+56LGh5a655ZmoXHJcbiAgICAgICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBQYWdlQ29udGFpbmVyOiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDmta7liqjpobXpnaLlr7nosaFcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFBhZ2U6IHt9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDmta7liqjmr43niYjlrrnlmahcclxuICAgICAgICAgKi9cclxuICAgICAgICBNYXN0ZXJDb250YWluZXI6IG51bGwsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOa1ruWKqOavjeeJiOeahGNvbnRlbnTlr7nosaFcclxuICAgICAgICAgKiDnlKjkuo7ovrnnlYzliIfmjaIs6Ieq5Yqo5Yqg5LiK56e75YqoXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKiAgICAgMe+8mk9iamVjdCB7fSAgICAgIC8v56m65a+56LGhLOmbtuS7tlxyXG4gICAgICAgICAqICAgICAyOiBQUFRlZmZlY3QgIHt9ICAvL+ihjOS4uuWvueixoVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE1hc3Rlcjoge31cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7nosaHnmoTlpITnkIbmg4XlhrXnmoTlhoXpg6jpkqnlrZDmlrnms5VcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHRoaXMubGlzdGVuZXJIb29rcyA9IHtcclxuXHJcbiAgICAgICAgLy/ms6jlhozmir3osaFBY3Rpdml0eeexu2NvbnRlbnQo5aSn57G7LOaAu2NvbnRlbnTlr7nosaEpXHJcbiAgICAgICAgcmVnaXN0ZXJBYnN0cmFjdEFjdGl2aXR5OiBmdW5jdGlvbihjb250ZW50c09ianMpIHtcclxuICAgICAgICAgICAgc2VsZi5hYkFjdGl2aXR5cy5yZWdpc3Rlcihjb250ZW50c09ianMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v5pS26ZuG5ZmoXHJcbiAgICAgICAgY29sbGVjdG9yOiB7XHJcbiAgICAgICAgICAgIC8v5pCc6ZuG5omA5pyJ55qEY29udGVudCjmr4/kuIDkuKpjb250ZW505a+56LGhKVxyXG4gICAgICAgICAgICAvL+WboOS4umNvbnRlbnTlpJrpobXpnaLlhbHkuqvnmoQs5omA5LulY29udGVudOeahOWQiOmbhumcgOimgeS/neWtmOWcqHBhZ2VNZ3LkuK3vvIjnibnmrorlpITnkIbvvIlcclxuICAgICAgICAgICAgY29udGVudHM6IGZ1bmN0aW9uKHBpZCwgaWQsIGNvbnRlbnRTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlID0gc2VsZi5iYXNlR2V0Q29udGVudE9iamVjdFtpZF07XHJcbiAgICAgICAgICAgICAgICAvL+eJueauiuWkhOeQhizlpoLmnpzms6jlhozkuobkuovku7ZJRCzkuIrpnaLov5jmnInliqjnlLss6ZyA6KaB6KaG55uWXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUgJiYgc2NvcGUuaXNCaW5kRXZlbnRIb29rcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udGVudHNDb2xsZWN0b3JbaWRdID0gY29udGVudFNjb3BlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udGVudHNDb2xsZWN0b3JbaWRdID0gY29udGVudFNjb3BlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLy8yMDE0LjExLjdcclxuICAgICAgICAgICAgLy/mlrDmpoLlv7XvvIzmta7liqjpobXpnaLlr7nosaFcclxuICAgICAgICAgICAgLy/nlKjkuo7mmK/mnIDpobblsYLnmoTvvIzmr5Tmr43niYjmta7liqjlr7nosaHov5jopoHpq5hcclxuICAgICAgICAgICAgLy/miYDku6Xov5nkuKrmta7liqjlr7nosaHpnIDopoHot5/pmo/pobXpnaLliqhcclxuICAgICAgICAgICAgZmxvYXRQYWdlczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRPYmpcclxuICAgICAgICAgICAgICAgIC8v5rWu5Yqo6aG16Z2i5a+56LGh5a655ZmoXHJcbiAgICAgICAgICAgICAgICBmbG9hdENvbnRlbnRzLlBhZ2VDb250YWluZXIgPSBkYXRhLmNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChkYXRhLmlkcywgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudE9iaiA9IHNlbGYuYmFzZUdldENvbnRlbnRPYmplY3QoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yid5aeL6KeG5a+f5Z2Q5qCHXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50T2JqLnBhcmFsbGF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50T2JqLnBhcmFsbGF4T2Zmc2V0ID0gY29udGVudE9iai5wYXJhbGxheC5wYXJhbGxheE9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdENvbnRlbnRzLlBhZ2VbaWRdID0gY29udGVudE9ialxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpobXpnaLmta7liqjlr7nosaHmib7kuI3liLAnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvL+a1ruWKqOavjeeJiOWvueixoVxyXG4gICAgICAgICAgICAvLzEg5rWu5Yqo55qE5a+56LGh5piv5pyJ5Yqo55S75pWw5o2u5oiW6ICF6KeG6KeJ5beu5pWw5o2uXHJcbiAgICAgICAgICAgIC8vMiDmta7liqjnmoTlr7nosaHmmK/nlKjkuo7pm7bku7bnsbvlnoss6L+Z6L655Y+q5o+Q5L6b5Yib5bu6XHJcbiAgICAgICAgICAgIC8vICDmiYDku6XpnIDopoHliLbpgKDkuIDkuKrnqbrnmoTlrrnlmajvvIznlKjkuo7mr43niYjkuqTnlYzliqhcclxuICAgICAgICAgICAgZmxvYXRNYXRlcnM6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmVmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudE9iaixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50UHJvY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50c0ZyYWdtZW50O1xyXG4gICAgICAgICAgICAgICAgLy/mta7liqjlrrnlmahcclxuICAgICAgICAgICAgICAgIGZsb2F0Q29udGVudHMuTWFzdGVyQ29udGFpbmVyID0gZGF0YS5jb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAvL+a1ruWKqOWvueixoVxyXG4gICAgICAgICAgICAgICAgXy5lYWNoKGRhdGEuaWRzLCBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v6L2s5YyW5oiQ5a6e6ZmF5pON5L2c55qE5rWu5Yqo5a+56LGhLOS/neWtmFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50T2JqID0gc2VsZi5iYXNlR2V0Q29udGVudE9iamVjdChpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/liJ3lp4vop4blr5/lnZDmoIdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRPYmoucGFyYWxsYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRPYmoucGFyYWxsYXhPZmZzZXQgPSBjb250ZW50T2JqLnBhcmFsbGF4LnBhcmFsbGF4T2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0Q29udGVudHMuTWFzdGVyW2lkXSA9IGNvbnRlbnRPYmpcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBYdXQucGxhdC5pc0Jyb3dzZXIgJiYgY29uc29sZS5sb2coJ+a1ruWKqOavjeeJiOWvueixoeaVsOaNruS4jeWtmOWcqOWOn+Wni+WvueixoSzliLbkvZzkvKrlr7nosaHmr43niYjnp7vliqgnLCBpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6I635Y+WRE9N6IqC54K5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50c0ZyYWdtZW50ID0gc2VsZi5jcmVhdGVSZWxhdGVkLmNhY2hlVGFza3MuY29udGVudHMuY29udGVudHNGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gJ0NvbnRlbnRfJyArIHNlbGYucGlkICsgXCJfXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goY29udGVudHNGcmFnbWVudCwgZnVuY3Rpb24oZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1ha2VQcmVmaXggPSBwcmVmaXggKyBpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tLmlkID09IG1ha2VQcmVmaXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFByb2Nlc3MgPSBkb207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WItuS9nOS4gOS4quS8quaVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+S9nOS4uumbtuS7tuexu+Wei+eahOepumNvbnRlbnTlpITnkIZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRDb250ZW50cy5NYXN0ZXJbaWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlkOiBzZWxmLnBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb250ZW50UHJvY2VzczogJChjb250ZW50UHJvY2VzcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1wdHknOiB0cnVlIC8v56m657G75Z6LXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/lpJrkuovku7bpkqnlrZBcclxuICAgICAgICAvL+aJp+ihjOWkmuS6i+S7tue7keWumlxyXG4gICAgICAgIGV2ZW50QmluZGluZzogZnVuY3Rpb24oZXZlbnRSZWxhdGVkKSB7XHJcbiAgICAgICAgICAgIF9jcmVhdGUoc2VsZiwgZXZlbnRSZWxhdGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruS4i+S4gOS4quagh+iusFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXROZXh0UnVuVGFzayh0YXNrTmFtZSkge1xyXG4gICAgICAgIGNyZWF0ZVJlbGF0ZWQubmV4dFJ1blRhc2sgPSB0YXNrTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxsQ29udGV4dCh0YXNrTmFtZSwgZm4pIHtcclxuICAgICAgICByZXR1cm4gYXNzaWduZWRUYXNrc1t0YXNrTmFtZV0oZm4sIHNlbGYpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDku7vliqHpkqnlrZBcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHNlbGYudGFza3MgPSB7XHJcbiAgICAgICAgY29udGFpbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2FsbENvbnRleHQoJ0NvbnRhaW5lcicsIGZ1bmN0aW9uKGVsZW1lbnQsIHBzZXVkb0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAvL2xpLGxpLWRpdiAvL1xyXG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBzZXVkb0VsZW1lbnQgPSBwc2V1ZG9FbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgLy/ojrflj5bmoLnoioLngrlcclxuICAgICAgICAgICAgICAgIHNlbGYuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwc2V1ZG9FbGVtZW50ID8gcHNldWRvRWxlbWVudCA6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZXROZXh0UnVuVGFzaygnYmFja2dyb3VuZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLy/mnoTlu7rkuLvlrrnlmahsaeWujOavlSzlj6/ku6Xmj5DliY3miafooYznv7vpobXliqjkvZxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZVJlbGF0ZWQucHJlZm9ya0NvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAvL+inhuinieW3ruS4jeeuoVxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNNYXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5leHRUYXNrcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YXNrTmFtZSc6ICflpJbpg6hiYWNrZ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ291dE5leHRUYXNrcyc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwYXRjaFRhc2tzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tncm91bmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV4dFJ1biA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVsYXRlZC5wcmVDcmVhdGVUYXNrcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2V0TmV4dFJ1blRhc2soJ2NvbXBvbmVudHMnKVxyXG4gICAgICAgICAgICAgICAgICAgIC8v6ZKI5a+55b2T5YmN6aG16Z2i55qE5qOA5rWLXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZVJlbGF0ZWQudGFza3NIYW5nIHx8IHNlbGYuaXNNYXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5leHRUYXNrcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YXNrTmFtZSc6ICflpJbpg6h3aWRnZXRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0TmV4dFRhc2tzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hUYXNrcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzmnInmjILotbfku7vliqHvvIzliJnnu6fnu63miafooYxcclxuICAgICAgICAgICAgICAgIGlmIChjcmVhdGVSZWxhdGVkLnRhc2tzSGFuZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlbGF0ZWQudGFza3NIYW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhbGxDb250ZXh0KCdCYWNrZ3JvdW5kJywgbmV4dFJ1bilcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBvbmVudHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL+aehOS7tumbtuS7tuexu+Wei+S7u+WKoVxyXG4gICAgICAgICAgICBjYWxsQ29udGV4dCgnQ29tcG9uZW50cycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV4dFJ1blRhc2soJ2NvbnRlbnRzJylcclxuICAgICAgICAgICAgICAgIHNlbGYubmV4dFRhc2tzKHtcclxuICAgICAgICAgICAgICAgICAgICAndGFza05hbWUnOiAn5aSW6YOoY29udGVudHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIG91dE5leHRUYXNrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hUYXNrcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVudHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjYWxsQ29udGV4dCgnQ29udGV0bnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNldE5leHRSdW5UYXNrKCdjb21wbGV0ZScpXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVSZWxhdGVkLmNyZWF0ZVRhc2tzQ29tcGxldGUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgIOWvueWkluaOpeWPo1xyXG4gKlxyXG4gKiAgICAgICAgICAgICAgIDEg5byA5aeL6LCD55So5Lu75YqhXHJcbiAqICAgICAgICAgICAgICAgMiDosIPnlKjoh6rliqjov5DooYzku7vliqFcclxuICogICAgICAgICAgICAgICAzIOiuvue9ruS4reaWrVxyXG4gKiAgICAgICAgICAgICAgIDQg5Y+W5raI5Lit5pat6K6+572uXHJcbiAqXHJcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIOW8gOWni+iwg+eUqOS7u+WKoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmJhc2VQcm90by5zdGFydFRocmVhZFRhc2sgPSBmdW5jdGlvbihmbGlwT3ZlciwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAvL+WItuS9nOWbnuiwg1xyXG4gICAgLy/lpoLmnpzmmK/lv6vpgJ/nv7vpobUs56uL5Yi76LCD55SoXHJcbiAgICB0aGlzLmNyZWF0ZVJlbGF0ZWQucHJlZm9ya0NvbXBsZXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy/mu5HliqjlhYHorrjmiZPmlq3liJvlu7pcclxuICAgICAgICAgICAgZmxpcE92ZXIgPyBjYWxsYmFjaygpIDpcclxuICAgICAgICAgICAgICAgIC8v5omA5pyJ57un57ut5YiG6Kej5Lu75YqhXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNoZWNrVGFza3NDcmVhdGUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSh0aGlzKTtcclxuXHJcbiAgICAvL+e7p+e7reaehOW7uuS7u+WKoVxyXG4gICAgdGhpcy5kaXNwYXRjaFRhc2tzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmo4DmtYvku7vliqHmmK/lkKblrozmiJBcclxuICogYWN0VGFza3NDYWxsYmFjayDmtLvliqjku7vliqHlrozmiJBcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5iYXNlUHJvdG8uY2hlY2tUaHJlYWRUYXNrID0gZnVuY3Rpb24oYWN0VGFza3NDYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5pc0F1dG9SdW4gPSB0cnVlO1xyXG4gICAgdGhpcy5jaGVja1Rhc2tzQ3JlYXRlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaXNBdXRvUnVuID0gZmFsc2U7XHJcbiAgICAgICAgYWN0VGFza3NDYWxsYmFjaygpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOWQjuWPsOmihOWIm+W7uuS7u+WKoVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHRhc2tzVGltZXIgW+aXtumXtOmXtOmalF1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmJhc2VQcm90by5jcmVhdGVQcmVmb3JrVGFza3MgPSBmdW5jdGlvbihjYWxsYmFjaywgaXNQcmVDcmVhdGUpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vMuS4qumihOWIm+W7uumXtOmalOWkquefrVxyXG4gICAgLy/og4zmma/pooTliJvlu7rov5jlnKjov5vooYzkuK3vvIzlhYjmjILotbfmnaXnrYnlvoVcclxuICAgIGlmICh0aGlzLmNyZWF0ZVJlbGF0ZWQucHJlQ3JlYXRlVGFza3MpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVJlbGF0ZWQudGFza3NIYW5nID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jaGVja1Rhc2tzQ3JlYXRlKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0oY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe/u+mhteWujOavleWQjlxyXG4gICAgICog6aKE5Yib5bu66IOM5pmvXHJcbiAgICAgKi9cclxuICAgIGlmIChpc1ByZUNyZWF0ZSkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUmVsYXRlZC5wcmVDcmVhdGVUYXNrcyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGVja1Rhc2tzQ3JlYXRlKGNhbGxiYWNrKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiHquWKqOi/kOihjO+8muajgOa1i+aYr+WQpumcgOimgeW8gOWni+WIm+W7uuS7u+WKoVxyXG4gKiAxIOWmguaenOS7u+WKoeWFqOmDqOWujOaIkOS6huavlVxyXG4gKiAyIOWmguaenOacieS4reaWreS7u+WKoSzlsLHpnIDopoHnu6fnu63liJvlu7rmnKrlrozmiJDnmoTku7vliqFcclxuICogMyDlpoLmnpzku7vliqHmnKrkuK3mlq0s6L+Y5Zyo57un57ut5Yib5bu6XHJcbiAqIGN1cnJ0YXNrIOaYr+WQpuS4uuW9k+WJjeS7u+WKoe+8jOWKoOmAn+WIm+W7ulxyXG4gKi9cclxuYmFzZVByb3RvLmNoZWNrVGFza3NDcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xyXG5cclxuICAgIC8v5aaC5p6c5Lu75Yqh5YWo6YOo5a6M5oiQXHJcbiAgICBpZiAodGhpcy5jcmVhdGVSZWxhdGVkLm5leHRSdW5UYXNrID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoY29udGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8v5byA5aeL5p6E5pyq5a6M5oiQ55qE5Lu75YqhXHJcbiAgICB0aGlzLmNhbmNlbFRhc2tTdXNwZW5kKCk7XHJcblxyXG4gICAgLy/lrozmr5Xlm57osINcclxuICAgIHRoaXMuY3JlYXRlUmVsYXRlZC5jcmVhdGVUYXNrc0NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0KVxyXG4gICAgfTtcclxuXHJcbiAgICAvL+a0vuWPkeS7u+WKoVxyXG4gICAgdGhpcy5uZXh0VGFza3Moe1xyXG4gICAgICAgIG91dE5leHRUYXNrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hUYXNrcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog6K6+572u5Lu75Yqh5Lit5patXHJcbiAqL1xyXG5iYXNlUHJvdG8uc2V0VGFza1N1c3BlbmQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuaXNBdXRvUnVuID0gZmFsc2U7XHJcbiAgICB0aGlzLmNhbnZhc1JlbGF0ZWQuaXNUYXNrU3VzcGVuZCA9IHRydWU7XHJcbiAgICB0aGlzLmNyZWF0ZVJlbGF0ZWQucHJlQ3JlYXRlVGFza3MgPSBmYWxzZTtcclxuICAgIHRoaXMuY3JlYXRlUmVsYXRlZC50YXNrc0hhbmcgPSBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICog5Y+W5raI5Lu75Yqh5Lit5patXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYmFzZVByb3RvLmNhbmNlbFRhc2tTdXNwZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNhbnZhc1JlbGF0ZWQuaXNUYXNrU3VzcGVuZCA9IGZhbHNlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmo4DmtYvku7vliqHmmK/lkKbpnIDopoHkuK3mlq1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5iYXNlUHJvdG8uY2hlY2tUYXNrU3VzcGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FudmFzUmVsYXRlZC5pc1Rhc2tTdXNwZW5kO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWkmue6v+eoi+ajgOa1i1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmJhc2VQcm90by5tdWx0aXRocmVhZENoZWNrID0gZnVuY3Rpb24oY2FsbGJhY2tzLCBpbnRlcnJ1cHQpIHtcclxuICAgIC8v5aSa57q/56iL5qOA5rWLXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuY2hlY2tUYXNrU3VzcGVuZCgpKSB7XHJcbiAgICAgICAgICAgIHNlbGYudGFza3NUaW1lT3V0SWQgJiYgY2xlYXJUaW1lb3V0KHNlbGYudGFza3NUaW1lT3V0SWQpXHJcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zdXNwZW5kQ2FsbGJhY2suY2FsbChzZWxmKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MubmV4dFRhc2tDYWxsYmFjay5jYWxsKHNlbGYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgICAgIHNlbGYudGFza3NUaW1lT3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjaGVjaygpO1xyXG4gICAgICAgIH0sIHNlbGYuY2FudmFzUmVsYXRlZC50YXNrc1RpbWVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iHquWKqOi/kOihjOmhtemdouaehOW7ulxyXG4gICAgaWYgKHNlbGYuaXNBdXRvUnVuKSB7XHJcbiAgICAgICAgLy/oh6rliqjov5DooYxjb250ZW505Lit5pat5qOA5rWLIOaJk+aWreS4gOasoVxyXG4gICAgICAgIGlmIChpbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+WQjuWPsOaehOW7ulxyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOS7u+WKoemYn+WIl+aMgui1t1xyXG4gKiBuZXh0VGFza0NhbGxiYWNrIOaIkOWKn+Wbnuiwg1xyXG4gKiBzdXNwZW5kQ2FsbGJhY2sgIOS4reaWreWbnuiwg1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmJhc2VQcm90by5hc3lUYXNrcyA9IGZ1bmN0aW9uKGNhbGxiYWNrcywgaW50ZXJydXB0KSB7XHJcblxyXG4gICAgLy/lpoLmnpzlhbPpl63lpJrnur/nqIss5LiN5qOA5rWL5Lu75Yqh6LCD5bqmXHJcbiAgICBpZiAoIXRoaXMuaXNNdWx0aXRocmVhZCkge1xyXG4gICAgICAgIHJldHVybiBjYWxsYmFja3MubmV4dFRhc2tDYWxsYmFjay5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5aSa57q/56iL5qOA5rWLXHJcbiAgICB0aGlzLm11bHRpdGhyZWFkQ2hlY2soY2FsbGJhY2tzLCBpbnRlcnJ1cHQpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlvIDlp4vmiafooYzkuIvkuIDkuKrnur/nqIvku7vliqEs5qOA5rWL5piv5ZCm5Lit5patXHJcbiAqIG91dFN1c3BlbmRUYXNrcyxcclxuICogb3V0TmV4dFRhc2tzXHJcbiAqIHRhc2tOYW1lXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYmFzZVByb3RvLm5leHRUYXNrcyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgb3V0U3VzcGVuZFRhc2tzLFxyXG4gICAgICAgIG91dE5leHRUYXNrcyxcclxuICAgICAgICB0YXNrTmFtZTtcclxuXHJcbiAgICB0aGlzLmFzeVRhc2tzKHtcclxuICAgICAgICBzdXNwZW5kQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQEBAQEBAQEBAQOS4reaWreWIm+W7uuS7u+WKoSAnICsgY2FsbGJhY2sudGFza05hbWUgKyAnIEBAQEBAQEBAQEBAJywgdGhpcy5waWQgKyAxLCB0aGlzLmVsZW1lbnQpXHJcbiAgICAgICAgICAgIGlmIChvdXRTdXNwZW5kVGFza3MgPSBjYWxsYmFjay5vdXRTdXNwZW5kVGFza3MpIHtcclxuICAgICAgICAgICAgICAgIG91dFN1c3BlbmRUYXNrcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0VGFza0NhbGxiYWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG91dE5leHRUYXNrcyA9IGNhbGxiYWNrLm91dE5leHRUYXNrcykge1xyXG4gICAgICAgICAgICAgICAgb3V0TmV4dFRhc2tzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBjYWxsYmFjay5pbnRlcnJ1cHQpXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Lu75Yqh6LCD5bqmXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYmFzZVByb3RvLmRpc3BhdGNoVGFza3MgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0YXNrcztcclxuICAgIGlmICh0YXNrcyA9IHRoaXMudGFza3NbdGhpcy5jcmVhdGVSZWxhdGVkLm5leHRSdW5UYXNrXSkge1xyXG4gICAgICAgIHRhc2tzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT095p6E5bu65qih5Z2X5Lu75Yqh5a+56LGhPT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vLyAgdGFza0NhbGxiYWNrIOavj+S4quaooeWdl+S7u+WKoeWujOavleWQjueahOWbnuiwg1xyXG4vLyAg55So5LqO57un57ut5b6A5LiL5Liq5Lu75Yqh5p6E5bu6XHJcbi8vXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICog5a+56LGh5a6e5L6L5YaF6YOo5p6E5bu6XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuYmFzZVByb3RvLmNoZWNrSW5zdGFuY2VUYXNrcyA9IGZ1bmN0aW9uKHRhc2tOYW1lKSB7XHJcbiAgICB2YXIgdGFza3NPYmo7XHJcbiAgICBpZiAodGFza3NPYmogPSB0aGlzLmNyZWF0ZVJlbGF0ZWQuY2FjaGVUYXNrc1t0YXNrTmFtZV0pIHtcclxuICAgICAgICB0YXNrc09iai5ydW5TdXNwZW5kVGFza3MoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v6I635Y+W6aG16Z2i5pWw5o2uXHJcbmJhc2VQcm90by5iYXNlRGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YUNhY2hlW3RoaXMucGFnZVR5cGVdO1xyXG59XHJcblxyXG4vL+iOt+WPlueDreeCueaVsOaNruS/oeaBr1xyXG5iYXNlUHJvdG8uYmFzZUFjdGl2aXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhQ2FjaGVbJ2FjdGl2aXR5cyddO1xyXG59XHJcblxyXG4vL+iOt+WPluiHquWKqOi/kOihjOaVsOaNrlxyXG5iYXNlUHJvdG8uYmFzZUF1dG9SdW4gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBhdXRvUnVuRGFzID0gdGhpcy5kYXRhQ2FjaGVbJ2F1dG9SdW5EYXMnXTtcclxuICAgIHJldHVybiBhdXRvUnVuRGFzICYmIGF1dG9SdW5EYXM7XHJcbn1cclxuXHJcbi8v6I635Y+WY2hhcHRlcmlkXHJcbmJhc2VQcm90by5iYXNlR2V0UGFnZUlkID0gZnVuY3Rpb24ocGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5iYXNlRGF0YShwaWQpWydfaWQnXTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmib7liLDlr7nosaHnmoRjb250ZW505a+56LGhXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gICBjb250ZW50SWQgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5iYXNlUHJvdG8uYmFzZUdldENvbnRlbnRPYmplY3QgPSBmdW5jdGlvbihjb250ZW50SWQpIHtcclxuICAgIHZhciBjb250ZW50c09iajtcclxuICAgIGlmIChjb250ZW50c09iaiA9IHRoaXMuY29udGVudHNDb2xsZWN0b3JbY29udGVudElkXSkge1xyXG4gICAgICAgIHJldHVybiBjb250ZW50c09iajtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy/mn6Xmib7mta7liqjmr43niYhcclxuICAgICAgICByZXR1cm4gdGhpcy5mbG9hdENvbnRlbnRzLk1hc3Rlcltjb250ZW50SWRdO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFh1dC5Db250ZW50LnNob3cvaGlkZSDpkojlr7nkupLmlqXmlYjmnpzlop7liqDmjqXlj6NcclxuICog5omp5YWF77yM5pi+56S677yM6ZqQ6JeP77yM5Yqo55S75o6n5Yi25o6l5Y+jXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gbmFtZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5iYXNlUHJvdG8uYmFzZUNvbnRlbnRNdXRleCA9IGZ1bmN0aW9uKGNvbnRlbnRJZCwgdHlwZSkge1xyXG4gICAgdmFyIGNvbnRlbnRPYmosXHJcbiAgICAgICAgYmFzZSA9IHRoaXM7XHJcbiAgICBpZiAoY29udGVudE9iaiA9IGJhc2UuYmFzZUdldENvbnRlbnRPYmplY3QoY29udGVudElkKSkge1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0gY29udGVudE9iai4kY29udGVudFByb2Nlc3M7XHJcbiAgICAgICAgdmFyIGhhbmRsZSA9IHtcclxuICAgICAgICAgICAgJ1Nob3cnOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50T2JqLnR5cGUgPT09ICdkb20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdibGNvaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSkucHJvcChcIm11dGV4XCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jYW52YXNSZWxhdGVkLm9uZVJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdIaWRlJzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudE9iai50eXBlID09PSAnZG9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbidcclxuICAgICAgICAgICAgICAgICAgICB9KS5wcm9wKFwibXV0ZXhcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoaWRlJylcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLmNhbnZhc1JlbGF0ZWQub25lUmVuZGVyKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ1N0b3BBbmltJzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50T2JqLnN0b3BBbmltcyAmJiBjb250ZW50T2JqLnN0b3BBbmltcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhbmRsZVt0eXBlXSgpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL2NvbnRlbnTmjqXlj6NcclxuXy5lYWNoKFtcclxuICAgIFwiR2V0XCIsXHJcbiAgICBcIlNwZWNpZmllZFwiXHJcbl0sIGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGJhc2VQcm90b1snYmFzZScgKyB0eXBlICsgJ0NvbnRlbnQnXSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnR2V0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFiQWN0aXZpdHlzLmdldCgpO1xyXG4gICAgICAgICAgICBjYXNlICdTcGVjaWZpZWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWJBY3Rpdml0eXMuc3BlY2lmaWVkKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSlcclxuXHJcbi8vY29tcG9uZW50c+mbtuS7tuexu+Wei+WkhOeQhlxyXG4vL2Jhc2VHZXRDb21wb25lbnRcclxuLy9iYXNlUmVtb3ZlQ29tcG9uZW50XHJcbi8vYmFzZVJlZ2lzdGVyQ29tcG9uZW50XHJcbi8vYmFzZVNwZWNpZmllZENvbXBvbmVudFxyXG5fLmVhY2goW1xyXG4gICAgXCJHZXRcIixcclxuICAgIFwiUmVtb3ZlXCIsXHJcbiAgICBcIlJlZ2lzdGVyXCIsXHJcbiAgICBcIlNwZWNpZmllZFwiXHJcbl0sIGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGJhc2VQcm90b1snYmFzZScgKyB0eXBlICsgJ0NvbXBvbmVudCddID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdSZWdpc3Rlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLnJlZ2lzdGVyKGRhdGEpO1xyXG4gICAgICAgICAgICBjYXNlICdHZXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5nZXQoKTtcclxuICAgICAgICAgICAgY2FzZSAnU3BlY2lmaWVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuc3BlY2lmaWVkKGRhdGEpO1xyXG4gICAgICAgICAgICBjYXNlICdSZW1vdmUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vL1xyXG4vLyAgICAgICAgICAgICAgIOi/kOihjOi+heWKqeWvueixoeS6i+S7tlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5iYXNlUHJvdG8uYmFzZUFzc2lzdFJ1biA9IGZ1bmN0aW9uKGFjdGl2aXR5SWQsIG91dENhbGxCYWNrLCBhY3Rpb25OYW1lKSB7XHJcbiAgICB2YXIgYWN0aXZpdHk7XHJcbiAgICBpZiAoYWN0aXZpdHkgPSB0aGlzLmFiQWN0aXZpdHlzKSB7XHJcbiAgICAgICAgXy5lYWNoKGFjdGl2aXR5LmdldCgpLCBmdW5jdGlvbihjb250ZW50T2JqLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZpdHlJZCA9PSBjb250ZW50T2JqLmFjdGl2aXR5SWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09ICdSdW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudE9iai5ydW5FZmZlY3RzKG91dENhbGxCYWNrLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09ICdTdG9wJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRPYmouc3RvcEVmZmVjdHMob3V0Q2FsbEJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6ZSA5q+B6aG16Z2i5a+56LGhXHJcbmJhc2VQcm90by5iYXNlRGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8v5riF55CG5Zu+54mH57yT5a2YXHJcbiAgICAvL+ivu+W6k+W/q+mAn+mAgOWHuuaooeW8j+S4i+aKpemUmeS/ruato1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuaGlkZSgpLmZpbmQoJ2ltZycpLmVhY2goZnVuY3Rpb24oYWFhLCBpbWcpIHtcclxuICAgICAgICAgICAgaW1nLnNyYyA9ICdpbWFnZXMvaWNvbnMvY2xlYXJtZW0ucG5nJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v5riF55CG57q/56iL5Lu75Yqh5Z2XXHJcbiAgICB2YXIgY2FjaGVUYXNrcywga2V5LCB0YXNrcztcclxuICAgIGlmIChjYWNoZVRhc2tzID0gdGhpcy5jcmVhdGVSZWxhdGVkLmNhY2hlVGFza3MpIHtcclxuICAgICAgICBmb3IgKGtleSBpbiBjYWNoZVRhc2tzKSB7XHJcbiAgICAgICAgICAgIGlmICh0YXNrcyA9IGNhY2hlVGFza3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdGFza3MuY2xlYXJSZWZlcmVuY2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+a1ruWKqOWvueixoVxyXG4gICAgdmFyIGZsb2F0TWF0ZXJDb250ZW50cyA9IHRoaXMuZmxvYXRDb250ZW50cy5NYXN0ZXJcclxuICAgICAgICAvL+aYr+WQpuaciea1ruWKqOWvueixoVxyXG4gICAgdmFyIGhhc0Zsb2F0TWF0ZXIgPSAhXy5pc0VtcHR5KGZsb2F0TWF0ZXJDb250ZW50cyk7XHJcblxyXG4gICAgLy/muIXnkIZjb250ZW5057G75Z6L5a+56LGhXHJcbiAgICB2YXIgY29udGVudHM7XHJcbiAgICBpZiAoY29udGVudHMgPSB0aGlzLmFiQWN0aXZpdHlzLmdldCgpKSB7XHJcbiAgICAgICAgY29udGVudHMuZm9yRWFjaChmdW5jdGlvbihjb250ZW50T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRPYmouZGVzdHJveShmdW5jdGlvbihkZXN0cm95T2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOS4jeaYr+a1ruWKqOWvueixoSzmuIXnkIblhYPntKDlvJXnlKhcclxuICAgICAgICAgICAgICAgIGlmICghaGFzRmxvYXRNYXRlciB8fCBkZXN0cm95T2JqICYmICFmbG9hdE1hdGVyQ29udGVudHNbZGVzdHJveU9iai5pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0cm95T2JqLiRjb250ZW50UHJvY2VzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy/muIXpmaTmr43niYjmta7liqjlrrnlmahcclxuICAgIGlmIChoYXNGbG9hdE1hdGVyICYmIHRoaXMuZmxvYXRDb250ZW50cy5NYXN0ZXJDb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLmZsb2F0Q29udGVudHMuTWFzdGVyQ29udGFpbmVyLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5riF6Zmk5rWu5Yqo6aG16Z2i5a+56LGhXHJcbiAgICBpZiAodGhpcy5mbG9hdENvbnRlbnRzLlBhZ2UgJiYgdGhpcy5mbG9hdENvbnRlbnRzLlBhZ2VDb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLmZsb2F0Q29udGVudHMuUGFnZUNvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+a4heeQhumbtuS7tuexu+Wei+WvueixoVxyXG4gICAgdmFyIGNvbXBvbmVudHM7XHJcbiAgICBpZiAoKGNvbXBvbmVudHMgPSB0aGlzLmJhc2VHZXRDb21wb25lbnQoKSkpIHtcclxuICAgICAgICBjb21wb25lbnRzLmxlbmd0aCAmJiBjb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24oY29tcG9uZW50T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudE9iai5kZXN0cm95ICYmIGNvbXBvbmVudE9iai5kZXN0cm95KCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL+WkmuS6i+S7tumUgOavgVxyXG4gICAgX2Rlc3Ryb3kodGhpcyk7XHJcblxyXG4gICAgLy/plIDmr4FjYW52YXPnm7jlhbNcclxuICAgIGlmICh0aGlzLmNhbnZhc1JlbGF0ZWQgJiYgdGhpcy5jYW52YXNSZWxhdGVkLmRlc3Ryb3kpIHtcclxuICAgICAgICB0aGlzLmNhbnZhc1JlbGF0ZWQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5LyqbGnoioLngrlcclxuICAgIGlmICh0aGlzLnBzZXVkb0VsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLnBzZXVkb0VsZW1lbnQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v56e76ZmkbGnlrrnlmajoioLngrnoioLngrlcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMucm9vdCA9IG51bGw7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IHsgUGFnZUJhc2UgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvcGFnZWJhc2UvcGFnZWJhc2UuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 77 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TaskBackground = undefined;\n\nvar _option = __webpack_require__(4);\n\n/**\r\n *\t创建背景\r\n */\n\nvar prefix = Xut.plat.prefixStyle;\n\n/**\r\n * 构建背景类\r\n * @param {[type]} rootNode             [根节点]\r\n * @param {[type]} data                 [数据]\r\n * @param {[type]} suspendCallback      [中断回调]\r\n * @param {[type]} successCallback      [description]\r\n */\nfunction TaskBackground(rootNode, data, suspendCallback, successCallback) {\n    var layer,\n        suspendTasks,\n        nextTasks,\n        self = this,\n        content = data[\"md5\"],\n        isSVGContent = /.svg$/i.test(content) ? true : false;\n\n    this.callback = {\n        'suspendCallback': suspendCallback,\n        'successCallback': successCallback\n    };\n\n    //iboosk节点预编译\n    //在执行的时候节点已经存在\n    //不需要在创建\n    if (Xut.IBooks.runMode()) {\n        //找到背景节点\n        var $element = rootNode.find('.multilayer');\n        successCallback();\n        return;\n    }\n\n    //背景是否需要SVG解析\n    this.parseMaster(isSVGContent, content, createWarpper);\n    //构建背景\n    function createWarpper(svgContents) {\n        var backgroundStr = createMaster(svgContents, data);\n        if (backgroundStr) {\n            svgContents = null;\n            self.compileSuspend($(backgroundStr), rootNode);\n        } else {\n            successCallback();\n        }\n    }\n}\n\nTaskBackground.prototype = {\n\n    clearReference: function clearReference() {},\n\n    //构建中断函数\n    compileSuspend: function compileSuspend($background, rootNode) {\n\n        var nextTasks,\n            suspendTasks,\n            self = this;\n\n        //继续执行\n        nextTasks = function nextTasks() {\n            Xut.nextTick({\n                'container': rootNode,\n                'content': $background\n            }, function () {\n                self.clearReference();\n                self.callback.successCallback();\n            });\n        };\n\n        //中断方法\n        suspendTasks = function suspendTasks() {\n            self.suspendQueues = [];\n            self.suspendQueues.push(function () {\n                nextTasks();\n            });\n        };\n        self.callback.suspendCallback(nextTasks, suspendTasks);\n    },\n\n    //运行被阻断的线程任务\n    runSuspendTasks: function runSuspendTasks() {\n        if (this.suspendQueues) {\n            var fn;\n            if (fn = this.suspendQueues.pop()) {\n                fn();\n            }\n            this.suspendQueues = null;\n        }\n    },\n\n    //解析SVG背景\n    parseMaster: function parseMaster(isSVGContent, content, callback) {\n        if (isSVGContent) {\n            //背景需要SVG解析的\n            (0, _option.readFile)(content, function (svgContents) {\n                callback(svgContents);\n            });\n        } else {\n            callback('');\n        }\n    }\n};\n\n/**\r\n * 修正尺寸\r\n * @return {[type]} [description]\r\n */\n\nfunction fixSize(data) {\n    //缩放比\n    var proportion = Xut.config.proportion;\n    data.path = Xut.config.pathAddress;\n    data.imageWidth = data.imageWidth * proportion.width;\n    data.imageHeight = data.imageHeight * proportion.height;\n    data.imageLeft = data.imageLeft * proportion.left;\n    data.imageTop = data.imageTop * proportion.top;\n}\n\n/*********************************************************************\r\n *                创建分层背景图层\r\n *                master               - 母版\r\n *                imageLayer,imageMask - 图像层图\r\n *                md5                  - 文字层图                                                                                     *\r\n **********************************************************************/\n\nfunction createMaster(svgContent, data) {\n    var imageLayer,\n        maskLayer,\n        restr = '',\n        imageLayerData = data[\"imageLayer\"],\n        //图片层\n    imageMaskData = data[\"imageMask\"],\n        //蒙版层\n    backImageData = data[\"backImage\"],\n        //真实图片层\n    backMaskData = data[\"backMask\"],\n        //真实蒙版层\n    masterData = data[\"master\"],\n        //母板\n    backText = data['md5'],\n        //背景文字\n    pptMaster = data['pptMaster']; //母板PPTID\n\n    //=======================未分层结构===========================\n    //\n    //\t\t 只有SVG数据，没有层次数据 ,不是视觉差\n    //\n    // ============================================================\n    if (backText && !masterData && !pptMaster && !imageLayerData) {\n        return svgContent ? '<div class=\"multilayer\" data-multilayer =\"true\" style=\"width:100%; height:100%;position:absolute;left:0;top:0;z-index:0;\">' + svgContent + '</div>' : '';\n    }\n\n    //=========================分层结构============================\n    //\n    //   1 分母板 文字层 背景 蒙版\n    //   2 视觉差分层处理\n    //\n    //=============================================================\n\n    //修正尺寸\n    fixSize(data);\n\n    //============= 组层背景图开始 ====================\n\n    restr = '<div class=\"multilayer\" data-multilayer =\"true\" style=\"width:100%; height:100%;position:absolute;left:0;top:0;z-index:0;\">';\n\n    //如果有母板数据,如果不是视觉差\n    if (masterData && !pptMaster) {\n        //母版图\n        restr += '<div class=\"master\" style=\"width:100%; height:100%;background-size:100% 100%;position:absolute;z-index:0;background-image:url({0});\"></div>';\n    }\n\n    //存在背景图\n    if (imageLayerData) {\n        //蒙版图（与背景图是组合关系）\n        maskLayer = data[\"imageMask\"] ? prefix(\"mask-box-image\") + \":url(\" + data.path + data[\"imageMask\"] + \");\" : \"\";\n        //图片层\n        restr += '<div class=\"imageLayer\" style=\"width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;z-index:2;background-size:100% 100%;background-image:url({5});{6};\"></div>';\n    }\n\n    //新增的 真实背景图 默认全屏\n    if (backImageData) {\n        //计算出对页排版偏移值\n        var backImageOffset = function () {\n            var background,\n                pageSide = data['pageSide'];\n\n            switch (Number(pageSide)) {\n                case 1:\n                    background = 'background-position:0';\n                    break;\n                case 2:\n                    background = 'background-position:' + Xut.config.screenSize.width + 'px';\n                    break;\n            }\n\n            return background;\n        }();\n\n        if (backMaskData) {\n            //带蒙版\n            if (prefix('mask-box-image') != undefined) {\n                restr += '<div class=\"backImage\" style=\"width:{7};height:100%;position:absolute;z-index:1;background-size:100% 100%;background-image:url(' + data.path + backImageData + ');' + prefix('mask-box-image') + ':url(' + data.path + backMaskData + ');{8}\"></div>';\n            } else {\n                restr += '<canvas class=\"backImage edges\" height=' + document.body.clientHeight + ' width=' + document.body.clientWidth + '  style=\"width:{7};opacity:0;height:100%;background-size:100% 100%;position:absolute;z-index:1;-webkit-mask-box-image:url(' + data.path + backMaskData + ');{8}\" src=' + data.path + backImageData + ' mask=' + data.path + backMaskData + '></canvas>';\n            }\n        } else {\n            //图片层\n            restr += '<div class=\"backImage\" style=\"width:{7};height:100%;position:absolute;z-index:1;background-size:100% 100%;background-image:url(' + data.path + backImageData + ');{8}\"></div>';\n        }\n    }\n\n    //存在svg文字\n    if (backText) {\n        restr += '<div class=\"words\" style=\"width:100%;height:100%;top:0;left:0;position:absolute;z-index:3;\">{9}</div>';\n    }\n\n    restr += '</div>';\n\n    //============= 组层背景图结束 ====================\n\n    return String.format(restr, data.path + masterData, data.imageWidth, data.imageHeight, data.imageTop, data.imageLeft, data.path + imageLayerData, maskLayer, backImageOffset ? '200%' : '100%', backImageOffset ? backImageOffset : '', svgContent);\n}\n\nexports.TaskBackground = TaskBackground;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9iYWNrZ3JvdW5kLmpzPzQ4ZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7Ozs7QUFPQSxJQUFJLFNBQVMsSUFBSSxJQUFKLENBQVMsV0FBdEI7Ozs7Ozs7OztBQVNBLFNBQVMsY0FBVCxDQUF3QixRQUF4QixFQUFrQyxJQUFsQyxFQUF3QyxlQUF4QyxFQUF5RCxlQUF6RCxFQUEwRTtBQUN0RSxRQUFJLEtBQUo7UUFDSSxZQURKO1FBRUksU0FGSjtRQUdJLE9BQU8sSUFIWDtRQUlJLFVBQVUsS0FBSyxLQUFMLENBSmQ7UUFLSSxlQUFlLFNBQVMsSUFBVCxDQUFjLE9BQWQsSUFBeUIsSUFBekIsR0FBZ0MsS0FMbkQ7O0FBT0EsU0FBSyxRQUFMLEdBQWdCO0FBQ1osMkJBQW1CLGVBRFA7QUFFWiwyQkFBbUI7QUFGUCxLQUFoQjs7Ozs7QUFTQSxRQUFJLElBQUksTUFBSixDQUFXLE9BQVgsRUFBSixFQUEwQjs7QUFFdEIsWUFBSSxXQUFXLFNBQVMsSUFBVCxDQUFjLGFBQWQsQ0FBZjtBQUNBO0FBQ0E7QUFDSDs7O0FBSUQsU0FBSyxXQUFMLENBQWlCLFlBQWpCLEVBQStCLE9BQS9CLEVBQXdDLGFBQXhDOztBQUVBLGFBQVMsYUFBVCxDQUF1QixXQUF2QixFQUFvQztBQUNoQyxZQUFJLGdCQUFnQixhQUFhLFdBQWIsRUFBMEIsSUFBMUIsQ0FBcEI7QUFDQSxZQUFJLGFBQUosRUFBbUI7QUFDZiwwQkFBYyxJQUFkO0FBQ0EsaUJBQUssY0FBTCxDQUFvQixFQUFFLGFBQUYsQ0FBcEIsRUFBc0MsUUFBdEM7QUFDSCxTQUhELE1BR087QUFDSDtBQUNIO0FBQ0o7QUFFSjs7QUFHRCxlQUFlLFNBQWYsR0FBMkI7O0FBRXZCLG9CQUFnQiwwQkFBVyxDQUFFLENBRk47OztBQUt2QixvQkFBZ0Isd0JBQVMsV0FBVCxFQUFzQixRQUF0QixFQUFnQzs7QUFFNUMsWUFBSSxTQUFKO1lB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TCxHQUFZLGNBRjNFLEVBRTJGLFNBRjNGLEVBRXNHLGtCQUFrQixNQUFsQixHQUEyQixNQUZqSSxFQUV5SSxrQkFBa0IsZUFBbEIsR0FBb0MsRUFGN0ssRUFHSCxVQUhHLENBQVA7QUFJSDs7UUFJTyxjLEdBQUEsYyIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge3JlYWRGaWxlfSBmcm9tICcuLi8uLi91dGlsL29wdGlvbidcclxuXHJcblxyXG4vKipcclxuICpcdOWIm+W7uuiDjOaZr1xyXG4gKi9cclxuXHJcbnZhciBwcmVmaXggPSBYdXQucGxhdC5wcmVmaXhTdHlsZTtcclxuXHJcbi8qKlxyXG4gKiDmnoTlu7rog4zmma/nsbtcclxuICogQHBhcmFtIHtbdHlwZV19IHJvb3ROb2RlICAgICAgICAgICAgIFvmoLnoioLngrldXHJcbiAqIEBwYXJhbSB7W3R5cGVdfSBkYXRhICAgICAgICAgICAgICAgICBb5pWw5o2uXVxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gc3VzcGVuZENhbGxiYWNrICAgICAgW+S4reaWreWbnuiwg11cclxuICogQHBhcmFtIHtbdHlwZV19IHN1Y2Nlc3NDYWxsYmFjayAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIFRhc2tCYWNrZ3JvdW5kKHJvb3ROb2RlLCBkYXRhLCBzdXNwZW5kQ2FsbGJhY2ssIHN1Y2Nlc3NDYWxsYmFjaykge1xyXG4gICAgdmFyIGxheWVyLFxyXG4gICAgICAgIHN1c3BlbmRUYXNrcyxcclxuICAgICAgICBuZXh0VGFza3MsXHJcbiAgICAgICAgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgY29udGVudCA9IGRhdGFbXCJtZDVcIl0sXHJcbiAgICAgICAgaXNTVkdDb250ZW50ID0gLy5zdmckL2kudGVzdChjb250ZW50KSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLmNhbGxiYWNrID0ge1xyXG4gICAgICAgICdzdXNwZW5kQ2FsbGJhY2snOiBzdXNwZW5kQ2FsbGJhY2ssXHJcbiAgICAgICAgJ3N1Y2Nlc3NDYWxsYmFjayc6IHN1Y2Nlc3NDYWxsYmFja1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL2lib29za+iKgueCuemihOe8luivkVxyXG4gICAgLy/lnKjmiafooYznmoTml7blgJnoioLngrnlt7Lnu4/lrZjlnKhcclxuICAgIC8v5LiN6ZyA6KaB5Zyo5Yib5bu6XHJcbiAgICBpZiAoWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuICAgICAgICAvL+aJvuWIsOiDjOaZr+iKgueCuVxyXG4gICAgICAgIHZhciAkZWxlbWVudCA9IHJvb3ROb2RlLmZpbmQoJy5tdWx0aWxheWVyJyk7XHJcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKClcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8v6IOM5pmv5piv5ZCm6ZyA6KaBU1ZH6Kej5p6QXHJcbiAgICB0aGlzLnBhcnNlTWFzdGVyKGlzU1ZHQ29udGVudCwgY29udGVudCwgY3JlYXRlV2FycHBlcik7XHJcbiAgICAvL+aehOW7uuiDjOaZr1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlV2FycHBlcihzdmdDb250ZW50cykge1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kU3RyID0gY3JlYXRlTWFzdGVyKHN2Z0NvbnRlbnRzLCBkYXRhKTtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZFN0cikge1xyXG4gICAgICAgICAgICBzdmdDb250ZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgIHNlbGYuY29tcGlsZVN1c3BlbmQoJChiYWNrZ3JvdW5kU3RyKSwgcm9vdE5vZGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5UYXNrQmFja2dyb3VuZC5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgY2xlYXJSZWZlcmVuY2U6IGZ1bmN0aW9uKCkge30sXHJcblxyXG4gICAgLy/mnoTlu7rkuK3mlq3lh73mlbBcclxuICAgIGNvbXBpbGVTdXNwZW5kOiBmdW5jdGlvbigkYmFja2dyb3VuZCwgcm9vdE5vZGUpIHtcclxuXHJcbiAgICAgICAgdmFyIG5leHRUYXNrcywgc3VzcGVuZFRhc2tzLFxyXG4gICAgICAgICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy/nu6fnu63miafooYxcclxuICAgICAgICBuZXh0VGFza3MgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgWHV0Lm5leHRUaWNrKHtcclxuICAgICAgICAgICAgICAgICdjb250YWluZXInOiByb290Tm9kZSxcclxuICAgICAgICAgICAgICAgICdjb250ZW50JzogJGJhY2tncm91bmRcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNsZWFyUmVmZXJlbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrLnN1Y2Nlc3NDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Lit5pat5pa55rOVXHJcbiAgICAgICAgc3VzcGVuZFRhc2tzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3VzcGVuZFF1ZXVlcyA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLnN1c3BlbmRRdWV1ZXMucHVzaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG5leHRUYXNrcygpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuY2FsbGJhY2suc3VzcGVuZENhbGxiYWNrKG5leHRUYXNrcywgc3VzcGVuZFRhc2tzKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/ov5DooYzooqvpmLvmlq3nmoTnur/nqIvku7vliqFcclxuICAgIHJ1blN1c3BlbmRUYXNrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3VzcGVuZFF1ZXVlcykge1xyXG4gICAgICAgICAgICB2YXIgZm47XHJcbiAgICAgICAgICAgIGlmIChmbiA9IHRoaXMuc3VzcGVuZFF1ZXVlcy5wb3AoKSkge1xyXG4gICAgICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN1c3BlbmRRdWV1ZXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/op6PmnpBTVkfog4zmma9cclxuICAgIHBhcnNlTWFzdGVyOiBmdW5jdGlvbihpc1NWR0NvbnRlbnQsIGNvbnRlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKGlzU1ZHQ29udGVudCkgeyAvL+iDjOaZr+mcgOimgVNWR+ino+aekOeahFxyXG4gICAgICAgICAgICByZWFkRmlsZShjb250ZW50LCBmdW5jdGlvbihzdmdDb250ZW50cykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc3ZnQ29udGVudHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDkv67mraPlsLrlr7hcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZml4U2l6ZShkYXRhKSB7XHJcbiAgICAvL+e8qeaUvuavlFxyXG5cdHZhciBwcm9wb3J0aW9uICAgPSBYdXQuY29uZmlnLnByb3BvcnRpb247XHJcblx0ZGF0YS5wYXRoICAgICAgICA9IFh1dC5jb25maWcucGF0aEFkZHJlc3M7XHJcblx0ZGF0YS5pbWFnZVdpZHRoICA9IGRhdGEuaW1hZ2VXaWR0aCAqIHByb3BvcnRpb24ud2lkdGg7XHJcblx0ZGF0YS5pbWFnZUhlaWdodCA9IGRhdGEuaW1hZ2VIZWlnaHQgKiBwcm9wb3J0aW9uLmhlaWdodDtcclxuXHRkYXRhLmltYWdlTGVmdCAgID0gZGF0YS5pbWFnZUxlZnQgKiBwcm9wb3J0aW9uLmxlZnQ7XHJcblx0ZGF0YS5pbWFnZVRvcCAgICA9IGRhdGEuaW1hZ2VUb3AgKiBwcm9wb3J0aW9uLnRvcDtcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICogICAgICAgICAgICAgICAg5Yib5bu65YiG5bGC6IOM5pmv5Zu+5bGCXHJcbiAqICAgICAgICAgICAgICAgIG1hc3RlciAgICAgICAgICAgICAgIC0g5q+N54mIXHJcbiAqICAgICAgICAgICAgICAgIGltYWdlTGF5ZXIsaW1hZ2VNYXNrIC0g5Zu+5YOP5bGC5Zu+XHJcbiAqICAgICAgICAgICAgICAgIG1kNSAgICAgICAgICAgICAgICAgIC0g5paH5a2X5bGC5Zu+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVNYXN0ZXIoc3ZnQ29udGVudCwgZGF0YSkge1xyXG4gICAgdmFyIGltYWdlTGF5ZXIsIG1hc2tMYXllciwgcmVzdHIgPSAnJyxcclxuICAgICAgICBpbWFnZUxheWVyRGF0YSA9IGRhdGFbXCJpbWFnZUxheWVyXCJdLCAvL+WbvueJh+WxglxyXG4gICAgICAgIGltYWdlTWFza0RhdGEgPSBkYXRhW1wiaW1hZ2VNYXNrXCJdLCAvL+iSmeeJiOWxglxyXG4gICAgICAgIGJhY2tJbWFnZURhdGEgPSBkYXRhW1wiYmFja0ltYWdlXCJdLCAvL+ecn+WunuWbvueJh+WxglxyXG4gICAgICAgIGJhY2tNYXNrRGF0YSA9IGRhdGFbXCJiYWNrTWFza1wiXSwgLy/nnJ/lrp7okpnniYjlsYJcclxuICAgICAgICBtYXN0ZXJEYXRhID0gZGF0YVtcIm1hc3RlclwiXSwgLy/mr43mnb9cclxuICAgICAgICBiYWNrVGV4dCA9IGRhdGFbJ21kNSddLCAvL+iDjOaZr+aWh+Wtl1xyXG4gICAgICAgIHBwdE1hc3RlciA9IGRhdGFbJ3BwdE1hc3RlciddOyAvL+avjeadv1BQVElEXHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT3mnKrliIblsYLnu5PmnoQ9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvL1x0XHQg5Y+q5pyJU1ZH5pWw5o2u77yM5rKh5pyJ5bGC5qyh5pWw5o2uICzkuI3mmK/op4bop4nlt65cclxuICAgIC8vXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIGlmIChiYWNrVGV4dCAmJiAhbWFzdGVyRGF0YSAmJiAhcHB0TWFzdGVyICYmICFpbWFnZUxheWVyRGF0YSkge1xyXG4gICAgICAgIHJldHVybiBzdmdDb250ZW50ID8gJzxkaXYgY2xhc3M9XCJtdWx0aWxheWVyXCIgZGF0YS1tdWx0aWxheWVyID1cInRydWVcIiBzdHlsZT1cIndpZHRoOjEwMCU7IGhlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt6LWluZGV4OjA7XCI+JyArIHN2Z0NvbnRlbnQgKyAnPC9kaXY+JyA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PeWIhuWxgue7k+aehD09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvLyAgIDEg5YiG5q+N5p2/IOaWh+Wtl+WxgiDog4zmma8g6JKZ54mIXHJcbiAgICAvLyAgIDIg6KeG6KeJ5beu5YiG5bGC5aSE55CGXHJcbiAgICAvL1xyXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLy/kv67mraPlsLrlr7hcclxuICAgIGZpeFNpemUoZGF0YSk7XHJcblxyXG4gICAgLy89PT09PT09PT09PT09IOe7hOWxguiDjOaZr+WbvuW8gOWniyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIHJlc3RyID0gJzxkaXYgY2xhc3M9XCJtdWx0aWxheWVyXCIgZGF0YS1tdWx0aWxheWVyID1cInRydWVcIiBzdHlsZT1cIndpZHRoOjEwMCU7IGhlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt6LWluZGV4OjA7XCI+JztcclxuXHJcbiAgICAvL+WmguaenOacieavjeadv+aVsOaNrizlpoLmnpzkuI3mmK/op4bop4nlt65cclxuICAgIGlmIChtYXN0ZXJEYXRhICYmICFwcHRNYXN0ZXIpIHtcclxuICAgICAgICAvL+avjeeJiOWbvlxyXG4gICAgICAgIHJlc3RyICs9ICc8ZGl2IGNsYXNzPVwibWFzdGVyXCIgc3R5bGU9XCJ3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDtiYWNrZ3JvdW5kLWltYWdlOnVybCh7MH0pO1wiPjwvZGl2Pic7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lrZjlnKjog4zmma/lm75cclxuICAgIGlmIChpbWFnZUxheWVyRGF0YSkge1xyXG4gICAgICAgIC8v6JKZ54mI5Zu+77yI5LiO6IOM5pmv5Zu+5piv57uE5ZCI5YWz57O777yJXHJcbiAgICAgICAgbWFza0xheWVyID0gZGF0YVtcImltYWdlTWFza1wiXSA/IHByZWZpeChcIm1hc2stYm94LWltYWdlXCIpICsgXCI6dXJsKFwiICsgZGF0YS5wYXRoICsgZGF0YVtcImltYWdlTWFza1wiXSArIFwiKTtcIiA6IFwiXCI7XHJcbiAgICAgICAgLy/lm77niYflsYJcclxuICAgICAgICByZXN0ciArPSAnPGRpdiBjbGFzcz1cImltYWdlTGF5ZXJcIiBzdHlsZT1cIndpZHRoOnsxfXB4O2hlaWdodDp7Mn1weDt0b3A6ezN9cHg7bGVmdDp7NH1weDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTtiYWNrZ3JvdW5kLWltYWdlOnVybCh7NX0pO3s2fTtcIj48L2Rpdj4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5paw5aKe55qEIOecn+WunuiDjOaZr+WbviDpu5jorqTlhajlsY9cclxuICAgIGlmIChiYWNrSW1hZ2VEYXRhKSB7XHJcbiAgICAgICAgLy/orqHnrpflh7rlr7npobXmjpLniYjlgY/np7vlgLxcclxuICAgICAgICB2YXIgYmFja0ltYWdlT2Zmc2V0ID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZCxcclxuICAgICAgICAgICAgICAgIHBhZ2VTaWRlID0gZGF0YVsncGFnZVNpZGUnXTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoTnVtYmVyKHBhZ2VTaWRlKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQgPSAnYmFja2dyb3VuZC1wb3NpdGlvbjowJztcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQgPSAnYmFja2dyb3VuZC1wb3NpdGlvbjonICsgWHV0LmNvbmZpZy5zY3JlZW5TaXplLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYmFja2dyb3VuZDtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICBpZiAoYmFja01hc2tEYXRhKSB7XHJcbiAgICAgICAgICAgIC8v5bim6JKZ54mIXHJcbiAgICAgICAgICAgIGlmIChwcmVmaXgoJ21hc2stYm94LWltYWdlJykgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0ciArPSAnPGRpdiBjbGFzcz1cImJhY2tJbWFnZVwiIHN0eWxlPVwid2lkdGg6ezd9O2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBkYXRhLnBhdGggKyBiYWNrSW1hZ2VEYXRhICsgJyk7JyArIHByZWZpeCgnbWFzay1ib3gtaW1hZ2UnKSArICc6dXJsKCcgKyBkYXRhLnBhdGggKyBiYWNrTWFza0RhdGEgKyAnKTt7OH1cIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdHIgKz0gJzxjYW52YXMgY2xhc3M9XCJiYWNrSW1hZ2UgZWRnZXNcIiBoZWlnaHQ9JyArIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICsgJyB3aWR0aD0nICsgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArICcgIHN0eWxlPVwid2lkdGg6ezd9O29wYWNpdHk6MDtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTstd2Via2l0LW1hc2stYm94LWltYWdlOnVybCgnICsgZGF0YS5wYXRoICsgYmFja01hc2tEYXRhICsgJyk7ezh9XCIgc3JjPScgKyBkYXRhLnBhdGggKyBiYWNrSW1hZ2VEYXRhICsgJyBtYXNrPScgKyBkYXRhLnBhdGggKyBiYWNrTWFza0RhdGEgKyAnPjwvY2FudmFzPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+WbvueJh+WxglxyXG4gICAgICAgICAgICByZXN0ciArPSAnPGRpdiBjbGFzcz1cImJhY2tJbWFnZVwiIHN0eWxlPVwid2lkdGg6ezd9O2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBkYXRhLnBhdGggKyBiYWNrSW1hZ2VEYXRhICsgJyk7ezh9XCI+PC9kaXY+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lrZjlnKhzdmfmloflrZdcclxuICAgIGlmIChiYWNrVGV4dCkge1xyXG4gICAgICAgIHJlc3RyICs9ICc8ZGl2IGNsYXNzPVwid29yZHNcIiBzdHlsZT1cIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dG9wOjA7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MztcIj57OX08L2Rpdj4nO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RyICs9ICc8L2Rpdj4nO1xyXG5cclxuICAgIC8vPT09PT09PT09PT09PSDnu4TlsYLog4zmma/lm77nu5PmnZ8gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICByZXR1cm4gU3RyaW5nLmZvcm1hdChyZXN0cixcclxuICAgICAgICBkYXRhLnBhdGggKyBtYXN0ZXJEYXRhLFxyXG4gICAgICAgIGRhdGEuaW1hZ2VXaWR0aCwgZGF0YS5pbWFnZUhlaWdodCwgZGF0YS5pbWFnZVRvcCwgZGF0YS5pbWFnZUxlZnQsIGRhdGEucGF0aCArIGltYWdlTGF5ZXJEYXRhLCBtYXNrTGF5ZXIsIGJhY2tJbWFnZU9mZnNldCA/ICcyMDAlJyA6ICcxMDAlJywgYmFja0ltYWdlT2Zmc2V0ID8gYmFja0ltYWdlT2Zmc2V0IDogJycsXHJcbiAgICAgICAgc3ZnQ29udGVudCk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IHtUYXNrQmFja2dyb3VuZH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9iYWNrZ3JvdW5kLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 78 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TaskComponents = undefined;\n\nvar _bind = __webpack_require__(7);\n\nvar _option = __webpack_require__(4);\n\n/**\r\n *  创建widgets对象任务片\r\n *  state状态\r\n *      0 未创建\r\n *      1 正常创建\r\n *      2 创建完毕\r\n *      3 创建失败\r\n */\n\n//组件任务\n\n\nfunction TaskComponents(data, suspendCallback, successCallback) {\n\n    //预编译模式跳过创建\n    if (Xut.IBooks.runMode()) {\n        successCallback();\n        return;\n    }\n\n    if (data['activitys'].length) {\n        var str;\n        this.rootNode = data['rootNode'];\n        this.callback = {\n            'suspendCallback': suspendCallback,\n            'successCallback': successCallback\n        };\n        str = this.create(data);\n        this.compileSuspend(str);\n    } else {\n        successCallback();\n    }\n}\n\nTaskComponents.prototype = {\n\n    clearReference: function clearReference() {\n        this.rootNode = null;\n    },\n\n    create: function create(data) {\n        var actType,\n            pageType = data.pageType,\n            createWidgets = data.activitys,\n            chpaterData = data.chpaterData,\n            chapterId = data.chapterId,\n            pid = data.pid,\n            virtualOffset = data.virtualOffset,\n            widgetRetStr = [];\n\n        function virtualCreate(actType, activityData) {\n            var scaleLeft = activityData.scaleLeft;\n            // 创建分布左边的对象\n            if (virtualOffset === 'left') {\n                if (scaleLeft < Xut.config.screenSize.width) {\n                    startCreate(actType, activityData);\n                }\n            }\n            //创建分布右边的对象\n            if (virtualOffset === 'right') {\n                if (scaleLeft > Xut.config.screenSize.width) {\n                    startCreate(actType, activityData);\n                }\n            }\n        }\n\n        //创建\n        function startCreate(actType, activityData) {\n            //创建DOM元素结构\n            //返回是拼接字符串\n            widgetRetStr.push(_bind.Bind[actType]['createDom'](activityData, chpaterData, chapterId, pid, Xut.zIndexlevel(), pageType));\n        }\n\n        //需要创建的数据结构\n        createWidgets.forEach(function (activityData, index) {\n\n            //创建类型\n            actType = activityData.actType || activityData.animation;\n\n            //特殊类型 showNote\n            if (!actType && activityData.note) {\n                activityData['actType'] = actType = \"ShowNote\";\n            }\n\n            switch (actType) {\n                case 'ShowNote':\n                case 'Action':\n                case 'Widget':\n                case 'Audio':\n                case 'Video':\n\n                    //缩放比\n                    activityData = (0, _option.reviseSize)(activityData);\n\n                    //处理虚拟模式创建\n                    if (Xut.config.virtualMode) {\n                        virtualCreate(actType, activityData);\n                    } else {\n                        startCreate(actType, activityData);\n                    }\n                    break;\n            }\n        });\n\n        return widgetRetStr.join(\"\");\n    },\n\n    /**\r\n     * 编译中断函数\r\n     * @return {[type]} [description]\r\n     */\n    compileSuspend: function compileSuspend(str) {\n\n        var nextTasks,\n            suspendTasks,\n            self = this;\n\n        //继续执行\n        nextTasks = function nextTasks() {\n            Xut.nextTick({\n                container: self.rootNode,\n                content: $(str)\n            }, function () {\n                self.clearReference();\n                self.callback.successCallback();\n            });\n        };\n\n        //中断方法\n        suspendTasks = function suspendTasks() {\n            self.suspendQueues = [];\n            self.suspendQueues.push(function () {\n                nextTasks();\n            });\n        };\n\n        self.callback.suspendCallback(nextTasks, suspendTasks);\n    },\n\n    //运行被阻断的线程任务\n    runSuspendTasks: function runSuspendTasks() {\n        if (this.suspendQueues) {\n            var fn;\n            if (fn = this.suspendQueues.pop()) {\n                fn();\n            }\n            this.suspendQueues = null;\n        }\n    }\n};\n\nexports.TaskComponents = TaskComponents;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb21wb25lbnRzLmpzPzVjMzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVVBOztBQUNBOzs7Ozs7Ozs7Ozs7OztBQUVBLFNBQVMsY0FBVCxDQUF3QixJQUF4QixFQUE4QixlQUE5QixFQUErQyxlQUEvQyxFQUFnRTs7O0FBRzVELFFBQUksSUFBSSxNQUFKLENBQVcsT0FBWCxFQUFKLEVBQTBCO0FBQ3RCO0FBQ0E7QUFDSDs7QUFFRCxRQUFJLEtBQUssV0FBTCxFQUFrQixNQUF0QixFQUE4QjtBQUMxQixZQUFJLEdBQUo7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsS0FBSyxVQUFMLENBQWhCO0FBQ0EsYUFBSyxRQUFMLEdBQWdCO0FBQ1osK0JBQW1CLGVBRFA7QUFFWiwrQkFBbUI7QUFGUCxTQUFoQjtBQUlBLGNBQU0sS0FBSyxNQUFMLENBQVksSUFBWixDQUFOO0FBQ0EsYUFBSyxjQUFMLENBQW9CLEdBQXBCO0FBQ0gsS0FURCxNQVNPO0FBQ0g7QUFDSDtBQUNKOztBQUVELGVBQWUsU0FBZixHQUEyQjs7QUFFdkIsb0JBQWdCLDBCQUFXO0FBQ3ZCLGFBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNILEtBSnNCOztBQU12QixZQUFRLGdCQUFTLElBQVQsRUFBZTtBQUNuQixZQUFJLE9BQUo7WUFDSSxXQUFnQixLQUFLLFFBRHpCO1lBRUksZ0JBQWdCLEtBQUssU0FGekI7WUFHSSxjQUFnQixLQUFLLFdBSHpCO1lBSUksWUFBZ0IsS0FBSyxTQUp6QjtZQUtJLE1BQWdCLEtBQUssR0FMekI7WUFNSSxnQkFBZ0IsS0FBSyxhQU56QjtZQU9JLGVBQWdCLEVBUHBCOztBQVVBLGlCQUFTLGFBQVQsQ0FBdUIsT0FBdkIsRUFBZ0MsWUFBaEMsRUFBOEM7QUFDMUMsZ0JBQUksWUFBWSxhQUFhLFNBQTdCOztBQUVBLGdCQUFJLGtCQUFrQixNQUF0QixFQUE4QjtBQUMxQixvQkFBSSxZQUFZLElBQUksTUFBSixDQUFXLFVBQVgsQ0FBc0IsS0FBdEMsRUFBNkM7QUFDekMsZ0NBQVksT0FBWixFQUFxQixZQUFyQjtBQUNIO0FBQ0o7O0FBRUQsZ0JBQUksa0JBQWtCLE9BQXRCLEVBQStCO0FBQzNCLG9CQUFJLFlBQVksSUFBSSxNQUFKLENBQVcsVUFBWCxDQUFzQixLQUF0QyxFQUE2QztBQUN6QyxnQ0FBWSxPQUFaLEVBQXFCLFlBQXJCO0FBQ0g7QUFDSjtBQUNKOzs7QUFHRCxpQkFBUyxXQUFULENBQXFCLE9BQXJCLEVBQThCLFlBQTlCLEVBQTRDOzs7QUFHeEMseUJBQWEsSUFBYixDQUFrQixXQUFLLE9BQUwsRUFBYyxXQUFkLEVBQ2QsWUFEYyxFQUNBLFdBREEsRUFDYSxTQURiLEVBQ3dCLEdBRHhCLEVBQzZCLElBQUksV0FBSixFQUQ3QixFQUNnRCxRQURoRCxDQUFsQjtBQUdIOzs7QUFJRCxzQkFBYyxPQUFkLENBQXNCLFVBQVMsWUFBVCxFQUF1QixLQUF2QixFQUE4Qjs7O0FBR2hELHNCQUFVLGFBQWEsT0FBYixJQUF3QixhQUFhLFNBQS9DOzs7QUFHQSxnQkFBSSxDQUFDLE9BQUQsSUFBWSxhQUFhLElBQTdCLEVBQW1DO0FBQy9CLDZCQUFhLFNBQWIsSUFBMEIsVUFBVSxVQUFwQztBQUNIOztBQUVELG9CQUFRLE9BQVI7QUFDSSxxQkFBSyxVQUFMO0FBQ0EscUJBQUssUUFBTDtBQUNBLHFCQUFLLFFBQUw7QUFDQSxxQkFBSyxPQUFMO0FBQ0EscUJBQUssT0FBTDs7O0FBR0ksbUNBQWUsd0JBQVcsWUFBWCxDQUFmOzs7QUFHQSx3QkFBSSxJQUFJLE1BQUosQ0FBVyxXQUFmLEVBQTRCO0FBQ3hCLHNDQUFjLE9BQWQsRUFBdUIsWUFBdkI7QUFDSCxxQkFGRCxNQUVPO0FBQ0gsb0NBQVksT0FBWixFQUFxQixZQUFyQjtBQUNIO0FBQ0Q7QUFoQlI7QUFrQkgsU0E1QkQ7O0FBOEJBLGVBQU8sYUFBYSxJQUFiLENBQWtCLEVBQWxCLENBQVA7QUFDSCxLQTNFc0I7Ozs7OztBQWlGdkIsb0JBQWdCLHdCQUFTLEdBQVQsRUFBYzs7QUFFMUIsWUFBSSxTQUFKO1lBQWUsWUFBZjtZQUNJLE9BQU8sSUFEWDs7O0FBSUEsb0JBQVkscUJBQVc7QUFDbkIsZ0JBQUksUUFBSixDQUFhO0FBQ1QsMkJBQVcsS0FBSyxRQURQO0FBRVQseUJBQVMsRUFBRSxHQUFGO0FBRkEsYUFBYixFQUdHLFlBQVc7QUFDVixxQkFBSyxjQUFMO0FBQ0EscUJBQUssUUFBTCxDQUFjLGVBQWQ7QUFDSCxhQU5EO0FBT0gsU0FSRDs7O0FBV0EsdUJBQWUsd0JBQVc7QUFDdEIsaUJBQUssYUFBTCxHQUFxQixFQUFyQjtBQUNBLGlCQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBd0IsWUFBVztBQUMvQjtBQUNILGFBRkQ7QUFHSCxTQUxEOztBQU9BLGFBQUssUUFBTCxDQUFjLGVBQWQsQ0FBOEIsU0FBOUIsRUFBeUMsWUFBekM7QUFDSCxLQTFHc0I7OztBQTZHdkIscUJBQWlCLDJCQUFXO0FBQ3hCLFlBQUksS0FBSyxhQUFULEVBQXdCO0FBQ3BCLGdCQUFJLEVBQUo7QUFDQSxnQkFBSSxLQUFLLEtBQUssYUFBTCxDQUFtQixHQUFuQixFQUFULEVBQW1DO0FBQy9CO0FBQ0g7QUFDRCxpQkFBSyxhQUFMLEdBQXFCLElBQXJCO0FBQ0g7QUFDSjtBQXJIc0IsQ0FBM0I7O1FBd0hTLGMsR0FBQSxjIiwiZmlsZSI6Ijc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqICDliJvlu7p3aWRnZXRz5a+56LGh5Lu75Yqh54mHXHJcbiAqICBzdGF0ZeeKtuaAgVxyXG4gKiAgICAgIDAg5pyq5Yib5bu6XHJcbiAqICAgICAgMSDmraPluLjliJvlu7pcclxuICogICAgICAyIOWIm+W7uuWujOavlVxyXG4gKiAgICAgIDMg5Yib5bu65aSx6LSlXHJcbiAqL1xyXG5cclxuLy/nu4Tku7bku7vliqFcclxuaW1wb3J0IHtCaW5kfSBmcm9tICcuL2Rpc3BlbnNlci9iaW5kJ1xyXG5pbXBvcnQge3JldmlzZVNpemV9IGZyb20gJy4uLy4uL3V0aWwvb3B0aW9uJ1xyXG5cclxuZnVuY3Rpb24gVGFza0NvbXBvbmVudHMoZGF0YSwgc3VzcGVuZENhbGxiYWNrLCBzdWNjZXNzQ2FsbGJhY2spIHtcclxuXHJcbiAgICAvL+mihOe8luivkeaooeW8j+i3s+i/h+WIm+W7ulxyXG4gICAgaWYgKFh1dC5JQm9va3MucnVuTW9kZSgpKSB7XHJcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhWydhY3Rpdml0eXMnXS5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgc3RyO1xyXG4gICAgICAgIHRoaXMucm9vdE5vZGUgPSBkYXRhWydyb290Tm9kZSddO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSB7XHJcbiAgICAgICAgICAgICdzdXNwZW5kQ2FsbGJhY2snOiBzdXNwZW5kQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgICdzdWNjZXNzQ2FsbGJhY2snOiBzdWNjZXNzQ2FsbGJhY2tcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyID0gdGhpcy5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5jb21waWxlU3VzcGVuZChzdHIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzdWNjZXNzQ2FsbGJhY2soKTtcclxuICAgIH1cclxufVxyXG5cclxuVGFza0NvbXBvbmVudHMucHJvdG90eXBlID0ge1xyXG5cclxuICAgIGNsZWFyUmVmZXJlbmNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnJvb3ROb2RlID0gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIGFjdFR5cGUsXHJcbiAgICAgICAgICAgIHBhZ2VUeXBlICAgICAgPSBkYXRhLnBhZ2VUeXBlLFxyXG4gICAgICAgICAgICBjcmVhdGVXaWRnZXRzID0gZGF0YS5hY3Rpdml0eXMsXHJcbiAgICAgICAgICAgIGNocGF0ZXJEYXRhICAgPSBkYXRhLmNocGF0ZXJEYXRhLFxyXG4gICAgICAgICAgICBjaGFwdGVySWQgICAgID0gZGF0YS5jaGFwdGVySWQsXHJcbiAgICAgICAgICAgIHBpZCAgICAgICAgICAgPSBkYXRhLnBpZCxcclxuICAgICAgICAgICAgdmlydHVhbE9mZnNldCA9IGRhdGEudmlydHVhbE9mZnNldCxcclxuICAgICAgICAgICAgd2lkZ2V0UmV0U3RyICA9IFtdO1xyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdmlydHVhbENyZWF0ZShhY3RUeXBlLCBhY3Rpdml0eURhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHNjYWxlTGVmdCA9IGFjdGl2aXR5RGF0YS5zY2FsZUxlZnQ7XHJcbiAgICAgICAgICAgIC8vIOWIm+W7uuWIhuW4g+W3pui+ueeahOWvueixoVxyXG4gICAgICAgICAgICBpZiAodmlydHVhbE9mZnNldCA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGVMZWZ0IDwgWHV0LmNvbmZpZy5zY3JlZW5TaXplLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDcmVhdGUoYWN0VHlwZSwgYWN0aXZpdHlEYXRhKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5Yib5bu65YiG5biD5Y+z6L6555qE5a+56LGhXHJcbiAgICAgICAgICAgIGlmICh2aXJ0dWFsT2Zmc2V0ID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGVMZWZ0ID4gWHV0LmNvbmZpZy5zY3JlZW5TaXplLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDcmVhdGUoYWN0VHlwZSwgYWN0aXZpdHlEYXRhKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WIm+W7ulxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0Q3JlYXRlKGFjdFR5cGUsIGFjdGl2aXR5RGF0YSkge1xyXG4gICAgICAgICAgICAvL+WIm+W7ukRPTeWFg+e0oOe7k+aehFxyXG4gICAgICAgICAgICAvL+i/lOWbnuaYr+aLvOaOpeWtl+espuS4slxyXG4gICAgICAgICAgICB3aWRnZXRSZXRTdHIucHVzaChCaW5kW2FjdFR5cGVdWydjcmVhdGVEb20nXShcclxuICAgICAgICAgICAgICAgIGFjdGl2aXR5RGF0YSwgY2hwYXRlckRhdGEsIGNoYXB0ZXJJZCwgcGlkLCBYdXQuekluZGV4bGV2ZWwoKSwgcGFnZVR5cGVcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy/pnIDopoHliJvlu7rnmoTmlbDmja7nu5PmnoRcclxuICAgICAgICBjcmVhdGVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24oYWN0aXZpdHlEYXRhLCBpbmRleCkge1xyXG5cclxuICAgICAgICAgICAgLy/liJvlu7rnsbvlnotcclxuICAgICAgICAgICAgYWN0VHlwZSA9IGFjdGl2aXR5RGF0YS5hY3RUeXBlIHx8IGFjdGl2aXR5RGF0YS5hbmltYXRpb247XHJcblxyXG4gICAgICAgICAgICAvL+eJueauiuexu+WeiyBzaG93Tm90ZVxyXG4gICAgICAgICAgICBpZiAoIWFjdFR5cGUgJiYgYWN0aXZpdHlEYXRhLm5vdGUpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2aXR5RGF0YVsnYWN0VHlwZSddID0gYWN0VHlwZSA9IFwiU2hvd05vdGVcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChhY3RUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTaG93Tm90ZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnV2lkZ2V0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0F1ZGlvJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ZpZGVvJzpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy/nvKnmlL7mr5RcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eURhdGEgPSByZXZpc2VTaXplKGFjdGl2aXR5RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8v5aSE55CG6Jma5ouf5qih5byP5Yib5bu6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFh1dC5jb25maWcudmlydHVhbE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbENyZWF0ZShhY3RUeXBlLCBhY3Rpdml0eURhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRDcmVhdGUoYWN0VHlwZSwgYWN0aXZpdHlEYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiB3aWRnZXRSZXRTdHIuam9pbihcIlwiKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnvJbor5HkuK3mlq3lh73mlbBcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBjb21waWxlU3VzcGVuZDogZnVuY3Rpb24oc3RyKSB7XHJcblxyXG4gICAgICAgIHZhciBuZXh0VGFza3MsIHN1c3BlbmRUYXNrcyxcclxuICAgICAgICAgICAgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8v57un57ut5omn6KGMXHJcbiAgICAgICAgbmV4dFRhc2tzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFh1dC5uZXh0VGljayh7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHNlbGYucm9vdE5vZGUsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAkKHN0cilcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNsZWFyUmVmZXJlbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrLnN1Y2Nlc3NDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Lit5pat5pa55rOVXHJcbiAgICAgICAgc3VzcGVuZFRhc2tzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3VzcGVuZFF1ZXVlcyA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLnN1c3BlbmRRdWV1ZXMucHVzaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG5leHRUYXNrcygpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmNhbGxiYWNrLnN1c3BlbmRDYWxsYmFjayhuZXh0VGFza3MsIHN1c3BlbmRUYXNrcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6L+Q6KGM6KKr6Zi75pat55qE57q/56iL5Lu75YqhXHJcbiAgICBydW5TdXNwZW5kVGFza3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN1c3BlbmRRdWV1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIGZuO1xyXG4gICAgICAgICAgICBpZiAoZm4gPSB0aGlzLnN1c3BlbmRRdWV1ZXMucG9wKCkpIHtcclxuICAgICAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdXNwZW5kUXVldWVzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFRhc2tDb21wb25lbnRzIH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb21wb25lbnRzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 79 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TaskContainer = TaskContainer;\n/**\r\n *\t创建主容器任务片\r\n *  state状态\r\n *   \t0 未创建\r\n *    \t1 正常创建\r\n *     \t2 创建完毕\r\n *      3 创建失败\r\n */\n\nvar prefixStyle = Xut.plat.prefixStyle;\n\n/**\r\n * 创建父容器li结构\r\n */\nfunction createContainer(transform, data) {\n\n    var str = '',\n        containerBackground = '',\n        userStyle = data.userStyle,\n        baseData = data.baseData,\n        url = baseData.md5;\n\n    var config = Xut.config;\n\n    var proportion = config.proportion;\n    var calculate = proportion.calculateContainer();\n    var sWidth = calculate.width;\n    var sHeight = calculate.height;\n\n    //chpater有背景，不是svg格式\n    if (!/.svg$/i.test(url)) {\n        containerBackground = 'background-image:url(' + config.pathAddress + url + ');';\n    }\n\n    function createli(customStyle) {\n        customStyle = customStyle ? customStyle : '';\n        var str;\n        var offsetLeft = 0;\n        var pageType = data.pageType;\n        if (config.virtualMode) {\n            if (data.virtualOffset === 'right') {\n                offsetLeft = -(config.screenSize.width - proportion.offsetLeft);\n            }\n            str = String.format('<li id=\"{0}\" class=\"xut-flip\" data-map=\"{1}\" data-pageType=\"{2}\" data-container=\"true\" style=\"overflow:hidden;{3}:{4};{5}{6}\">' + '<div style=\"width:{7}px;left:{8}px;height:100%;position:relative\"></div>' + '</li>', data.prefix, data.pid, pageType, prefixStyle('transform'), transform, containerBackground, customStyle, sWidth, offsetLeft);\n        } else {\n            str = String.format('<li id=\"{0}\" class=\"xut-flip\" data-map=\"{1}\" data-pageType=\"{2}\" data-container=\"true\" style=\"overflow:hidden;{3}:{4};{5}{6}\"></li>', data.prefix, data.pid, pageType, prefixStyle('transform'), transform, containerBackground, customStyle);\n        }\n        return str;\n    }\n\n    /**\r\n     * 自定义配置了样式\r\n     * 因为单页面跳槽层级的问题处理\r\n     */\n    if (userStyle !== undefined) {\n        //解析自定义规则\n        var customStyle = '';\n        _.each(userStyle, function (value, key) {\n            customStyle += key + ':' + value + ';';\n        });\n        str = createli(customStyle);\n    } else {\n        str = createli();\n    }\n\n    return $(str); //转化成文档碎片\n}\n\nfunction TaskContainer(data, successCallback) {\n\n    var $element;\n\n    //iboosk编译\n    //在执行的时候节点已经存在\n    //不需要在创建\n    if (Xut.IBooks.runMode()) {\n        $element = $(\"#\" + data.prefix);\n        successCallback($element, pseudoElement);\n        return;\n    }\n\n    var pseudoElement,\n        transform = data.initTransformParameter[0],\n        direction = data.initTransformParameter[1],\n\n    //创建的flip结构体\n    $element = createContainer(transform, data),\n\n    //创建节点的方向\n    direction = direction === 'before' ? 'first' : 'last';\n\n    //如果启动了wordMode模式,查找伪li\n    if (Xut.config.virtualMode) {\n        pseudoElement = $element.find('div');\n    }\n\n    Xut.nextTick({\n        container: data.rootNode,\n        content: $element,\n        position: direction\n    }, function () {\n        successCallback($element, pseudoElement);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250YWluZXIuanM/YzZmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQTZFZ0IsYSxHQUFBLGE7Ozs7Ozs7Ozs7QUFwRWhCLElBQUksY0FBYyxJQUFJLElBQUosQ0FBUyxXQUEzQjs7Ozs7QUFLQSxTQUFTLGVBQVQsQ0FBeUIsU0FBekIsRUFBb0MsSUFBcEMsRUFBMEM7O0FBRXRDLFFBQUksTUFBTSxFQUFWO1FBQ0ksc0JBQXNCLEVBRDFCO1FBRUksWUFBWSxLQUFLLFNBRnJCO1FBR0ksV0FBVyxLQUFLLFFBSHBCO1FBSUksTUFBTSxTQUFTLEdBSm5COztBQU1BLFFBQUksU0FBUyxJQUFJLE1BQWpCOztBQUVBLFFBQUksYUFBYSxPQUFPLFVBQXhCO0FBQ0EsUUFBSSxZQUFZLFdBQVcsa0JBQVgsRUFBaEI7QUFDQSxRQUFJLFNBQVMsVUFBVSxLQUF2QjtBQUNBLFFBQUksVUFBVSxVQUFVLE1BQXhCOzs7QUFHQSxRQUFJLENBQUMsU0FBUyxJQUFULENBQWMsR0FBZCxDQUFMLEVBQXlCO0FBQ3JCLDhCQUFzQiwwQkFBMEIsT0FBTyxXQUFqQyxHQUErQyxHQUEvQyxHQUFxRCxJQUEzRTtBQUNIOztBQUVELGFBQVMsUUFBVCxDQUFrQixXQUFsQixFQUErQjtBQUMzQixzQkFBYyxjQUFjLFdBQWQsR0FBNEIsRUFBMUM7QUFDQSxZQUFJLEdBQUo7QUFDQSxZQUFJLGFBQWEsQ0FBakI7QUFDQSxZQUFJLFdBQVcsS0FBSyxRQUFwQjtBQUNBLFlBQUksT0FBTyxXQUFYLEVBQXdCO0FBQ3BCLGdCQUFJLEtBQUssYUFBTCxLQUF1QixPQUEzQixFQUFvQztBQUNoQyw2QkFBYSxFQUFFLE9BQU8sVUFBUCxDQUFrQixLQUFsQixHQUEwQixXQUFXLFVBQXZDLENBQWI7QUFDSDtBQUNELGtCQUFNLE9BQU8sTUFBUCxDQUNGLG1JQUNBLDBFQURBLEdBRUEsT0FIRSxFQUlGLEtBQUssTUFKSCxFQUlXLEtBQUssR0FKaEIsRUFJcUIsUUFKckIsRUFJK0IsWUFBWSxXQUFaLENBSi9CLEVBSXlELFNBSnpELEVBSW9FLG1CQUpwRSxFQUl5RixXQUp6RixFQUlzRyxNQUp0RyxFQUk4RyxVQUo5RyxDQUFOO0FBTUgsU0FWRCxNQVVPO0FBQ0gsa0JBQU0sT0FBTyxNQUFQLENBQ0YscUlBREUsRUFFRixLQUFLLE1BRkgsRUFFVyxLQUFLLEdBRmhCLEVBRXFCLFFBRnJCLEVBRStCLFlBQVksV0FBWixDQUYvQixFQUV5RCxTQUZ6RCxFQUVvRSxtQkFGcEUsRUFFeUYsV0FGekYsQ0FBTjtBQUlIO0FBQ0QsZUFBTyxHQUFQO0FBQ0g7Ozs7OztBQU1ELFFBQUksY0FBYyxTQUFsQixFQUE2Qjs7QUFFekIsWUFBSSxjQUFjLEVBQWxCO0FBQ0EsVUFBRSxJQUFGLENBQU8sU0FBUCxFQUFrQixVQUFTLEtBQVQsRUFBZ0IsR0FBaEIsRUFBcUI7QUFDbkMsMkJBQWUsTUFBTSxHQUFOLEdBQVksS0FBWixHQUFvQixHQUFuQztBQUNILFNBRkQ7QUFHQSxjQUFNLFNBQVMsV0FBVCxDQUFOO0FBQ0gsS0FQRCxNQU9PO0FBQ0gsY0FBTSxVQUFOO0FBQ0g7O0FBRUQsV0FBTyxFQUFFLEdBQUYsQ0FBUCxDO0FBQ0g7O0FBR00sU0FBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCLGVBQTdCLEVBQThDOztBQUVqRCxRQUFJLFFBQUo7Ozs7O0FBS0EsUUFBSSxJQUFJLE1BQUosQ0FBVyxPQUFYLEVBQUosRUFBMEI7QUFDdEIsbUJBQVcsRUFBRSxNQUFNLEtBQUssTUFBYixDQUFYO0FBQ0Esd0JBQWdCLFFBQWhCLEVBQTBCLGFBQTFCO0FBQ0E7QUFDSDs7QUFFRCxRQUFJLGFBQUo7UUFDSSxZQUFZLEtBQUssc0JBQUwsQ0FBNEIsQ0FBNUIsQ0FEaEI7UUFFSSxZQUFZLEtBQUssc0JBQUwsQ0FBNEIsQ0FBNUIsQ0FGaEI7OztBQUlJLGVBQVcsZ0JBQWdCLFNBQWhCLEVBQTJCLElBQTNCLENBSmY7OztBQU1JLGdCQUFZLGNBQWMsUUFBZCxHQUF5QixPQUF6QixHQUFtQyxNQU5uRDs7O0FBU0EsUUFBSSxJQUFJLE1BQUosQ0FBVyxXQUFmLEVBQTRCO0FBQ3hCLHdCQUFnQixTQUFTLElBQVQsQ0FBYyxLQUFkLENBQWhCO0FBQ0g7O0FBRUQsUUFBSSxRQUFKLENBQWE7QUFDVCxtQkFBVyxLQUFLLFFBRFA7QUFFVCxpQkFBUyxRQUZBO0FBR1Qsa0JBQVU7QUFIRCxLQUFiLEVBSUcsWUFBVztBQUNWLHdCQUFnQixRQUFoQixFQUEwQixhQUExQjtBQUNILEtBTkQ7QUFPSCIsImZpbGUiOiI3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKlx05Yib5bu65Li75a655Zmo5Lu75Yqh54mHXHJcbiAqICBzdGF0ZeeKtuaAgVxyXG4gKiAgIFx0MCDmnKrliJvlu7pcclxuICogICAgXHQxIOato+W4uOWIm+W7ulxyXG4gKiAgICAgXHQyIOWIm+W7uuWujOavlVxyXG4gKiAgICAgIDMg5Yib5bu65aSx6LSlXHJcbiAqL1xyXG5cclxudmFyIHByZWZpeFN0eWxlID0gWHV0LnBsYXQucHJlZml4U3R5bGU7XHJcblxyXG4vKipcclxuICog5Yib5bu654i25a655ZmobGnnu5PmnoRcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcih0cmFuc2Zvcm0sIGRhdGEpIHtcclxuXHJcbiAgICB2YXIgc3RyID0gJycsXHJcbiAgICAgICAgY29udGFpbmVyQmFja2dyb3VuZCA9ICcnLFxyXG4gICAgICAgIHVzZXJTdHlsZSA9IGRhdGEudXNlclN0eWxlLFxyXG4gICAgICAgIGJhc2VEYXRhID0gZGF0YS5iYXNlRGF0YSxcclxuICAgICAgICB1cmwgPSBiYXNlRGF0YS5tZDU7XHJcblxyXG4gICAgdmFyIGNvbmZpZyA9IFh1dC5jb25maWdcclxuXHJcbiAgICB2YXIgcHJvcG9ydGlvbiA9IGNvbmZpZy5wcm9wb3J0aW9uO1xyXG4gICAgdmFyIGNhbGN1bGF0ZSA9IHByb3BvcnRpb24uY2FsY3VsYXRlQ29udGFpbmVyKCk7XHJcbiAgICB2YXIgc1dpZHRoID0gY2FsY3VsYXRlLndpZHRoO1xyXG4gICAgdmFyIHNIZWlnaHQgPSBjYWxjdWxhdGUuaGVpZ2h0O1xyXG5cclxuICAgIC8vY2hwYXRlcuacieiDjOaZr++8jOS4jeaYr3N2Z+agvOW8j1xyXG4gICAgaWYgKCEvLnN2ZyQvaS50ZXN0KHVybCkpIHtcclxuICAgICAgICBjb250YWluZXJCYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBjb25maWcucGF0aEFkZHJlc3MgKyB1cmwgKyAnKTsnXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlbGkoY3VzdG9tU3R5bGUpIHtcclxuICAgICAgICBjdXN0b21TdHlsZSA9IGN1c3RvbVN0eWxlID8gY3VzdG9tU3R5bGUgOiAnJztcclxuICAgICAgICB2YXIgc3RyO1xyXG4gICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gMDtcclxuICAgICAgICB2YXIgcGFnZVR5cGUgPSBkYXRhLnBhZ2VUeXBlO1xyXG4gICAgICAgIGlmIChjb25maWcudmlydHVhbE1vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEudmlydHVhbE9mZnNldCA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IC0oY29uZmlnLnNjcmVlblNpemUud2lkdGggLSBwcm9wb3J0aW9uLm9mZnNldExlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciA9IFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAnPGxpIGlkPVwiezB9XCIgY2xhc3M9XCJ4dXQtZmxpcFwiIGRhdGEtbWFwPVwiezF9XCIgZGF0YS1wYWdlVHlwZT1cInsyfVwiIGRhdGEtY29udGFpbmVyPVwidHJ1ZVwiIHN0eWxlPVwib3ZlcmZsb3c6aGlkZGVuO3szfTp7NH07ezV9ezZ9XCI+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cIndpZHRoOns3fXB4O2xlZnQ6ezh9cHg7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmVcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICc8L2xpPicsXHJcbiAgICAgICAgICAgICAgICBkYXRhLnByZWZpeCwgZGF0YS5waWQsIHBhZ2VUeXBlLCBwcmVmaXhTdHlsZSgndHJhbnNmb3JtJyksIHRyYW5zZm9ybSwgY29udGFpbmVyQmFja2dyb3VuZCwgY3VzdG9tU3R5bGUsIHNXaWR0aCwgb2Zmc2V0TGVmdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0ciA9IFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAnPGxpIGlkPVwiezB9XCIgY2xhc3M9XCJ4dXQtZmxpcFwiIGRhdGEtbWFwPVwiezF9XCIgZGF0YS1wYWdlVHlwZT1cInsyfVwiIGRhdGEtY29udGFpbmVyPVwidHJ1ZVwiIHN0eWxlPVwib3ZlcmZsb3c6aGlkZGVuO3szfTp7NH07ezV9ezZ9XCI+PC9saT4nLFxyXG4gICAgICAgICAgICAgICAgZGF0YS5wcmVmaXgsIGRhdGEucGlkLCBwYWdlVHlwZSwgcHJlZml4U3R5bGUoJ3RyYW5zZm9ybScpLCB0cmFuc2Zvcm0sIGNvbnRhaW5lckJhY2tncm91bmQsIGN1c3RvbVN0eWxlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDoh6rlrprkuYnphY3nva7kuobmoLflvI9cclxuICAgICAqIOWboOS4uuWNlemhtemdoui3s+anveWxgue6p+eahOmXrumimOWkhOeQhlxyXG4gICAgICovXHJcbiAgICBpZiAodXNlclN0eWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvL+ino+aekOiHquWumuS5ieinhOWImVxyXG4gICAgICAgIHZhciBjdXN0b21TdHlsZSA9ICcnO1xyXG4gICAgICAgIF8uZWFjaCh1c2VyU3R5bGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgY3VzdG9tU3R5bGUgKz0ga2V5ICsgJzonICsgdmFsdWUgKyAnOydcclxuICAgICAgICB9KVxyXG4gICAgICAgIHN0ciA9IGNyZWF0ZWxpKGN1c3RvbVN0eWxlKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzdHIgPSBjcmVhdGVsaSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICQoc3RyKTsgLy/ovazljJbmiJDmlofmoaPnoo7niYdcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUYXNrQ29udGFpbmVyKGRhdGEsIHN1Y2Nlc3NDYWxsYmFjaykge1xyXG5cclxuICAgIHZhciAkZWxlbWVudDtcclxuXHJcbiAgICAvL2lib29za+e8luivkVxyXG4gICAgLy/lnKjmiafooYznmoTml7blgJnoioLngrnlt7Lnu4/lrZjlnKhcclxuICAgIC8v5LiN6ZyA6KaB5Zyo5Yib5bu6XHJcbiAgICBpZiAoWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuICAgICAgICAkZWxlbWVudCA9ICQoXCIjXCIgKyBkYXRhLnByZWZpeCk7XHJcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKCRlbGVtZW50LCBwc2V1ZG9FbGVtZW50KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHZhciBwc2V1ZG9FbGVtZW50LFxyXG4gICAgICAgIHRyYW5zZm9ybSA9IGRhdGEuaW5pdFRyYW5zZm9ybVBhcmFtZXRlclswXSxcclxuICAgICAgICBkaXJlY3Rpb24gPSBkYXRhLmluaXRUcmFuc2Zvcm1QYXJhbWV0ZXJbMV0sXHJcbiAgICAgICAgLy/liJvlu7rnmoRmbGlw57uT5p6E5L2TXHJcbiAgICAgICAgJGVsZW1lbnQgPSBjcmVhdGVDb250YWluZXIodHJhbnNmb3JtLCBkYXRhKSxcclxuICAgICAgICAvL+WIm+W7uuiKgueCueeahOaWueWQkVxyXG4gICAgICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gJ2JlZm9yZScgPyAnZmlyc3QnIDogJ2xhc3QnO1xyXG5cclxuICAgIC8v5aaC5p6c5ZCv5Yqo5LqGd29yZE1vZGXmqKHlvI8s5p+l5om+5LyqbGlcclxuICAgIGlmIChYdXQuY29uZmlnLnZpcnR1YWxNb2RlKSB7XHJcbiAgICAgICAgcHNldWRvRWxlbWVudCA9ICRlbGVtZW50LmZpbmQoJ2RpdicpO1xyXG4gICAgfVxyXG5cclxuICAgIFh1dC5uZXh0VGljayh7XHJcbiAgICAgICAgY29udGFpbmVyOiBkYXRhLnJvb3ROb2RlLFxyXG4gICAgICAgIGNvbnRlbnQ6ICRlbGVtZW50LFxyXG4gICAgICAgIHBvc2l0aW9uOiBkaXJlY3Rpb25cclxuICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHN1Y2Nlc3NDYWxsYmFjaygkZWxlbWVudCwgcHNldWRvRWxlbWVudClcclxuICAgIH0pO1xyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250YWluZXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 80 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parserRelated = undefined;\n\nvar _index = __webpack_require__(1);\n\n//零件类型,快速判断\n//新增content卷滚区域,所有JS零件content\n//类型选择,content有扩充的子类型\n//针对零件类型在category字段中的子分类\nvar widgetType = {}; /********************************************************\r\n                      *\r\n                      *\t数据过滤,去重算法\r\n                      *\tcontent数据解析息息相关的方法\r\n                      *\r\n                      *======================================================*/\n\n_.each(\"jsWidget content svgWidget canvasWidget path\".split(\" \"), function (key, name) {\n    widgetType[key] = true;\n});\n\n/**\r\n * 类型统一\r\n * @param  {[type]} activity [description]\r\n * @return {[type]}          [description]\r\n */\nfunction unifyType(activity) {\n    //满足条件统一为零件类型\n    return widgetType[activity.category] ? \"JsWidget\" : activity.actType;\n}\n\n/**\r\n * 创建事件容器\r\n * @param  {[type]} eventId [description]\r\n * @return {[type]}         [description]\r\n */\nfunction createEventContainer(relateds, eventId) {\n    if (!relateds.seasonRelated[eventId]) {\n        relateds.seasonRelated[eventId] = {};\n    }\n}\n\n/**\r\n * 配合出item中相关信息\r\n * 1.场景信息\r\n * 2.收费信息\r\n * @param  {[type]} tokens [description]\r\n * @return {[type]}        [description]\r\n */\nfunction adapterItemArrayRelated(relateds, activitys, tokens) {\n    //如果分解出节信息\n    var seasonId,\n        inAppValue,\n        chapterId,\n        values,\n        eventId = activitys.imageId;\n\n    _.each(['seasonId', 'Inapp', 'SearchBar', 'BookMarks'], function (type) {\n        values = tokens[type];\n        //如果有值\n        if (values !== undefined) {\n            //创建容器\n            createEventContainer(relateds, eventId);\n            switch (type) {\n                //跳转新场景信息\n                case 'seasonId':\n                    chapterId = tokens['chapterId'] || tokens['chapter'];\n                    relateds.seasonRelated[eventId] = {\n                        seasonId: values[0],\n                        chapterId: chapterId ? chapterId[0] : ''\n                    };\n                    break;\n                //收费信息,给事件上绑定收费接口\n                //0 收费 1 已收费\n                case 'Inapp':\n                    relateds.seasonRelated[eventId]['Inapp'] = values[0];\n                    break;\n                default:\n                    //搜索栏\n                    //书签\n                    relateds.seasonRelated[eventId][type] = eventId;\n                    break;\n            }\n        }\n    });\n}\n\n////////////\n//解析相关数据 //\n//解析每一条 Activitys 对应的数据结构\n////////////\nfunction parserRelated(compileActivitys, data) {\n\n    var activitys,\n        hookType,\n        resultsActivitys,\n        //结果结合\n    i = compileActivitys.length,\n        pageType = data.pageType,\n        pid = data.pid,\n\n\n    /**\r\n     * 相关数据合集\r\n     * @type {Object}\r\n     */\n    activityRelated = [],\n        //Activit合集相关数据信息\n    tempRelated = [],\n        //临时数据\n\n    /**\r\n     * 解析出来的相关信息\r\n     * @type {Object}\r\n     */\n    relateds = {\n        seasonRelated: {}, //节信息\n        containerRelated: [], //容器合集相关数据信息\n        eventRelated: {}, //多事件容器合集\n        partContentRelated: [] //卷滚conten只创建,不处理行为\n    };\n\n    /**\r\n     * 创建解析\r\n     * @param  {Function} callback [description]\r\n     * @return {[type]}            [description]\r\n     */\n    var createResolve = function createResolve(callback) {\n        return resolveContentToActivity(function (tokens) {\n            return callback(tokens);\n        }, activitys, pageType, pid);\n    };\n\n    /**\r\n     * 类型处理器\r\n     * 除去动画的其余处理类型\r\n     * @type {Object}\r\n     */\n    var hookResolve = {\n\n        /**\r\n         * 单独处理容器类型\r\n         * @param  {[type]} relateds [description]\r\n         * @return {[type]}          [description]\r\n         */\n        \"Container\": function Container() {\n            relateds.containerRelated.push(createResolve(function (tokens) {\n                return {\n                    'Container': tokens['Content']\n                };\n            }));\n        },\n\n        /**\r\n         * 多事件\r\n         * @param  {[type]} relateds [description]\r\n         * @return {[type]}          [description]\r\n         */\n        \"Contents\": function Contents() {\n            var item;\n            if (item = createResolve(function (tokens) {\n                return {\n                    'Contents': [tokens]\n                };\n            })[0]) {\n                //给content注册多个绑定事件\n                var eventId = activitys.imageId;\n                var eventData = {\n                    'eventContentId': eventId,\n                    'activityId': activitys._id,\n                    'registers': item['activity'],\n                    'eventType': activitys.eventType,\n                    'dragdropPara': activitys.para1 //拖拽对象\n                };\n                var isEvt = relateds.eventRelated['eventContentId->' + eventId];\n                if (isEvt) {\n                    isEvt.push(eventData);\n                } else {\n                    relateds.eventRelated['eventContentId->' + eventId] = [eventData];\n                }\n            }\n        },\n\n        /**\r\n         * 所有js零件\r\n         * @param  {[type]} relateds [description]\r\n         * @return {[type]}          [description]\r\n         */\n        \"JsWidget\": function JsWidget() {\n            var scrollContents = (0, _index.parseJSON)(activitys.itemArray);\n            if (_.isArray(scrollContents)) {\n                _.each(scrollContents, function (data) {\n                    relateds.partContentRelated.push(data.id);\n                });\n            } else {\n                relateds.partContentRelated.push(scrollContents.id);\n            }\n        }\n    };\n\n    /**\r\n     * 解析出当前页面的所有的Activit表\r\n     * 1个chpater页面 可以对应多个Activit表中的数据\r\n     * 1 Container 容器类型\r\n     * 2 page 类型\r\n     * 3 parallax 类型\r\n     * 4 Scenario 类型\r\n     * 5 content合集 contents处理\r\n     *\r\n     */\n    while (activitys = compileActivitys.shift()) {\n\n        //统一类型\n        hookType = unifyType(activitys);\n\n        //类型匹配\n        if (!hookResolve[hookType]\n        /////////////////\n        ///钩子事件\n        ////////////////\n         || hookResolve[hookType] && hookResolve[hookType](relateds)) {\n\n            /////////////////////\n            //Content类型处理 //\n            /////////////////////\n\n            //如果是动画表,视觉差表关联的content类型\n            resultsActivitys = createResolve(function (tokens) {\n\n                //解析itemArray字段中的相关的信息\n                adapterItemArrayRelated(relateds, activitys, tokens);\n\n                //解析表数据\n                switch (pageType) {\n                    case 'page':\n                        return parseTypeRelation(['Animation'], tokens);\n                    case 'master':\n                        //新增第三个参数，\n                        //视觉差支持所有content动画\n                        return parseTypeRelation(['Animation', 'Parallax'], tokens);\n                }\n            });\n\n            //如果有手动触发器,置于最后\n            if (activitys.imageId) {\n                tempRelated.push(resultsActivitys);\n            } else {\n                activityRelated.push(resultsActivitys);\n            }\n        }\n    }\n\n    //合并排序\n    if (tempRelated.length) {\n        activityRelated = activityRelated.concat(tempRelated);\n    }\n\n    /**\r\n     *\t过滤出与创建相关的content合集ID\r\n     *\treturn [\r\n     *\t\tcreateEventIds  主content列表 (用来绑定eventType事件)\r\n     *\t    createContentIds 合并所有content操作后,过滤掉重复的content,得到可以创建的content的ID合集\r\n     *\t]\r\n     *\r\n     * \twContentRelated  混入合并的数据\r\n     * partContentRelated 需要过滤的数据\r\n     */\n    // console.log(activityRelated.slice(0))\n    var createEventIds,\n        createContentIds,\n        cacheUUID = 'createRelevant-' + data.chapterId,\n        createRelevant = _index.contentCache[cacheUUID];\n\n    //创建缓存\n    if (!createRelevant) {\n        createRelevant = (0, _index.contentCache)(cacheUUID, toRepeatCombineGroup(activityRelated, relateds.partContentRelated, pageType));\n    }\n\n    createEventIds = createRelevant[0].slice(0);\n    createContentIds = createRelevant[1].slice(0);\n\n    //如果存在过滤器\n    if (Xut.CreateFilter.size()) {\n        var filterEach = Xut.CreateFilter.each(data.chapterId);\n        if (filterEach) {\n            filterEach(createEventIds, function (indexOf) {\n                createEventIds.splice(indexOf, 1);\n            });\n            filterEach(createContentIds, function (indexOf) {\n                createContentIds.splice(indexOf, 1);\n            });\n            filterEach = null;\n        }\n    }\n\n    return _.extend(data, relateds, {\n        'createEventIds': createEventIds, //事件ID数\n        'createContentIds': createContentIds, //创建的content总ID数\n        // 'originalCreateContentIds' : createContentIds.slice(0), //保留原始的创建副本\n        'createActivitys': activityRelated\n    });\n};\n\n/**************************************************************************\r\n *\r\n * \t\t分组Content表中对应的多个Conte\r\n *   \t1：Animation表\r\n *    \t2: Parallax表\r\n *     \t3: seed种子合集 就是解析1：Animation表，Parallax表得到的数据\r\n *\r\n ****************************************************************************/\nfunction resolveContentToActivity(callback, activity, pageType, pid) {\n    var animContentIds,\n        paraContentIds,\n        parallaxRelated,\n        parallaxDas,\n        animRelated,\n        animationDas = '',\n        eventId = activity.imageId,\n\n    //需要分解的contentIds合集\n    // 1 动画表数据\t\tAnimation\n    // 2 视觉差数据     Parallax\n    // 3 超链接\t\t\tseasonId\n    // 4 收费\t\t\tInapp\n    tokens = tokenize(activity['itemArray']) || [],\n\n    //解析Animations,Parallaxs数据\n    //\tseed {\n    //\t\tAnimation:[data,Ids]\n    //\t\tParallax:[data,Ids]\n    //\t}\n    seed = callback(tokens),\n\n\n    //判断类型\n    type = Object.keys(seed)[0];\n\n    /**\r\n     * 去重事件ID\r\n     * original  原ID合集\r\n     * detection 需要检测去重的ID\r\n     *\r\n     */\n    function toRepeatContents(original) {\n        if (original && eventId) {\n            var indexOf = original.indexOf(eventId);\n            if (-1 !== indexOf) {\n                original.splice(indexOf, 1);\n            }\n        }\n    }\n\n    switch (type) {\n        //容器\n        case 'Container':\n            animContentIds = seed.Container;\n            toRepeatContents(animContentIds);\n            break;\n        //多事件处理\n        case 'Contents':\n            return seed.Contents;\n        default:\n            /**\r\n             * 如果是对象处理，\r\n             * 针对动画表，视觉差表,行为的处理\r\n             */\n            //需要创建的content合集\n            if (_.keys(seed).length) {\n                animRelated = seed.Animation;\n                parallaxRelated = seed.Parallax;\n                //页面模式\n                if (pageType === 'page') {\n                    if (animRelated) {\n                        animContentIds = animRelated.ids;\n                        animationDas = animRelated.das;\n                    }\n                } else {\n                    //视觉差存在视觉差表处理\n                    // console.log(1111,animRelated, parallaxRelated)\n                    //母版的动画数据\n                    if (animRelated) {\n                        animContentIds = animRelated.ids;\n                        animationDas = animRelated.das;\n                    }\n                    //母版的视察数据\n                    if (parallaxRelated) {\n                        paraContentIds = parallaxRelated.ids;\n                        parallaxDas = parallaxRelated.das;\n                    }\n                }\n\n                //如果id都存在\n                //合并\n                if (animContentIds && paraContentIds) {\n                    animContentIds = animContentIds.concat(paraContentIds);\n                }\n\n                //只存在视察\n                if (!animContentIds && paraContentIds) {\n                    animContentIds = paraContentIds;\n                }\n                toRepeatContents(animContentIds);\n            }\n            break;\n    }\n\n    //创建对象是层次关系\n    return {\n        'pageType': pageType,\n        'activity': activity,\n        'imageIds': eventId,\n        //data\n        'seed': {\n            'animation': animationDas,\n            'parallax': parallaxDas\n        },\n        //id\n        'ids': {\n            'content': animContentIds,\n            'parallax': paraContentIds\n        }\n    };\n}\n\n/************************************************************************\r\n *\r\n *     合并,过滤需要处理的content\r\n *     combineImageIds  可以创建的imageId合集，也就是content的合集,用来绑定自定义事件\r\n *     createContentIds 可以创建的content合集,过滤合并重复\r\n *\r\n * **********************************************************************/\nfunction toRepeatCombineGroup(compilerActivitys, mixFilterRelated, pageType) {\n    var ids,\n        contentIds,\n        needCreateContentIds,\n        imageIds,\n        activityRelated,\n        parallaxId,\n        combineItemIds = [],\n        combineImageIds = [],\n        i = compilerActivitys.length;\n\n    function pushCache(target, original, callback) {\n        var id,\n            i = original.length;\n        while (i--) {\n            id = Number(original[i]);\n            target.push(id);\n            callback && callback(id);\n        }\n    }\n\n    while (i--) {\n        //开始执行过滤操作\n        activityRelated = compilerActivitys[i];\n        ids = activityRelated.ids;\n        contentIds = ids.content;\n        parallaxId = ids.parallax; //浮动类型的对象\n        imageIds = activityRelated.imageIds;\n\n        //针对普通content对象\n        if (contentIds && contentIds.length) {\n            //如果不为空\n            pushCache(combineItemIds, contentIds);\n        }\n\n        //视察对象\n        if (parallaxId && parallaxId.length) {\n            //如果不为空\n            pushCache(combineItemIds, parallaxId);\n        }\n\n        //事件合集\n        if (imageIds) {\n            combineImageIds.push(Number(imageIds));\n        }\n    }\n\n    //混入外部合并了逻辑\n    if (mixFilterRelated && mixFilterRelated.length) {\n        _.each(mixFilterRelated, function (data) {\n            if (data) {\n                combineItemIds = combineItemIds.concat(data);\n            }\n        });\n    }\n\n    //过滤合并多个content数据\n    if (combineImageIds.length) {\n        needCreateContentIds = (0, _index.arrayUnique)(combineItemIds.concat(combineImageIds));\n    } else {\n        needCreateContentIds = (0, _index.arrayUnique)(combineItemIds);\n    }\n\n    //排序\n    needCreateContentIds = needCreateContentIds.sort(function (a, b) {\n        return a - b;\n    });\n\n    /**\r\n     * 合并创建信息\r\n     * 需要创建的事件\r\n     * 需要创建的所有对象\r\n     */\n    return [combineImageIds, needCreateContentIds];\n}\n\n/**\r\n * 解析指定类型数据\r\n * strengthenAnmin 视觉差增强动画表\r\n * @return {[type]}\r\n */\nfunction parseTypeRelation(tableName, tokenIds) {\n    var tokenId;\n    var itemData = {};\n    _.each(tableName, function (tName) {\n        if (tokenId = tokenIds[tName]) {\n            if (itemData[tName]) {\n                console.log('未处理解析同一个表');\n            } else {\n                itemData[tName] = inGroup(tName, tokenId);\n            }\n        }\n    });\n    return itemData;\n}\n\n/**\r\n * 分组\r\n * @return {[type]} [description]\r\n */\nfunction inGroup(tableName, contentIds) {\n    var k,\n        keyName,\n        data,\n        contentId,\n        temp = {},\n        das = [],\n        ids = [],\n        query = Xut.data.query;\n\n    _.each(contentIds, function (id) {\n        if (data = query(tableName, id)) {\n            contentId = data.contentId;\n            if (-1 === ids.indexOf(contentId)) {\n                ids.push(contentId);\n            }\n            //合并同个contentId多条动画数据的情况\n            keyName = \"contentId-\" + contentId;\n            if (temp[keyName]) {\n                temp[keyName].push(data);\n            } else {\n                temp[keyName] = [data];\n            }\n        }\n    });\n\n    //转成数组格式\n    for (k in temp) {\n        das.push(temp[k]);\n    }\n\n    return {\n        das: das,\n        ids: ids\n    };\n}\n\n//解析itemArray序列,得到对应的id\nfunction tokenize(itemArray) {\n    var itemJson,\n        actType,\n        anmins = {};\n    if (!itemArray) return;\n    itemJson = (0, _index.parseJSON)(itemArray);\n    //解析多个参数\n    if (itemJson.length) {\n        _.each(itemJson, function (opts) {\n            actType = opts.actType;\n            if (!anmins[actType]) {\n                anmins[actType] = [];\n            }\n            anmins[actType].push(opts.id);\n        });\n    } else {\n        actType = itemJson.actType;\n        anmins[actType] = [];\n        //actType: \"Animation\", id: 14\n        //actType: \"Inapp\", value: 0\n        anmins[actType].push(itemJson.id || itemJson.value);\n    }\n    return anmins;\n}\n\nexports.parserRelated = parserRelated;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250ZW50L2RhdGEuanM/NzNmYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0E7Ozs7OztBQU9BLElBQUksYUFBYSxFQUFqQixDOzs7Ozs7O0FBQ0EsRUFBRSxJQUFGLENBQU8sK0NBQStDLEtBQS9DLENBQXFELEdBQXJELENBQVAsRUFBa0UsVUFBUyxHQUFULEVBQWMsSUFBZCxFQUFvQjtBQUNsRixlQUFXLEdBQVgsSUFBa0IsSUFBbEI7QUFDSCxDQUZEOzs7Ozs7O0FBVUEsU0FBUyxTQUFULENBQW1CLFFBQW5CLEVBQTZCOztBQUV6QixXQUFPLFdBQVcsU0FBUyxRQUFwQixJQUFnQyxVQUFoQyxHQUE2QyxTQUFTLE9BQTdEO0FBQ0g7Ozs7Ozs7QUFRRCxTQUFTLG9CQUFULENBQThCLFFBQTlCLEVBQXdDLE9BQXhDLEVBQWlEO0FBQzdDLFFBQUksQ0FBQyxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBTCxFQUFzQztBQUNsQyxpQkFBUyxhQUFULENBQXVCLE9BQXZCLElBQWtDLEVBQWxDO0FBQ0g7QUFDSjs7Ozs7Ozs7O0FBVUQsU0FBUyx1QkFBVCxDQUFpQyxRQUFqQyxFQUEyQyxTQUEzQyxFQUFzRCxNQUF0RCxFQUE4RDs7QUFFMUQsUUFBSSxRQUFKO1FBQ0ksVUFESjtRQUVJLFNBRko7UUFHSSxNQUhKO1FBSUksVUFBVSxVQUFVLE9BSnhCOztBQU1BLE1BQUUsSUFBRixDQUFPLENBQUMsVUFBRCxFQUFhLE9BQWIsRUFBc0IsV0FBdEIsRUFBbUMsV0FBbkMsQ0FBUCxFQUF3RCxVQUFTLElBQVQsRUFBZTtBQUNuRSxpQkFBUyxPQUFPLElBQVAsQ0FBVDs7QUFFQSxZQUFJLFdBQVcsU0FBZixFQUEwQjs7QUFFdEIsaUNBQXFCLFFBQXJCLEVBQStCLE9BQS9CO0FBQ0Esb0JBQVEsSUFBUjs7QUFFSSxxQkFBSyxVQUFMO0FBQ0ksZ0NBQVksT0FBTyxXQUFQLEtBQXVCLE9B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SUFBZSxTQUFTLEtBQTdDO0FBQ0g7QUFDRCxXQUFPLE1BQVA7QUFDSDs7UUFHUSxhLEdBQUEsYSIsImZpbGUiOiI4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKlx05pWw5o2u6L+H5rukLOWOu+mHjeeul+azlVxyXG4gKlx0Y29udGVudOaVsOaNruino+aekOaBr+aBr+ebuOWFs+eahOaWueazlVxyXG4gKlxyXG4gKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG5pbXBvcnQgeyBwYXJzZUpTT04sIGFycmF5VW5pcXVlLCBjb250ZW50Q2FjaGUgfSBmcm9tICcuLi8uLi8uLi91dGlsL2luZGV4J1xyXG5cclxuXHJcbi8v6Zu25Lu257G75Z6LLOW/q+mAn+WIpOaWrVxyXG4vL+aWsOWinmNvbnRlbnTljbfmu5rljLrln58s5omA5pyJSlPpm7bku7Zjb250ZW50XHJcbi8v57G75Z6L6YCJ5oupLGNvbnRlbnTmnInmianlhYXnmoTlrZDnsbvlnotcclxuLy/pkojlr7npm7bku7bnsbvlnovlnKhjYXRlZ29yeeWtl+auteS4reeahOWtkOWIhuexu1xyXG52YXIgd2lkZ2V0VHlwZSA9IHt9O1xyXG5fLmVhY2goXCJqc1dpZGdldCBjb250ZW50IHN2Z1dpZGdldCBjYW52YXNXaWRnZXQgcGF0aFwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oa2V5LCBuYW1lKSB7XHJcbiAgICB3aWRnZXRUeXBlW2tleV0gPSB0cnVlXHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDnsbvlnovnu5/kuIBcclxuICogQHBhcmFtICB7W3R5cGVdfSBhY3Rpdml0eSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gdW5pZnlUeXBlKGFjdGl2aXR5KSB7XHJcbiAgICAvL+a7oei2s+adoeS7tue7n+S4gOS4uumbtuS7tuexu+Wei1xyXG4gICAgcmV0dXJuIHdpZGdldFR5cGVbYWN0aXZpdHkuY2F0ZWdvcnldID8gXCJKc1dpZGdldFwiIDogYWN0aXZpdHkuYWN0VHlwZVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuS6i+S7tuWuueWZqFxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGV2ZW50SWQgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRXZlbnRDb250YWluZXIocmVsYXRlZHMsIGV2ZW50SWQpIHtcclxuICAgIGlmICghcmVsYXRlZHMuc2Vhc29uUmVsYXRlZFtldmVudElkXSkge1xyXG4gICAgICAgIHJlbGF0ZWRzLnNlYXNvblJlbGF0ZWRbZXZlbnRJZF0gPSB7fVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOmFjeWQiOWHuml0ZW3kuK3nm7jlhbPkv6Hmga9cclxuICogMS7lnLrmma/kv6Hmga9cclxuICogMi7mlLbotLnkv6Hmga9cclxuICogQHBhcmFtICB7W3R5cGVdfSB0b2tlbnMgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGFwdGVySXRlbUFycmF5UmVsYXRlZChyZWxhdGVkcywgYWN0aXZpdHlzLCB0b2tlbnMpIHtcclxuICAgIC8v5aaC5p6c5YiG6Kej5Ye66IqC5L+h5oGvXHJcbiAgICB2YXIgc2Vhc29uSWQsXHJcbiAgICAgICAgaW5BcHBWYWx1ZSxcclxuICAgICAgICBjaGFwdGVySWQsXHJcbiAgICAgICAgdmFsdWVzLFxyXG4gICAgICAgIGV2ZW50SWQgPSBhY3Rpdml0eXMuaW1hZ2VJZDtcclxuXHJcbiAgICBfLmVhY2goWydzZWFzb25JZCcsICdJbmFwcCcsICdTZWFyY2hCYXInLCAnQm9va01hcmtzJ10sIGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICB2YWx1ZXMgPSB0b2tlbnNbdHlwZV07XHJcbiAgICAgICAgLy/lpoLmnpzmnInlgLxcclxuICAgICAgICBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy/liJvlu7rlrrnlmahcclxuICAgICAgICAgICAgY3JlYXRlRXZlbnRDb250YWluZXIocmVsYXRlZHMsIGV2ZW50SWQpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8v6Lez6L2s5paw5Zy65pmv5L+h5oGvXHJcbiAgICAgICAgICAgICAgICBjYXNlICdzZWFzb25JZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcHRlcklkID0gdG9rZW5zWydjaGFwdGVySWQnXSB8fCB0b2tlbnNbJ2NoYXB0ZXInXTtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkcy5zZWFzb25SZWxhdGVkW2V2ZW50SWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb25JZDogdmFsdWVzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVySWQ6IGNoYXB0ZXJJZCA/IGNoYXB0ZXJJZFswXSA6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvL+aUtui0ueS/oeaBryznu5nkuovku7bkuIrnu5HlrprmlLbotLnmjqXlj6NcclxuICAgICAgICAgICAgICAgICAgICAvLzAg5pS26LS5IDEg5bey5pS26LS5XHJcbiAgICAgICAgICAgICAgICBjYXNlICdJbmFwcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZHMuc2Vhc29uUmVsYXRlZFtldmVudElkXVsnSW5hcHAnXSA9IHZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy/mkJzntKLmoI9cclxuICAgICAgICAgICAgICAgICAgICAvL+S5puetvlxyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRzLnNlYXNvblJlbGF0ZWRbZXZlbnRJZF1bdHlwZV0gPSBldmVudElkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLy8vLy8vLy8vLy8vXHJcbi8v6Kej5p6Q55u45YWz5pWw5o2uIC8vXHJcbi8v6Kej5p6Q5q+P5LiA5p2hIEFjdGl2aXR5cyDlr7nlupTnmoTmlbDmja7nu5PmnoRcclxuLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIHBhcnNlclJlbGF0ZWQoY29tcGlsZUFjdGl2aXR5cywgZGF0YSkge1xyXG5cclxuICAgIHZhciBhY3Rpdml0eXMsXHJcbiAgICAgICAgaG9va1R5cGUsXHJcbiAgICAgICAgcmVzdWx0c0FjdGl2aXR5cywgLy/nu5Pmnpznu5PlkIhcclxuICAgICAgICBpICAgICAgICA9IGNvbXBpbGVBY3Rpdml0eXMubGVuZ3RoLFxyXG4gICAgICAgIHBhZ2VUeXBlID0gZGF0YS5wYWdlVHlwZSxcclxuICAgICAgICBwaWQgICAgICA9IGRhdGEucGlkLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnm7jlhbPmlbDmja7lkIjpm4ZcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFjdGl2aXR5UmVsYXRlZCA9IFtdLCAvL0FjdGl2aXTlkIjpm4bnm7jlhbPmlbDmja7kv6Hmga9cclxuICAgICAgICB0ZW1wUmVsYXRlZCAgICAgPSBbXSwgLy/kuLTml7bmlbDmja5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Kej5p6Q5Ye65p2l55qE55u45YWz5L+h5oGvXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICByZWxhdGVkcyA9IHtcclxuICAgICAgICAgICAgc2Vhc29uUmVsYXRlZCAgICAgIDoge30sIC8v6IqC5L+h5oGvXHJcbiAgICAgICAgICAgIGNvbnRhaW5lclJlbGF0ZWQgICA6IFtdLCAvL+WuueWZqOWQiOmbhuebuOWFs+aVsOaNruS/oeaBr1xyXG4gICAgICAgICAgICBldmVudFJlbGF0ZWQgICAgICAgOiB7fSwgLy/lpJrkuovku7blrrnlmajlkIjpm4ZcclxuICAgICAgICAgICAgcGFydENvbnRlbnRSZWxhdGVkIDogW10gIC8v5Y235ruaY29udGVu5Y+q5Yib5bu6LOS4jeWkhOeQhuihjOS4ulxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu66Kej5p6QXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgdmFyIGNyZWF0ZVJlc29sdmUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlQ29udGVudFRvQWN0aXZpdHkoZnVuY3Rpb24odG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh0b2tlbnMpO1xyXG4gICAgICAgIH0sIGFjdGl2aXR5cywgcGFnZVR5cGUsIHBpZClcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnsbvlnovlpITnkIblmahcclxuICAgICAqIOmZpOWOu+WKqOeUu+eahOWFtuS9meWkhOeQhuexu+Wei1xyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGhvb2tSZXNvbHZlID0ge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDljZXni6zlpITnkIblrrnlmajnsbvlnotcclxuICAgICAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHJlbGF0ZWRzIFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBcIkNvbnRhaW5lclwiOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVsYXRlZHMuY29udGFpbmVyUmVsYXRlZC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzb2x2ZShmdW5jdGlvbih0b2tlbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGFpbmVyJzogdG9rZW5zWydDb250ZW50J11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSa5LqL5Lu2XHJcbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSByZWxhdGVkcyBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgXCJDb250ZW50c1wiOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgIGlmIChpdGVtID0gY3JlYXRlUmVzb2x2ZShmdW5jdGlvbih0b2tlbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudHMnOiBbdG9rZW5zXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAvL+e7mWNvbnRlbnTms6jlhozlpJrkuKrnu5Hlrprkuovku7ZcclxuICAgICAgICAgICAgICAgIHZhciBldmVudElkID0gYWN0aXZpdHlzLmltYWdlSWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICdldmVudENvbnRlbnRJZCcgOiBldmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICdhY3Rpdml0eUlkJyAgICAgOiBhY3Rpdml0eXMuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICdyZWdpc3RlcnMnICAgICAgOiBpdGVtWydhY3Rpdml0eSddLFxyXG4gICAgICAgICAgICAgICAgICAgICdldmVudFR5cGUnICAgICAgOiBhY3Rpdml0eXMuZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICdkcmFnZHJvcFBhcmEnICAgOiBhY3Rpdml0eXMucGFyYTEgLy/mi5bmi73lr7nosaFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBpc0V2dCA9IHJlbGF0ZWRzLmV2ZW50UmVsYXRlZFsnZXZlbnRDb250ZW50SWQtPicgKyBldmVudElkXTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0V2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRXZ0LnB1c2goZXZlbnREYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZHMuZXZlbnRSZWxhdGVkWydldmVudENvbnRlbnRJZC0+JyArIGV2ZW50SWRdID0gW2V2ZW50RGF0YV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaJgOaciWpz6Zu25Lu2XHJcbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSByZWxhdGVkcyBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgXCJKc1dpZGdldFwiOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbENvbnRlbnRzID0gcGFyc2VKU09OKGFjdGl2aXR5cy5pdGVtQXJyYXkpO1xyXG4gICAgICAgICAgICBpZiAoXy5pc0FycmF5KHNjcm9sbENvbnRlbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKHNjcm9sbENvbnRlbnRzLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZHMucGFydENvbnRlbnRSZWxhdGVkLnB1c2goZGF0YS5pZClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWxhdGVkcy5wYXJ0Q29udGVudFJlbGF0ZWQucHVzaChzY3JvbGxDb250ZW50cy5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOino+aekOWHuuW9k+WJjemhtemdoueahOaJgOacieeahEFjdGl2aXTooahcclxuICAgICAqIDHkuKpjaHBhdGVy6aG16Z2iIOWPr+S7peWvueW6lOWkmuS4qkFjdGl2aXTooajkuK3nmoTmlbDmja5cclxuICAgICAqIDEgQ29udGFpbmVyIOWuueWZqOexu+Wei1xyXG4gICAgICogMiBwYWdlIOexu+Wei1xyXG4gICAgICogMyBwYXJhbGxheCDnsbvlnotcclxuICAgICAqIDQgU2NlbmFyaW8g57G75Z6LXHJcbiAgICAgKiA1IGNvbnRlbnTlkIjpm4YgY29udGVudHPlpITnkIZcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHdoaWxlIChhY3Rpdml0eXMgPSBjb21waWxlQWN0aXZpdHlzLnNoaWZ0KCkpIHtcclxuXHJcbiAgICAgICAgLy/nu5/kuIDnsbvlnotcclxuICAgICAgICBob29rVHlwZSA9IHVuaWZ5VHlwZShhY3Rpdml0eXMpO1xyXG5cclxuICAgICAgICAvL+exu+Wei+WMuemFjVxyXG4gICAgICAgIGlmICghaG9va1Jlc29sdmVbaG9va1R5cGVdXHJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIC8vL+mSqeWtkOS6i+S7tlxyXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIHx8IChob29rUmVzb2x2ZVtob29rVHlwZV0gJiYgaG9va1Jlc29sdmVbaG9va1R5cGVdKHJlbGF0ZWRzKSkgKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIC8vQ29udGVudOexu+Wei+WkhOeQhiAvL1xyXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgIC8v5aaC5p6c5piv5Yqo55S76KGoLOinhuinieW3ruihqOWFs+iBlOeahGNvbnRlbnTnsbvlnotcclxuICAgICAgICAgICAgcmVzdWx0c0FjdGl2aXR5cyA9IGNyZWF0ZVJlc29sdmUoZnVuY3Rpb24odG9rZW5zKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/op6PmnpBpdGVtQXJyYXnlrZfmrrXkuK3nmoTnm7jlhbPnmoTkv6Hmga9cclxuICAgICAgICAgICAgICAgIGFkYXB0ZXJJdGVtQXJyYXlSZWxhdGVkKHJlbGF0ZWRzLCBhY3Rpdml0eXMsIHRva2Vucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/op6PmnpDooajmlbDmja5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocGFnZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVHlwZVJlbGF0aW9uKFsnQW5pbWF0aW9uJ10sIHRva2VucylcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtYXN0ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aWsOWinuesrOS4ieS4quWPguaVsO+8jFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+inhuinieW3ruaUr+aMgeaJgOaciWNvbnRlbnTliqjnlLtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVHlwZVJlbGF0aW9uKFsnQW5pbWF0aW9uJywgJ1BhcmFsbGF4J10sIHRva2Vucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL+WmguaenOacieaJi+WKqOinpuWPkeWZqCznva7kuo7mnIDlkI5cclxuICAgICAgICAgICAgaWYgKGFjdGl2aXR5cy5pbWFnZUlkKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wUmVsYXRlZC5wdXNoKHJlc3VsdHNBY3Rpdml0eXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZpdHlSZWxhdGVkLnB1c2gocmVzdWx0c0FjdGl2aXR5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lkIjlubbmjpLluo9cclxuICAgIGlmICh0ZW1wUmVsYXRlZC5sZW5ndGgpIHtcclxuICAgICAgICBhY3Rpdml0eVJlbGF0ZWQgPSBhY3Rpdml0eVJlbGF0ZWQuY29uY2F0KHRlbXBSZWxhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHTov4fmu6Tlh7rkuI7liJvlu7rnm7jlhbPnmoRjb250ZW505ZCI6ZuGSURcclxuICAgICAqXHRyZXR1cm4gW1xyXG4gICAgICpcdFx0Y3JlYXRlRXZlbnRJZHMgIOS4u2NvbnRlbnTliJfooaggKOeUqOadpee7keWummV2ZW50VHlwZeS6i+S7tilcclxuICAgICAqXHQgICAgY3JlYXRlQ29udGVudElkcyDlkIjlubbmiYDmnIljb250ZW505pON5L2c5ZCOLOi/h+a7pOaOiemHjeWkjeeahGNvbnRlbnQs5b6X5Yiw5Y+v5Lul5Yib5bu655qEY29udGVudOeahElE5ZCI6ZuGXHJcbiAgICAgKlx0XVxyXG4gICAgICpcclxuICAgICAqIFx0d0NvbnRlbnRSZWxhdGVkICDmt7flhaXlkIjlubbnmoTmlbDmja5cclxuICAgICAqIHBhcnRDb250ZW50UmVsYXRlZCDpnIDopoHov4fmu6TnmoTmlbDmja5cclxuICAgICAqL1xyXG4gICAgLy8gY29uc29sZS5sb2coYWN0aXZpdHlSZWxhdGVkLnNsaWNlKDApKVxyXG4gICAgdmFyIGNyZWF0ZUV2ZW50SWRzLFxyXG4gICAgICAgIGNyZWF0ZUNvbnRlbnRJZHMsXHJcbiAgICAgICAgY2FjaGVVVUlEID0gJ2NyZWF0ZVJlbGV2YW50LScgKyBkYXRhLmNoYXB0ZXJJZCxcclxuICAgICAgICBjcmVhdGVSZWxldmFudCA9IGNvbnRlbnRDYWNoZVtjYWNoZVVVSURdO1xyXG5cclxuICAgIC8v5Yib5bu657yT5a2YXHJcbiAgICBpZiAoIWNyZWF0ZVJlbGV2YW50KSB7XHJcbiAgICAgICAgY3JlYXRlUmVsZXZhbnQgPSBjb250ZW50Q2FjaGUoY2FjaGVVVUlELFxyXG4gICAgICAgICAgICB0b1JlcGVhdENvbWJpbmVHcm91cChhY3Rpdml0eVJlbGF0ZWQsIHJlbGF0ZWRzLnBhcnRDb250ZW50UmVsYXRlZCwgcGFnZVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVFdmVudElkcyAgID0gY3JlYXRlUmVsZXZhbnRbMF0uc2xpY2UoMCk7XHJcbiAgICBjcmVhdGVDb250ZW50SWRzID0gY3JlYXRlUmVsZXZhbnRbMV0uc2xpY2UoMCk7XHJcblxyXG4gICAgLy/lpoLmnpzlrZjlnKjov4fmu6TlmahcclxuICAgIGlmIChYdXQuQ3JlYXRlRmlsdGVyLnNpemUoKSkge1xyXG4gICAgICAgIHZhciBmaWx0ZXJFYWNoID0gWHV0LkNyZWF0ZUZpbHRlci5lYWNoKGRhdGEuY2hhcHRlcklkKVxyXG4gICAgICAgIGlmIChmaWx0ZXJFYWNoKSB7XHJcbiAgICAgICAgICAgIGZpbHRlckVhY2goY3JlYXRlRXZlbnRJZHMsIGZ1bmN0aW9uKGluZGV4T2YpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUV2ZW50SWRzLnNwbGljZShpbmRleE9mLCAxKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJFYWNoKGNyZWF0ZUNvbnRlbnRJZHMsIGZ1bmN0aW9uKGluZGV4T2YpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUNvbnRlbnRJZHMuc3BsaWNlKGluZGV4T2YsIDEpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlckVhY2ggPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gXy5leHRlbmQoZGF0YSwgcmVsYXRlZHMsIHtcclxuICAgICAgICAnY3JlYXRlRXZlbnRJZHMnICAgICAgICAgICAgICA6IGNyZWF0ZUV2ZW50SWRzLCAvL+S6i+S7tklE5pWwXHJcbiAgICAgICAgJ2NyZWF0ZUNvbnRlbnRJZHMnICAgICAgICAgICAgOiBjcmVhdGVDb250ZW50SWRzLCAvL+WIm+W7uueahGNvbnRlbnTmgLtJROaVsFxyXG4gICAgICAgIC8vICdvcmlnaW5hbENyZWF0ZUNvbnRlbnRJZHMnIDogY3JlYXRlQ29udGVudElkcy5zbGljZSgwKSwgLy/kv53nlZnljp/lp4vnmoTliJvlu7rlia/mnKxcclxuICAgICAgICAnY3JlYXRlQWN0aXZpdHlzJyAgICAgICAgICAgICA6IGFjdGl2aXR5UmVsYXRlZFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqIFx0XHTliIbnu4RDb250ZW506KGo5Lit5a+55bqU55qE5aSa5LiqQ29udGVcclxuICogICBcdDHvvJpBbmltYXRpb27ooahcclxuICogICAgXHQyOiBQYXJhbGxheOihqFxyXG4gKiAgICAgXHQzOiBzZWVk56eN5a2Q5ZCI6ZuGIOWwseaYr+ino+aekDHvvJpBbmltYXRpb27ooajvvIxQYXJhbGxheOihqOW+l+WIsOeahOaVsOaNrlxyXG4gKlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbnRlbnRUb0FjdGl2aXR5KGNhbGxiYWNrLCBhY3Rpdml0eSwgcGFnZVR5cGUsIHBpZCkge1xyXG4gICAgdmFyIGFuaW1Db250ZW50SWRzLFxyXG4gICAgICAgIHBhcmFDb250ZW50SWRzLFxyXG4gICAgICAgIHBhcmFsbGF4UmVsYXRlZCxcclxuICAgICAgICBwYXJhbGxheERhcyxcclxuICAgICAgICBhbmltUmVsYXRlZCxcclxuICAgICAgICBhbmltYXRpb25EYXMgPSAnJyxcclxuICAgICAgICBldmVudElkID0gYWN0aXZpdHkuaW1hZ2VJZCxcclxuICAgICAgICAvL+mcgOimgeWIhuino+eahGNvbnRlbnRJZHPlkIjpm4ZcclxuICAgICAgICAvLyAxIOWKqOeUu+ihqOaVsOaNrlx0XHRBbmltYXRpb25cclxuICAgICAgICAvLyAyIOinhuinieW3ruaVsOaNriAgICAgUGFyYWxsYXhcclxuICAgICAgICAvLyAzIOi2hemTvuaOpVx0XHRcdHNlYXNvbklkXHJcbiAgICAgICAgLy8gNCDmlLbotLlcdFx0XHRJbmFwcFxyXG4gICAgICAgIHRva2VucyA9IHRva2VuaXplKGFjdGl2aXR5WydpdGVtQXJyYXknXSkgfHwgW10sXHJcbiAgICAgICAgLy/op6PmnpBBbmltYXRpb25zLFBhcmFsbGF4c+aVsOaNrlxyXG4gICAgICAgIC8vXHRzZWVkIHtcclxuICAgICAgICAvL1x0XHRBbmltYXRpb246W2RhdGEsSWRzXVxyXG4gICAgICAgIC8vXHRcdFBhcmFsbGF4OltkYXRhLElkc11cclxuICAgICAgICAvL1x0fVxyXG4gICAgICAgIHNlZWQgPSBjYWxsYmFjayh0b2tlbnMpLFxyXG5cclxuICAgICAgICAvL+WIpOaWreexu+Wei1xyXG4gICAgICAgIHR5cGUgPSBPYmplY3Qua2V5cyhzZWVkKVswXTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDljrvph43kuovku7ZJRFxyXG4gICAgICogb3JpZ2luYWwgIOWOn0lE5ZCI6ZuGXHJcbiAgICAgKiBkZXRlY3Rpb24g6ZyA6KaB5qOA5rWL5Y676YeN55qESURcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHRvUmVwZWF0Q29udGVudHMob3JpZ2luYWwpIHtcclxuICAgICAgICBpZiAob3JpZ2luYWwgJiYgZXZlbnRJZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhPZiA9IG9yaWdpbmFsLmluZGV4T2YoZXZlbnRJZCk7XHJcbiAgICAgICAgICAgIGlmICgtMSAhPT0gaW5kZXhPZikge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWwuc3BsaWNlKGluZGV4T2YsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIC8v5a655ZmoXHJcbiAgICAgICAgY2FzZSAnQ29udGFpbmVyJzpcclxuICAgICAgICAgICAgYW5pbUNvbnRlbnRJZHMgPSBzZWVkLkNvbnRhaW5lcjtcclxuICAgICAgICAgICAgdG9SZXBlYXRDb250ZW50cyhhbmltQ29udGVudElkcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvL+WkmuS6i+S7tuWkhOeQhlxyXG4gICAgICAgIGNhc2UgJ0NvbnRlbnRzJzpcclxuICAgICAgICAgICAgcmV0dXJuIHNlZWQuQ29udGVudHM7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOWmguaenOaYr+WvueixoeWkhOeQhu+8jFxyXG4gICAgICAgICAgICAgKiDpkojlr7nliqjnlLvooajvvIzop4bop4nlt67ooags6KGM5Li655qE5aSE55CGXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvL+mcgOimgeWIm+W7uueahGNvbnRlbnTlkIjpm4ZcclxuICAgICAgICAgICAgaWYgKF8ua2V5cyhzZWVkKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1SZWxhdGVkID0gc2VlZC5BbmltYXRpb247XHJcbiAgICAgICAgICAgICAgICBwYXJhbGxheFJlbGF0ZWQgPSBzZWVkLlBhcmFsbGF4O1xyXG4gICAgICAgICAgICAgICAgLy/pobXpnaLmqKHlvI9cclxuICAgICAgICAgICAgICAgIGlmIChwYWdlVHlwZSA9PT0gJ3BhZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1SZWxhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Db250ZW50SWRzID0gYW5pbVJlbGF0ZWQuaWRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EYXMgPSBhbmltUmVsYXRlZC5kYXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+inhuinieW3ruWtmOWcqOinhuinieW3ruihqOWkhOeQhlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKDExMTEsYW5pbVJlbGF0ZWQsIHBhcmFsbGF4UmVsYXRlZClcclxuICAgICAgICAgICAgICAgICAgICAvL+avjeeJiOeahOWKqOeUu+aVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltUmVsYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltQ29udGVudElkcyA9IGFuaW1SZWxhdGVkLmlkcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGFzID0gYW5pbVJlbGF0ZWQuZGFzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL+avjeeJiOeahOinhuWvn+aVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbGxheFJlbGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYUNvbnRlbnRJZHMgPSBwYXJhbGxheFJlbGF0ZWQuaWRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbGxheERhcyA9IHBhcmFsbGF4UmVsYXRlZC5kYXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8v5aaC5p6caWTpg73lrZjlnKhcclxuICAgICAgICAgICAgICAgIC8v5ZCI5bm2XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbUNvbnRlbnRJZHMgJiYgcGFyYUNvbnRlbnRJZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmltQ29udGVudElkcyA9IGFuaW1Db250ZW50SWRzLmNvbmNhdChwYXJhQ29udGVudElkcylcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL+WPquWtmOWcqOinhuWvn1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmltQ29udGVudElkcyAmJiBwYXJhQ29udGVudElkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1Db250ZW50SWRzID0gcGFyYUNvbnRlbnRJZHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0b1JlcGVhdENvbnRlbnRzKGFuaW1Db250ZW50SWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/liJvlu7rlr7nosaHmmK/lsYLmrKHlhbPns7tcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ3BhZ2VUeXBlJzogcGFnZVR5cGUsXHJcbiAgICAgICAgJ2FjdGl2aXR5JzogYWN0aXZpdHksXHJcbiAgICAgICAgJ2ltYWdlSWRzJzogZXZlbnRJZCxcclxuICAgICAgICAvL2RhdGFcclxuICAgICAgICAnc2VlZCc6IHtcclxuICAgICAgICAgICAgJ2FuaW1hdGlvbic6IGFuaW1hdGlvbkRhcyxcclxuICAgICAgICAgICAgJ3BhcmFsbGF4JzogcGFyYWxsYXhEYXNcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vaWRcclxuICAgICAgICAnaWRzJzoge1xyXG4gICAgICAgICAgICAnY29udGVudCc6IGFuaW1Db250ZW50SWRzLFxyXG4gICAgICAgICAgICAncGFyYWxsYXgnOiBwYXJhQ29udGVudElkc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICpcclxuICogICAgIOWQiOW5tizov4fmu6TpnIDopoHlpITnkIbnmoRjb250ZW50XHJcbiAqICAgICBjb21iaW5lSW1hZ2VJZHMgIOWPr+S7peWIm+W7uueahGltYWdlSWTlkIjpm4bvvIzkuZ/lsLHmmK9jb250ZW5055qE5ZCI6ZuGLOeUqOadpee7keWumuiHquWumuS5ieS6i+S7tlxyXG4gKiAgICAgY3JlYXRlQ29udGVudElkcyDlj6/ku6XliJvlu7rnmoRjb250ZW505ZCI6ZuGLOi/h+a7pOWQiOW5tumHjeWkjVxyXG4gKlxyXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiB0b1JlcGVhdENvbWJpbmVHcm91cChjb21waWxlckFjdGl2aXR5cywgbWl4RmlsdGVyUmVsYXRlZCwgcGFnZVR5cGUpIHtcclxuICAgIHZhciBpZHMsXHJcbiAgICAgICAgY29udGVudElkcyxcclxuICAgICAgICBuZWVkQ3JlYXRlQ29udGVudElkcyxcclxuICAgICAgICBpbWFnZUlkcyxcclxuICAgICAgICBhY3Rpdml0eVJlbGF0ZWQsXHJcbiAgICAgICAgcGFyYWxsYXhJZCxcclxuICAgICAgICBjb21iaW5lSXRlbUlkcyA9IFtdLFxyXG4gICAgICAgIGNvbWJpbmVJbWFnZUlkcyA9IFtdLFxyXG4gICAgICAgIGkgPSBjb21waWxlckFjdGl2aXR5cy5sZW5ndGg7XHJcblxyXG4gICAgZnVuY3Rpb24gcHVzaENhY2hlKHRhcmdldCwgb3JpZ2luYWwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGlkLFxyXG4gICAgICAgICAgICBpID0gb3JpZ2luYWwubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgaWQgPSBOdW1iZXIob3JpZ2luYWxbaV0pO1xyXG4gICAgICAgICAgICB0YXJnZXQucHVzaChpZClcclxuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgLy/lvIDlp4vmiafooYzov4fmu6Tmk43kvZxcclxuICAgICAgICBhY3Rpdml0eVJlbGF0ZWQgPSBjb21waWxlckFjdGl2aXR5c1tpXTtcclxuICAgICAgICBpZHMgICAgICAgICAgICAgPSBhY3Rpdml0eVJlbGF0ZWQuaWRzO1xyXG4gICAgICAgIGNvbnRlbnRJZHMgICAgICA9IGlkcy5jb250ZW50O1xyXG4gICAgICAgIHBhcmFsbGF4SWQgICAgICA9IGlkcy5wYXJhbGxheDsgLy/mta7liqjnsbvlnovnmoTlr7nosaFcclxuICAgICAgICBpbWFnZUlkcyAgICAgICAgPSBhY3Rpdml0eVJlbGF0ZWQuaW1hZ2VJZHM7XHJcblxyXG4gICAgICAgIC8v6ZKI5a+55pmu6YCaY29udGVudOWvueixoVxyXG4gICAgICAgIGlmIChjb250ZW50SWRzICYmIGNvbnRlbnRJZHMubGVuZ3RoKSB7IC8v5aaC5p6c5LiN5Li656m6XHJcbiAgICAgICAgICAgIHB1c2hDYWNoZShjb21iaW5lSXRlbUlkcywgY29udGVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+inhuWvn+WvueixoVxyXG4gICAgICAgIGlmIChwYXJhbGxheElkICYmIHBhcmFsbGF4SWQubGVuZ3RoKSB7IC8v5aaC5p6c5LiN5Li656m6XHJcbiAgICAgICAgICAgIHB1c2hDYWNoZShjb21iaW5lSXRlbUlkcywgcGFyYWxsYXhJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S6i+S7tuWQiOmbhlxyXG4gICAgICAgIGlmIChpbWFnZUlkcykge1xyXG4gICAgICAgICAgICBjb21iaW5lSW1hZ2VJZHMucHVzaChOdW1iZXIoaW1hZ2VJZHMpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+a3t+WFpeWklumDqOWQiOW5tuS6humAu+i+kVxyXG4gICAgaWYgKG1peEZpbHRlclJlbGF0ZWQgJiYgbWl4RmlsdGVyUmVsYXRlZC5sZW5ndGgpIHtcclxuICAgICAgICBfLmVhY2gobWl4RmlsdGVyUmVsYXRlZCwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29tYmluZUl0ZW1JZHMgPSBjb21iaW5lSXRlbUlkcy5jb25jYXQoZGF0YSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy/ov4fmu6TlkIjlubblpJrkuKpjb250ZW505pWw5o2uXHJcbiAgICBpZiAoY29tYmluZUltYWdlSWRzLmxlbmd0aCkge1xyXG4gICAgICAgIG5lZWRDcmVhdGVDb250ZW50SWRzID0gYXJyYXlVbmlxdWUoY29tYmluZUl0ZW1JZHMuY29uY2F0KGNvbWJpbmVJbWFnZUlkcykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBuZWVkQ3JlYXRlQ29udGVudElkcyA9IGFycmF5VW5pcXVlKGNvbWJpbmVJdGVtSWRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aOkuW6j1xyXG4gICAgbmVlZENyZWF0ZUNvbnRlbnRJZHMgPSBuZWVkQ3JlYXRlQ29udGVudElkcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWQiOW5tuWIm+W7uuS/oeaBr1xyXG4gICAgICog6ZyA6KaB5Yib5bu655qE5LqL5Lu2XHJcbiAgICAgKiDpnIDopoHliJvlu7rnmoTmiYDmnInlr7nosaFcclxuICAgICAqL1xyXG4gICAgcmV0dXJuIFtjb21iaW5lSW1hZ2VJZHMsIG5lZWRDcmVhdGVDb250ZW50SWRzXTtcclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICog6Kej5p6Q5oyH5a6a57G75Z6L5pWw5o2uXHJcbiAqIHN0cmVuZ3RoZW5Bbm1pbiDop4bop4nlt67lop7lvLrliqjnlLvooahcclxuICogQHJldHVybiB7W3R5cGVdfVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VUeXBlUmVsYXRpb24odGFibGVOYW1lLCB0b2tlbklkcykge1xyXG4gICAgdmFyIHRva2VuSWQ7XHJcbiAgICB2YXIgaXRlbURhdGEgPSB7fTtcclxuICAgIF8uZWFjaCh0YWJsZU5hbWUsIGZ1bmN0aW9uKHROYW1lKSB7XHJcbiAgICAgICAgaWYgKHRva2VuSWQgPSB0b2tlbklkc1t0TmFtZV0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW1EYXRhW3ROYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+acquWkhOeQhuino+aekOWQjOS4gOS4quihqCcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVt0TmFtZV0gPSBpbkdyb3VwKHROYW1lLCB0b2tlbklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gaXRlbURhdGE7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5YiG57uEXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gaW5Hcm91cCh0YWJsZU5hbWUsIGNvbnRlbnRJZHMpIHtcclxuICAgIHZhciBrLCBrZXlOYW1lLCBkYXRhLCBjb250ZW50SWQsXHJcbiAgICAgICAgdGVtcCA9IHt9LFxyXG4gICAgICAgIGRhcyA9IFtdLFxyXG4gICAgICAgIGlkcyA9IFtdLFxyXG4gICAgICAgIHF1ZXJ5ID0gWHV0LmRhdGEucXVlcnk7XHJcblxyXG4gICAgXy5lYWNoKGNvbnRlbnRJZHMsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgPSBxdWVyeSh0YWJsZU5hbWUsIGlkKSkge1xyXG4gICAgICAgICAgICBjb250ZW50SWQgPSBkYXRhLmNvbnRlbnRJZDtcclxuICAgICAgICAgICAgaWYgKC0xID09PSBpZHMuaW5kZXhPZihjb250ZW50SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZHMucHVzaChjb250ZW50SWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/lkIjlubblkIzkuKpjb250ZW50SWTlpJrmnaHliqjnlLvmlbDmja7nmoTmg4XlhrVcclxuICAgICAgICAgICAga2V5TmFtZSA9IFwiY29udGVudElkLVwiICsgY29udGVudElkO1xyXG4gICAgICAgICAgICBpZiAodGVtcFtrZXlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcFtrZXlOYW1lXS5wdXNoKGRhdGEpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wW2tleU5hbWVdID0gW2RhdGFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvL+i9rOaIkOaVsOe7hOagvOW8j1xyXG4gICAgZm9yIChrIGluIHRlbXApIHtcclxuICAgICAgICBkYXMucHVzaCh0ZW1wW2tdKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGFzOiBkYXMsXHJcbiAgICAgICAgaWRzOiBpZHNcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v6Kej5p6QaXRlbUFycmF55bqP5YiXLOW+l+WIsOWvueW6lOeahGlkXHJcbmZ1bmN0aW9uIHRva2VuaXplKGl0ZW1BcnJheSkge1xyXG4gICAgdmFyIGl0ZW1Kc29uLFxyXG4gICAgICAgIGFjdFR5cGUsXHJcbiAgICAgICAgYW5taW5zID0ge307XHJcbiAgICBpZiAoIWl0ZW1BcnJheSkgcmV0dXJuO1xyXG4gICAgaXRlbUpzb24gPSBwYXJzZUpTT04oaXRlbUFycmF5KTtcclxuICAgIC8v6Kej5p6Q5aSa5Liq5Y+C5pWwXHJcbiAgICBpZiAoaXRlbUpzb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgXy5lYWNoKGl0ZW1Kc29uLCBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgICAgICAgIGFjdFR5cGUgPSBvcHRzLmFjdFR5cGU7XHJcbiAgICAgICAgICAgIGlmICghYW5taW5zW2FjdFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBhbm1pbnNbYWN0VHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhbm1pbnNbYWN0VHlwZV0ucHVzaChvcHRzLmlkKTtcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhY3RUeXBlID0gaXRlbUpzb24uYWN0VHlwZTtcclxuICAgICAgICBhbm1pbnNbYWN0VHlwZV0gPSBbXTtcclxuICAgICAgICAvL2FjdFR5cGU6IFwiQW5pbWF0aW9uXCIsIGlkOiAxNFxyXG4gICAgICAgIC8vYWN0VHlwZTogXCJJbmFwcFwiLCB2YWx1ZTogMFxyXG4gICAgICAgIGFubWluc1thY3RUeXBlXS5wdXNoKGl0ZW1Kc29uLmlkIHx8IGl0ZW1Kc29uLnZhbHVlKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFubWlucztcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IHBhcnNlclJlbGF0ZWQgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvcGFnZWJhc2UvdGhyZWFkL2NvbnRlbnQvZGF0YS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 81 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.structure = structure;\n\nvar _index = __webpack_require__(1);\n\nvar _Container = __webpack_require__(45);\n\n/**\r\n * 编译content的容器\r\n * 2013.10.12\r\n * 1 为处理重复content数据引用问题,增加\r\n * \t\t\t  makeWarpObj方法,用于隔绝content数据的引用关系，导致重复数据被修正的问题\r\n * 2 多个页面引用同一个content的处理，Conetnt_0_1 ,类型+页码+ID的标示\r\n * @return {[type]} [description]\r\n */\n\nvar prefix = Xut.plat.prefixStyle;\n\n/**\r\n * 解析序列中需要的数据\r\n * @param  {[type]}   contentIds [description]\r\n * @param  {Function} callback   [description]\r\n * @return {[type]}              [description]\r\n */\nfunction parseContentDas(contentIds, callback) {\n    var data,\n        temp = [];\n    contentIds.forEach(function (contentId, index) {\n        data = Xut.data.query('Content', contentId);\n        temp.unshift(data);\n        callback && callback(data, contentId);\n    });\n    return temp;\n}\n\n/**\r\n * 制作包装对象\r\n * 用于隔绝content数据的引用关系\r\n * 导致重复数据被修正的问题\r\n * @return {[type]}             [description]\r\n */\nfunction makeWarpObj(contentId, content, pageType, pid, virtualOffset) {\n    //唯一标示符\n    var prefix = \"_\" + pid + \"_\" + contentId;\n    return {\n        pageType: pageType,\n        contentId: contentId,\n        isJs: /.js$/i.test(content.md5), //html类型\n        isSvg: /.svg$/i.test(content.md5), //svg类型\n        data: content,\n        pid: pid,\n        virtualOffset: virtualOffset, //布局位置\n        containerName: 'Content' + prefix,\n        makeId: function makeId(name) {\n            return name + prefix;\n        }\n    };\n}\n\n/**\r\n * 创建图片地址\r\n * @return {[type]}         [description]\r\n */\nfunction analysisPath(wrapObj, conData) {\n    var pathImg,\n        imgContent = conData.md5,\n\n    //是gif格式\n    isGif = /.gif$/i.test(imgContent),\n\n    //原始地址\n    originalPathImg = Xut.config.pathAddress + imgContent;\n\n    if (isGif) {\n        //处理gif图片缓存+随机数\n        pathImg = Xut.createRandomImg(originalPathImg);\n    } else {\n        pathImg = originalPathImg;\n    }\n    wrapObj['imgContent'] = imgContent;\n    wrapObj['isGif'] = isGif;\n    wrapObj['pathImg'] = pathImg;\n}\n\n/**\r\n * 组成HTML结构\r\n * @param  {[type]} argument [description]\r\n * @return {[type]}          [description]\r\n */\nfunction createDom(data, wrapObj) {\n    var restr = '';\n    //创建包装容器\n    restr += createWapper(data, wrapObj);\n    //创建内容\n    restr += createContent(data, wrapObj);\n    restr += \"</div></div>\";\n    return restr;\n}\n\n/**\r\n * 创建包含容器\r\n * @param  {[type]} data    [description]\r\n * @param  {[type]} wrapObj [description]\r\n * @return {[type]}         [description]\r\n */\nfunction createWapper(data, wrapObj) {\n    var wapper,\n        actName,\n        offset,\n        visibility,\n        backwidth,\n        backheight,\n        backleft,\n        backtop,\n        zIndex = data['zIndex'],\n        id = data['_id'],\n        containerName = wrapObj.containerName,\n        pid = wrapObj.pid,\n        makeId = wrapObj.makeId,\n        background = data.background ? 'background-image: url(' + Xut.config.pathAddress + data.background + ');' : '';\n\n    //背景尺寸优先\n    if (data.scaleBackWidth && data.scaleBackHeight) {\n        backwidth = data.scaleBackWidth;\n        backheight = data.scaleBackHeight;\n        backleft = data.scaleBackLeft;\n        backtop = data.scaleBackTop;\n        wrapObj.backMode = true; //背景图模式\n    } else {\n            backwidth = data.scaleWidth;\n            backheight = data.scaleHeight;\n            backleft = data.scaleLeft;\n            backtop = data.scaleTop;\n        }\n\n    //content默认是显示的数据的\n    //content.visible = 0\n    //如果为1 就隐藏改成hidden\n    //05.1.14\n    visibility = 'visible';\n    if (data.visible) {\n        visibility = 'hidden';\n    }\n\n    // var isHtml = \"\";\n    //2015.12.29\n    //如果是html内容\n    if (wrapObj.isJs) {\n        //正常content类型\n        wapper = '<div id=\"{0}\"' + ' data-behavior=\"click-swipe\"' + ' style=\"overflow:hidden;width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;z-index:{5};visibility:{6};background-size:100% 100%;{10}\">' + ' <div id=\"{7}\" style=\"width:{8}px;position:absolute;\">';\n\n        return String.format(wapper, containerName, backwidth, backheight, backtop, backleft, zIndex, visibility, makeId('contentWrapper'), backwidth, backheight, background);\n    }\n\n    //正常content类型\n    wapper = '<div id=\"{0}\"' + ' data-behavior=\"click-swipe\"' + ' style=\"overflow:hidden;width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;z-index:{5};visibility:{6};\">' + ' <div id=\"{7}\" style=\"width:{8}px;height:{9}px;{10}position:absolute;background-size:100% 100%;\">';\n\n    return String.format(wapper, containerName, backwidth, backheight, backtop, backleft, zIndex, visibility, makeId('contentWrapper'), backwidth, backheight, background);\n}\n\n/**\r\n * content\r\n * \tsvg数据\r\n * \thtml数据\r\n * 解析外部文件\r\n * @param  {[type]} wrapObj     [description]\r\n * @param  {[type]} svgCallback [description]\r\n * @return {[type]}             [description]\r\n */\nfunction externalFile(wrapObj, svgCallback) {\n    //svg零件不创建解析具体内容\n    if (wrapObj.isSvg) {\n        (0, _index.readFile)(wrapObj.data.md5, function (svgdata) {\n            wrapObj['svgstr'] = svgdata;\n            svgCallback(wrapObj);\n        });\n    } else if (wrapObj.isJs) {\n        //如果是.js的svg文件\n        (0, _index.readFile)(wrapObj.data.md5, function (htmldata) {\n            wrapObj['htmlstr'] = htmldata;\n            svgCallback(wrapObj);\n        }, \"js\");\n    } else {\n        svgCallback(wrapObj);\n    }\n}\n\n/**\r\n * 创建内容\r\n * @param  {[type]} data    [description]\r\n * @param  {[type]} wrapObj [description]\r\n * @return {[type]}         [description]\r\n */\nfunction createContent(data, wrapObj) {\n    var restr = \"\";\n    //如果内容是图片\n    //如果是svg或者html\n    if (wrapObj.imgContent) {\n        //如果是SVG\n        if (wrapObj.isSvg) {\n            restr += svgContent(data, wrapObj);\n        } else if (wrapObj.isJs) {\n            //如果是.js结构的html文件\n            restr += jsContent(data, wrapObj);\n        } else {\n            //如果是蒙板，或者是gif类型的动画，给高度\n            restr += maskContent(data, wrapObj);\n        }\n    } else {\n        //纯文本文字\n        restr += textContent(data, wrapObj);\n    }\n    return restr;\n}\n\n/**\r\n * 如果是.js结尾的\r\n * 新增的html文件\r\n * @param  {[type]} data    [description]\r\n * @param  {[type]} wrapObj [description]\r\n * @return {[type]}         [description]\r\n */\nfunction jsContent(data, wrapObj) {\n    return wrapObj[\"htmlstr\"];\n}\n\n/**\r\n * 如果内容是svg\r\n * @param  {[type]} data    [description]\r\n * @param  {[type]} wrapObj [description]\r\n * @return {[type]}         [description]\r\n */\nfunction svgContent(data, wrapObj) {\n    var restr = \"\",\n        svgstr = wrapObj['svgstr'],\n        scaleWidth = data['scaleWidth'];\n\n    //从SVG文件中，读取Viewport的值\n    if (svgstr != undefined) {\n        var startPos = svgstr.search('viewBox=\"');\n        var searchTmp = svgstr.substring(startPos, startPos + 64).replace('viewBox=\"', '').replace('0 0 ', '');\n        var endPos = searchTmp.search('\"');\n        var temp = searchTmp.substring(0, endPos);\n        var sptArray = temp.split(\" \");\n        var svgwidth = sptArray[0];\n        var svgheight = sptArray[1];\n\n        //svg内容宽度:svg内容高度 = viewBox宽:viewBox高\n        //svg内容高度 = svg内容宽度 * viewBox高 / viewBox宽\n        var svgRealHeight = Math.floor(scaleWidth * svgheight / svgwidth);\n        //如果svg内容高度大于布局高度则添加滚动条\n        if (svgRealHeight > data.scaleHeight + 1) {\n            var svgRealWidth = Math.floor(scaleWidth);\n            //if there do need scrollbar, then restore text to its original prop\n            //布局位置\n            var marginleft = wrapObj['backMode'] ? data.scaleLeft - data.scaleBackLeft : 0;\n            var margintop = wrapObj['backMode'] ? data.scaleTop - data.scaleBackTop : 0;\n            temp = '<div style=\"width:{0}; height:{1};margin-left:{2}px;margin-top:{3}px;\">{4}</div>';\n\n            if (data.isScroll) {\n                restr = String.format(temp, svgRealWidth + 'px', svgRealHeight + 'px', marginleft, margintop, svgstr);\n            } else {\n                restr = String.format(temp, '100%', '100%', marginleft, margintop, svgstr);\n            }\n        } else {\n            restr += svgstr;\n        }\n    }\n    return restr;\n}\n\n/**\r\n * 蒙版动画\r\n * @param  {[type]} data    [description]\r\n * @param  {[type]} wrapObj [description]\r\n * @return {[type]}         [description]\r\n */\nfunction maskContent(data, wrapObj) {\n\n    var restr = \"\",\n\n    //如果有蒙版图\n    isMaskImg = data.mask ? prefix('mask-box-image') + \":url(\" + Xut.config.pathAddress + data.mask + \");\" : \"\";\n\n    //蒙板图\n    if (data.mask || wrapObj['isGif']) {\n        //蒙版图\n        if (prefix('mask-box-image') != undefined) {\n            restr += String.format('<img' + ' id=\"img_{1}\"' + ' class=\"contentScrollerImg\"' + ' src=\"{0}\"' + ' style=\"width:{2}px;height:{3}px;position:absolute;background-size:100% 100%;{4}\"/>', wrapObj['pathImg'], data['_id'], data.scaleWidth, data.scaleHeight, isMaskImg);\n        } else {\n            //canvas\n            restr += String.format(' <canvas src=\"{0}\"' + ' class=\"contentScrollerImg edges\"' + ' mask=\"{5}\"' + ' id = \"img_{1}\"' + ' width=\"{2}\"' + ' height=\"{3}\"' + ' style=\"width:{2}px; height:{3}px;opacity:0; background-size:100% 100%; {4}\"' + ' />', wrapObj['pathImg'], data['_id'], data.scaleWidth, data.scaleHeight, isMaskImg, Xut.config.pathAddress.replace(/\\//g, \"\\/\") + data.mask);\n        }\n        //精灵图\n    } else if (data.category == 'Sprite') {\n\n            var matrixX = 100 * data.thecount;\n            var matrixY = 100;\n\n            //如果有参数\n            //精灵图是矩阵图\n            if (data.parameter) {\n                var parameter = (0, _index.parseJSON)(data.parameter);\n                if (parameter && parameter.matrix) {\n                    var matrix = parameter.matrix.split(\"-\");\n                    matrixX = 100 * Number(matrix[0]);\n                    matrixY = 100 * Number(matrix[1]);\n                }\n            }\n            restr += String.format('<div' + ' class=\"sprite\"' + ' style=\"height:{0}px;background-image:url({1});background-size:{2}% {3}%;\"></div>', data.scaleHeight, wrapObj['pathImg'], matrixX, matrixY);\n        } else {\n            //普通图片\n            restr += String.format('<img' + ' src=\"{0}\"' + ' class=\"contentScrollerImg\"' + ' id=\"img_{1}\"' + ' style=\"width:{2}px;height:{3}px;position:absolute;background-size:100% 100%; {4}\"/>', wrapObj['pathImg'], data['_id'], data.scaleWidth, data.scaleHeight, isMaskImg);\n        }\n\n    return restr;\n}\n\n/**\r\n * 纯文本内容\r\n * @param  {[type]} data [description]\r\n * @return {[type]}      [description]\r\n */\nfunction textContent(data) {\n    return String.format('<div' + ' id = \"{0}\"' + ' style=\"background-size:100% 100%;height:auto\">{1}</div>', data['_id'], data.content);\n}\n\n/**\r\n * 针对容器类型的处理\r\n * @param  {[type]} containerName [description]\r\n * @param  {[type]} contentId     [description]\r\n * @param  {[type]} pid     [description]\r\n * @return {[type]}               [description]\r\n */\nfunction createContainerWrap(containerName, contentId, pid) {\n    var contentDas = parseContentDas([contentId]),\n        data = (0, _index.reviseSize)(contentDas[0]),\n        wapper = '<div' + ' id=\"{0}\"' + ' data-behavior=\"click-swipe\"' + ' style=\"width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;z-index:{5};\">';\n\n    return String.format(wapper, containerName, data.scaleWidth, data.scaleHeight, data.scaleTop, data.scaleLeft, data.zIndex);\n}\n\nfunction createContainer(containerRelated, pid) {\n    var itemIds,\n        uuid,\n        contentId,\n        containerName,\n        containerObj = {\n        createUUID: [],\n        containerName: []\n    };\n    containerRelated.forEach(function (data, index) {\n        contentId = data.imageIds;\n        containerName = \"Container_\" + pid + \"_\" + contentId, uuid = \"aaron\" + Math.random();\n        containerObj[uuid] = {\n            'start': [createContainerWrap(containerName, contentId, pid)],\n            'end': '</div>'\n        };\n        containerObj.createUUID.push(uuid);\n        containerObj.containerName.push(containerName);\n        data.itemIds.forEach(function (id) {\n            containerObj[id] = uuid;\n        });\n    });\n    return containerObj;\n}\n\n//=====================================================\n//\n//\t构建content的序列tokens\n//\tcreateImageIds,\n//\tcreateContentIds\n//\tpid,\n//\tpageType,\n//\tdydCreate //重要判断,动态创建\n//\n//=======================================================\nfunction structure(callback, data, context) {\n    var content,\n        contentId,\n        wrapObj,\n        containerObj,\n        sizeResults,\n        contentCollection,\n        contentCount,\n        cloneContentCount,\n        pid = data.pid,\n        pageType = data.pageType,\n        containerRelated = data.containerRelated,\n        seasonRelated = data.seasonRelated,\n        isMaster = pageType === 'master',\n\n\n    //容器li生成的位置\n    //left,right\n    virtualOffset = data.virtualOffset,\n\n\n    ////////////\n    //浮动处理 //\n    //1.浮动母版对象\n    //2.浮动页面对象\n    ////////////\n    floatMaters = data.floatMaters,\n        floatPages = data.floatPages,\n\n\n    //文本框\n    //2016.1.7\n    contentHtmlBoxIds = [],\n\n\n    //所有content的id记录\n    //返回出去给ibooks预编译使用\n    idFix = [],\n\n\n    //默认canvas容器的层级\n    //取精灵动画最高层级\n    //2016.2.25\n    canvasIndex = 1,\n\n\n    //缓存contentDas\n    contentDas = {},\n\n    //缓存content结构\n    cachedContentStr = [];\n\n    //启动cnavas模式\n    var canvasRelatedMode = data.canvasRelated.enable;\n\n    //容器结构创建\n    if (containerRelated && containerRelated.length) {\n        containerObj = createContainer(containerRelated, pid);\n    }\n\n    //========================================\n    //\n    //\t    创建dom结构\n    //\n    //========================================\n\n    /**\r\n     * 转化canvas模式 contentMode 0/1\r\n     * 页面或者母板浮动对象\r\n     * 页面是最顶级的\r\n     * @return {[type]}           [description]\r\n     */\n    var eachPara = function eachPara(parameter, contentId, conData) {\n        var zIndex;\n        _.each(parameter, function (para) {\n            //针对母版content的topmost数据处理，找出浮动的对象Id\n            //排除数据topmost为0的处理\n            zIndex = para['topmost'];\n            if (zIndex && zIndex != 0) {\n                if (isMaster) {\n                    //收集浮动的母版对象id\n                    floatMaters.ids.push(contentId);\n                    floatMaters.zIndex[contentId] = zIndex;\n                } else {\n                    //浮动页面\n                    floatPages.ids.push(contentId);\n                    floatPages.zIndex[contentId] = zIndex;\n                }\n            }\n        });\n    };\n\n    /**\r\n     * 设置canvas数据\r\n     */\n    var createCanvasData = function createCanvasData(type, contentId, conData) {\n        //content收集id标记\n        //cid =>content=> 普通动画 ppt\n        //wid =>widget=>高级动画\n        if (data.canvasRelated[type].indexOf(contentId) == -1) {\n            data.canvasRelated[type].push(contentId);\n            conData.actionTypes[type] = true;\n        }\n\n        if (data.canvasRelated.cid.indexOf(contentId) == -1) {\n            data.canvasRelated.cid.push(contentId);\n        }\n\n        //给content数据增加直接判断标示\n        conData.canvasMode = true;\n\n        //拿到最高层级\n        if (conData.zIndex) {\n            if (conData.zIndex > canvasIndex) {\n                canvasIndex = conData.zIndex;\n            }\n        }\n    };\n\n    /**\r\n     * canvas pixi.js类型处理转化\r\n     * 填充cid, wid\r\n     * @type {Object}\r\n     */\n    var pixiType = {\n        //普通精灵动画\n        \"Sprite\": function Sprite(contentId, conData) {\n            //启动精灵模式\n            //在动画处理的时候给initAnimations快速调用\n            createCanvasData('spiritId', contentId, conData);\n        },\n        //ppt=》pixi动画\n        \"PPT\": function PPT(contentId, conData) {\n            createCanvasData('pptId', contentId, conData);\n        },\n        //高级精灵动画\n        //widget\n        \"SeniorSprite\": function SeniorSprite(contentId, conData) {\n            createCanvasData('widgetId', contentId, conData);\n        }\n    };\n\n    /**\r\n     * 开始过滤参数\r\n     * @return {[type]}           [description]\r\n     */\n    var prefilter = function prefilter(conData, contentId) {\n        var eventId, parameter;\n        var category = conData.category;\n\n        //如果是模板书签，强制为浮动对象\n        if (isMaster && (eventId = seasonRelated[contentId])) {\n            if (eventId['BookMarks']) {\n                floatMaters.ids.push(contentId);\n            }\n        }\n\n        //如果有parameter参数\n        //1 浮动对象\n        //2 canvas对象\n        if (conData) {\n            //转成canvas标记\n            //如果有pixi的处理类型\n            //2016.2.25\n            //SeniorSprite,PPT\n            //Sprite,PPT\n            //SeniorSprite\n            //Sprite\n            //PPT\n            //5种处理方式\n            //可以组合\n            if (canvasRelatedMode && category) {\n                var _cat;\n                var cat;\n                var _cats = category.split(\",\");\n                var i = _cats.length;\n                //动作类型\n                conData.actionTypes = {};\n                if (i) {\n                    while (i--) {\n                        cat = _cats[i];\n                        //匹配数据类型\n                        pixiType[cat] && pixiType[cat](contentId, conData);\n                    }\n                }\n            }\n\n            //如果有parameter\n            if (conData.parameter) {\n                if (parameter = (0, _index.parseJSON)(conData.parameter)) {\n                    //parameter保持数组格式\n                    eachPara(parameter.length ? parameter : [parameter], contentId, conData);\n                }\n            }\n        }\n    };\n\n    /**\r\n     * 解析出每一个content对应的动作\r\n     * 传递prefilter过滤器\r\n     * 1 浮动动作\r\n     * 2 canvas动作\r\n     * @type {[type]}\r\n     */\n    contentCollection = parseContentDas(data.createContentIds, prefilter);\n    contentCount = cloneContentCount = contentCollection.length;\n\n    //创建canvas画布\n    if (canvasRelatedMode) {\n        (0, _Container.Container)(data, canvasIndex);\n    }\n\n    ////////////////\n    //开始生成所有的节点 //\n    //1:dom\n    //2:canvas\n    ////////////////\n    while (contentCount--) {\n\n        //根据数据创content结构\n        if (content = contentCollection[contentCount]) {\n            contentId = content['_id'];\n            //创建包装器,处理数据引用关系\n            wrapObj = makeWarpObj(contentId, content, pageType, pid, virtualOffset);\n            idFix.push(wrapObj.containerName);\n\n            //保存文本框content的Id\n            if (wrapObj.isJs) {\n                contentHtmlBoxIds.push(contentId);\n            }\n            //转换缩放比\n            sizeResults = (0, _index.reviseSize)(wrapObj.data);\n\n            //如果启用了virtualMode模式\n            //对象需要分离创建\n            if (Xut.config.virtualMode) {\n                virtualCreate(sizeResults, wrapObj, content, contentId);\n            } else {\n                //正常模式下创建\n                startCreate(wrapObj, content, contentId);\n            }\n        } else {\n            //或者数据出错\n            checkComplete();\n        }\n    }\n\n    //开始创建节点\n    function startCreate(wrapObj, content, contentId) {\n        //缓存数据\n        contentDas[contentId] = content;\n        //开始创建\n        createRelated(contentId, wrapObj);\n    }\n\n    /**\r\n     * 清理剔除的content\r\n     * @param  {[type]} contentId [description]\r\n     * @return {[type]}           [description]\r\n     */\n    function clearContent(contentId) {\n        data.createContentIds.splice(data.createContentIds.indexOf(contentId), 1);\n        checkComplete();\n    }\n\n    /**\r\n     * 虚拟模式区分创建\r\n     * @param  {[type]} sizeResults [description]\r\n     * @param  {[type]} wrapObj     [description]\r\n     * @param  {[type]} content     [description]\r\n     * @param  {[type]} contentId   [description]\r\n     * @return {[type]}             [description]\r\n     */\n    function virtualCreate(sizeResults, wrapObj, content, contentId) {\n        // 创建分布左边的对象\n        if (wrapObj.virtualOffset === 'left') {\n            if (sizeResults.scaleLeft < Xut.config.screenSize.width) {\n                startCreate(wrapObj, content, contentId);\n            } else {\n                clearContent(contentId);\n            }\n        }\n        // 创建分布右边的对象\n        if (wrapObj.virtualOffset === 'right') {\n            if (sizeResults.scaleLeft > Xut.config.screenSize.width) {\n                startCreate(wrapObj, content, contentId);\n            } else {\n                clearContent(contentId);\n            }\n        }\n    }\n\n    /**\r\n     * 创建content节点\r\n     * @param  {[type]} wrapObj [description]\r\n     * @return {[type]}         [description]\r\n     */\n    function createRelated(contentId, wrapObj) {\n        //解析外部文件\n        externalFile(wrapObj, function (wrapObj) {\n            var uuid,\n                startStr,\n                contentStr,\n                conData = wrapObj.data;\n\n            //拼接地址\n            analysisPath(wrapObj, conData);\n\n            //dom模式下生成dom节点\n            //canvas模式下不处理，因为要合并到pixi场景中\n            if (!conData.canvasMode) {\n                contentStr = createDom(conData, wrapObj);\n            }\n\n            //如果创建的是容器对象\n            if (containerObj && (uuid = containerObj[contentId])) {\n                startStr = containerObj[uuid];\n                startStr.start.push(contentStr);\n            } else {\n                //普通对象\n                cachedContentStr.unshift(contentStr);\n            }\n\n            //检测完毕\n            checkComplete();\n        });\n    }\n\n    /**\r\n     * 返回处理\r\n     * @return {[type]} [description]\r\n     */\n    function checkComplete() {\n        if (cloneContentCount === 1) {\n            //针对容器处理\n            if (containerObj) {\n                var start,\n                    end,\n                    containerStr = [];\n                //合并容器\n                containerObj.createUUID.forEach(function (uuid) {\n                    start = containerObj[uuid].start.join('');\n                    end = containerObj[uuid].end;\n                    containerStr.push(start.concat(end));\n                });\n                containerStr = containerStr.join('');\n                containerName = containerObj.containerName;\n                containerObj = null;\n                callback.call(context, contentDas, cachedContentStr.join('').concat(containerStr), containerName, idFix, contentHtmlBoxIds);\n            } else {\n                callback.call(context, contentDas, cachedContentStr.join(''), '', idFix, contentHtmlBoxIds);\n            }\n        }\n        cloneContentCount--;\n    }\n}\n\n/**\r\n * 针对分段处理\r\n * 只构件必要的节点节点对象\r\n * content字段中visible === 0 是构建显示的对象\r\n * \t\t\t\t\t \t=== 1 是构建隐藏的对象\r\n *\r\n * 并且不是动态创建\r\n */\n// if (false && (1 == content.visible) && !data.dydCreate) {\n// endReturn();  //false 先屏蔽 ，客户端未实现\n// }else{}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250ZW50L3N0cnVjdHVyZS5qcz8wMDZmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBeVlnQixTLEdBQUEsUzs7QUFoWWhCOztBQUVBOzs7Ozs7Ozs7OztBQUVBLElBQUksU0FBUyxJQUFJLElBQUosQ0FBUyxXQUF0Qjs7Ozs7Ozs7QUFRQSxTQUFTLGVBQVQsQ0FBeUIsVUFBekIsRUFBcUMsUUFBckMsRUFBK0M7QUFDM0MsUUFBSSxJQUFKO1FBQVUsT0FBTyxFQUFqQjtBQUNBLGVBQVcsT0FBWCxDQUFtQixVQUFTLFNBQVQsRUFBb0IsS0FBcEIsRUFBMkI7QUFDMUMsZUFBTyxJQUFJLElBQUosQ0FBUyxLQUFULENBQWUsU0FBZixFQUEwQixTQUExQixDQUFQO0FBQ0EsYUFBSyxPQUFMLENBQWEsSUFBYjtBQUNBLG9CQUFZLFNBQVMsSUFBVCxFQUFlLFNBQWYsQ0FBWjtBQUNILEtBSkQ7QUFLQSxXQUFPLElBQVA7QUFDSDs7Ozs7Ozs7QUFRRCxTQUFTLFdBQVQsQ0FBcUIsU0FBckIsRUFBZ0MsT0FBaEMsRUFBeUMsUUFBekMsRUFBbUQsR0FBbkQsRUFBd0QsYUFBeEQsRUFBdUU7O0FBRW5FLFFBQUksU0FBUyxNQUFNLEdBQU4sR0FBWSxHQUFaLEdBQWtCLFNBQS9CO0FBQ0EsV0FBTztBQUNILGtCQUFVLFFBRFA7QUFFSCxtQkFBVyxTQUZSO0FBR0gsY0FBTSxRQUFRLElBQVIsQ0FBYSxRQUFRLEdBQXJCLENBSEgsRTtBQUlILGVBQU8sU0FBUyxJQUFULENBQWMsUUFBUSxHQUF0QixDQUpKLEU7QUFLSCxjQUFNLE9BTEg7QUFNSCxhQUFLLEdBTkY7QUFPSCx1QkFBZSxhQVBaLEU7QUFRSCx1QkFBZSxZQUFZLE1BUnhCO0FBU0gsZ0JBQVEsZ0JBQVMsSUFBVCxFQUFlO0FBQ25CLG1CQUFPLE9BQU8sTUFBZDtBQUNIO0FBWEUsS0FBUDtBQWFIOzs7Ozs7QUFPRCxTQUFTLFlBQVQs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VCxFQUFlO0FBQzNDLDRCQUFRLGFBQWEsSUFBYixFQUFtQixLQUFuQixDQUF5QixJQUF6QixDQUE4QixFQUE5QixDQUFSO0FBQ0EsMEJBQU0sYUFBYSxJQUFiLEVBQW1CLEdBQXpCO0FBQ0EsaUNBQWEsSUFBYixDQUFrQixNQUFNLE1BQU4sQ0FBYSxHQUFiLENBQWxCO0FBQ0gsaUJBSkQ7QUFLQSwrQkFBZSxhQUFhLElBQWIsQ0FBa0IsRUFBbEIsQ0FBZjtBQUNBLGdDQUFnQixhQUFhLGFBQTdCO0FBQ0EsK0JBQWUsSUFBZjtBQUNBLHlCQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCLFVBQXZCLEVBQW1DLGlCQUFpQixJQUFqQixDQUFzQixFQUF0QixFQUEwQixNQUExQixDQUFpQyxZQUFqQyxDQUFuQyxFQUFtRixhQUFuRixFQUFrRyxLQUFsRyxFQUF5RyxpQkFBekc7QUFDSCxhQWJELE1BYU87QUFDSCx5QkFBUyxJQUFULENBQWMsT0FBZCxFQUF1QixVQUF2QixFQUFtQyxpQkFBaUIsSUFBakIsQ0FBc0IsRUFBdEIsQ0FBbkMsRUFBOEQsRUFBOUQsRUFBa0UsS0FBbEUsRUFBeUUsaUJBQXpFO0FBQ0g7QUFDSjtBQUNEO0FBQ0g7QUFFSiIsImZpbGUiOiI4MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDnvJbor5Fjb250ZW5055qE5a655ZmoXHJcbiAqIDIwMTMuMTAuMTJcclxuICogMSDkuLrlpITnkIbph43lpI1jb250ZW505pWw5o2u5byV55So6Zeu6aKYLOWinuWKoFxyXG4gKiBcdFx0XHQgIG1ha2VXYXJwT2Jq5pa55rOVLOeUqOS6jumalOe7nWNvbnRlbnTmlbDmja7nmoTlvJXnlKjlhbPns7vvvIzlr7zoh7Tph43lpI3mlbDmja7ooqvkv67mraPnmoTpl67pophcclxuICogMiDlpJrkuKrpobXpnaLlvJXnlKjlkIzkuIDkuKpjb250ZW5055qE5aSE55CG77yMQ29uZXRudF8wXzEgLOexu+WeiyvpobXnoIErSUTnmoTmoIfnpLpcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgcGFyc2VKU09OLCBhcnJheVVuaXF1ZSAscmV2aXNlU2l6ZSxyZWFkRmlsZX0gZnJvbSAnLi4vLi4vLi4vdXRpbC9pbmRleCdcclxuXHJcbmltcG9ydCB7IENvbnRhaW5lciBhcyBwaXhpQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50L3BpeGkvQ29udGFpbmVyJ1xyXG5cclxubGV0IHByZWZpeCA9IFh1dC5wbGF0LnByZWZpeFN0eWxlO1xyXG5cclxuLyoqXHJcbiAqIOino+aekOW6j+WIl+S4remcgOimgeeahOaVsOaNrlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19ICAgY29udGVudElkcyBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VDb250ZW50RGFzKGNvbnRlbnRJZHMsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgZGF0YSwgdGVtcCA9IFtdO1xyXG4gICAgY29udGVudElkcy5mb3JFYWNoKGZ1bmN0aW9uKGNvbnRlbnRJZCwgaW5kZXgpIHtcclxuICAgICAgICBkYXRhID0gWHV0LmRhdGEucXVlcnkoJ0NvbnRlbnQnLCBjb250ZW50SWQpXHJcbiAgICAgICAgdGVtcC51bnNoaWZ0KGRhdGEpXHJcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZGF0YSwgY29udGVudElkKTtcclxuICAgIH0pXHJcbiAgICByZXR1cm4gdGVtcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWItuS9nOWMheijheWvueixoVxyXG4gKiDnlKjkuo7pmpTnu51jb250ZW505pWw5o2u55qE5byV55So5YWz57O7XHJcbiAqIOWvvOiHtOmHjeWkjeaVsOaNruiiq+S/ruato+eahOmXrumimFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIG1ha2VXYXJwT2JqKGNvbnRlbnRJZCwgY29udGVudCwgcGFnZVR5cGUsIHBpZCwgdmlydHVhbE9mZnNldCkge1xyXG4gICAgLy/llK/kuIDmoIfnpLrnrKZcclxuICAgIHZhciBwcmVmaXggPSBcIl9cIiArIHBpZCArIFwiX1wiICsgY29udGVudElkO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYWdlVHlwZTogcGFnZVR5cGUsXHJcbiAgICAgICAgY29udGVudElkOiBjb250ZW50SWQsXHJcbiAgICAgICAgaXNKczogLy5qcyQvaS50ZXN0KGNvbnRlbnQubWQ1KSwgLy9odG1s57G75Z6LXHJcbiAgICAgICAgaXNTdmc6IC8uc3ZnJC9pLnRlc3QoY29udGVudC5tZDUpLCAvL3N2Z+exu+Wei1xyXG4gICAgICAgIGRhdGE6IGNvbnRlbnQsXHJcbiAgICAgICAgcGlkOiBwaWQsXHJcbiAgICAgICAgdmlydHVhbE9mZnNldDogdmlydHVhbE9mZnNldCwgLy/luIPlsYDkvY3nva5cclxuICAgICAgICBjb250YWluZXJOYW1lOiAnQ29udGVudCcgKyBwcmVmaXgsXHJcbiAgICAgICAgbWFrZUlkOiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lICsgcHJlZml4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rlm77niYflnLDlnYBcclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGFuYWx5c2lzUGF0aCh3cmFwT2JqLCBjb25EYXRhKSB7XHJcbiAgICB2YXIgcGF0aEltZyxcclxuICAgICAgICBpbWdDb250ZW50ID0gY29uRGF0YS5tZDUsXHJcbiAgICAgICAgLy/mmK9naWbmoLzlvI9cclxuICAgICAgICBpc0dpZiA9IC8uZ2lmJC9pLnRlc3QoaW1nQ29udGVudCksXHJcbiAgICAgICAgLy/ljp/lp4vlnLDlnYBcclxuICAgICAgICBvcmlnaW5hbFBhdGhJbWcgPSBYdXQuY29uZmlnLnBhdGhBZGRyZXNzICsgaW1nQ29udGVudDtcclxuXHJcbiAgICBpZiAoaXNHaWYpIHtcclxuICAgICAgICAvL+WkhOeQhmdpZuWbvueJh+e8k+WtmCvpmo/mnLrmlbBcclxuICAgICAgICBwYXRoSW1nID0gWHV0LmNyZWF0ZVJhbmRvbUltZyhvcmlnaW5hbFBhdGhJbWcpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhdGhJbWcgPSBvcmlnaW5hbFBhdGhJbWc7XHJcbiAgICB9XHJcbiAgICB3cmFwT2JqWydpbWdDb250ZW50J10gPSBpbWdDb250ZW50O1xyXG4gICAgd3JhcE9ialsnaXNHaWYnXSA9IGlzR2lmO1xyXG4gICAgd3JhcE9ialsncGF0aEltZyddID0gcGF0aEltZztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnu4TmiJBIVE1M57uT5p6EXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gYXJndW1lbnQgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZURvbShkYXRhLCB3cmFwT2JqKSB7XHJcbiAgICB2YXIgcmVzdHIgPSAnJztcclxuICAgIC8v5Yib5bu65YyF6KOF5a655ZmoXHJcbiAgICByZXN0ciArPSBjcmVhdGVXYXBwZXIoZGF0YSwgd3JhcE9iaik7XHJcbiAgICAvL+WIm+W7uuWGheWuuVxyXG4gICAgcmVzdHIgKz0gY3JlYXRlQ29udGVudChkYXRhLCB3cmFwT2JqKTtcclxuICAgIHJlc3RyICs9IFwiPC9kaXY+PC9kaXY+XCI7XHJcbiAgICByZXR1cm4gcmVzdHI7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Yib5bu65YyF5ZCr5a655ZmoXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gd3JhcE9iaiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVXYXBwZXIoZGF0YSwgd3JhcE9iaikge1xyXG4gICAgdmFyIHdhcHBlciwgYWN0TmFtZSwgb2Zmc2V0LCB2aXNpYmlsaXR5LFxyXG4gICAgICAgIGJhY2t3aWR0aCwgYmFja2hlaWdodCwgYmFja2xlZnQsIGJhY2t0b3AsXHJcbiAgICAgICAgekluZGV4ID0gZGF0YVsnekluZGV4J10sXHJcbiAgICAgICAgaWQgPSBkYXRhWydfaWQnXSxcclxuICAgICAgICBjb250YWluZXJOYW1lID0gd3JhcE9iai5jb250YWluZXJOYW1lLFxyXG4gICAgICAgIHBpZCA9IHdyYXBPYmoucGlkLFxyXG4gICAgICAgIG1ha2VJZCA9IHdyYXBPYmoubWFrZUlkLFxyXG4gICAgICAgIGJhY2tncm91bmQgPSBkYXRhLmJhY2tncm91bmQgPyAnYmFja2dyb3VuZC1pbWFnZTogdXJsKCcgKyBYdXQuY29uZmlnLnBhdGhBZGRyZXNzICsgZGF0YS5iYWNrZ3JvdW5kICsgJyk7JyA6ICcnO1xyXG5cclxuICAgIC8v6IOM5pmv5bC65a+45LyY5YWIXHJcbiAgICBpZiAoZGF0YS5zY2FsZUJhY2tXaWR0aCAmJiBkYXRhLnNjYWxlQmFja0hlaWdodCkge1xyXG4gICAgICAgIGJhY2t3aWR0aCA9IGRhdGEuc2NhbGVCYWNrV2lkdGg7XHJcbiAgICAgICAgYmFja2hlaWdodCA9IGRhdGEuc2NhbGVCYWNrSGVpZ2h0O1xyXG4gICAgICAgIGJhY2tsZWZ0ID0gZGF0YS5zY2FsZUJhY2tMZWZ0O1xyXG4gICAgICAgIGJhY2t0b3AgPSBkYXRhLnNjYWxlQmFja1RvcDtcclxuICAgICAgICB3cmFwT2JqLmJhY2tNb2RlID0gdHJ1ZSAvL+iDjOaZr+WbvuaooeW8j1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBiYWNrd2lkdGggPSBkYXRhLnNjYWxlV2lkdGg7XHJcbiAgICAgICAgYmFja2hlaWdodCA9IGRhdGEuc2NhbGVIZWlnaHQ7XHJcbiAgICAgICAgYmFja2xlZnQgPSBkYXRhLnNjYWxlTGVmdDtcclxuICAgICAgICBiYWNrdG9wID0gZGF0YS5zY2FsZVRvcDtcclxuICAgIH1cclxuXHJcbiAgICAvL2NvbnRlbnTpu5jorqTmmK/mmL7npLrnmoTmlbDmja7nmoRcclxuICAgIC8vY29udGVudC52aXNpYmxlID0gMFxyXG4gICAgLy/lpoLmnpzkuLoxIOWwsemakOiXj+aUueaIkGhpZGRlblxyXG4gICAgLy8wNS4xLjE0XHJcbiAgICB2aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcbiAgICBpZiAoZGF0YS52aXNpYmxlKSB7XHJcbiAgICAgICAgdmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHZhciBpc0h0bWwgPSBcIlwiO1xyXG4gICAgLy8yMDE1LjEyLjI5XHJcbiAgICAvL+WmguaenOaYr2h0bWzlhoXlrrlcclxuICAgIGlmICh3cmFwT2JqLmlzSnMpIHtcclxuICAgICAgICAvL+ato+W4uGNvbnRlbnTnsbvlnotcclxuICAgICAgICB3YXBwZXIgPSAnPGRpdiBpZD1cInswfVwiJyArICcgZGF0YS1iZWhhdmlvcj1cImNsaWNrLXN3aXBlXCInICsgJyBzdHlsZT1cIm92ZXJmbG93OmhpZGRlbjt3aWR0aDp7MX1weDtoZWlnaHQ6ezJ9cHg7dG9wOnszfXB4O2xlZnQ6ezR9cHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDp7NX07dmlzaWJpbGl0eTp7Nn07YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTt7MTB9XCI+JyArICcgPGRpdiBpZD1cIns3fVwiIHN0eWxlPVwid2lkdGg6ezh9cHg7cG9zaXRpb246YWJzb2x1dGU7XCI+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mb3JtYXQod2FwcGVyLFxyXG4gICAgICAgICAgICBjb250YWluZXJOYW1lLCBiYWNrd2lkdGgsIGJhY2toZWlnaHQsIGJhY2t0b3AsIGJhY2tsZWZ0LCB6SW5kZXgsIHZpc2liaWxpdHksXHJcbiAgICAgICAgICAgIG1ha2VJZCgnY29udGVudFdyYXBwZXInKSwgYmFja3dpZHRoLCBiYWNraGVpZ2h0LCBiYWNrZ3JvdW5kXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+ato+W4uGNvbnRlbnTnsbvlnotcclxuICAgIHdhcHBlciA9ICc8ZGl2IGlkPVwiezB9XCInICsgJyBkYXRhLWJlaGF2aW9yPVwiY2xpY2stc3dpcGVcIicgKyAnIHN0eWxlPVwib3ZlcmZsb3c6aGlkZGVuO3dpZHRoOnsxfXB4O2hlaWdodDp7Mn1weDt0b3A6ezN9cHg7bGVmdDp7NH1weDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ons1fTt2aXNpYmlsaXR5Ons2fTtcIj4nICsgJyA8ZGl2IGlkPVwiezd9XCIgc3R5bGU9XCJ3aWR0aDp7OH1weDtoZWlnaHQ6ezl9cHg7ezEwfXBvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7XCI+JztcclxuXHJcblxyXG4gICAgcmV0dXJuIFN0cmluZy5mb3JtYXQod2FwcGVyLFxyXG4gICAgICAgIGNvbnRhaW5lck5hbWUsIGJhY2t3aWR0aCwgYmFja2hlaWdodCwgYmFja3RvcCwgYmFja2xlZnQsIHpJbmRleCwgdmlzaWJpbGl0eSxcclxuICAgICAgICBtYWtlSWQoJ2NvbnRlbnRXcmFwcGVyJyksIGJhY2t3aWR0aCwgYmFja2hlaWdodCwgYmFja2dyb3VuZFxyXG4gICAgKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBjb250ZW50XHJcbiAqIFx0c3Zn5pWw5o2uXHJcbiAqIFx0aHRtbOaVsOaNrlxyXG4gKiDop6PmnpDlpJbpg6jmlofku7ZcclxuICogQHBhcmFtICB7W3R5cGVdfSB3cmFwT2JqICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gc3ZnQ2FsbGJhY2sgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGV4dGVybmFsRmlsZSh3cmFwT2JqLCBzdmdDYWxsYmFjaykge1xyXG4gICAgLy9zdmfpm7bku7bkuI3liJvlu7rop6PmnpDlhbfkvZPlhoXlrrlcclxuICAgIGlmICh3cmFwT2JqLmlzU3ZnKSB7XHJcbiAgICAgICAgcmVhZEZpbGUod3JhcE9iai5kYXRhLm1kNSwgZnVuY3Rpb24oc3ZnZGF0YSkge1xyXG4gICAgICAgICAgICB3cmFwT2JqWydzdmdzdHInXSA9IHN2Z2RhdGE7XHJcbiAgICAgICAgICAgIHN2Z0NhbGxiYWNrKHdyYXBPYmopO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh3cmFwT2JqLmlzSnMpIHtcclxuICAgICAgICAvL+WmguaenOaYry5qc+eahHN2Z+aWh+S7tlxyXG4gICAgICAgIHJlYWRGaWxlKHdyYXBPYmouZGF0YS5tZDUsIGZ1bmN0aW9uKGh0bWxkYXRhKSB7XHJcbiAgICAgICAgICAgIHdyYXBPYmpbJ2h0bWxzdHInXSA9IGh0bWxkYXRhO1xyXG4gICAgICAgICAgICBzdmdDYWxsYmFjayh3cmFwT2JqKTtcclxuICAgICAgICB9LCBcImpzXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzdmdDYWxsYmFjayh3cmFwT2JqKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuWGheWuuVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHdyYXBPYmogW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29udGVudChkYXRhLCB3cmFwT2JqKSB7XHJcbiAgICB2YXIgcmVzdHIgPSBcIlwiO1xyXG4gICAgLy/lpoLmnpzlhoXlrrnmmK/lm77niYdcclxuICAgIC8v5aaC5p6c5pivc3Zn5oiW6ICFaHRtbFxyXG4gICAgaWYgKHdyYXBPYmouaW1nQ29udGVudCkge1xyXG4gICAgICAgIC8v5aaC5p6c5pivU1ZHXHJcbiAgICAgICAgaWYgKHdyYXBPYmouaXNTdmcpIHtcclxuICAgICAgICAgICAgcmVzdHIgKz0gc3ZnQ29udGVudChkYXRhLCB3cmFwT2JqKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdyYXBPYmouaXNKcykge1xyXG4gICAgICAgICAgICAvL+WmguaenOaYry5qc+e7k+aehOeahGh0bWzmlofku7ZcclxuICAgICAgICAgICAgcmVzdHIgKz0ganNDb250ZW50KGRhdGEsIHdyYXBPYmopXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/lpoLmnpzmmK/okpnmnb/vvIzmiJbogIXmmK9naWbnsbvlnovnmoTliqjnlLvvvIznu5npq5jluqZcclxuICAgICAgICAgICAgcmVzdHIgKz0gbWFza0NvbnRlbnQoZGF0YSwgd3JhcE9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+e6r+aWh+acrOaWh+Wtl1xyXG4gICAgICAgIHJlc3RyICs9IHRleHRDb250ZW50KGRhdGEsIHdyYXBPYmopO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3RyO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWmguaenOaYry5qc+e7k+WwvueahFxyXG4gKiDmlrDlop7nmoRodG1s5paH5Lu2XHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gd3JhcE9iaiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBqc0NvbnRlbnQoZGF0YSwgd3JhcE9iaikge1xyXG4gICAgcmV0dXJuIHdyYXBPYmpbXCJodG1sc3RyXCJdO1xyXG59XHJcblxyXG4vKipcclxuICog5aaC5p6c5YaF5a655pivc3ZnXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gd3JhcE9iaiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBzdmdDb250ZW50KGRhdGEsIHdyYXBPYmopIHtcclxuICAgIHZhciByZXN0ciA9IFwiXCIsXHJcbiAgICAgICAgc3Znc3RyID0gd3JhcE9ialsnc3Znc3RyJ10sXHJcbiAgICAgICAgc2NhbGVXaWR0aCA9IGRhdGFbJ3NjYWxlV2lkdGgnXTtcclxuXHJcbiAgICAvL+S7jlNWR+aWh+S7tuS4re+8jOivu+WPllZpZXdwb3J055qE5YC8XHJcbiAgICBpZiAoc3Znc3RyICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhciBzdGFydFBvcyA9IHN2Z3N0ci5zZWFyY2goJ3ZpZXdCb3g9XCInKTtcclxuICAgICAgICB2YXIgc2VhcmNoVG1wID0gc3Znc3RyLnN1YnN0cmluZyhzdGFydFBvcywgc3RhcnRQb3MgKyA2NCkucmVwbGFjZSgndmlld0JveD1cIicsICcnKS5yZXBsYWNlKCcwIDAgJywgJycpO1xyXG4gICAgICAgIHZhciBlbmRQb3MgPSBzZWFyY2hUbXAuc2VhcmNoKCdcIicpO1xyXG4gICAgICAgIHZhciB0ZW1wID0gc2VhcmNoVG1wLnN1YnN0cmluZygwLCBlbmRQb3MpO1xyXG4gICAgICAgIHZhciBzcHRBcnJheSA9IHRlbXAuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIHZhciBzdmd3aWR0aCA9IHNwdEFycmF5WzBdO1xyXG4gICAgICAgIHZhciBzdmdoZWlnaHQgPSBzcHRBcnJheVsxXTtcclxuXHJcbiAgICAgICAgLy9zdmflhoXlrrnlrr3luqY6c3Zn5YaF5a656auY5bqmID0gdmlld0JveOWuvTp2aWV3Qm946auYXHJcbiAgICAgICAgLy9zdmflhoXlrrnpq5jluqYgPSBzdmflhoXlrrnlrr3luqYgKiB2aWV3Qm946auYIC8gdmlld0JveOWuvVxyXG4gICAgICAgIHZhciBzdmdSZWFsSGVpZ2h0ID0gTWF0aC5mbG9vcihzY2FsZVdpZHRoICogc3ZnaGVpZ2h0IC8gc3Znd2lkdGgpO1xyXG4gICAgICAgIC8v5aaC5p6cc3Zn5YaF5a656auY5bqm5aSn5LqO5biD5bGA6auY5bqm5YiZ5re75Yqg5rua5Yqo5p2hXHJcbiAgICAgICAgaWYgKHN2Z1JlYWxIZWlnaHQgPiAoZGF0YS5zY2FsZUhlaWdodCArIDEpKSB7XHJcbiAgICAgICAgICAgIHZhciBzdmdSZWFsV2lkdGggPSBNYXRoLmZsb29yKHNjYWxlV2lkdGgpO1xyXG4gICAgICAgICAgICAvL2lmIHRoZXJlIGRvIG5lZWQgc2Nyb2xsYmFyLCB0aGVuIHJlc3RvcmUgdGV4dCB0byBpdHMgb3JpZ2luYWwgcHJvcFxyXG4gICAgICAgICAgICAvL+W4g+WxgOS9jee9rlxyXG4gICAgICAgICAgICB2YXIgbWFyZ2lubGVmdCA9IHdyYXBPYmpbJ2JhY2tNb2RlJ10gPyBkYXRhLnNjYWxlTGVmdCAtIGRhdGEuc2NhbGVCYWNrTGVmdCA6IDA7XHJcbiAgICAgICAgICAgIHZhciBtYXJnaW50b3AgPSB3cmFwT2JqWydiYWNrTW9kZSddID8gZGF0YS5zY2FsZVRvcCAtIGRhdGEuc2NhbGVCYWNrVG9wIDogMDtcclxuICAgICAgICAgICAgdGVtcCA9ICc8ZGl2IHN0eWxlPVwid2lkdGg6ezB9OyBoZWlnaHQ6ezF9O21hcmdpbi1sZWZ0OnsyfXB4O21hcmdpbi10b3A6ezN9cHg7XCI+ezR9PC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmlzU2Nyb2xsKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0ciA9IFN0cmluZy5mb3JtYXQodGVtcCwgc3ZnUmVhbFdpZHRoICsgJ3B4Jywgc3ZnUmVhbEhlaWdodCArICdweCcsIG1hcmdpbmxlZnQsIG1hcmdpbnRvcCwgc3Znc3RyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyID0gU3RyaW5nLmZvcm1hdCh0ZW1wLCAnMTAwJScsICcxMDAlJywgbWFyZ2lubGVmdCwgbWFyZ2ludG9wLCBzdmdzdHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdHIgKz0gc3Znc3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN0cjtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiSmeeJiOWKqOeUu1xyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHdyYXBPYmogW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gbWFza0NvbnRlbnQoZGF0YSwgd3JhcE9iaikge1xyXG5cclxuICAgIHZhciByZXN0ciA9IFwiXCIsXHJcbiAgICAgICAgLy/lpoLmnpzmnInokpnniYjlm75cclxuICAgICAgICBpc01hc2tJbWcgPSBkYXRhLm1hc2sgPyBwcmVmaXgoJ21hc2stYm94LWltYWdlJykgKyBcIjp1cmwoXCIgKyBYdXQuY29uZmlnLnBhdGhBZGRyZXNzICsgZGF0YS5tYXNrICsgXCIpO1wiIDogXCJcIjtcclxuXHJcbiAgICAvL+iSmeadv+WbvlxyXG4gICAgaWYgKGRhdGEubWFzayB8fCB3cmFwT2JqWydpc0dpZiddKSB7XHJcbiAgICAgICAgLy/okpnniYjlm75cclxuICAgICAgICBpZiAocHJlZml4KCdtYXNrLWJveC1pbWFnZScpICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXN0ciArPSBTdHJpbmcuZm9ybWF0KFxyXG4gICAgICAgICAgICAgICAgJzxpbWcnICsgJyBpZD1cImltZ197MX1cIicgKyAnIGNsYXNzPVwiY29udGVudFNjcm9sbGVySW1nXCInICsgJyBzcmM9XCJ7MH1cIicgKyAnIHN0eWxlPVwid2lkdGg6ezJ9cHg7aGVpZ2h0OnszfXB4O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7ezR9XCIvPicsXHJcbiAgICAgICAgICAgICAgICB3cmFwT2JqWydwYXRoSW1nJ10sIGRhdGFbJ19pZCddLCBkYXRhLnNjYWxlV2lkdGgsIGRhdGEuc2NhbGVIZWlnaHQsIGlzTWFza0ltZ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vY2FudmFzXHJcbiAgICAgICAgICAgIHJlc3RyICs9IFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAnIDxjYW52YXMgc3JjPVwiezB9XCInICsgJyBjbGFzcz1cImNvbnRlbnRTY3JvbGxlckltZyBlZGdlc1wiJyArICcgbWFzaz1cIns1fVwiJyArICcgaWQgPSBcImltZ197MX1cIicgKyAnIHdpZHRoPVwiezJ9XCInICsgJyBoZWlnaHQ9XCJ7M31cIicgKyAnIHN0eWxlPVwid2lkdGg6ezJ9cHg7IGhlaWdodDp7M31weDtvcGFjaXR5OjA7IGJhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7IHs0fVwiJyArICcgLz4nLFxyXG4gICAgICAgICAgICAgICAgd3JhcE9ialsncGF0aEltZyddLCBkYXRhWydfaWQnXSwgZGF0YS5zY2FsZVdpZHRoLCBkYXRhLnNjYWxlSGVpZ2h0LCBpc01hc2tJbWcsIFh1dC5jb25maWcucGF0aEFkZHJlc3MucmVwbGFjZSgvXFwvL2csIFwiXFwvXCIpICsgZGF0YS5tYXNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/nsr7ngbXlm75cclxuICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PSAnU3ByaXRlJykge1xyXG5cclxuICAgICAgICB2YXIgbWF0cml4WCA9IDEwMCAqIGRhdGEudGhlY291bnQ7XHJcbiAgICAgICAgdmFyIG1hdHJpeFkgPSAxMDA7XHJcbiAgXHJcbiAgICAgICAgLy/lpoLmnpzmnInlj4LmlbBcclxuICAgICAgICAvL+eyvueBteWbvuaYr+efqemYteWbvlxyXG4gICAgICAgIGlmIChkYXRhLnBhcmFtZXRlcikge1xyXG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVyID0gcGFyc2VKU09OKGRhdGEucGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgaWYgKHBhcmFtZXRlciAmJiBwYXJhbWV0ZXIubWF0cml4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0cml4ID0gcGFyYW1ldGVyLm1hdHJpeC5zcGxpdChcIi1cIilcclxuICAgICAgICAgICAgICAgIG1hdHJpeFggPSAxMDAgKiBOdW1iZXIobWF0cml4WzBdKVxyXG4gICAgICAgICAgICAgICAgbWF0cml4WSA9IDEwMCAqIE51bWJlcihtYXRyaXhbMV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdHIgKz0gU3RyaW5nLmZvcm1hdChcclxuICAgICAgICAgICAgJzxkaXYnICsgJyBjbGFzcz1cInNwcml0ZVwiJyArICcgc3R5bGU9XCJoZWlnaHQ6ezB9cHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoezF9KTtiYWNrZ3JvdW5kLXNpemU6ezJ9JSB7M30lO1wiPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGRhdGEuc2NhbGVIZWlnaHQsIHdyYXBPYmpbJ3BhdGhJbWcnXSwgbWF0cml4WCwgbWF0cml4WVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+aZrumAmuWbvueJh1xyXG4gICAgICAgIHJlc3RyICs9IFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICc8aW1nJyArICcgc3JjPVwiezB9XCInICsgJyBjbGFzcz1cImNvbnRlbnRTY3JvbGxlckltZ1wiJyArICcgaWQ9XCJpbWdfezF9XCInICsgJyBzdHlsZT1cIndpZHRoOnsyfXB4O2hlaWdodDp7M31weDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlOyB7NH1cIi8+JyxcclxuICAgICAgICAgICAgd3JhcE9ialsncGF0aEltZyddLCBkYXRhWydfaWQnXSwgZGF0YS5zY2FsZVdpZHRoLCBkYXRhLnNjYWxlSGVpZ2h0LCBpc01hc2tJbWdcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN0cjtcclxufVxyXG5cclxuLyoqXHJcbiAqIOe6r+aWh+acrOWGheWuuVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gdGV4dENvbnRlbnQoZGF0YSkge1xyXG4gICAgcmV0dXJuIFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgJzxkaXYnICsgJyBpZCA9IFwiezB9XCInICsgJyBzdHlsZT1cImJhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7aGVpZ2h0OmF1dG9cIj57MX08L2Rpdj4nLFxyXG4gICAgICAgIGRhdGFbJ19pZCddLCBkYXRhLmNvbnRlbnRcclxuICAgIClcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDpkojlr7nlrrnlmajnsbvlnovnmoTlpITnkIZcclxuICogQHBhcmFtICB7W3R5cGVdfSBjb250YWluZXJOYW1lIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBjb250ZW50SWQgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBwaWQgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcldyYXAoY29udGFpbmVyTmFtZSwgY29udGVudElkLCBwaWQpIHtcclxuICAgIHZhciBjb250ZW50RGFzID0gcGFyc2VDb250ZW50RGFzKFtjb250ZW50SWRdKSxcclxuICAgICAgICBkYXRhID0gcmV2aXNlU2l6ZShjb250ZW50RGFzWzBdKSxcclxuICAgICAgICB3YXBwZXIgPSAnPGRpdicgKyAnIGlkPVwiezB9XCInICsgJyBkYXRhLWJlaGF2aW9yPVwiY2xpY2stc3dpcGVcIicgKyAnIHN0eWxlPVwid2lkdGg6ezF9cHg7aGVpZ2h0OnsyfXB4O3RvcDp7M31weDtsZWZ0Ons0fXB4O3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6ezV9O1wiPic7XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZy5mb3JtYXQod2FwcGVyLFxyXG4gICAgICAgIGNvbnRhaW5lck5hbWUsIGRhdGEuc2NhbGVXaWR0aCwgZGF0YS5zY2FsZUhlaWdodCwgZGF0YS5zY2FsZVRvcCwgZGF0YS5zY2FsZUxlZnQsIGRhdGEuekluZGV4KVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXIoY29udGFpbmVyUmVsYXRlZCwgcGlkKSB7XHJcbiAgICB2YXIgaXRlbUlkcywgdXVpZCwgY29udGVudElkLFxyXG4gICAgICAgIGNvbnRhaW5lck5hbWUsXHJcbiAgICAgICAgY29udGFpbmVyT2JqID0ge1xyXG4gICAgICAgICAgICBjcmVhdGVVVUlEOiBbXSxcclxuICAgICAgICAgICAgY29udGFpbmVyTmFtZTogW11cclxuICAgICAgICB9O1xyXG4gICAgY29udGFpbmVyUmVsYXRlZC5mb3JFYWNoKGZ1bmN0aW9uKGRhdGEsIGluZGV4KSB7XHJcbiAgICAgICAgY29udGVudElkID0gZGF0YS5pbWFnZUlkcztcclxuICAgICAgICBjb250YWluZXJOYW1lID0gXCJDb250YWluZXJfXCIgKyBwaWQgKyBcIl9cIiArIGNvbnRlbnRJZCxcclxuICAgICAgICAgICAgdXVpZCA9IFwiYWFyb25cIiArIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgY29udGFpbmVyT2JqW3V1aWRdID0ge1xyXG4gICAgICAgICAgICAnc3RhcnQnOiBbY3JlYXRlQ29udGFpbmVyV3JhcChjb250YWluZXJOYW1lLCBjb250ZW50SWQsIHBpZCldLFxyXG4gICAgICAgICAgICAnZW5kJzogJzwvZGl2PidcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnRhaW5lck9iai5jcmVhdGVVVUlELnB1c2godXVpZCk7XHJcbiAgICAgICAgY29udGFpbmVyT2JqLmNvbnRhaW5lck5hbWUucHVzaChjb250YWluZXJOYW1lKTtcclxuICAgICAgICBkYXRhLml0ZW1JZHMuZm9yRWFjaChmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICBjb250YWluZXJPYmpbaWRdID0gdXVpZDtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIHJldHVybiBjb250YWluZXJPYmo7XHJcbn1cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vXHTmnoTlu7pjb250ZW5055qE5bqP5YiXdG9rZW5zXHJcbi8vXHRjcmVhdGVJbWFnZUlkcyxcclxuLy9cdGNyZWF0ZUNvbnRlbnRJZHNcclxuLy9cdHBpZCxcclxuLy9cdHBhZ2VUeXBlLFxyXG4vL1x0ZHlkQ3JlYXRlIC8v6YeN6KaB5Yik5patLOWKqOaAgeWIm+W7ulxyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cnVjdHVyZShjYWxsYmFjaywgZGF0YSwgY29udGV4dCkge1xyXG4gICAgdmFyIGNvbnRlbnQsXHJcbiAgICAgICAgY29udGVudElkLFxyXG4gICAgICAgIHdyYXBPYmosXHJcbiAgICAgICAgY29udGFpbmVyT2JqLFxyXG4gICAgICAgIHNpemVSZXN1bHRzLFxyXG4gICAgICAgIGNvbnRlbnRDb2xsZWN0aW9uLFxyXG4gICAgICAgIGNvbnRlbnRDb3VudCxcclxuICAgICAgICBjbG9uZUNvbnRlbnRDb3VudCxcclxuICAgICAgICBwaWQgICAgICAgICAgICAgID0gZGF0YS5waWQsXHJcbiAgICAgICAgcGFnZVR5cGUgICAgICAgICA9IGRhdGEucGFnZVR5cGUsXHJcbiAgICAgICAgY29udGFpbmVyUmVsYXRlZCA9IGRhdGEuY29udGFpbmVyUmVsYXRlZCxcclxuICAgICAgICBzZWFzb25SZWxhdGVkICAgID0gZGF0YS5zZWFzb25SZWxhdGVkLFxyXG4gICAgICAgIGlzTWFzdGVyICAgICAgICAgPSBwYWdlVHlwZSA9PT0gJ21hc3RlcicsXHJcblxyXG4gICAgICAgIC8v5a655ZmobGnnlJ/miJDnmoTkvY3nva5cclxuICAgICAgICAvL2xlZnQscmlnaHRcclxuICAgICAgICB2aXJ0dWFsT2Zmc2V0ID0gZGF0YS52aXJ0dWFsT2Zmc2V0LFxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy9cclxuICAgICAgICAvL+a1ruWKqOWkhOeQhiAvL1xyXG4gICAgICAgIC8vMS7mta7liqjmr43niYjlr7nosaFcclxuICAgICAgICAvLzIu5rWu5Yqo6aG16Z2i5a+56LGhXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgZmxvYXRNYXRlcnMgPSBkYXRhLmZsb2F0TWF0ZXJzLFxyXG4gICAgICAgIGZsb2F0UGFnZXMgID0gZGF0YS5mbG9hdFBhZ2VzLFxyXG5cclxuICAgICAgICAvL+aWh+acrOahhlxyXG4gICAgICAgIC8vMjAxNi4xLjdcclxuICAgICAgICBjb250ZW50SHRtbEJveElkcyA9IFtdLFxyXG5cclxuICAgICAgICAvL+aJgOaciWNvbnRlbnTnmoRpZOiusOW9lVxyXG4gICAgICAgIC8v6L+U5Zue5Ye65Y6757uZaWJvb2tz6aKE57yW6K+R5L2/55SoXHJcbiAgICAgICAgaWRGaXggPSBbXSxcclxuXHJcbiAgICAgICAgLy/pu5jorqRjYW52YXPlrrnlmajnmoTlsYLnuqdcclxuICAgICAgICAvL+WPlueyvueBteWKqOeUu+acgOmrmOWxgue6p1xyXG4gICAgICAgIC8vMjAxNi4yLjI1XHJcbiAgICAgICAgY2FudmFzSW5kZXggPSAxLFxyXG5cclxuICAgICAgICAvL+e8k+WtmGNvbnRlbnREYXNcclxuICAgICAgICBjb250ZW50RGFzID0ge30sXHJcbiAgICAgICAgLy/nvJPlrZhjb250ZW5057uT5p6EXHJcbiAgICAgICAgY2FjaGVkQ29udGVudFN0ciA9IFtdO1xyXG5cclxuXHJcbiAgICAvL+WQr+WKqGNuYXZhc+aooeW8j1xyXG4gICAgdmFyIGNhbnZhc1JlbGF0ZWRNb2RlID0gZGF0YS5jYW52YXNSZWxhdGVkLmVuYWJsZTtcclxuXHJcblxyXG4gICAgLy/lrrnlmajnu5PmnoTliJvlu7ogXHJcbiAgICBpZiAoY29udGFpbmVyUmVsYXRlZCAmJiBjb250YWluZXJSZWxhdGVkLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnRhaW5lck9iaiA9IGNyZWF0ZUNvbnRhaW5lcihjb250YWluZXJSZWxhdGVkLCBwaWQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvL1x0ICAgIOWIm+W7umRvbee7k+aehFxyXG4gICAgLy9cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi9rOWMlmNhbnZhc+aooeW8jyBjb250ZW50TW9kZSAwLzFcclxuICAgICAqIOmhtemdouaIluiAheavjeadv+a1ruWKqOWvueixoVxyXG4gICAgICog6aG16Z2i5piv5pyA6aG257qn55qEXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHZhciBlYWNoUGFyYSA9IGZ1bmN0aW9uKHBhcmFtZXRlciwgY29udGVudElkLCBjb25EYXRhKSB7XHJcbiAgICAgICAgdmFyIHpJbmRleDtcclxuICAgICAgICBfLmVhY2gocGFyYW1ldGVyLCBmdW5jdGlvbihwYXJhKSB7XHJcbiAgICAgICAgICAgIC8v6ZKI5a+55q+N54mIY29udGVudOeahHRvcG1vc3TmlbDmja7lpITnkIbvvIzmib7lh7rmta7liqjnmoTlr7nosaFJZFxyXG4gICAgICAgICAgICAvL+aOkumZpOaVsOaNrnRvcG1vc3TkuLow55qE5aSE55CGXHJcbiAgICAgICAgICAgIHpJbmRleCA9IHBhcmFbJ3RvcG1vc3QnXVxyXG4gICAgICAgICAgICBpZiAoekluZGV4ICYmIHpJbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNYXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+aUtumbhua1ruWKqOeahOavjeeJiOWvueixoWlkXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRNYXRlcnMuaWRzLnB1c2goY29udGVudElkKVxyXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0TWF0ZXJzLnpJbmRleFtjb250ZW50SWRdID0gekluZGV4XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5rWu5Yqo6aG16Z2iXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRQYWdlcy5pZHMucHVzaChjb250ZW50SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRQYWdlcy56SW5kZXhbY29udGVudElkXSA9IHpJbmRleFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva5jYW52YXPmlbDmja5cclxuICAgICAqL1xyXG4gICAgdmFyIGNyZWF0ZUNhbnZhc0RhdGEgPSBmdW5jdGlvbih0eXBlLCBjb250ZW50SWQsIGNvbkRhdGEpIHtcclxuICAgICAgICAvL2NvbnRlbnTmlLbpm4ZpZOagh+iusFxyXG4gICAgICAgIC8vY2lkID0+Y29udGVudD0+IOaZrumAmuWKqOeUuyBwcHRcclxuICAgICAgICAvL3dpZCA9PndpZGdldD0+6auY57qn5Yqo55S7IFxyXG4gICAgICAgIGlmIChkYXRhLmNhbnZhc1JlbGF0ZWRbdHlwZV0uaW5kZXhPZihjb250ZW50SWQpID09IC0xKSB7XHJcbiAgICAgICAgICAgIGRhdGEuY2FudmFzUmVsYXRlZFt0eXBlXS5wdXNoKGNvbnRlbnRJZCk7XHJcbiAgICAgICAgICAgIGNvbkRhdGEuYWN0aW9uVHlwZXNbdHlwZV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuY2FudmFzUmVsYXRlZC5jaWQuaW5kZXhPZihjb250ZW50SWQpID09IC0xKSB7XHJcbiAgICAgICAgICAgIGRhdGEuY2FudmFzUmVsYXRlZC5jaWQucHVzaChjb250ZW50SWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/nu5ljb250ZW505pWw5o2u5aKe5Yqg55u05o6l5Yik5pat5qCH56S6XHJcbiAgICAgICAgY29uRGF0YS5jYW52YXNNb2RlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy/mi7/liLDmnIDpq5jlsYLnuqdcclxuICAgICAgICBpZiAoY29uRGF0YS56SW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGNvbkRhdGEuekluZGV4ID4gY2FudmFzSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhc0luZGV4ID0gY29uRGF0YS56SW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYW52YXMgcGl4aS5qc+exu+Wei+WkhOeQhui9rOWMllxyXG4gICAgICog5aGr5YWFY2lkLCB3aWRcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBwaXhpVHlwZSA9IHtcclxuICAgICAgICAvL+aZrumAmueyvueBteWKqOeUu1xyXG4gICAgICAgIFwiU3ByaXRlXCI6IGZ1bmN0aW9uKGNvbnRlbnRJZCwgY29uRGF0YSkge1xyXG4gICAgICAgICAgICAvL+WQr+WKqOeyvueBteaooeW8j1xyXG4gICAgICAgICAgICAvL+WcqOWKqOeUu+WkhOeQhueahOaXtuWAmee7mWluaXRBbmltYXRpb25z5b+r6YCf6LCD55SoXHJcbiAgICAgICAgICAgIGNyZWF0ZUNhbnZhc0RhdGEoJ3NwaXJpdElkJywgY29udGVudElkLCBjb25EYXRhKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy9wcHQ944CLcGl4aeWKqOeUu1xyXG4gICAgICAgIFwiUFBUXCI6IGZ1bmN0aW9uKGNvbnRlbnRJZCwgY29uRGF0YSkge1xyXG4gICAgICAgICAgICBjcmVhdGVDYW52YXNEYXRhKCdwcHRJZCcsIGNvbnRlbnRJZCwgY29uRGF0YSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8v6auY57qn57K+54G15Yqo55S7XHJcbiAgICAgICAgLy93aWRnZXRcclxuICAgICAgICBcIlNlbmlvclNwcml0ZVwiOiBmdW5jdGlvbihjb250ZW50SWQsIGNvbkRhdGEpIHtcclxuICAgICAgICAgICAgY3JlYXRlQ2FudmFzRGF0YSgnd2lkZ2V0SWQnLCBjb250ZW50SWQsIGNvbkRhdGEpXHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvIDlp4vov4fmu6Tlj4LmlbBcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgdmFyIHByZWZpbHRlciA9IGZ1bmN0aW9uKGNvbkRhdGEsIGNvbnRlbnRJZCkge1xyXG4gICAgICAgIHZhciBldmVudElkLCBwYXJhbWV0ZXI7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gY29uRGF0YS5jYXRlZ29yeTtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK/mqKHmnb/kuabnrb7vvIzlvLrliLbkuLrmta7liqjlr7nosaFcclxuICAgICAgICBpZiAoaXNNYXN0ZXIgJiYgKGV2ZW50SWQgPSBzZWFzb25SZWxhdGVkW2NvbnRlbnRJZF0pKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudElkWydCb29rTWFya3MnXSkge1xyXG4gICAgICAgICAgICAgICAgZmxvYXRNYXRlcnMuaWRzLnB1c2goY29udGVudElkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOaciXBhcmFtZXRlcuWPguaVsFxyXG4gICAgICAgIC8vMSDmta7liqjlr7nosaFcclxuICAgICAgICAvLzIgY2FudmFz5a+56LGhXHJcbiAgICAgICAgaWYgKGNvbkRhdGEpIHtcclxuICAgICAgICAgICAgLy/ovazmiJBjYW52YXPmoIforrBcclxuICAgICAgICAgICAgLy/lpoLmnpzmnIlwaXhp55qE5aSE55CG57G75Z6LXHJcbiAgICAgICAgICAgIC8vMjAxNi4yLjI1XHJcbiAgICAgICAgICAgIC8vU2VuaW9yU3ByaXRlLFBQVFxyXG4gICAgICAgICAgICAvL1Nwcml0ZSxQUFRcclxuICAgICAgICAgICAgLy9TZW5pb3JTcHJpdGVcclxuICAgICAgICAgICAgLy9TcHJpdGVcclxuICAgICAgICAgICAgLy9QUFRcclxuICAgICAgICAgICAgLy8156eN5aSE55CG5pa55byPXHJcbiAgICAgICAgICAgIC8v5Y+v5Lul57uE5ZCIXHJcbiAgICAgICAgICAgIGlmIChjYW52YXNSZWxhdGVkTW9kZSAmJiBjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9jYXQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0O1xyXG4gICAgICAgICAgICAgICAgdmFyIF9jYXRzID0gY2F0ZWdvcnkuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBfY2F0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvL+WKqOS9nOexu+Wei1xyXG4gICAgICAgICAgICAgICAgY29uRGF0YS5hY3Rpb25UeXBlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdCA9IF9jYXRzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WMuemFjeaVsOaNruexu+Wei1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhpVHlwZVtjYXRdICYmIHBpeGlUeXBlW2NhdF0oY29udGVudElkLCBjb25EYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lpoLmnpzmnIlwYXJhbWV0ZXJcclxuICAgICAgICAgICAgaWYgKGNvbkRhdGEucGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVyID0gcGFyc2VKU09OKGNvbkRhdGEucGFyYW1ldGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcGFyYW1ldGVy5L+d5oyB5pWw57uE5qC85byPXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaFBhcmEocGFyYW1ldGVyLmxlbmd0aCA/IHBhcmFtZXRlciA6IFtwYXJhbWV0ZXJdLCBjb250ZW50SWQsIGNvbkRhdGEpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6PmnpDlh7rmr4/kuIDkuKpjb250ZW505a+55bqU55qE5Yqo5L2cXHJcbiAgICAgKiDkvKDpgJJwcmVmaWx0ZXLov4fmu6TlmahcclxuICAgICAqIDEg5rWu5Yqo5Yqo5L2cXHJcbiAgICAgKiAyIGNhbnZhc+WKqOS9nFxyXG4gICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAqL1xyXG4gICAgY29udGVudENvbGxlY3Rpb24gPSBwYXJzZUNvbnRlbnREYXMoZGF0YS5jcmVhdGVDb250ZW50SWRzLCBwcmVmaWx0ZXIpO1xyXG4gICAgY29udGVudENvdW50ID0gY2xvbmVDb250ZW50Q291bnQgPSBjb250ZW50Q29sbGVjdGlvbi5sZW5ndGg7XHJcblxyXG4gICAgLy/liJvlu7pjYW52YXPnlLvluIMgXHJcbiAgICBpZiAoY2FudmFzUmVsYXRlZE1vZGUpIHtcclxuICAgICAgICBwaXhpQ29udGFpbmVyKGRhdGEsIGNhbnZhc0luZGV4KVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8v5byA5aeL55Sf5oiQ5omA5pyJ55qE6IqC54K5IC8vXHJcbiAgICAvLzE6ZG9tXHJcbiAgICAvLzI6Y2FudmFzXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICB3aGlsZSAoY29udGVudENvdW50LS0pIHtcclxuXHJcbiAgICAgICAgLy/moLnmja7mlbDmja7liJtjb250ZW5057uT5p6EXHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPSBjb250ZW50Q29sbGVjdGlvbltjb250ZW50Q291bnRdKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRJZCA9IGNvbnRlbnRbJ19pZCddO1xyXG4gICAgICAgICAgICAvL+WIm+W7uuWMheijheWZqCzlpITnkIbmlbDmja7lvJXnlKjlhbPns7tcclxuICAgICAgICAgICAgd3JhcE9iaiA9IG1ha2VXYXJwT2JqKGNvbnRlbnRJZCwgY29udGVudCwgcGFnZVR5cGUsIHBpZCwgdmlydHVhbE9mZnNldCk7XHJcbiAgICAgICAgICAgIGlkRml4LnB1c2god3JhcE9iai5jb250YWluZXJOYW1lKVxyXG5cclxuICAgICAgICAgICAgLy/kv53lrZjmlofmnKzmoYZjb250ZW5055qESWRcclxuICAgICAgICAgICAgaWYgKHdyYXBPYmouaXNKcykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudEh0bWxCb3hJZHMucHVzaChjb250ZW50SWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ovazmjaLnvKnmlL7mr5RcclxuICAgICAgICAgICAgc2l6ZVJlc3VsdHMgPSByZXZpc2VTaXplKHdyYXBPYmouZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvL+WmguaenOWQr+eUqOS6hnZpcnR1YWxNb2Rl5qih5byPXHJcbiAgICAgICAgICAgIC8v5a+56LGh6ZyA6KaB5YiG56a75Yib5bu6XHJcbiAgICAgICAgICAgIGlmIChYdXQuY29uZmlnLnZpcnR1YWxNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB2aXJ0dWFsQ3JlYXRlKHNpemVSZXN1bHRzLCB3cmFwT2JqLCBjb250ZW50LCBjb250ZW50SWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy/mraPluLjmqKHlvI/kuIvliJvlu7pcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q3JlYXRlKHdyYXBPYmosIGNvbnRlbnQsIGNvbnRlbnRJZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5oiW6ICF5pWw5o2u5Ye66ZSZXHJcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8v5byA5aeL5Yib5bu66IqC54K5XHJcbiAgICBmdW5jdGlvbiBzdGFydENyZWF0ZSh3cmFwT2JqLCBjb250ZW50LCBjb250ZW50SWQpIHtcclxuICAgICAgICAvL+e8k+WtmOaVsOaNrlxyXG4gICAgICAgIGNvbnRlbnREYXNbY29udGVudElkXSA9IGNvbnRlbnQ7XHJcbiAgICAgICAgLy/lvIDlp4vliJvlu7pcclxuICAgICAgICBjcmVhdGVSZWxhdGVkKGNvbnRlbnRJZCwgd3JhcE9iailcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXnkIbliZTpmaTnmoRjb250ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGNvbnRlbnRJZCBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNsZWFyQ29udGVudChjb250ZW50SWQpIHtcclxuICAgICAgICBkYXRhLmNyZWF0ZUNvbnRlbnRJZHMuc3BsaWNlKGRhdGEuY3JlYXRlQ29udGVudElkcy5pbmRleE9mKGNvbnRlbnRJZCksIDEpO1xyXG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDomZrmi5/mqKHlvI/ljLrliIbliJvlu7pcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gc2l6ZVJlc3VsdHMgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSB3cmFwT2JqICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGNvbnRlbnQgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudElkICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHZpcnR1YWxDcmVhdGUoc2l6ZVJlc3VsdHMsIHdyYXBPYmosIGNvbnRlbnQsIGNvbnRlbnRJZCkge1xyXG4gICAgICAgIC8vIOWIm+W7uuWIhuW4g+W3pui+ueeahOWvueixoVxyXG4gICAgICAgIGlmICh3cmFwT2JqLnZpcnR1YWxPZmZzZXQgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICBpZiAoc2l6ZVJlc3VsdHMuc2NhbGVMZWZ0IDwgWHV0LmNvbmZpZy5zY3JlZW5TaXplLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydENyZWF0ZSh3cmFwT2JqLCBjb250ZW50LCBjb250ZW50SWQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnQoY29udGVudElkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWIm+W7uuWIhuW4g+WPs+i+ueeahOWvueixoVxyXG4gICAgICAgIGlmICh3cmFwT2JqLnZpcnR1YWxPZmZzZXQgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgaWYgKHNpemVSZXN1bHRzLnNjYWxlTGVmdCA+IFh1dC5jb25maWcuc2NyZWVuU2l6ZS53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRDcmVhdGUod3JhcE9iaiwgY29udGVudCwgY29udGVudElkKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJDb250ZW50KGNvbnRlbnRJZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7pjb250ZW506IqC54K5XHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHdyYXBPYmogW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRlZChjb250ZW50SWQsIHdyYXBPYmopIHtcclxuICAgICAgICAvL+ino+aekOWklumDqOaWh+S7tlxyXG4gICAgICAgIGV4dGVybmFsRmlsZSh3cmFwT2JqLCBmdW5jdGlvbih3cmFwT2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB1dWlkLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRTdHIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50U3RyLFxyXG4gICAgICAgICAgICAgICAgY29uRGF0YSA9IHdyYXBPYmouZGF0YTtcclxuXHJcbiAgICAgICAgICAgIC8v5ou85o6l5Zyw5Z2AXHJcbiAgICAgICAgICAgIGFuYWx5c2lzUGF0aCh3cmFwT2JqLCBjb25EYXRhKVxyXG5cclxuICAgICAgICAgICAgLy9kb23mqKHlvI/kuIvnlJ/miJBkb23oioLngrlcclxuICAgICAgICAgICAgLy9jYW52YXPmqKHlvI/kuIvkuI3lpITnkIbvvIzlm6DkuLropoHlkIjlubbliLBwaXhp5Zy65pmv5LitXHJcbiAgICAgICAgICAgIGlmICghY29uRGF0YS5jYW52YXNNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50U3RyID0gY3JlYXRlRG9tKGNvbkRhdGEsIHdyYXBPYmopXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v5aaC5p6c5Yib5bu655qE5piv5a655Zmo5a+56LGhXHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXJPYmogJiYgKHV1aWQgPSBjb250YWluZXJPYmpbY29udGVudElkXSkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0U3RyID0gY29udGFpbmVyT2JqW3V1aWRdO1xyXG4gICAgICAgICAgICAgICAgc3RhcnRTdHIuc3RhcnQucHVzaChjb250ZW50U3RyKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy/mma7pgJrlr7nosaFcclxuICAgICAgICAgICAgICAgIGNhY2hlZENvbnRlbnRTdHIudW5zaGlmdChjb250ZW50U3RyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/mo4DmtYvlrozmr5VcclxuICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+U5Zue5aSE55CGXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hlY2tDb21wbGV0ZSgpIHtcclxuICAgICAgICBpZiAoY2xvbmVDb250ZW50Q291bnQgPT09IDEpIHtcclxuICAgICAgICAgICAgLy/pkojlr7nlrrnlmajlpITnkIZcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lck9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0LCBlbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyU3RyID0gW107XHJcbiAgICAgICAgICAgICAgICAvL+WQiOW5tuWuueWZqFxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyT2JqLmNyZWF0ZVVVSUQuZm9yRWFjaChmdW5jdGlvbih1dWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBjb250YWluZXJPYmpbdXVpZF0uc3RhcnQuam9pbignJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY29udGFpbmVyT2JqW3V1aWRdLmVuZDtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJTdHIucHVzaChzdGFydC5jb25jYXQoZW5kKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyU3RyID0gY29udGFpbmVyU3RyLmpvaW4oJycpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyTmFtZSA9IGNvbnRhaW5lck9iai5jb250YWluZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyT2JqID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgY29udGVudERhcywgY2FjaGVkQ29udGVudFN0ci5qb2luKCcnKS5jb25jYXQoY29udGFpbmVyU3RyKSwgY29udGFpbmVyTmFtZSwgaWRGaXgsIGNvbnRlbnRIdG1sQm94SWRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgY29udGVudERhcywgY2FjaGVkQ29udGVudFN0ci5qb2luKCcnKSwgJycsIGlkRml4LCBjb250ZW50SHRtbEJveElkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2xvbmVDb250ZW50Q291bnQtLTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6ZKI5a+55YiG5q615aSE55CGXHJcbiAqIOWPquaehOS7tuW/heimgeeahOiKgueCueiKgueCueWvueixoVxyXG4gKiBjb250ZW505a2X5q615LitdmlzaWJsZSA9PT0gMCDmmK/mnoTlu7rmmL7npLrnmoTlr7nosaFcclxuICogXHRcdFx0XHRcdCBcdD09PSAxIOaYr+aehOW7uumakOiXj+eahOWvueixoVxyXG4gKlxyXG4gKiDlubbkuJTkuI3mmK/liqjmgIHliJvlu7pcclxuICovXHJcbi8vIGlmIChmYWxzZSAmJiAoMSA9PSBjb250ZW50LnZpc2libGUpICYmICFkYXRhLmR5ZENyZWF0ZSkge1xyXG4vLyBlbmRSZXR1cm4oKTsgIC8vZmFsc2Ug5YWI5bGP6JS9IO+8jOWuouaIt+err+acquWunueOsFxyXG4vLyB9ZWxzZXt9XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS90aHJlYWQvY29udGVudC9zdHJ1Y3R1cmUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 82 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TaskContents = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar _data = __webpack_require__(80);\n\nvar _structure = __webpack_require__(81);\n\nvar _activity = __webpack_require__(33);\n\n/****************************************************\r\n *\r\n *           构建TaskContents对象\r\n *\r\n *      依赖数据解析算法类 Algorithm\r\n *      结构合并创建类    Structure\r\n *      行为动画绑定类     Content\r\n * \r\n * ***************************************************/\n\n\nfunction TaskContents(data) {\n    var compileActivitys;\n    data = _.extend(this, data);\n\n    //如果有预执行动作\n    //Activity表数据存在\n    if (compileActivitys = parseContents(data)) {\n        //解析动画表数据结构\n        data = (0, _data.parserRelated)(compileActivitys, data);\n        //如果有需要构建的content\n        //开始多线程处理\n        data.createContentIds.length ? this.dataAfterCheck(data) : this.loadComplete();\n    } else {\n        this.loadComplete();\n    }\n}\n\nvar taskProto = TaskContents.prototype;\n\n/**\r\n * 任务断言\r\n */\ntaskProto.assert = function (taskName, tasks) {\n\n    var self = this;\n\n    //中断方法\n    var suspendTasks = function suspendTasks() {\n        self.suspendQueues = [];\n        self.suspendQueues.push(function () {\n            tasks.call(self);\n        });\n    };\n\n    //完成方法\n    var nextTasks = function nextTasks() {\n        tasks.call(self);\n    };\n\n    self.pageBaseHooks.suspend(taskName, nextTasks, suspendTasks);\n};\n\n/**\r\n * 运行被阻断的线程任务\r\n * @return {[type]} [description]\r\n */\ntaskProto.runSuspendTasks = function () {\n    if (this.suspendQueues) {\n        var fn;\n        if (fn = this.suspendQueues.pop()) {\n            fn();\n        }\n        this.suspendQueues = null;\n    }\n};\n\n/**\r\n * 构建完毕\r\n * @return {[type]} [description]\r\n */\ntaskProto.loadComplete = function () {\n    this.pageBaseHooks.success();\n};\n\nfunction createFn(obj, id, callback) {\n    var cObj = obj[id];\n    if (!cObj) {\n        cObj = obj[id] = {};\n    }\n    callback.call(cObj);\n}\n\n/**\r\n * 转成数组格式\r\n * @param  {[type]} contentsFragment [description]\r\n * @return {[type]}                  [description]\r\n */\nfunction toArray(o) {\n    var contentsFragment = [];\n    _.each(o, function (contentElements) {\n        contentsFragment.push(contentElements);\n    });\n    return contentsFragment;\n}\n\n/**\r\n * 构建快速查询节点对象\r\n * 转成哈希方式\r\n * @return {[type]} [description]\r\n */\nfunction toObject(cachedContentStr) {\n    var tempFragmentHash = {};\n    _.each($(cachedContentStr), function (ele, index) {\n        tempFragmentHash[ele.id] = ele;\n    });\n    return tempFragmentHash;\n};\n\n/**\r\n * 行为反馈\r\n *  content id = {\r\n *      弹动\r\n *      音频URl\r\n *  }\r\n */\nfunction addBehavior(data) {\n    var parameter,\n        soundSrc,\n        contentId,\n        isButton,\n        feedbackBehavior = data.feedbackBehavior = {};\n    _.each(data.activitys, function (activitys) {\n        if (activitys.parameter && (parameter = (0, _index.parseJSON)(activitys.parameter))) {\n            contentId = activitys.imageId;\n            //视觉反馈\n            if (isButton = parameter['isButton']) {\n                if (isButton != 0) {\n                    //过滤数据的字符串类型\n                    createFn(feedbackBehavior, contentId, function () {\n                        this['isButton'] = true;\n                    });\n                }\n            }\n            //音频行为\n            if (soundSrc = parameter['behaviorSound']) {\n                if (soundSrc != 0) {\n                    createFn(feedbackBehavior, contentId, function () {\n                        this['behaviorSound'] = soundSrc;\n                    });\n                }\n            }\n        }\n    });\n}\n\n/**\r\n * 中断一:构建数据之后\r\n * @param  {[type]} data [description]\r\n * @return {[type]}      [description]\r\n */\ntaskProto.dataAfterCheck = function (data) {\n\n    this.assert('dataAfter', function () {\n\n        //浮动模板\n        //用于实现模板上的事件\n        data.floatMaters = {\n            'ids': [], //浮动id\n            'container': {}, //浮动容器\n            'zIndex': {}\n            // offset : {}  //初始化坐标数据\n        };\n\n        //浮动页面\n        //母板事件引起的层级遮挡问题\n        //用于提升最高\n        data.floatPages = {\n            'ids': [],\n            'zIndex': {}\n        };\n\n        //增加点击行为反馈\n        addBehavior(data);\n\n        //构建页面content类型结构\n        var createStr = function createStr(contentDas, cachedContentStr, containerPrefix, idFix, contentHtmlBoxIds) {\n\n            data.contentHtmlBoxIds = contentHtmlBoxIds;\n\n            data.contentsFragment = {};\n\n            //iboosk节点预编译\n            //在执行的时候节点已经存在\n            //不需要在创建\n            if (Xut.IBooks.runMode()) {\n                _.each(idFix, function (id) {\n                    data.contentsFragment[id] = data.element.find(\"#\" + id)[0];\n                });\n            } else {\n                //构件快速查询节点对象\n                data.contentsFragment = toObject(cachedContentStr);\n            }\n\n            //容器的前缀\n            data.containerPrefix = containerPrefix;\n\n            //2015.5.6暴露到全局\n            //提供给音频字幕上下文               \n            if (!Xut.Contents.contentsFragment[data.chapterId]) {\n                Xut.Contents.contentsFragment[data.chapterId];\n            }\n            Xut.Contents.contentsFragment[data.chapterId] = data.contentsFragment;\n\n            //开始下一个任务\n            this.dataStrCheck(data, contentDas);\n        };\n\n        //构建页面节点\n        (0, _structure.structure)(createStr, data, this);\n    });\n};\n\n/**\r\n * 中断二:构建结构之后\r\n * @param  {[type]} data       [description]\r\n * @param  {[type]} contentDas [description]\r\n * @return {[type]}            [description]\r\n */\ntaskProto.dataStrCheck = function (data, contentDas) {\n    this.assert('strAfter', function () {\n\n        //保留场景的留信息\n        //用做软件制作单页预加载\n        Xut.sceneController.seasonRelated = data.seasonRelated;\n\n        //初始化content对象\n        //绑定content\n        //1 动画\n        //2 事件\n        //3 视觉差\n        //4 动画音频\n        //5 canvas动画\n        contentsBehavior(function (delayHooks) {\n            //渲染页面\n            this.eventAfterCheck(data, delayHooks);\n        }.bind(this), data, contentDas);\n    });\n};\n\n///////////////\n//创建浮动相关的信息 //\n///////////////\nfunction crateFloat(callback, floatName, dasFloat, data, base) {\n\n    var elements = [];\n    var prefix = 'Content_' + data.pid + \"_\";\n\n    //去重复\n    dasFloat.ids = (0, _index.arrayUnique)(dasFloat.ids);\n\n    var makePrefix,\n        fragment,\n        zIndex,\n        zIndexs = dasFloat.zIndex;\n\n    data.count++;\n\n    //分离出浮动节点\n    _.each(dasFloat.ids, function (id) {\n        makePrefix = prefix + id;\n        if (fragment = data.contentsFragment[makePrefix]) {\n            zIndex = zIndexs[id];\n            //保证层级关系\n            // fragment.style.zIndex = (Number(zIndex) + Number(fragment.style.zIndex))\n            elements.push(fragment);\n            delete data.contentsFragment[makePrefix];\n        }\n    });\n\n    //floatPages模式下面\n    //如果是当前页面\n    //因为会产生三页面并联\n    //所以中间去最高层级\n    if (floatName === 'floatPages' && base.initTransformParameter[2] === 0) {\n        zIndex = 2001;\n    } else {\n        zIndex = 2000;\n    }\n\n    //浮动根节点\n    //floatPages设置的content溢出后处理\n    //在非视区增加overflow:hidden\n    //可视区域overflow:''\n    var overflow = 'overflow:hidden;';\n    //如果是母板,排除\n    if (floatName === 'floatMaters') {\n        overflow = '';\n    }\n    var floatStr = String.format('<div id=\"' + floatName + '-li-{0}\" class=\"xut-float\" style=\"' + Xut.plat.prefixStyle('transform') + ':{1};z-index:' + zIndex + ';{2}\"></div>', data.pid, base.initTransformParameter[0], overflow);\n\n    var container = $(floatStr);\n\n    //增加浮动容器\n    $(data.rootNode).after(container);\n\n    callback(elements, container);\n}\n\n/**\r\n * 创建浮动母版对象\r\n * @return {[type]} [description]\r\n */\nfunction createFloatMater(base, data, complete) {\n    //创建浮动对象\n    crateFloat(function (elements, container) {\n        //浮动容器\n        data.floatMaters.container = container;\n\n        Xut.nextTick({\n            'container': container,\n            'content': elements\n        }, function () {\n            //收集浮动母版对象标识\n            base.pageBaseHooks.collector.floatMaters(data.floatMaters);\n            complete(data);\n        });\n    }, 'floatMaters', data.floatMaters, data, base);\n}\n\n/**\r\n * 创建浮动的页面对象\r\n */\nfunction createFloatPage(base, data, complete) {\n    //创建浮动对象\n    crateFloat(function (elements, container) {\n        //浮动容器\n        data.floatPages.container = container;\n        Xut.nextTick({\n            'container': container,\n            'content': elements\n        }, function () {\n            //收集浮动母版对象标识\n            base.pageBaseHooks.collector.floatPages(data.floatPages);\n            complete(data);\n        });\n    }, 'floatPages', data.floatPages, data, base);\n}\n\n/**\r\n * 中断三:绑定事件事件之后\r\n * @param  {[type]} iScrollHooks [description]\r\n * @return {[type]}              [description]\r\n */\ntaskProto.eventAfterCheck = function (data, delayHooks) {\n\n    var self = this;\n\n    this.assert('eventAfter', function () {\n\n        data.count = 1; //计算回调的成功的次数\n\n        /**\r\n         * 完成钩子函数\r\n         * 1 content的卷滚条\r\n         * 2 canvas事件绑定\r\n         * @return {[type]} [description]\r\n         */\n        var completeHooks = function completeHooks() {\n            var hooks;\n            _.each(delayHooks, function (fns) {\n                while (hooks = fns.shift()) {\n                    hooks();\n                }\n            });\n        };\n\n        var nextTask = function nextTask() {\n            completeHooks();\n            self.applyAfterCheck();\n        };\n\n        /**\r\n         * 1 页面浮动\r\n         * 2 母版浮动\r\n         * 3 正常对象\r\n         */\n        var complete = function (data) {\n            return function () {\n                if (data.count === 1) {\n                    /**\r\n                     * 2016.2.16\r\n                     * 绘制canvas节点\r\n                     * @return {[type]}                           \r\n                     */\n                    if (data.canvasRelated.enable && data.canvasRelated.cid.length) {\n                        //初始化绘制canvas\n                        //页面显示\n                        data.canvasRelated.display();\n                        nextTask();\n                    } else {\n                        nextTask();\n                    }\n                    return;\n                }\n                data.count--;\n            };\n        }(data);\n\n        //浮动页面对\n        //浮动对象比任何层级都都要高\n        //超过母版\n        if (data.floatPages.ids && data.floatPages.ids.length) {\n            createFloatPage(this, data, complete);\n        }\n\n        //如果存在母版浮动节点\n        //在创建节点structure中过滤出来，根据参数的tipmost\n        if (data.floatMaters.ids && data.floatMaters.ids.length) {\n            createFloatMater(this, data, complete);\n        }\n\n        //iboosk节点预编译\n        //在执行的时候节点已经存在\n        //不需要在创建\n        if (Xut.IBooks.runMode()) {\n            complete();\n        } else {\n            //正常对象\n            Xut.nextTick({\n                'container': data.element,\n                'content': toArray(data.contentsFragment)\n            }, complete);\n        }\n    });\n};\n\n/**\r\n * 中断四：渲染content\r\n * @return {[type]} [description]\r\n */\ntaskProto.applyAfterCheck = function () {\n    this.assert('applyAfter', function () {\n        //构建页面节点\n        // Xut.log('debug', '第' + (self.pid + 1) + '页面content相关的节点与事件全部构建完毕................')\n        this.loadComplete(true);\n    });\n};\n\n/**\r\n * 清理引用\r\n * @return {[type]} [description]\r\n */\ntaskProto.clearReference = function () {\n    //删除字幕用的碎片文档\n    if (Xut.Contents.contentsFragment[this.chapterId]) {\n        delete Xut.Contents.contentsFragment[this.chapterId];\n    }\n    this.element = null;\n    this.rootNode = null;\n    this.contentsFragment = null;\n};\n\n/** 配置ID\r\n * @return {[type]} [description]\r\n */\nfunction autoUUID() {\n    return 'autoRun-' + Math.random().toString(36).substring(2, 15);\n}\n\n/**\r\n * 给所有content节点绑定对应的事件与动画\r\n * @return {[type]} [description]\r\n */\nfunction contentsBehavior(callback, data, contentDas) {\n    var compiler,\n        element = data.element,\n        eventRelated = data.eventRelated,\n        //合集事件\n    pid = data.pid,\n        createActivitys = data.createActivitys,\n        feedbackBehavior = data.feedbackBehavior,\n        //反馈数据,跟事件相关\n    pageBaseHooks = data.pageBaseHooks,\n        pageId = data.chapterId;\n\n    //如果有浮动对象,才需要计算偏移量\n    //母版里面可能存在浮动或者不浮动的对象\n    //那么在布局的时候想对点不一样\n    //如果在浮动区域就取浮动初始值\n    //否则就是默认的想对点0\n    var transformOffset = function (ids, initTransformOffset) {\n        return function (id) {\n            //匹配是不是属于浮动对象\n            if (ids.length && ids[id]) {\n                //初始化容器布局的坐标\n                return initTransformOffset;\n            }\n            return 0;\n        };\n    }(data.floatMaters.ids, data.initTransformParameter[2]);\n\n    //相关回调\n    var relatedCallback = {\n        //绑定卷滚条钩子\n        'iscrollHooks': [],\n        //contetn钩子回调\n        'contentsHooks': pageBaseHooks.collector.contents\n    };\n\n    //相关数据\n    var relatedData = {\n        'floatMaters': data.floatMaters,\n        'seasonId': data.chpaterData.seasonId,\n        'pageId': pageId,\n        'contentDas': contentDas, //所有的content数据合集\n        'container': data.liRootNode,\n        'seasonRelated': data.seasonRelated,\n        'containerPrefix': data.containerPrefix,\n        'nodes': data.nodes,\n        'pageOffset': data.pageOffset,\n        'createContentIds': data.createContentIds,\n        'partContentRelated': data.partContentRelated,\n        'transformOffset': transformOffset,\n        'contentsFragment': data.contentsFragment,\n        'contentHtmlBoxIds': data.contentHtmlBoxIds\n    };\n\n    /**\r\n     * 继续下一个任务\r\n     * @return {[type]} [description]\r\n     */\n    var nextTask = function nextTask() {\n        //多事件合集处理pagebase\n        if (eventRelated) {\n            pageBaseHooks.eventBinding && pageBaseHooks.eventBinding(eventRelated);\n        }\n        //删除钩子\n        delete relatedCallback.contentsHooks;\n        callback(relatedCallback);\n    };\n\n    /**\r\n     * 2016.4.11\r\n     * canvas模式创建的才完成数\r\n     * 监控完成度\r\n     * 如果是canvas就需要监听创建\r\n     * 因为存在异步创建\r\n     * @type {Object}\r\n     */\n    var monitor = {\n        total: createActivitys.length,\n        current: 0,\n        complete: function complete() {\n            ++monitor.current;\n            if (monitor.current == monitor.total) {\n                nextTask();\n            }\n        }\n    };\n\n    /**\r\n      * 收集事件信息\r\n      * 为处理动态分段绑定的问题\r\n      * @type {Object}\r\n      */\n    var collectEventRelated = {};\n\n    /**\r\n     * 生成activty控制对象\r\n     * @type {[type]}\r\n     */\n    while (compiler = createActivitys.shift()) {\n\n        var filters;\n        var imageId = compiler['imageIds']; //父id\n        var activity = compiler['activity'];\n        var eventType = activity.eventType;\n        var dragdropPara = activity.para1;\n        var eventContentId = imageId;\n\n        /**\r\n         * 多事件数据过滤\r\n         * 为了防止数据写入错误数据\r\n         * 如果当前对象上有多事件的行为\r\n         * 则默认的事件去掉\r\n         * @type {[type]}\r\n         */\n        if (filters = eventRelated['eventContentId->' + imageId]) {\n            _.each(filters, function (edata) {\n                //id不需要\n                //eventContentId = void 0;\n                if (edata.eventType == activity.eventType) {\n                    //写入的是伪数据,此行为让多事件抽象接管\n                    eventType = dragdropPara = void 0;\n                }\n            });\n        }\n\n        //需要绑定事件的数据\n        var eventData = {\n            'eventContentId': eventContentId,\n            'eventType': eventType,\n            'dragdropPara': dragdropPara,\n            'feedbackBehavior': feedbackBehavior\n        };\n\n        //缓存所有的事件数据\n        if (eventContentId) {\n            collectEventRelated[eventContentId] = eventData;\n            relatedData['collectEventRelated'] = collectEventRelated;\n        }\n\n        //注册引用\n        pageBaseHooks.registerAbstractActivity(new _activity.activityClass({\n            'monitorComplete': monitor.complete, //监听完成\n            'pageIndex': data.pageIndex,\n            'canvasRelated': data.canvasRelated, //父类引用\n            'id': imageId || autoUUID(),\n            \"type\": 'Content',\n            'pageId': pageId,\n            'activityId': activity._id,\n            'rootNode': element,\n            'pageType': compiler['pageType'], //构建类型 page/master\n            'seed': compiler['seed'], //动画表数据 or 视觉差表数据\n            \"pid\": pid, //页码\n            'eventData': eventData, //事件数据\n            'relatedData': relatedData, //相关数据,所有子作用域Activity对象共享\n            'relatedCallback': relatedCallback //相关回调\n        }));\n    }\n}\n\n/**\r\n * 解析出需要构建的content对象\r\n * @param  {[type]} data [description]\r\n * @return {[type]}      [description]\r\n */\nfunction parseContents(data) {\n    var actType,\n        preCompileContent = [];\n\n    //需要创建的数据结构\n    _.each(data.activitys, function (activityData) {\n        actType = activityData.actType || activityData.animation;\n        //特殊类型 showNote\n        if (!actType && activityData.note) {\n            activityData['actType'] = actType = \"ShowNote\";\n        }\n        if (activityData.itemArray || activityData.autoPlay !== 2) {\n            switch (actType) {\n                case 'Container':\n                case 'Content':\n                case 'Parallax':\n                case 'Contents':\n                    preCompileContent.push(activityData);\n                    //compileContent();\n                    break;\n            }\n        }\n        //编译content类型\n        // 1 通过Animation表产生\n        // 2 通过Parallax 表产生\n        function compileContent() {\n            preCompileContent.push({\n                postprocessor: function postprocessor(rootEle, pid) {\n                    activityData['nodes'] = data['nodes'];\n                    activityData['pageOffset'] = data['pageOffset'];\n                    return activityData;\n                }\n            });\n        }\n    });\n    return preCompileContent.length ? preCompileContent : null;\n}\n\nexports.TaskContents = TaskContents;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250ZW50cy5qcz9hNWY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFTQTs7QUFLQTs7QUFLQTs7QUFLQTs7Ozs7Ozs7Ozs7OztBQU9BLFNBQVMsWUFBVCxDQUFzQixJQUF0QixFQUE0QjtBQUN4QixRQUFJLGdCQUFKO0FBQ0EsV0FBTyxFQUFFLE1BQUYsQ0FBUyxJQUFULEVBQWUsSUFBZixDQUFQOzs7O0FBSUEsUUFBSSxtQkFBbUIsY0FBYyxJQUFkLENBQXZCLEVBQTRDOztBQUV4QyxlQUFPLHlCQUFVLGdCQUFWLEVBQTRCLElBQTVCLENBQVA7OztBQUdBLGFBQUssZ0JBQUwsQ0FBc0IsTUFBdEIsR0FBK0IsS0FBSyxjQUFMLENBQW9CLElBQXBCLENBQS9CLEdBQTJELEtBQUssWUFBTCxFQUEzRDtBQUNILEtBTkQsTUFNTztBQUNILGFBQUssWUFBTDtBQUNIO0FBQ0o7O0FBR0QsSUFBSSxZQUFZLGFBQWEsU0FBN0I7Ozs7O0FBS0EsVUFBVSxNQUFWLEdBQW1CLFVBQVMsUUFBVCxFQUFtQixLQUFuQixFQUEwQjs7QUFFekMsUUFBSSxPQUFPLElBQVg7OztBQUdBLFFBQUksZUFBZSxTQUFmLFlBQWUsR0FBVztBQUMxQixhQUFLLGFBQUwsR0FBcUIsRUFBckI7QUFDQSxhQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBd0IsWUFBVztBQUMvQixrQkFBTSxJQUFOLENBQVcsSUFBWDtBQUNILFNBRkQ7QUFHSCxLQUxEOzs7QUFRQSxRQUFJLFlBQVksU0FBWixTQUFZLEdBQVc7QUFDdkIsY0FBTSxJQUFOLENBQVcsSUFBWDtBQUNILEtBRkQ7O0FBSUEsU0FBSyxhQUFMLENBQW1CLE9BQW5CLENBQTJCLFFBQTNCLEVBQXFDLFNBQXJDLEVBQWdELFlBQWhEO0FBQ0gsQ0FsQkQ7Ozs7OztBQXlCQSxVQUFVLGVBQVYsR0FBNEIsWUFBVztBQUNuQyxRQUFJLEtBQUssYUFBVCxFQUF3QjtB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QkFBb0IsU0FaTixFO0FBYWQsMkJBQW9CLFdBYk4sRTtBQWNkLCtCQUFvQixlO0FBZE4sU0FBbEIsQ0FESjtBQWtCSDtBQUVKOzs7Ozs7O0FBUUQsU0FBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCO0FBQ3pCLFFBQUksT0FBSjtRQUNJLG9CQUFvQixFQUR4Qjs7O0FBSUEsTUFBRSxJQUFGLENBQU8sS0FBSyxTQUFaLEVBQXVCLFVBQVMsWUFBVCxFQUF1QjtBQUMxQyxrQkFBVSxhQUFhLE9BQWIsSUFBd0IsYUFBYSxTQUEvQzs7QUFFQSxZQUFJLENBQUMsT0FBRCxJQUFZLGFBQWEsSUFBN0IsRUFBbUM7QUFDL0IseUJBQWEsU0FBYixJQUEwQixVQUFVLFVBQXBDO0FBQ0g7QUFDRCxZQUFJLGFBQWEsU0FBYixJQUEwQixhQUFhLFFBQWIsS0FBMEIsQ0FBeEQsRUFBMkQ7QUFDdkQsb0JBQVEsT0FBUjtBQUNJLHFCQUFLLFdBQUw7QUFDQSxxQkFBSyxTQUFMO0FBQ0EscUJBQUssVUFBTDtBQUNBLHFCQUFLLFVBQUw7QUFDSSxzQ0FBa0IsSUFBbEIsQ0FBdUIsWUFBdkI7O0FBRUE7QUFQUjtBQVNIOzs7O0FBSUQsaUJBQVMsY0FBVCxHQUEwQjtBQUN0Qiw4QkFBa0IsSUFBbEIsQ0FBdUI7QUFDbkIsK0JBQWUsdUJBQVMsT0FBVCxFQUFrQixHQUFsQixFQUF1QjtBQUNsQyxpQ0FBYSxPQUFiLElBQXdCLEtBQUssT0FBTCxDQUF4QjtBQUNBLGlDQUFhLFlBQWIsSUFBNkIsS0FBSyxZQUFMLENBQTdCO0FBQ0EsMkJBQU8sWUFBUDtBQUNIO0FBTGtCLGFBQXZCO0FBT0g7QUFDSixLQTdCRDtBQThCQSxXQUFPLGtCQUFrQixNQUFsQixHQUEyQixpQkFBM0IsR0FBK0MsSUFBdEQ7QUFDSDs7UUFJRyxZLEdBQUEsWSIsImZpbGUiOiI4Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqXHJcbiAqICAgICAgICAgICDmnoTlu7pUYXNrQ29udGVudHPlr7nosaFcclxuICpcclxuICogICAgICDkvp3otZbmlbDmja7op6PmnpDnrpfms5XnsbsgQWxnb3JpdGhtXHJcbiAqICAgICAg57uT5p6E5ZCI5bm25Yib5bu657G7ICAgIFN0cnVjdHVyZVxyXG4gKiAgICAgIOihjOS4uuWKqOeUu+e7keWumuexuyAgICAgQ29udGVudFxyXG4gKiBcclxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQge1xyXG4gICAgcGFyc2VKU09OLCBhcnJheVVuaXF1ZVxyXG59XHJcbmZyb20gJy4uLy4uL3V0aWwvaW5kZXgnXHJcblxyXG5pbXBvcnQge1xyXG4gICAgcGFyc2VyUmVsYXRlZCBhcyBjb25QYXJzZXJcclxufVxyXG5mcm9tICcuL2NvbnRlbnQvZGF0YSdcclxuXHJcbmltcG9ydCB7XHJcbiAgICBzdHJ1Y3R1cmUgYXMgY29uU3RydWN0dXJlXHJcbn1cclxuZnJvbSAnLi9jb250ZW50L3N0cnVjdHVyZSdcclxuXHJcbmltcG9ydCB7XHJcbiAgICBhY3Rpdml0eUNsYXNzXHJcbn1cclxuZnJvbSAnLi4vLi4vY29tcG9uZW50L2NvbnRlbnQvYWN0aXZpdHknXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIFRhc2tDb250ZW50cyhkYXRhKSB7XHJcbiAgICB2YXIgY29tcGlsZUFjdGl2aXR5cztcclxuICAgIGRhdGEgPSBfLmV4dGVuZCh0aGlzLCBkYXRhKTtcclxuXHJcbiAgICAvL+WmguaenOaciemihOaJp+ihjOWKqOS9nFxyXG4gICAgLy9BY3Rpdml0eeihqOaVsOaNruWtmOWcqFxyXG4gICAgaWYgKGNvbXBpbGVBY3Rpdml0eXMgPSBwYXJzZUNvbnRlbnRzKGRhdGEpKSB7XHJcbiAgICAgICAgLy/op6PmnpDliqjnlLvooajmlbDmja7nu5PmnoRcclxuICAgICAgICBkYXRhID0gY29uUGFyc2VyKGNvbXBpbGVBY3Rpdml0eXMsIGRhdGEpO1xyXG4gICAgICAgIC8v5aaC5p6c5pyJ6ZyA6KaB5p6E5bu655qEY29udGVudFxyXG4gICAgICAgIC8v5byA5aeL5aSa57q/56iL5aSE55CGXHJcbiAgICAgICAgZGF0YS5jcmVhdGVDb250ZW50SWRzLmxlbmd0aCA/IHRoaXMuZGF0YUFmdGVyQ2hlY2soZGF0YSkgOiB0aGlzLmxvYWRDb21wbGV0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxvYWRDb21wbGV0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxudmFyIHRhc2tQcm90byA9IFRhc2tDb250ZW50cy5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICog5Lu75Yqh5pat6KiAXHJcbiAqL1xyXG50YXNrUHJvdG8uYXNzZXJ0ID0gZnVuY3Rpb24odGFza05hbWUsIHRhc2tzKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8v5Lit5pat5pa55rOVXHJcbiAgICB2YXIgc3VzcGVuZFRhc2tzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5zdXNwZW5kUXVldWVzID0gW107XHJcbiAgICAgICAgc2VsZi5zdXNwZW5kUXVldWVzLnB1c2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRhc2tzLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL+WujOaIkOaWueazlVxyXG4gICAgdmFyIG5leHRUYXNrcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRhc2tzLmNhbGwoc2VsZik7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5wYWdlQmFzZUhvb2tzLnN1c3BlbmQodGFza05hbWUsIG5leHRUYXNrcywgc3VzcGVuZFRhc2tzKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDov5DooYzooqvpmLvmlq3nmoTnur/nqIvku7vliqFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG50YXNrUHJvdG8ucnVuU3VzcGVuZFRhc2tzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5zdXNwZW5kUXVldWVzKSB7XHJcbiAgICAgICAgdmFyIGZuO1xyXG4gICAgICAgIGlmIChmbiA9IHRoaXMuc3VzcGVuZFF1ZXVlcy5wb3AoKSkge1xyXG4gICAgICAgICAgICBmbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN1c3BlbmRRdWV1ZXMgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5p6E5bu65a6M5q+VXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudGFza1Byb3RvLmxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5wYWdlQmFzZUhvb2tzLnN1Y2Nlc3MoKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUZuKG9iaiwgaWQsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgY09iaiA9IG9ialtpZF07XHJcbiAgICBpZiAoIWNPYmopIHtcclxuICAgICAgICBjT2JqID0gb2JqW2lkXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2suY2FsbChjT2JqKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDovazmiJDmlbDnu4TmoLzlvI9cclxuICogQHBhcmFtICB7W3R5cGVdfSBjb250ZW50c0ZyYWdtZW50IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHRvQXJyYXkobykge1xyXG4gICAgdmFyIGNvbnRlbnRzRnJhZ21lbnQgPSBbXTtcclxuICAgIF8uZWFjaChvLCBmdW5jdGlvbihjb250ZW50RWxlbWVudHMpIHtcclxuICAgICAgICBjb250ZW50c0ZyYWdtZW50LnB1c2goY29udGVudEVsZW1lbnRzKVxyXG4gICAgfSlcclxuICAgIHJldHVybiBjb250ZW50c0ZyYWdtZW50O1xyXG59XHJcblxyXG4vKipcclxuICog5p6E5bu65b+r6YCf5p+l6K+i6IqC54K55a+56LGhXHJcbiAqIOi9rOaIkOWTiOW4jOaWueW8j1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHRvT2JqZWN0KGNhY2hlZENvbnRlbnRTdHIpIHtcclxuICAgIHZhciB0ZW1wRnJhZ21lbnRIYXNoID0ge307XHJcbiAgICBfLmVhY2goJChjYWNoZWRDb250ZW50U3RyKSwgZnVuY3Rpb24oZWxlLCBpbmRleCkge1xyXG4gICAgICAgIHRlbXBGcmFnbWVudEhhc2hbZWxlLmlkXSA9IGVsZTtcclxuICAgIH0pXHJcbiAgICByZXR1cm4gdGVtcEZyYWdtZW50SGFzaDtcclxufTtcclxuXHJcblxyXG4vKipcclxuICog6KGM5Li65Y+N6aaIXHJcbiAqICBjb250ZW50IGlkID0ge1xyXG4gKiAgICAgIOW8ueWKqFxyXG4gKiAgICAgIOmfs+mikVVSbFxyXG4gKiAgfVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkQmVoYXZpb3IoZGF0YSkge1xyXG4gICAgdmFyIHBhcmFtZXRlciwgc291bmRTcmMsIGNvbnRlbnRJZCwgaXNCdXR0b24sXHJcbiAgICAgICAgZmVlZGJhY2tCZWhhdmlvciA9IGRhdGEuZmVlZGJhY2tCZWhhdmlvciA9IHt9O1xyXG4gICAgXy5lYWNoKGRhdGEuYWN0aXZpdHlzLCBmdW5jdGlvbihhY3Rpdml0eXMpIHtcclxuICAgICAgICBpZiAoYWN0aXZpdHlzLnBhcmFtZXRlciAmJiAocGFyYW1ldGVyID0gcGFyc2VKU09OKGFjdGl2aXR5cy5wYXJhbWV0ZXIpKSkge1xyXG4gICAgICAgICAgICBjb250ZW50SWQgPSBhY3Rpdml0eXMuaW1hZ2VJZDtcclxuICAgICAgICAgICAgLy/op4bop4nlj43ppohcclxuICAgICAgICAgICAgaWYgKGlzQnV0dG9uID0gcGFyYW1ldGVyWydpc0J1dHRvbiddKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCdXR0b24gIT0gMCkgeyAvL+i/h+a7pOaVsOaNrueahOWtl+espuS4suexu+Wei1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZuKGZlZWRiYWNrQmVoYXZpb3IsIGNvbnRlbnRJZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJ2lzQnV0dG9uJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/pn7PpopHooYzkuLpcclxuICAgICAgICAgICAgaWYgKHNvdW5kU3JjID0gcGFyYW1ldGVyWydiZWhhdmlvclNvdW5kJ10pIHtcclxuICAgICAgICAgICAgICAgIGlmIChzb3VuZFNyYyAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRm4oZmVlZGJhY2tCZWhhdmlvciwgY29udGVudElkLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1snYmVoYXZpb3JTb3VuZCddID0gc291bmRTcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Lit5pat5LiAOuaehOW7uuaVsOaNruS5i+WQjlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudGFza1Byb3RvLmRhdGFBZnRlckNoZWNrID0gZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICAgIHRoaXMuYXNzZXJ0KCdkYXRhQWZ0ZXInLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy/mta7liqjmqKHmnb9cclxuICAgICAgICAvL+eUqOS6juWunueOsOaooeadv+S4iueahOS6i+S7tlxyXG4gICAgICAgIGRhdGEuZmxvYXRNYXRlcnMgPSB7XHJcbiAgICAgICAgICAgICdpZHMnOiBbXSwgLy/mta7liqhpZFxyXG4gICAgICAgICAgICAnY29udGFpbmVyJzoge30sIC8v5rWu5Yqo5a655ZmoXHJcbiAgICAgICAgICAgICd6SW5kZXgnOiB7fVxyXG4gICAgICAgICAgICAvLyBvZmZzZXQgOiB7fSAgLy/liJ3lp4vljJblnZDmoIfmlbDmja5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5rWu5Yqo6aG16Z2iXHJcbiAgICAgICAgLy/mr43mnb/kuovku7blvJXotbfnmoTlsYLnuqfpga7mjKHpl67pophcclxuICAgICAgICAvL+eUqOS6juaPkOWNh+acgOmrmFxyXG4gICAgICAgIGRhdGEuZmxvYXRQYWdlcyA9IHtcclxuICAgICAgICAgICAgJ2lkcyc6IFtdLFxyXG4gICAgICAgICAgICAnekluZGV4Jzoge31cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aKe5Yqg54K55Ye76KGM5Li65Y+N6aaIXHJcbiAgICAgICAgYWRkQmVoYXZpb3IoZGF0YSlcclxuXHJcblxyXG4gICAgICAgIC8v5p6E5bu66aG16Z2iY29udGVudOexu+Wei+e7k+aehFxyXG4gICAgICAgIHZhciBjcmVhdGVTdHIgPSBmdW5jdGlvbihjb250ZW50RGFzLCBjYWNoZWRDb250ZW50U3RyLCBjb250YWluZXJQcmVmaXgsIGlkRml4LCBjb250ZW50SHRtbEJveElkcykge1xyXG5cclxuICAgICAgICAgICAgZGF0YS5jb250ZW50SHRtbEJveElkcyA9IGNvbnRlbnRIdG1sQm94SWRzO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5jb250ZW50c0ZyYWdtZW50ID0ge307XHJcblxyXG4gICAgICAgICAgICAvL2lib29za+iKgueCuemihOe8luivkVxyXG4gICAgICAgICAgICAvL+WcqOaJp+ihjOeahOaXtuWAmeiKgueCueW3sue7j+WtmOWcqFxyXG4gICAgICAgICAgICAvL+S4jemcgOimgeWcqOWIm+W7ulxyXG4gICAgICAgICAgICBpZiAoWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChpZEZpeCwgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmNvbnRlbnRzRnJhZ21lbnRbaWRdID0gZGF0YS5lbGVtZW50LmZpbmQoXCIjXCIgKyBpZClbMF1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL+aehOS7tuW/q+mAn+afpeivouiKgueCueWvueixoVxyXG4gICAgICAgICAgICAgICAgZGF0YS5jb250ZW50c0ZyYWdtZW50ID0gdG9PYmplY3QoY2FjaGVkQ29udGVudFN0cilcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lrrnlmajnmoTliY3nvIBcclxuICAgICAgICAgICAgZGF0YS5jb250YWluZXJQcmVmaXggPSBjb250YWluZXJQcmVmaXg7XHJcblxyXG4gICAgICAgICAgICAvLzIwMTUuNS425pq06Zyy5Yiw5YWo5bGAXHJcbiAgICAgICAgICAgIC8v5o+Q5L6b57uZ6Z+z6aKR5a2X5bmV5LiK5LiL5paHICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIVh1dC5Db250ZW50cy5jb250ZW50c0ZyYWdtZW50W2RhdGEuY2hhcHRlcklkXSkge1xyXG4gICAgICAgICAgICAgICAgWHV0LkNvbnRlbnRzLmNvbnRlbnRzRnJhZ21lbnRbZGF0YS5jaGFwdGVySWRdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgWHV0LkNvbnRlbnRzLmNvbnRlbnRzRnJhZ21lbnRbZGF0YS5jaGFwdGVySWRdID0gZGF0YS5jb250ZW50c0ZyYWdtZW50XHJcblxyXG4gICAgICAgICAgICAvL+W8gOWni+S4i+S4gOS4quS7u+WKoVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFTdHJDaGVjayhkYXRhLCBjb250ZW50RGFzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5p6E5bu66aG16Z2i6IqC54K5XHJcbiAgICAgICAgY29uU3RydWN0dXJlKGNyZWF0ZVN0ciwgZGF0YSwgdGhpcyk7XHJcblxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDkuK3mlq3kuow65p6E5bu657uT5p6E5LmL5ZCOXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZGF0YSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudERhcyBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG50YXNrUHJvdG8uZGF0YVN0ckNoZWNrID0gZnVuY3Rpb24oZGF0YSwgY29udGVudERhcykge1xyXG4gICAgdGhpcy5hc3NlcnQoJ3N0ckFmdGVyJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIC8v5L+d55WZ5Zy65pmv55qE55WZ5L+h5oGvXHJcbiAgICAgICAgLy/nlKjlgZrova/ku7bliLbkvZzljZXpobXpooTliqDovb1cclxuICAgICAgICBYdXQuc2NlbmVDb250cm9sbGVyLnNlYXNvblJlbGF0ZWQgPSBkYXRhLnNlYXNvblJlbGF0ZWRcclxuXHJcbiAgICAgICAgLy/liJ3lp4vljJZjb250ZW505a+56LGhXHJcbiAgICAgICAgLy/nu5Hlrppjb250ZW50XHJcbiAgICAgICAgLy8xIOWKqOeUu1xyXG4gICAgICAgIC8vMiDkuovku7ZcclxuICAgICAgICAvLzMg6KeG6KeJ5beuXHJcbiAgICAgICAgLy80IOWKqOeUu+mfs+mikVxyXG4gICAgICAgIC8vNSBjYW52YXPliqjnlLtcclxuICAgICAgICBjb250ZW50c0JlaGF2aW9yKGZ1bmN0aW9uKGRlbGF5SG9va3MpIHtcclxuICAgICAgICAgICAgLy/muLLmn5PpobXpnaJcclxuICAgICAgICAgICAgdGhpcy5ldmVudEFmdGVyQ2hlY2soZGF0YSwgZGVsYXlIb29rcyk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLCBkYXRhLCBjb250ZW50RGFzKTtcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy9cclxuLy/liJvlu7rmta7liqjnm7jlhbPnmoTkv6Hmga8gLy9cclxuLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGNyYXRlRmxvYXQoY2FsbGJhY2ssIGZsb2F0TmFtZSwgZGFzRmxvYXQsIGRhdGEsIGJhc2UpIHtcclxuXHJcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcclxuICAgIHZhciBwcmVmaXggPSAnQ29udGVudF8nICsgZGF0YS5waWQgKyBcIl9cIjtcclxuXHJcbiAgICAvL+WOu+mHjeWkjVxyXG4gICAgZGFzRmxvYXQuaWRzID0gYXJyYXlVbmlxdWUoZGFzRmxvYXQuaWRzKVxyXG5cclxuICAgIHZhciBtYWtlUHJlZml4LFxyXG4gICAgICAgIGZyYWdtZW50LFxyXG4gICAgICAgIHpJbmRleCxcclxuICAgICAgICB6SW5kZXhzID0gZGFzRmxvYXQuekluZGV4O1xyXG5cclxuICAgIGRhdGEuY291bnQrKztcclxuXHJcbiAgICAvL+WIhuemu+WHuua1ruWKqOiKgueCuVxyXG4gICAgXy5lYWNoKGRhc0Zsb2F0LmlkcywgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICBtYWtlUHJlZml4ID0gcHJlZml4ICsgaWQ7XHJcbiAgICAgICAgaWYgKGZyYWdtZW50ID0gZGF0YS5jb250ZW50c0ZyYWdtZW50W21ha2VQcmVmaXhdKSB7XHJcbiAgICAgICAgICAgIHpJbmRleCA9IHpJbmRleHNbaWRdO1xyXG4gICAgICAgICAgICAvL+S/neivgeWxgue6p+WFs+ezu1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudC5zdHlsZS56SW5kZXggPSAoTnVtYmVyKHpJbmRleCkgKyBOdW1iZXIoZnJhZ21lbnQuc3R5bGUuekluZGV4KSkgXHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICBkZWxldGUgZGF0YS5jb250ZW50c0ZyYWdtZW50W21ha2VQcmVmaXhdXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgLy9mbG9hdFBhZ2Vz5qih5byP5LiL6Z2iXHJcbiAgICAvL+WmguaenOaYr+W9k+WJjemhtemdolxyXG4gICAgLy/lm6DkuLrkvJrkuqfnlJ/kuInpobXpnaLlubbogZRcclxuICAgIC8v5omA5Lul5Lit6Ze05Y675pyA6auY5bGC57qnXHJcbiAgICBpZiAoZmxvYXROYW1lID09PSAnZmxvYXRQYWdlcycgJiYgKGJhc2UuaW5pdFRyYW5zZm9ybVBhcmFtZXRlclsyXSkgPT09IDApIHtcclxuICAgICAgICB6SW5kZXggPSAyMDAxXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHpJbmRleCA9IDIwMDBcclxuICAgIH1cclxuXHJcbiAgICAvL+a1ruWKqOagueiKgueCuVxyXG4gICAgLy9mbG9hdFBhZ2Vz6K6+572u55qEY29udGVudOa6ouWHuuWQjuWkhOeQhlxyXG4gICAgLy/lnKjpnZ7op4bljLrlop7liqBvdmVyZmxvdzpoaWRkZW5cclxuICAgIC8v5Y+v6KeG5Yy65Z+fb3ZlcmZsb3c6JydcclxuICAgIHZhciBvdmVyZmxvdyA9ICdvdmVyZmxvdzpoaWRkZW47JztcclxuICAgIC8v5aaC5p6c5piv5q+N5p2/LOaOkumZpFxyXG4gICAgaWYgKGZsb2F0TmFtZSA9PT0gJ2Zsb2F0TWF0ZXJzJykge1xyXG4gICAgICAgIG92ZXJmbG93ID0gJyc7XHJcbiAgICB9XHJcbiAgICB2YXIgZmxvYXRTdHIgPSBTdHJpbmcuZm9ybWF0KFxyXG4gICAgICAgICc8ZGl2IGlkPVwiJyArIGZsb2F0TmFtZSArICctbGktezB9XCIgY2xhc3M9XCJ4dXQtZmxvYXRcIiBzdHlsZT1cIicgKyBYdXQucGxhdC5wcmVmaXhTdHlsZSgndHJhbnNmb3JtJykgKyAnOnsxfTt6LWluZGV4OicgKyB6SW5kZXggKyAnO3syfVwiPjwvZGl2PicsXHJcbiAgICAgICAgZGF0YS5waWQsIGJhc2UuaW5pdFRyYW5zZm9ybVBhcmFtZXRlclswXSwgb3ZlcmZsb3dcclxuICAgICk7XHJcblxyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoZmxvYXRTdHIpO1xyXG5cclxuICAgIC8v5aKe5Yqg5rWu5Yqo5a655ZmoXHJcbiAgICAkKGRhdGEucm9vdE5vZGUpLmFmdGVyKGNvbnRhaW5lcilcclxuXHJcbiAgICBjYWxsYmFjayhlbGVtZW50cywgY29udGFpbmVyKVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uua1ruWKqOavjeeJiOWvueixoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUZsb2F0TWF0ZXIoYmFzZSwgZGF0YSwgY29tcGxldGUpIHtcclxuICAgIC8v5Yib5bu65rWu5Yqo5a+56LGhXHJcbiAgICBjcmF0ZUZsb2F0KGZ1bmN0aW9uKGVsZW1lbnRzLCBjb250YWluZXIpIHtcclxuICAgICAgICAvL+a1ruWKqOWuueWZqFxyXG4gICAgICAgIGRhdGEuZmxvYXRNYXRlcnMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgICAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICAgICAnY29udGFpbmVyJzogY29udGFpbmVyLFxyXG4gICAgICAgICAgICAnY29udGVudCc6IGVsZW1lbnRzXHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5pS26ZuG5rWu5Yqo5q+N54mI5a+56LGh5qCH6K+GXHJcbiAgICAgICAgICAgIGJhc2UucGFnZUJhc2VIb29rcy5jb2xsZWN0b3IuZmxvYXRNYXRlcnMoZGF0YS5mbG9hdE1hdGVycyk7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgJ2Zsb2F0TWF0ZXJzJywgZGF0YS5mbG9hdE1hdGVycywgZGF0YSwgYmFzZSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rmta7liqjnmoTpobXpnaLlr7nosaFcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUZsb2F0UGFnZShiYXNlLCBkYXRhLCBjb21wbGV0ZSkge1xyXG4gICAgLy/liJvlu7rmta7liqjlr7nosaFcclxuICAgIGNyYXRlRmxvYXQoZnVuY3Rpb24oZWxlbWVudHMsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIC8v5rWu5Yqo5a655ZmoXHJcbiAgICAgICAgZGF0YS5mbG9hdFBhZ2VzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICAgICAnY29udGFpbmVyJzogY29udGFpbmVyLFxyXG4gICAgICAgICAgICAnY29udGVudCc6IGVsZW1lbnRzXHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8v5pS26ZuG5rWu5Yqo5q+N54mI5a+56LGh5qCH6K+GXHJcbiAgICAgICAgICAgIGJhc2UucGFnZUJhc2VIb29rcy5jb2xsZWN0b3IuZmxvYXRQYWdlcyhkYXRhLmZsb2F0UGFnZXMpO1xyXG4gICAgICAgICAgICBjb21wbGV0ZShkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sICdmbG9hdFBhZ2VzJywgZGF0YS5mbG9hdFBhZ2VzLCBkYXRhLCBiYXNlKVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOS4reaWreS4iTrnu5Hlrprkuovku7bkuovku7bkuYvlkI5cclxuICogQHBhcmFtICB7W3R5cGVdfSBpU2Nyb2xsSG9va3MgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG50YXNrUHJvdG8uZXZlbnRBZnRlckNoZWNrID0gZnVuY3Rpb24oZGF0YSwgZGVsYXlIb29rcykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmFzc2VydCgnZXZlbnRBZnRlcicsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBkYXRhLmNvdW50ID0gMTsgLy/orqHnrpflm57osIPnmoTmiJDlip/nmoTmrKHmlbBcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5a6M5oiQ6ZKp5a2Q5Ye95pWwXHJcbiAgICAgICAgICogMSBjb250ZW5055qE5Y235rua5p2hXHJcbiAgICAgICAgICogMiBjYW52YXPkuovku7bnu5HlrppcclxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY29tcGxldGVIb29rcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaG9va3M7XHJcbiAgICAgICAgICAgIF8uZWFjaChkZWxheUhvb2tzLCBmdW5jdGlvbihmbnMpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChob29rcyA9IGZucy5zaGlmdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBuZXh0VGFzayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZUhvb2tzKCk7XHJcbiAgICAgICAgICAgIHNlbGYuYXBwbHlBZnRlckNoZWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAxIOmhtemdoua1ruWKqFxyXG4gICAgICAgICAqIDIg5q+N54mI5rWu5YqoXHJcbiAgICAgICAgICogMyDmraPluLjlr7nosaFcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICogMjAxNi4yLjE2XHJcbiAgICAgICAgICAgICAgICAgICAgICog57uY5Yi2Y2FudmFz6IqC54K5XHJcbiAgICAgICAgICAgICAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbnZhc1JlbGF0ZWQuZW5hYmxlICYmIGRhdGEuY2FudmFzUmVsYXRlZC5jaWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yid5aeL5YyW57uY5Yi2Y2FudmFzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+mhtemdouaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhbnZhc1JlbGF0ZWQuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGFzaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUYXNrKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRhLmNvdW50LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KGRhdGEpO1xyXG5cclxuXHJcbiAgICAgICAgLy/mta7liqjpobXpnaLlr7lcclxuICAgICAgICAvL+a1ruWKqOWvueixoeavlOS7u+S9leWxgue6p+mDvemDveimgemrmFxyXG4gICAgICAgIC8v6LaF6L+H5q+N54mIXHJcbiAgICAgICAgaWYgKGRhdGEuZmxvYXRQYWdlcy5pZHMgJiYgZGF0YS5mbG9hdFBhZ2VzLmlkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY3JlYXRlRmxvYXRQYWdlKHRoaXMsIGRhdGEsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5a2Y5Zyo5q+N54mI5rWu5Yqo6IqC54K5XHJcbiAgICAgICAgLy/lnKjliJvlu7roioLngrlzdHJ1Y3R1cmXkuK3ov4fmu6Tlh7rmnaXvvIzmoLnmja7lj4LmlbDnmoR0aXBtb3N0XHJcbiAgICAgICAgaWYgKGRhdGEuZmxvYXRNYXRlcnMuaWRzICYmIGRhdGEuZmxvYXRNYXRlcnMuaWRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjcmVhdGVGbG9hdE1hdGVyKHRoaXMsIGRhdGEsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL2lib29za+iKgueCuemihOe8luivkVxyXG4gICAgICAgIC8v5Zyo5omn6KGM55qE5pe25YCZ6IqC54K55bey57uP5a2Y5ZyoXHJcbiAgICAgICAgLy/kuI3pnIDopoHlnKjliJvlu7pcclxuICAgICAgICBpZiAoWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+ato+W4uOWvueixoVxyXG4gICAgICAgICAgICBYdXQubmV4dFRpY2soe1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRhaW5lcic6IGRhdGEuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICdjb250ZW50JzogdG9BcnJheShkYXRhLmNvbnRlbnRzRnJhZ21lbnQpXHJcbiAgICAgICAgICAgIH0sIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOS4reaWreWbm++8mua4suafk2NvbnRlbnRcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG50YXNrUHJvdG8uYXBwbHlBZnRlckNoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmFzc2VydCgnYXBwbHlBZnRlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v5p6E5bu66aG16Z2i6IqC54K5XHJcbiAgICAgICAgLy8gWHV0LmxvZygnZGVidWcnLCAn56ysJyArIChzZWxmLnBpZCArIDEpICsgJ+mhtemdomNvbnRlbnTnm7jlhbPnmoToioLngrnkuI7kuovku7blhajpg6jmnoTlu7rlrozmr5UuLi4uLi4uLi4uLi4uLi4uJylcclxuICAgICAgICB0aGlzLmxvYWRDb21wbGV0ZSh0cnVlKTtcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5riF55CG5byV55SoXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxudGFza1Byb3RvLmNsZWFyUmVmZXJlbmNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvL+WIoOmZpOWtl+W5leeUqOeahOeijueJh+aWh+aho1xyXG4gICAgaWYgKFh1dC5Db250ZW50cy5jb250ZW50c0ZyYWdtZW50W3RoaXMuY2hhcHRlcklkXSkge1xyXG4gICAgICAgIGRlbGV0ZSBYdXQuQ29udGVudHMuY29udGVudHNGcmFnbWVudFt0aGlzLmNoYXB0ZXJJZF1cclxuICAgIH1cclxuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB0aGlzLnJvb3ROb2RlID0gbnVsbDtcclxuICAgIHRoaXMuY29udGVudHNGcmFnbWVudCA9IG51bGw7XHJcbn1cclxuXHJcblxyXG5cclxuLyoqIOmFjee9rklEXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gYXV0b1VVSUQoKSB7XHJcbiAgICByZXR1cm4gJ2F1dG9SdW4tJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnu5nmiYDmnIljb250ZW506IqC54K557uR5a6a5a+55bqU55qE5LqL5Lu25LiO5Yqo55S7XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gY29udGVudHNCZWhhdmlvcihjYWxsYmFjaywgZGF0YSwgY29udGVudERhcykge1xyXG4gICAgdmFyIGNvbXBpbGVyLFxyXG4gICAgICAgIGVsZW1lbnQgICAgICAgICAgPSBkYXRhLmVsZW1lbnQsXHJcbiAgICAgICAgZXZlbnRSZWxhdGVkICAgICA9IGRhdGEuZXZlbnRSZWxhdGVkLCAvL+WQiOmbhuS6i+S7tlxyXG4gICAgICAgIHBpZCAgICAgICAgICAgICAgPSBkYXRhLnBpZCxcclxuICAgICAgICBjcmVhdGVBY3Rpdml0eXMgID0gZGF0YS5jcmVhdGVBY3Rpdml0eXMsXHJcbiAgICAgICAgZmVlZGJhY2tCZWhhdmlvciA9IGRhdGEuZmVlZGJhY2tCZWhhdmlvciwgLy/lj43ppojmlbDmja4s6Lef5LqL5Lu255u45YWzXHJcbiAgICAgICAgcGFnZUJhc2VIb29rcyAgICA9IGRhdGEucGFnZUJhc2VIb29rcyxcclxuICAgICAgICBwYWdlSWQgICAgICAgICAgID0gZGF0YS5jaGFwdGVySWQ7XHJcblxyXG5cclxuICAgIC8v5aaC5p6c5pyJ5rWu5Yqo5a+56LGhLOaJjemcgOimgeiuoeeul+WBj+enu+mHj1xyXG4gICAgLy/mr43niYjph4zpnaLlj6/og73lrZjlnKjmta7liqjmiJbogIXkuI3mta7liqjnmoTlr7nosaFcclxuICAgIC8v6YKj5LmI5Zyo5biD5bGA55qE5pe25YCZ5oOz5a+554K55LiN5LiA5qC3XHJcbiAgICAvL+WmguaenOWcqOa1ruWKqOWMuuWfn+WwseWPlua1ruWKqOWIneWni+WAvFxyXG4gICAgLy/lkKbliJnlsLHmmK/pu5jorqTnmoTmg7Plr7nngrkwXHJcbiAgICB2YXIgdHJhbnNmb3JtT2Zmc2V0ID0gZnVuY3Rpb24oaWRzLCBpbml0VHJhbnNmb3JtT2Zmc2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIC8v5Yy56YWN5piv5LiN5piv5bGe5LqO5rWu5Yqo5a+56LGhXHJcbiAgICAgICAgICAgIGlmIChpZHMubGVuZ3RoICYmIGlkc1tpZF0pIHtcclxuICAgICAgICAgICAgICAgIC8v5Yid5aeL5YyW5a655Zmo5biD5bGA55qE5Z2Q5qCHXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFRyYW5zZm9ybU9mZnNldFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwXHJcbiAgICAgICAgfVxyXG4gICAgfShkYXRhLmZsb2F0TWF0ZXJzLmlkcywgZGF0YS5pbml0VHJhbnNmb3JtUGFyYW1ldGVyWzJdKTtcclxuXHJcblxyXG4gICAgLy/nm7jlhbPlm57osINcclxuICAgIHZhciByZWxhdGVkQ2FsbGJhY2sgPSB7XHJcbiAgICAgICAgLy/nu5Hlrprljbfmu5rmnaHpkqnlrZBcclxuICAgICAgICAnaXNjcm9sbEhvb2tzJzogW10sXHJcbiAgICAgICAgLy9jb250ZXRu6ZKp5a2Q5Zue6LCDXHJcbiAgICAgICAgJ2NvbnRlbnRzSG9va3MnOiBwYWdlQmFzZUhvb2tzLmNvbGxlY3Rvci5jb250ZW50c1xyXG4gICAgfVxyXG5cclxuICAgIC8v55u45YWz5pWw5o2uXHJcbiAgICB2YXIgcmVsYXRlZERhdGEgPSB7XHJcbiAgICAgICAgJ2Zsb2F0TWF0ZXJzJyAgICAgICAgOiBkYXRhLmZsb2F0TWF0ZXJzLFxyXG4gICAgICAgICdzZWFzb25JZCcgICAgICAgICAgIDogZGF0YS5jaHBhdGVyRGF0YS5zZWFzb25JZCxcclxuICAgICAgICAncGFnZUlkJyAgICAgICAgICAgICA6IHBhZ2VJZCxcclxuICAgICAgICAnY29udGVudERhcycgICAgICAgICA6IGNvbnRlbnREYXMsIC8v5omA5pyJ55qEY29udGVudOaVsOaNruWQiOmbhlxyXG4gICAgICAgICdjb250YWluZXInICAgICAgICAgIDogZGF0YS5saVJvb3ROb2RlLFxyXG4gICAgICAgICdzZWFzb25SZWxhdGVkJyAgICAgIDogZGF0YS5zZWFzb25SZWxhdGVkLFxyXG4gICAgICAgICdjb250YWluZXJQcmVmaXgnICAgIDogZGF0YS5jb250YWluZXJQcmVmaXgsXHJcbiAgICAgICAgJ25vZGVzJyAgICAgICAgICAgICAgOiBkYXRhLm5vZGVzLFxyXG4gICAgICAgICdwYWdlT2Zmc2V0JyAgICAgICAgIDogZGF0YS5wYWdlT2Zmc2V0LFxyXG4gICAgICAgICdjcmVhdGVDb250ZW50SWRzJyAgIDogZGF0YS5jcmVhdGVDb250ZW50SWRzLFxyXG4gICAgICAgICdwYXJ0Q29udGVudFJlbGF0ZWQnIDogZGF0YS5wYXJ0Q29udGVudFJlbGF0ZWQsXHJcbiAgICAgICAgJ3RyYW5zZm9ybU9mZnNldCcgICAgOiB0cmFuc2Zvcm1PZmZzZXQsXHJcbiAgICAgICAgJ2NvbnRlbnRzRnJhZ21lbnQnICAgOiBkYXRhLmNvbnRlbnRzRnJhZ21lbnQsXHJcbiAgICAgICAgJ2NvbnRlbnRIdG1sQm94SWRzJyAgOiBkYXRhLmNvbnRlbnRIdG1sQm94SWRzXHJcbiAgICB9XHJcblxyXG4gXHJcbiAgICAvKipcclxuICAgICAqIOe7p+e7reS4i+S4gOS4quS7u+WKoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHZhciBuZXh0VGFzayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v5aSa5LqL5Lu25ZCI6ZuG5aSE55CGcGFnZWJhc2VcclxuICAgICAgICBpZiAoZXZlbnRSZWxhdGVkKSB7XHJcbiAgICAgICAgICAgIHBhZ2VCYXNlSG9va3MuZXZlbnRCaW5kaW5nICYmIHBhZ2VCYXNlSG9va3MuZXZlbnRCaW5kaW5nKGV2ZW50UmVsYXRlZClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/liKDpmaTpkqnlrZBcclxuICAgICAgICBkZWxldGUgcmVsYXRlZENhbGxiYWNrLmNvbnRlbnRzSG9va3M7XHJcbiAgICAgICAgY2FsbGJhY2socmVsYXRlZENhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogMjAxNi40LjExXHJcbiAgICAgKiBjYW52YXPmqKHlvI/liJvlu7rnmoTmiY3lrozmiJDmlbBcclxuICAgICAqIOebkeaOp+WujOaIkOW6plxyXG4gICAgICog5aaC5p6c5pivY2FudmFz5bCx6ZyA6KaB55uR5ZCs5Yib5bu6XHJcbiAgICAgKiDlm6DkuLrlrZjlnKjlvILmraXliJvlu7pcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBtb25pdG9yID0ge1xyXG4gICAgICAgIHRvdGFsOiBjcmVhdGVBY3Rpdml0eXMubGVuZ3RoLFxyXG4gICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICArK21vbml0b3IuY3VycmVudFxyXG4gICAgICAgICAgICBpZiAobW9uaXRvci5jdXJyZW50ID09IG1vbml0b3IudG90YWwpIHtcclxuICAgICAgICAgICAgICAgIG5leHRUYXNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICAqIOaUtumbhuS6i+S7tuS/oeaBr1xyXG4gICAgICog5Li65aSE55CG5Yqo5oCB5YiG5q6157uR5a6a55qE6Zeu6aKYXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY29sbGVjdEV2ZW50UmVsYXRlZCA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog55Sf5oiQYWN0aXZ0eeaOp+WItuWvueixoVxyXG4gICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAqL1xyXG4gICAgd2hpbGUgKGNvbXBpbGVyID0gY3JlYXRlQWN0aXZpdHlzLnNoaWZ0KCkpIHtcclxuXHJcbiAgICAgICAgdmFyIGZpbHRlcnM7XHJcbiAgICAgICAgdmFyIGltYWdlSWQgICAgICAgID0gY29tcGlsZXJbJ2ltYWdlSWRzJ107IC8v54i2aWRcclxuICAgICAgICB2YXIgYWN0aXZpdHkgICAgICAgPSBjb21waWxlclsnYWN0aXZpdHknXTtcclxuICAgICAgICB2YXIgZXZlbnRUeXBlICAgICAgPSBhY3Rpdml0eS5ldmVudFR5cGU7XHJcbiAgICAgICAgdmFyIGRyYWdkcm9wUGFyYSAgID0gYWN0aXZpdHkucGFyYTE7XHJcbiAgICAgICAgdmFyIGV2ZW50Q29udGVudElkID0gaW1hZ2VJZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSa5LqL5Lu25pWw5o2u6L+H5rukXHJcbiAgICAgICAgICog5Li65LqG6Ziy5q2i5pWw5o2u5YaZ5YWl6ZSZ6K+v5pWw5o2uXHJcbiAgICAgICAgICog5aaC5p6c5b2T5YmN5a+56LGh5LiK5pyJ5aSa5LqL5Lu255qE6KGM5Li6XHJcbiAgICAgICAgICog5YiZ6buY6K6k55qE5LqL5Lu25Y675o6JXHJcbiAgICAgICAgICogQHR5cGUge1t0eXBlXX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoZmlsdGVycyA9IGV2ZW50UmVsYXRlZFsnZXZlbnRDb250ZW50SWQtPicgKyBpbWFnZUlkXSkge1xyXG4gICAgICAgICAgICBfLmVhY2goZmlsdGVycywgZnVuY3Rpb24oZWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIC8vaWTkuI3pnIDopoFcclxuICAgICAgICAgICAgICAgIC8vZXZlbnRDb250ZW50SWQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWRhdGEuZXZlbnRUeXBlID09IGFjdGl2aXR5LmV2ZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YaZ5YWl55qE5piv5Lyq5pWw5o2uLOatpOihjOS4uuiuqeWkmuS6i+S7tuaKveixoeaOpeeuoVxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGRyYWdkcm9wUGFyYSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v6ZyA6KaB57uR5a6a5LqL5Lu255qE5pWw5o2uXHJcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgJ2V2ZW50Q29udGVudElkJyAgIDogZXZlbnRDb250ZW50SWQsXHJcbiAgICAgICAgICAgICdldmVudFR5cGUnICAgICAgICA6IGV2ZW50VHlwZSxcclxuICAgICAgICAgICAgJ2RyYWdkcm9wUGFyYScgICAgIDogZHJhZ2Ryb3BQYXJhLFxyXG4gICAgICAgICAgICAnZmVlZGJhY2tCZWhhdmlvcicgOiBmZWVkYmFja0JlaGF2aW9yXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+e8k+WtmOaJgOacieeahOS6i+S7tuaVsOaNrlxyXG4gICAgICAgIGlmIChldmVudENvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICBjb2xsZWN0RXZlbnRSZWxhdGVkW2V2ZW50Q29udGVudElkXSA9IGV2ZW50RGF0YTtcclxuICAgICAgICAgICAgcmVsYXRlZERhdGFbJ2NvbGxlY3RFdmVudFJlbGF0ZWQnXSA9IGNvbGxlY3RFdmVudFJlbGF0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy/ms6jlhozlvJXnlKhcclxuICAgICAgICBwYWdlQmFzZUhvb2tzLnJlZ2lzdGVyQWJzdHJhY3RBY3Rpdml0eShcclxuICAgICAgICAgICAgbmV3IGFjdGl2aXR5Q2xhc3Moe1xyXG4gICAgICAgICAgICAgICAgJ21vbml0b3JDb21wbGV0ZScgOiBtb25pdG9yLmNvbXBsZXRlLCAvL+ebkeWQrOWujOaIkFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2VJbmRleCcgICAgICAgOiBkYXRhLnBhZ2VJbmRleCxcclxuICAgICAgICAgICAgICAgICdjYW52YXNSZWxhdGVkJyAgIDogZGF0YS5jYW52YXNSZWxhdGVkLCAvL+eItuexu+W8leeUqFxyXG4gICAgICAgICAgICAgICAgJ2lkJyAgICAgICAgICAgICAgOiBpbWFnZUlkIHx8IGF1dG9VVUlEKCksXHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIiAgICAgICAgICAgIDogJ0NvbnRlbnQnLFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2VJZCcgICAgICAgICAgOiBwYWdlSWQsXHJcbiAgICAgICAgICAgICAgICAnYWN0aXZpdHlJZCcgICAgICA6IGFjdGl2aXR5Ll9pZCxcclxuICAgICAgICAgICAgICAgICdyb290Tm9kZScgICAgICAgIDogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICdwYWdlVHlwZScgICAgICAgIDogY29tcGlsZXJbJ3BhZ2VUeXBlJ10sIC8v5p6E5bu657G75Z6LIHBhZ2UvbWFzdGVyXHJcbiAgICAgICAgICAgICAgICAnc2VlZCcgICAgICAgICAgICA6IGNvbXBpbGVyWydzZWVkJ10sIC8v5Yqo55S76KGo5pWw5o2uIG9yIOinhuinieW3ruihqOaVsOaNrlxyXG4gICAgICAgICAgICAgICAgXCJwaWRcIiAgICAgICAgICAgICA6IHBpZCwgLy/pobXnoIFcclxuICAgICAgICAgICAgICAgICdldmVudERhdGEnICAgICAgIDogZXZlbnREYXRhLCAvL+S6i+S7tuaVsOaNrlxyXG4gICAgICAgICAgICAgICAgJ3JlbGF0ZWREYXRhJyAgICAgOiByZWxhdGVkRGF0YSwgLy/nm7jlhbPmlbDmja4s5omA5pyJ5a2Q5L2c55So5Z+fQWN0aXZpdHnlr7nosaHlhbHkuqtcclxuICAgICAgICAgICAgICAgICdyZWxhdGVkQ2FsbGJhY2snIDogcmVsYXRlZENhbGxiYWNrIC8v55u45YWz5Zue6LCDXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6Kej5p6Q5Ye66ZyA6KaB5p6E5bu655qEY29udGVudOWvueixoVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VDb250ZW50cyhkYXRhKSB7XHJcbiAgICB2YXIgYWN0VHlwZSxcclxuICAgICAgICBwcmVDb21waWxlQ29udGVudCA9IFtdO1xyXG5cclxuICAgIC8v6ZyA6KaB5Yib5bu655qE5pWw5o2u57uT5p6EXHJcbiAgICBfLmVhY2goZGF0YS5hY3Rpdml0eXMsIGZ1bmN0aW9uKGFjdGl2aXR5RGF0YSkge1xyXG4gICAgICAgIGFjdFR5cGUgPSBhY3Rpdml0eURhdGEuYWN0VHlwZSB8fCBhY3Rpdml0eURhdGEuYW5pbWF0aW9uO1xyXG4gICAgICAgIC8v54m55q6K57G75Z6LIHNob3dOb3RlXHJcbiAgICAgICAgaWYgKCFhY3RUeXBlICYmIGFjdGl2aXR5RGF0YS5ub3RlKSB7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5RGF0YVsnYWN0VHlwZSddID0gYWN0VHlwZSA9IFwiU2hvd05vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGl2aXR5RGF0YS5pdGVtQXJyYXkgfHwgYWN0aXZpdHlEYXRhLmF1dG9QbGF5ICE9PSAyKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ29udGFpbmVyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRlbnQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnUGFyYWxsYXgnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ29udGVudHMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHByZUNvbXBpbGVDb250ZW50LnB1c2goYWN0aXZpdHlEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbXBpbGVDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/nvJbor5Fjb250ZW5057G75Z6LXHJcbiAgICAgICAgLy8gMSDpgJrov4dBbmltYXRpb27ooajkuqfnlJ9cclxuICAgICAgICAvLyAyIOmAmui/h1BhcmFsbGF4IOihqOS6p+eUn1xyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBpbGVDb250ZW50KCkge1xyXG4gICAgICAgICAgICBwcmVDb21waWxlQ29udGVudC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHBvc3Rwcm9jZXNzb3I6IGZ1bmN0aW9uKHJvb3RFbGUsIHBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RGF0YVsnbm9kZXMnXSA9IGRhdGFbJ25vZGVzJ107XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlEYXRhWydwYWdlT2Zmc2V0J10gPSBkYXRhWydwYWdlT2Zmc2V0J107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2aXR5RGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBwcmVDb21waWxlQ29udGVudC5sZW5ndGggPyBwcmVDb21waWxlQ29udGVudCA6IG51bGw7XHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgVGFza0NvbnRlbnRzXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9jb250ZW50cy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 83 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Action = undefined;\n\nvar _action = __webpack_require__(28);\n\nvar Action = {\n\n    createDom: function createDom(activityData, chpaterData, chapterId, pageIndex, zIndex, pageType) {\n        var backgroundImage = '',\n\n        //等比缩放\n        width = activityData.scaleWidth,\n            height = activityData.scaleHeight,\n            top = activityData.scaleTop,\n            left = activityData.scaleLeft;\n\n        var md5;\n\n        //热点背景图\n        if (md5 = activityData.md5) {\n            backgroundImage = \"background-image: url(\" + Xut.onfig.pathAddress + md5 + \");\";\n        }\n\n        //==============创建触发点结构=============\n        return String.format('<div id=\"{0}\"' + ' data-belong = \"{1}\"' + ' data-delegate=\"Action\"'\n        // +' autoplay=\"{2}\" ' svg打包不可以属性\n         + ' style=\"cursor: pointer;width:{3}px;height:{4}px;left:{5}px;top:{6}px;background-size:100% 100%;position:absolute;z-index:{7};{8}\"></div>', activityData.actType + \"_\" + activityData._id, pageType, activityData.autoPlay, width, height, left, top, zIndex, backgroundImage);\n    },\n\n    /**\r\n     * 是否阻止全局事件派发\r\n     * @type {Boolean}\r\n     *   false 事件由全局接管派发\r\n     *   false 事件由hotspot处理触发\r\n     *   全局提供的事件接口\r\n     *   {\r\n     *       globalTouchStart\r\n     *       globalTouchMove\r\n     *       globalTouchEnd\r\n     *   }\r\n     */\n    stopDelegate: false,\n\n    /**\r\n     * touchEnd 全局派发的点击事件\r\n     * 如果stopGlobalEvent == ture 事件由全局派发\r\n     */\n    eventDelegate: function eventDelegate(data) {\n        new _action.ActionClass(data);\n    },\n\n    //========复位对象==========\n    //\n    //  通过按物理键，关闭当前热点\n    //\n    //  @return 如果当前没有需要处理的Action,\n    //  需要返回一个状态标示告诉当前是否应该退出应用\n    //\n    recovery: function recovery(opts) {\n        if (this.state) {\n            this.state = false;\n            return true;\n        } else {\n            return false;\n        }\n    }\n}; //============动作热点==================\n//\n// 1. 跳转页面\n// 2. 打开系统应用程序\n//\n\nexports.Action = Action;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvYWN0aW9uLmpzP2I4NTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU1BOztBQUdBLElBQUksU0FBUzs7QUFFVCxlQUFXLG1CQUFTLFlBQVQsRUFBdUIsV0FBdkIsRUFBb0MsU0FBcEMsRUFBK0MsU0FBL0MsRUFBMEQsTUFBMUQsRUFBa0UsUUFBbEUsRUFBNEU7QUFDbkYsWUFBSSxrQkFBa0IsRUFBdEI7OztBQUVJLGdCQUFRLGFBQWEsVUFGekI7WUFHSSxTQUFTLGFBQWEsV0FIMUI7WUFJSSxNQUFNLGFBQWEsUUFKdkI7WUFLSSxPQUFPLGFBQWEsU0FMeEI7O0FBT0EsWUFBSSxHQUFKOzs7QUFHQSxZQUFJLE1BQU0sYUFBYSxHQUF2QixFQUE0QjtBQUN4Qiw4QkFBa0IsMkJBQTJCLElBQUksS0FBSixDQUFVLFdBQXJDLEdBQW1ELEdBQW5ELEdBQXlELElBQTNFO0FBQ0g7OztBQUdELGVBQU8sT0FBTyxNQUFQLENBQ0gsa0JBQWtCLHNCQUFsQixHQUEyQzs7QUFBM0MsV0FFRSwySUFIQyxFQUlILGFBQWEsT0FBYixHQUF1QixHQUF2QixHQUE2QixhQUFhLEdBSnZDLEVBS0gsUUFMRyxFQU1ILGFBQWEsUUFOVixFQU9ILEtBUEcsRUFRSCxNQVJHLEVBU0gsSUFURyxFQVVILEdBVkcsRUFXSCxNQVhHLEVBWUgsZUFaRyxDQUFQO0FBY0gsS0FoQ1E7Ozs7Ozs7Ozs7Ozs7O0FBOENULGtCQUFjLEtBOUNMOzs7Ozs7QUFvRFQsbUJBQWUsdUJBQVMsSUFBVCxFQUFlO0FBQzFCLGdDQUFnQixJQUFoQjtBQUNILEtBdERROzs7Ozs7Ozs7QUErRFQsY0FBVSxrQkFBUyxJQUFULEVBQWU7QUFDckIsWUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDWixpQkFBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLG1CQUFPLElBQVA7QUFDSCxTQUhELE1BR087QUFDSCxtQkFBTyxLQUFQO0FBQ0g7QUFDSjtBQXRFUSxDQUFiLEM7Ozs7OztRQTBFUSxNLEdBQUEsTSIsImZpbGUiOiI4My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT095Yqo5L2c54Ot54K5PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vIDEuIOi3s+i9rOmhtemdolxyXG4vLyAyLiDmiZPlvIDns7vnu5/lupTnlKjnqIvluo9cclxuLy9cclxuXHJcbmltcG9ydCB7IEFjdGlvbkNsYXNzIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50L2FjdGlvbidcclxuXHJcblxyXG5sZXQgQWN0aW9uID0ge1xyXG5cclxuICAgIGNyZWF0ZURvbTogZnVuY3Rpb24oYWN0aXZpdHlEYXRhLCBjaHBhdGVyRGF0YSwgY2hhcHRlcklkLCBwYWdlSW5kZXgsIHpJbmRleCwgcGFnZVR5cGUpIHtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlID0gJycsXHJcbiAgICAgICAgICAgIC8v562J5q+U57yp5pS+XHJcbiAgICAgICAgICAgIHdpZHRoID0gYWN0aXZpdHlEYXRhLnNjYWxlV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IGFjdGl2aXR5RGF0YS5zY2FsZUhlaWdodCxcclxuICAgICAgICAgICAgdG9wID0gYWN0aXZpdHlEYXRhLnNjYWxlVG9wLFxyXG4gICAgICAgICAgICBsZWZ0ID0gYWN0aXZpdHlEYXRhLnNjYWxlTGVmdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgdmFyIG1kNVxyXG5cclxuICAgICAgICAvL+eDreeCueiDjOaZr+WbvlxyXG4gICAgICAgIGlmIChtZDUgPSBhY3Rpdml0eURhdGEubWQ1KSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZSA9IFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgWHV0Lm9uZmlnLnBhdGhBZGRyZXNzICsgbWQ1ICsgXCIpO1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PeWIm+W7uuinpuWPkeeCuee7k+aehD09PT09PT09PT09PT1cclxuICAgICAgICByZXR1cm4gU3RyaW5nLmZvcm1hdChcclxuICAgICAgICAgICAgJzxkaXYgaWQ9XCJ7MH1cIicgKyAnIGRhdGEtYmVsb25nID0gXCJ7MX1cIicgKyAnIGRhdGEtZGVsZWdhdGU9XCJBY3Rpb25cIidcclxuICAgICAgICAgICAgLy8gKycgYXV0b3BsYXk9XCJ7Mn1cIiAnIHN2Z+aJk+WMheS4jeWPr+S7peWxnuaAp1xyXG4gICAgICAgICAgICArICcgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7d2lkdGg6ezN9cHg7aGVpZ2h0Ons0fXB4O2xlZnQ6ezV9cHg7dG9wOns2fXB4O2JhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDp7N307ezh9XCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgYWN0aXZpdHlEYXRhLmFjdFR5cGUgKyBcIl9cIiArIGFjdGl2aXR5RGF0YS5faWQsXHJcbiAgICAgICAgICAgIHBhZ2VUeXBlLFxyXG4gICAgICAgICAgICBhY3Rpdml0eURhdGEuYXV0b1BsYXksXHJcbiAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgIGxlZnQsXHJcbiAgICAgICAgICAgIHRvcCxcclxuICAgICAgICAgICAgekluZGV4LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VcclxuICAgICAgICApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpumYu+atouWFqOWxgOS6i+S7tua0vuWPkVxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKiAgIGZhbHNlIOS6i+S7tueUseWFqOWxgOaOpeeuoea0vuWPkVxyXG4gICAgICogICBmYWxzZSDkuovku7bnlLFob3RzcG905aSE55CG6Kem5Y+RXHJcbiAgICAgKiAgIOWFqOWxgOaPkOS+m+eahOS6i+S7tuaOpeWPo1xyXG4gICAgICogICB7XHJcbiAgICAgKiAgICAgICBnbG9iYWxUb3VjaFN0YXJ0XHJcbiAgICAgKiAgICAgICBnbG9iYWxUb3VjaE1vdmVcclxuICAgICAqICAgICAgIGdsb2JhbFRvdWNoRW5kXHJcbiAgICAgKiAgIH1cclxuICAgICAqL1xyXG4gICAgc3RvcERlbGVnYXRlOiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIHRvdWNoRW5kIOWFqOWxgOa0vuWPkeeahOeCueWHu+S6i+S7tlxyXG4gICAgICog5aaC5p6cc3RvcEdsb2JhbEV2ZW50ID09IHR1cmUg5LqL5Lu255Sx5YWo5bGA5rS+5Y+RXHJcbiAgICAgKi9cclxuICAgIGV2ZW50RGVsZWdhdGU6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBuZXcgQWN0aW9uQ2xhc3MoZGF0YSlcclxuICAgIH0sXHJcblxyXG4gICAgLy89PT09PT09PeWkjeS9jeWvueixoT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvLyAg6YCa6L+H5oyJ54mp55CG6ZSu77yM5YWz6Zet5b2T5YmN54Ot54K5XHJcbiAgICAvL1xyXG4gICAgLy8gIEByZXR1cm4g5aaC5p6c5b2T5YmN5rKh5pyJ6ZyA6KaB5aSE55CG55qEQWN0aW9uLFxyXG4gICAgLy8gIOmcgOimgei/lOWbnuS4gOS4queKtuaAgeagh+ekuuWRiuivieW9k+WJjeaYr+WQpuW6lOivpemAgOWHuuW6lOeUqFxyXG4gICAgLy9cclxuICAgIHJlY292ZXJ5OiBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtBY3Rpb259XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvYWN0aW9uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 84 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * 文本类型\r\n */\n\nvar Content = {\n\n    //==========创建热点元素结构（用于布局可触发点）===============\n    //\n    //   预创建\n    //\n    createDom: function createDom(opts) {\n        var sqlRet = opts.sqlRet,\n            pageIndex = opts.pageIndex;\n        return function (rootEle, pageIndex) {\n            sqlRet['container'] = rootEle || opts.rootEle;\n            return sqlRet;\n        };\n    },\n\n    /**\r\n     * 绑定热点事件\r\n     * 用户交互动作产生Action或者widget对象\r\n     */\n    bindEvent: function bindEvent() {},\n\n    /**\r\n     * 在当前页面自动触发的通知\r\n     *\r\n     * 作用：\r\n     *   生成Action或者widget触发点对象\r\n     *\r\n     * 有一种情况，如果当前Action对象，已存在必须要做重复处理\r\n     *\r\n     * Xut.ActionMgr.getOne(key) 接口，是获取当前是否有实例对象的引用\r\n     *\r\n     */\n    autoPlay: function autoPlay(scopeComplete) {\n        return this.autoPlay && this.autoPlay(scopeComplete);\n    },\n\n    /**\r\n     * 开始翻页\r\n     *\r\n     * 滑动页面的时候触发\r\n     *\r\n     * 处理要关闭的对象\r\n     *\r\n     * 比如（音频，视频），不能停留到下一个页面,滑动必须立刻关闭或者清理销毁\r\n     *\r\n     * @param  {[type]} this  当前活动对象\r\n     *\r\n     */\n    flipOver: function flipOver() {\n        return this.flipOver();\n    },\n\n    /**\r\n     * 翻页完成\r\n     * @return {[type]} [description]\r\n     */\n    flipComplete: function flipComplete() {\n        return this.flipComplete();\n    },\n\n    /**\r\n     * 销毁接口\r\n     *\r\n     * 1 销毁页面绑定的事件\r\n     *   A hotspotBind 接口绑定的的热点触发事件\r\n     *   B autoPlay 等接口 产生的具体Action对象事件\r\n     *\r\n     * 2 销毁热点元素的在控制器中的引用\r\n     *\r\n     * 3 清理页面结构\r\n     *\r\n     * 注：\r\n     *   2,3操作暂时由控制器已经内部统一完成了,暂时只需要处理1销毁绑定的事件\r\n     *\r\n     * @param  {[type]} pageIndex    [页码标示]\r\n     * @param  {[type]} rootEle      [根元素]\r\n     * @return {[type]}              [description]\r\n     */\n    destroy: function destroy() {\n        return this.destroy();\n    },\n\n    /**\r\n     *  复位状态通知\r\n     *\r\n     *  作用：用户按页面右上角返回，或者pad手机上的物理返回键\r\n     *\r\n     *  那么：\r\n     *      1 按一次， 如果当前页面有活动热点，并且热点对象还在可视活动状态（比如文本，是显示，音频正在播放）\r\n     *        那么则调用此方法，做复位处理，即文本隐藏，音频关闭\r\n     *        然后返回true, 用于反馈给控制器,停止下一步调用\r\n     *        按第二次,则退出页面\r\n     *\r\n     *     2 按一次，如果没有活动的对象，return false,这直接退出页面\r\n     *\r\n     * @param  {[type]} activeObejct [description]\r\n     * @return {[type]}              [description]\r\n     */\n    recovery: function recovery(opts) {\n        return this.recovery && this.recovery();\n    }\n\n};\n\nexports.Content = Content;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvY29udGVudC5qcz9jMDM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUksVUFBVTs7Ozs7O0FBTVYsZUFBVyxtQkFBUyxJQUFULEVBQWU7QUFDdEIsWUFBSSxTQUFTLEtBQUssTUFBbEI7WUFDSSxZQUFZLEtBQUssU0FEckI7QUFFQSxlQUFPLFVBQVMsT0FBVCxFQUFrQixTQUFsQixFQUE2QjtBQUNoQyxtQkFBTyxXQUFQLElBQXNCLFdBQVcsS0FBSyxPQUF0QztBQUNBLG1CQUFPLE1BQVA7QUFDSCxTQUhEO0FBSUgsS0FiUzs7Ozs7O0FBbUJWLGVBQVcscUJBQVcsQ0FBRSxDQW5CZDs7Ozs7Ozs7Ozs7OztBQWdDVixjQUFVLGtCQUFTLGFBQVQsRUFBd0I7QUFDOUIsZUFBTyxLQUFLLFFBQUwsSUFBaUIsS0FBSyxRQUFMLENBQWMsYUFBZCxDQUF4QjtBQUNILEtBbENTOzs7Ozs7Ozs7Ozs7OztBQWlEVixjQUFVLG9CQUFXO0FBQ2pCLGVBQU8sS0FBSyxRQUFMLEVBQVA7QUFDSCxLQW5EUzs7Ozs7O0FBeURWLGtCQUFjLHdCQUFXO0FBQ3JCLGVBQU8sS0FBSyxZQUFMLEVBQVA7QUFDSCxLQTNEUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnRlYsYUFBUyxtQkFBVztBQUNoQixlQUFPLEtBQUssT0FBTCxFQUFQO0FBQ0gsS0FsRlM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFHVixjQUFVLGtCQUFTLElBQVQsRUFBZTtBQUNyQixlQUFPLEtBQUssUUFBTCxJQUFpQixLQUFLLFFBQUwsRUFBeEI7QUFDSDs7QUF2R1MsQ0FBZDs7UUEyR1EsTyxHQUFBLE8iLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5paH5pys57G75Z6LXHJcbiAqL1xyXG5cclxubGV0IENvbnRlbnQgPSB7XHJcblxyXG4gICAgLy89PT09PT09PT095Yib5bu654Ot54K55YWD57Sg57uT5p6E77yI55So5LqO5biD5bGA5Y+v6Kem5Y+R54K577yJPT09PT09PT09PT09PT09XHJcbiAgICAvL1xyXG4gICAgLy8gICDpooTliJvlu7pcclxuICAgIC8vXHJcbiAgICBjcmVhdGVEb206IGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICB2YXIgc3FsUmV0ID0gb3B0cy5zcWxSZXQsXHJcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9IG9wdHMucGFnZUluZGV4O1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihyb290RWxlLCBwYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgc3FsUmV0Wydjb250YWluZXInXSA9IHJvb3RFbGUgfHwgb3B0cy5yb290RWxlO1xyXG4gICAgICAgICAgICByZXR1cm4gc3FsUmV0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5Hlrprng63ngrnkuovku7ZcclxuICAgICAqIOeUqOaIt+S6pOS6kuWKqOS9nOS6p+eUn0FjdGlvbuaIluiAhXdpZGdldOWvueixoVxyXG4gICAgICovXHJcbiAgICBiaW5kRXZlbnQ6IGZ1bmN0aW9uKCkge30sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjlvZPliY3pobXpnaLoh6rliqjop6blj5HnmoTpgJrnn6VcclxuICAgICAqXHJcbiAgICAgKiDkvZznlKjvvJpcclxuICAgICAqICAg55Sf5oiQQWN0aW9u5oiW6ICFd2lkZ2V06Kem5Y+R54K55a+56LGhXHJcbiAgICAgKlxyXG4gICAgICog5pyJ5LiA56eN5oOF5Ya177yM5aaC5p6c5b2T5YmNQWN0aW9u5a+56LGh77yM5bey5a2Y5Zyo5b+F6aG76KaB5YGa6YeN5aSN5aSE55CGXHJcbiAgICAgKlxyXG4gICAgICogWHV0LkFjdGlvbk1nci5nZXRPbmUoa2V5KSDmjqXlj6PvvIzmmK/ojrflj5blvZPliY3mmK/lkKbmnInlrp7kvovlr7nosaHnmoTlvJXnlKhcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGF1dG9QbGF5OiBmdW5jdGlvbihzY29wZUNvbXBsZXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0b1BsYXkgJiYgdGhpcy5hdXRvUGxheShzY29wZUNvbXBsZXRlKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byA5aeL57+76aG1XHJcbiAgICAgKlxyXG4gICAgICog5ruR5Yqo6aG16Z2i55qE5pe25YCZ6Kem5Y+RXHJcbiAgICAgKlxyXG4gICAgICog5aSE55CG6KaB5YWz6Zet55qE5a+56LGhXHJcbiAgICAgKlxyXG4gICAgICog5q+U5aaC77yI6Z+z6aKR77yM6KeG6aKR77yJ77yM5LiN6IO95YGc55WZ5Yiw5LiL5LiA5Liq6aG16Z2iLOa7keWKqOW/hemhu+eri+WIu+WFs+mXreaIluiAhea4heeQhumUgOavgVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gdGhpcyAg5b2T5YmN5rS75Yqo5a+56LGhXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBmbGlwT3ZlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxpcE92ZXIoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnv7vpobXlrozmiJBcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBmbGlwQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZsaXBDb21wbGV0ZSgpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDplIDmr4HmjqXlj6NcclxuICAgICAqXHJcbiAgICAgKiAxIOmUgOavgemhtemdoue7keWumueahOS6i+S7tlxyXG4gICAgICogICBBIGhvdHNwb3RCaW5kIOaOpeWPo+e7keWumueahOeahOeDreeCueinpuWPkeS6i+S7tlxyXG4gICAgICogICBCIGF1dG9QbGF5IOetieaOpeWPoyDkuqfnlJ/nmoTlhbfkvZNBY3Rpb27lr7nosaHkuovku7ZcclxuICAgICAqXHJcbiAgICAgKiAyIOmUgOavgeeDreeCueWFg+e0oOeahOWcqOaOp+WItuWZqOS4reeahOW8leeUqFxyXG4gICAgICpcclxuICAgICAqIDMg5riF55CG6aG16Z2i57uT5p6EXHJcbiAgICAgKlxyXG4gICAgICog5rOo77yaXHJcbiAgICAgKiAgIDIsM+aTjeS9nOaaguaXtueUseaOp+WItuWZqOW3sue7j+WGhemDqOe7n+S4gOWujOaIkOS6hizmmoLml7blj6rpnIDopoHlpITnkIYx6ZSA5q+B57uR5a6a55qE5LqL5Lu2XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSBwYWdlSW5kZXggICAgW+mhteeggeagh+ekul1cclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gcm9vdEVsZSAgICAgIFvmoLnlhYPntKBdXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlc3Ryb3koKTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIOWkjeS9jeeKtuaAgemAmuefpVxyXG4gICAgICpcclxuICAgICAqICDkvZznlKjvvJrnlKjmiLfmjInpobXpnaLlj7PkuIrop5Lov5Tlm57vvIzmiJbogIVwYWTmiYvmnLrkuIrnmoTniannkIbov5Tlm57plK5cclxuICAgICAqXHJcbiAgICAgKiAg6YKj5LmI77yaXHJcbiAgICAgKiAgICAgIDEg5oyJ5LiA5qyh77yMIOWmguaenOW9k+WJjemhtemdouaciea0u+WKqOeDreeCue+8jOW5tuS4lOeDreeCueWvueixoei/mOWcqOWPr+inhua0u+WKqOeKtuaAge+8iOavlOWmguaWh+acrO+8jOaYr+aYvuekuu+8jOmfs+mikeato+WcqOaSreaUvu+8iVxyXG4gICAgICogICAgICAgIOmCo+S5iOWImeiwg+eUqOatpOaWueazle+8jOWBmuWkjeS9jeWkhOeQhu+8jOWNs+aWh+acrOmakOiXj++8jOmfs+mikeWFs+mXrVxyXG4gICAgICogICAgICAgIOeEtuWQjui/lOWbnnRydWUsIOeUqOS6juWPjemmiOe7meaOp+WItuWZqCzlgZzmraLkuIvkuIDmraXosIPnlKhcclxuICAgICAqICAgICAgICDmjInnrKzkuozmrKEs5YiZ6YCA5Ye66aG16Z2iXHJcbiAgICAgKlxyXG4gICAgICogICAgIDIg5oyJ5LiA5qyh77yM5aaC5p6c5rKh5pyJ5rS75Yqo55qE5a+56LGh77yMcmV0dXJuIGZhbHNlLOi/meebtOaOpemAgOWHuumhtemdolxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gYWN0aXZlT2JlamN0IFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcmVjb3Zlcnk6IGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWNvdmVyeSAmJiB0aGlzLnJlY292ZXJ5KCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NvbnRlbnR9XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvY29udGVudC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 85 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Media = undefined;\n\nvar _index = __webpack_require__(1);\n\n//临时音频动作数据\nvar tempData = {};\n\nvar Media = {\n\n    createDom: function createDom(activityData, chpaterData, chapterId, pageIndex, zIndex, pageType) {\n        var width = activityData.scaleWidth,\n            height = activityData.scaleHeight,\n            top = activityData.scaleTop,\n            left = activityData.scaleLeft,\n            actType = activityData.actType,\n            id = activityData._id;\n\n        //如果没有宽高则不创建绑定节点\n        if (!width || !height) return '';\n\n        var category = activityData.category;\n        var mediaIcon,\n            mediaIconSize,\n            posX,\n            posY,\n            start,\n            stop,\n            itemArray,\n            startImage = \"\";\n\n        var screenSize = Xut.config.screenSize;\n\n        //只针对网页插件增加单独的点击界面\n        if (category == 'webpage' && width > 200 && height > 100 && width <= screenSize.width && height <= screenSize.height) {\n            mediaIcon = 'background-image:url(images/icons/web_hotspot.png)';\n        }\n\n        //解析音乐动作\n        //冒泡动作靠节点传递数据\n        if (itemArray = activityData.itemArray) {\n            itemArray = (0, _index.parseJSON)(itemArray);\n            start = itemArray[0];\n            stop = itemArray[1];\n            tempData[id] = {};\n            if (start) {\n                if (start.startImg) {\n                    startImage = start.startImg;\n                    tempData[id]['startImg'] = startImage;\n                    startImage = 'background-image:url(' + startImage + ');';\n                }\n                if (start.script) {\n                    tempData[id]['startScript'] = start.script;\n                }\n            }\n            if (stop) {\n                if (stop.stopImg) {\n                    tempData[id]['stopImg'] = stop.stopImg;\n                }\n                if (stop.script) {\n                    tempData[id]['stopScript'] = stop.script;\n                }\n            }\n        }\n\n        //首字母大写\n        var mediaType = category.replace(/(\\w)/, function (v) {\n            return v.toUpperCase();\n        });\n\n        //创建音频对象\n        //Webpage_1\n        //Audio_1\n        //Video_1\n        var tpl = String.format('<div id=\"{0}\"' + ' data-belong=\"{1}\"' + ' data-delegate=\"{2}\"' + ' style=\"width:{3}px;height:{4}px;left:{5}px;top:{6}px;z-index:{7};{8}background-size:100% 100%;position:absolute;\">', mediaType + \"_\" + id, pageType, category, width, height, left, top, zIndex, startImage);\n\n        //如果有视频图标\n        if (mediaIcon) {\n            mediaIconSize = 74;\n            posX = (width - mediaIconSize) / 2;\n            posY = (height - mediaIconSize) / 2;\n\n            tpl += String.format('<div id=\"icon_{0}\"' + ' type=\"icon\"' + ' style=\"position:absolute;top:{1}px;left:{2}px;width:{3}px;height:{4}px;{5};\">' + ' </div>', id, posY, posX, mediaIconSize, mediaIconSize, mediaIcon);\n        }\n\n        tpl += '</div>';\n\n        return tpl;\n    },\n\n    //仅创建一次\n    //data传递参数问题\n    onlyCreateOnce: function onlyCreateOnce(id) {\n        var data;\n        if (data = tempData[id]) {\n            delete tempData[id];\n            return data;\n        }\n    },\n\n    /**\r\n     * touchEnd 全局派发的点击事件\r\n     * 如果stopGlobalEvent == ture 事件由全局派发\r\n     */\n    eventDelegate: function eventDelegate(data) {\n        var category, chapterId;\n        if (category = data.target.getAttribute('data-delegate')) {\n            //触发类型\n            chapterId = Xut.Presentation.GetPageId(data.pageIndex);\n            /**\r\n             * 传入chapterId 页面ID\r\n             * activityId    视频ID\r\n             * eleName       节点名  //切换控制\r\n             * 根节点\r\n             */\n            if (category == 'audio') {\n                Xut.AudioManager.trigger(chapterId, data.activityId, this.onlyCreateOnce(data.id));\n            } else {\n                Xut.VideoManager.trigger(chapterId, data.activityId, $(data.rootNode));\n            }\n        }\n    },\n\n    //自动运行\n    autoPlay: function autoPlay(data) {\n        var category = data.category;\n        if (!category) return;\n        var rootNode = data.rootNode,\n            pageIndex = data.pageIndex,\n            chapterId = data.chapterId,\n            activityId = data.id,\n            triggerType = category == 'audio' ? 'audioManager' : 'videoManager';\n\n        //数据库视频音频不规则问题导致\n        //首字母大写\n        var mediaType = category.replace(/(\\w)/, function (v) {\n            return v.toUpperCase();\n        });\n\n        //自动音频\n        if (category == 'audio') {\n            Xut.AudioManager.autoPlay(chapterId, activityId, this.onlyCreateOnce(data.id));\n        } else {\n            //自动视频\n            Xut.VideoManager.autoPlay(chapterId, activityId, rootNode);\n        }\n    }\n\n};\n\nexports.Media = Media;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvbWVkaWEuanM/NDgxMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7OztBQUdBLElBQUksV0FBVyxFQUFmOztBQUVBLElBQUksUUFBUTs7QUFFUixlQUFXLG1CQUFTLFlBQVQsRUFBdUIsV0FBdkIsRUFBb0MsU0FBcEMsRUFBK0MsU0FBL0MsRUFBMEQsTUFBMUQsRUFBa0UsUUFBbEUsRUFBNEU7QUFDL0UsWUFBSSxRQUFRLGFBQWEsVUFBekI7WUFDQSxTQUFTLGFBQWEsV0FEdEI7WUFFQSxNQUFNLGFBQWEsUUFGbkI7WUFHQSxPQUFPLGFBQWEsU0FIcEI7WUFJQSxVQUFVLGFBQWEsT0FKdkI7WUFLQSxLQUFLLGFBQWEsR0FMbEI7OztBQVFKLFlBQUksQ0FBQyxLQUFELElBQVUsQ0FBQyxNQUFmLEVBQXVCLE9BQU8sRUFBUDs7QUFFdkIsWUFBSSxXQUFXLGFBQWEsUUFBNUI7QUFDQSxZQUFJLFNBQUo7WUFDSSxhQURKO1lBRUksSUFGSjtZQUdJLElBSEo7WUFJSSxLQUpKO1lBS0ksSUFMSjtZQU1JLFNBTko7WUFPSSxhQUFhLEVBUGpCOztBQVNBLFlBQUksYUFBYSxJQUFJLE1BQUosQ0FBVyxVQUE1Qjs7O0FBR0EsWUFBSSxZQUFZLFNBQVosSUFBMEIsUUFBUSxHQUFsQyxJQUEyQyxTQUFTLEdBQXBELElBQTZELFNBQVMsV0FBVyxLQUFqRixJQUE0RixVQUFVLFdBQVcsTUFBckgsRUFBOEg7QUFDMUgsd0JBQVksb0RBQVo7QUFDSDs7OztBQUlELFlBQUksWUFBWSxhQUFhLFNBQTdCLEVBQXdDO0FBQ3BDLHdCQUFZLHNCQUFVLFNBQVYsQ0FBWjtBQUNBLG9CQUFRLFVBQVUsQ0FBVixDQUFSO0FBQ0EsbUJBQU8sVUFBVSxDQUFWLENBQVA7QUFDQSxxQkFBUyxFQUFULElBQWUsRUFBZjtBQUNBLGdCQUFJLEtBQUosRUFBVztBQUNQLG9CQUFJLE1BQU0sUUFB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akQsbUJBQU8sRUFBRSxXQUFGLEVBQVA7QUFDSCxTQUZlLENBQWhCOzs7QUFLQSxZQUFJLFlBQVksT0FBaEIsRUFBeUI7QUFDckIsZ0JBQUksWUFBSixDQUFpQixRQUFqQixDQUEwQixTQUExQixFQUFxQyxVQUFyQyxFQUFpRCxLQUFLLGNBQUwsQ0FBb0IsS0FBSyxFQUF6QixDQUFqRDtBQUNILFNBRkQsTUFFTzs7QUFFSCxnQkFBSSxZQUFKLENBQWlCLFFBQWpCLENBQTBCLFNBQTFCLEVBQXFDLFVBQXJDLEVBQWlELFFBQWpEO0FBQ0g7QUFDSjs7QUEvSk8sQ0FBWjs7UUFvS1EsSyxHQUFBLEsiLCJmaWxlIjoiODUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUpTT04gfSBmcm9tICcuLi8uLi8uLi91dGlsL2luZGV4J1xyXG5cclxuLy/kuLTml7bpn7PpopHliqjkvZzmlbDmja5cclxubGV0IHRlbXBEYXRhID0ge307XHJcblxyXG5sZXQgTWVkaWEgPSB7XHJcblxyXG4gICAgY3JlYXRlRG9tOiBmdW5jdGlvbihhY3Rpdml0eURhdGEsIGNocGF0ZXJEYXRhLCBjaGFwdGVySWQsIHBhZ2VJbmRleCwgekluZGV4LCBwYWdlVHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhY3Rpdml0eURhdGEuc2NhbGVXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gYWN0aXZpdHlEYXRhLnNjYWxlSGVpZ2h0LFxyXG4gICAgICAgICAgICB0b3AgPSBhY3Rpdml0eURhdGEuc2NhbGVUb3AsXHJcbiAgICAgICAgICAgIGxlZnQgPSBhY3Rpdml0eURhdGEuc2NhbGVMZWZ0LFxyXG4gICAgICAgICAgICBhY3RUeXBlID0gYWN0aXZpdHlEYXRhLmFjdFR5cGUsXHJcbiAgICAgICAgICAgIGlkID0gYWN0aXZpdHlEYXRhLl9pZDtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmsqHmnInlrr3pq5jliJnkuI3liJvlu7rnu5HlrproioLngrlcclxuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHJldHVybiAnJztcclxuXHJcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gYWN0aXZpdHlEYXRhLmNhdGVnb3J5O1xyXG4gICAgICAgIHZhciBtZWRpYUljb24sXHJcbiAgICAgICAgICAgIG1lZGlhSWNvblNpemUsXHJcbiAgICAgICAgICAgIHBvc1gsXHJcbiAgICAgICAgICAgIHBvc1ksXHJcbiAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICBzdG9wLFxyXG4gICAgICAgICAgICBpdGVtQXJyYXksXHJcbiAgICAgICAgICAgIHN0YXJ0SW1hZ2UgPSBcIlwiO1xyXG5cclxuICAgICAgICB2YXIgc2NyZWVuU2l6ZSA9IFh1dC5jb25maWcuc2NyZWVuU2l6ZVxyXG5cclxuICAgICAgICAvL+WPqumSiOWvuee9kemhteaPkuS7tuWinuWKoOWNleeLrOeahOeCueWHu+eVjOmdolxyXG4gICAgICAgIGlmIChjYXRlZ29yeSA9PSAnd2VicGFnZScgJiYgKHdpZHRoID4gMjAwKSAmJiAoaGVpZ2h0ID4gMTAwKSAmJiAod2lkdGggPD0gc2NyZWVuU2l6ZS53aWR0aCkgJiYgKGhlaWdodCA8PSBzY3JlZW5TaXplLmhlaWdodCkpIHtcclxuICAgICAgICAgICAgbWVkaWFJY29uID0gJ2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9pY29ucy93ZWJfaG90c3BvdC5wbmcpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v6Kej5p6Q6Z+z5LmQ5Yqo5L2cXHJcbiAgICAgICAgLy/lhpLms6HliqjkvZzpnaDoioLngrnkvKDpgJLmlbDmja5cclxuICAgICAgICBpZiAoaXRlbUFycmF5ID0gYWN0aXZpdHlEYXRhLml0ZW1BcnJheSkge1xyXG4gICAgICAgICAgICBpdGVtQXJyYXkgPSBwYXJzZUpTT04oaXRlbUFycmF5KTtcclxuICAgICAgICAgICAgc3RhcnQgPSBpdGVtQXJyYXlbMF07XHJcbiAgICAgICAgICAgIHN0b3AgPSBpdGVtQXJyYXlbMV07XHJcbiAgICAgICAgICAgIHRlbXBEYXRhW2lkXSA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydC5zdGFydEltZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW1hZ2UgPSBzdGFydC5zdGFydEltZztcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YVtpZF1bJ3N0YXJ0SW1nJ10gPSBzdGFydEltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW1hZ2UgPSAnYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIHN0YXJ0SW1hZ2UgKyAnKTsnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0LnNjcmlwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhW2lkXVsnc3RhcnRTY3JpcHQnXSA9IHN0YXJ0LnNjcmlwdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RvcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3Auc3RvcEltZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhW2lkXVsnc3RvcEltZyddID0gc3RvcC5zdG9wSW1nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3Auc2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcERhdGFbaWRdWydzdG9wU2NyaXB0J10gPSBzdG9wLnNjcmlwdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+mmluWtl+avjeWkp+WGmVxyXG4gICAgICAgIHZhciBtZWRpYVR5cGUgPSBjYXRlZ29yeS5yZXBsYWNlKC8oXFx3KS8sIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9VcHBlckNhc2UoKVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAvL+WIm+W7uumfs+mikeWvueixoVxyXG4gICAgICAgIC8vV2VicGFnZV8xXHJcbiAgICAgICAgLy9BdWRpb18xXHJcbiAgICAgICAgLy9WaWRlb18xXHJcbiAgICAgICAgdmFyIHRwbCA9IFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICc8ZGl2IGlkPVwiezB9XCInICsgJyBkYXRhLWJlbG9uZz1cInsxfVwiJyArICcgZGF0YS1kZWxlZ2F0ZT1cInsyfVwiJyArICcgc3R5bGU9XCJ3aWR0aDp7M31weDtoZWlnaHQ6ezR9cHg7bGVmdDp7NX1weDt0b3A6ezZ9cHg7ei1pbmRleDp7N307ezh9YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtcIj4nLFxyXG4gICAgICAgICAgICBtZWRpYVR5cGUgKyBcIl9cIiArIGlkLFxyXG4gICAgICAgICAgICBwYWdlVHlwZSxcclxuICAgICAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgIGxlZnQsXHJcbiAgICAgICAgICAgIHRvcCxcclxuICAgICAgICAgICAgekluZGV4LFxyXG4gICAgICAgICAgICBzdGFydEltYWdlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmnInop4bpopHlm77moIdcclxuICAgICAgICBpZiAobWVkaWFJY29uKSB7XHJcbiAgICAgICAgICAgIG1lZGlhSWNvblNpemUgPSA3NDtcclxuICAgICAgICAgICAgcG9zWCA9ICh3aWR0aCAtIG1lZGlhSWNvblNpemUpIC8gMjtcclxuICAgICAgICAgICAgcG9zWSA9IChoZWlnaHQgLSBtZWRpYUljb25TaXplKSAvIDI7XHJcblxyXG4gICAgICAgICAgICB0cGwgKz0gU3RyaW5nLmZvcm1hdChcclxuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwiaWNvbl97MH1cIicgKyAnIHR5cGU9XCJpY29uXCInICsgJyBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO3RvcDp7MX1weDtsZWZ0OnsyfXB4O3dpZHRoOnszfXB4O2hlaWdodDp7NH1weDt7NX07XCI+JyArICcgPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgcG9zWSxcclxuICAgICAgICAgICAgICAgIHBvc1gsXHJcbiAgICAgICAgICAgICAgICBtZWRpYUljb25TaXplLFxyXG4gICAgICAgICAgICAgICAgbWVkaWFJY29uU2l6ZSxcclxuICAgICAgICAgICAgICAgIG1lZGlhSWNvblxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cGwgKz0gJzwvZGl2Pic7XHJcblxyXG4gICAgICAgIHJldHVybiB0cGw7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvL+S7heWIm+W7uuS4gOasoVxyXG4gICAgLy9kYXRh5Lyg6YCS5Y+C5pWw6Zeu6aKYXHJcbiAgICBvbmx5Q3JlYXRlT25jZTogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB2YXIgZGF0YTtcclxuICAgICAgICBpZiAoZGF0YSA9IHRlbXBEYXRhW2lkXSkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGVtcERhdGFbaWRdXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0b3VjaEVuZCDlhajlsYDmtL7lj5HnmoTngrnlh7vkuovku7ZcclxuICAgICAqIOWmguaenHN0b3BHbG9iYWxFdmVudCA9PSB0dXJlIOS6i+S7tueUseWFqOWxgOa0vuWPkVxyXG4gICAgICovXHJcbiAgICBldmVudERlbGVnYXRlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5LCBjaGFwdGVySWQ7XHJcbiAgICAgICAgaWYgKGNhdGVnb3J5ID0gZGF0YS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRlbGVnYXRlJykpIHsgLy/op6blj5HnsbvlnotcclxuICAgICAgICAgICAgY2hhcHRlcklkID0gWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlSWQoZGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICog5Lyg5YWlY2hhcHRlcklkIOmhtemdoklEXHJcbiAgICAgICAgICAgICAqIGFjdGl2aXR5SWQgICAg6KeG6aKRSURcclxuICAgICAgICAgICAgICogZWxlTmFtZSAgICAgICDoioLngrnlkI0gIC8v5YiH5o2i5o6n5Yi2XHJcbiAgICAgICAgICAgICAqIOagueiKgueCuVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09ICdhdWRpbycpIHtcclxuICAgICAgICAgICAgICAgIFh1dC5BdWRpb01hbmFnZXIudHJpZ2dlcihjaGFwdGVySWQsIGRhdGEuYWN0aXZpdHlJZCwgdGhpcy5vbmx5Q3JlYXRlT25jZShkYXRhLmlkKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBYdXQuVmlkZW9NYW5hZ2VyLnRyaWdnZXIoY2hhcHRlcklkLCBkYXRhLmFjdGl2aXR5SWQsICQoZGF0YS5yb290Tm9kZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgLy/oh6rliqjov5DooYxcclxuICAgIGF1dG9QbGF5OiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gZGF0YS5jYXRlZ29yeTtcclxuICAgICAgICBpZiAoIWNhdGVnb3J5KSByZXR1cm47XHJcbiAgICAgICAgdmFyIHJvb3ROb2RlID0gZGF0YS5yb290Tm9kZSxcclxuICAgICAgICAgICAgcGFnZUluZGV4ID0gZGF0YS5wYWdlSW5kZXgsXHJcbiAgICAgICAgICAgIGNoYXB0ZXJJZCA9IGRhdGEuY2hhcHRlcklkLFxyXG4gICAgICAgICAgICBhY3Rpdml0eUlkID0gZGF0YS5pZCxcclxuICAgICAgICAgICAgdHJpZ2dlclR5cGUgPSBjYXRlZ29yeSA9PSAnYXVkaW8nID8gJ2F1ZGlvTWFuYWdlcicgOiAndmlkZW9NYW5hZ2VyJztcclxuXHJcbiAgICAgICAgLy/mlbDmja7lupPop4bpopHpn7PpopHkuI3op4TliJnpl67popjlr7zoh7RcclxuICAgICAgICAvL+mmluWtl+avjeWkp+WGmVxyXG4gICAgICAgIHZhciBtZWRpYVR5cGUgPSBjYXRlZ29yeS5yZXBsYWNlKC8oXFx3KS8sIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9VcHBlckNhc2UoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v6Ieq5Yqo6Z+z6aKRXHJcbiAgICAgICAgaWYgKGNhdGVnb3J5ID09ICdhdWRpbycpIHtcclxuICAgICAgICAgICAgWHV0LkF1ZGlvTWFuYWdlci5hdXRvUGxheShjaGFwdGVySWQsIGFjdGl2aXR5SWQsIHRoaXMub25seUNyZWF0ZU9uY2UoZGF0YS5pZCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v6Ieq5Yqo6KeG6aKRXHJcbiAgICAgICAgICAgIFh1dC5WaWRlb01hbmFnZXIuYXV0b1BsYXkoY2hhcHRlcklkLCBhY3Rpdml0eUlkLCByb290Tm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7TWVkaWF9XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvbWVkaWEuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 86 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ShowNote = undefined;\n\nvar _ShowNote = __webpack_require__(27);\n\nvar ShowNote = {\n\n    //==========创建热点元素结构（用于布局可触发点）===============\n    //\n    // 根据数据创建自己的热点元素结构（用于拼接结构字符串）\n    //\n    // 要retrun返回这个结构，主要是多人操作时,保证只有最终的dom渲染只有一次\n    //actType + \"_\" + _id\n    createDom: function createDom(activityData, chpaterData, chapterId, pageIndex, zIndex, pageType) {\n        var retStr = \"\",\n            newWidth,\n            id = activityData['_id'],\n            width = activityData.scaleWidth,\n            height = activityData.scaleHeight,\n            newWidth = (width + height) / 2 * Xut.config.iconHeight;\n\n        retStr += '<div id=\"ShowNote_' + id + '\" class=\"xut-showNote\" data-belong =' + pageType + ' data-delegate=\"ShowNote\" style=\"width:' + newWidth + 'px;height:' + newWidth + 'px\"></div>';\n        return retStr;\n    },\n\n    /**\r\n     * touchEnd 全局派发的点击事件\r\n     * 如果stopGlobalEvent == ture 事件由全局派发\r\n     */\n    eventDelegate: function eventDelegate(data) {\n        data.data = Xut.Presentation.GetPageData(data.pageIndex);\n        new _ShowNote.ShowNote(data);\n    },\n\n    //自动运行生成Action或者widget触发点对象\n    autoPlay: function autoPlay(opts) {},\n\n    /**\r\n     * 翻页后处理页面中活动热点的状态\r\n     * @param  {[type]} activeObejct [需要处理的活动对象]\r\n     *\r\n     * 比如音频,视频 翻页需要暂停，也可以销毁\r\n     */\n    flipOver: function flipOver(opts) {\n        //console.log('翻页处理活动对象', activeObejct ,pageIndex);\n    },\n\n    /**\r\n     * 销毁页面hotspot事件与Action或widget事件\r\n     * @param  {[type]} activeObejct [需要处理的活动对象]\r\n     * @param  {[type]} pageIndex    [页码标示]\r\n     * @param  {[type]} rootEle      [根元素]\r\n     * @return {[type]}              [description]\r\n     */\n    destroy: function destroy(opts) {\n        this && this.destroy();\n    },\n\n    //========复位对象==========\n    //\n    //  通过按物理键，关闭当前热点\n    //\n    //  @return 如果当前没有需要处理的Action,\n    //  需要返回一个状态标示告诉当前是否应该退出应用\n    //\n    recovery: function recovery(opts) {\n        if (this.state) {\n            this.dispatchProcess();\n            return true;\n        }\n        return false;\n    }\n};\n\nexports.ShowNote = ShowNote;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvc2hvd25vdGUuanM/NGY3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBRUEsSUFBSSxXQUFXOzs7Ozs7OztBQVFYLGVBQVcsbUJBQVMsWUFBVCxFQUF1QixXQUF2QixFQUFvQyxTQUFwQyxFQUErQyxTQUEvQyxFQUEwRCxNQUExRCxFQUFrRSxRQUFsRSxFQUE0RTtBQUNuRixZQUFJLFNBQVMsRUFBYjtZQUNJLFFBREo7WUFFSSxLQUFLLGFBQWEsS0FBYixDQUZUO1lBR0ksUUFBUSxhQUFhLFVBSHpCO1lBSUksU0FBUyxhQUFhLFdBSjFCO1lBS0ksV0FBVyxDQUFDLFFBQVEsTUFBVCxJQUFtQixDQUFuQixHQUF1QixJQUFJLE1BQUosQ0FBVyxVQUxqRDs7QUFPQSxrQkFBVSx1QkFBdUIsRUFBdkIsR0FBNEIsc0NBQTVCLEdBQXFFLFFBQXJFLEdBQWdGLHlDQUFoRixHQUE0SCxRQUE1SCxHQUF1SSxZQUF2SSxHQUFzSixRQUF0SixHQUFpSyxZQUEzSztBQUNBLGVBQU8sTUFBUDtBQUNILEtBbEJVOzs7Ozs7QUF3QlgsbUJBQWUsdUJBQVMsSUFBVCxFQUFlO0FBQzFCLGFBQUssSUFBTCxHQUFZLElBQUksWUFBSixDQUFpQixXQUFqQixDQUE2QixLQUFLLFNBQWxDLENBQVo7QUFDQSwrQkFBa0IsSUFBbEI7QUFDSCxLQTNCVTs7O0FBOEJYLGNBQVUsa0JBQVMsSUFBVCxFQUFlLENBQUUsQ0E5QmhCOzs7Ozs7OztBQXNDWCxjQUFVLGtCQUFTLElBQVQsRUFBZTs7QUFFeEIsS0F4Q1U7Ozs7Ozs7OztBQWtEWCxhQUFTLGlCQUFTLElBQVQsRUFBZTtBQUNwQixnQkFBUSxLQUFLLE9BQUwsRUFBUjtBQUNILEtBcERVOzs7Ozs7Ozs7QUE2RFgsY0FBVSxrQkFBUyxJQUFULEVBQWU7QUFDckIsWUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDWixpQkFBSyxlQUFMO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBQ0QsZUFBTyxLQUFQO0FBQ0g7QUFuRVUsQ0FBZjs7UUF1RVMsUSxHQUFBLFEiLCJmaWxlIjoiODYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgU2hvd05vdGUgYXMgU2hvd05vdGVDbGFzcyB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudC9TaG93Tm90ZSdcclxuXHJcbmxldCBTaG93Tm90ZSA9IHtcclxuXHJcbiAgICAvLz09PT09PT09PT3liJvlu7rng63ngrnlhYPntKDnu5PmnoTvvIjnlKjkuo7luIPlsYDlj6/op6blj5HngrnvvIk9PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvLyDmoLnmja7mlbDmja7liJvlu7roh6rlt7HnmoTng63ngrnlhYPntKDnu5PmnoTvvIjnlKjkuo7mi7zmjqXnu5PmnoTlrZfnrKbkuLLvvIlcclxuICAgIC8vXHJcbiAgICAvLyDopoFyZXRydW7ov5Tlm57ov5nkuKrnu5PmnoTvvIzkuLvopoHmmK/lpJrkurrmk43kvZzml7Ys5L+d6K+B5Y+q5pyJ5pyA57uI55qEZG9t5riy5p+T5Y+q5pyJ5LiA5qyhXHJcbiAgICAvL2FjdFR5cGUgKyBcIl9cIiArIF9pZFxyXG4gICAgY3JlYXRlRG9tOiBmdW5jdGlvbihhY3Rpdml0eURhdGEsIGNocGF0ZXJEYXRhLCBjaGFwdGVySWQsIHBhZ2VJbmRleCwgekluZGV4LCBwYWdlVHlwZSkge1xyXG4gICAgICAgIHZhciByZXRTdHIgPSBcIlwiLFxyXG4gICAgICAgICAgICBuZXdXaWR0aCxcclxuICAgICAgICAgICAgaWQgPSBhY3Rpdml0eURhdGFbJ19pZCddLFxyXG4gICAgICAgICAgICB3aWR0aCA9IGFjdGl2aXR5RGF0YS5zY2FsZVdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBhY3Rpdml0eURhdGEuc2NhbGVIZWlnaHQsXHJcbiAgICAgICAgICAgIG5ld1dpZHRoID0gKHdpZHRoICsgaGVpZ2h0KSAvIDIgKiBYdXQuY29uZmlnLmljb25IZWlnaHQ7XHJcblxyXG4gICAgICAgIHJldFN0ciArPSAnPGRpdiBpZD1cIlNob3dOb3RlXycgKyBpZCArICdcIiBjbGFzcz1cInh1dC1zaG93Tm90ZVwiIGRhdGEtYmVsb25nID0nICsgcGFnZVR5cGUgKyAnIGRhdGEtZGVsZWdhdGU9XCJTaG93Tm90ZVwiIHN0eWxlPVwid2lkdGg6JyArIG5ld1dpZHRoICsgJ3B4O2hlaWdodDonICsgbmV3V2lkdGggKyAncHhcIj48L2Rpdj4nO1xyXG4gICAgICAgIHJldHVybiByZXRTdHI7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdG91Y2hFbmQg5YWo5bGA5rS+5Y+R55qE54K55Ye75LqL5Lu2XHJcbiAgICAgKiDlpoLmnpxzdG9wR2xvYmFsRXZlbnQgPT0gdHVyZSDkuovku7bnlLHlhajlsYDmtL7lj5FcclxuICAgICAqL1xyXG4gICAgZXZlbnREZWxlZ2F0ZTogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGRhdGEuZGF0YSA9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZURhdGEoZGF0YS5wYWdlSW5kZXgpO1xyXG4gICAgICAgIG5ldyBTaG93Tm90ZUNsYXNzKGRhdGEpXHJcbiAgICB9LFxyXG5cclxuICAgIC8v6Ieq5Yqo6L+Q6KGM55Sf5oiQQWN0aW9u5oiW6ICFd2lkZ2V06Kem5Y+R54K55a+56LGhXHJcbiAgICBhdXRvUGxheTogZnVuY3Rpb24ob3B0cykge30sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnv7vpobXlkI7lpITnkIbpobXpnaLkuK3mtLvliqjng63ngrnnmoTnirbmgIFcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gYWN0aXZlT2JlamN0IFvpnIDopoHlpITnkIbnmoTmtLvliqjlr7nosaFdXHJcbiAgICAgKlxyXG4gICAgICog5q+U5aaC6Z+z6aKRLOinhumikSDnv7vpobXpnIDopoHmmoLlgZzvvIzkuZ/lj6/ku6XplIDmr4FcclxuICAgICAqL1xyXG4gICAgZmxpcE92ZXI6IGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfnv7vpobXlpITnkIbmtLvliqjlr7nosaEnLCBhY3RpdmVPYmVqY3QgLHBhZ2VJbmRleCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmUgOavgemhtemdomhvdHNwb3Tkuovku7bkuI5BY3Rpb27miJZ3aWRnZXTkuovku7ZcclxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gYWN0aXZlT2JlamN0IFvpnIDopoHlpITnkIbnmoTmtLvliqjlr7nosaFdXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHBhZ2VJbmRleCAgICBb6aG156CB5qCH56S6XVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSByb290RWxlICAgICAgW+agueWFg+e0oF1cclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgZGVzdHJveTogZnVuY3Rpb24ob3B0cykge1xyXG4gICAgICAgIHRoaXMgJiYgdGhpcy5kZXN0cm95KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vPT09PT09PT3lpI3kvY3lr7nosaE9PT09PT09PT09XHJcbiAgICAvL1xyXG4gICAgLy8gIOmAmui/h+aMieeJqeeQhumUru+8jOWFs+mXreW9k+WJjeeDreeCuVxyXG4gICAgLy9cclxuICAgIC8vICBAcmV0dXJuIOWmguaenOW9k+WJjeayoeaciemcgOimgeWkhOeQhueahEFjdGlvbixcclxuICAgIC8vICDpnIDopoHov5Tlm57kuIDkuKrnirbmgIHmoIfnpLrlkYror4nlvZPliY3mmK/lkKblupTor6XpgIDlh7rlupTnlKhcclxuICAgIC8vXHJcbiAgICByZWNvdmVyeTogZnVuY3Rpb24ob3B0cykge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9jZXNzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IFNob3dOb3RlIH1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvc2hvd25vdGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 87 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Widget = undefined;\n\nvar _adapter = __webpack_require__(54);\n\nvar Widget = {\n    //==========创建热点元素结构（用于布局可触发点）===============\n    //\n    // 根据数据创建自己的热点元素结构（用于拼接结构字符串）\n    //\n    // 要retrun返回这个结构，主要是多人操作时,保证只有最终的dom渲染只有一次\n    //\n    // sqlRet    具体动作对象的数据\n    // pageData  当前页面数据\n    // chaperId  当前页面的chapterId\n    // pageIndex 当前页面索引号\n    // zIndex    热点元素的层级\n    //\n    createDom: function createDom(activityData, chpaterData, chapterId, pageIndex, zIndex, pageType) {\n        var retStr = '',\n            layerId,\n            cssStyle,\n            autoPlay = activityData.autoPlay;\n\n        //如果是自动播放,则不创建结构\n        if (autoPlay) {\n            return retStr;\n        }\n\n        var backgroundImage = '',\n            width = activityData.scaleWidth,\n            height = activityData.scaleHeight,\n            top = activityData.scaleTop,\n            left = activityData.scaleLeft,\n            actType = activityData.actType,\n            md5 = activityData.md5;\n\n        //热点背景图\n        if (md5) {\n            backgroundImage = \"background-image: url(\" + Xut.config.pathAddress + md5 + \");\";\n        }\n\n        //创建触发点结构\n        layerId = actType + \"_\" + activityData._id;\n        cssStyle = 'cursor: pointer;width:' + width + 'px;height:' + height + 'px;left:' + left + 'px;top:' + top + 'px;background-size:100% 100%;position:absolute;z-index:' + zIndex + ';' + backgroundImage + '';\n\n        return String.format('<div id=\"{0}\"' + ' data-belong =\"{1}\"' + ' data-delegate=\"{2}\"'\n        // +' autoplay=\"{3}\"' svg打包不可以属性\n         + ' style=\"{4}\">' + ' </div>', layerId, pageType, actType, autoPlay, cssStyle);\n    },\n\n    //事件委托\n    //通过点击触发\n    eventDelegate: function eventDelegate(data) {\n        return (0, _adapter.Adapter)(data);\n    },\n\n    //在当前页面自动触发的通知\n    autoPlay: function autoPlay(data) {\n        (0, _adapter.Adapter)({\n            'rootNode': data.rootNode,\n            \"type\": data.type,\n            \"pageType\": data.pageType,\n            \"activityId\": data.id,\n            \"pageIndex\": data.pageIndex,\n            \"isAutoPlay\": true\n        });\n    },\n\n    /**\r\n     *  复位状态通知\r\n     *\r\n     *  作用：用户按页面右上角返回，或者pad手机上的物理返回键\r\n     *\r\n     *  那么：\r\n     *      1 按一次， 如果当前页面有活动热点，并且热点对象还在可视活动状态（比如文本，是显示，音频正在播放）\r\n     *        那么则调用此方法，做复位处理，即文本隐藏，音频关闭\r\n     *        然后返回true, 用于反馈给控制器,停止下一步调用\r\n     *        按第二次,则退出页面\r\n     *\r\n     *     2 按一次，如果没有活动的对象，return false,这直接退出页面\r\n     *\r\n     * @param  {[type]} activeObejct [description]\r\n     * @return {[type]}              [description]\r\n     */\n    recovery: function recovery(opts) {\n        return this.recovery();\n    }\n};\n\nexports.Widget = Widget;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9kaXNwZW5zZXIvd2lkZ2V0LmpzP2U2MTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLElBQUksU0FBUzs7Ozs7Ozs7Ozs7OztBQWFULGVBQVcsbUJBQVMsWUFBVCxFQUF1QixXQUF2QixFQUFvQyxTQUFwQyxFQUErQyxTQUEvQyxFQUEwRCxNQUExRCxFQUFrRSxRQUFsRSxFQUE0RTtBQUNuRixZQUFJLFNBQVMsRUFBYjtZQUNJLE9BREo7WUFFSSxRQUZKO1lBR0ksV0FBVyxhQUFhLFFBSDVCOzs7QUFNQSxZQUFJLFFBQUosRUFBYztBQUNWLG1CQUFPLE1BQVA7QUFDSDs7QUFFRCxZQUFJLGtCQUFrQixFQUF0QjtZQUNJLFFBQVEsYUFBYSxVQUR6QjtZQUVJLFNBQVMsYUFBYSxXQUYxQjtZQUdJLE1BQU0sYUFBYSxRQUh2QjtZQUlJLE9BQU8sYUFBYSxTQUp4QjtZQUtJLFVBQVUsYUFBYSxPQUwzQjtZQU1JLE1BQU0sYUFBYSxHQU52Qjs7O0FBU0EsWUFBSSxHQUFKLEVBQVM7QUFDTCw4QkFBa0IsMkJBQTJCLElBQUksTUFBSixDQUFXLFdBQXRDLEdBQW9ELEdBQXBELEdBQTBELElBQTVFO0FBQ0g7OztBQUdELGtCQUFVLFVBQVUsR0FBVixHQUFnQixhQUFhLEdBQXZDO0FBQ0EsbUJBQVcsMkJBQTJCLEtBQTNCLEdBQW1DLFlBQW5DLEdBQWtELE1BQWxELEdBQTJELFVBQTNELEdBQXdFLElBQXhFLEdBQStFLFNBQS9FLEdBQTJGLEdBQTNGLEdBQWlHLHlEQUFqRyxHQUE2SixNQUE3SixHQUFzSyxHQUF0SyxHQUE0SyxlQUE1SyxHQUE4TCxFQUF6TTs7QUFFQSxlQUFPLE9BQU8sTUFBUCxDQUNILGtCQUFrQixxQkFBbEIsR0FBMEM7O0FBQTFDLFdBRUUsZUFGRixHQUVvQixTQUhqQixFQUlILE9BSkcsRUFLSCxRQUxHLEVBTUgsT0FORyxFQU9ILFFBUEcsRUFRSCxRQVJHLENBQVA7QUFVSCxLQW5EUTs7OztBQXVEVCxtQkFBZSx1QkFBUyxJQUFULEVBQWU7QUFDMUIsZUFBTyxzQkFBUSxJQUFSLENBQVA7QUFDSCxLQXpEUTs7O0FBNERULGNBQVUsa0JBQVMsSUFBVCxFQUFlO0FBQ3JCLDhCQUFRO0FBQ0osd0JBQWUsS0FBSyxRQURoQjtBQUVKLG9CQUFlLEtBQUssSUFGaEI7QUFHSix3QkFBZSxLQUFLLFFBSGhCO0FBSUosMEJBQWUsS0FBSyxFQUpoQjtBQUtKLHlCQUFlLEtBQUssU0FMaEI7QUFNSiwwQkFBZTtBQU5YLFNBQVI7QUFRSCxLQXJFUTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUZULGNBQVUsa0JBQVMsSUFBVCxFQUFlO0FBQ3JCLGVBQU8sS0FBSyxRQUFMLEVBQVA7QUFDSDtBQXpGUSxDQUFiOztRQTZGUSxNLEdBQUEsTSIsImZpbGUiOiI4Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWRhcHRlcn0gZnJvbSAgJy4uLy4uLy4uL2NvbXBvbmVudC93aWRnZXQvYWRhcHRlcidcclxuXHJcbmxldCBXaWRnZXQgPSB7XHJcbiAgICAvLz09PT09PT09PT3liJvlu7rng63ngrnlhYPntKDnu5PmnoTvvIjnlKjkuo7luIPlsYDlj6/op6blj5HngrnvvIk9PT09PT09PT09PT09PT1cclxuICAgIC8vXHJcbiAgICAvLyDmoLnmja7mlbDmja7liJvlu7roh6rlt7HnmoTng63ngrnlhYPntKDnu5PmnoTvvIjnlKjkuo7mi7zmjqXnu5PmnoTlrZfnrKbkuLLvvIlcclxuICAgIC8vXHJcbiAgICAvLyDopoFyZXRydW7ov5Tlm57ov5nkuKrnu5PmnoTvvIzkuLvopoHmmK/lpJrkurrmk43kvZzml7Ys5L+d6K+B5Y+q5pyJ5pyA57uI55qEZG9t5riy5p+T5Y+q5pyJ5LiA5qyhXHJcbiAgICAvL1xyXG4gICAgLy8gc3FsUmV0ICAgIOWFt+S9k+WKqOS9nOWvueixoeeahOaVsOaNrlxyXG4gICAgLy8gcGFnZURhdGEgIOW9k+WJjemhtemdouaVsOaNrlxyXG4gICAgLy8gY2hhcGVySWQgIOW9k+WJjemhtemdoueahGNoYXB0ZXJJZFxyXG4gICAgLy8gcGFnZUluZGV4IOW9k+WJjemhtemdoue0ouW8leWPt1xyXG4gICAgLy8gekluZGV4ICAgIOeDreeCueWFg+e0oOeahOWxgue6p1xyXG4gICAgLy9cclxuICAgIGNyZWF0ZURvbTogZnVuY3Rpb24oYWN0aXZpdHlEYXRhLCBjaHBhdGVyRGF0YSwgY2hhcHRlcklkLCBwYWdlSW5kZXgsIHpJbmRleCwgcGFnZVR5cGUpIHtcclxuICAgICAgICB2YXIgcmV0U3RyID0gJycsXHJcbiAgICAgICAgICAgIGxheWVySWQsXHJcbiAgICAgICAgICAgIGNzc1N0eWxlLFxyXG4gICAgICAgICAgICBhdXRvUGxheSA9IGFjdGl2aXR5RGF0YS5hdXRvUGxheTtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK/oh6rliqjmkq3mlL4s5YiZ5LiN5Yib5bu657uT5p6EXHJcbiAgICAgICAgaWYgKGF1dG9QbGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXRTdHI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlID0gJycsXHJcbiAgICAgICAgICAgIHdpZHRoID0gYWN0aXZpdHlEYXRhLnNjYWxlV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IGFjdGl2aXR5RGF0YS5zY2FsZUhlaWdodCxcclxuICAgICAgICAgICAgdG9wID0gYWN0aXZpdHlEYXRhLnNjYWxlVG9wLFxyXG4gICAgICAgICAgICBsZWZ0ID0gYWN0aXZpdHlEYXRhLnNjYWxlTGVmdCxcclxuICAgICAgICAgICAgYWN0VHlwZSA9IGFjdGl2aXR5RGF0YS5hY3RUeXBlLFxyXG4gICAgICAgICAgICBtZDUgPSBhY3Rpdml0eURhdGEubWQ1O1xyXG5cclxuICAgICAgICAvL+eDreeCueiDjOaZr+WbvlxyXG4gICAgICAgIGlmIChtZDUpIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlID0gXCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBYdXQuY29uZmlnLnBhdGhBZGRyZXNzICsgbWQ1ICsgXCIpO1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liJvlu7rop6blj5Hngrnnu5PmnoRcclxuICAgICAgICBsYXllcklkID0gYWN0VHlwZSArIFwiX1wiICsgYWN0aXZpdHlEYXRhLl9pZDtcclxuICAgICAgICBjc3NTdHlsZSA9ICdjdXJzb3I6IHBvaW50ZXI7d2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O2xlZnQ6JyArIGxlZnQgKyAncHg7dG9wOicgKyB0b3AgKyAncHg7YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OicgKyB6SW5kZXggKyAnOycgKyBiYWNrZ3JvdW5kSW1hZ2UgKyAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mb3JtYXQoXHJcbiAgICAgICAgICAgICc8ZGl2IGlkPVwiezB9XCInICsgJyBkYXRhLWJlbG9uZyA9XCJ7MX1cIicgKyAnIGRhdGEtZGVsZWdhdGU9XCJ7Mn1cIidcclxuICAgICAgICAgICAgLy8gKycgYXV0b3BsYXk9XCJ7M31cIicgc3Zn5omT5YyF5LiN5Y+v5Lul5bGe5oCnXHJcbiAgICAgICAgICAgICsgJyBzdHlsZT1cIns0fVwiPicgKyAnIDwvZGl2PicsXHJcbiAgICAgICAgICAgIGxheWVySWQsXHJcbiAgICAgICAgICAgIHBhZ2VUeXBlLFxyXG4gICAgICAgICAgICBhY3RUeXBlLFxyXG4gICAgICAgICAgICBhdXRvUGxheSxcclxuICAgICAgICAgICAgY3NzU3R5bGVcclxuICAgICAgICApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+S6i+S7tuWnlOaJmFxyXG4gICAgLy/pgJrov4fngrnlh7vop6blj5FcclxuICAgIGV2ZW50RGVsZWdhdGU6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gQWRhcHRlcihkYXRhKVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+WcqOW9k+WJjemhtemdouiHquWKqOinpuWPkeeahOmAmuefpVxyXG4gICAgYXV0b1BsYXk6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBBZGFwdGVyKHtcclxuICAgICAgICAgICAgJ3Jvb3ROb2RlJyAgIDogZGF0YS5yb290Tm9kZSxcclxuICAgICAgICAgICAgXCJ0eXBlXCIgICAgICAgOiBkYXRhLnR5cGUsXHJcbiAgICAgICAgICAgIFwicGFnZVR5cGVcIiAgIDogZGF0YS5wYWdlVHlwZSxcclxuICAgICAgICAgICAgXCJhY3Rpdml0eUlkXCIgOiBkYXRhLmlkLFxyXG4gICAgICAgICAgICBcInBhZ2VJbmRleFwiICA6IGRhdGEucGFnZUluZGV4LFxyXG4gICAgICAgICAgICBcImlzQXV0b1BsYXlcIiA6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqICDlpI3kvY3nirbmgIHpgJrnn6VcclxuICAgICAqXHJcbiAgICAgKiAg5L2c55So77ya55So5oi35oyJ6aG16Z2i5Y+z5LiK6KeS6L+U5Zue77yM5oiW6ICFcGFk5omL5py65LiK55qE54mp55CG6L+U5Zue6ZSuXHJcbiAgICAgKlxyXG4gICAgICogIOmCo+S5iO+8mlxyXG4gICAgICogICAgICAxIOaMieS4gOasoe+8jCDlpoLmnpzlvZPliY3pobXpnaLmnInmtLvliqjng63ngrnvvIzlubbkuJTng63ngrnlr7nosaHov5jlnKjlj6/op4bmtLvliqjnirbmgIHvvIjmr5TlpoLmlofmnKzvvIzmmK/mmL7npLrvvIzpn7PpopHmraPlnKjmkq3mlL7vvIlcclxuICAgICAqICAgICAgICDpgqPkuYjliJnosIPnlKjmraTmlrnms5XvvIzlgZrlpI3kvY3lpITnkIbvvIzljbPmlofmnKzpmpDol4/vvIzpn7PpopHlhbPpl61cclxuICAgICAqICAgICAgICDnhLblkI7ov5Tlm550cnVlLCDnlKjkuo7lj43ppojnu5nmjqfliLblmags5YGc5q2i5LiL5LiA5q2l6LCD55SoXHJcbiAgICAgKiAgICAgICAg5oyJ56ys5LqM5qyhLOWImemAgOWHuumhtemdolxyXG4gICAgICpcclxuICAgICAqICAgICAyIOaMieS4gOasoe+8jOWmguaenOayoeaciea0u+WKqOeahOWvueixoe+8jHJldHVybiBmYWxzZSzov5nnm7TmjqXpgIDlh7rpobXpnaJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19IGFjdGl2ZU9iZWpjdCBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHJlY292ZXJ5OiBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjb3ZlcnkoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7V2lkZ2V0fVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS90aHJlYWQvZGlzcGVuc2VyL3dpZGdldC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 88 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _container = __webpack_require__(79);\n\nObject.keys(_container).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _container[key];\n    }\n  });\n});\n\nvar _background = __webpack_require__(77);\n\nObject.keys(_background).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _background[key];\n    }\n  });\n});\n\nvar _contents = __webpack_require__(82);\n\nObject.keys(_contents).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _contents[key];\n    }\n  });\n});\n\nvar _components = __webpack_require__(78);\n\nObject.keys(_components).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _components[key];\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZC9pbmRleC5qcz9hY2ZhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwiZmlsZSI6Ijg4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9jb250YWluZXInXHJcbmV4cG9ydCAqIGZyb20gJy4vYmFja2dyb3VuZCdcclxuZXhwb3J0ICogZnJvbSAnLi9jb250ZW50cydcclxuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzJ1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9wYWdlYmFzZS90aHJlYWQvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 89 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.assignedTasks = undefined;\n\nvar _parser = __webpack_require__(17);\n\nvar _index = __webpack_require__(88);\n\n//更新数据缓存\n//***********************************************************\n//\n//             多线程任务构建\n//\n//**********************************************************\n\n//数据解析\nfunction updataCache(pid, callback) {\n    var fn,\n        base = this,\n        pageType = base.pageType;\n\n    //缓存数据\n    function addCacheDas(namespace, data) {\n        var key;\n        if (!base.dataCache[namespace]) {\n            base.dataCache[namespace] = data;\n        } else {\n            for (key in data) {\n                base.dataCache[namespace][key] = data[key];\n            }\n        }\n    }\n\n    //增加数据缓存\n    function addCache(data, activitys, autoRunDas) {\n        addCacheDas(base.pageType, data); //挂载页面容器数据\n        addCacheDas('activitys', activitys); //挂载activitys数据\n        addCacheDas('autoRunDas', autoRunDas); //挂载自动运行数据\n    }\n\n    (0, _parser.query)(pageType, {\n        'pageIndex': pid,\n        'pageData': base.chapterDas,\n        'pptMaster': base.pptMaster\n    }, function (data, activitys, autoRunDas) {\n        addCache.apply(addCache, arguments);\n        callback(data);\n    });\n}\n\n/**\r\n * 分配Container构建任务\r\n * 1 同步数据\r\n * 2 构建容器\r\n * 3 给出构建回调,这里不能中断,翻页必须存在节点\r\n * 4 等待之后自动创建或者后台空闲创建之后的任务\r\n * @return {[type]} [description]\r\n */\n\n//子任务\nvar assignedTasks = {\n\n    'Container': function Container(taskCallback, base) {\n        //同步数据\n        updataCache.call(base, [base.pid], function () {\n            var pageData = base.baseData();\n            if (pageData.parameter) {\n                // contentMode 分为  0 或者 1\n                // 1 是dom模式\n                // 0 是canvas模式\n                // 以后如果其余的在增加\n                // 针对页面chapter中的parameter写入 contentMode   值为 1\n                // 针对每一个content中的parameter写入 contentMode 值为 1\n                // 如果是canvas模式的时候，同时也是能够存在dom模式是\n                try {\n                    var parameter = JSON.parse(pageData.parameter);\n                    if (parameter && parameter.contentMode && parameter.contentMode == 1) {\n                        //启动dom模式\n                        base.canvasRelated.enable = true;\n                    }\n                } catch (e) {\n                    console.log('JSON错误,chpterId为', base.chapterId, pageData.parameter);\n                }\n            }\n\n            //创建主容器\n            (0, _index.TaskContainer)({\n                'rootNode': base.root,\n                'prefix': base.pageType + \"-\" + (base.pageIndex + 1) + \"-\" + base.chapterId,\n                'pageType': base.pageType,\n                'pid': base.pid,\n                'baseData': pageData,\n                'virtualOffset': base.virtualOffset,\n                'initTransformParameter': base.createRelated.initTransformParameter,\n                'userStyle': base.userStyle //创建自定义style\n            }, taskCallback);\n        });\n    },\n\n    /**\r\n     *  分配背景构建任务\r\n     *    1 构建数据与结构,执行中断检测\r\n     *    2 绘制结构,执行回调\r\n     *\r\n     *  提供2组回调\r\n     *    1 构建数据结构 suspendCallback\r\n     *    2 执行innerhtml构建完毕 successCallback\r\n     */\n    'Background': function Background(taskCallback, base) {\n\n        if (base.checkInstanceTasks('background')) {\n            return;\n        }\n\n        var data = base.baseData(base.pid),\n\n        //构建中断回调\n        suspendCallback = function suspendCallback(innerNextTasks, innerSuspendTasks) {\n            base.nextTasks({\n                'taskName': '内部background',\n                'outSuspendTasks': innerSuspendTasks,\n                'outNextTasks': innerNextTasks\n            });\n        },\n\n        //获取数据成功回调\n        successCallback = function successCallback() {\n            taskCallback();\n        };\n\n        base.createRelated.cacheTasks['background'] = new _index.TaskBackground(base.getElement(), data, suspendCallback, successCallback);\n    },\n\n    /**\r\n     * 分配Components构建任务\r\n     * @return {[type]} [description]\r\n     */\n    'Components': function Components(taskCallback, base) {\n\n        if (base.checkInstanceTasks('components')) {\n            return;\n        }\n\n        var chapterDas = base.chapterDas,\n            baseData = base.baseData(),\n\n        //构建中断回调\n        suspendCallback = function suspendCallback(innerNextTasks, innerSuspendTasks) {\n            base.nextTasks({\n                'taskName': '内部widgets',\n                'outSuspendTasks': innerSuspendTasks,\n                'outNextTasks': innerNextTasks\n            });\n        },\n\n        //获取数据成功回调\n        successCallback = function successCallback() {\n            taskCallback();\n        };\n\n        base.createRelated.cacheTasks['components'] = new _index.TaskComponents({\n            'rootNode': base.getElement(),\n            'nodes': chapterDas['nodes'],\n            'pageOffset': chapterDas['pageOffset'],\n            'activitys': base.baseActivits(),\n            'chpaterData': baseData,\n            'chapterId': baseData['_id'],\n            'pid': base.pid,\n            'pageType': base.pageType,\n            'virtualOffset': base.virtualOffset\n        }, suspendCallback, successCallback);\n    },\n\n    /**\r\n     * 分配contetns构建任务\r\n     * @return {[type]} [description]\r\n     */\n    'Contetns': function Contetns(taskCallback, base) {\n\n        //通过content数据库为空处理\n        if (Xut.data.preventContent) {\n            return taskCallback();\n        }\n\n        if (base.checkInstanceTasks('contents')) {\n            return;\n        }\n\n        var chapterDas = base.chapterDas,\n            baseData = base.baseData(),\n            chapterId = baseData['_id'],\n            activitys = base.baseActivits(),\n\n\n        //生成钩子\n        // collector                : function (pageIndex, id, contentScope) {\n        // eventBinding             : function () { [native code] }\n        // floatMaters              : function (masters){\n        // registerAbstractActivity : function (pageIndex, type, contentsObjs) {\n        // successCallback          : function () {\n        // suspendCallback          : function (taskName, innerNextTasks, innerSuspendTasks) {\n        pageBaseHooks = _.extend({}, {\n            //构建中断回调\n            suspend: function suspend(taskName, innerNextTasks, innerSuspendTasks) {\n                //如果是当前页面构建,允许打断一次\n                var interrupt;\n                if (base.isAutoRun && taskName === 'strAfter') {\n                    interrupt = true;\n                }\n                base.nextTasks({\n                    'interrupt': interrupt,\n                    'taskName': '内部contents',\n                    'outSuspendTasks': innerSuspendTasks,\n                    'outNextTasks': innerNextTasks\n                });\n            },\n            //获取数据成功回调\n            success: function success() {\n                taskCallback();\n            }\n        }, base.listenerHooks);\n\n        base.createRelated.cacheTasks['contents'] = new _index.TaskContents({\n            'canvasRelated': base.canvasRelated,\n            'rootNode': base.root,\n            'element': base.getElement(),\n            'pageType': base.pageType,\n            'nodes': chapterDas['nodes'],\n            'pageOffset': chapterDas['pageOffset'],\n            'activitys': activitys,\n            'chpaterData': baseData,\n            'chapterId': chapterId,\n            'pageIndex': base.pageIndex,\n            'pid': base.pid,\n            'pageBaseHooks': pageBaseHooks,\n            'virtualOffset': base.virtualOffset,\n            'initTransformParameter': base.createRelated.initTransformParameter\n        });\n    }\n};\n\nexports.assignedTasks = assignedTasks;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3BhZ2ViYXNlL3RocmVhZHRhc2suanM/ODE4ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0E7O0FBRUE7Ozs7Ozs7Ozs7QUFJQSxTQUFTLFdBQVQsQ0FBcUIsR0FBckIsRUFBMEIsUUFBMUIsRUFBb0M7QUFDaEMsUUFBSSxFQUFKO1FBQ0ksT0FBTyxJQURYO1FBRUksV0FBVyxLQUFLLFFBRnBCOzs7QUFLQSxhQUFTLFdBQVQsQ0FBcUIsU0FBckIsRUFBZ0MsSUFBaEMsRUFBc0M7QUFDbEMsWUFBSSxHQUFKO0FBQ0EsWUFBSSxDQUFDLEtBQUssU0FBTCxDQUFlLFNBQWYsQ0FBTCxFQUFnQztBQUM1QixpQkFBSyxTQUFMLENBQWUsU0FBZixJQUE0QixJQUE1QjtBQUNILFNBRkQsTUFFTztBQUNILGlCQUFLLEdBQUwsSUFBWSxJQUFaLEVBQWtCO0FBQ2QscUJBQUssU0FBTCxDQUFlLFNBQWYsRUFBMEIsR0FBMUIsSUFBaUMsS0FBSyxHQUFMLENBQWpDO0FBQ0g7QUFDSjtBQUNKOzs7QUFHRCxhQUFTLFFBQVQsQ0FBa0IsSUFBbEIsRUFBd0IsU0FBeEIsRUFBbUMsVUFBbkMsRUFBK0M7QUFDM0Msb0JBQVksS0FBSyxRQUFqQixFQUEyQixJQUEzQixFO0FBQ0Esb0JBQVksV0FBWixFQUF5QixTQUF6QixFO0FBQ0Esb0JBQVksWUFBWixFQUEwQixVQUExQixFO0FBQ0g7O0FBRUQsdUJBQU0sUUFBTixFQUFnQjtBQUNaLHFCQUFhLEdBREQ7QUFFWixvQkFBWSxLQUFLLFVBRkw7QUFHWixxQkFBYSxLQUFLO0FBSE4sS0FBaEIsRUFJRyxVQUFTLElBQVQsRUFBZSxTQUFmLEVBQTBCLFVBQTFCLEVBQXNDO0FBQ3JDLGlCQUFTLEtBQVQsQ0FBZSxRQUFmLEVBQXlCLFNBQXpCO0FBQ0EsaUJBQVMsSUFBVDtBQUNILEtBUEQ7QUFRSDs7Ozs7Ozs7Ozs7O0FBV0QsSUFBSSxnQkFBZ0I7O0FBRWhCLGlCQUFhLG1CQUFT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QztBQU96RCx5QkFBYSxTQVA0QztBQVF6RCwyQkFBZSxRQVIwQztBQVN6RCx5QkFBYSxTQVQ0QztBQVV6RCx5QkFBYSxLQUFLLFNBVnVDO0FBV3pELG1CQUFPLEtBQUssR0FYNkM7QUFZekQsNkJBQWlCLGFBWndDO0FBYXpELDZCQUFpQixLQUFLLGFBYm1DO0FBY3pELHNDQUEwQixLQUFLLGFBQUwsQ0FBbUI7QUFkWSxTQUFqQixDQUE1QztBQWdCSDtBQS9LZSxDQUFwQjs7UUFrTFMsYSxHQUFBLGEiLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vXHJcbi8vICAgICAgICAgICAgIOWkmue6v+eoi+S7u+WKoeaehOW7ulxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbi8v5pWw5o2u6Kej5p6QXHJcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSAnLi4vbWFuYWdlci9wYXJzZXInXHJcbi8v5a2Q5Lu75YqhXHJcbmltcG9ydCB7IFRhc2tDb250YWluZXIsIFRhc2tCYWNrZ3JvdW5kLCBUYXNrQ29udGVudHMsIFRhc2tDb21wb25lbnRzIH0gZnJvbSAnLi90aHJlYWQvaW5kZXgnXHJcblxyXG5cclxuLy/mm7TmlrDmlbDmja7nvJPlrZhcclxuZnVuY3Rpb24gdXBkYXRhQ2FjaGUocGlkLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGZuLFxyXG4gICAgICAgIGJhc2UgPSB0aGlzLFxyXG4gICAgICAgIHBhZ2VUeXBlID0gYmFzZS5wYWdlVHlwZTtcclxuXHJcbiAgICAvL+e8k+WtmOaVsOaNrlxyXG4gICAgZnVuY3Rpb24gYWRkQ2FjaGVEYXMobmFtZXNwYWNlLCBkYXRhKSB7XHJcbiAgICAgICAgdmFyIGtleTtcclxuICAgICAgICBpZiAoIWJhc2UuZGF0YUNhY2hlW25hbWVzcGFjZV0pIHtcclxuICAgICAgICAgICAgYmFzZS5kYXRhQ2FjaGVbbmFtZXNwYWNlXSA9IGRhdGE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZS5kYXRhQ2FjaGVbbmFtZXNwYWNlXVtrZXldID0gZGF0YVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5aKe5Yqg5pWw5o2u57yT5a2YXHJcbiAgICBmdW5jdGlvbiBhZGRDYWNoZShkYXRhLCBhY3Rpdml0eXMsIGF1dG9SdW5EYXMpIHtcclxuICAgICAgICBhZGRDYWNoZURhcyhiYXNlLnBhZ2VUeXBlLCBkYXRhKTsgLy/mjILovb3pobXpnaLlrrnlmajmlbDmja5cclxuICAgICAgICBhZGRDYWNoZURhcygnYWN0aXZpdHlzJywgYWN0aXZpdHlzKTsgLy/mjILovb1hY3Rpdml0eXPmlbDmja5cclxuICAgICAgICBhZGRDYWNoZURhcygnYXV0b1J1bkRhcycsIGF1dG9SdW5EYXMpOyAvL+aMgui9veiHquWKqOi/kOihjOaVsOaNrlxyXG4gICAgfVxyXG5cclxuICAgIHF1ZXJ5KHBhZ2VUeXBlLCB7XHJcbiAgICAgICAgJ3BhZ2VJbmRleCc6IHBpZCxcclxuICAgICAgICAncGFnZURhdGEnOiBiYXNlLmNoYXB0ZXJEYXMsXHJcbiAgICAgICAgJ3BwdE1hc3Rlcic6IGJhc2UucHB0TWFzdGVyXHJcbiAgICB9LCBmdW5jdGlvbihkYXRhLCBhY3Rpdml0eXMsIGF1dG9SdW5EYXMpIHtcclxuICAgICAgICBhZGRDYWNoZS5hcHBseShhZGRDYWNoZSwgYXJndW1lbnRzKVxyXG4gICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliIbphY1Db250YWluZXLmnoTlu7rku7vliqFcclxuICogMSDlkIzmraXmlbDmja5cclxuICogMiDmnoTlu7rlrrnlmahcclxuICogMyDnu5nlh7rmnoTlu7rlm57osIMs6L+Z6YeM5LiN6IO95Lit5patLOe/u+mhteW/hemhu+WtmOWcqOiKgueCuVxyXG4gKiA0IOetieW+heS5i+WQjuiHquWKqOWIm+W7uuaIluiAheWQjuWPsOepuumXsuWIm+W7uuS5i+WQjueahOS7u+WKoVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnZhciBhc3NpZ25lZFRhc2tzID0ge1xyXG5cclxuICAgICdDb250YWluZXInOiBmdW5jdGlvbih0YXNrQ2FsbGJhY2ssIGJhc2UpIHtcclxuICAgICAgICAvL+WQjOatpeaVsOaNrlxyXG4gICAgICAgIHVwZGF0YUNhY2hlLmNhbGwoYmFzZSwgW2Jhc2UucGlkXSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWdlRGF0YSA9IGJhc2UuYmFzZURhdGEoKTtcclxuICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnBhcmFtZXRlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29udGVudE1vZGUg5YiG5Li6ICAwIOaIluiAhSAxXHJcbiAgICAgICAgICAgICAgICAvLyAxIOaYr2RvbeaooeW8j1xyXG4gICAgICAgICAgICAgICAgLy8gMCDmmK9jYW52YXPmqKHlvI9cclxuICAgICAgICAgICAgICAgIC8vIOS7peWQjuWmguaenOWFtuS9meeahOWcqOWinuWKoFxyXG4gICAgICAgICAgICAgICAgLy8g6ZKI5a+56aG16Z2iY2hhcHRlcuS4reeahHBhcmFtZXRlcuWGmeWFpSBjb250ZW50TW9kZSAgIOWAvOS4uiAxXHJcbiAgICAgICAgICAgICAgICAvLyDpkojlr7nmr4/kuIDkuKpjb250ZW505Lit55qEcGFyYW1ldGVy5YaZ5YWlIGNvbnRlbnRNb2RlIOWAvOS4uiAxXHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK9jYW52YXPmqKHlvI/nmoTml7blgJnvvIzlkIzml7bkuZ/mmK/og73lpJ/lrZjlnKhkb23mqKHlvI/mmK9cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IEpTT04ucGFyc2UocGFnZURhdGEucGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVyICYmIHBhcmFtZXRlci5jb250ZW50TW9kZSAmJiBwYXJhbWV0ZXIuY29udGVudE1vZGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WQr+WKqGRvbeaooeW8j1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLmNhbnZhc1JlbGF0ZWQuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0pTT07plJnor68sY2hwdGVySWTkuLonLCBiYXNlLmNoYXB0ZXJJZCwgcGFnZURhdGEucGFyYW1ldGVyKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+WIm+W7uuS4u+WuueWZqFxyXG4gICAgICAgICAgICBUYXNrQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICdyb290Tm9kZSc6IGJhc2Uucm9vdCxcclxuICAgICAgICAgICAgICAgICdwcmVmaXgnOiBiYXNlLnBhZ2VUeXBlICsgXCItXCIgKyAoYmFzZS5wYWdlSW5kZXggKyAxKSArIFwiLVwiICsgYmFzZS5jaGFwdGVySWQsXHJcbiAgICAgICAgICAgICAgICAncGFnZVR5cGUnOiBiYXNlLnBhZ2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgJ3BpZCc6IGJhc2UucGlkLFxyXG4gICAgICAgICAgICAgICAgJ2Jhc2VEYXRhJzogcGFnZURhdGEsXHJcbiAgICAgICAgICAgICAgICAndmlydHVhbE9mZnNldCc6IGJhc2UudmlydHVhbE9mZnNldCxcclxuICAgICAgICAgICAgICAgICdpbml0VHJhbnNmb3JtUGFyYW1ldGVyJzogYmFzZS5jcmVhdGVSZWxhdGVkLmluaXRUcmFuc2Zvcm1QYXJhbWV0ZXIsXHJcbiAgICAgICAgICAgICAgICAndXNlclN0eWxlJzogYmFzZS51c2VyU3R5bGUgLy/liJvlu7roh6rlrprkuYlzdHlsZVxyXG4gICAgICAgICAgICB9LCB0YXNrQ2FsbGJhY2spXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIOWIhumFjeiDjOaZr+aehOW7uuS7u+WKoVxyXG4gICAgICogICAgMSDmnoTlu7rmlbDmja7kuI7nu5PmnoQs5omn6KGM5Lit5pat5qOA5rWLXHJcbiAgICAgKiAgICAyIOe7mOWItue7k+aehCzmiafooYzlm57osINcclxuICAgICAqXHJcbiAgICAgKiAg5o+Q5L6bMue7hOWbnuiwg1xyXG4gICAgICogICAgMSDmnoTlu7rmlbDmja7nu5PmnoQgc3VzcGVuZENhbGxiYWNrXHJcbiAgICAgKiAgICAyIOaJp+ihjGlubmVyaHRtbOaehOW7uuWujOavlSBzdWNjZXNzQ2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgJ0JhY2tncm91bmQnOiBmdW5jdGlvbih0YXNrQ2FsbGJhY2ssIGJhc2UpIHtcclxuXHJcbiAgICAgICAgaWYgKGJhc2UuY2hlY2tJbnN0YW5jZVRhc2tzKCdiYWNrZ3JvdW5kJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSBiYXNlLmJhc2VEYXRhKGJhc2UucGlkKSxcclxuICAgICAgICAgICAgLy/mnoTlu7rkuK3mlq3lm57osINcclxuICAgICAgICAgICAgc3VzcGVuZENhbGxiYWNrID0gZnVuY3Rpb24oaW5uZXJOZXh0VGFza3MsIGlubmVyU3VzcGVuZFRhc2tzKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLm5leHRUYXNrcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Rhc2tOYW1lJzogJ+WGhemDqGJhY2tncm91bmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdvdXRTdXNwZW5kVGFza3MnOiBpbm5lclN1c3BlbmRUYXNrcyxcclxuICAgICAgICAgICAgICAgICAgICAnb3V0TmV4dFRhc2tzJzogaW5uZXJOZXh0VGFza3NcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvL+iOt+WPluaVsOaNruaIkOWKn+Wbnuiwg1xyXG4gICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRhc2tDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBiYXNlLmNyZWF0ZVJlbGF0ZWQuY2FjaGVUYXNrc1snYmFja2dyb3VuZCddID0gbmV3IFRhc2tCYWNrZ3JvdW5kKGJhc2UuZ2V0RWxlbWVudCgpLCBkYXRhLCBzdXNwZW5kQ2FsbGJhY2ssIHN1Y2Nlc3NDYWxsYmFjaylcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIbphY1Db21wb25lbnRz5p6E5bu65Lu75YqhXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgJ0NvbXBvbmVudHMnOiBmdW5jdGlvbih0YXNrQ2FsbGJhY2ssIGJhc2UpIHtcclxuXHJcbiAgICAgICAgaWYgKGJhc2UuY2hlY2tJbnN0YW5jZVRhc2tzKCdjb21wb25lbnRzJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNoYXB0ZXJEYXMgPSBiYXNlLmNoYXB0ZXJEYXMsXHJcbiAgICAgICAgICAgIGJhc2VEYXRhID0gYmFzZS5iYXNlRGF0YSgpLFxyXG4gICAgICAgICAgICAvL+aehOW7uuS4reaWreWbnuiwg1xyXG4gICAgICAgICAgICBzdXNwZW5kQ2FsbGJhY2sgPSBmdW5jdGlvbihpbm5lck5leHRUYXNrcywgaW5uZXJTdXNwZW5kVGFza3MpIHtcclxuICAgICAgICAgICAgICAgIGJhc2UubmV4dFRhc2tzKHtcclxuICAgICAgICAgICAgICAgICAgICAndGFza05hbWUnOiAn5YaF6YOod2lkZ2V0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ291dFN1c3BlbmRUYXNrcyc6IGlubmVyU3VzcGVuZFRhc2tzLFxyXG4gICAgICAgICAgICAgICAgICAgICdvdXROZXh0VGFza3MnOiBpbm5lck5leHRUYXNrc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8v6I635Y+W5pWw5o2u5oiQ5Yqf5Zue6LCDXHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdGFza0NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIGJhc2UuY3JlYXRlUmVsYXRlZC5jYWNoZVRhc2tzWydjb21wb25lbnRzJ10gPSBuZXcgVGFza0NvbXBvbmVudHMoe1xyXG4gICAgICAgICAgICAncm9vdE5vZGUnOiBiYXNlLmdldEVsZW1lbnQoKSxcclxuICAgICAgICAgICAgJ25vZGVzJzogY2hhcHRlckRhc1snbm9kZXMnXSxcclxuICAgICAgICAgICAgJ3BhZ2VPZmZzZXQnOiBjaGFwdGVyRGFzWydwYWdlT2Zmc2V0J10sXHJcbiAgICAgICAgICAgICdhY3Rpdml0eXMnOiBiYXNlLmJhc2VBY3Rpdml0cygpLFxyXG4gICAgICAgICAgICAnY2hwYXRlckRhdGEnOiBiYXNlRGF0YSxcclxuICAgICAgICAgICAgJ2NoYXB0ZXJJZCc6IGJhc2VEYXRhWydfaWQnXSxcclxuICAgICAgICAgICAgJ3BpZCc6IGJhc2UucGlkLFxyXG4gICAgICAgICAgICAncGFnZVR5cGUnOiBiYXNlLnBhZ2VUeXBlLFxyXG4gICAgICAgICAgICAndmlydHVhbE9mZnNldCc6IGJhc2UudmlydHVhbE9mZnNldFxyXG4gICAgICAgIH0sIHN1c3BlbmRDYWxsYmFjaywgc3VjY2Vzc0NhbGxiYWNrKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIbphY1jb250ZXRuc+aehOW7uuS7u+WKoVxyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgICdDb250ZXRucyc6IGZ1bmN0aW9uKHRhc2tDYWxsYmFjaywgYmFzZSkge1xyXG5cclxuICAgICAgICAvL+mAmui/h2NvbnRlbnTmlbDmja7lupPkuLrnqbrlpITnkIZcclxuICAgICAgICBpZiAoWHV0LmRhdGEucHJldmVudENvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhc2tDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJhc2UuY2hlY2tJbnN0YW5jZVRhc2tzKCdjb250ZW50cycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjaGFwdGVyRGFzID0gYmFzZS5jaGFwdGVyRGFzLFxyXG4gICAgICAgICAgICBiYXNlRGF0YSA9IGJhc2UuYmFzZURhdGEoKSxcclxuICAgICAgICAgICAgY2hhcHRlcklkID0gYmFzZURhdGFbJ19pZCddLFxyXG4gICAgICAgICAgICBhY3Rpdml0eXMgPSBiYXNlLmJhc2VBY3Rpdml0cygpLFxyXG5cclxuICAgICAgICAgICAgLy/nlJ/miJDpkqnlrZBcclxuICAgICAgICAgICAgLy8gY29sbGVjdG9yICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKHBhZ2VJbmRleCwgaWQsIGNvbnRlbnRTY29wZSkge1xyXG4gICAgICAgICAgICAvLyBldmVudEJpbmRpbmcgICAgICAgICAgICAgOiBmdW5jdGlvbiAoKSB7IFtuYXRpdmUgY29kZV0gfVxyXG4gICAgICAgICAgICAvLyBmbG9hdE1hdGVycyAgICAgICAgICAgICAgOiBmdW5jdGlvbiAobWFzdGVycyl7XHJcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyQWJzdHJhY3RBY3Rpdml0eSA6IGZ1bmN0aW9uIChwYWdlSW5kZXgsIHR5cGUsIGNvbnRlbnRzT2Jqcykge1xyXG4gICAgICAgICAgICAvLyBzdWNjZXNzQ2FsbGJhY2sgICAgICAgICAgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHN1c3BlbmRDYWxsYmFjayAgICAgICAgICA6IGZ1bmN0aW9uICh0YXNrTmFtZSwgaW5uZXJOZXh0VGFza3MsIGlubmVyU3VzcGVuZFRhc2tzKSB7XHJcbiAgICAgICAgICAgIHBhZ2VCYXNlSG9va3MgPSBfLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICAgICAgLy/mnoTlu7rkuK3mlq3lm57osINcclxuICAgICAgICAgICAgICAgIHN1c3BlbmQ6IGZ1bmN0aW9uKHRhc2tOYW1lLCBpbm5lck5leHRUYXNrcywgaW5uZXJTdXNwZW5kVGFza3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+W9k+WJjemhtemdouaehOW7uizlhYHorrjmiZPmlq3kuIDmrKFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJydXB0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2UuaXNBdXRvUnVuICYmIHRhc2tOYW1lID09PSAnc3RyQWZ0ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVycnVwdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UubmV4dFRhc2tzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ludGVycnVwdCc6IGludGVycnVwdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Rhc2tOYW1lJzogJ+WGhemDqGNvbnRlbnRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ291dFN1c3BlbmRUYXNrcyc6IGlubmVyU3VzcGVuZFRhc2tzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3V0TmV4dFRhc2tzJzogaW5uZXJOZXh0VGFza3NcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvL+iOt+WPluaVsOaNruaIkOWKn+Wbnuiwg1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza0NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGJhc2UubGlzdGVuZXJIb29rcyk7XHJcblxyXG5cclxuICAgICAgICBiYXNlLmNyZWF0ZVJlbGF0ZWQuY2FjaGVUYXNrc1snY29udGVudHMnXSA9IG5ldyBUYXNrQ29udGVudHMoe1xyXG4gICAgICAgICAgICAnY2FudmFzUmVsYXRlZCc6IGJhc2UuY2FudmFzUmVsYXRlZCxcclxuICAgICAgICAgICAgJ3Jvb3ROb2RlJzogYmFzZS5yb290LFxyXG4gICAgICAgICAgICAnZWxlbWVudCc6IGJhc2UuZ2V0RWxlbWVudCgpLFxyXG4gICAgICAgICAgICAncGFnZVR5cGUnOiBiYXNlLnBhZ2VUeXBlLFxyXG4gICAgICAgICAgICAnbm9kZXMnOiBjaGFwdGVyRGFzWydub2RlcyddLFxyXG4gICAgICAgICAgICAncGFnZU9mZnNldCc6IGNoYXB0ZXJEYXNbJ3BhZ2VPZmZzZXQnXSxcclxuICAgICAgICAgICAgJ2FjdGl2aXR5cyc6IGFjdGl2aXR5cyxcclxuICAgICAgICAgICAgJ2NocGF0ZXJEYXRhJzogYmFzZURhdGEsXHJcbiAgICAgICAgICAgICdjaGFwdGVySWQnOiBjaGFwdGVySWQsXHJcbiAgICAgICAgICAgICdwYWdlSW5kZXgnOiBiYXNlLnBhZ2VJbmRleCxcclxuICAgICAgICAgICAgJ3BpZCc6IGJhc2UucGlkLFxyXG4gICAgICAgICAgICAncGFnZUJhc2VIb29rcyc6IHBhZ2VCYXNlSG9va3MsXHJcbiAgICAgICAgICAgICd2aXJ0dWFsT2Zmc2V0JzogYmFzZS52aXJ0dWFsT2Zmc2V0LFxyXG4gICAgICAgICAgICAnaW5pdFRyYW5zZm9ybVBhcmFtZXRlcic6IGJhc2UuY3JlYXRlUmVsYXRlZC5pbml0VHJhbnNmb3JtUGFyYW1ldGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFzc2lnbmVkVGFza3MgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvcGFnZWJhc2UvdGhyZWFkdGFzay5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 90 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.sceneFactory = undefined;\n\nvar _layout = __webpack_require__(91);\n\nvar _index = __webpack_require__(1);\n\nvar _controller = __webpack_require__(19);\n\nvar _sysbar = __webpack_require__(102);\n\nvar _fnbar = __webpack_require__(101);\n\nvar _bookbar = __webpack_require__(99);\n\nvar _core = __webpack_require__(66);\n\n//工具栏\n\n\nvar config = void 0;\n\n//========================场景容器,工具栏创建相关================================\n\n/**\r\n * 分解工具栏配置文件\r\n * @return {[type]}          [description]\r\n */\n\n\n//vm\n\n//场景控制器\n//布局\nfunction parseTooBar(toolbar, tbType, pageMode) {\n\tif (toolbar = (0, _index.parseJSON)(toolbar)) {\n\t\t//兼容数据库中未指定的情况\n\t\tvar n = Number(toolbar.pageMode);\n\t\tpageMode = _.isFinite(n) ? n : pageMode;\n\t\tif (_.isString(toolbar.tbType)) {\n\t\t\ttbType = _.map(toolbar.tbType.split(','), function (num) {\n\t\t\t\treturn Number(num);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\t'tbType': tbType,\n\t\t'pageMode': pageMode\n\t};\n}\n\n/**\r\n * 主场景工具栏配置\r\n * pageMode:默认2 允许滑动,带翻页按钮\r\n * \r\n * @param  {[type]} scenarioId [description]\r\n * @return {[type]}            [description]\r\n */\nfunction pMainBar(scenarioId) {\n\tvar sectionRang = Xut.data.query('sectionRelated', scenarioId),\n\t    toolbar = sectionRang.toolbar,\n\t    //场景工具栏配置信息\n\tpagetotal = sectionRang.length,\n\t    tbType = [1],\n\t    //默认显示系统工具栏\n\tpageMode = pagetotal > 1 ? 2 : 0; //默认2 允许滑动,带翻页按钮\n\treturn parseTooBar(toolbar, tbType, pageMode);\n}\n\n/**\r\n * 副场景工具栏配置\r\n * pageMode 是否支持滑动翻页  0禁止滑动 1允许滑动\r\n * tbType   工具栏显示的类型 [0-5]\r\n */\nfunction pDeputyBar(toolbar, pagetotal) {\n\tvar tbType = [0],\n\t    pageMode = pagetotal > 1 ? 1 : 0;\n\treturn parseTooBar(toolbar, tbType, pageMode);\n}\n\n/**\r\n * 找到对应容器\r\n * @return {[type]}            [description]\r\n */\nfunction findContainer(elements, scenarioId, isMain) {\n\treturn function (pane, parallax) {\n\t\tvar node;\n\t\tif (isMain) {\n\t\t\tnode = '#' + pane;\n\t\t} else {\n\t\t\tnode = '#' + parallax + scenarioId;\n\t\t}\n\t\treturn elements.find(node)[0];\n\t};\n}\n\n/**\r\n * 如果启动了缓存记录\r\n * 加载新的场景\r\n * @return {[type]} [description]\r\n */\nfunction checkHistory(history) {\n\n\t//直接启用快捷调试模式\n\tif (config.deBugHistory) {\n\t\tXut.View.LoadScenario(config.deBugHistory);\n\t\treturn true;\n\t}\n\n\t//如果有历史记录\n\tif (history) {\n\t\tvar scenarioInfo = _controller.controll.seqReverse(history);\n\t\tif (scenarioInfo) {\n\t\t\tscenarioInfo = scenarioInfo.split('-');\n\t\t\tXut.View.LoadScenario({\n\t\t\t\t'scenarioId': scenarioInfo[0],\n\t\t\t\t'chapterId': scenarioInfo[1],\n\t\t\t\t'pageIndex': scenarioInfo[2]\n\t\t\t});\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\n/**\r\n * 场景创建类\r\n * @param  {[type]} seasonId               [description]\r\n * @param  {[type]} chapterId              [description]\r\n * @param  {[type]} createCompleteCallback [创建完毕通知回调]\r\n * @param  {[type]} createMode             [创建模式]\r\n * @param  {[type]} sceneChainId           [场景ID链,用于后退按钮加载前一个场景]\r\n * @return {[type]}                        [description]\r\n */\nfunction SceneFactory(data) {\n\n\tconfig = Xut.config;\n\n\t//基本配置信息\n\tvar seasonId = data.seasonId;\n\tvar chapterId = data.chapterId;\n\n\tvar options = _.extend(this, data, {\n\t\t'scenarioId': seasonId,\n\t\t'chapterId': chapterId,\n\t\t'container': $('#sceneContainer')\n\t});\n\n\t//////////////\n\t// 创建场景容器 //\n\t//////////////\n\tvar complete = function complete() {\n\t\t//配置工具栏行为\n\t\tif (!Xut.IBooks.Enabled) {\n\t\t\t_.extend(this, this.initToolBar());\n\t\t}\n\n\t\t//构件vm对象\n\t\tthis.createViewModel();\n\n\t\t//注入场景管理\n\t\t_controller.controll.add(seasonId, chapterId, this);\n\t};\n\tthis.createScenario(complete, options);\n}\n\nvar sceneProto = SceneFactory.prototype;\n\n/**\r\n * 创建场景\r\n * @return {[type]} [description]\r\n */\nsceneProto.createScenario = function (callback, options) {\n\n\t//如果是静态文件执行期\n\t//支持Xut.IBooks模式\n\t//都不需要创建节点\n\tif (Xut.IBooks.runMode()) {\n\t\tthis.elements = $('#sceneHome');\n\t\tcallback.call(this);\n\t\treturn;\n\t}\n\n\tvar elements,\n\t    str,\n\t    self = this;\n\tif (options.isMain) {\n\t\tstr = (0, _layout.home)();\n\t} else {\n\t\tstr = (0, _layout.scene)(this.scenarioId);\n\t}\n\n\t//创建场景容器\n\telements = this.elements = $(str);\n\tXut.nextTick({\n\t\t'container': self.container,\n\t\t'content': elements\n\t}, function () {\n\t\tcallback.call(self);\n\t});\n};\n\n/**\r\n * \r\n * 配置工具栏行为\r\n *\t1.\t工具栏类型 \r\n *\ttbType：(如果用户没有选择任何工具栏信息处理，tbType字段就为空)\r\n *\t 0\t禁止工具栏\r\n *\t 1\t系统工具栏   - 显示IOS系统工具栏\r\n *\t 2\t场景工具栏   - 显示关闭按钮\r\n *\t 3\t场景工具栏   - 显示返回按钮\r\n *\t 4\t场景工具栏   - 显示顶部小圆点式标示\r\n *\r\n *\t2.\t翻页模式\r\n *\tpageMode：(如果用户没有选择任何处理，pageMode字段就为空)\r\n *\t 0禁止滑动\r\n *\t 1 允许滑动无翻页按钮\r\n *\t 2 允许滑动带翻页按钮\r\n *\r\n * @return {[type]} [description]\r\n */\nsceneProto.initToolBar = function () {\n\tvar scenarioId = this.scenarioId;\n\tvar pageTotal = this.pageTotal;\n\tvar pageIndex = this.pageIndex;\n\tvar elements = this.elements;\n\tvar bar;\n\tvar findControlBar = function findControlBar() {\n\t\treturn elements.find('#controlBar');\n\t};\n\n\t/**\r\n  * 主场景工具栏设置\r\n  */\n\tif (this.isMain) {\n\t\tbar = pMainBar(scenarioId, pageTotal);\n\t\tif (config.scrollPaintingMode) {\n\t\t\t//word模式,自动启动工具条\n\t\t\tthis.sToolbar = new _bookbar.Bar({\n\t\t\t\tcontainer: elements,\n\t\t\t\tcontrolBar: findControlBar(),\n\t\t\t\tpageMode: bar.pageMode\n\t\t\t});\n\t\t} else if (_.some(bar.tbType)) {\n\t\t\t//普通模式\n\t\t\tthis.sToolbar = new _sysbar.sToolbar({\n\t\t\t\tcontainer: elements,\n\t\t\t\tcontrolBar: findControlBar(),\n\t\t\t\tpageTotal: pageTotal,\n\t\t\t\tcurrentPage: pageIndex + 1,\n\t\t\t\tpageMode: bar.pageMode\n\t\t\t});\n\t\t}\n\t} else {\n\t\t/**\r\n   * 副场景\r\n   * @type {[type]}\r\n   */\n\t\tbar = pDeputyBar(this.barInfo, pageTotal);\n\t\t//创建工具栏\n\t\tif (bar) {\n\t\t\tthis.cToolbar = new _fnbar.fToolbar({\n\t\t\t\tid: scenarioId,\n\t\t\t\tcontainer: elements,\n\t\t\t\ttbType: bar.tbType,\n\t\t\t\tpageTotal: pageTotal,\n\t\t\t\tcurrentPage: pageIndex,\n\t\t\t\tpageMode: bar.pageMode\n\t\t\t});\n\t\t}\n\t}\n\n\treturn bar;\n};\n\n/**\r\n * 构建创建对象\r\n * @return {[type]} [description]\r\n */\nsceneProto.createViewModel = function () {\n\n\tvar self = this;\n\tvar scenarioId = this.scenarioId;\n\tvar pageTotal = this.pageTotal;\n\tvar pageIndex = this.pageIndex;\n\tvar elements = this.elements;\n\tvar pageMode = this.pageMode;\n\tvar isMain = this.isMain;\n\tvar tempfind = findContainer(elements, scenarioId, isMain);\n\t//页面容器\n\tvar scenarioPage = tempfind('pageContainer', 'scenarioPage-');\n\t//视差容器\n\tvar scenarioMaster = tempfind('masterContainer', 'scenarioMaster-');\n\n\t//场景容器对象\n\tvar vm = this.vm = new _core.Manager({\n\t\t'container': this.elements[0],\n\t\t'pageMode': pageMode,\n\t\t'multiScenario': !isMain,\n\t\t'rootPage': scenarioPage,\n\t\t'rootMaster': scenarioMaster,\n\t\t'initIndex': pageIndex, //保存索引从0开始\n\t\t'pagetotal': pageTotal,\n\t\t'sectionRang': this.sectionRang,\n\t\t'scenarioId': scenarioId,\n\t\t'chapterId': this.chapterId,\n\t\t'isInApp': this.isInApp //提示页面\n\t});\n\n\t/**\r\n  * 配置选项\r\n  * @type {[type]}\r\n  */\n\tvar isToolbar = this.isToolbar = this.cToolbar ? this.cToolbar : this.sToolbar;\n\n\t/**\r\n  * 监听翻页\r\n  * 用于更新页码\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('pageUpdate', function (pageIndex) {\n\t\tisToolbar && isToolbar.updatePointer(pageIndex);\n\t});\n\n\t/**\r\n  * 显示下一页按钮\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('showNext', function () {\n\t\tisToolbar && isToolbar.showNext();\n\t});\n\n\t/**\r\n  * 隐藏下一页按钮\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('hideNext', function () {\n\t\tisToolbar && isToolbar.hideNext();\n\t});\n\n\t/**\r\n  * 显示上一页按钮\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('showPrev', function () {\n\t\tisToolbar && isToolbar.showPrev();\n\t});\n\n\t/**\r\n  * 隐藏上一页按钮\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('hidePrev', function () {\n\t\tisToolbar && isToolbar.hidePrev();\n\t});\n\n\t/**\r\n  * 切换工具栏\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('toggleToolbar', function (state, pointer) {\n\t\tisToolbar && isToolbar.toggle(state, pointer);\n\t});\n\n\t/**\r\n  * 复位工具栏\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('resetToolbar', function () {\n\t\tself.sToolbar && self.sToolbar.reset();\n\t});\n\n\t/**\r\n  * 监听创建完成\r\n  * @return {[type]} [description]\r\n  */\n\tvm.$bind('createComplete', function (nextAction) {\n\t\tself.complete && setTimeout(function () {\n\t\t\tif (isMain) {\n\t\t\t\tself.complete(function () {\n\t\t\t\t\tXut.View.HideBusy();\n\t\t\t\t\t//检测是不是有缓存加载\n\t\t\t\t\tif (!checkHistory(self.history)) {\n\t\t\t\t\t\t//指定自动运行的动作\n\t\t\t\t\t\tnextAction && nextAction();\n\t\t\t\t\t}\n\t\t\t\t\t//全局接口,应用加载完毕\n\t\t\t\t\tXut.Application.AddEventListener();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.complete(nextAction);\n\t\t\t}\n\t\t}, 200);\n\t});\n\n\t//如果是读酷端加载\n\tif (DUKUCONFIG && isMain && DUKUCONFIG.success) {\n\t\tDUKUCONFIG.success();\n\t\tvm.$init();\n\t\t//如果是客户端加载\n\t} else if (CLIENTCONFIGT && isMain && CLIENTCONFIGT.success) {\n\t\t\tCLIENTCONFIGT.success();\n\t\t\tvm.$init();\n\t\t} else {\n\t\t\t//正常加载\n\t\t\tvm.$init();\n\t\t}\n\n\t/**\r\n  * 绑定桌面调试\r\n  */\n\tconfig.debugMode && Xut.plat.isBrowser && this.bindWatch();\n};\n\n/**\r\n * 为桌面测试\r\n * 绑定调试\r\n * @return {[type]} [description]\r\n */\nsceneProto.bindWatch = function () {\n\t// for test\n\tif (Xut.plat.isBrowser) {\n\t\tvar vm = this.vm;\n\t\tthis.testWatch = $(\".xut-controlBar-pageNum\").click(function () {\n\t\t\tconsole.log('主场景', vm);\n\t\t\tconsole.log('主场景容器', vm.$scheduler.pageMgr.Collections);\n\t\t\tconsole.log('主场景视觉差容器', vm.$scheduler.parallaxMgr && vm.$scheduler.parallaxMgr.Collections);\n\t\t\tconsole.log('多场景', _controller.controll.expose());\n\t\t\tconsole.log('音频', Xut.AudioManager);\n\t\t\tconsole.log('视频', Xut.VideoManager);\n\t\t\tconsole.log('数据库', Xut.data);\n\t\t});\n\t}\n};\n\n//=============================退出处理,销毁=============================================\n\n/**\r\n * 销毁场景对象\r\n * @return {[type]} [description]\r\n */\nsceneProto.destroy = function () {\n\t/**\r\n  * 桌面调试\r\n  */\n\tif (this.testWatch) {\n\t\tthis.testWatch.off();\n\t\tthis.testWatch = null;\n\t}\n\n\t/**\r\n  * 销毁当前场景\r\n  */\n\tthis.vm.$destroy();\n\n\t/**\r\n  * 销毁工具栏\r\n  */\n\tif (this.isToolbar) {\n\t\tthis.isToolbar.destroy();\n\t\tthis.isToolbar = null;\n\t}\n\n\tthis.container = null;\n\n\t//销毁节点\n\tthis.elements.off();\n\tthis.elements.remove();\n\tthis.elements = null;\n\n\t//销毁引用\n\t_controller.controll.remove(this.scenarioId);\n};\n\nexports.sceneFactory = SceneFactory;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjZW5hcmlvL2ZhY3RvcnkuanM/NzZiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBSUE7O0FBS0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBR0E7Ozs7O0FBRUEsSUFBSSxlQUFKOzs7Ozs7Ozs7Ozs7OztBQVFBLFNBQVMsV0FBVCxDQUFxQixPQUFyQixFQUE4QixNQUE5QixFQUFzQyxRQUF0QyxFQUFnRDtBQUMvQyxLQUFJLFVBQVUsc0JBQVUsT0FBVixDQUFkLEVBQWtDOztBQUVqQyxNQUFJLElBQUksT0FBTyxRQUFRLFFBQWYsQ0FBUjtBQUNBLGFBQVcsRUFBRSxRQUFGLENBQVcsQ0FBWCxJQUFnQixDQUFoQixHQUFvQixRQUEvQjtBQUNBLE1BQUksRUFBRSxRQUFGLENBQVcsUUFBUSxNQUFuQixDQUFKLEVBQWdDO0FBQy9CLFlBQVMsRUFBRSxHQUFGLENBQU0sUUFBUSxNQUFSLENBQWUsS0FBZixDQUFxQixHQUFyQixDQUFOLEVBQWlDLFVBQVMsR0FBVCxFQUFjO0FBQ3ZELFdBQU8sT0FBTyxHQUFQLENBQVA7QUFDQSxJQUZRLENBQVQ7QUFHQTtBQUVEO0FBQ0QsUUFBTztBQUNOLFlBQVUsTUFESjtBQUVOLGNBQVk7QUFGTixFQUFQO0FBSUE7Ozs7Ozs7OztBQVVELFNBQVMsUUFBVCxDQUFrQixVQUFsQixFQUE4QjtBQUM3QixLQUFJLGNBQWMsSUFBSSxJQUFKLENBQVMsS0FBVCxDQUFlLGdCQUFmLEVBQWlDLFVBQWpDLENBQWxCO0tBQ0MsVUFBVSxZQUFZLE9BRHZCOztBQUVDLGFBQVksWUFBWSxNQUZ6QjtLQUdDLFNBQVMsQ0FBQyxDQUFELENBSFY7O0FBSUMsWUFBVyxZQUFZLENBQVosR0FBZ0IsQ0FBaEIsR0FBb0IsQ0FKaEMsQztBQUtBLFFBQU8sWUFBWSxPQUFaLEVBQXFCLE1BQXJCLEVBQTZCLFFBQTdCLENBQVA7QUFDQTs7Ozs7OztBQVFELFNBQVMsVUFBVCxDQUFvQixPQUFw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Ozs7OztBQUtELE1BQUssRUFBTCxDQUFRLFFBQVI7Ozs7O0FBS0EsS0FBSSxLQUFLLFNBQVQsRUFBb0I7QUFDbkIsT0FBSyxTQUFMLENBQWUsT0FBZjtBQUNBLE9BQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBOztBQUVELE1BQUssU0FBTCxHQUFpQixJQUFqQjs7O0FBR0EsTUFBSyxRQUFMLENBQWMsR0FBZDtBQUNBLE1BQUssUUFBTCxDQUFjLE1BQWQ7QUFDQSxNQUFLLFFBQUwsR0FBZ0IsSUFBaEI7OztBQUdBLHNCQUFjLE1BQWQsQ0FBcUIsS0FBSyxVQUExQjtBQUNBLENBL0JEOztRQW9DaUIsWSxHQUFoQixZIiwiZmlsZSI6IjkwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/luIPlsYBcclxuaW1wb3J0IHtcclxuXHRob21lLCBzY2VuZVxyXG59XHJcbmZyb20gJy4vbGF5b3V0J1xyXG5pbXBvcnQge1xyXG5cdHBhcnNlSlNPTlxyXG59XHJcbmZyb20gJy4uL3V0aWwvaW5kZXgnXHJcbi8v5Zy65pmv5o6n5Yi25ZmoXHJcbmltcG9ydCB7Y29udHJvbGwgYXMgc2NlbmVDb250cm9sbH0gZnJvbSAnLi9jb250cm9sbGVyJ1xyXG4vL+W3peWFt+agj1xyXG5pbXBvcnQge3NUb29sYmFyIGFzIE1haW5CYXJ9IGZyb20gJy4uL3Rvb2xiYXIvc3lzYmFyJ1xyXG5pbXBvcnQge2ZUb29sYmFyIGFzIERlcHV0eUJhcn0gZnJvbSAnLi4vdG9vbGJhci9mbmJhcidcclxuaW1wb3J0IHtCYXIgYXMgQm9va1Rvb2xCYXJ9IGZyb20gJy4uL3Rvb2xiYXIvYm9va2JhcidcclxuXHJcbi8vdm1cclxuaW1wb3J0IHtNYW5hZ2VyfSBmcm9tICcuLi9tYW5hZ2VyL2NvcmUnXHJcbiBcclxubGV0IGNvbmZpZ1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT3lnLrmma/lrrnlmags5bel5YW35qCP5Yib5bu655u45YWzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiDliIbop6Plt6XlhbfmoI/phY3nva7mlofku7ZcclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZVRvb0Jhcih0b29sYmFyLCB0YlR5cGUsIHBhZ2VNb2RlKSB7XHJcblx0aWYgKHRvb2xiYXIgPSBwYXJzZUpTT04odG9vbGJhcikpIHtcclxuXHRcdC8v5YW85a655pWw5o2u5bqT5Lit5pyq5oyH5a6a55qE5oOF5Ya1XHJcblx0XHR2YXIgbiA9IE51bWJlcih0b29sYmFyLnBhZ2VNb2RlKTtcclxuXHRcdHBhZ2VNb2RlID0gXy5pc0Zpbml0ZShuKSA/IG4gOiBwYWdlTW9kZTtcclxuXHRcdGlmIChfLmlzU3RyaW5nKHRvb2xiYXIudGJUeXBlKSkge1xyXG5cdFx0XHR0YlR5cGUgPSBfLm1hcCh0b29sYmFyLnRiVHlwZS5zcGxpdCgnLCcpLCBmdW5jdGlvbihudW0pIHtcclxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyKG51bSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHR9IFxyXG5cdHJldHVybiB7XHJcblx0XHQndGJUeXBlJzogdGJUeXBlLFxyXG5cdFx0J3BhZ2VNb2RlJzogcGFnZU1vZGVcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Li75Zy65pmv5bel5YW35qCP6YWN572uXHJcbiAqIHBhZ2VNb2RlOum7mOiupDIg5YWB6K645ruR5YqoLOW4pue/u+mhteaMiemSrlxyXG4gKiBcclxuICogQHBhcmFtICB7W3R5cGVdfSBzY2VuYXJpb0lkIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHBNYWluQmFyKHNjZW5hcmlvSWQpIHtcclxuXHR2YXIgc2VjdGlvblJhbmcgPSBYdXQuZGF0YS5xdWVyeSgnc2VjdGlvblJlbGF0ZWQnLCBzY2VuYXJpb0lkKSxcclxuXHRcdHRvb2xiYXIgPSBzZWN0aW9uUmFuZy50b29sYmFyLCAvL+WcuuaZr+W3peWFt+agj+mFjee9ruS/oeaBr1xyXG5cdFx0cGFnZXRvdGFsID0gc2VjdGlvblJhbmcubGVuZ3RoLFxyXG5cdFx0dGJUeXBlID0gWzFdLCAvL+m7mOiupOaYvuekuuezu+e7n+W3peWFt+agj1xyXG5cdFx0cGFnZU1vZGUgPSBwYWdldG90YWwgPiAxID8gMiA6IDA7IC8v6buY6K6kMiDlhYHorrjmu5Hliqgs5bim57+76aG15oyJ6ZKuXHJcblx0cmV0dXJuIHBhcnNlVG9vQmFyKHRvb2xiYXIsIHRiVHlwZSwgcGFnZU1vZGUpXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Ymv5Zy65pmv5bel5YW35qCP6YWN572uXHJcbiAqIHBhZ2VNb2RlIOaYr+WQpuaUr+aMgea7keWKqOe/u+mhtSAgMOemgeatoua7keWKqCAx5YWB6K645ruR5YqoXHJcbiAqIHRiVHlwZSAgIOW3peWFt+agj+aYvuekuueahOexu+WeiyBbMC01XVxyXG4gKi9cclxuZnVuY3Rpb24gcERlcHV0eUJhcih0b29sYmFyLCBwYWdldG90YWwpIHtcclxuXHR2YXIgdGJUeXBlID0gWzBdLFxyXG5cdFx0cGFnZU1vZGUgPSBwYWdldG90YWwgPiAxID8gMSA6IDA7XHJcblx0cmV0dXJuIHBhcnNlVG9vQmFyKHRvb2xiYXIsIHRiVHlwZSwgcGFnZU1vZGUpXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5om+5Yiw5a+55bqU5a655ZmoXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kQ29udGFpbmVyKGVsZW1lbnRzLCBzY2VuYXJpb0lkLCBpc01haW4pIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ocGFuZSwgcGFyYWxsYXgpIHtcclxuXHRcdHZhciBub2RlO1xyXG5cdFx0aWYgKGlzTWFpbikge1xyXG5cdFx0XHRub2RlID0gJyMnICsgcGFuZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vZGUgPSAnIycgKyBwYXJhbGxheCArIHNjZW5hcmlvSWQ7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZWxlbWVudHMuZmluZChub2RlKVswXTtcclxuXHR9XHJcbn1cclxuXHJcbiBcclxuLyoqXHJcbiAqIOWmguaenOWQr+WKqOS6hue8k+WtmOiusOW9lVxyXG4gKiDliqDovb3mlrDnmoTlnLrmma9cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja0hpc3RvcnkoaGlzdG9yeSkge1xyXG5cclxuXHQvL+ebtOaOpeWQr+eUqOW/q+aNt+iwg+ivleaooeW8j1xyXG5cdGlmIChjb25maWcuZGVCdWdIaXN0b3J5KSB7XHJcblx0XHRYdXQuVmlldy5Mb2FkU2NlbmFyaW8oY29uZmlnLmRlQnVnSGlzdG9yeSlcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0Ly/lpoLmnpzmnInljoblj7LorrDlvZVcclxuXHRpZiAoaGlzdG9yeSkge1xyXG5cdFx0dmFyIHNjZW5hcmlvSW5mbyA9IHNjZW5lQ29udHJvbGwuc2VxUmV2ZXJzZShoaXN0b3J5KVxyXG5cdFx0aWYgKHNjZW5hcmlvSW5mbykge1xyXG5cdFx0XHRzY2VuYXJpb0luZm8gPSBzY2VuYXJpb0luZm8uc3BsaXQoJy0nKTtcclxuXHRcdFx0WHV0LlZpZXcuTG9hZFNjZW5hcmlvKHtcclxuXHRcdFx0XHQnc2NlbmFyaW9JZCc6IHNjZW5hcmlvSW5mb1swXSxcclxuXHRcdFx0XHQnY2hhcHRlcklkJzogc2NlbmFyaW9JbmZvWzFdLFxyXG5cdFx0XHRcdCdwYWdlSW5kZXgnOiBzY2VuYXJpb0luZm9bMl1cclxuXHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDlnLrmma/liJvlu7rnsbtcclxuICogQHBhcmFtICB7W3R5cGVdfSBzZWFzb25JZCAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBjaGFwdGVySWQgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBjcmVhdGVDb21wbGV0ZUNhbGxiYWNrIFvliJvlu7rlrozmr5XpgJrnn6Xlm57osINdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY3JlYXRlTW9kZSAgICAgICAgICAgICBb5Yib5bu65qih5byPXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHNjZW5lQ2hhaW5JZCAgICAgICAgICAgW+WcuuaZr0lE6ZO+LOeUqOS6juWQjumAgOaMiemSruWKoOi9veWJjeS4gOS4quWcuuaZr11cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIFNjZW5lRmFjdG9yeShkYXRhKSB7XHJcblxyXG5cdGNvbmZpZyA9IFh1dC5jb25maWdcclxuXHJcblx0Ly/ln7rmnKzphY3nva7kv6Hmga9cclxuXHR2YXIgc2Vhc29uSWQgPSBkYXRhLnNlYXNvbklkO1xyXG5cdHZhciBjaGFwdGVySWQgPSBkYXRhLmNoYXB0ZXJJZDtcclxuXHJcblx0dmFyIG9wdGlvbnMgPSBfLmV4dGVuZCh0aGlzLCBkYXRhLCB7XHJcblx0XHQnc2NlbmFyaW9JZCc6IHNlYXNvbklkLFxyXG5cdFx0J2NoYXB0ZXJJZCc6IGNoYXB0ZXJJZCxcclxuXHRcdCdjb250YWluZXInOiAkKCcjc2NlbmVDb250YWluZXInKVxyXG5cdH0pXHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vXHJcblx0Ly8g5Yib5bu65Zy65pmv5a655ZmoIC8vXHJcblx0Ly8vLy8vLy8vLy8vLy9cclxuXHR2YXIgY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8v6YWN572u5bel5YW35qCP6KGM5Li6XHJcblx0XHRpZiAoIVh1dC5JQm9va3MuRW5hYmxlZCkge1xyXG5cdFx0XHRfLmV4dGVuZCh0aGlzLCB0aGlzLmluaXRUb29sQmFyKCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8v5p6E5Lu2dm3lr7nosaFcclxuXHRcdHRoaXMuY3JlYXRlVmlld01vZGVsKCk7XHJcblxyXG5cdFx0Ly/ms6jlhaXlnLrmma/nrqHnkIZcclxuXHRcdHNjZW5lQ29udHJvbGwuYWRkKHNlYXNvbklkLCBjaGFwdGVySWQsIHRoaXMpO1xyXG5cdH1cclxuXHR0aGlzLmNyZWF0ZVNjZW5hcmlvKGNvbXBsZXRlLCBvcHRpb25zKTtcclxufVxyXG5cclxuXHJcbnZhciBzY2VuZVByb3RvID0gU2NlbmVGYWN0b3J5LnByb3RvdHlwZTtcclxuXHJcblxyXG4vKipcclxuICog5Yib5bu65Zy65pmvXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc2NlbmVQcm90by5jcmVhdGVTY2VuYXJpbyA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRpb25zKSB7XHJcblxyXG5cdC8v5aaC5p6c5piv6Z2Z5oCB5paH5Lu25omn6KGM5pyfXHJcblx0Ly/mlK/mjIFYdXQuSUJvb2tz5qih5byPXHJcblx0Ly/pg73kuI3pnIDopoHliJvlu7roioLngrlcclxuXHRpZiAoWHV0LklCb29rcy5ydW5Nb2RlKCkpIHtcclxuXHRcdHRoaXMuZWxlbWVudHMgPSAkKCcjc2NlbmVIb21lJyk7XHJcblx0XHRjYWxsYmFjay5jYWxsKHRoaXMpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0dmFyIGVsZW1lbnRzLCBzdHIsIHNlbGYgPSB0aGlzO1xyXG5cdGlmIChvcHRpb25zLmlzTWFpbikge1xyXG5cdFx0c3RyID0gaG9tZSgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHIgPSBzY2VuZSh0aGlzLnNjZW5hcmlvSWQpO1xyXG5cdH1cclxuXHJcblx0Ly/liJvlu7rlnLrmma/lrrnlmahcclxuXHRlbGVtZW50cyA9IHRoaXMuZWxlbWVudHMgPSAkKHN0cik7XHJcblx0WHV0Lm5leHRUaWNrKHtcclxuXHRcdCdjb250YWluZXInOiBzZWxmLmNvbnRhaW5lcixcclxuXHRcdCdjb250ZW50JzogZWxlbWVudHNcclxuXHR9LCBmdW5jdGlvbigpIHtcclxuXHRcdGNhbGxiYWNrLmNhbGwoc2VsZik7XHJcblx0fSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIOmFjee9ruW3peWFt+agj+ihjOS4ulxyXG4gKlx0MS5cdOW3peWFt+agj+exu+WeiyBcclxuICpcdHRiVHlwZe+8mijlpoLmnpznlKjmiLfmsqHmnInpgInmi6nku7vkvZXlt6XlhbfmoI/kv6Hmga/lpITnkIbvvIx0YlR5cGXlrZfmrrXlsLHkuLrnqbopXHJcbiAqXHQgMFx056aB5q2i5bel5YW35qCPXHJcbiAqXHQgMVx057O757uf5bel5YW35qCPICAgLSDmmL7npLpJT1Pns7vnu5/lt6XlhbfmoI9cclxuICpcdCAyXHTlnLrmma/lt6XlhbfmoI8gICAtIOaYvuekuuWFs+mXreaMiemSrlxyXG4gKlx0IDNcdOWcuuaZr+W3peWFt+agjyAgIC0g5pi+56S66L+U5Zue5oyJ6ZKuXHJcbiAqXHQgNFx05Zy65pmv5bel5YW35qCPICAgLSDmmL7npLrpobbpg6jlsI/lnIbngrnlvI/moIfnpLpcclxuICpcclxuICpcdDIuXHTnv7vpobXmqKHlvI9cclxuICpcdHBhZ2VNb2Rl77yaKOWmguaenOeUqOaIt+ayoeaciemAieaLqeS7u+S9leWkhOeQhu+8jHBhZ2VNb2Rl5a2X5q615bCx5Li656m6KVxyXG4gKlx0IDDnpoHmraLmu5HliqhcclxuICpcdCAxIOWFgeiuuOa7keWKqOaXoOe/u+mhteaMiemSrlxyXG4gKlx0IDIg5YWB6K645ruR5Yqo5bim57+76aG15oyJ6ZKuXHJcbiAqXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc2NlbmVQcm90by5pbml0VG9vbEJhciA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBzY2VuYXJpb0lkID0gdGhpcy5zY2VuYXJpb0lkO1xyXG5cdHZhciBwYWdlVG90YWwgPSB0aGlzLnBhZ2VUb3RhbDtcclxuXHR2YXIgcGFnZUluZGV4ID0gdGhpcy5wYWdlSW5kZXg7XHJcblx0dmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50cztcclxuXHR2YXIgYmFyO1xyXG5cdHZhciBmaW5kQ29udHJvbEJhciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGVsZW1lbnRzLmZpbmQoJyNjb250cm9sQmFyJylcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiDkuLvlnLrmma/lt6XlhbfmoI/orr7nva5cclxuXHQgKi9cclxuXHRpZiAodGhpcy5pc01haW4pIHtcclxuXHRcdGJhciA9IHBNYWluQmFyKHNjZW5hcmlvSWQsIHBhZ2VUb3RhbCk7XHJcblx0XHRpZiAoY29uZmlnLnNjcm9sbFBhaW50aW5nTW9kZSkge1xyXG5cdFx0XHQvL3dvcmTmqKHlvI8s6Ieq5Yqo5ZCv5Yqo5bel5YW35p2hXHJcblx0XHRcdHRoaXMuc1Rvb2xiYXIgPSBuZXcgQm9va1Rvb2xCYXIoe1xyXG5cdFx0XHRcdGNvbnRhaW5lcjogZWxlbWVudHMsXHJcblx0XHRcdFx0Y29udHJvbEJhcjogZmluZENvbnRyb2xCYXIoKSxcclxuXHRcdFx0XHRwYWdlTW9kZTogYmFyLnBhZ2VNb2RlXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIGlmIChfLnNvbWUoYmFyLnRiVHlwZSkpIHtcclxuXHRcdFx0Ly/mma7pgJrmqKHlvI9cclxuXHRcdFx0dGhpcy5zVG9vbGJhciA9IG5ldyBNYWluQmFyKHtcclxuXHRcdFx0XHRjb250YWluZXI6IGVsZW1lbnRzLFxyXG5cdFx0XHRcdGNvbnRyb2xCYXI6IGZpbmRDb250cm9sQmFyKCksXHJcblx0XHRcdFx0cGFnZVRvdGFsOiBwYWdlVG90YWwsXHJcblx0XHRcdFx0Y3VycmVudFBhZ2U6IHBhZ2VJbmRleCArIDEsXHJcblx0XHRcdFx0cGFnZU1vZGU6IGJhci5wYWdlTW9kZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0LyoqXHJcblx0XHQgKiDlia/lnLrmma9cclxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XHJcblx0XHQgKi9cclxuXHRcdGJhciA9IHBEZXB1dHlCYXIodGhpcy5iYXJJbmZvLCBwYWdlVG90YWwpO1xyXG5cdFx0Ly/liJvlu7rlt6XlhbfmoI9cclxuXHRcdGlmIChiYXIpIHtcclxuXHRcdFx0dGhpcy5jVG9vbGJhciA9IG5ldyBEZXB1dHlCYXIoe1xyXG5cdFx0XHRcdGlkICAgICAgICAgIDogc2NlbmFyaW9JZCxcclxuXHRcdFx0XHRjb250YWluZXIgICA6IGVsZW1lbnRzLFxyXG5cdFx0XHRcdHRiVHlwZSAgICAgIDogYmFyLnRiVHlwZSxcclxuXHRcdFx0XHRwYWdlVG90YWwgICA6IHBhZ2VUb3RhbCxcclxuXHRcdFx0XHRjdXJyZW50UGFnZSA6IHBhZ2VJbmRleCxcclxuXHRcdFx0XHRwYWdlTW9kZSAgICA6IGJhci5wYWdlTW9kZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBiYXI7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5p6E5bu65Yib5bu65a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc2NlbmVQcm90by5jcmVhdGVWaWV3TW9kZWwgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdHZhciBzY2VuYXJpb0lkID0gdGhpcy5zY2VuYXJpb0lkO1xyXG5cdHZhciBwYWdlVG90YWwgPSB0aGlzLnBhZ2VUb3RhbDtcclxuXHR2YXIgcGFnZUluZGV4ID0gdGhpcy5wYWdlSW5kZXg7XHJcblx0dmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50cztcclxuXHR2YXIgcGFnZU1vZGUgPSB0aGlzLnBhZ2VNb2RlO1xyXG5cdHZhciBpc01haW4gPSB0aGlzLmlzTWFpbjtcclxuXHR2YXIgdGVtcGZpbmQgPSBmaW5kQ29udGFpbmVyKGVsZW1lbnRzLCBzY2VuYXJpb0lkLCBpc01haW4pXHJcblx0XHQvL+mhtemdouWuueWZqFxyXG5cdHZhciBzY2VuYXJpb1BhZ2UgPSB0ZW1wZmluZCgncGFnZUNvbnRhaW5lcicsICdzY2VuYXJpb1BhZ2UtJyk7XHJcblx0Ly/op4blt67lrrnlmahcclxuXHR2YXIgc2NlbmFyaW9NYXN0ZXIgPSB0ZW1wZmluZCgnbWFzdGVyQ29udGFpbmVyJywgJ3NjZW5hcmlvTWFzdGVyLScpO1xyXG5cclxuXHQvL+WcuuaZr+WuueWZqOWvueixoVxyXG5cdHZhciB2bSA9IHRoaXMudm0gPSBuZXcgTWFuYWdlcih7XHJcblx0XHQnY29udGFpbmVyJzogdGhpcy5lbGVtZW50c1swXSxcclxuXHRcdCdwYWdlTW9kZSc6IHBhZ2VNb2RlLFxyXG5cdFx0J211bHRpU2NlbmFyaW8nOiAhaXNNYWluLFxyXG5cdFx0J3Jvb3RQYWdlJzogc2NlbmFyaW9QYWdlLFxyXG5cdFx0J3Jvb3RNYXN0ZXInOiBzY2VuYXJpb01hc3RlcixcclxuXHRcdCdpbml0SW5kZXgnOiBwYWdlSW5kZXgsIC8v5L+d5a2Y57Si5byV5LuOMOW8gOWni1xyXG5cdFx0J3BhZ2V0b3RhbCc6IHBhZ2VUb3RhbCxcclxuXHRcdCdzZWN0aW9uUmFuZyc6IHRoaXMuc2VjdGlvblJhbmcsXHJcblx0XHQnc2NlbmFyaW9JZCc6IHNjZW5hcmlvSWQsXHJcblx0XHQnY2hhcHRlcklkJzogdGhpcy5jaGFwdGVySWQsXHJcblx0XHQnaXNJbkFwcCc6IHRoaXMuaXNJbkFwcCAvL+aPkOekuumhtemdolxyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQgKiDphY3nva7pgInpoblcclxuXHQgKiBAdHlwZSB7W3R5cGVdfVxyXG5cdCAqL1xyXG5cdHZhciBpc1Rvb2xiYXIgPSB0aGlzLmlzVG9vbGJhciA9IHRoaXMuY1Rvb2xiYXIgPyB0aGlzLmNUb29sYmFyIDogdGhpcy5zVG9vbGJhcjtcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIOebkeWQrOe/u+mhtVxyXG5cdCAqIOeUqOS6juabtOaWsOmhteeggVxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHZtLiRiaW5kKCdwYWdlVXBkYXRlJywgZnVuY3Rpb24ocGFnZUluZGV4KSB7XHJcblx0XHRpc1Rvb2xiYXIgJiYgaXNUb29sYmFyLnVwZGF0ZVBvaW50ZXIocGFnZUluZGV4KTtcclxuXHR9KVxyXG5cclxuXHJcblx0LyoqXHJcblx0ICog5pi+56S65LiL5LiA6aG15oyJ6ZKuXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0dm0uJGJpbmQoJ3Nob3dOZXh0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRpc1Rvb2xiYXIgJiYgaXNUb29sYmFyLnNob3dOZXh0KCk7XHJcblx0fSlcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIOmakOiXj+S4i+S4gOmhteaMiemSrlxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHZtLiRiaW5kKCdoaWRlTmV4dCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0aXNUb29sYmFyICYmIGlzVG9vbGJhci5oaWRlTmV4dCgpO1xyXG5cdH0pXHJcblxyXG5cdC8qKlxyXG5cdCAqIOaYvuekuuS4iuS4gOmhteaMiemSrlxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHZtLiRiaW5kKCdzaG93UHJldicsIGZ1bmN0aW9uKCkge1xyXG5cdFx0aXNUb29sYmFyICYmIGlzVG9vbGJhci5zaG93UHJldigpO1xyXG5cdH0pXHJcblxyXG5cclxuXHQvKipcclxuXHQgKiDpmpDol4/kuIrkuIDpobXmjInpkq5cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHR2bS4kYmluZCgnaGlkZVByZXYnLCBmdW5jdGlvbigpIHtcclxuXHRcdGlzVG9vbGJhciAmJiBpc1Rvb2xiYXIuaGlkZVByZXYoKTtcclxuXHR9KVxyXG5cclxuXHQvKipcclxuXHQgKiDliIfmjaLlt6XlhbfmoI9cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHR2bS4kYmluZCgndG9nZ2xlVG9vbGJhcicsIGZ1bmN0aW9uKHN0YXRlLCBwb2ludGVyKSB7XHJcblx0XHRpc1Rvb2xiYXIgJiYgaXNUb29sYmFyLnRvZ2dsZShzdGF0ZSwgcG9pbnRlcik7XHJcblx0fSlcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIOWkjeS9jeW3peWFt+agj1xyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHZtLiRiaW5kKCdyZXNldFRvb2xiYXInLCBmdW5jdGlvbigpIHtcclxuXHRcdHNlbGYuc1Rvb2xiYXIgJiYgc2VsZi5zVG9vbGJhci5yZXNldCgpO1xyXG5cdH0pXHJcblxyXG5cclxuXHQvKipcclxuXHQgKiDnm5HlkKzliJvlu7rlrozmiJBcclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHR2bS4kYmluZCgnY3JlYXRlQ29tcGxldGUnLCBmdW5jdGlvbihuZXh0QWN0aW9uKSB7XHJcblx0XHRzZWxmLmNvbXBsZXRlICYmIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmIChpc01haW4pIHtcclxuXHRcdFx0XHRzZWxmLmNvbXBsZXRlKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0WHV0LlZpZXcuSGlkZUJ1c3koKVxyXG5cdFx0XHRcdFx0XHQvL+ajgOa1i+aYr+S4jeaYr+aciee8k+WtmOWKoOi9vVxyXG5cdFx0XHRcdFx0aWYgKCFjaGVja0hpc3Rvcnkoc2VsZi5oaXN0b3J5KSkge1xyXG5cdFx0XHRcdFx0XHQvL+aMh+WumuiHquWKqOi/kOihjOeahOWKqOS9nFxyXG5cdFx0XHRcdFx0XHRuZXh0QWN0aW9uICYmIG5leHRBY3Rpb24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8v5YWo5bGA5o6l5Y+jLOW6lOeUqOWKoOi9veWujOavlVxyXG5cdFx0XHRcdFx0WHV0LkFwcGxpY2F0aW9uLkFkZEV2ZW50TGlzdGVuZXIoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGYuY29tcGxldGUobmV4dEFjdGlvbilcclxuXHRcdFx0fVxyXG5cdFx0fSwgMjAwKTtcclxuXHR9KVxyXG5cclxuXHJcblx0Ly/lpoLmnpzmmK/or7vphbfnq6/liqDovb1cclxuXHRpZiAoRFVLVUNPTkZJRyAmJiBpc01haW4gJiYgRFVLVUNPTkZJRy5zdWNjZXNzKSB7XHJcblx0XHREVUtVQ09ORklHLnN1Y2Nlc3MoKTtcclxuXHRcdHZtLiRpbml0KCk7XHJcblx0XHQvL+WmguaenOaYr+WuouaIt+err+WKoOi9vVxyXG5cdH0gZWxzZSBpZiAoQ0xJRU5UQ09ORklHVCAmJiBpc01haW4gJiYgQ0xJRU5UQ09ORklHVC5zdWNjZXNzKSB7XHJcblx0XHRDTElFTlRDT05GSUdULnN1Y2Nlc3MoKTtcclxuXHRcdHZtLiRpbml0KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8v5q2j5bi45Yqg6L29XHJcblx0XHR2bS4kaW5pdCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog57uR5a6a5qGM6Z2i6LCD6K+VXHJcblx0ICovXHJcblx0Y29uZmlnLmRlYnVnTW9kZSAmJiBYdXQucGxhdC5pc0Jyb3dzZXIgJiYgdGhpcy5iaW5kV2F0Y2goKTtcclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICog5Li65qGM6Z2i5rWL6K+VXHJcbiAqIOe7keWumuiwg+ivlVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnNjZW5lUHJvdG8uYmluZFdhdGNoID0gZnVuY3Rpb24oKSB7XHJcblx0Ly8gZm9yIHRlc3RcclxuXHRpZiAoWHV0LnBsYXQuaXNCcm93c2VyKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzLnZtO1xyXG5cdFx0dGhpcy50ZXN0V2F0Y2ggPSAkKFwiLnh1dC1jb250cm9sQmFyLXBhZ2VOdW1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCfkuLvlnLrmma8nLCB2bSlcclxuXHRcdFx0Y29uc29sZS5sb2coJ+S4u+WcuuaZr+WuueWZqCcsIHZtLiRzY2hlZHVsZXIucGFnZU1nci5Db2xsZWN0aW9ucylcclxuXHRcdFx0Y29uc29sZS5sb2coJ+S4u+WcuuaZr+inhuinieW3ruWuueWZqCcsIHZtLiRzY2hlZHVsZXIucGFyYWxsYXhNZ3IgJiYgdm0uJHNjaGVkdWxlci5wYXJhbGxheE1nci5Db2xsZWN0aW9ucylcclxuXHRcdFx0Y29uc29sZS5sb2coJ+WkmuWcuuaZrycsIHNjZW5lQ29udHJvbGwuZXhwb3NlKCkpXHJcblx0XHRcdGNvbnNvbGUubG9nKCfpn7PpopEnLCBYdXQuQXVkaW9NYW5hZ2VyKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ+inhumikScsIFh1dC5WaWRlb01hbmFnZXIpO1xyXG5cdFx0XHRjb25zb2xlLmxvZygn5pWw5o2u5bqTJywgWHV0LmRhdGEpO1xyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PemAgOWHuuWkhOeQhizplIDmr4E9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG4vKipcclxuICog6ZSA5q+B5Zy65pmv5a+56LGhXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc2NlbmVQcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcblx0LyoqXHJcblx0ICog5qGM6Z2i6LCD6K+VXHJcblx0ICovXHJcblx0aWYgKHRoaXMudGVzdFdhdGNoKSB7XHJcblx0XHR0aGlzLnRlc3RXYXRjaC5vZmYoKTtcclxuXHRcdHRoaXMudGVzdFdhdGNoID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOmUgOavgeW9k+WJjeWcuuaZr1xyXG5cdCAqL1xyXG5cdHRoaXMudm0uJGRlc3Ryb3koKTtcclxuXHJcblx0LyoqXHJcblx0ICog6ZSA5q+B5bel5YW35qCPXHJcblx0ICovXHJcblx0aWYgKHRoaXMuaXNUb29sYmFyKSB7XHJcblx0XHR0aGlzLmlzVG9vbGJhci5kZXN0cm95KCk7XHJcblx0XHR0aGlzLmlzVG9vbGJhciA9IG51bGw7XHJcblx0fVxyXG5cclxuXHR0aGlzLmNvbnRhaW5lciA9IG51bGw7XHJcblxyXG5cdC8v6ZSA5q+B6IqC54K5XHJcblx0dGhpcy5lbGVtZW50cy5vZmYoKTtcclxuXHR0aGlzLmVsZW1lbnRzLnJlbW92ZSgpO1xyXG5cdHRoaXMuZWxlbWVudHMgPSBudWxsO1xyXG5cclxuXHQvL+mUgOavgeW8leeUqFxyXG5cdHNjZW5lQ29udHJvbGwucmVtb3ZlKHRoaXMuc2NlbmFyaW9JZClcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQge1xyXG5cdFNjZW5lRmFjdG9yeSBhcyBzY2VuZUZhY3RvcnlcclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9zY2VuYXJpby9mYWN0b3J5LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 91 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.home = home;\nexports.scene = scene;\nexports.nav = nav;\n\n/**\r\n * 布局文件\r\n * 1 控制条\r\n * 2 导航栏\r\n * @param  {[type]} config [description]\r\n * @return {[type]}        [description]\r\n */\nvar config = void 0;\nvar round = void 0;\nvar ratio = void 0;\nvar isIOS = void 0;\nvar iconHeight = void 0;\nvar proportion = void 0;\nvar calculate = void 0;\nvar TOP = void 0;\nvar sWidth = void 0;\nvar sHeight = void 0;\nvar navHeight = void 0; //菜单的高度\nvar navWidth = void 0; //菜单的宽度\n\nfunction setOption() {\n    config = Xut.config;\n    round = Math.round;\n    ratio = 6;\n    isIOS = Xut.plat.isIOS;\n    iconHeight = config.iconHeight;\n    proportion = config.proportion;\n    calculate = proportion.calculateContainer();\n    TOP = isIOS ? 20 : 0;\n    sWidth = calculate.width;\n    sHeight = calculate.height;\n    proportion = config.layoutMode == \"horizontal\" ? proportion.width : proportion.height;\n    iconHeight = isIOS ? iconHeight : round(proportion * iconHeight);\n}\n\n/**\r\n * 首页布局\r\n * @return {[type]} [description]\r\n */\nfunction home() {\n\n    setOption();\n\n    var retStr = '';\n    var style = void 0;\n\n    if (config.scrollPaintingMode) {\n        retStr = '<div id=\"sceneHome\" style =\"width:' + (config.virtualMode ? sWidth / 2 : sWidth) + 'px;height:' + sHeight + 'px;top:' + calculate.top + 'px;left:' + calculate.left + 'px;z-index:' + Xut.sceneController.createIndex() + '\" class=\"xut-chapter\">';\n    } else {\n        //overflow:hidden;\n        retStr = '<div id=\"sceneHome\" style =\"width:' + (config.virtualMode ? sWidth / 2 : sWidth) + 'px;height:' + sHeight + 'px;top:' + calculate.top + 'px;left:' + calculate.left + 'px;overflow:hidden;z-index:' + Xut.sceneController.createIndex() + '\" class=\"xut-chapter\">';\n    }\n    retStr += '<div id=\"controlBar\" class=\"xut-controlBar hide\"></div>';\n    retStr += '<ul id=\"pageContainer\" class=\"xut-flip\"></ul>'; //页面节点\n    retStr += '<ul id=\"masterContainer\" class=\"xut-master xut-flip\"></ul>'; //视觉差包装容器\n\n    //滑动菜单\n    if (config.layoutMode == 'horizontal') {\n        navHeight = round(sHeight / ratio); //菜单的高度\n        style = 'overflow:hidden;width:100%;height:' + navHeight + 'px;background-color:white;bottom:4px;border-top:1px solid rgba(0,0,0,0.1)';\n    } else {\n        navWidth = Math.min(sWidth, sHeight) / (isIOS ? 8 : 3); //菜单宽度\n        navHeight = round((sHeight - iconHeight - TOP) * 0.96);\n        style = 'width:' + navWidth + 'px;height:' + navHeight + 'px;background-color:white;top:' + (iconHeight + TOP + 2) + 'px;left:' + iconHeight + 'px;border-top:1px solid rgba(0,0,0,0.1)';\n    }\n\n    retStr += '<div id=\"navBar\" class=\"xut-navBar\" style=\"' + style + '\"></div>';\n    //消息提示框\n    retStr += '<div id=\"toolTip\"></div>';\n    retStr += '</div>';\n    return retStr;\n}\n\n/**\r\n * [scene 创建场景]\r\n * @param  {[type]} options [description]\r\n * @return {[type]}         [description]\r\n */\nfunction scene(id) {\n\n    setOption();\n\n    var wapper = '';\n    if (config.scrollPaintingMode) {\n        wapper = '<div id=\"{0}\" class=\"xut-waitLoad\" style=\"width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;z-index:{5};\">' + '<ul id=\"{6}\" class=\"xut-flip\" style=\"z-index:{7}\"></ul>' + '<ul id=\"{8}\" class=\"xut-flip\" style=\"z-index:{9}\"></ul>' + '</div>';\n    } else {\n        wapper = '<div id=\"{0}\" class=\"xut-waitLoad\" style=\"width:{1}px;height:{2}px;top:{3}px;left:{4}px;position:absolute;overflow:hidden;z-index:{5};\">' + '<ul id=\"{6}\" class=\"xut-flip\" style=\"z-index:{7}\"></ul>' + '<ul id=\"{8}\" class=\"xut-flip\" style=\"z-index:{9}\"></ul>' + '</div>';\n    }\n    return String.format(wapper, 'scenario-' + id, config.virtualMode ? sWidth / 2 : sWidth, sHeight, calculate.top, calculate.left, Xut.sceneController.createIndex(), 'scenarioPage-' + id, 2, 'scenarioMaster-' + id, 1);\n}\n\n/**\r\n * [nav 导航菜单]\r\n * @param  {[type]} seasonSqlRet [description]\r\n * @return {[type]}              [description]\r\n */\nfunction nav(seasonSqlRet) {\n\n    setOption();\n\n    var dirNum = seasonSqlRet.length,\n        retStr,\n        liCss,\n        scroller,\n        wrapper,\n        seasonId,\n        chapterId,\n        data,\n        xxtlink;\n    (function SectionWrapper() {\n        var width,\n            height,\n            blank,\n            font = round(proportion * 2);\n        if (config.layoutMode == 'horizontal') {\n            height = round(navHeight * 0.9);\n            width = round(height * sWidth / sHeight); //保持缩略图的宽高比\n            blank = round(navHeight * 0.05); //缩略图之间的间距\n            scroller = 'style=\"width:' + dirNum * (width + blank) + 'px\">';\n            liCss = 'float:left;width:' + width + 'px;height:' + height + 'px;margin-left:' + blank + 'px';\n            wrapper = 'width:96%;height:' + height + 'px;margin:' + blank + 'px auto;font-size:' + font + 'em';\n        } else {\n            scroller = '>';\n            width = round(navWidth * 0.9);\n            height = round(navWidth * 1.1);\n            blank = round(navWidth * 0.05);\n            liCss = 'width:' + width + 'px;height:' + height + 'px;margin:' + blank + 'px auto;border-bottom:1px solid rgba(0,0,0,0.3)';\n            wrapper = 'height:' + (navHeight - 4) + 'px;overflow:hidden;margin:2px auto;font-size:' + font + 'em';\n        }\n    })();\n\n    retStr = '<div id=\"SectionWrapper\" style=\"' + wrapper + '\">';\n    retStr += '<div id=\"Sectionscroller\" ';\n    retStr += scroller;\n    retStr += '<ul id=\"SectionThelist\">';\n\n    for (var i = 0; i < dirNum; i++) {\n        data = seasonSqlRet[i];\n        seasonId = data.seasonId;\n        chapterId = data._id;\n        xxtlink = seasonId + '-' + chapterId;\n        retStr += '<li style=\"' + liCss + '\">';\n        retStr += '<div class=\"xut-navBar-box\" data-xxtlink = \"' + xxtlink + '\">' + (i + 1) + '</div>';\n        retStr += '</li>';\n    }\n\n    retStr += '</ul></div>';\n\n    return retStr;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjZW5hcmlvL2xheW91dC5qcz9kNWVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBd0NnQixJLEdBQUEsSTtRQXdDQSxLLEdBQUEsSztRQTRCQSxHLEdBQUEsRzs7Ozs7Ozs7O0FBcEdoQixJQUFJLGVBQUo7QUFDQSxJQUFJLGNBQUo7QUFDQSxJQUFJLGNBQUo7QUFDQSxJQUFJLGNBQUo7QUFDQSxJQUFJLG1CQUFKO0FBQ0EsSUFBSSxtQkFBSjtBQUNBLElBQUksa0JBQUo7QUFDQSxJQUFJLFlBQUo7QUFDQSxJQUFJLGVBQUo7QUFDQSxJQUFJLGdCQUFKO0FBQ0EsSUFBSSxrQkFBSixDO0FBQ0EsSUFBSSxpQkFBSixDOztBQUVBLFNBQVMsU0FBVCxHQUFxQjtBQUNqQixhQUFTLElBQUksTUFBYjtBQUNBLFlBQVEsS0FBSyxLQUFiO0FBQ0EsWUFBUSxDQUFSO0FBQ0EsWUFBUSxJQUFJLElBQUosQ0FBUyxLQUFqQjtBQUNBLGlCQUFhLE9BQU8sVUFBcEI7QUFDQSxpQkFBYSxPQUFPLFVBQXBCO0FBQ0EsZ0JBQVksV0FBVyxrQkFBWCxFQUFaO0FBQ0EsVUFBTSxRQUFRLEVBQVIsR0FBYSxDQUFuQjtBQUNBLGFBQVMsVUFBVSxLQUFuQjtBQUNBLGNBQVUsVUFBVSxNQUFwQjtBQUNBLGlCQUFhLE9BQU8sVUFBUCxJQUFxQixZQUFyQixHQUFvQyxXQUFXLEtBQS9DLEdBQXVELFdBQVcsTUFBL0U7QUFDQSxpQkFBYSxRQUFRLFVBQVIsR0FBcUIsTUFBTSxhQUFhLFVBQW5CLENBQWxDO0FBQ0g7Ozs7OztBQU1NLFNBQVMsSUFBVCxHQUFnQjs7QUFFbkI7O0FBRUEsUUFBSSxTQUFTLEVBQWI7QUFDQSxRQUFJLGNBQUo7O0FBRUEsUUFBSSxPQUFPLGtCQUFYLEVBQStCO0FBQzNCLGlCQUFTLHdDQUF3QyxPQUFPLFdBQVAsR0FBcUIsU0FBUyxDQUE5QixHQUFrQyxNQUExRSxJQUFvRixZQUFwRixHQUFtRyxPQUFuRyxH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biAqIDEg5o6n5Yi25p2hXHJcbiAqIDIg5a+86Iiq5qCPXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gY29uZmlnIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxubGV0IGNvbmZpZ1xyXG5sZXQgcm91bmRcclxubGV0IHJhdGlvXHJcbmxldCBpc0lPU1xyXG5sZXQgaWNvbkhlaWdodFxyXG5sZXQgcHJvcG9ydGlvblxyXG5sZXQgY2FsY3VsYXRlXHJcbmxldCBUT1BcclxubGV0IHNXaWR0aFxyXG5sZXQgc0hlaWdodFxyXG5sZXQgbmF2SGVpZ2h0IC8v6I+c5Y2V55qE6auY5bqmXHJcbmxldCBuYXZXaWR0aCAvL+iPnOWNleeahOWuveW6plxyXG5cclxuZnVuY3Rpb24gc2V0T3B0aW9uKCkge1xyXG4gICAgY29uZmlnID0gWHV0LmNvbmZpZ1xyXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kXHJcbiAgICByYXRpbyA9IDZcclxuICAgIGlzSU9TID0gWHV0LnBsYXQuaXNJT1NcclxuICAgIGljb25IZWlnaHQgPSBjb25maWcuaWNvbkhlaWdodFxyXG4gICAgcHJvcG9ydGlvbiA9IGNvbmZpZy5wcm9wb3J0aW9uXHJcbiAgICBjYWxjdWxhdGUgPSBwcm9wb3J0aW9uLmNhbGN1bGF0ZUNvbnRhaW5lcigpXHJcbiAgICBUT1AgPSBpc0lPUyA/IDIwIDogMFxyXG4gICAgc1dpZHRoID0gY2FsY3VsYXRlLndpZHRoXHJcbiAgICBzSGVpZ2h0ID0gY2FsY3VsYXRlLmhlaWdodFxyXG4gICAgcHJvcG9ydGlvbiA9IGNvbmZpZy5sYXlvdXRNb2RlID09IFwiaG9yaXpvbnRhbFwiID8gcHJvcG9ydGlvbi53aWR0aCA6IHByb3BvcnRpb24uaGVpZ2h0XHJcbiAgICBpY29uSGVpZ2h0ID0gaXNJT1MgPyBpY29uSGVpZ2h0IDogcm91bmQocHJvcG9ydGlvbiAqIGljb25IZWlnaHQpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpppbpobXluIPlsYBcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaG9tZSgpIHtcclxuXHJcbiAgICBzZXRPcHRpb24oKVxyXG5cclxuICAgIGxldCByZXRTdHIgPSAnJ1xyXG4gICAgbGV0IHN0eWxlXHJcblxyXG4gICAgaWYgKGNvbmZpZy5zY3JvbGxQYWludGluZ01vZGUpIHtcclxuICAgICAgICByZXRTdHIgPSAnPGRpdiBpZD1cInNjZW5lSG9tZVwiIHN0eWxlID1cIndpZHRoOicgKyAoY29uZmlnLnZpcnR1YWxNb2RlID8gc1dpZHRoIC8gMiA6IHNXaWR0aCkgKyAncHg7aGVpZ2h0OicgKyBzSGVpZ2h0ICsgJ3B4O3RvcDonICsgY2FsY3VsYXRlLnRvcCArICdweDtsZWZ0OicgKyBjYWxjdWxhdGUubGVmdCArICdweDt6LWluZGV4OicgKyBYdXQuc2NlbmVDb250cm9sbGVyLmNyZWF0ZUluZGV4KCkgKyAnXCIgY2xhc3M9XCJ4dXQtY2hhcHRlclwiPic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vb3ZlcmZsb3c6aGlkZGVuO1xyXG4gICAgICAgIHJldFN0ciA9ICc8ZGl2IGlkPVwic2NlbmVIb21lXCIgc3R5bGUgPVwid2lkdGg6JyArIChjb25maWcudmlydHVhbE1vZGUgPyBzV2lkdGggLyAyIDogc1dpZHRoKSArICdweDtoZWlnaHQ6JyArIHNIZWlnaHQgKyAncHg7dG9wOicgKyBjYWxjdWxhdGUudG9wICsgJ3B4O2xlZnQ6JyArIGNhbGN1bGF0ZS5sZWZ0ICsgJ3B4O292ZXJmbG93OmhpZGRlbjt6LWluZGV4OicgKyBYdXQuc2NlbmVDb250cm9sbGVyLmNyZWF0ZUluZGV4KCkgKyAnXCIgY2xhc3M9XCJ4dXQtY2hhcHRlclwiPic7XHJcbiAgICB9XHJcbiAgICByZXRTdHIgKz0gJzxkaXYgaWQ9XCJjb250cm9sQmFyXCIgY2xhc3M9XCJ4dXQtY29udHJvbEJhciBoaWRlXCI+PC9kaXY+JztcclxuICAgIHJldFN0ciArPSAnPHVsIGlkPVwicGFnZUNvbnRhaW5lclwiIGNsYXNzPVwieHV0LWZsaXBcIj48L3VsPic7IC8v6aG16Z2i6IqC54K5XHJcbiAgICByZXRTdHIgKz0gJzx1bCBpZD1cIm1hc3RlckNvbnRhaW5lclwiIGNsYXNzPVwieHV0LW1hc3RlciB4dXQtZmxpcFwiPjwvdWw+JzsgLy/op4bop4nlt67ljIXoo4XlrrnlmahcclxuXHJcbiAgICAvL+a7keWKqOiPnOWNlVxyXG4gICAgaWYgKGNvbmZpZy5sYXlvdXRNb2RlID09ICdob3Jpem9udGFsJykge1xyXG4gICAgICAgIG5hdkhlaWdodCA9IHJvdW5kKHNIZWlnaHQgLyByYXRpbyk7IC8v6I+c5Y2V55qE6auY5bqmXHJcbiAgICAgICAgc3R5bGUgPSAnb3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjEwMCU7aGVpZ2h0OicgKyBuYXZIZWlnaHQgKyAncHg7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtib3R0b206NHB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xKSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5hdldpZHRoID0gTWF0aC5taW4oc1dpZHRoLCBzSGVpZ2h0KSAvIChpc0lPUyA/IDggOiAzKTsgLy/oj5zljZXlrr3luqZcclxuICAgICAgICBuYXZIZWlnaHQgPSByb3VuZCgoc0hlaWdodCAtIGljb25IZWlnaHQgLSBUT1ApICogMC45Nik7XHJcbiAgICAgICAgc3R5bGUgPSAnd2lkdGg6JyArIG5hdldpZHRoICsgJ3B4O2hlaWdodDonICsgbmF2SGVpZ2h0ICsgJ3B4O2JhY2tncm91bmQtY29sb3I6d2hpdGU7dG9wOicgKyAoaWNvbkhlaWdodCArIFRPUCArIDIpICsgJ3B4O2xlZnQ6JyArIGljb25IZWlnaHQgKyAncHg7Ym9yZGVyLXRvcDoxcHggc29saWQgcmdiYSgwLDAsMCwwLjEpJztcclxuICAgIH1cclxuXHJcbiAgICByZXRTdHIgKz0gJzxkaXYgaWQ9XCJuYXZCYXJcIiBjbGFzcz1cInh1dC1uYXZCYXJcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIj48L2Rpdj4nO1xyXG4gICAgLy/mtojmga/mj5DnpLrmoYZcclxuICAgIHJldFN0ciArPSAnPGRpdiBpZD1cInRvb2xUaXBcIj48L2Rpdj4nO1xyXG4gICAgcmV0U3RyICs9ICc8L2Rpdj4nO1xyXG4gICAgcmV0dXJuIHJldFN0cjtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBbc2NlbmUg5Yib5bu65Zy65pmvXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IG9wdGlvbnMgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNjZW5lKGlkKSB7XHJcblxyXG4gICAgc2V0T3B0aW9uKClcclxuXHJcbiAgICB2YXIgd2FwcGVyID0gJyc7XHJcbiAgICBpZiAoY29uZmlnLnNjcm9sbFBhaW50aW5nTW9kZSkge1xyXG4gICAgICAgIHdhcHBlciA9ICc8ZGl2IGlkPVwiezB9XCIgY2xhc3M9XCJ4dXQtd2FpdExvYWRcIiBzdHlsZT1cIndpZHRoOnsxfXB4O2hlaWdodDp7Mn1weDt0b3A6ezN9cHg7bGVmdDp7NH1weDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ons1fTtcIj4nICtcclxuICAgICAgICAgICAgJzx1bCBpZD1cIns2fVwiIGNsYXNzPVwieHV0LWZsaXBcIiBzdHlsZT1cInotaW5kZXg6ezd9XCI+PC91bD4nICtcclxuICAgICAgICAgICAgJzx1bCBpZD1cIns4fVwiIGNsYXNzPVwieHV0LWZsaXBcIiBzdHlsZT1cInotaW5kZXg6ezl9XCI+PC91bD4nICtcclxuICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdhcHBlciA9ICc8ZGl2IGlkPVwiezB9XCIgY2xhc3M9XCJ4dXQtd2FpdExvYWRcIiBzdHlsZT1cIndpZHRoOnsxfXB4O2hlaWdodDp7Mn1weDt0b3A6ezN9cHg7bGVmdDp7NH1weDtwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDp7NX07XCI+JyArXHJcbiAgICAgICAgICAgICc8dWwgaWQ9XCJ7Nn1cIiBjbGFzcz1cInh1dC1mbGlwXCIgc3R5bGU9XCJ6LWluZGV4Ons3fVwiPjwvdWw+JyArXHJcbiAgICAgICAgICAgICc8dWwgaWQ9XCJ7OH1cIiBjbGFzcz1cInh1dC1mbGlwXCIgc3R5bGU9XCJ6LWluZGV4Ons5fVwiPjwvdWw+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZy5mb3JtYXQod2FwcGVyLCAnc2NlbmFyaW8tJyArIGlkLCBjb25maWcudmlydHVhbE1vZGUgPyBzV2lkdGggLyAyIDogc1dpZHRoLCBzSGVpZ2h0LCBjYWxjdWxhdGUudG9wLCBjYWxjdWxhdGUubGVmdCwgWHV0LnNjZW5lQ29udHJvbGxlci5jcmVhdGVJbmRleCgpLFxyXG4gICAgICAgICdzY2VuYXJpb1BhZ2UtJyArIGlkLCAyLFxyXG4gICAgICAgICdzY2VuYXJpb01hc3Rlci0nICsgaWQsIDFcclxuICAgICk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogW25hdiDlr7zoiKroj5zljZVdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gc2Vhc29uU3FsUmV0IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5hdihzZWFzb25TcWxSZXQpIHtcclxuXHJcbiAgICBzZXRPcHRpb24oKVxyXG5cclxuICAgIHZhciBkaXJOdW0gPSBzZWFzb25TcWxSZXQubGVuZ3RoLFxyXG4gICAgICAgIHJldFN0ciwgbGlDc3MsIHNjcm9sbGVyLCB3cmFwcGVyLCBzZWFzb25JZCwgY2hhcHRlcklkLCBkYXRhLCB4eHRsaW5rO1xyXG4gICAgKGZ1bmN0aW9uIFNlY3Rpb25XcmFwcGVyKCkge1xyXG4gICAgICAgIHZhciB3aWR0aCwgaGVpZ2h0LCBibGFuayxcclxuICAgICAgICAgICAgZm9udCA9IHJvdW5kKHByb3BvcnRpb24gKiAyKTtcclxuICAgICAgICBpZiAoY29uZmlnLmxheW91dE1vZGUgPT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IHJvdW5kKG5hdkhlaWdodCAqIDAuOSk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gcm91bmQoaGVpZ2h0ICogc1dpZHRoIC8gc0hlaWdodCk7IC8v5L+d5oyB57yp55Wl5Zu+55qE5a696auY5q+UXHJcbiAgICAgICAgICAgIGJsYW5rID0gcm91bmQobmF2SGVpZ2h0ICogMC4wNSk7IC8v57yp55Wl5Zu+5LmL6Ze055qE6Ze06LedXHJcbiAgICAgICAgICAgIHNjcm9sbGVyID0gJ3N0eWxlPVwid2lkdGg6JyArIGRpck51bSAqICh3aWR0aCArIGJsYW5rKSArICdweFwiPic7XHJcbiAgICAgICAgICAgIGxpQ3NzID0gJ2Zsb2F0OmxlZnQ7d2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O21hcmdpbi1sZWZ0OicgKyBibGFuayArICdweCc7XHJcbiAgICAgICAgICAgIHdyYXBwZXIgPSAnd2lkdGg6OTYlO2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O21hcmdpbjonICsgYmxhbmsgKyAncHggYXV0bztmb250LXNpemU6JyArIGZvbnQgKyAnZW0nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcm9sbGVyID0gJz4nO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHJvdW5kKG5hdldpZHRoICogMC45KTtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gcm91bmQobmF2V2lkdGggKiAxLjEpO1xyXG4gICAgICAgICAgICBibGFuayA9IHJvdW5kKG5hdldpZHRoICogMC4wNSk7XHJcbiAgICAgICAgICAgIGxpQ3NzID0gJ3dpZHRoOicgKyB3aWR0aCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweDttYXJnaW46JyArIGJsYW5rICsgJ3B4IGF1dG87Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwwLjMpJztcclxuICAgICAgICAgICAgd3JhcHBlciA9ICdoZWlnaHQ6JyArIChuYXZIZWlnaHQgLSA0KSArICdweDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luOjJweCBhdXRvO2ZvbnQtc2l6ZTonICsgZm9udCArICdlbSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuXHJcbiAgICByZXRTdHIgPSAnPGRpdiBpZD1cIlNlY3Rpb25XcmFwcGVyXCIgc3R5bGU9XCInICsgd3JhcHBlciArICdcIj4nO1xyXG4gICAgcmV0U3RyICs9ICc8ZGl2IGlkPVwiU2VjdGlvbnNjcm9sbGVyXCIgJztcclxuICAgIHJldFN0ciArPSBzY3JvbGxlcjtcclxuICAgIHJldFN0ciArPSAnPHVsIGlkPVwiU2VjdGlvblRoZWxpc3RcIj4nO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlyTnVtOyBpKyspIHtcclxuICAgICAgICBkYXRhID0gc2Vhc29uU3FsUmV0W2ldO1xyXG4gICAgICAgIHNlYXNvbklkID0gZGF0YS5zZWFzb25JZDtcclxuICAgICAgICBjaGFwdGVySWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB4eHRsaW5rID0gc2Vhc29uSWQgKyAnLScgKyBjaGFwdGVySWQ7XHJcbiAgICAgICAgcmV0U3RyICs9ICc8bGkgc3R5bGU9XCInICsgbGlDc3MgKyAnXCI+JztcclxuICAgICAgICByZXRTdHIgKz0gJzxkaXYgY2xhc3M9XCJ4dXQtbmF2QmFyLWJveFwiIGRhdGEteHh0bGluayA9IFwiJyArIHh4dGxpbmsgKyAnXCI+JyArIChpICsgMSkgKyAnPC9kaXY+JztcclxuICAgICAgICByZXRTdHIgKz0gJzwvbGk+JztcclxuICAgIH1cclxuXHJcbiAgICByZXRTdHIgKz0gJzwvdWw+PC9kaXY+JztcclxuXHJcbiAgICByZXR1cm4gcmV0U3RyO1xyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3NjZW5hcmlvL2xheW91dC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 92 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.autoRun = autoRun;\n\nvar _bind = __webpack_require__(7);\n\n//content任务超时Id\nvar contentTaskOutId, markComplete;\n\n/**\r\n * 运行自动的content对象\r\n * 延时500毫秒执行\r\n * @return {[type]} [description]\r\n */\n/**\r\n * 自动触发控制\r\n * @return {[type]} [description]\r\n */\n\nfunction runContent(contentObjs, taskAnimCallback) {\n\n    var contentTaskOutId = setTimeout(function () {\n\n        clearTimeout(contentTaskOutId);\n\n        //完成通知\n        var markComplete = function () {\n            var completeStatistics = contentObjs.length; //动画完成统计\n            return function () {\n                if (completeStatistics === 1) {\n                    taskAnimCallback && taskAnimCallback();\n                    markComplete = null;\n                }\n                completeStatistics--;\n            };\n        }();\n\n        _.each(contentObjs, function (obj, index) {\n            if (!Xut.CreateFilter.has(obj.pageId, obj.id)) {\n                obj.autoPlay(markComplete);\n            } else {\n                markComplete();\n            }\n        });\n    }, 500);\n}\n/**\r\n * 运行自动的静态类型\r\n * @return {[type]} [description]\r\n */\nfunction runComponent(pageObj, pageIndex, autoRunComponents, pageType) {\n\n    var chapterId = pageObj.baseGetPageId(pageIndex);\n\n    if (pageIndex === undefined) {\n        pageIndex = Xut.Presentation.GetPageIndex();\n    }\n    _.each(autoRunComponents, function (data, index) {\n        var dir = _bind.Bind[data.type];\n        if (dir && dir.autoPlay) {\n            dir.autoPlay({\n                'id': data.id,\n                'key': data.key,\n                'type': data.type,\n                'pageType': pageType,\n                'rootNode': pageObj.element,\n                'chapterId': chapterId,\n                'category': data.category,\n                'autoPlay': data.autoPlay,\n                'pageIndex': pageIndex\n            });\n        }\n    });\n}\n\nfunction autoRun(pageObj, pageIndex, taskAnimCallback) {\n\n    /**\r\n     * 编译IBOOKSCONFIG的时候过滤自动运行的调用\r\n     * @return {[type]}              [description]\r\n     */\n    if (Xut.IBooks.compileMode()) {\n        return;\n    }\n\n    //pageType\n    //用于区别触发类型\n    //页面还是母版\n    Xut.accessControl(pageObj, function (pageObj, ContentObjs, ComponentObjs, pageType) {\n\n        //如果是母版对象，一次生命周期种只激活一次\n        if (pageObj.pageType === 'master') {\n            if (pageObj.onceMaster) {\n                return;\n            }\n            pageObj.onceMaster = true;\n        }\n\n        taskAnimCallback = taskAnimCallback || function () {};\n\n        //自动运行的组件\n        var autoRunComponents;\n        if (autoRunComponents = pageObj.baseAutoRun()) {\n            runComponent(pageObj, pageIndex, autoRunComponents, pageType);\n        }\n\n        //自动运行content\n        clearTimeout(contentTaskOutId);\n\n        if (ContentObjs) {\n            runContent(ContentObjs, taskAnimCallback);\n        } else {\n            taskAnimCallback(); //无动画\n        }\n\n        Xut.log('debug', pageType + '层，第' + (pageIndex + 1) + '页开始,本页面Id为' + pageObj.chapterId);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci9hdXRvLmpzPzZmNmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUF5RWdCLE8sR0FBQSxPOztBQW5FaEI7OztBQUlBLElBQUksZ0JBQUosRUFBc0IsWUFBdEI7Ozs7Ozs7Ozs7OztBQU9BLFNBQVMsVUFBVCxDQUFvQixXQUFwQixFQUFpQyxnQkFBakMsRUFBbUQ7O0FBRTNDLFFBQUksbUJBQW1CLFdBQVcsWUFBVzs7QUFFekMscUJBQWEsZ0JBQWI7OztBQUdBLFlBQUksZUFBZSxZQUFXO0FBQzFCLGdCQUFJLHFCQUFxQixZQUFZLE1BQXJDLEM7QUFDQSxtQkFBTyxZQUFXO0FBQ2Qsb0JBQUksdUJBQXVCLENBQTNCLEVBQThCO0FBQzFCLHdDQUFvQixrQkFBcEI7QUFDQSxtQ0FBZSxJQUFmO0FBQ0g7QUFDRDtBQUNILGFBTkQ7QUFPSCxTQVRrQixFQUFuQjs7QUFXQSxVQUFFLElBQUYsQ0FBTyxXQUFQLEVBQW9CLFVBQVMsR0FBVCxFQUFjLEtBQWQsRUFBcUI7QUFDckMsZ0JBQUksQ0FBQyxJQUFJLFlBQUosQ0FBaUIsR0FBakIsQ0FBcUIsSUFBSSxNQUF6QixFQUFpQyxJQUFJLEVBQXJDLENBQUwsRUFBK0M7QUFDM0Msb0JBQUksUUFBSixDQUFhLFlBQWI7QUFDSCxhQUZELE1BRU87QUFDSDtBQUNIO0FBQ0osU0FORDtBQU9ILEtBdkJzQixFQXVCcEIsR0F2Qm9CLENBQXZCO0FBd0JIOzs7OztBQUtMLFNBQVMsWUFBVCxDQUFzQixPQUF0QixFQUErQixTQUEvQixFQUEwQyxpQkFBMUMsRUFBNkQsUUFBN0QsRUFBdUU7O0FBRW5FLFFBQUksWUFBWSxRQUFRLGFBQVIsQ0FBc0IsU0FBdEIsQ0FBaEI7O0FBRUEsUUFBSSxjQUFjLFNBQWxCLEVBQTZCO0FBQ3pCLG9CQUFZLElBQUksWUFBSixDQUFpQixZQUFqQixFQUFaO0FBQ0g7QUFDRCxNQUFFLElBQUYsQ0FBTyxpQkFBUCxFQUEwQixVQUFTLElBQVQsRUFBZSxLQUFmLEVBQXNCO0FBQzVDLFlBQUksTUFBTSxXQUFLLEtBQUssSUFBVixDQUFWO0FBQ0EsWUFBSSxPQUFPLElBQUksUUFBZixFQUF5QjtBQUNyQixnQkFBSSxRQUFKLENBQWE7QUFDVCxzQkFBTSxLQUFLLEVBREY7QUFFVCx1QkFBTyxLQUFLLEdBRkg7QUFHVCx3QkFBUSxLQUFLLElBSEo7QUFJVCw0QkFBWSxRQUpIO0FBS1QsNEJBQVksUUFBUSxPQUxYO0FBTVQsNkJBQWEsU0FOSjtBQU9ULDRCQUFZLEtBQUssUUFQUjtBQVFULDRCQUFZLEtBQUssUUFSUjtBQVNULDZCQUFhO0FBVEosYUFBYjtBQVdIO0FBQ0osS0FmRDtBQWdCSDs7QUFFTSxTQUFTLE9BQVQsQ0FBaUIsT0FBakIsRUFBMEIsU0FBMUIsRUFBcUMsZ0JBQXJDLEVBQXVEOzs7Ozs7QUFNMUQsUUFBSSxJQUFJLE1BQUosQ0FBVyxXQUFYLEVBQUosRUFBOEI7QUFDMUI7QUFDSDs7Ozs7QUFLRCxRQUFJLGFBQUosQ0FBa0IsT0FBbEIsRUFBMkIsVUFBUyxPQUFULEVBQWtCLFdBQWxCLEVBQStCLGFBQS9CLEVBQThDLFFBQTlDLEVBQXdEOzs7QUFHL0UsWUFBSSxRQUFRLFFBQVIsS0FBcUIsUUFBekIsRUFBbUM7QUFDL0IsZ0JBQUksUUFBUSxVQUFaLEVBQXdCO0FBQ3BCO0FBQ0g7QUFDRCxvQkFBUSxVQUFSLEdBQXFCLElBQXJCO0FBQ0g7O0FBRUQsMkJBQW1CLG9CQUFvQixZQUFXLENBQUUsQ0FBcEQ7OztBQUdBLFlBQUksaUJBQUo7QUFDQSxZQUFJLG9CQUFvQixRQUFRLFdBQVIsRUFBeEIsRUFBK0M7QUFDM0MseUJBQWEsT0FBYixFQUFzQixTQUF0QixFQUFpQyxpQkFBakMsRUFBb0QsUUFBcEQ7QUFDSDs7O0FBR0QscUJBQWEsZ0JBQWI7O0FBRUEsWUFBSSxXQUFKLEVBQWlCO0FBQ2IsdUJBQVcsV0FBWCxFQUF3QixnQkFBeEI7QUFDSCxTQUZELE1BRU87QUFDSCwrQjtBQUNIOztBQUVELFlBQUksR0FBSixDQUFRLE9BQVIsRUFBaUIsV0FBVyxLQUFYLElBQW9CLFlBQVksQ0FBaEMsSUFBcUMsWUFBckMsR0FBb0QsUUFBUSxTQUE3RTtBQUNILEtBNUJEO0FBOEJIIiwiZmlsZSI6IjkyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOiHquWKqOinpuWPkeaOp+WItlxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblxyXG5cclxuaW1wb3J0IHtCaW5kfSBmcm9tICcuLi9wYWdlYmFzZS90aHJlYWQvZGlzcGVuc2VyL2JpbmQnXHJcblxyXG5cclxuLy9jb250ZW505Lu75Yqh6LaF5pe2SWRcclxudmFyIGNvbnRlbnRUYXNrT3V0SWQsIG1hcmtDb21wbGV0ZTtcclxuXHJcbi8qKlxyXG4gKiDov5DooYzoh6rliqjnmoRjb250ZW505a+56LGhXHJcbiAqIOW7tuaXtjUwMOavq+enkuaJp+ihjFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIHJ1bkNvbnRlbnQoY29udGVudE9ianMsIHRhc2tBbmltQ2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRlbnRUYXNrT3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbnRlbnRUYXNrT3V0SWQpO1xyXG5cclxuICAgICAgICAgICAgLy/lrozmiJDpgJrnn6VcclxuICAgICAgICAgICAgdmFyIG1hcmtDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlU3RhdGlzdGljcyA9IGNvbnRlbnRPYmpzLmxlbmd0aDsgLy/liqjnlLvlrozmiJDnu5/orqFcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVTdGF0aXN0aWNzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tBbmltQ2FsbGJhY2sgJiYgdGFza0FuaW1DYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrQ29tcGxldGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZVN0YXRpc3RpY3MtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSgpO1xyXG5cclxuICAgICAgICAgICAgXy5lYWNoKGNvbnRlbnRPYmpzLCBmdW5jdGlvbihvYmosIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVh1dC5DcmVhdGVGaWx0ZXIuaGFzKG9iai5wYWdlSWQsIG9iai5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouYXV0b1BsYXkobWFya0NvbXBsZXRlKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrQ29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L+Q6KGM6Ieq5Yqo55qE6Z2Z5oCB57G75Z6LXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG5mdW5jdGlvbiBydW5Db21wb25lbnQocGFnZU9iaiwgcGFnZUluZGV4LCBhdXRvUnVuQ29tcG9uZW50cywgcGFnZVR5cGUpIHtcclxuXHJcbiAgICB2YXIgY2hhcHRlcklkID0gcGFnZU9iai5iYXNlR2V0UGFnZUlkKHBhZ2VJbmRleCk7XHJcblxyXG4gICAgaWYgKHBhZ2VJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcGFnZUluZGV4ID0gWHV0LlByZXNlbnRhdGlvbi5HZXRQYWdlSW5kZXgoKTtcclxuICAgIH1cclxuICAgIF8uZWFjaChhdXRvUnVuQ29tcG9uZW50cywgZnVuY3Rpb24oZGF0YSwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgZGlyID0gQmluZFtkYXRhLnR5cGVdO1xyXG4gICAgICAgIGlmIChkaXIgJiYgZGlyLmF1dG9QbGF5KSB7XHJcbiAgICAgICAgICAgIGRpci5hdXRvUGxheSh7XHJcbiAgICAgICAgICAgICAgICAnaWQnOiBkYXRhLmlkLFxyXG4gICAgICAgICAgICAgICAgJ2tleSc6IGRhdGEua2V5LFxyXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiBkYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAncGFnZVR5cGUnOiBwYWdlVHlwZSxcclxuICAgICAgICAgICAgICAgICdyb290Tm9kZSc6IHBhZ2VPYmouZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICdjaGFwdGVySWQnOiBjaGFwdGVySWQsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnknOiBkYXRhLmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgJ2F1dG9QbGF5JzogZGF0YS5hdXRvUGxheSxcclxuICAgICAgICAgICAgICAgICdwYWdlSW5kZXgnOiBwYWdlSW5kZXhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvUnVuKHBhZ2VPYmosIHBhZ2VJbmRleCwgdGFza0FuaW1DYWxsYmFjaykge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog57yW6K+RSUJPT0tTQ09ORklH55qE5pe25YCZ6L+H5ruk6Ieq5Yqo6L+Q6KGM55qE6LCD55SoXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIGlmIChYdXQuSUJvb2tzLmNvbXBpbGVNb2RlKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy9wYWdlVHlwZVxyXG4gICAgLy/nlKjkuo7ljLrliKvop6blj5HnsbvlnotcclxuICAgIC8v6aG16Z2i6L+Y5piv5q+N54mIXHJcbiAgICBYdXQuYWNjZXNzQ29udHJvbChwYWdlT2JqLCBmdW5jdGlvbihwYWdlT2JqLCBDb250ZW50T2JqcywgQ29tcG9uZW50T2JqcywgcGFnZVR5cGUpIHtcclxuXHJcbiAgICAgICAgLy/lpoLmnpzmmK/mr43niYjlr7nosaHvvIzkuIDmrKHnlJ/lkb3lkajmnJ/np43lj6rmv4DmtLvkuIDmrKFcclxuICAgICAgICBpZiAocGFnZU9iai5wYWdlVHlwZSA9PT0gJ21hc3RlcicpIHtcclxuICAgICAgICAgICAgaWYgKHBhZ2VPYmoub25jZU1hc3Rlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFnZU9iai5vbmNlTWFzdGVyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhc2tBbmltQ2FsbGJhY2sgPSB0YXNrQW5pbUNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgICAgIC8v6Ieq5Yqo6L+Q6KGM55qE57uE5Lu2XHJcbiAgICAgICAgdmFyIGF1dG9SdW5Db21wb25lbnRzO1xyXG4gICAgICAgIGlmIChhdXRvUnVuQ29tcG9uZW50cyA9IHBhZ2VPYmouYmFzZUF1dG9SdW4oKSkge1xyXG4gICAgICAgICAgICBydW5Db21wb25lbnQocGFnZU9iaiwgcGFnZUluZGV4LCBhdXRvUnVuQ29tcG9uZW50cywgcGFnZVR5cGUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+iHquWKqOi/kOihjGNvbnRlbnRcclxuICAgICAgICBjbGVhclRpbWVvdXQoY29udGVudFRhc2tPdXRJZCk7XHJcblxyXG4gICAgICAgIGlmIChDb250ZW50T2Jqcykge1xyXG4gICAgICAgICAgICBydW5Db250ZW50KENvbnRlbnRPYmpzLCB0YXNrQW5pbUNhbGxiYWNrKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0YXNrQW5pbUNhbGxiYWNrKCk7IC8v5peg5Yqo55S7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBYdXQubG9nKCdkZWJ1ZycsIHBhZ2VUeXBlICsgJ+Wxgu+8jOesrCcgKyAocGFnZUluZGV4ICsgMSkgKyAn6aG15byA5aeLLOacrOmhtemdoklk5Li6JyArIHBhZ2VPYmouY2hhcHRlcklkKVxyXG4gICAgfSlcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3NjaGVkdWxlci9hdXRvLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 93 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.original = original;\n/**\r\n * 复位到初始化的状态\r\n * @return {[type]} [description]\r\n */\n\n/////////\n//优化检测 //\n/////////\nfunction checkOptimize(fn) {\n    if (!Xut.config.scrollPaintingMode) {\n        fn && fn();\n    }\n}\n\n//===============================================================\n//     \n//           翻一页处理： 翻页完毕触发\n//\n//  大量操作DOM结构，所以先隐藏根节点\n//  1 删除所有widget节点\n//  2 复位所有content节点\n// \n//==============================================================\nfunction original(pageObj) {\n\n    Xut.accessControl(pageObj, function (pageObj, ContentObjs, ComponentObjs) {\n\n        //母版对象不还原\n        if (pageObj.pageType === 'master') return;\n\n        var element;\n\n        if (element = pageObj.element) {\n            checkOptimize(function () {\n                element.hide();\n            });\n\n            //销毁所有widget类型的节点\n            if (ComponentObjs) {\n                _.each(ComponentObjs, function (obj) {\n                    obj && obj.destroy();\n                });\n                //销毁widget对象管理\n                pageObj.baseRemoveComponent();\n            }\n\n            //停止动作\n            ContentObjs && _.each(ContentObjs, function (obj) {\n                if (!Xut.CreateFilter.has(obj.pageId, obj.id)) {\n                    obj.resetAnimation && obj.resetAnimation();\n                }\n            });\n\n            checkOptimize(function () {\n                setTimeout(function () {\n                    element.show();\n                    element = null;\n                }, 0);\n            });\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci9vcmlnaW5hbC5qcz8wZmQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBdUJnQixRLEdBQUEsUTs7Ozs7Ozs7O0FBZmhCLFNBQVMsYUFBVCxDQUF1QixFQUF2QixFQUEyQjtBQUN2QixRQUFJLENBQUMsSUFBSSxNQUFKLENBQVcsa0JBQWhCLEVBQW9DO0FBQ2hDLGNBQU0sSUFBTjtBQUNIO0FBQ0o7Ozs7Ozs7Ozs7O0FBV00sU0FBUyxRQUFULENBQWtCLE9BQWxCLEVBQTJCOztBQUU5QixRQUFJLGFBQUosQ0FBa0IsT0FBbEIsRUFBMkIsVUFBUyxPQUFULEVBQWtCLFdBQWxCLEVBQStCLGFBQS9CLEVBQThDOzs7QUFHckUsWUFBSSxRQUFRLFFBQVIsS0FBcUIsUUFBekIsRUFBbUM7O0FBRW5DLFlBQUksT0FBSjs7QUFFQSxZQUFJLFVBQVUsUUFBUSxPQUF0QixFQUErQjtBQUMzQiwwQkFBYyxZQUFXO0FBQ3JCLHdCQUFRLElBQVI7QUFDSCxhQUZEOzs7QUFNQSxnQkFBSSxhQUFKLEVBQW1CO0FBQ2Ysa0JBQUUsSUFBRixDQUFPLGFBQVAsRUFBc0IsVUFBUyxHQUFULEVBQWM7QUFDaEMsMkJBQU8sSUFBSSxPQUFKLEVBQVA7QUFDSCxpQkFGRDs7QUFJQSx3QkFBUSxtQkFBUjtBQUNIOzs7QUFHRCwyQkFBZSxFQUFFLElBQUYsQ0FBTyxXQUFQLEVBQW9CLFVBQVMsR0FBVCxFQUFjO0FBQzdDLG9CQUFJLENBQUMsSUFBSSxZQUFKLENBQWlCLEdBQWpCLENBQXFCLElBQUksTUFBekIsRUFBaUMsSUFBSSxFQUFyQyxDQUFMLEVBQStDO0FBQzNDLHdCQUFJLGNBQUosSUFBc0IsSUFBSSxjQUFKLEVBQXRCO0FBQ0g7QUFDSixhQUpjLENBQWY7O0FBTUEsMEJBQWMsWUFBVztBQUNyQiwyQkFBVyxZQUFXO0FBQ2xCLDRCQUFRLElBQVI7QUFDQSw4QkFBVSxJQUFWO0FBQ0gsaUJBSEQsRUFHRyxDQUhIO0FBSUgsYUFMRDtBQU1IO0FBRUosS0FyQ0Q7QUFzQ0giLCJmaWxlIjoiOTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5aSN5L2N5Yiw5Yid5aeL5YyW55qE54q25oCBXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuXHJcbi8vLy8vLy8vL1xyXG4vL+S8mOWMluajgOa1iyAvL1xyXG4vLy8vLy8vLy9cclxuZnVuY3Rpb24gY2hlY2tPcHRpbWl6ZShmbikge1xyXG4gICAgaWYgKCFYdXQuY29uZmlnLnNjcm9sbFBhaW50aW5nTW9kZSkge1xyXG4gICAgICAgIGZuICYmIGZuKClcclxuICAgIH1cclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gICAgICBcclxuLy8gICAgICAgICAgIOe/u+S4gOmhteWkhOeQhu+8miDnv7vpobXlrozmr5Xop6blj5FcclxuLy9cclxuLy8gIOWkp+mHj+aTjeS9nERPTee7k+aehO+8jOaJgOS7peWFiOmakOiXj+agueiKgueCuVxyXG4vLyAgMSDliKDpmaTmiYDmnIl3aWRnZXToioLngrlcclxuLy8gIDIg5aSN5L2N5omA5pyJY29udGVudOiKgueCuVxyXG4vLyAgXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIG9yaWdpbmFsKHBhZ2VPYmopIHtcclxuXHJcbiAgICBYdXQuYWNjZXNzQ29udHJvbChwYWdlT2JqLCBmdW5jdGlvbihwYWdlT2JqLCBDb250ZW50T2JqcywgQ29tcG9uZW50T2Jqcykge1xyXG5cclxuICAgICAgICAvL+avjeeJiOWvueixoeS4jei/mOWOn1xyXG4gICAgICAgIGlmIChwYWdlT2JqLnBhZ2VUeXBlID09PSAnbWFzdGVyJykgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgPSBwYWdlT2JqLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY2hlY2tPcHRpbWl6ZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8v6ZSA5q+B5omA5pyJd2lkZ2V057G75Z6L55qE6IqC54K5XHJcbiAgICAgICAgICAgIGlmIChDb21wb25lbnRPYmpzKSB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2goQ29tcG9uZW50T2JqcywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqICYmIG9iai5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8v6ZSA5q+Bd2lkZ2V05a+56LGh566h55CGXHJcbiAgICAgICAgICAgICAgICBwYWdlT2JqLmJhc2VSZW1vdmVDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/lgZzmraLliqjkvZxcclxuICAgICAgICAgICAgQ29udGVudE9ianMgJiYgXy5lYWNoKENvbnRlbnRPYmpzLCBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgIGlmICghWHV0LkNyZWF0ZUZpbHRlci5oYXMob2JqLnBhZ2VJZCwgb2JqLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXNldEFuaW1hdGlvbiAmJiBvYmoucmVzZXRBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGNoZWNrT3B0aW1pemUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3NjaGVkdWxlci9vcmlnaW5hbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 94 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.recovery = recovery;\n/**\r\n * 动作复位状态\r\n * @return {[type]} [description]\r\n */\n\n//========================================================\n//          复位状态\n//          状态控制\n//  如果返回false证明有热点,\n//  第一次只能关闭热点不能退出页面\n//=========================================================\nfunction recovery(pageObj) {\n    return Xut.accessControl(pageObj, function (pageObj, ContentObjs, ComponentObjs) {\n        var falg = false;\n        _.each([ContentObjs, ComponentObjs], function (collectionObj) {\n            collectionObj && _.each(collectionObj, function (obj) {\n                //如果返回值是false,则是算热点处理行为\n                if (obj.recovery && obj.recovery()) {\n                    falg = true;\n                }\n            });\n        });\n        return falg;\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci9yZWNvdmVyeS5qcz9hZDI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBWWdCLFEsR0FBQSxROzs7Ozs7Ozs7Ozs7QUFBVCxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsRUFBMkI7QUFDOUIsV0FBTyxJQUFJLGFBQUosQ0FBa0IsT0FBbEIsRUFBMkIsVUFBUyxPQUFULEVBQWtCLFdBQWxCLEVBQStCLGFBQS9CLEVBQThDO0FBQzVFLFlBQUksT0FBTyxLQUFYO0FBQ0EsVUFBRSxJQUFGLENBQU8sQ0FBQyxXQUFELEVBQWMsYUFBZCxDQUFQLEVBQXFDLFVBQVMsYUFBVCxFQUF3QjtBQUN6RCw2QkFBaUIsRUFBRSxJQUFGLENBQU8sYUFBUCxFQUFzQixVQUFTLEdBQVQsRUFBYzs7QUFFakQsb0JBQUksSUFBSSxRQUFKLElBQWdCLElBQUksUUFBSixFQUFwQixFQUFvQztBQUNoQywyQkFBTyxJQUFQO0FBQ0g7QUFDSixhQUxnQixDQUFqQjtBQU1ILFNBUEQ7QUFRQSxlQUFPLElBQVA7QUFDSCxLQVhNLENBQVA7QUFZSCIsImZpbGUiOiI5NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDliqjkvZzlpI3kvY3nirbmgIFcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gICAgICAgICAg5aSN5L2N54q25oCBXHJcbi8vICAgICAgICAgIOeKtuaAgeaOp+WItlxyXG4vLyAg5aaC5p6c6L+U5ZueZmFsc2Xor4HmmI7mnInng63ngrksXHJcbi8vICDnrKzkuIDmrKHlj6rog73lhbPpl63ng63ngrnkuI3og73pgIDlh7rpobXpnaJcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlY292ZXJ5KHBhZ2VPYmopIHtcclxuICAgIHJldHVybiBYdXQuYWNjZXNzQ29udHJvbChwYWdlT2JqLCBmdW5jdGlvbihwYWdlT2JqLCBDb250ZW50T2JqcywgQ29tcG9uZW50T2Jqcykge1xyXG4gICAgICAgIHZhciBmYWxnID0gZmFsc2U7XHJcbiAgICAgICAgXy5lYWNoKFtDb250ZW50T2JqcywgQ29tcG9uZW50T2Jqc10sIGZ1bmN0aW9uKGNvbGxlY3Rpb25PYmopIHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbk9iaiAmJiBfLmVhY2goY29sbGVjdGlvbk9iaiwgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOi/lOWbnuWAvOaYr2ZhbHNlLOWImeaYr+eul+eDreeCueWkhOeQhuihjOS4ulxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvdmVyeSAmJiBvYmoucmVjb3ZlcnkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhbGcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGZhbGc7XHJcbiAgICB9KVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9zY2hlZHVsZXIvcmVjb3ZlcnkuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 95 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.suspend = suspend;\n/**\r\n * 暂停控制\r\n * @return {[type]} [description]\r\n */\n\n//翻页时,暂停滑动页面的所有热点动作\n//翻页停止content动作\nfunction suspend(pageObj, pageId) {\n\n    Xut.accessControl(pageObj, function (pageObj, ContentObjs, ComponentObjs) {\n        //多媒体处理\n        if (pageId !== undefined) {\n            //离开页面销毁视频\n            Xut.VideoManager.removeVideo(pageId);\n            //翻页停止母板音频\n            if (pageObj.pageType === 'master') {\n                Xut.AudioManager.hangUpAudio();\n            }\n        }\n\n        //content类型\n        if (ContentObjs) {\n            _.each(ContentObjs, function (obj) {\n                obj.flipOver && obj.flipOver();\n            });\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci9zdXNwZW5kLmpzP2RjMjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFPZ0IsTyxHQUFBLE87Ozs7Ozs7O0FBQVQsU0FBUyxPQUFULENBQWlCLE9BQWpCLEVBQTBCLE1BQTFCLEVBQWtDOztBQUVyQyxRQUFJLGFBQUosQ0FBa0IsT0FBbEIsRUFBMkIsVUFBUyxPQUFULEVBQWtCLFdBQWxCLEVBQStCLGFBQS9CLEVBQThDOztBQUVyRSxZQUFJLFdBQVcsU0FBZixFQUEwQjs7QUFFdEIsZ0JBQUksWUFBSixDQUFpQixXQUFqQixDQUE2QixNQUE3Qjs7QUFFQSxnQkFBSSxRQUFRLFFBQVIsS0FBcUIsUUFBekIsRUFBbUM7QUFDL0Isb0JBQUksWUFBSixDQUFpQixXQUFqQjtBQUNIO0FBQ0o7OztBQUdELFlBQUksV0FBSixFQUFpQjtBQUNiLGNBQUUsSUFBRixDQUFPLFdBQVAsRUFBb0IsVUFBUyxHQUFULEVBQWM7QUFDOUIsb0JBQUksUUFBSixJQUFnQixJQUFJLFFBQUosRUFBaEI7QUFDSCxhQUZEO0FBR0g7QUFDSixLQWpCRDtBQW1CSCIsImZpbGUiOiI5NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmmoLlgZzmjqfliLZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuLy/nv7vpobXml7Ys5pqC5YGc5ruR5Yqo6aG16Z2i55qE5omA5pyJ54Ot54K55Yqo5L2cXHJcbi8v57+76aG15YGc5q2iY29udGVudOWKqOS9nFxyXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZChwYWdlT2JqLCBwYWdlSWQpIHtcclxuXHJcbiAgICBYdXQuYWNjZXNzQ29udHJvbChwYWdlT2JqLCBmdW5jdGlvbihwYWdlT2JqLCBDb250ZW50T2JqcywgQ29tcG9uZW50T2Jqcykge1xyXG4gICAgICAgIC8v5aSa5aqS5L2T5aSE55CGXHJcbiAgICAgICAgaWYgKHBhZ2VJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8v56a75byA6aG16Z2i6ZSA5q+B6KeG6aKRXHJcbiAgICAgICAgICAgIFh1dC5WaWRlb01hbmFnZXIucmVtb3ZlVmlkZW8ocGFnZUlkKTtcclxuICAgICAgICAgICAgLy/nv7vpobXlgZzmraLmr43mnb/pn7PpopFcclxuICAgICAgICAgICAgaWYgKHBhZ2VPYmoucGFnZVR5cGUgPT09ICdtYXN0ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBYdXQuQXVkaW9NYW5hZ2VyLmhhbmdVcEF1ZGlvKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb250ZW5057G75Z6LXHJcbiAgICAgICAgaWYgKENvbnRlbnRPYmpzKSB7XHJcbiAgICAgICAgICAgIF8uZWFjaChDb250ZW50T2JqcywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouZmxpcE92ZXIgJiYgb2JqLmZsaXBPdmVyKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3NjaGVkdWxlci9zdXNwZW5kLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 96 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.trigger = trigger;\n\nvar _bind = __webpack_require__(7);\n\nfunction trigger(target, attribute, rootNode, pageIndex) {\n\n    var key, tag, type, id, dir, data, pageType, instance;\n\n    if (key = target.id) {\n\n        tag = key.split('_');\n        type = tag[0];\n        id = tag[1];\n        dir = _bind.Bind[type];\n\n        if (dir && dir.eventDelegate) {\n\n            //获取页面类型\n            pageType = function () {\n                if (rootNode && rootNode.id) {\n                    return (/page/.test(rootNode.id) ? 'page' : 'master'\n                    );\n                } else {\n                    return 'page';\n                }\n            }();\n\n            data = {\n                \"id\": id,\n                \"activityId\": id,\n                \"key\": key,\n                \"type\": type,\n                \"rootNode\": rootNode,\n                \"target\": target,\n                \"pageIndex\": pageIndex,\n                'pageType': pageType\n            };\n\n            //如果是重复点击\n            if (instance = Xut.Application.GetSpecifiedObject(pageType, data)) {\n                if (instance.dispatchProcess) {\n                    //如果有对应的处理方法\n                    return instance.dispatchProcess();\n                }\n            }\n\n            //委派新的任务\n            dir.eventDelegate(data);\n        }\n    }\n} /**\r\n   * 手动触发控制\r\n   * @return {[type]} [description]\r\n   */\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NjaGVkdWxlci90cmlnZ2VyLmpzP2UwMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFVZ0IsTyxHQUFBLE87O0FBTGhCOztBQUtPLFNBQVMsT0FBVCxDQUFpQixNQUFqQixFQUF5QixTQUF6QixFQUFvQyxRQUFwQyxFQUE4QyxTQUE5QyxFQUF5RDs7QUFFNUQsUUFBSSxHQUFKLEVBQ0ksR0FESixFQUVJLElBRkosRUFHSSxFQUhKLEVBSUksR0FKSixFQUtJLElBTEosRUFNSSxRQU5KLEVBT0ksUUFQSjs7QUFTQSxRQUFJLE1BQU0sT0FBTyxFQUFqQixFQUFxQjs7QUFFakIsY0FBTSxJQUFJLEtBQUosQ0FBVSxHQUFWLENBQU47QUFDQSxlQUFPLElBQUksQ0FBSixDQUFQO0FBQ0EsYUFBSyxJQUFJLENBQUosQ0FBTDtBQUNBLGNBQU0sV0FBSyxJQUFMLENBQU47O0FBRUEsWUFBSSxPQUFPLElBQUksYUFBZixFQUE4Qjs7O0FBRzFCLHVCQUFXLFlBQVc7QUFDbEIsb0JBQUksWUFBWSxTQUFTLEVBQXpCLEVBQTZCO0FBQ3pCLDJCQUFPLFFBQU8sSUFBUCxDQUFZLFNBQVMsRUFBckIsSUFBMkIsTUFBM0IsR0FBb0M7QUFBM0M7QUFDSCxpQkFGRCxNQUVPO0FBQ0gsMkJBQU8sTUFBUDtBQUNIO0FBQ0osYUFOVSxFQUFYOztBQVFBLG1CQUFPO0FBQ0gsc0JBQU0sRUFESDtBQUVILDhCQUFjLEVBRlg7QUFHSCx1QkFBTyxHQUhKO0FBSUgsd0JBQVEsSUFKTDtBQUtILDRCQUFZLFFBTFQ7QUFNSCwwQkFBVSxNQU5QO0FBT0gsNkJBQWEsU0FQVjtBQVFILDRCQUFZO0FBUlQsYUFBUDs7O0FBWUEsZ0JBQUksV0FBVyxJQUFJLFdBQUosQ0FBZ0Isa0JBQWhCLENBQW1DLFFBQW5DLEVBQTZDLElBQTdDLENBQWYsRUFBbUU7QUFDL0Qsb0JBQUksU0FBUyxlQUFiLEVBQThCOztBQUUxQiwyQkFBTyxTQUFTLGVBQVQsRUFBUDtBQUNIO0FBQ0o7OztBQUdELGdCQUFJLGFBQUosQ0FBa0IsSUFBbEI7QUFDSDtBQUNKO0FBQ0osQyIsImZpbGUiOiI5Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmiYvliqjop6blj5HmjqfliLZcclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIEJpbmRcclxufVxyXG5mcm9tICcuLi9wYWdlYmFzZS90aHJlYWQvZGlzcGVuc2VyL2JpbmQnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIGF0dHJpYnV0ZSwgcm9vdE5vZGUsIHBhZ2VJbmRleCkge1xyXG5cclxuICAgIHZhciBrZXksXHJcbiAgICAgICAgdGFnLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgZGlyLFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgcGFnZVR5cGUsXHJcbiAgICAgICAgaW5zdGFuY2U7XHJcblxyXG4gICAgaWYgKGtleSA9IHRhcmdldC5pZCkge1xyXG5cclxuICAgICAgICB0YWcgPSBrZXkuc3BsaXQoJ18nKTtcclxuICAgICAgICB0eXBlID0gdGFnWzBdO1xyXG4gICAgICAgIGlkID0gdGFnWzFdO1xyXG4gICAgICAgIGRpciA9IEJpbmRbdHlwZV07XHJcblxyXG4gICAgICAgIGlmIChkaXIgJiYgZGlyLmV2ZW50RGVsZWdhdGUpIHtcclxuXHJcbiAgICAgICAgICAgIC8v6I635Y+W6aG16Z2i57G75Z6LXHJcbiAgICAgICAgICAgIHBhZ2VUeXBlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm9vdE5vZGUgJiYgcm9vdE5vZGUuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gL3BhZ2UvLnRlc3Qocm9vdE5vZGUuaWQpID8gJ3BhZ2UnIDogJ21hc3Rlcic7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncGFnZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0oKTtcclxuXHJcbiAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBcImlkXCI6IGlkLFxyXG4gICAgICAgICAgICAgICAgXCJhY3Rpdml0eUlkXCI6IGlkLFxyXG4gICAgICAgICAgICAgICAgXCJrZXlcIjoga2V5LFxyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICBcInJvb3ROb2RlXCI6IHJvb3ROb2RlLFxyXG4gICAgICAgICAgICAgICAgXCJ0YXJnZXRcIjogdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgXCJwYWdlSW5kZXhcIjogcGFnZUluZGV4LFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2VUeXBlJzogcGFnZVR5cGVcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8v5aaC5p6c5piv6YeN5aSN54K55Ye7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSA9IFh1dC5BcHBsaWNhdGlvbi5HZXRTcGVjaWZpZWRPYmplY3QocGFnZVR5cGUsIGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGlzcGF0Y2hQcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzmnInlr7nlupTnmoTlpITnkIbmlrnms5VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuZGlzcGF0Y2hQcm9jZXNzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v5aeU5rS+5paw55qE5Lu75YqhXHJcbiAgICAgICAgICAgIGRpci5ldmVudERlbGVnYXRlKGRhdGEpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi9zY2hlZHVsZXIvdHJpZ2dlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 97 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * [svgIconConfig description]\r\n * http://tympanus.net/Development/AnimatedSVGIcons/\r\n * @type {Object}\r\n */\nvar iconConfig = {\n    nextArrow: {\n        url: 'images/icons/pageback.svg',\n        animation: [{\n            el: 'path:nth-child(1)',\n            animProperties: {\n                from: {\n                    val: '{\"transform\" : \"r0 16 16\", \"fill-opacity\" : \"0.9\"}',\n                    before: '{\"fill-opacity\" : \"0.9\", \"stroke-opacity\" : \"0\" , \"transform\" : \"r90 16 16\"}'\n                },\n                to: {\n                    val: '{\"transform\" : \"r360 16 16\", \"fill-opacity\": \"0\"}',\n                    before: '{\"fill-opacity\" : \"0\", \"stroke-opacity\" : \"1\" }'\n                }\n            }\n        }]\n    },\n    prevArrow: {\n        url: 'images/icons/pageforward.svg',\n        animation: [{\n            el: 'path:nth-child(1)',\n            animProperties: {\n                from: {\n                    val: '{\"transform\" : \"r0 16 16\", \"fill-opacity\" : \"0.9\"}',\n                    before: '{\"fill-opacity\" : \"0.9\", \"stroke-opacity\" : \"0\" , \"transform\" : \"r90 16 16\"}'\n                },\n                to: {\n                    val: '{\"transform\" : \"r360 16 16\", \"fill-opacity\": \"0\"}',\n                    before: '{\"fill-opacity\" : \"0\", \"stroke-opacity\" : \"1\" }'\n                }\n            }\n        }]\n    },\n    close: {\n        url: 'images/icons/close.svg',\n        animation: [{\n            el: 'path:nth-child(1)',\n            animProperties: {\n                from: {\n                    val: '{\"transform\" : \"r0 16 16\", \"fill-opacity\" : \"0.9\"}',\n                    before: '{\"fill-opacity\" : \"0.9\", \"stroke-opacity\" : \"0\" , \"transform\" : \"r90 16 16\"}'\n                },\n                to: {\n                    val: '{\"transform\" : \"r360 16 16\", \"fill-opacity\": \"0\"}',\n                    before: '{\"fill-opacity\" : \"0\", \"stroke-opacity\" : \"1\" }'\n                }\n            }\n        }]\n    },\n    back: {\n        url: 'images/icons/back.svg',\n        animation: [{\n            el: 'path:nth-child(1)',\n            animProperties: {\n                from: {\n                    val: '{\"transform\" : \"r0 16 16\", \"fill-opacity\" : \"0.9\"}',\n                    before: '{\"fill-opacity\" : \"0.9\", \"stroke-opacity\" : \"0\" , \"transform\" : \"r90 16 16\"}'\n                },\n                to: {\n                    val: '{\"transform\" : \"r360 16 16\", \"fill-opacity\": \"0\"}',\n                    before: '{\"fill-opacity\" : \"0\", \"stroke-opacity\" : \"1\" }'\n                }\n            }\n        }]\n    }\n};\n\nexports.iconConfig = iconConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS9pY29uY29uZmlnLmpzPzE2NWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUtBLElBQUksYUFBYTtBQUNiLGVBQVc7QUFDUCxhQUFLLDJCQURFO0FBRVAsbUJBQVcsQ0FBQztBQUNSLGdCQUFJLG1CQURJO0FBRVIsNEJBQWdCO0FBQ1osc0JBQU07QUFDRix5QkFBSyxvREFESDtBQUVGLDRCQUFRO0FBRk4saUJBRE07QUFLWixvQkFBSTtBQUNBLHlCQUFLLG1EQURMO0FBRUEsNEJBQVE7QUFGUjtBQUxRO0FBRlIsU0FBRDtBQUZKLEtBREU7QUFpQmIsZUFBVztBQUNQLGFBQUssOEJBREU7QUFFUCxtQkFBVyxDQUFDO0FBQ1IsZ0JBQUksbUJBREk7QUFFUiw0QkFBZ0I7QUFDWixzQkFBTTtBQUNGLHlCQUFLLG9EQURIO0FBRUYsNEJBQVE7QUFGTixpQkFETTtBQUtaLG9CQUFJO0FBQ0EseUJBQUssbURBREw7QUFFQSw0QkFBUTtBQUZSO0FBTFE7QUFGUixTQUFEO0FBRkosS0FqQkU7QUFpQ2IsV0FBTztBQUNILGFBQUssd0JBREY7QUFFSCxtQkFBVyxDQUFDO0FBQ1IsZ0JBQUksbUJBREk7QUFFUiw0QkFBZ0I7QUFDWixzQkFBTTtBQUNGLHlCQUFLLG9EQURIO0FBRUYsNEJBQVE7QUFGTixpQkFETTtBQUtaLG9CQUFJO0FBQ0EseUJBQUssbURBREw7QUFFQSw0QkFBUTtBQUZSO0FBTFE7QUFGUixTQUFEO0FBRlIsS0FqQ007QUFpRGIsVUFBTTtBQUNGLGFBQUssdUJBREg7QUFFRixtQkFBVyxDQUFDO0FBQ1IsZ0JBQUksbUJBREk7QUFFUiw0QkFBZ0I7QUFDWixzQkFBTTtBQUNGLHlCQUFLLG9EQURIO0FBRUYsNEJBQVE7QUFGTixpQkFETTtBQUtaLG9CQUFJO0FBQ0EseUJBQUssbURBREw7QUFFQSw0QkFBUTtBQUZSO0FBTFE7QUFGUixTQUFEO0FBRlQ7QUFqRE8sQ0FBakI7O1FBb0VRLFUsR0FBQSxVIiwiZmlsZSI6Ijk3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFtzdmdJY29uQ29uZmlnIGRlc2NyaXB0aW9uXVxyXG4gKiBodHRwOi8vdHltcGFudXMubmV0L0RldmVsb3BtZW50L0FuaW1hdGVkU1ZHSWNvbnMvXHJcbiAqIEB0eXBlIHtPYmplY3R9XHJcbiAqL1xyXG5sZXQgaWNvbkNvbmZpZyA9IHtcclxuICAgIG5leHRBcnJvdzoge1xyXG4gICAgICAgIHVybDogJ2ltYWdlcy9pY29ucy9wYWdlYmFjay5zdmcnLFxyXG4gICAgICAgIGFuaW1hdGlvbjogW3tcclxuICAgICAgICAgICAgZWw6ICdwYXRoOm50aC1jaGlsZCgxKScsXHJcbiAgICAgICAgICAgIGFuaW1Qcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICAgICAgICBmcm9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAne1widHJhbnNmb3JtXCIgOiBcInIwIDE2IDE2XCIsIFwiZmlsbC1vcGFjaXR5XCIgOiBcIjAuOVwifScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiAne1wiZmlsbC1vcGFjaXR5XCIgOiBcIjAuOVwiLCBcInN0cm9rZS1vcGFjaXR5XCIgOiBcIjBcIiAsIFwidHJhbnNmb3JtXCIgOiBcInI5MCAxNiAxNlwifSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0bzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbDogJ3tcInRyYW5zZm9ybVwiIDogXCJyMzYwIDE2IDE2XCIsIFwiZmlsbC1vcGFjaXR5XCI6IFwiMFwifScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiAne1wiZmlsbC1vcGFjaXR5XCIgOiBcIjBcIiwgXCJzdHJva2Utb3BhY2l0eVwiIDogXCIxXCIgfSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICB9LFxyXG4gICAgcHJldkFycm93OiB7XHJcbiAgICAgICAgdXJsOiAnaW1hZ2VzL2ljb25zL3BhZ2Vmb3J3YXJkLnN2ZycsXHJcbiAgICAgICAgYW5pbWF0aW9uOiBbe1xyXG4gICAgICAgICAgICBlbDogJ3BhdGg6bnRoLWNoaWxkKDEpJyxcclxuICAgICAgICAgICAgYW5pbVByb3BlcnRpZXM6IHtcclxuICAgICAgICAgICAgICAgIGZyb206IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWw6ICd7XCJ0cmFuc2Zvcm1cIiA6IFwicjAgMTYgMTZcIiwgXCJmaWxsLW9wYWNpdHlcIiA6IFwiMC45XCJ9JyxcclxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6ICd7XCJmaWxsLW9wYWNpdHlcIiA6IFwiMC45XCIsIFwic3Ryb2tlLW9wYWNpdHlcIiA6IFwiMFwiICwgXCJ0cmFuc2Zvcm1cIiA6IFwicjkwIDE2IDE2XCJ9J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAne1widHJhbnNmb3JtXCIgOiBcInIzNjAgMTYgMTZcIiwgXCJmaWxsLW9wYWNpdHlcIjogXCIwXCJ9JyxcclxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6ICd7XCJmaWxsLW9wYWNpdHlcIiA6IFwiMFwiLCBcInN0cm9rZS1vcGFjaXR5XCIgOiBcIjFcIiB9J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgIH0sXHJcbiAgICBjbG9zZToge1xyXG4gICAgICAgIHVybDogJ2ltYWdlcy9pY29ucy9jbG9zZS5zdmcnLFxyXG4gICAgICAgIGFuaW1hdGlvbjogW3tcclxuICAgICAgICAgICAgZWw6ICdwYXRoOm50aC1jaGlsZCgxKScsXHJcbiAgICAgICAgICAgIGFuaW1Qcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICAgICAgICBmcm9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAne1widHJhbnNmb3JtXCIgOiBcInIwIDE2IDE2XCIsIFwiZmlsbC1vcGFjaXR5XCIgOiBcIjAuOVwifScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiAne1wiZmlsbC1vcGFjaXR5XCIgOiBcIjAuOVwiLCBcInN0cm9rZS1vcGFjaXR5XCIgOiBcIjBcIiAsIFwidHJhbnNmb3JtXCIgOiBcInI5MCAxNiAxNlwifSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0bzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbDogJ3tcInRyYW5zZm9ybVwiIDogXCJyMzYwIDE2IDE2XCIsIFwiZmlsbC1vcGFjaXR5XCI6IFwiMFwifScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiAne1wiZmlsbC1vcGFjaXR5XCIgOiBcIjBcIiwgXCJzdHJva2Utb3BhY2l0eVwiIDogXCIxXCIgfSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICB9LFxyXG4gICAgYmFjazoge1xyXG4gICAgICAgIHVybDogJ2ltYWdlcy9pY29ucy9iYWNrLnN2ZycsXHJcbiAgICAgICAgYW5pbWF0aW9uOiBbe1xyXG4gICAgICAgICAgICBlbDogJ3BhdGg6bnRoLWNoaWxkKDEpJyxcclxuICAgICAgICAgICAgYW5pbVByb3BlcnRpZXM6IHtcclxuICAgICAgICAgICAgICAgIGZyb206IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWw6ICd7XCJ0cmFuc2Zvcm1cIiA6IFwicjAgMTYgMTZcIiwgXCJmaWxsLW9wYWNpdHlcIiA6IFwiMC45XCJ9JyxcclxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6ICd7XCJmaWxsLW9wYWNpdHlcIiA6IFwiMC45XCIsIFwic3Ryb2tlLW9wYWNpdHlcIiA6IFwiMFwiICwgXCJ0cmFuc2Zvcm1cIiA6IFwicjkwIDE2IDE2XCJ9J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAne1widHJhbnNmb3JtXCIgOiBcInIzNjAgMTYgMTZcIiwgXCJmaWxsLW9wYWNpdHlcIjogXCIwXCJ9JyxcclxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6ICd7XCJmaWxsLW9wYWNpdHlcIiA6IFwiMFwiLCBcInN0cm9rZS1vcGFjaXR5XCIgOiBcIjFcIiB9J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgIH1cclxufTtcclxuXHJcblxyXG5leHBvcnQge2ljb25Db25maWd9XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS9pY29uY29uZmlnLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 98 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * svgicons.js v1.0.0\r\n * http://www.codrops.com\r\n *\r\n * Licensed under the MIT license.\r\n * http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Copyright 2013, Codrops\r\n * http://www.codrops.com\r\n */\n\n/*** helper functions ***/\n\n// from https://github.com/desandro/classie/blob/master/classie.js\nfunction classReg(className) {\n    return new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\");\n}\n\nfunction hasClass(el, c) {\n    return 'classList' in document.documentElement ? el.classList.contains(c) : classReg(c).test(el.className);\n}\n\nfunction extend(a, b) {\n    for (var key in b) {\n        if (b.hasOwnProperty(key)) {\n            a[key] = b[key];\n        }\n    }\n    return a;\n}\n\n// from http://stackoverflow.com/a/11381730/989439\nfunction mobilecheck() {\n    var check = false;\n    (function (a) {\n        if (/(android|ipad|playbook|silk|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n\n// http://snipplr.com/view.php?codeview&id=5259\nfunction isMouseLeaveOrEnter(e, handler) {\n    if (e.type != 'mouseout' && e.type != 'mouseover') return false;\n    var reltg = e.relatedTarget ? e.relatedTarget : e.type == 'mouseout' ? e.toElement : e.fromElement;\n    while (reltg && reltg != handler) {\n        reltg = reltg.parentNode;\n    }return reltg != handler;\n}\n\n/*** svgIcon ***/\n\nfunction svgIcon(el, config, options) {\n    this.el = el;\n    this.options = extend({}, this.options);\n    extend(this.options, options);\n    this.svg = Snap(this.options.size.w, this.options.size.h);\n    this.svg.attr('viewBox', '0 0 32 32');\n    this.el.appendChild(this.svg.node);\n    // state\n    this.toggled = false;\n    // icons configuration\n    this.config = config[this.el.getAttribute('data-icon-name')];\n    // reverse?\n    if (hasClass(this.el, 'si-icon-reverse')) {\n        this.reverse = true;\n    }\n    if (!this.config) return;\n    var self = this;\n    // load external svg\n    Snap.load(this.config.url, function (f) {\n        var g = f.select('g');\n        self.svg.append(g);\n        self.options.onLoad();\n        self._initEvents();\n        if (self.reverse) {\n            self.toggle(true);\n        }\n    });\n}\n\nsvgIcon.prototype.options = {\n    speed: 200,\n    easing: mina.linear,\n    evtoggle: 'click', // click || mouseover\n    size: {\n        w: 44,\n        h: 44\n    },\n    onLoad: function onLoad() {\n        return false;\n    },\n    onToggle: function onToggle() {\n        return false;\n    }\n};\n\nsvgIcon.prototype._initEvents = function () {\n    var self = this,\n        toggleFn = function toggleFn(ev) {\n        if ((ev.type.toLowerCase() === 'mouseover' || ev.type.toLowerCase() === 'mouseout') && isMouseLeaveOrEnter(ev, this) || ev.type.toLowerCase() === 'touchstart' || ev.type.toLowerCase() === 'mousedown') {\n            self.toggle(true);\n            self.options.onToggle();\n        }\n        return false;\n    };\n\n    if (this.options.evtoggle === 'mouseover') {\n        this.el.addEventListener('mouseover', toggleFn);\n        this.el.addEventListener('mouseout', toggleFn);\n    } else {\n        Xut.plat.execEvent('on', {\n            context: this.el,\n            callback: {\n                start: function start(e) {\n                    toggleFn(e);\n                }\n            }\n        });\n    }\n};\n\nsvgIcon.prototype.toggle = function (motion) {\n    if (!this.config.animation) return;\n    var self = this;\n    for (var i = 0, len = this.config.animation.length; i < len; ++i) {\n        var a = this.config.animation[i],\n            el = this.svg.select(a.el),\n            animProp = this.toggled ? a.animProperties.from : a.animProperties.to,\n            val = animProp.val,\n            timeout = motion && animProp.delayFactor ? animProp.delayFactor : 0;\n\n        if (animProp.before) {\n            el.attr(JSON.parse(animProp.before));\n        }\n\n        if (motion) {\n            setTimeout(function (el, val, animProp) {\n                return function () {\n                    el.animate(JSON.parse(val), self.options.speed, self.options.easing, function () {\n                        if (animProp.after) {\n                            this.attr(JSON.parse(animProp.after));\n                        }\n                        if (animProp.animAfter) {\n                            this.animate(JSON.parse(animProp.animAfter), self.options.speed, self.options.easing);\n                        }\n                    });\n                };\n            }(el, val, animProp), timeout * self.options.speed);\n        } else {\n            el.attr(JSON.parse(val));\n        }\n    }\n    this.toggled = !this.toggled;\n};\n\n// add to global namespace\nexports.svgIcon = svgIcon;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS9zdmdpY29uLmpzPzdjNWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWNBLFNBQVMsUUFBVCxDQUFrQixTQUFsQixFQUE2QjtBQUN6QixXQUFPLElBQUksTUFBSixDQUFXLGFBQWEsU0FBYixHQUF5QixVQUFwQyxDQUFQO0FBQ0g7O0FBRUQsU0FBUyxRQUFULENBQWtCLEVBQWxCLEVBQXNCLENBQXRCLEVBQXlCO0FBQ3JCLFdBQU8sZUFBZSxTQUFTLGVBQXhCLEdBQTBDLEdBQUcsU0FBSCxDQUFhLFFBQWIsQ0FBc0IsQ0FBdEIsQ0FBMUMsR0FBcUUsU0FBUyxDQUFULEVBQVksSUFBWixDQUFpQixHQUFHLFNBQXBCLENBQTVFO0FBQ0g7O0FBRUQsU0FBUyxNQUFULENBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCO0FBQ2xCLFNBQUssSUFBSSxHQUFULElBQWdCLENBQWhCLEVBQW1CO0FBQ2YsWUFBSSxFQUFFLGNBQUYsQ0FBaUIsR0FBakIsQ0FBSixFQUEyQjtBQUN2QixjQUFFLEdBQUYsSUFBUyxFQUFFLEdBQUYsQ0FBVDtBQUNIO0FBQ0o7QUFDRCxXQUFPLENBQVA7QUFDSDs7O0FBR0QsU0FBUyxXQUFULEdBQXVCO0FBQ25CLFFBQUksUUFBUSxLQUFaO0FBQ0EsS0FBQyxVQUFTLENBQVQsRUFBWTtBQUNULFlBQUksc1VBQXNVLElBQXRVLENBQTJVLENBQTNVLEtBQWlWLDBrREFBMGtELElBQTFrRCxDQUEra0QsRUFBRSxNQUFGLENBQVMsQ0FBVCxFQUFZLENBQVosQ0FBL2tELENBQXJWLEVBQXE3RCxRQUFRLElBQVI7QUFDeDdELEtBRkQsRUFFRyxVQUFVLFNBQVYsSUFBdUIsVUFBVSxNQUFqQyxJQUEyQyxPQUFPLEtBRnJEO0FBR0EsV0FBTyxLQUFQO0FBQ0g7OztBQUdELFNBQVMsbUJBQVQsQ0FBNkIsQ0FBN0IsRUFBZ0MsT0FBaEMsRUFBeUM7QUFD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SCxDQUFXLEtBQUssS0FBTCxDQUFXLEdBQVgsQ0FBWCxFQUE0QixLQUFLLE9BQUwsQ0FBYSxLQUF6QyxFQUFnRCxLQUFLLE9BQUwsQ0FBYSxNQUE3RCxFQUFxRSxZQUFXO0FBQzVFLDRCQUFJLFNBQVMsS0FBYixFQUFvQjtBQUNoQixpQ0FBSyxJQUFMLENBQVUsS0FBSyxLQUFMLENBQVcsU0FBUyxLQUFwQixDQUFWO0FBQ0g7QUFDRCw0QkFBSSxTQUFTLFNBQWIsRUFBd0I7QUFDcEIsaUNBQUssT0FBTCxDQUFhLEtBQUssS0FBTCxDQUFXLFNBQVMsU0FBcEIsQ0FBYixFQUE2QyxLQUFLLE9BQUwsQ0FBYSxLQUExRCxFQUFpRSxLQUFLLE9BQUwsQ0FBYSxNQUE5RTtBQUNIO0FBQ0oscUJBUEQ7QUFRSCxpQkFURDtBQVVILGFBWFUsQ0FXVCxFQVhTLEVBV0wsR0FYSyxFQVdBLFFBWEEsQ0FBWCxFQVdzQixVQUFVLEtBQUssT0FBTCxDQUFhLEtBWDdDO0FBWUgsU0FiRCxNQWFPO0FBQ0gsZUFBRyxJQUFILENBQVEsS0FBSyxLQUFMLENBQVcsR0FBWCxDQUFSO0FBQ0g7QUFFSjtBQUNELFNBQUssT0FBTCxHQUFlLENBQUMsS0FBSyxPQUFyQjtBQUNILENBakNEOzs7UUFxQ0ksTyxHQUFBLE8iLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogc3ZnaWNvbnMuanMgdjEuMC4wXHJcbiAqIGh0dHA6Ly93d3cuY29kcm9wcy5jb21cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMywgQ29kcm9wc1xyXG4gKiBodHRwOi8vd3d3LmNvZHJvcHMuY29tXHJcbiAqL1xyXG5cclxuLyoqKiBoZWxwZXIgZnVuY3Rpb25zICoqKi9cclxuXHJcbi8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Rlc2FuZHJvL2NsYXNzaWUvYmxvYi9tYXN0ZXIvY2xhc3NpZS5qc1xyXG5mdW5jdGlvbiBjbGFzc1JlZyhjbGFzc05hbWUpIHtcclxuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiICsgY2xhc3NOYW1lICsgXCIoXFxcXHMrfCQpXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYXNDbGFzcyhlbCwgYykge1xyXG4gICAgcmV0dXJuICdjbGFzc0xpc3QnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjKSA6IGNsYXNzUmVnKGMpLnRlc3QoZWwuY2xhc3NOYW1lKVxyXG59XHJcblxyXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xyXG4gICAgZm9yICh2YXIga2V5IGluIGIpIHtcclxuICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGFba2V5XSA9IGJba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYTtcclxufVxyXG5cclxuLy8gZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTM4MTczMC85ODk0MzlcclxuZnVuY3Rpb24gbW9iaWxlY2hlY2soKSB7XHJcbiAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgIChmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgaWYgKC8oYW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGt8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWluby9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZVxyXG4gICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XHJcbiAgICByZXR1cm4gY2hlY2s7XHJcbn1cclxuXHJcbi8vIGh0dHA6Ly9zbmlwcGxyLmNvbS92aWV3LnBocD9jb2RldmlldyZpZD01MjU5XHJcbmZ1bmN0aW9uIGlzTW91c2VMZWF2ZU9yRW50ZXIoZSwgaGFuZGxlcikge1xyXG4gICAgaWYgKGUudHlwZSAhPSAnbW91c2VvdXQnICYmIGUudHlwZSAhPSAnbW91c2VvdmVyJykgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmFyIHJlbHRnID0gZS5yZWxhdGVkVGFyZ2V0ID8gZS5yZWxhdGVkVGFyZ2V0IDpcclxuICAgICAgICBlLnR5cGUgPT0gJ21vdXNlb3V0JyA/IGUudG9FbGVtZW50IDogZS5mcm9tRWxlbWVudDtcclxuICAgIHdoaWxlIChyZWx0ZyAmJiByZWx0ZyAhPSBoYW5kbGVyKSByZWx0ZyA9IHJlbHRnLnBhcmVudE5vZGU7XHJcbiAgICByZXR1cm4gKHJlbHRnICE9IGhhbmRsZXIpO1xyXG59XHJcblxyXG4vKioqIHN2Z0ljb24gKioqL1xyXG5cclxuZnVuY3Rpb24gc3ZnSWNvbihlbCwgY29uZmlnLCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLmVsID0gZWw7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMub3B0aW9ucyk7XHJcbiAgICBleHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zKTtcclxuICAgIHRoaXMuc3ZnID0gU25hcCh0aGlzLm9wdGlvbnMuc2l6ZS53LCB0aGlzLm9wdGlvbnMuc2l6ZS5oKTtcclxuICAgIHRoaXMuc3ZnLmF0dHIoJ3ZpZXdCb3gnLCAnMCAwIDMyIDMyJyk7XHJcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuc3ZnLm5vZGUpO1xyXG4gICAgLy8gc3RhdGVcclxuICAgIHRoaXMudG9nZ2xlZCA9IGZhbHNlO1xyXG4gICAgLy8gaWNvbnMgY29uZmlndXJhdGlvblxyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWdbdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWNvbi1uYW1lJyldO1xyXG4gICAgLy8gcmV2ZXJzZT9cclxuICAgIGlmIChoYXNDbGFzcyh0aGlzLmVsLCAnc2ktaWNvbi1yZXZlcnNlJykpIHtcclxuICAgICAgICB0aGlzLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmNvbmZpZykgcmV0dXJuO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gbG9hZCBleHRlcm5hbCBzdmdcclxuICAgIFNuYXAubG9hZCh0aGlzLmNvbmZpZy51cmwsIGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB2YXIgZyA9IGYuc2VsZWN0KCdnJyk7XHJcbiAgICAgICAgc2VsZi5zdmcuYXBwZW5kKGcpO1xyXG4gICAgICAgIHNlbGYub3B0aW9ucy5vbkxvYWQoKTtcclxuICAgICAgICBzZWxmLl9pbml0RXZlbnRzKCk7XHJcbiAgICAgICAgaWYgKHNlbGYucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuc3ZnSWNvbi5wcm90b3R5cGUub3B0aW9ucyA9IHtcclxuICAgIHNwZWVkOiAyMDAsXHJcbiAgICBlYXNpbmc6IG1pbmEubGluZWFyLFxyXG4gICAgZXZ0b2dnbGU6ICdjbGljaycsIC8vIGNsaWNrIHx8IG1vdXNlb3ZlclxyXG4gICAgc2l6ZToge1xyXG4gICAgICAgIHc6IDQ0LFxyXG4gICAgICAgIGg6IDQ0XHJcbiAgICB9LFxyXG4gICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgb25Ub2dnbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuXHJcbnN2Z0ljb24ucHJvdG90eXBlLl9pbml0RXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgdG9nZ2xlRm4gPSBmdW5jdGlvbihldikge1xyXG4gICAgICAgICAgICBpZiAoKChldi50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdtb3VzZW92ZXInIHx8IGV2LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ21vdXNlb3V0JykgJiYgaXNNb3VzZUxlYXZlT3JFbnRlcihldiwgdGhpcykpIHx8IGV2LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGV2LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ21vdXNlZG93bicpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vcHRpb25zLm9uVG9nZ2xlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ldnRvZ2dsZSA9PT0gJ21vdXNlb3ZlcicpIHtcclxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRvZ2dsZUZuKTtcclxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdG9nZ2xlRm4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBYdXQucGxhdC5leGVjRXZlbnQoJ29uJywge1xyXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmVsLFxyXG4gICAgICAgICAgICBjYWxsYmFjazoge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVGbihlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufTtcclxuXHJcbnN2Z0ljb24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKG1vdGlvbikge1xyXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5hbmltYXRpb24pIHJldHVybjtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmNvbmZpZy5hbmltYXRpb24ubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICB2YXIgYSA9IHRoaXMuY29uZmlnLmFuaW1hdGlvbltpXSxcclxuICAgICAgICAgICAgZWwgPSB0aGlzLnN2Zy5zZWxlY3QoYS5lbCksXHJcbiAgICAgICAgICAgIGFuaW1Qcm9wID0gdGhpcy50b2dnbGVkID8gYS5hbmltUHJvcGVydGllcy5mcm9tIDogYS5hbmltUHJvcGVydGllcy50byxcclxuICAgICAgICAgICAgdmFsID0gYW5pbVByb3AudmFsLFxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gbW90aW9uICYmIGFuaW1Qcm9wLmRlbGF5RmFjdG9yID8gYW5pbVByb3AuZGVsYXlGYWN0b3IgOiAwO1xyXG5cclxuICAgICAgICBpZiAoYW5pbVByb3AuYmVmb3JlKSB7XHJcbiAgICAgICAgICAgIGVsLmF0dHIoSlNPTi5wYXJzZShhbmltUHJvcC5iZWZvcmUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtb3Rpb24pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihlbCwgdmFsLCBhbmltUHJvcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFuaW1hdGUoSlNPTi5wYXJzZSh2YWwpLCBzZWxmLm9wdGlvbnMuc3BlZWQsIHNlbGYub3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbVByb3AuYWZ0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cihKU09OLnBhcnNlKGFuaW1Qcm9wLmFmdGVyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1Qcm9wLmFuaW1BZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKEpTT04ucGFyc2UoYW5pbVByb3AuYW5pbUFmdGVyKSwgc2VsZi5vcHRpb25zLnNwZWVkLCBzZWxmLm9wdGlvbnMuZWFzaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfShlbCwgdmFsLCBhbmltUHJvcCksIHRpbWVvdXQgKiBzZWxmLm9wdGlvbnMuc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLmF0dHIoSlNPTi5wYXJzZSh2YWwpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgdGhpcy50b2dnbGVkID0gIXRoaXMudG9nZ2xlZDtcclxufTtcclxuXHJcbi8vIGFkZCB0byBnbG9iYWwgbmFtZXNwYWNlXHJcbmV4cG9ydCB7XHJcbiAgICBzdmdJY29uXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3Rvb2xiYXIvYmFzZS9zdmdpY29uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 99 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Bar = undefined;\n\nvar _bookmark = __webpack_require__(100);\n\nvar _toolBar = __webpack_require__(9);\n\nvar _index = __webpack_require__(1);\n\n/**\r\n * 阅读模式工具栏\r\n * @param options object\r\n * @demo {container:页面容器,controlBar:工具栏容器,...}\r\n * @desc 继承自Toolbar.js\r\n */\n\nvar Bar = _toolBar.ToolBar.extend({\n    init: function init(options) {\n        //左右箭头\n        this.arrows = {};\n        //工具栏父容器\n        this.container = options.container;\n        //工具栏容器\n        this.controlBar = options.controlBar;\n        this.pageMode = options.pageMode;\n        //是否有顶部工具栏\n        this.hasTopBar = true;\n        this.Lock = false;\n        this.delay = 50;\n        //图书工具栏高度\n        this.topBarHeight = this.iconHeight * 1.25;\n\n        //配置属性\n        //config\n        this.config = Xut.config;\n        this.initConfig(this.config);\n\n        this.initTool();\n    }\n});\n\n/**\r\n * 初始化\r\n */\nBar.prototype.initTool = function () {\n    //工具栏的显示状态\n    var display = this.controlBar.css('display');\n    this.barStatus = display == 'none' ? false : true;\n    this.setToolbarStyle();\n    this.createBackIcon();\n    this.createDirIcon();\n    this.createMarkIcon();\n    // this.createStarIcon();\n\n    //翻页按钮\n    if (this.pageMode == 2) {\n        this.createArrows();\n    }\n\n    //监听事件\n    var ele = this.container[0];\n\n    Xut.plat.execEvent('on', {\n        context: ele,\n        callback: {\n            end: this\n        }\n    });\n};\n\n/**\r\n * 工具条的样式\r\n */\nBar.prototype.setToolbarStyle = function () {\n    var height = this.topBarHeight,\n        TOP = this.barHeight; //系统工具栏占用的高度\n\n    //在顶部\n    this.controlBar.css({\n        top: 0,\n        height: height + 'px',\n        paddingTop: TOP + 'px',\n        backgroundColor: 'rgba(0, 0, 0, 0.2)', //transparent\n        fontSize: '0.625em',\n        color: 'white'\n    });\n};\n\n/**\r\n * 更新页码\r\n */\nBar.prototype.updatePointer = function () {}\n//预留\n\n\n/**\r\n * 创建目录图标\r\n */\n;Bar.prototype.createDirIcon = function (bar) {\n    var icon = document.createElement('div');\n    icon.innerHTML = '目录';\n    icon.style.width = this.iconHeight + 'px';\n    icon.style.lineHeight = 1.5 * this.topBarHeight + 'px';\n    icon.className = 'xut-book-bar-dir';\n    this.controlBar.append(icon);\n};\n\n//创建书签图标\nBar.prototype.createMarkIcon = function (bar) {\n    var icon = document.createElement('div');\n    icon.innerHTML = '书签';\n    icon.style.width = this.iconHeight + 'px';\n    icon.style.lineHeight = 1.5 * this.topBarHeight + 'px';\n    icon.className = 'xut-book-bar-mark';\n    this.controlBar.append(icon);\n};\n\n/**\r\n * 创建评分图标\r\n */\nBar.prototype.createStarIcon = function (bar) {\n    var icon = document.createElement('div');\n    icon.innerHTML = '评分';\n    icon.style.width = this.iconHeight + 'px';\n    icon.style.lineHeight = 1.5 * this.topBarHeight + 'px';\n    icon.className = 'xut-book-bar-star';\n    this.controlBar.append(icon);\n};\n\n/**\r\n * 后退按钮\r\n * @return {[type]} [description]\r\n */\nBar.prototype.createBackIcon = function () {\n    var icon = document.createElement('div');\n    icon.style.width = this.topBarHeight + 'px';\n    icon.className = 'xut-book-bar-back';\n    this.controlBar.append(icon);\n};\n\n/**\r\n * 显示顶部工具栏\r\n * @return {[type]} [description]\r\n */\nBar.prototype.showTopBar = function () {\n    var that = this;\n\n    if (this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n\n    this.controlBar.css({\n        'display': 'block',\n        'opacity': 0\n    });\n\n    setTimeout(function () {\n        that.controlBar.animate({\n            'opacity': 1\n        }, that.delay, 'linear', function () {\n            that.showSystemBar();\n            that.barStatus = true;\n            that.Lock = false;\n        });\n    }, 50);\n};\n\n/**\r\n * 隐藏顶部工具栏\r\n * @return {[type]} [description]\r\n */\nBar.prototype.hideTopBar = function () {\n    var that = this;\n\n    if (!this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n\n    this.controlBar.animate({\n        'opacity': 0\n    }, that.delay, 'linear', function () {\n        that.controlBar.hide();\n        that.hideSystemBar();\n        that.barStatus = false;\n        that.Lock = false;\n    });\n};\n\n/**\r\n * 创建目录菜单\r\n */\nBar.prototype.createDirMenu = function () {\n    var self = this;\n    var wrap = document.createElement('div');\n    var mask = document.createElement('div');\n    //添加遮层\n    mask.className = 'xut-book-menu-mask';\n    //获取内容\n    this.getDirContent();\n    wrap.className = 'xut-book-menu';\n    wrap.innerHTML = '<ul>' + this.contentText + '</ul>';\n    this.container.append(wrap);\n    //是否滚动\n    this.isScrolled = false;\n\n    //添加滚动条\n    //url : http://iscrolljs.com/\n    this.iscroll = new iScroll(wrap, {\n        scrollbars: true,\n        fadeScrollbars: true,\n        scrollX: false\n    });\n\n    this.menu = wrap;\n\n    this.setColor();\n\n    this.iscroll.on('scrollStart', function (e) {\n        self.isScrolled = true;\n    });\n\n    this.iscroll.on('scrollEnd', function (e) {\n        self.isScrolled = false;\n    });\n\n    wrap.appendChild(mask);\n};\n\n/**\r\n *  显示目录菜单\r\n */\nBar.prototype.showDirMenu = function () {\n    //获取当前页面\n    var page = Xut.Presentation.GetPageElement();\n\n    if (this.menu) {\n        this.menu.style.display = 'block';\n    } else {\n        this.createDirMenu();\n    }\n\n    //添加模糊效果\n    page.addClass('filter');\n    this.page = page;\n\n    //隐藏顶部工具栏\n    this.controlBar.hide();\n    var iscroll = this.iscroll;\n    //自动定位到上一位置\n    if (iscroll.y > iscroll.wrapperHeight) {\n        iscroll.scrollToElement(this.selectedChild);\n    }\n};\n\n/**\r\n *  隐藏目录菜单\r\n */\nBar.prototype.hideDirMenu = function () {\n    this.menu.style.display = 'none';\n    //恢复顶部工具栏\n    this.controlBar.show();\n    //移除模糊效果\n    this.page.removeClass('filter');\n};\n\n/**\r\n *  创建目录内容\r\n */\nBar.prototype.getDirContent = function () {\n\n    var Api = Xut.Presentation;\n    var data = Api.GetAppSectionData();\n    var sns = data[0];\n    var seaonId = sns._id;\n    var cids = Xut.data.Chapter;\n\n    ////////////////////////////\n    //针对book模式，合并了Season的参数 //\n    //1 SeasonTitle\n    //2 ChapterList列表的范围区间\n    ////////////////////////////\n    data = (0, _index.parseJSON)(sns.parameter);\n\n    if (!data) {\n        console.log('book模式parameter数据出错');\n        return;\n    }\n\n    //二级目录\n    function secondaryDirectory(startCid, endCid) {\n        var cid,\n            str = '';\n        for (startCid; startCid <= endCid; startCid++) {\n            cid = cids.item(startCid - 1);\n            if (cid && cid.chapterTitle) {\n                str += '<section><a class=\"xut-book-menu-item\" data-mark=' + seaonId + '-' + startCid + ' href=\"javascript:0\">' + cid.chapterTitle + '</a></section>';\n            }\n        }\n        return str;\n    }\n\n    var i = 0;\n    var len = data.length;\n    var li = '<li class=\"title\"><center class=\"select\">目录</center></li>';\n    var seasonInfo, mark, seasonTitle, seaonId, startCid, endCid;\n\n    for (i; i < len; i++) {\n        seasonInfo = data[i];\n        startCid = seasonInfo.ChapterList[0];\n        endCid = seasonInfo.ChapterList[1];\n        mark = seaonId + '-' + startCid;\n        if (seasonInfo.SeasonTitle.length <= 0) continue;\n        seasonTitle = seasonInfo.SeasonTitle || '第' + (i + 1) + '章';\n        //第一级目录\n        li += '<li>' + '<a class=\"xut-book-menu-item\" data-mark=\"' + mark + '\" href=\"javascript:0\">' + seasonTitle + '</a>' +\n        //第二级目录\n        secondaryDirectory(startCid, endCid);\n        '</li>';\n    }\n\n    this.contentText = li;\n};\n\n/**\r\n * 突出显示点击颜色\r\n */\nBar.prototype.setColor = function (element) {\n    if (this.selectedChild) {\n        this.selectedChild.className = 'xut-book-menu-item';\n    }\n\n    element = element || this.menu.querySelectorAll('li')[1].children[0];\n    element.className = 'select';\n    this.selectedChild = element;\n};\n\n/**\r\n * 跳转到指定书页\r\n */\nBar.prototype.turnToPage = function (target) {\n    //忽略滚动点击\n    if (this.isScrolled) return;\n    this.setColor(target);\n    this.hideDirMenu();\n    var data = target.dataset.mark || '';\n    if (data) {\n        data = data.split('-');\n        Xut.View.LoadScenario({\n            'scenarioId': data[0],\n            'chapterId': data[1]\n        });\n    }\n};\n\n/**\r\n * 显示书签\r\n */\nBar.prototype.showBookMark = function () {\n    if (this.bookMark) {\n        this.bookMark.restore();\n    } else {\n        var pageData = Xut.Presentation.GetPageData();\n        this.bookMark = new _bookmark.BookMark({\n            parent: this.container,\n            seasonId: pageData.seasonId,\n            pageId: pageData._id\n        });\n    }\n};\n\n/**\r\n * 返回首页\r\n */\n\nBar.prototype.goBack = function () {\n    var self = this;\n    Xut.Application.Suspend({\n        dispose: function dispose(promptMessage) {\n            //停止热点动作\n            //promptMessage('再按一次将跳至首页！')\n        },\n        processed: function processed() {\n            Xut.View.GotoSlide(1); //调整到首页\n            self.setColor();\n        }\n    });\n};\n\n/**\r\n * 事件处理\r\n */\nBar.prototype.handleEvent = function (e) {\n\n    var target = e.target || e.srcElement;\n\n    var name = target.className;\n\n    switch (name) {\n        case 'xut-book-bar-back':\n            this.goBack();\n            //返回\n            break;\n        case 'xut-book-bar-dir':\n            //目录\n            this.showDirMenu();\n            break;\n        case 'xut-book-bar-mark':\n            //书签\n            this.showBookMark();\n            break;\n        case 'xut-book-bar-star':\n            //评分\n            break;\n        case 'xut-book-menu-item':\n            //跳转\n            this.turnToPage(target);\n            break;\n        case 'xut-book-menu-mask':\n        case 'select':\n            this.hideDirMenu();\n            break;\n        default:\n            // console.log(name+':undefined')\n            break;\n    }\n};\n\n/**\r\n * 销毁\r\n */\nBar.prototype.destroy = function () {\n    this.iscroll && this.iscroll.destroy();\n    this.bookMark && this.bookMark.destroy();\n    var ele = this.container[0];\n    ele.removeEventListener('touchend', this, false);\n    ele.removeEventListener('mouseup', this, false);\n    this.iscroll = null;\n    this.menu = null;\n    this.page = null;\n};\n\nexports.Bar = Bar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvYm9va2Jhci5qcz80NzUxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7O0FBU0EsSUFBSSxNQUFNLGlCQUFRLE1BQVIsQ0FBZTtBQUNyQixVQUFNLGNBQVMsT0FBVCxFQUFrQjs7QUFFcEIsYUFBSyxNQUFMLEdBQWMsRUFBZDs7QUFFQSxhQUFLLFNBQUwsR0FBaUIsUUFBUSxTQUF6Qjs7QUFFQSxhQUFLLFVBQUwsR0FBa0IsUUFBUSxVQUExQjtBQUNBLGFBQUssUUFBTCxHQUFnQixRQUFRLFFBQXhCOztBQUVBLGFBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLGFBQUssSUFBTCxHQUFZLEtBQVo7QUFDQSxhQUFLLEtBQUwsR0FBYSxFQUFiOztBQUVBLGFBQUssWUFBTCxHQUFvQixLQUFLLFVBQUwsR0FBa0IsSUFBdEM7Ozs7QUFJQSxhQUFLLE1BQUwsR0FBYyxJQUFJLE1BQWxCO0FBQ0EsYUFBSyxVQUFMLENBQWdCLEtBQUssTUFBckI7O0FBRUEsYUFBSyxRQUFMO0FBQ0g7QUF0Qm9CLENBQWYsQ0FBVjs7Ozs7QUE0QkEsSUFBSSxTQUFKLENBQWMsUUFBZCxHQUF5QixZQUFXOztBQUVoQyxRQUFJLFVBQVUsS0FBSyxVQUFMLENBQWdCLEdBQWhCLENBQW9CLFNBQXBCLENBQWQ7QUFDQSxTQUFLLFNBQUwsR0FBaUIsV0FBVyxNQUFYLEdBQW9CLEtBQXBCLEdBQTRCLElBQTdDO0FBQ0EsU0FBSyxlQUFMO0FBQ0EsU0FBSyxjQUFMO0FBQ0EsU0FBSyxhQUFMO0FBQ0EsU0FBSyxjQUFMOzs7O0FBSUEsUUFBSSxLQUFLLFFBQUwsSUFBaUIsQ0FBckIsRUFBd0I7QUFDcEIsYUFBSyxZQUFMO0FBQ0g7OztBQUdELFFBQUksTUFBTSxLQUFLLFNBQUwsQ0FBZSxDQUFmLENBQVY7O0FBRUEsUUFBSSxJQUFKLENBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QjtBQUNy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QUFkLEdBQXdCLFlBQVc7QUFDL0IsU0FBSyxPQUFMLElBQWdCLEtBQUssT0FBTCxDQUFhLE9BQWIsRUFBaEI7QUFDQSxTQUFLLFFBQUwsSUFBaUIsS0FBSyxRQUFMLENBQWMsT0FBZCxFQUFqQjtBQUNBLFFBQUksTUFBTSxLQUFLLFNBQUwsQ0FBZSxDQUFmLENBQVY7QUFDQSxRQUFJLG1CQUFKLENBQXdCLFVBQXhCLEVBQW9DLElBQXBDLEVBQTBDLEtBQTFDO0FBQ0EsUUFBSSxtQkFBSixDQUF3QixTQUF4QixFQUFtQyxJQUFuQyxFQUF5QyxLQUF6QztBQUNBLFNBQUssT0FBTCxHQUFlLElBQWY7QUFDQSxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNILENBVEQ7O1FBWVMsRyxHQUFBLEciLCJmaWxlIjoiOTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rTWFyayB9IGZyb20gJy4vYm9va21hcmsnXHJcbmltcG9ydCB7IFRvb2xCYXIgfSBmcm9tICcuL2Jhc2UvdG9vbEJhcidcclxuaW1wb3J0IHsgcGFyc2VKU09OIH0gZnJvbSAnLi4vdXRpbC9pbmRleCdcclxuXHJcbi8qKlxyXG4gKiDpmIXor7vmqKHlvI/lt6XlhbfmoI9cclxuICogQHBhcmFtIG9wdGlvbnMgb2JqZWN0XHJcbiAqIEBkZW1vIHtjb250YWluZXI66aG16Z2i5a655ZmoLGNvbnRyb2xCYXI65bel5YW35qCP5a655ZmoLC4uLn1cclxuICogQGRlc2Mg57un5om/6IeqVG9vbGJhci5qc1xyXG4gKi9cclxuXHJcbnZhciBCYXIgPSBUb29sQmFyLmV4dGVuZCh7XHJcbiAgICBpbml0OiBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgLy/lt6blj7Pnrq3lpLRcclxuICAgICAgICB0aGlzLmFycm93cyA9IHt9O1xyXG4gICAgICAgIC8v5bel5YW35qCP54i25a655ZmoXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcclxuICAgICAgICAvL+W3peWFt+agj+WuueWZqFxyXG4gICAgICAgIHRoaXMuY29udHJvbEJhciA9IG9wdGlvbnMuY29udHJvbEJhcjtcclxuICAgICAgICB0aGlzLnBhZ2VNb2RlID0gb3B0aW9ucy5wYWdlTW9kZTtcclxuICAgICAgICAvL+aYr+WQpuaciemhtumDqOW3peWFt+agj1xyXG4gICAgICAgIHRoaXMuaGFzVG9wQmFyID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLkxvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gNTA7XHJcbiAgICAgICAgLy/lm77kuablt6XlhbfmoI/pq5jluqZcclxuICAgICAgICB0aGlzLnRvcEJhckhlaWdodCA9IHRoaXMuaWNvbkhlaWdodCAqIDEuMjU7XHJcblxyXG4gICAgICAgIC8v6YWN572u5bGe5oCnXHJcbiAgICAgICAgLy9jb25maWdcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IFh1dC5jb25maWdcclxuICAgICAgICB0aGlzLmluaXRDb25maWcodGhpcy5jb25maWcpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRUb29sKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMllxyXG4gKi9cclxuQmFyLnByb3RvdHlwZS5pbml0VG9vbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy/lt6XlhbfmoI/nmoTmmL7npLrnirbmgIFcclxuICAgIHZhciBkaXNwbGF5ID0gdGhpcy5jb250cm9sQmFyLmNzcygnZGlzcGxheScpO1xyXG4gICAgdGhpcy5iYXJTdGF0dXMgPSBkaXNwbGF5ID09ICdub25lJyA/IGZhbHNlIDogdHJ1ZTtcclxuICAgIHRoaXMuc2V0VG9vbGJhclN0eWxlKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUJhY2tJY29uKCk7XHJcbiAgICB0aGlzLmNyZWF0ZURpckljb24oKTtcclxuICAgIHRoaXMuY3JlYXRlTWFya0ljb24oKTtcclxuICAgIC8vIHRoaXMuY3JlYXRlU3Rhckljb24oKTtcclxuXHJcbiAgICAvL+e/u+mhteaMiemSrlxyXG4gICAgaWYgKHRoaXMucGFnZU1vZGUgPT0gMikge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQXJyb3dzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nm5HlkKzkuovku7ZcclxuICAgIHZhciBlbGUgPSB0aGlzLmNvbnRhaW5lclswXTtcclxuXHJcbiAgICBYdXQucGxhdC5leGVjRXZlbnQoJ29uJywge1xyXG4gICAgICAgIGNvbnRleHQ6IGVsZSxcclxuICAgICAgICBjYWxsYmFjazoge1xyXG4gICAgICAgICAgICBlbmQ6IHRoaXNcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOW3peWFt+adoeeahOagt+W8j1xyXG4gKi9cclxuQmFyLnByb3RvdHlwZS5zZXRUb29sYmFyU3R5bGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBoZWlnaHQgPSB0aGlzLnRvcEJhckhlaWdodCxcclxuICAgICAgICBUT1AgPSB0aGlzLmJhckhlaWdodDsgLy/ns7vnu5/lt6XlhbfmoI/ljaDnlKjnmoTpq5jluqZcclxuXHJcbiAgICAvL+WcqOmhtumDqFxyXG4gICAgdGhpcy5jb250cm9sQmFyLmNzcyh7XHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ICsgJ3B4JyxcclxuICAgICAgICBwYWRkaW5nVG9wOiBUT1AgKyAncHgnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC4yKScsIC8vdHJhbnNwYXJlbnRcclxuICAgICAgICBmb250U2l6ZTogJzAuNjI1ZW0nLFxyXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDpobXnoIFcclxuICovXHJcbkJhci5wcm90b3R5cGUudXBkYXRlUG9pbnRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy/pooTnlZlcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuebruW9leWbvuagh1xyXG4gKi9cclxuQmFyLnByb3RvdHlwZS5jcmVhdGVEaXJJY29uID0gZnVuY3Rpb24oYmFyKSB7XHJcbiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaWNvbi5pbm5lckhUTUwgPSAn55uu5b2VJztcclxuICAgIGljb24uc3R5bGUud2lkdGggPSB0aGlzLmljb25IZWlnaHQgKyAncHgnO1xyXG4gICAgaWNvbi5zdHlsZS5saW5lSGVpZ2h0ID0gMS41ICogdGhpcy50b3BCYXJIZWlnaHQgKyAncHgnO1xyXG4gICAgaWNvbi5jbGFzc05hbWUgPSAneHV0LWJvb2stYmFyLWRpcic7XHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuYXBwZW5kKGljb24pXHJcbn1cclxuXHJcbi8v5Yib5bu65Lmm562+5Zu+5qCHXHJcbkJhci5wcm90b3R5cGUuY3JlYXRlTWFya0ljb24gPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpY29uLmlubmVySFRNTCA9ICfkuabnrb4nO1xyXG4gICAgaWNvbi5zdHlsZS53aWR0aCA9IHRoaXMuaWNvbkhlaWdodCArICdweCc7XHJcbiAgICBpY29uLnN0eWxlLmxpbmVIZWlnaHQgPSAxLjUgKiB0aGlzLnRvcEJhckhlaWdodCArICdweCc7XHJcbiAgICBpY29uLmNsYXNzTmFtZSA9ICd4dXQtYm9vay1iYXItbWFyayc7XHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuYXBwZW5kKGljb24pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliJvlu7ror4TliIblm77moIdcclxuICovXHJcbkJhci5wcm90b3R5cGUuY3JlYXRlU3Rhckljb24gPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpY29uLmlubmVySFRNTCA9ICfor4TliIYnO1xyXG4gICAgaWNvbi5zdHlsZS53aWR0aCA9IHRoaXMuaWNvbkhlaWdodCArICdweCc7XHJcbiAgICBpY29uLnN0eWxlLmxpbmVIZWlnaHQgPSAxLjUgKiB0aGlzLnRvcEJhckhlaWdodCArICdweCc7XHJcbiAgICBpY29uLmNsYXNzTmFtZSA9ICd4dXQtYm9vay1iYXItc3Rhcic7XHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuYXBwZW5kKGljb24pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlkI7pgIDmjInpkq5cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5CYXIucHJvdG90eXBlLmNyZWF0ZUJhY2tJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaWNvbi5zdHlsZS53aWR0aCA9IHRoaXMudG9wQmFySGVpZ2h0ICsgJ3B4JztcclxuICAgIGljb24uY2xhc3NOYW1lID0gJ3h1dC1ib29rLWJhci1iYWNrJztcclxuICAgIHRoaXMuY29udHJvbEJhci5hcHBlbmQoaWNvbilcclxufVxyXG5cclxuLyoqXHJcbiAqIOaYvuekuumhtumDqOW3peWFt+agj1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJhci5wcm90b3R5cGUuc2hvd1RvcEJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgIGlmICh0aGlzLmJhclN0YXR1cykge1xyXG4gICAgICAgIHRoaXMuTG9jayA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuY3NzKHtcclxuICAgICAgICAnZGlzcGxheSc6ICdibG9jaycsXHJcbiAgICAgICAgJ29wYWNpdHknOiAwXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuY29udHJvbEJhci5hbmltYXRlKHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOiAxXHJcbiAgICAgICAgfSwgdGhhdC5kZWxheSwgJ2xpbmVhcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGF0LnNob3dTeXN0ZW1CYXIoKTtcclxuICAgICAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIDUwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOmakOiXj+mhtumDqOW3peWFt+agj1xyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJhci5wcm90b3R5cGUuaGlkZVRvcEJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgIGlmICghdGhpcy5iYXJTdGF0dXMpIHtcclxuICAgICAgICB0aGlzLkxvY2sgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250cm9sQmFyLmFuaW1hdGUoe1xyXG4gICAgICAgICdvcGFjaXR5JzogMFxyXG4gICAgfSwgdGhhdC5kZWxheSwgJ2xpbmVhcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuY29udHJvbEJhci5oaWRlKCk7XHJcbiAgICAgICAgdGhhdC5oaWRlU3lzdGVtQmFyKCk7XHJcbiAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog5Yib5bu655uu5b2V6I+c5Y2VXHJcbiAqL1xyXG5CYXIucHJvdG90eXBlLmNyZWF0ZURpck1lbnUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB2YXIgbWFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgLy/mt7vliqDpga7lsYJcclxuICAgIG1hc2suY2xhc3NOYW1lID0gJ3h1dC1ib29rLW1lbnUtbWFzayc7XHJcbiAgICAvL+iOt+WPluWGheWuuVxyXG4gICAgdGhpcy5nZXREaXJDb250ZW50KCk7XHJcbiAgICB3cmFwLmNsYXNzTmFtZSA9ICd4dXQtYm9vay1tZW51JztcclxuICAgIHdyYXAuaW5uZXJIVE1MID0gJzx1bD4nICsgdGhpcy5jb250ZW50VGV4dCArICc8L3VsPic7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQod3JhcCk7XHJcbiAgICAvL+aYr+WQpua7muWKqFxyXG4gICAgdGhpcy5pc1Njcm9sbGVkID0gZmFsc2U7XHJcblxyXG4gICAgLy/mt7vliqDmu5rliqjmnaFcclxuICAgIC8vdXJsIDogaHR0cDovL2lzY3JvbGxqcy5jb20vXHJcbiAgICB0aGlzLmlzY3JvbGwgPSBuZXcgaVNjcm9sbCh3cmFwLCB7XHJcbiAgICAgICAgc2Nyb2xsYmFyczogdHJ1ZSxcclxuICAgICAgICBmYWRlU2Nyb2xsYmFyczogdHJ1ZSxcclxuICAgICAgICBzY3JvbGxYOiBmYWxzZVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5tZW51ID0gd3JhcDtcclxuXHJcbiAgICB0aGlzLnNldENvbG9yKCk7XHJcblxyXG4gICAgdGhpcy5pc2Nyb2xsLm9uKCdzY3JvbGxTdGFydCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBzZWxmLmlzU2Nyb2xsZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5pc2Nyb2xsLm9uKCdzY3JvbGxFbmQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgc2VsZi5pc1Njcm9sbGVkID0gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3cmFwLmFwcGVuZENoaWxkKG1hc2spO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqICDmmL7npLrnm67lvZXoj5zljZVcclxuICovXHJcbkJhci5wcm90b3R5cGUuc2hvd0Rpck1lbnUgPSBmdW5jdGlvbigpIHtcclxuICAgIC8v6I635Y+W5b2T5YmN6aG16Z2iXHJcbiAgICB2YXIgcGFnZSA9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZUVsZW1lbnQoKTtcclxuXHJcbiAgICBpZiAodGhpcy5tZW51KSB7XHJcbiAgICAgICAgdGhpcy5tZW51LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZURpck1lbnUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+a3u+WKoOaooeeziuaViOaenFxyXG4gICAgcGFnZS5hZGRDbGFzcygnZmlsdGVyJyk7XHJcbiAgICB0aGlzLnBhZ2UgPSBwYWdlO1xyXG5cclxuICAgIC8v6ZqQ6JeP6aG26YOo5bel5YW35qCPXHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuaGlkZSgpO1xyXG4gICAgdmFyIGlzY3JvbGwgPSB0aGlzLmlzY3JvbGw7XHJcbiAgICAvL+iHquWKqOWumuS9jeWIsOS4iuS4gOS9jee9rlxyXG4gICAgaWYgKGlzY3JvbGwueSA+IGlzY3JvbGwud3JhcHBlckhlaWdodCkge1xyXG4gICAgICAgIGlzY3JvbGwuc2Nyb2xsVG9FbGVtZW50KHRoaXMuc2VsZWN0ZWRDaGlsZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAg6ZqQ6JeP55uu5b2V6I+c5Y2VXHJcbiAqL1xyXG5CYXIucHJvdG90eXBlLmhpZGVEaXJNZW51ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm1lbnUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIC8v5oGi5aSN6aG26YOo5bel5YW35qCPXHJcbiAgICB0aGlzLmNvbnRyb2xCYXIuc2hvdygpO1xyXG4gICAgLy/np7vpmaTmqKHns4rmlYjmnpxcclxuICAgIHRoaXMucGFnZS5yZW1vdmVDbGFzcygnZmlsdGVyJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAg5Yib5bu655uu5b2V5YaF5a65XHJcbiAqL1xyXG5CYXIucHJvdG90eXBlLmdldERpckNvbnRlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgQXBpID0gWHV0LlByZXNlbnRhdGlvbjtcclxuICAgIHZhciBkYXRhID0gQXBpLkdldEFwcFNlY3Rpb25EYXRhKCk7XHJcbiAgICB2YXIgc25zID0gZGF0YVswXTtcclxuICAgIHZhciBzZWFvbklkID0gc25zLl9pZDtcclxuICAgIHZhciBjaWRzID0gWHV0LmRhdGEuQ2hhcHRlcjtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvL+mSiOWvuWJvb2vmqKHlvI/vvIzlkIjlubbkuoZTZWFzb27nmoTlj4LmlbAgLy9cclxuICAgIC8vMSBTZWFzb25UaXRsZVxyXG4gICAgLy8yIENoYXB0ZXJMaXN05YiX6KGo55qE6IyD5Zu05Yy66Ze0XHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBkYXRhID0gcGFyc2VKU09OKHNucy5wYXJhbWV0ZXIpO1xyXG5cclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdib29r5qih5byPcGFyYW1ldGVy5pWw5o2u5Ye66ZSZJylcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy/kuoznuqfnm67lvZVcclxuICAgIGZ1bmN0aW9uIHNlY29uZGFyeURpcmVjdG9yeShzdGFydENpZCwgZW5kQ2lkKSB7XHJcbiAgICAgICAgdmFyIGNpZCwgc3RyID0gJyc7XHJcbiAgICAgICAgZm9yIChzdGFydENpZDsgc3RhcnRDaWQgPD0gZW5kQ2lkOyBzdGFydENpZCsrKSB7XHJcbiAgICAgICAgICAgIGNpZCA9IGNpZHMuaXRlbShzdGFydENpZCAtIDEpO1xyXG4gICAgICAgICAgICBpZiAoY2lkICYmIGNpZC5jaGFwdGVyVGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSAnPHNlY3Rpb24+PGEgY2xhc3M9XCJ4dXQtYm9vay1tZW51LWl0ZW1cIiBkYXRhLW1hcms9JyArIHNlYW9uSWQgKyAnLScgKyBzdGFydENpZCArICcgaHJlZj1cImphdmFzY3JpcHQ6MFwiPicgKyBjaWQuY2hhcHRlclRpdGxlICsgJzwvYT48L3NlY3Rpb24+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciBsZW4gPSBkYXRhLmxlbmd0aDtcclxuICAgIHZhciBsaSA9ICc8bGkgY2xhc3M9XCJ0aXRsZVwiPjxjZW50ZXIgY2xhc3M9XCJzZWxlY3RcIj7nm67lvZU8L2NlbnRlcj48L2xpPic7XHJcbiAgICB2YXIgc2Vhc29uSW5mbywgbWFyaywgc2Vhc29uVGl0bGUsIHNlYW9uSWQsIHN0YXJ0Q2lkLCBlbmRDaWQ7XHJcblxyXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBzZWFzb25JbmZvID0gZGF0YVtpXTtcclxuICAgICAgICBzdGFydENpZCA9IHNlYXNvbkluZm8uQ2hhcHRlckxpc3RbMF07XHJcbiAgICAgICAgZW5kQ2lkID0gc2Vhc29uSW5mby5DaGFwdGVyTGlzdFsxXTtcclxuICAgICAgICBtYXJrID0gc2Vhb25JZCArICctJyArIHN0YXJ0Q2lkO1xyXG4gICAgICAgIGlmIChzZWFzb25JbmZvLlNlYXNvblRpdGxlLmxlbmd0aCA8PSAwKSBjb250aW51ZTtcclxuICAgICAgICBzZWFzb25UaXRsZSA9IHNlYXNvbkluZm8uU2Vhc29uVGl0bGUgfHwgJ+esrCcgKyAoaSArIDEpICsgJ+eroCc7XHJcbiAgICAgICAgLy/nrKzkuIDnuqfnm67lvZVcclxuICAgICAgICBsaSArPSAnPGxpPicgK1xyXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJ4dXQtYm9vay1tZW51LWl0ZW1cIiBkYXRhLW1hcms9XCInICsgbWFyayArICdcIiBocmVmPVwiamF2YXNjcmlwdDowXCI+JyArIHNlYXNvblRpdGxlICsgJzwvYT4nICtcclxuICAgICAgICAgICAgLy/nrKzkuoznuqfnm67lvZVcclxuICAgICAgICAgICAgc2Vjb25kYXJ5RGlyZWN0b3J5KHN0YXJ0Q2lkLCBlbmRDaWQpXHJcbiAgICAgICAgJzwvbGk+JztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRlbnRUZXh0ID0gbGk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnqoHlh7rmmL7npLrngrnlh7vpopzoibJcclxuICovXHJcbkJhci5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZENoaWxkKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoaWxkLmNsYXNzTmFtZSA9ICd4dXQtYm9vay1tZW51LWl0ZW0nO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IHRoaXMubWVudS5xdWVyeVNlbGVjdG9yQWxsKCdsaScpWzFdLmNoaWxkcmVuWzBdO1xyXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSAnc2VsZWN0JztcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGlsZCA9IGVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDot7PovazliLDmjIflrprkuabpobVcclxuICovXHJcbkJhci5wcm90b3R5cGUudHVyblRvUGFnZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgLy/lv73nlaXmu5rliqjngrnlh7tcclxuICAgIGlmICh0aGlzLmlzU2Nyb2xsZWQpIHJldHVybjtcclxuICAgIHRoaXMuc2V0Q29sb3IodGFyZ2V0KTtcclxuICAgIHRoaXMuaGlkZURpck1lbnUoKTtcclxuICAgIHZhciBkYXRhID0gdGFyZ2V0LmRhdGFzZXQubWFyayB8fCAnJztcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGEuc3BsaXQoJy0nKTtcclxuICAgICAgICBYdXQuVmlldy5Mb2FkU2NlbmFyaW8oe1xyXG4gICAgICAgICAgICAnc2NlbmFyaW9JZCc6IGRhdGFbMF0sXHJcbiAgICAgICAgICAgICdjaGFwdGVySWQnOiBkYXRhWzFdXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaYvuekuuS5puetvlxyXG4gKi9cclxuQmFyLnByb3RvdHlwZS5zaG93Qm9va01hcmsgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmJvb2tNYXJrKSB7XHJcbiAgICAgICAgdGhpcy5ib29rTWFyay5yZXN0b3JlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBwYWdlRGF0YSA9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZURhdGEoKTtcclxuICAgICAgICB0aGlzLmJvb2tNYXJrID0gbmV3IEJvb2tNYXJrKHtcclxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgICAgc2Vhc29uSWQ6IHBhZ2VEYXRhLnNlYXNvbklkLFxyXG4gICAgICAgICAgICBwYWdlSWQ6IHBhZ2VEYXRhLl9pZFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDov5Tlm57pppbpobVcclxuICovXHJcblxyXG5CYXIucHJvdG90eXBlLmdvQmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgWHV0LkFwcGxpY2F0aW9uLlN1c3BlbmQoe1xyXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKHByb21wdE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgLy/lgZzmraLng63ngrnliqjkvZxcclxuICAgICAgICAgICAgLy9wcm9tcHRNZXNzYWdlKCflho3mjInkuIDmrKHlsIbot7Poh7PpppbpobXvvIEnKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvY2Vzc2VkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuR290b1NsaWRlKDEpIC8v6LCD5pW05Yiw6aaW6aG1XHJcbiAgICAgICAgICAgIHNlbGYuc2V0Q29sb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS6i+S7tuWkhOeQhlxyXG4gKi9cclxuQmFyLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG5cclxuICAgIHZhciBuYW1lID0gdGFyZ2V0LmNsYXNzTmFtZTtcclxuXHJcbiAgICBzd2l0Y2ggKG5hbWUpIHtcclxuICAgICAgICBjYXNlICd4dXQtYm9vay1iYXItYmFjayc6XHJcbiAgICAgICAgICAgIHRoaXMuZ29CYWNrKCk7XHJcbiAgICAgICAgICAgIC8v6L+U5ZueXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3h1dC1ib29rLWJhci1kaXInOlxyXG4gICAgICAgICAgICAvL+ebruW9lVxyXG4gICAgICAgICAgICB0aGlzLnNob3dEaXJNZW51KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3h1dC1ib29rLWJhci1tYXJrJzpcclxuICAgICAgICAgICAgLy/kuabnrb5cclxuICAgICAgICAgICAgdGhpcy5zaG93Qm9va01hcmsoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAneHV0LWJvb2stYmFyLXN0YXInOlxyXG4gICAgICAgICAgICAvL+ivhOWIhlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICd4dXQtYm9vay1tZW51LWl0ZW0nOlxyXG4gICAgICAgICAgICAvL+i3s+i9rFxyXG4gICAgICAgICAgICB0aGlzLnR1cm5Ub1BhZ2UodGFyZ2V0KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAneHV0LWJvb2stbWVudS1tYXNrJzpcclxuICAgICAgICBjYXNlICdzZWxlY3QnOlxyXG4gICAgICAgICAgICB0aGlzLmhpZGVEaXJNZW51KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWUrJzp1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDplIDmr4FcclxuICovXHJcbkJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pc2Nyb2xsICYmIHRoaXMuaXNjcm9sbC5kZXN0cm95KCk7XHJcbiAgICB0aGlzLmJvb2tNYXJrICYmIHRoaXMuYm9va01hcmsuZGVzdHJveSgpO1xyXG4gICAgdmFyIGVsZSA9IHRoaXMuY29udGFpbmVyWzBdO1xyXG4gICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcywgZmFsc2UpO1xyXG4gICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLCBmYWxzZSk7XHJcbiAgICB0aGlzLmlzY3JvbGwgPSBudWxsO1xyXG4gICAgdGhpcy5tZW51ID0gbnVsbDtcclxuICAgIHRoaXMucGFnZSA9IG51bGw7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBCYXIgfVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvdG9vbGJhci9ib29rYmFyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 100 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.BookMark = undefined;\n\nvar _index = __webpack_require__(1);\n\nvar icons = {\n\thide: 'images/icons/arrowDown.svg'\n},\n    sLineHeiht = parseInt($('body').css('font-size')) || 16,\n    //行高\nBOOKCACHE; //书签缓存\n\n/**\r\n * 书签栏\r\n * 加入这个书签功能后，可以让用户自由选择哪页是需要保存记录的\r\n * @param options object\r\n * @example {parent:页面容器,pageId:chapterId,seasonId:seasionId}\r\n */\n\nfunction BookMark(options) {\n\tthis.parent = options.parent;\n\tthis.pageId = options.pageId;\n\tthis.seasonId = options.seasonId;\n\n\tthis.screenSize = Xut.config.screenSize, this.sHeight = screenSize.height, this.sWidth = screenSize.width,\n\n\t//是否已存储\n\tthis.isStored = false;\n\tthis.init();\n}\n\n/**\r\n * 初始化\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.init = function () {\n\tvar $bookMark = this.createBookMark(),\n\t    dom = this.parent[0],\n\t    that = this;\n\n\tthis.parent.append($bookMark);\n\tthis.bookMarkMenu = $bookMark.eq(0);\n\t//显示书签\n\tsetTimeout(function () {\n\t\tthat.restore();\n\t}, 20);\n\t//获取历史记录\n\tBOOKCACHE = this.getHistory();\n\n\t//邦定用户事件\n\tXut.plat.execEvent('on', {\n\t\tcontext: dom,\n\t\tcallback: {\n\t\t\tend: this\n\t\t}\n\t});\n};\n\n/**\r\n * 创建书签\r\n * @return {[object]} [jquery生成的dom对象]\r\n */\nBookMark.prototype.createBookMark = function () {\n\tvar height = sLineHeiht * 3,\n\t    // menu的高为3em\n\tbox = '<div class=\"xut-bookmark-menu\" style=\"width:100%;height:{0}px;left:0;top:{1}px;\">' + '<div class=\"xut-bookmark-wrap\">' + '<div class=\"xut-bookmark-add\">加入书签</div>' + '<div class=\"xut-bookmark-off\" style=\"background-image:url({2})\"></div>' + '<div class=\"xut-bookmark-view\">书签记录</div>' + '</div>' + '</div>' + '<div class=\"xut-bookmark-list\" style=\"display:none;width:100%;height:{3}px;\">' + '<ul class=\"xut-bookmark-head\">' + '<li class=\"xut-bookmark-back\">返回</li>' + '<li>书签</li>' + '</ul>' + '<ul class=\"xut-bookmark-body\"></ul>' + '</div>';\n\tbox = String.format(box, height, this.sHeight, icons.hide, this.sHeight);\n\tthis.markHeight = height;\n\treturn $(box);\n};\n\n/**\r\n * 生成书签列表\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.createMarkList = function () {\n\tvar tmp,\n\t    seasonId,\n\t    pageId,\n\t    list = '',\n\t    box = '',\n\t    self = this;\n\n\t//取历史记录\n\t_.each(BOOKCACHE, function (mark) {\n\t\ttmp = mark.split('-');\n\t\tseasonId = tmp[0];\n\t\tpageId = tmp[1];\n\t\tmark = self.getMarkId(seasonId, pageId);\n\t\tlist += '<li><a data-mark=\"' + mark + '\" class=\"xut-bookmark-id\" href=\"javascript:0\">第' + pageId + '页</a><a class=\"xut-bookmark-del\" data-mark=\"' + mark + '\" href=\"javascript:0\">X</a></li>';\n\t});\n\n\treturn list;\n};\n\n/**\r\n * 创建存储标签\r\n * 存储格式 seasonId-pageId\r\n * @return {string} [description]\r\n */\nBookMark.prototype.getMarkId = function (seasonId, pageId) {\n\treturn seasonId + '-' + pageId;\n};\n\n/**\r\n * 获取历史记录\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.getHistory = function () {\n\tvar mark = (0, _index._get)('bookMark');\n\tif (mark) {\n\t\treturn mark.split(',');\n\t}\n\treturn [];\n};\n\n/**\r\n * 添加书签\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.addBookMark = function () {\n\tvar key;\n\n\tthis.updatePageInfo();\n\tkey = this.getMarkId(this.seasonId, this.pageId);\n\n\t//避免重复缓存\n\tif (BOOKCACHE.indexOf(key) > -1) {\n\t\treturn;\n\t}\n\tBOOKCACHE.push(key);\n\t(0, _index._set)('bookMark', BOOKCACHE);\n};\n\n/**\r\n * 更新页信息\r\n *  针对母板层上的书签\r\n */\nBookMark.prototype.updatePageInfo = function () {\n\tvar pageData = Xut.Presentation.GetPageData();\n\tthis.pageId = pageData._id;\n\tthis.seasonId = pageData.seasonId;\n};\n\n/**\r\n * 删除书签\r\n * @param {object} [key] [事件目标对象]\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.delBookMark = function (target) {\n\tif (!target || !target.dataset) return;\n\n\tvar key = target.dataset.mark,\n\t    index = BOOKCACHE.indexOf(key);\n\n\tBOOKCACHE.splice(index, 1);\n\t(0, _index._set)('bookMark', BOOKCACHE);\n\n\tif (BOOKCACHE.length == 0) {\n\t\t_remove('bookMark');\n\t}\n\n\t//移除该行\n\t$(target).parent().remove();\n};\n\n/**\r\n * 显示书签\r\n * @param {object} [target] [事件目标对象]\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.viewBookMark = function (target) {\n\tvar $bookMarkList,\n\t    list = this.createMarkList();\n\n\tif (this.bookMarkList) {\n\t\t$bookMarkList = this.bookMarkList;\n\t} else {\n\t\t$bookMarkList = $(target).parent().parent().next();\n\t}\n\t//更新书签内容\n\t$bookMarkList.find('.xut-bookmark-body').html(list);\n\tthis.bookMarkList = $bookMarkList;\n\t$bookMarkList.fadeIn();\n};\n\n/**\r\n * 点击放大效果\r\n * @param  {[object]} target [事件目标对象]\r\n * @return {[type]}      [description]\r\n */\nBookMark.prototype.iconManager = function (target) {\n\tvar $icon = this.bookMarkIcon = $(target),\n\t    restore = this.iconRestore;\n\n\t$icon.css({\n\t\t'transform': 'scale(1.2)',\n\t\t'transition-duration': '500ms'\n\t})[0].addEventListener(Xut.plat.TRANSITION_EV, restore.bind(this), false);\n};\n\n/**\r\n * 复原按钮\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.iconRestore = function () {\n\tthis.bookMarkIcon.css('transform', '');\n};\n\n/**\r\n * 跳转到书签页\r\n * @param  {[type]} target [description]\r\n * @return {[type]}        [description]\r\n */\nBookMark.prototype.goBookMark = function (target) {\n\tif (!target || !target.dataset) return;\n\n\tvar key = target.dataset.mark.split('-'),\n\t    seasonId = Number(key[0]),\n\t    pageId = Number(key[1]);\n\n\tthis.updatePageInfo();\n\t//关闭书签列表\n\tthis.backBookMark();\n\n\t//忽略当前页的跳转\n\tif (this.pageId == pageId && this.seasonId == seasonId) {\n\t\treturn;\n\t}\n\n\tXut.View.LoadScenario({\n\t\t'scenarioId': seasonId,\n\t\t'chapterId': pageId\n\t});\n};\n\n/**\r\n * 书签回退键\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.backBookMark = function () {\n\tthis.bookMarkList.fadeOut();\n};\n\n/**\r\n * 邦定事件\r\n * @param  {[type]} evt [事件]\r\n * @return {[type]}     [description]\r\n */\nBookMark.prototype.handleEvent = function (evt) {\n\tvar target = evt.target;\n\tswitch (target.className) {\n\t\t//加入书签\n\t\tcase 'xut-bookmark-add':\n\t\t\tthis.addBookMark();\n\t\t\tthis.iconManager(target);\n\t\t\tbreak;\n\t\t//显示书签记录\n\t\tcase 'xut-bookmark-view':\n\t\t\tthis.viewBookMark(target);\n\t\t\tthis.iconManager(target);\n\t\t\tbreak;\n\t\t//关闭书签\n\t\tcase 'xut-bookmark-off':\n\t\t\tthis.closeBookMark(target);\n\t\t\tbreak;\n\t\t//返回书签主菜单\n\t\tcase 'xut-bookmark-back':\n\t\t\tthis.backBookMark();\n\t\t\tbreak;\n\t\t//删除书签记录\n\t\tcase 'xut-bookmark-del':\n\t\t\tthis.delBookMark(target);\n\t\t\tbreak;\n\t\t//跳转到书签页\n\t\tcase 'xut-bookmark-id':\n\t\t\tthis.goBookMark(target);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t//console.log(target.className)\n\t\t\tbreak;\n\t}\n};\n\n/**\r\n * 关闭书签菜单\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.closeBookMark = function (target) {\n\tthis.bookMarkMenu.css({\n\t\ttransform: 'translate3d(0,0,0)',\n\t\t'transition-duration': '1s'\n\t});\n};\n\n/**\r\n * 恢复书签菜单\r\n */\nBookMark.prototype.restore = function () {\n\tthis.bookMarkMenu.css({\n\t\ttransform: 'translate3d(0,-' + this.markHeight + 'px,0)',\n\t\t'transition-duration': '1s'\n\t});\n};\n\n/**\r\n * 销毁书签\r\n * @return {[type]} [description]\r\n */\nBookMark.prototype.destroy = function () {\n\tvar dom = this.parent[0],\n\t    events = Xut.plat;\n\n\tdom.removeEventListener('touchend', this, false);\n\tdom.removeEventListener('mouseup', this, false);\n\n\t//菜单部分\n\tif (this.bookMarkMenu) {\n\t\tthis.bookMarkMenu.remove();\n\t\tthis.bookMarkMenu = null;\n\t}\n\n\t//列表部分\n\tif (this.bookMarkList) {\n\t\tthis.bookMarkList.remove();\n\t\tthis.bookMarkList = null;\n\t}\n\n\t//按钮效果\n\tif (this.bookMarkIcon) {\n\t\tthis.bookMarkIcon[0].removeEventListener(events.TRANSITION_EV, this.iconRestore, false);\n\t\tthis.bookMarkIcon = null;\n\t}\n\n\tthis.parent = null;\n};\n\nexports.BookMark = BookMark;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvYm9va21hcmsuanM/ZDNlNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0E7O0FBT0MsSUFBSSxRQUFRO0FBQ1YsT0FBTztBQURHLENBQVo7SUFHQyxhQUFhLFNBQVMsRUFBRSxNQUFGLEVBQVUsR0FBVixDQUFjLFdBQWQsQ0FBVCxLQUFzQyxFQUhwRDs7QUFJQyxTQUpELEM7Ozs7Ozs7OztBQU9BLFNBQVMsUUFBVCxDQUFrQixPQUFsQixFQUEwQjtBQUN6QixNQUFLLE1BQUwsR0FBYyxRQUFRLE1BQXRCO0FBQ0EsTUFBSyxNQUFMLEdBQWMsUUFBUSxNQUF0QjtBQUNBLE1BQUssUUFBTCxHQUFnQixRQUFRLFFBQXhCOztBQUVBLE1BQUssVUFBTCxHQUFrQixJQUFJLE1BQUosQ0FBVyxVQUE3QixFQUNBLEtBQUssT0FBTCxHQUFlLFdBQVcsTUFEMUIsRUFFQSxLQUFLLE1BQUwsR0FBZSxXQUFXLEtBRjFCOzs7QUFLQSxNQUFLLFFBQUwsR0FBZ0IsS0FMaEI7QUFNQSxNQUFLLElBQUw7QUFDQTs7Ozs7O0FBTUQsU0FBUyxTQUFULENBQW1CLElBQW5CLEdBQTBCLFlBQVU7QUFDbkMsS0FBSSxZQUFZLEtBQUssY0FBTCxFQUFoQjtLQUNDLE1BQU0sS0FBSyxNQUFMLENBQVksQ0FBWixDQURQO0tBRUMsT0FBTyxJQUZSOztBQUlBLE1BQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsU0FBbkI7QUFDQSxNQUFLLFlBQUwsR0FBb0IsVUFBVSxFQUFWLENBQWEsQ0FBYixDQUFwQjs7QUFFQSxZQUFXLFlBQVU7QUFDcEIsT0FBSyxPQUFMO0FBQ0EsRUFGRCxFQUVFLEVBRkY7O0FBSUEsYUFBWSxLQUFLLFVBQUwsRUFBWjs7O0FBR0EsS0FBSSxJQUFKLENBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QjtBQUN4QixXQUFTLEdBRGU7QUFFeEIsWUFBVTtBQUNULFFBQU07QUFERztBQUZjLEVBQXpCO0FBT0Es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oOWFpei/meS4quS5puetvuWKn+iDveWQju+8jOWPr+S7peiuqeeUqOaIt+iHqueUsemAieaLqeWTqumhteaYr+mcgOimgeS/neWtmOiusOW9leeahFxyXG4gKiBAcGFyYW0gb3B0aW9ucyBvYmplY3RcclxuICogQGV4YW1wbGUge3BhcmVudDrpobXpnaLlrrnlmagscGFnZUlkOmNoYXB0ZXJJZCxzZWFzb25JZDpzZWFzaW9uSWR9XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIF9zZXQsXHJcbiAgICBfZ2V0XHJcbn1cclxuZnJvbSAnLi4vdXRpbC9pbmRleCdcclxuXHJcblxyXG5cdHZhciBpY29ucyA9IHtcclxuXHRcdFx0aGlkZSA6ICdpbWFnZXMvaWNvbnMvYXJyb3dEb3duLnN2ZydcclxuXHRcdH0sXHJcblx0XHRzTGluZUhlaWh0ID0gcGFyc2VJbnQoJCgnYm9keScpLmNzcygnZm9udC1zaXplJykpfHwxNiwgLy/ooYzpq5hcclxuXHRcdEJPT0tDQUNIRTsgLy/kuabnrb7nvJPlrZhcclxuXHJcblxyXG5cdGZ1bmN0aW9uIEJvb2tNYXJrKG9wdGlvbnMpe1xyXG5cdFx0dGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcclxuXHRcdHRoaXMucGFnZUlkID0gb3B0aW9ucy5wYWdlSWQ7XHJcblx0XHR0aGlzLnNlYXNvbklkID0gb3B0aW9ucy5zZWFzb25JZDtcclxuXHJcblx0XHR0aGlzLnNjcmVlblNpemUgPSBYdXQuY29uZmlnLnNjcmVlblNpemUsXHJcblx0XHR0aGlzLnNIZWlnaHQgPSBzY3JlZW5TaXplLmhlaWdodCxcclxuXHRcdHRoaXMuc1dpZHRoICA9IHNjcmVlblNpemUud2lkdGgsXHJcblxyXG5cdFx0Ly/mmK/lkKblt7LlrZjlgqhcclxuXHRcdHRoaXMuaXNTdG9yZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5Yid5aeL5YyWXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0Qm9va01hcmsucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0dmFyICRib29rTWFyayA9IHRoaXMuY3JlYXRlQm9va01hcmsoKSxcclxuXHRcdFx0ZG9tID0gdGhpcy5wYXJlbnRbMF0sXHJcblx0XHRcdHRoYXQgPSB0aGlzO1xyXG5cclxuXHRcdHRoaXMucGFyZW50LmFwcGVuZCgkYm9va01hcmspO1xyXG5cdFx0dGhpcy5ib29rTWFya01lbnUgPSAkYm9va01hcmsuZXEoMCk7XHJcblx0XHQvL+aYvuekuuS5puetvlxyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHR0aGF0LnJlc3RvcmUoKTtcclxuXHRcdH0sMjApO1xyXG5cdFx0Ly/ojrflj5bljoblj7LorrDlvZVcclxuXHRcdEJPT0tDQUNIRSA9IHRoaXMuZ2V0SGlzdG9yeSgpO1xyXG5cclxuXHRcdC8v6YKm5a6a55So5oi35LqL5Lu2XHJcblx0XHRYdXQucGxhdC5leGVjRXZlbnQoJ29uJywge1xyXG5cdFx0XHRjb250ZXh0OiBkb20sXHJcblx0XHRcdGNhbGxiYWNrOiB7XHJcblx0XHRcdFx0ZW5kIDogdGhpc1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOWIm+W7uuS5puetvlxyXG5cdCAqIEByZXR1cm4ge1tvYmplY3RdfSBbanF1ZXJ555Sf5oiQ55qEZG9t5a+56LGhXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5jcmVhdGVCb29rTWFyayA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgaGVpZ2h0ID0gc0xpbmVIZWlodCAqIDMsIC8vIG1lbnXnmoTpq5jkuLozZW1cclxuXHRcdCAgICBib3ggPSAnPGRpdiBjbGFzcz1cInh1dC1ib29rbWFyay1tZW51XCIgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDp7MH1weDtsZWZ0OjA7dG9wOnsxfXB4O1wiPicrXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJ4dXQtYm9va21hcmstd3JhcFwiPicrXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cInh1dC1ib29rbWFyay1hZGRcIj7liqDlhaXkuabnrb48L2Rpdj4nK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJ4dXQtYm9va21hcmstb2ZmXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCh7Mn0pXCI+PC9kaXY+JytcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwieHV0LWJvb2ttYXJrLXZpZXdcIj7kuabnrb7orrDlvZU8L2Rpdj4nK1xyXG5cdFx0XHRcdCc8L2Rpdj4nK1xyXG5cdFx0XHQnPC9kaXY+JytcclxuXHRcdFx0JzxkaXYgY2xhc3M9XCJ4dXQtYm9va21hcmstbGlzdFwiIHN0eWxlPVwiZGlzcGxheTpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OnszfXB4O1wiPicrXHJcblx0XHRcdFx0Jzx1bCBjbGFzcz1cInh1dC1ib29rbWFyay1oZWFkXCI+JytcclxuXHRcdFx0XHRcdCc8bGkgY2xhc3M9XCJ4dXQtYm9va21hcmstYmFja1wiPui/lOWbnjwvbGk+JytcclxuXHRcdFx0XHRcdCc8bGk+5Lmm562+PC9saT4nK1xyXG5cdFx0XHRcdCc8L3VsPicrXHJcblx0XHRcdFx0Jzx1bCBjbGFzcz1cInh1dC1ib29rbWFyay1ib2R5XCI+PC91bD4nK1xyXG5cdFx0XHQnPC9kaXY+JztcclxuXHRcdGJveCA9IFN0cmluZy5mb3JtYXQoYm94LGhlaWdodCx0aGlzLnNIZWlnaHQsaWNvbnMuaGlkZSx0aGlzLnNIZWlnaHQpO1xyXG5cdFx0dGhpcy5tYXJrSGVpZ2h0ID0gaGVpZ2h0O1xyXG5cdFx0cmV0dXJuICQoYm94KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOeUn+aIkOS5puetvuWIl+ihqFxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5jcmVhdGVNYXJrTGlzdCA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgdG1wLHNlYXNvbklkLHBhZ2VJZCxcclxuXHRcdCAgICBsaXN0ID0gJycsXHJcblx0XHRcdGJveCAgPSAnJyxcclxuXHRcdFx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0Ly/lj5bljoblj7LorrDlvZVcclxuXHRcdF8uZWFjaChCT09LQ0FDSEUsZnVuY3Rpb24obWFyayl7XHJcblx0XHRcdHRtcCA9IG1hcmsuc3BsaXQoJy0nKTtcclxuXHRcdFx0c2Vhc29uSWQgPSB0bXBbMF07XHJcblx0XHRcdHBhZ2VJZCA9IHRtcFsxXTtcclxuXHRcdFx0bWFyayA9IHNlbGYuZ2V0TWFya0lkKHNlYXNvbklkLHBhZ2VJZCk7XHJcblx0XHRcdGxpc3QgKz0gJzxsaT48YSBkYXRhLW1hcms9XCInK21hcmsrJ1wiIGNsYXNzPVwieHV0LWJvb2ttYXJrLWlkXCIgaHJlZj1cImphdmFzY3JpcHQ6MFwiPuesrCcrcGFnZUlkKyfpobU8L2E+PGEgY2xhc3M9XCJ4dXQtYm9va21hcmstZGVsXCIgZGF0YS1tYXJrPVwiJyttYXJrKydcIiBocmVmPVwiamF2YXNjcmlwdDowXCI+WDwvYT48L2xpPic7XHJcblx0XHR9KVxyXG5cclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5Yib5bu65a2Y5YKo5qCH562+XHJcblx0ICog5a2Y5YKo5qC85byPIHNlYXNvbklkLXBhZ2VJZFxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5nZXRNYXJrSWQgPSBmdW5jdGlvbihzZWFzb25JZCxwYWdlSWQpe1xyXG5cdFx0cmV0dXJuIHNlYXNvbklkKyctJytwYWdlSWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDojrflj5bljoblj7LorrDlvZVcclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRCb29rTWFyay5wcm90b3R5cGUuZ2V0SGlzdG9yeSA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgbWFyayA9IF9nZXQoJ2Jvb2tNYXJrJyk7XHJcblx0XHRpZihtYXJrKXtcclxuXHRcdFx0cmV0dXJuIG1hcmsuc3BsaXQoJywnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOa3u+WKoOS5puetvlxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5hZGRCb29rTWFyayA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdHRoaXMudXBkYXRlUGFnZUluZm8oKTtcclxuXHRcdGtleSA9IHRoaXMuZ2V0TWFya0lkKHRoaXMuc2Vhc29uSWQsdGhpcy5wYWdlSWQpO1xyXG5cclxuXHRcdC8v6YG/5YWN6YeN5aSN57yT5a2YXHJcblx0XHRpZihCT09LQ0FDSEUuaW5kZXhPZihrZXkpPi0xKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Qk9PS0NBQ0hFLnB1c2goa2V5KVxyXG5cdFx0X3NldCgnYm9va01hcmsnLEJPT0tDQUNIRSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDmm7TmlrDpobXkv6Hmga9cclxuXHQgKiAg6ZKI5a+55q+N5p2/5bGC5LiK55qE5Lmm562+XHJcblx0ICovXHJcblx0Qm9va01hcmsucHJvdG90eXBlLnVwZGF0ZVBhZ2VJbmZvID0gZnVuY3Rpb24oKXtcclxuXHRcdHZhciBwYWdlRGF0YSA9IFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZURhdGEoKTtcclxuXHRcdHRoaXMucGFnZUlkID0gcGFnZURhdGEuX2lkO1xyXG5cdFx0dGhpcy5zZWFzb25JZCA9IHBhZ2VEYXRhLnNlYXNvbklkO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5Yig6Zmk5Lmm562+XHJcblx0ICogQHBhcmFtIHtvYmplY3R9IFtrZXldIFvkuovku7bnm67moIflr7nosaFdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0Qm9va01hcmsucHJvdG90eXBlLmRlbEJvb2tNYXJrID0gZnVuY3Rpb24odGFyZ2V0KXtcclxuXHRcdGlmKCF0YXJnZXQgfHwgIXRhcmdldC5kYXRhc2V0KSByZXR1cm47XHJcblxyXG5cdFx0dmFyIGtleSA9IHRhcmdldC5kYXRhc2V0Lm1hcmssXHJcblx0XHQgICAgaW5kZXggPSBCT09LQ0FDSEUuaW5kZXhPZihrZXkpO1xyXG5cclxuXHRcdEJPT0tDQUNIRS5zcGxpY2UoaW5kZXgsMSk7XHJcblx0XHRfc2V0KCdib29rTWFyaycsQk9PS0NBQ0hFKTtcclxuXHJcblx0XHRpZihCT09LQ0FDSEUubGVuZ3RoID09IDApe1xyXG5cdFx0XHRfcmVtb3ZlKCdib29rTWFyaycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8v56e76Zmk6K+l6KGMXHJcblx0XHQkKHRhcmdldCkucGFyZW50KCkucmVtb3ZlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDmmL7npLrkuabnrb5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gW3RhcmdldF0gW+S6i+S7tuebruagh+WvueixoV1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRCb29rTWFyay5wcm90b3R5cGUudmlld0Jvb2tNYXJrID0gZnVuY3Rpb24odGFyZ2V0KXtcclxuXHRcdHZhciAkYm9va01hcmtMaXN0LFxyXG5cdFx0ICAgIGxpc3QgPSB0aGlzLmNyZWF0ZU1hcmtMaXN0KCk7XHJcblxyXG5cdFx0aWYodGhpcy5ib29rTWFya0xpc3Qpe1xyXG5cdFx0XHQkYm9va01hcmtMaXN0ID0gdGhpcy5ib29rTWFya0xpc3Q7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JGJvb2tNYXJrTGlzdCA9ICQodGFyZ2V0KS5wYXJlbnQoKS5wYXJlbnQoKS5uZXh0KCk7XHJcblx0XHR9XHJcblx0XHQvL+abtOaWsOS5puetvuWGheWuuVxyXG5cdFx0JGJvb2tNYXJrTGlzdC5maW5kKCcueHV0LWJvb2ttYXJrLWJvZHknKS5odG1sKGxpc3QpO1xyXG5cdFx0dGhpcy5ib29rTWFya0xpc3QgPSAkYm9va01hcmtMaXN0O1xyXG5cdFx0JGJvb2tNYXJrTGlzdC5mYWRlSW4oKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOeCueWHu+aUvuWkp+aViOaenFxyXG5cdCAqIEBwYXJhbSAge1tvYmplY3RdfSB0YXJnZXQgW+S6i+S7tuebruagh+WvueixoV1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5pY29uTWFuYWdlciA9IGZ1bmN0aW9uKHRhcmdldCl7XHJcblx0XHR2YXIgJGljb24gPSB0aGlzLmJvb2tNYXJrSWNvbiA9ICQodGFyZ2V0KSxcclxuXHRcdCAgICByZXN0b3JlID0gdGhpcy5pY29uUmVzdG9yZTtcclxuXHJcblx0XHQkaWNvbi5jc3Moe1xyXG5cdFx0XHQndHJhbnNmb3JtJzogJ3NjYWxlKDEuMiknLFxyXG5cdFx0XHQndHJhbnNpdGlvbi1kdXJhdGlvbic6JzUwMG1zJ1xyXG5cdFx0fSlbMF0uYWRkRXZlbnRMaXN0ZW5lcihYdXQucGxhdC5UUkFOU0lUSU9OX0VWLHJlc3RvcmUuYmluZCh0aGlzKSxmYWxzZSk7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5aSN5Y6f5oyJ6ZKuXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0Qm9va01hcmsucHJvdG90eXBlLmljb25SZXN0b3JlID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuYm9va01hcmtJY29uLmNzcygndHJhbnNmb3JtJywnJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDot7PovazliLDkuabnrb7pobVcclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHRhcmdldCBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5nb0Jvb2tNYXJrID0gZnVuY3Rpb24odGFyZ2V0KXtcclxuXHRcdGlmKCF0YXJnZXQgfHwgIXRhcmdldC5kYXRhc2V0KSByZXR1cm47XHJcblxyXG5cdFx0dmFyIGtleSA9IHRhcmdldC5kYXRhc2V0Lm1hcmsuc3BsaXQoJy0nKSxcclxuXHRcdCAgICBzZWFzb25JZCA9IE51bWJlcihrZXlbMF0pLFxyXG5cdFx0ICAgIHBhZ2VJZCA9IE51bWJlcihrZXlbMV0pO1xyXG5cclxuXHRcdHRoaXMudXBkYXRlUGFnZUluZm8oKTtcclxuXHRcdC8v5YWz6Zet5Lmm562+5YiX6KGoXHJcblx0XHR0aGlzLmJhY2tCb29rTWFyaygpO1xyXG5cclxuXHRcdC8v5b+955Wl5b2T5YmN6aG155qE6Lez6L2sXHJcblx0XHRpZih0aGlzLnBhZ2VJZCA9PSBwYWdlSWQgJiYgdGhpcy5zZWFzb25JZCA9PSBzZWFzb25JZCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0WHV0LlZpZXcuTG9hZFNjZW5hcmlvKHtcclxuXHRcdFx0J3NjZW5hcmlvSWQnIDogc2Vhc29uSWQsXHJcblx0XHRcdCdjaGFwdGVySWQnICA6IHBhZ2VJZFxyXG5cdFx0fSlcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDkuabnrb7lm57pgIDplK5cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRCb29rTWFyay5wcm90b3R5cGUuYmFja0Jvb2tNYXJrID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuYm9va01hcmtMaXN0LmZhZGVPdXQoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOmCpuWumuS6i+S7tlxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gZXZ0IFvkuovku7ZdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGV2dCl7XHJcblx0XHR2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcclxuXHRcdHN3aXRjaCh0YXJnZXQuY2xhc3NOYW1lKXtcclxuXHRcdFx0Ly/liqDlhaXkuabnrb5cclxuXHRcdFx0Y2FzZSAneHV0LWJvb2ttYXJrLWFkZCc6XHJcblx0XHRcdFx0dGhpcy5hZGRCb29rTWFyaygpO1xyXG5cdFx0XHRcdHRoaXMuaWNvbk1hbmFnZXIodGFyZ2V0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Ly/mmL7npLrkuabnrb7orrDlvZVcclxuXHRcdFx0Y2FzZSAneHV0LWJvb2ttYXJrLXZpZXcnOlxyXG5cdFx0XHRcdHRoaXMudmlld0Jvb2tNYXJrKHRhcmdldCk7XHJcblx0XHRcdFx0dGhpcy5pY29uTWFuYWdlcih0YXJnZXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHQvL+WFs+mXreS5puetvlxyXG5cdFx0XHRjYXNlICd4dXQtYm9va21hcmstb2ZmJzpcclxuXHRcdFx0XHR0aGlzLmNsb3NlQm9va01hcmsodGFyZ2V0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Ly/ov5Tlm57kuabnrb7kuLvoj5zljZVcclxuXHRcdFx0Y2FzZSAneHV0LWJvb2ttYXJrLWJhY2snOlxyXG5cdFx0XHRcdHRoaXMuYmFja0Jvb2tNYXJrKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdC8v5Yig6Zmk5Lmm562+6K6w5b2VXHJcblx0XHRcdGNhc2UgJ3h1dC1ib29rbWFyay1kZWwnOlxyXG5cdFx0XHRcdHRoaXMuZGVsQm9va01hcmsodGFyZ2V0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Ly/ot7PovazliLDkuabnrb7pobVcclxuXHRcdFx0Y2FzZSAneHV0LWJvb2ttYXJrLWlkJzpcclxuXHRcdFx0XHR0aGlzLmdvQm9va01hcmsodGFyZ2V0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKHRhcmdldC5jbGFzc05hbWUpXHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5YWz6Zet5Lmm562+6I+c5Y2VXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0Qm9va01hcmsucHJvdG90eXBlLmNsb3NlQm9va01hcmsgPSBmdW5jdGlvbih0YXJnZXQpe1xyXG5cdFx0dGhpcy5ib29rTWFya01lbnUuY3NzKHtcclxuXHRcdFx0dHJhbnNmb3JtIDogJ3RyYW5zbGF0ZTNkKDAsMCwwKScsXHJcblx0XHRcdCd0cmFuc2l0aW9uLWR1cmF0aW9uJzogJzFzJ1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOaBouWkjeS5puetvuiPnOWNlVxyXG5cdCAqL1xyXG5cdEJvb2tNYXJrLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuYm9va01hcmtNZW51LmNzcyh7XHJcblx0XHRcdHRyYW5zZm9ybSA6ICd0cmFuc2xhdGUzZCgwLC0nK3RoaXMubWFya0hlaWdodCsncHgsMCknLFxyXG5cdFx0XHQndHJhbnNpdGlvbi1kdXJhdGlvbic6ICcxcydcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDplIDmr4Hkuabnrb5cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRCb29rTWFyay5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgZG9tID0gdGhpcy5wYXJlbnRbMF0sXHJcblx0XHQgICAgZXZlbnRzID0gWHV0LnBsYXQ7XHJcblxyXG5cdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJyx0aGlzLGZhbHNlKTtcclxuXHRcdGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJyx0aGlzLGZhbHNlKTtcclxuXHJcblx0XHQvL+iPnOWNlemDqOWIhlxyXG5cdFx0aWYodGhpcy5ib29rTWFya01lbnUpe1xyXG5cdFx0XHR0aGlzLmJvb2tNYXJrTWVudS5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy5ib29rTWFya01lbnUgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8v5YiX6KGo6YOo5YiGXHJcbiBcdFx0aWYodGhpcy5ib29rTWFya0xpc3Qpe1xyXG4gXHRcdFx0dGhpcy5ib29rTWFya0xpc3QucmVtb3ZlKCk7XHJcbiBcdFx0XHR0aGlzLmJvb2tNYXJrTGlzdCA9IG51bGw7XHJcbiBcdFx0fVxyXG5cclxuIFx0XHQvL+aMiemSruaViOaenFxyXG4gXHRcdGlmKHRoaXMuYm9va01hcmtJY29uKXtcclxuIFx0XHRcdHRoaXMuYm9va01hcmtJY29uWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLlRSQU5TSVRJT05fRVYsdGhpcy5pY29uUmVzdG9yZSxmYWxzZSk7XHJcbiBcdFx0XHR0aGlzLmJvb2tNYXJrSWNvbiA9IG51bGw7XHJcbiBcdFx0fVxyXG5cclxuXHRcdHRoaXMucGFyZW50ID0gbnVsbDtcclxuXHR9XHJcblxyXG5cclxuXHJcbmV4cG9ydCB7Qm9va01hcmt9XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3Rvb2xiYXIvYm9va21hcmsuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 101 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fToolbar = undefined;\n\nvar _toolBar = __webpack_require__(9);\n\nvar fToolbar = _toolBar.ToolBar.extend({\n    init: function init(options) {\n        this.pageTips = null;\n        this.currTip = null;\n        this.tipsMode = 0;\n        this.top = 0;\n        this.Lock = false;\n        this.delay = 50;\n        this.hasTopBar = false;\n        this.barStatus = true;\n        this.arrows = Object.create(null);\n        //options\n        this.pageMode = options.pageMode;\n        this.id = options.id;\n        this.container = options.container;\n        this.tbType = options.tbType;\n        this.pageTotal = options.pageTotal;\n        this.currentPage = options.currentPage;\n\n        //配置属性\n        //config\n        this.config = Xut.config;\n        this.initConfig(this.config);\n\n        this.initTool();\n    }\n});\n\n/**\r\n * 创建工具栏\r\n * tbType:\r\n *\t\t0\t禁止工具栏\r\n *\t\t1\t系统工具栏   - 显示IOS系统工具栏\r\n *\t\t2\t场景工具栏   - 显示关闭按钮\r\n *\t\t3\t场景工具栏   - 显示返回按钮\r\n *\t\t4\t场景工具栏   - 显示顶部小圆点式标示\r\n *\tpageMode:\r\n *  \t0禁止滑动\r\n *\t  \t1允许滑动无翻页按钮\r\n *\t   \t2 允许滑动带翻页按钮\r\n * @return {[type]} [description]\r\n */\n/**\r\n * 函数工具栏\r\n */\n\nfToolbar.prototype.initTool = function () {\n    var container = this.container,\n        type;\n\n    container.hide();\n    this.controlBar = [];\n\n    while (type = this.tbType.shift()) {\n        switch (type) {\n            case 1:\n                this.createSystemBar();\n                break;\n            case 2:\n                this.createCloseIcon();\n                break;\n            case 3:\n                this.createBackIcon(container);\n                break;\n            case 4:\n                this.createPageTips();\n                break;\n            default:\n                this.barStatus = false;\n                this.hasTopBar = false;\n                break;\n        }\n    }\n\n    //创建翻页按钮\n    if (this.pageMode === 2) {\n        this.createArrows();\n    }\n\n    container.show();\n\n    //邦定事件\n    this.bindButtonsEvent();\n};\n\n/**\r\n * 系统工具栏\r\n */\nfToolbar.prototype.createSystemBar = function () {\n    var id = this.id,\n        TOP = this.barHeight,\n        html = '',\n        style = 'top:0;height:' + this.iconHeight + 'px;padding-top:' + TOP + 'px';\n    html = '<div id=\"controlBar' + id + '\" class=\"xut-controlBar\" style=\"' + style + '\"></div>';\n    html = $(html);\n    this.top = TOP;\n    this.showSystemBar();\n    this.createBackIcon(html);\n    this.createTitle(html);\n    this.createPageNum(html);\n    this.controlBar = html;\n    this.container.append(html);\n    this.hasTopBar = true;\n};\n\n/**\r\n * 页码小圆点\r\n */\nfToolbar.prototype.createPageTips = function () {\n    var chapters = this.pageTotal,\n        height = this.iconHeight,\n        TOP = this.top,\n        isIOS = Xut.plat.isIOS,\n        html = '';\n\n    //如果只有一页则不显示小圆\n    if (chapters < 2) {\n        return '';\n    }\n\n    var calculate = this.config.proportion.calculateContainer();\n    //圆点尺寸\n    var size = isIOS ? 7 : Math.max(8, Math.round(this.propHeight * 8)),\n        width = 2.5 * size,\n        //圆点间距\n    tipsWidth = chapters * width,\n        //圆点总宽度\n    top = (height - size) / 2,\n        //保持圆点垂直居中\n    left = (calculate.width - tipsWidth) / 2; //保持圆点水平居中\n\n    html = '<ul class=\"xut-scenario-tips\"  style=\"top:' + TOP + 'px;left:' + left + 'px;width:' + tipsWidth + 'px;opacity:0.6\">';\n    for (var i = 1; i <= chapters; i++) {\n        html += '<li class=\"xut-scenario-dark\" style=\"float:left;width:' + width + 'px;height:' + height + 'px;\" data-index=\"' + i + '\">';\n        html += '<div class=\"xut-scenario-radius\" style=\"width:' + size + 'px;height:' + size + 'px;margin:' + top + 'px auto\"></div></li>';\n    }\n    html += '</ul>';\n    html = $(html);\n    this.pageTips = html.children();\n    this.tipsMode = 1;\n    this.controlBar.push(html);\n    this.container.append(html);\n};\n\n/**\r\n * 更新页码指示\r\n * @return {[type]} [description]\r\n */\nfToolbar.prototype.updatePointer = function (pageIndex) {\n    switch (this.tipsMode) {\n        case 1:\n            if (this.prevTip) {\n                this.prevTip.className = 'xut-scenario-dark';\n            }\n            this.currTip = this.pageTips[pageIndex];\n            this.currTip.className = 'xut-scenario-light';\n            this.prevTip = this.currTip;\n            break;\n        case 2:\n            this.currTip.html(pageIndex + 1);\n            break;\n        default:\n            break;\n    }\n};\n\n/**\r\n * [ 关闭按钮]\r\n * @return {[type]} [description]\r\n */\nfToolbar.prototype.createCloseIcon = function () {\n    var style,\n        html,\n        TOP = this.top,\n        height = this.iconHeight;\n    style = 'top:' + TOP + 'px;width:' + height + 'px;height:' + height + 'px';\n    html = '<div class=\"si-icon xut-scenario-close\" data-icon-name=\"close\" style=\"' + style + '\"></div>';\n    html = $(html);\n    this.createSVGIcon($(html)[0], function () {\n        Xut.View.CloseScenario();\n    });\n    this.controlBar.push(html);\n    this.container.append(html);\n};\n\n/**\r\n * [ 返回按钮]\r\n * @return {[type]} [description]\r\n */\nfToolbar.prototype.createBackIcon = function (container) {\n    var style,\n        html,\n        TOP = this.top,\n        height = this.iconHeight;\n    style = 'top:' + TOP + 'px;width:' + height + 'px;height:' + height + 'px';\n    html = '<div class=\"si-icon xut-scenario-back\" data-icon-name=\"back\" style=\"' + style + '\"></div>';\n    html = $(html);\n    this.createSVGIcon(html[0], function () {\n        Xut.View.CloseScenario();\n    });\n    this.controlBar.push(html);\n    container.append(html);\n};\n\n//创建页码数\nfToolbar.prototype.createPageNum = function (container) {\n    var pageTotal = this.pageTotal,\n        TOP = this.top,\n        height = this.iconHeight,\n        currentPage = this.currentPage,\n        style,\n        html;\n    style = 'position:absolute;right:4px;top:' + (height * 0.25 + TOP) + 'px;padding:0 0.25em;height:' + height * 0.5 + 'px;line-height:' + height * 0.5 + 'px;border-radius:0.5em';\n    html = '<div class=\"xut-controlBar-pageNum\" style=\"' + style + '\">';\n    html += '<span class=\"currentPage\">' + currentPage + '</span>/<span>' + pageTotal + '</span>';\n    html += '</div>';\n    html = $(html);\n    this.tipsMode = 2;\n    this.currTip = html.children().first();\n    container.append(html);\n};\n\n//工具栏隐藏按钮\nfToolbar.prototype.createHideToolbar = function (container) {\n    var html,\n        style,\n        TOP = this.top,\n        height = this.iconHeight,\n        right = iconHeight * 2.5;\n    style = 'position:absolute;right:' + right + 'px;top:' + TOP + 'px;width:' + height + 'px;height:' + height + 'px;background-size:cover';\n    html = '<div class=\"xut-controlBar-hide\" style=\"' + style + '\"></div>';\n    container.append(html);\n};\n\n//应用标题\nfToolbar.prototype.createTitle = function (container) {\n    var style,\n        html,\n        appName = this.appName;\n    style = 'line-height:' + this.iconHeight + 'px';\n    html = '<div class=\"xut-controlBar-title\" style=\"' + style + '\">' + appName + '</div>';\n    container.append(html);\n};\n\n/**\r\n * [ 普通按钮邦定事件]\r\n * @param  {[type]} bar [description]\r\n * @return {[type]}     [description]\r\n */\nfToolbar.prototype.bindButtonsEvent = function () {\n    var that = this,\n        index = 1,\n        id = this.id;\n\n    this.container.on(\"touchend touchend\", function (e) {\n        var target = Xut.plat.evtTarget(e),\n            type = target.className;\n        switch (type) {\n            case 'xut-controlBar-hide':\n                that.hideTopBar();\n                break;\n            case 'xut-scenario-dark':\n                if (that.pageMode) {\n                    index = target.getAttribute('data-index') || 1;\n                    Xut.View.GotoSlide(Number(index));\n                }\n                break;\n            default:\n                break;\n        }\n    });\n};\n\n/**\r\n * [ 显示顶部工具栏]\r\n * @return {[type]} [description]\r\n */\nfToolbar.prototype.showTopBar = function () {\n    var that = this,\n        delay = this.delay,\n        controlBar = this.controlBar;\n    if (this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n    if (this.hasTopBar) {\n        controlBar.css({\n            'display': 'block',\n            'opacity': 0\n        });\n        setTimeout(function () {\n            controlBar.animate({\n                'opacity': 1\n            }, delay, 'linear', function () {\n                that.showSystemBar();\n                that.barStatus = true;\n                that.Lock = false;\n            });\n        });\n    } else {\n        controlBar.forEach(function (el) {\n            el.show();\n            that.Lock = false;\n            that.barStatus = true;\n        });\n    }\n};\n\n/**\r\n * [ 隐藏顶部工具栏]\r\n * @return {[type]} [description]\r\n */\nfToolbar.prototype.hideTopBar = function () {\n    var that = this,\n        delay = this.delay,\n        controlBar = this.controlBar;\n\n    if (!this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n    if (this.hasTopBar) {\n        controlBar.animate({\n            'opacity': 0\n        }, delay, 'linear', function () {\n            that.controlBar.hide();\n            that.hideSystemBar();\n            that.barStatus = false;\n            that.Lock = false;\n        });\n    } else {\n        controlBar.forEach(function (el) {\n            el.hide(delay, function () {\n                that.Lock = false;\n                that.barStatus = false;\n            });\n        });\n    }\n};\n\nfToolbar.prototype.destroy = function () {\n    this.container.off();\n    this.controlBar = null;\n    this.arrows = null;\n    this.pageTips = null;\n    this.currTip = null;\n    this.prevTip = null;\n};\n\nexports.fToolbar = fToolbar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvZm5iYXIuanM/YzVhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBS0E7O0FBRUEsSUFBSSxXQUFXLGlCQUFRLE1BQVIsQ0FBZTtBQUMxQixVQUFNLGNBQVMsT0FBVCxFQUFrQjtBQUMxQixhQUFLLFFBQUwsR0FBbUIsSUFBbkI7QUFDQSxhQUFLLE9BQUwsR0FBbUIsSUFBbkI7QUFDQSxhQUFLLFFBQUwsR0FBbUIsQ0FBbkI7QUFDQSxhQUFLLEdBQUwsR0FBbUIsQ0FBbkI7QUFDQSxhQUFLLElBQUwsR0FBbUIsS0FBbkI7QUFDQSxhQUFLLEtBQUwsR0FBbUIsRUFBbkI7QUFDQSxhQUFLLFNBQUwsR0FBbUIsS0FBbkI7QUFDQSxhQUFLLFNBQUwsR0FBbUIsSUFBbkI7QUFDQSxhQUFLLE1BQUwsR0FBbUIsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFuQjs7QUFFQSxhQUFLLFFBQUwsR0FBbUIsUUFBUSxRQUEzQjtBQUNBLGFBQUssRUFBTCxHQUFtQixRQUFRLEVBQTNCO0FBQ0EsYUFBSyxTQUFMLEdBQW1CLFFBQVEsU0FBM0I7QUFDQSxhQUFLLE1BQUwsR0FBbUIsUUFBUSxNQUEzQjtBQUNBLGFBQUssU0FBTCxHQUFtQixRQUFRLFNBQTNCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLFFBQVEsV0FBM0I7Ozs7QUFJQSxhQUFLLE1BQUwsR0FBYyxJQUFJLE1BQWxCO0FBQ0EsYUFBSyxVQUFMLENBQWdCLEtBQUssTUFBckI7O0FBRU0sYUFBSyxRQUFMO0FBQ0g7QUF6QnlCLENBQWYsQ0FBZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEyQ0EsU0FBUyxTQUFULENBQW1CLFFBQW5CLEdBQThCLFlBQVc7QUFDckMsUUFBSSxZQUFZLEtBQUssU0FBckI7UUFDSSxJQURKOztBQUdBLGNBQVUsSUFBVjtBQUNBLFNBQUssVUFBTCxHQUFrQixFQUFsQjs7QUFFQSxXQUFPLE9BQU8sS0FBSyxNQUFMLENBQVksS0FBWixF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QVQsRUFBb0I7QUFDaEIsbUJBQVcsT0FBWCxDQUFtQjtBQUNmLHVCQUFXO0FBREksU0FBbkIsRUFFRyxLQUZILEVBRVUsUUFGVixFQUVvQixZQUFXO0FBQzNCLGlCQUFLLFVBQUwsQ0FBZ0IsSUFBaEI7QUFDQSxpQkFBSyxhQUFMO0FBQ0EsaUJBQUssU0FBTCxHQUFpQixLQUFqQjtBQUNBLGlCQUFLLElBQUwsR0FBWSxLQUFaO0FBQ0gsU0FQRDtBQVFILEtBVEQsTUFTTztBQUNILG1CQUFXLE9BQVgsQ0FBbUIsVUFBUyxFQUFULEVBQWE7QUFDNUIsZUFBRyxJQUFILENBQVEsS0FBUixFQUFlLFlBQVc7QUFDdEIscUJBQUssSUFBTCxHQUFZLEtBQVo7QUFDQSxxQkFBSyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0gsYUFIRDtBQUlILFNBTEQ7QUFNSDtBQUNKLENBMUJEOztBQTRCQSxTQUFTLFNBQVQsQ0FBbUIsT0FBbkIsR0FBNkIsWUFBVztBQUNwQyxTQUFLLFNBQUwsQ0FBZSxHQUFmO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNBLFNBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNBLFNBQUssT0FBTCxHQUFlLElBQWY7QUFDQSxTQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0gsQ0FQRDs7UUFZSSxRLEdBQUEsUSIsImZpbGUiOiIxMDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Ye95pWw5bel5YW35qCPXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCB7IFRvb2xCYXIgfSBmcm9tICcuL2Jhc2UvdG9vbEJhcidcclxuXHJcbnZhciBmVG9vbGJhciA9IFRvb2xCYXIuZXh0ZW5kKHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdHRoaXMucGFnZVRpcHMgICAgPSBudWxsO1xyXG5cdFx0dGhpcy5jdXJyVGlwICAgICA9IG51bGw7XHJcblx0XHR0aGlzLnRpcHNNb2RlICAgID0gMDtcclxuXHRcdHRoaXMudG9wICAgICAgICAgPSAwO1xyXG5cdFx0dGhpcy5Mb2NrICAgICAgICA9IGZhbHNlO1xyXG5cdFx0dGhpcy5kZWxheSAgICAgICA9IDUwO1xyXG5cdFx0dGhpcy5oYXNUb3BCYXIgICA9IGZhbHNlO1xyXG5cdFx0dGhpcy5iYXJTdGF0dXMgICA9IHRydWU7XHJcblx0XHR0aGlzLmFycm93cyAgICAgID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuXHRcdC8vb3B0aW9uc1xyXG5cdFx0dGhpcy5wYWdlTW9kZSAgICA9IG9wdGlvbnMucGFnZU1vZGU7XHJcblx0XHR0aGlzLmlkICAgICAgICAgID0gb3B0aW9ucy5pZDtcclxuXHRcdHRoaXMuY29udGFpbmVyICAgPSBvcHRpb25zLmNvbnRhaW5lcjtcclxuXHRcdHRoaXMudGJUeXBlICAgICAgPSBvcHRpb25zLnRiVHlwZTtcclxuXHRcdHRoaXMucGFnZVRvdGFsICAgPSBvcHRpb25zLnBhZ2VUb3RhbDtcclxuXHRcdHRoaXMuY3VycmVudFBhZ2UgPSBvcHRpb25zLmN1cnJlbnRQYWdlO1xyXG5cclxuICAgICAgICAvL+mFjee9ruWxnuaAp1xyXG4gICAgICAgIC8vY29uZmlnXHJcblx0XHR0aGlzLmNvbmZpZyA9IFh1dC5jb25maWdcclxuXHRcdHRoaXMuaW5pdENvbmZpZyh0aGlzLmNvbmZpZyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFRvb2woKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuW3peWFt+agj1xyXG4gKiB0YlR5cGU6XHJcbiAqXHRcdDBcdOemgeatouW3peWFt+agj1xyXG4gKlx0XHQxXHTns7vnu5/lt6XlhbfmoI8gICAtIOaYvuekuklPU+ezu+e7n+W3peWFt+agj1xyXG4gKlx0XHQyXHTlnLrmma/lt6XlhbfmoI8gICAtIOaYvuekuuWFs+mXreaMiemSrlxyXG4gKlx0XHQzXHTlnLrmma/lt6XlhbfmoI8gICAtIOaYvuekuui/lOWbnuaMiemSrlxyXG4gKlx0XHQ0XHTlnLrmma/lt6XlhbfmoI8gICAtIOaYvuekuumhtumDqOWwj+WchueCueW8j+agh+ekulxyXG4gKlx0cGFnZU1vZGU6XHJcbiAqICBcdDDnpoHmraLmu5HliqhcclxuICpcdCAgXHQx5YWB6K645ruR5Yqo5peg57+76aG15oyJ6ZKuXHJcbiAqXHQgICBcdDIg5YWB6K645ruR5Yqo5bim57+76aG15oyJ6ZKuXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZlRvb2xiYXIucHJvdG90eXBlLmluaXRUb29sID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdHlwZTtcclxuXHJcbiAgICBjb250YWluZXIuaGlkZSgpO1xyXG4gICAgdGhpcy5jb250cm9sQmFyID0gW107XHJcblxyXG4gICAgd2hpbGUgKHR5cGUgPSB0aGlzLnRiVHlwZS5zaGlmdCgpKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU3lzdGVtQmFyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDbG9zZUljb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUJhY2tJY29uKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQYWdlVGlwcygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhclN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNUb3BCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+WIm+W7uue/u+mhteaMiemSrlxyXG4gICAgaWYgKHRoaXMucGFnZU1vZGUgPT09IDIpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFycm93cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5lci5zaG93KCk7XHJcblxyXG4gICAgLy/pgqblrprkuovku7ZcclxuICAgIHRoaXMuYmluZEJ1dHRvbnNFdmVudCgpO1xyXG59XHJcblxyXG4vKipcclxuICog57O757uf5bel5YW35qCPXHJcbiAqL1xyXG5mVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlU3lzdGVtQmFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaWQgPSB0aGlzLmlkLFxyXG4gICAgICAgIFRPUCA9IHRoaXMuYmFySGVpZ2h0LFxyXG4gICAgICAgIGh0bWwgPSAnJyxcclxuICAgICAgICBzdHlsZSA9ICd0b3A6MDtoZWlnaHQ6JyArIHRoaXMuaWNvbkhlaWdodCArICdweDtwYWRkaW5nLXRvcDonICsgVE9QICsgJ3B4JztcclxuICAgIGh0bWwgPSAnPGRpdiBpZD1cImNvbnRyb2xCYXInICsgaWQgKyAnXCIgY2xhc3M9XCJ4dXQtY29udHJvbEJhclwiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2Pic7XHJcbiAgICBodG1sID0gJChodG1sKTtcclxuICAgIHRoaXMudG9wID0gVE9QO1xyXG4gICAgdGhpcy5zaG93U3lzdGVtQmFyKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUJhY2tJY29uKGh0bWwpO1xyXG4gICAgdGhpcy5jcmVhdGVUaXRsZShodG1sKTtcclxuICAgIHRoaXMuY3JlYXRlUGFnZU51bShodG1sKTtcclxuICAgIHRoaXMuY29udHJvbEJhciA9IGh0bWw7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoaHRtbCk7XHJcbiAgICB0aGlzLmhhc1RvcEJhciA9IHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpobXnoIHlsI/lnIbngrlcclxuICovXHJcbmZUb29sYmFyLnByb3RvdHlwZS5jcmVhdGVQYWdlVGlwcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNoYXB0ZXJzID0gdGhpcy5wYWdlVG90YWwsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0LFxyXG4gICAgICAgIFRPUCA9IHRoaXMudG9wLFxyXG4gICAgICAgIGlzSU9TID0gWHV0LnBsYXQuaXNJT1MsXHJcbiAgICAgICAgaHRtbCA9ICcnO1xyXG5cclxuICAgIC8v5aaC5p6c5Y+q5pyJ5LiA6aG15YiZ5LiN5pi+56S65bCP5ZyGXHJcbiAgICBpZiAoY2hhcHRlcnMgPCAyKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjYWxjdWxhdGUgPSB0aGlzLmNvbmZpZy5wcm9wb3J0aW9uLmNhbGN1bGF0ZUNvbnRhaW5lcigpO1xyXG4gICAgLy/lnIbngrnlsLrlr7hcclxuICAgIHZhciBzaXplID0gaXNJT1MgPyA3IDogTWF0aC5tYXgoOCwgTWF0aC5yb3VuZCh0aGlzLnByb3BIZWlnaHQgKiA4KSksXHJcbiAgICAgICAgd2lkdGggPSAyLjUgKiBzaXplLCAvL+WchueCuemXtOi3nVxyXG4gICAgICAgIHRpcHNXaWR0aCA9IGNoYXB0ZXJzICogd2lkdGgsIC8v5ZyG54K55oC75a695bqmXHJcbiAgICAgICAgdG9wID0gKGhlaWdodCAtIHNpemUpIC8gMiwgLy/kv53mjIHlnIbngrnlnoLnm7TlsYXkuK1cclxuICAgICAgICBsZWZ0ID0gKGNhbGN1bGF0ZS53aWR0aCAtIHRpcHNXaWR0aCkgLyAyOyAvL+S/neaMgeWchueCueawtOW5s+WxheS4rVxyXG5cclxuICAgIGh0bWwgPSAnPHVsIGNsYXNzPVwieHV0LXNjZW5hcmlvLXRpcHNcIiAgc3R5bGU9XCJ0b3A6JyArIFRPUCArICdweDtsZWZ0OicgKyBsZWZ0ICsgJ3B4O3dpZHRoOicgKyB0aXBzV2lkdGggKyAncHg7b3BhY2l0eTowLjZcIj4nO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gY2hhcHRlcnM7IGkrKykge1xyXG4gICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz1cInh1dC1zY2VuYXJpby1kYXJrXCIgc3R5bGU9XCJmbG9hdDpsZWZ0O3dpZHRoOicgKyB3aWR0aCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweDtcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCI+JztcclxuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwieHV0LXNjZW5hcmlvLXJhZGl1c1wiIHN0eWxlPVwid2lkdGg6JyArIHNpemUgKyAncHg7aGVpZ2h0OicgKyBzaXplICsgJ3B4O21hcmdpbjonICsgdG9wICsgJ3B4IGF1dG9cIj48L2Rpdj48L2xpPic7XHJcbiAgICB9XHJcbiAgICBodG1sICs9ICc8L3VsPic7XHJcbiAgICBodG1sID0gJChodG1sKTtcclxuICAgIHRoaXMucGFnZVRpcHMgPSBodG1sLmNoaWxkcmVuKCk7XHJcbiAgICB0aGlzLnRpcHNNb2RlID0gMTtcclxuICAgIHRoaXMuY29udHJvbEJhci5wdXNoKGh0bWwpO1xyXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vKipcclxuICog5pu05paw6aG156CB5oyH56S6XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZlRvb2xiYXIucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbihwYWdlSW5kZXgpIHtcclxuICAgIHN3aXRjaCAodGhpcy50aXBzTW9kZSkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldlRpcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2VGlwLmNsYXNzTmFtZSA9ICd4dXQtc2NlbmFyaW8tZGFyayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jdXJyVGlwID0gdGhpcy5wYWdlVGlwc1twYWdlSW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJUaXAuY2xhc3NOYW1lID0gJ3h1dC1zY2VuYXJpby1saWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucHJldlRpcCA9IHRoaXMuY3VyclRpcDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICB0aGlzLmN1cnJUaXAuaHRtbChwYWdlSW5kZXggKyAxKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBbIOWFs+mXreaMiemSrl1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlQ2xvc2VJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3R5bGUsIGh0bWwsXHJcbiAgICAgICAgVE9QID0gdGhpcy50b3AsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0O1xyXG4gICAgc3R5bGUgPSAndG9wOicgKyBUT1AgKyAncHg7d2lkdGg6JyArIGhlaWdodCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweCc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJzaS1pY29uIHh1dC1zY2VuYXJpby1jbG9zZVwiIGRhdGEtaWNvbi1uYW1lPVwiY2xvc2VcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIj48L2Rpdj4nO1xyXG4gICAgaHRtbCA9ICQoaHRtbCk7XHJcbiAgICB0aGlzLmNyZWF0ZVNWR0ljb24oJChodG1sKVswXSxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuQ2xvc2VTY2VuYXJpbygpXHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMuY29udHJvbEJhci5wdXNoKGh0bWwpO1xyXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vKipcclxuICogWyDov5Tlm57mjInpkq5dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZlRvb2xiYXIucHJvdG90eXBlLmNyZWF0ZUJhY2tJY29uID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XHJcbiAgICB2YXIgc3R5bGUsIGh0bWwsXHJcbiAgICAgICAgVE9QID0gdGhpcy50b3AsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0O1xyXG4gICAgc3R5bGUgPSAndG9wOicgKyBUT1AgKyAncHg7d2lkdGg6JyArIGhlaWdodCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweCc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJzaS1pY29uIHh1dC1zY2VuYXJpby1iYWNrXCIgZGF0YS1pY29uLW5hbWU9XCJiYWNrXCIgc3R5bGU9XCInICsgc3R5bGUgKyAnXCI+PC9kaXY+JztcclxuICAgIGh0bWwgPSAkKGh0bWwpO1xyXG4gICAgdGhpcy5jcmVhdGVTVkdJY29uKGh0bWxbMF0sXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFh1dC5WaWV3LkNsb3NlU2NlbmFyaW8oKVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xCYXIucHVzaChodG1sKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmQoaHRtbCk7XHJcbn1cclxuXHJcbi8v5Yib5bu66aG156CB5pWwXHJcbmZUb29sYmFyLnByb3RvdHlwZS5jcmVhdGVQYWdlTnVtID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XHJcbiAgICB2YXIgcGFnZVRvdGFsID0gdGhpcy5wYWdlVG90YWwsXHJcbiAgICAgICAgVE9QID0gdGhpcy50b3AsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0LFxyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSxcclxuICAgICAgICBzdHlsZSwgaHRtbDtcclxuICAgIHN0eWxlID0gJ3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjRweDt0b3A6JyArIChoZWlnaHQgKiAwLjI1ICsgVE9QKSArICdweDtwYWRkaW5nOjAgMC4yNWVtO2hlaWdodDonICsgaGVpZ2h0ICogMC41ICsgJ3B4O2xpbmUtaGVpZ2h0OicgKyBoZWlnaHQgKiAwLjUgKyAncHg7Ym9yZGVyLXJhZGl1czowLjVlbSc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJ4dXQtY29udHJvbEJhci1wYWdlTnVtXCIgc3R5bGU9XCInICsgc3R5bGUgKyAnXCI+JztcclxuICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiY3VycmVudFBhZ2VcIj4nICsgY3VycmVudFBhZ2UgKyAnPC9zcGFuPi88c3Bhbj4nICsgcGFnZVRvdGFsICsgJzwvc3Bhbj4nO1xyXG4gICAgaHRtbCArPSAnPC9kaXY+JztcclxuICAgIGh0bWwgPSAkKGh0bWwpO1xyXG4gICAgdGhpcy50aXBzTW9kZSA9IDI7XHJcbiAgICB0aGlzLmN1cnJUaXAgPSBodG1sLmNoaWxkcmVuKCkuZmlyc3QoKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmQoaHRtbCk7XHJcbn1cclxuXHJcbi8v5bel5YW35qCP6ZqQ6JeP5oyJ6ZKuXHJcbmZUb29sYmFyLnByb3RvdHlwZS5jcmVhdGVIaWRlVG9vbGJhciA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xyXG4gICAgdmFyIGh0bWwsIHN0eWxlLFxyXG4gICAgICAgIFRPUCA9IHRoaXMudG9wLFxyXG4gICAgICAgIGhlaWdodCA9IHRoaXMuaWNvbkhlaWdodCxcclxuICAgICAgICByaWdodCA9IGljb25IZWlnaHQgKiAyLjU7XHJcbiAgICBzdHlsZSA9ICdwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDonICsgcmlnaHQgKyAncHg7dG9wOicgKyBUT1AgKyAncHg7d2lkdGg6JyArIGhlaWdodCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweDtiYWNrZ3JvdW5kLXNpemU6Y292ZXInO1xyXG4gICAgaHRtbCA9ICc8ZGl2IGNsYXNzPVwieHV0LWNvbnRyb2xCYXItaGlkZVwiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2Pic7XHJcbiAgICBjb250YWluZXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vL+W6lOeUqOagh+mimFxyXG5mVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlVGl0bGUgPSBmdW5jdGlvbihjb250YWluZXIpIHtcclxuICAgIHZhciBzdHlsZSwgaHRtbCxcclxuICAgICAgICBhcHBOYW1lID0gdGhpcy5hcHBOYW1lO1xyXG4gICAgc3R5bGUgPSAnbGluZS1oZWlnaHQ6JyArIHRoaXMuaWNvbkhlaWdodCArICdweCc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJ4dXQtY29udHJvbEJhci10aXRsZVwiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPicgKyBhcHBOYW1lICsgJzwvZGl2Pic7XHJcbiAgICBjb250YWluZXIuYXBwZW5kKGh0bWwpXHJcbn1cclxuXHJcblxyXG4vKipcclxuICogWyDmma7pgJrmjInpkq7pgqblrprkuovku7ZdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gYmFyIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZlRvb2xiYXIucHJvdG90eXBlLmJpbmRCdXR0b25zRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICBpbmRleCA9IDEsXHJcbiAgICAgICAgaWQgPSB0aGlzLmlkO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLm9uKFwidG91Y2hlbmQgdG91Y2hlbmRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSBYdXQucGxhdC5ldnRUYXJnZXQoZSksXHJcbiAgICAgICAgICAgIHR5cGUgPSB0YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd4dXQtY29udHJvbEJhci1oaWRlJzpcclxuICAgICAgICAgICAgICAgIHRoYXQuaGlkZVRvcEJhcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3h1dC1zY2VuYXJpby1kYXJrJzpcclxuICAgICAgICAgICAgICAgIGlmICh0aGF0LnBhZ2VNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgMTtcclxuICAgICAgICAgICAgICAgICAgICBYdXQuVmlldy5Hb3RvU2xpZGUoTnVtYmVyKGluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBbIOaYvuekuumhtumDqOW3peWFt+agj11cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mVG9vbGJhci5wcm90b3R5cGUuc2hvd1RvcEJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgIGRlbGF5ID0gdGhpcy5kZWxheSxcclxuICAgICAgICBjb250cm9sQmFyID0gdGhpcy5jb250cm9sQmFyO1xyXG4gICAgaWYgKHRoaXMuYmFyU3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5Mb2NrID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaGFzVG9wQmFyKSB7XHJcbiAgICAgICAgY29udHJvbEJhci5jc3Moe1xyXG4gICAgICAgICAgICAnZGlzcGxheSc6ICdibG9jaycsXHJcbiAgICAgICAgICAgICdvcGFjaXR5JzogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xCYXIuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDFcclxuICAgICAgICAgICAgfSwgZGVsYXksICdsaW5lYXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuc2hvd1N5c3RlbUJhcigpO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5Mb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb250cm9sQmFyLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuc2hvdygpO1xyXG4gICAgICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogWyDpmpDol4/pobbpg6jlt6XlhbfmoI9dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZlRvb2xiYXIucHJvdG90eXBlLmhpZGVUb3BCYXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICBkZWxheSA9IHRoaXMuZGVsYXksXHJcbiAgICAgICAgY29udHJvbEJhciA9IHRoaXMuY29udHJvbEJhcjtcclxuXHJcbiAgICBpZiAoIXRoaXMuYmFyU3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5Mb2NrID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaGFzVG9wQmFyKSB7XHJcbiAgICAgICAgY29udHJvbEJhci5hbmltYXRlKHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOiAwXHJcbiAgICAgICAgfSwgZGVsYXksICdsaW5lYXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhhdC5jb250cm9sQmFyLmhpZGUoKTtcclxuICAgICAgICAgICAgdGhhdC5oaWRlU3lzdGVtQmFyKCk7XHJcbiAgICAgICAgICAgIHRoYXQuYmFyU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoYXQuTG9jayA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb250cm9sQmFyLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuaGlkZShkZWxheSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoYXQuYmFyU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mVG9vbGJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIub2ZmKCk7XHJcbiAgICB0aGlzLmNvbnRyb2xCYXIgPSBudWxsO1xyXG4gICAgdGhpcy5hcnJvd3MgPSBudWxsO1xyXG4gICAgdGhpcy5wYWdlVGlwcyA9IG51bGw7XHJcbiAgICB0aGlzLmN1cnJUaXAgPSBudWxsO1xyXG4gICAgdGhpcy5wcmV2VGlwID0gbnVsbDtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgZlRvb2xiYXIgXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3Rvb2xiYXIvZm5iYXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 102 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.sToolbar = undefined;\n\nvar _toolBar = __webpack_require__(9);\n\nvar _navbar = __webpack_require__(10);\n\n/**\r\n * 主场景工具栏\r\n * 系统工具栏\r\n */\n\n\nvar sToolbar = _toolBar.ToolBar.extend({\n    init: function init(options) {\n        this.arrows = Object.create(null);\n        this.curTips = null; //当前页码对象\n        this.Lock = false; //操作锁\n        this.delay = 50; //动画延时\n        this.hasTopBar = true; //有顶部工具条\n        this.controlBar = options.controlBar;\n        this.container = options.container;\n        this.pageMode = options.pageMode;\n        this.pageTotal = options.pageTotal;\n        this.currentPage = options.currentPage;\n\n        //配置属性\n        //config\n        this.config = Xut.config;\n        this.initConfig(this.config);\n\n        this.initTool();\n    }\n});\n\nsToolbar.prototype.initTool = function () {\n\n    var bar = this.controlBar,\n        setting = this.settings;\n\n    //工具栏的显示状态\n    this.barStatus = bar.css('display') === 'none' ? false : true;\n\n    //工具栏摆放位置\n    this.toolbarPostion(bar, setting.ToolbarPos);\n\n    //首页按钮\n    setting.HomeBut && this.createHomeIcon(bar);\n\n    //目录按钮\n    setting.ContentBut && this.createDirIcon(bar);\n\n    //添加标题\n    this.createTitle(bar);\n\n    //关闭子文档\n    setting.CloseBut && this.createCloseIcon(bar);\n\n    //页码数\n    setting.PageBut && this.createPageNum(bar);\n\n    //工具栏隐藏按钮\n    this.createHideToolbar(bar);\n\n    //翻页按钮\n    if (this.pageMode == 2) {\n        this.createArrows();\n    }\n\n    //邦定事件\n    this.bindButtonsEvent(bar);\n};\n\n//工具条的位置\nsToolbar.prototype.toolbarPostion = function (bar, position) {\n    var height = this.iconHeight,\n        TOP = this.barHeight;\n    if (position == 1) {\n        //在底部\n        bar.css({\n            bottom: 0,\n            height: height + 'px'\n        });\n    } else {\n        //在顶部\n        bar.css({\n            top: 0,\n            height: height + 'px',\n            paddingTop: TOP + 'px'\n        });\n    }\n};\n\n//创建主页按钮\nsToolbar.prototype.createHomeIcon = function (bar) {\n    var str = '<div id=\"backHome\" style=\"float:left;text-indent:0.25em;height:{0}px;line-height:{1}px;color:#007aff\">主页</div>',\n        height = this.iconHeight,\n        html = $(String.format(str, height, height));\n    bar.append(html);\n};\n\n//创建目录按钮\nsToolbar.prototype.createDirIcon = function (bar) {\n    var str = '<div id=\"backDir\" class=\"xut-controlBar-backDir\" style=\"float:left;margin-left:4px;width:{0}px;height:{1}px;background-size:cover\"></div>',\n        height = this.iconHeight,\n        html = $(String.format(str, height, height));\n    bar.append(html);\n};\n\n//创建页码数\nsToolbar.prototype.createPageNum = function (bar) {\n    var height = this.iconHeight,\n        marginTop = height * 0.25,\n        iconH = height * 0.5,\n        str,\n        html;\n    str = '<div class=\"xut-controlBar-pageNum\" style=\"float:right;margin:{0}px 4px;padding:0 0.25em;height:{1}px;line-height:{2}px;border-radius:0.5em\"><span>{3}</span>/<span>{4}</span></div>';\n    html = $(String.format(str, marginTop, iconH, iconH, this.currentPage, this.pageTotal));\n    this.curTips = html.children().first();\n    bar.append(html);\n};\n\n//工具栏隐藏按钮\nsToolbar.prototype.createHideToolbar = function (bar) {\n    var html,\n        style,\n        height = this.iconHeight;\n    style = 'float:right;width:' + height + 'px;height:' + height + 'px;background-size:cover';\n    html = '<div id=\"hideToolbar\" class=\"xut-controlBar-hide\" style=\"' + style + '\"></div>';\n    bar.append(html);\n};\n\n//关闭子文档按钮\nsToolbar.prototype.createCloseIcon = function (bar) {\n    var style,\n        html,\n        height = this.iconHeight;\n    style = 'float:right;margin-right:4px;width:' + height + 'px;height:' + height + 'px';\n    html = '<div class=\"si-icon\" data-icon-name=\"close\" style=\"' + style + '\"></div>';\n    html = $(html);\n    this.createSVGIcon(html[0], function () {\n        if (SUbDOCCONTEXT) {\n            SUbDOCCONTEXT.Xut.publish('subdoc:dropApp');\n        } else {\n            Xut.publish('magazine:dropApp');\n        }\n    });\n    bar.append(html);\n};\n\n//应用标题\nsToolbar.prototype.createTitle = function (bar) {\n    var style,\n        html,\n        appName = this.appName,\n        height = this.iconHeight;\n    style = 'width:100%;position:absolute;line-height:' + height + 'px;pointer-events:none';\n    html = '<div class=\"xut-controlBar-title\" style=\"z-index:-99;' + style + '\">' + appName + '</div>';\n    bar.append(html);\n};\n\n/**\r\n * [ 返回按钮]\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.createBackIcon = function (container) {\n    var style,\n        html,\n        height = this.iconHeight;\n    style = 'float:left;width:' + height + 'px;height:' + height + 'px';\n    html = '<div class=\"si-icon\" data-icon-name=\"back\" style=\"' + style + '\"></div>';\n    html = $(html);\n    this.createSVGIcon(html[0], function () {\n        Xut.Application.Suspend({\n            dispose: function dispose() {\n                //停止热点动作\n                Xut.Application.DropApp(); //退出应用\n            },\n            processed: function processed() {\n                Xut.Application.DropApp(); //退出应用\n            }\n        });\n    });\n    container.append(html);\n};\n\n/**\r\n * 更新页码指示\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.updatePointer = function (pageIndex) {\n    this.curTips && this.curTips.html(pageIndex + 1);\n};\n\nsToolbar.prototype.bindButtonsEvent = function (bar) {\n    var that = this;\n    bar.on(\"touchend mouseup\", function (e) {\n        var type = Xut.plat.evtTarget(e).id;\n        switch (type) {\n            case \"backHome\":\n                that.homeControl();\n                break;\n            case \"backDir\":\n                that.navigationBar();\n                break;\n            case 'hideToolbar':\n                that.hideTopBar();\n                break;\n        }\n    });\n};\n\n/**\r\n * [ 跳转处理]\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.homeControl = function () {\n    if (DUKUCONFIG) {\n        Xut.Application.Suspend({\n            dispose: function dispose() {\n                Xut.Application.DropApp(); //退出应用\n            },\n            processed: function processed() {\n                Xut.Application.DropApp(); //退出应用\n            }\n        });\n        return;\n    }\n\n    Xut.Application.Suspend({\n        dispose: function dispose(promptMessage) {\n            //停止热点动作\n            //promptMessage('再按一次将跳至首页！')\n        },\n        processed: function processed() {\n            Xut.View.GotoSlide(1); //调整到首页\n        }\n    });\n};\n\n/**\r\n * [ 打开目录关闭当前页面活动热点]\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.navigationBar = function () {\n    initNavBar(Xut.Presentation.GetPageIndex());\n};\n\n/**\r\n * [ 显示顶部工具栏]\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.showTopBar = function () {\n    var that = this;\n\n    if (this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n    this.controlBar.css({\n        'display': 'block',\n        'opacity': 0\n    });\n\n    setTimeout(function () {\n        that.controlBar.animate({\n            'opacity': 1\n        }, that.delay, 'linear', function () {\n            (0, _navbar.close)();\n            that.showSystemBar();\n            that.barStatus = true;\n            that.Lock = false;\n        });\n    });\n};\n\n/**\r\n * [ 隐藏顶部工具栏]\r\n * @return {[type]} [description]\r\n */\nsToolbar.prototype.hideTopBar = function () {\n    var that = this;\n\n    if (!this.barStatus) {\n        this.Lock = false;\n        return;\n    }\n\n    this.controlBar.animate({\n        'opacity': 0\n    }, that.delay, 'linear', function () {\n        (0, _navbar.close)();\n        that.controlBar.hide();\n        that.hideSystemBar();\n        that.barStatus = false;\n        that.Lock = false;\n    });\n};\n\n//销毁\nsToolbar.prototype.destroy = function () {\n    this.controlBar.off();\n    this.controlBar = null;\n    this.arrows = null;\n    this.curTips = null;\n    this.barStatus = false;\n};\n\nexports.sToolbar = sToolbar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2xiYXIvc3lzYmFyLmpzPzUwNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOztBQUNBOzs7Ozs7OztBQUVBLElBQUksV0FBVyxpQkFBUSxNQUFSLENBQWU7QUFDMUIsVUFBTSxjQUFTLE9BQVQsRUFBa0I7QUFDcEIsYUFBSyxNQUFMLEdBQW1CLE9BQU8sTUFBUCxDQUFjLElBQWQsQ0FBbkI7QUFDQSxhQUFLLE9BQUwsR0FBbUIsSUFBbkIsQztBQUNBLGFBQUssSUFBTCxHQUFtQixLQUFuQixDO0FBQ0EsYUFBSyxLQUFMLEdBQW1CLEVBQW5CLEM7QUFDQSxhQUFLLFNBQUwsR0FBbUIsSUFBbkIsQztBQUNBLGFBQUssVUFBTCxHQUFtQixRQUFRLFVBQTNCO0FBQ0EsYUFBSyxTQUFMLEdBQW1CLFFBQVEsU0FBM0I7QUFDQSxhQUFLLFFBQUwsR0FBbUIsUUFBUSxRQUEzQjtBQUNBLGFBQUssU0FBTCxHQUFtQixRQUFRLFNBQTNCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLFFBQVEsV0FBM0I7Ozs7QUFJQSxhQUFLLE1BQUwsR0FBYyxJQUFJLE1BQWxCO0FBQ0EsYUFBSyxVQUFMLENBQWdCLEtBQUssTUFBckI7O0FBRUEsYUFBSyxRQUFMO0FBQ0g7QUFuQnlCLENBQWYsQ0FBZjs7QUF1QkEsU0FBUyxTQUFULENBQW1CLFFBQW5CLEdBQThCLFlBQVc7O0FBRXJDLFFBQUksTUFBTSxLQUFLLFVBQWY7UUFDSSxVQUFVLEtBQUssUUFEbkI7OztBQUlBLFNBQUssU0FBTCxHQUFrQixJQUFJLEdBQUosQ0FBUSxTQUFSLE1BQXVCLE1BQXhCLEdBQWtDLEtBQWxDLEdBQTBDLElBQTNEOzs7QUFHQSxTQUFLLGNBQUwsQ0FBb0IsR0FBcEIsRUFBeUIsUUFBUSxVQUFqQzs7O0FBR0EsWUFBUSxPQUFSLElBQW1CLEtBQUssY0FBTCxDQUFvQixHQUFwQixDQUFuQjs7O0FBR0EsWUFBUSxVQUFSLElBQXNCLEtBQUssYUFB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QSxTQUFLLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0EsU0FBSyxPQUFMLEdBQWUsSUFBZjtBQUNBLFNBQUssU0FBTCxHQUFpQixLQUFqQjtBQUNILENBTkQ7O1FBU0UsUSxHQUFBLFEiLCJmaWxlIjoiMTAyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOS4u+WcuuaZr+W3peWFt+agj1xyXG4gKiDns7vnu5/lt6XlhbfmoI9cclxuICovXHJcbmltcG9ydCB7IFRvb2xCYXIgfSBmcm9tICcuL2Jhc2UvdG9vbEJhcidcclxuaW1wb3J0IHsgY2xvc2UgYXMgbmF2YmFyQ2xvc2V9IGZyb20gJy4vbmF2YmFyJ1xyXG5cclxudmFyIHNUb29sYmFyID0gVG9vbEJhci5leHRlbmQoe1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYXJyb3dzICAgICAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIHRoaXMuY3VyVGlwcyAgICAgPSBudWxsOyAvL+W9k+WJjemhteeggeWvueixoVxyXG4gICAgICAgIHRoaXMuTG9jayAgICAgICAgPSBmYWxzZTsgLy/mk43kvZzplIFcclxuICAgICAgICB0aGlzLmRlbGF5ICAgICAgID0gNTA7IC8v5Yqo55S75bu25pe2XHJcbiAgICAgICAgdGhpcy5oYXNUb3BCYXIgICA9IHRydWU7IC8v5pyJ6aG26YOo5bel5YW35p2hXHJcbiAgICAgICAgdGhpcy5jb250cm9sQmFyICA9IG9wdGlvbnMuY29udHJvbEJhcjtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciAgID0gb3B0aW9ucy5jb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5wYWdlTW9kZSAgICA9IG9wdGlvbnMucGFnZU1vZGU7XHJcbiAgICAgICAgdGhpcy5wYWdlVG90YWwgICA9IG9wdGlvbnMucGFnZVRvdGFsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBvcHRpb25zLmN1cnJlbnRQYWdlO1xyXG5cclxuICAgICAgICAvL+mFjee9ruWxnuaAp1xyXG4gICAgICAgIC8vY29uZmlnXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBYdXQuY29uZmlnXHJcbiAgICAgICAgdGhpcy5pbml0Q29uZmlnKHRoaXMuY29uZmlnKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VG9vbCgpO1xyXG4gICAgfVxyXG59KTtcclxuICBcclxuIFxyXG5zVG9vbGJhci5wcm90b3R5cGUuaW5pdFRvb2wgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgYmFyID0gdGhpcy5jb250cm9sQmFyLFxyXG4gICAgICAgIHNldHRpbmcgPSB0aGlzLnNldHRpbmdzO1xyXG4gXHJcbiAgICAvL+W3peWFt+agj+eahOaYvuekuueKtuaAgVxyXG4gICAgdGhpcy5iYXJTdGF0dXMgPSAoYmFyLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpID8gZmFsc2UgOiB0cnVlO1xyXG5cclxuICAgIC8v5bel5YW35qCP5pGG5pS+5L2N572uXHJcbiAgICB0aGlzLnRvb2xiYXJQb3N0aW9uKGJhciwgc2V0dGluZy5Ub29sYmFyUG9zKTtcclxuXHJcbiAgICAvL+mmlumhteaMiemSrlxyXG4gICAgc2V0dGluZy5Ib21lQnV0ICYmIHRoaXMuY3JlYXRlSG9tZUljb24oYmFyKTtcclxuXHJcbiAgICAvL+ebruW9leaMiemSrlxyXG4gICAgc2V0dGluZy5Db250ZW50QnV0ICYmIHRoaXMuY3JlYXRlRGlySWNvbihiYXIpO1xyXG5cclxuICAgIC8v5re75Yqg5qCH6aKYXHJcbiAgICB0aGlzLmNyZWF0ZVRpdGxlKGJhcik7XHJcblxyXG4gICAgLy/lhbPpl63lrZDmlofmoaNcclxuICAgIHNldHRpbmcuQ2xvc2VCdXQgJiYgdGhpcy5jcmVhdGVDbG9zZUljb24oYmFyKTtcclxuXHJcbiAgICAvL+mhteeggeaVsFxyXG4gICAgc2V0dGluZy5QYWdlQnV0ICYmIHRoaXMuY3JlYXRlUGFnZU51bShiYXIpO1xyXG5cclxuICAgIC8v5bel5YW35qCP6ZqQ6JeP5oyJ6ZKuXHJcbiAgICB0aGlzLmNyZWF0ZUhpZGVUb29sYmFyKGJhcik7XHJcblxyXG4gICAgLy/nv7vpobXmjInpkq5cclxuICAgIGlmICh0aGlzLnBhZ2VNb2RlID09IDIpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFycm93cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6YKm5a6a5LqL5Lu2XHJcbiAgICB0aGlzLmJpbmRCdXR0b25zRXZlbnQoYmFyKTtcclxufVxyXG5cclxuLy/lt6XlhbfmnaHnmoTkvY3nva5cclxuc1Rvb2xiYXIucHJvdG90eXBlLnRvb2xiYXJQb3N0aW9uID0gZnVuY3Rpb24oYmFyLCBwb3NpdGlvbikge1xyXG4gICAgdmFyIGhlaWdodCA9IHRoaXMuaWNvbkhlaWdodCxcclxuICAgICAgICBUT1AgPSB0aGlzLmJhckhlaWdodDtcclxuICAgIGlmIChwb3NpdGlvbiA9PSAxKSB7IC8v5Zyo5bqV6YOoXHJcbiAgICAgICAgYmFyLmNzcyh7XHJcbiAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyAncHgnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgeyAvL+WcqOmhtumDqFxyXG4gICAgICAgIGJhci5jc3Moe1xyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgJ3B4JyxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogVE9QICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL+WIm+W7uuS4u+mhteaMiemSrlxyXG5zVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlSG9tZUljb24gPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciBzdHIgPSAnPGRpdiBpZD1cImJhY2tIb21lXCIgc3R5bGU9XCJmbG9hdDpsZWZ0O3RleHQtaW5kZW50OjAuMjVlbTtoZWlnaHQ6ezB9cHg7bGluZS1oZWlnaHQ6ezF9cHg7Y29sb3I6IzAwN2FmZlwiPuS4u+mhtTwvZGl2PicsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0LFxyXG4gICAgICAgIGh0bWwgPSAkKFN0cmluZy5mb3JtYXQoc3RyLCBoZWlnaHQsIGhlaWdodCkpO1xyXG4gICAgYmFyLmFwcGVuZChodG1sKTtcclxufVxyXG5cclxuLy/liJvlu7rnm67lvZXmjInpkq5cclxuc1Rvb2xiYXIucHJvdG90eXBlLmNyZWF0ZURpckljb24gPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciBzdHIgPSAnPGRpdiBpZD1cImJhY2tEaXJcIiBjbGFzcz1cInh1dC1jb250cm9sQmFyLWJhY2tEaXJcIiBzdHlsZT1cImZsb2F0OmxlZnQ7bWFyZ2luLWxlZnQ6NHB4O3dpZHRoOnswfXB4O2hlaWdodDp7MX1weDtiYWNrZ3JvdW5kLXNpemU6Y292ZXJcIj48L2Rpdj4nLFxyXG4gICAgICAgIGhlaWdodCA9IHRoaXMuaWNvbkhlaWdodCxcclxuICAgICAgICBodG1sID0gJChTdHJpbmcuZm9ybWF0KHN0ciwgaGVpZ2h0LCBoZWlnaHQpKTtcclxuICAgIGJhci5hcHBlbmQoaHRtbCk7XHJcbn1cclxuXHJcbi8v5Yib5bu66aG156CB5pWwXHJcbnNUb29sYmFyLnByb3RvdHlwZS5jcmVhdGVQYWdlTnVtID0gZnVuY3Rpb24oYmFyKSB7XHJcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0LFxyXG4gICAgICAgIG1hcmdpblRvcCA9IGhlaWdodCAqIDAuMjUsXHJcbiAgICAgICAgaWNvbkggPSBoZWlnaHQgKiAwLjUsXHJcbiAgICAgICAgc3RyLCBodG1sO1xyXG4gICAgc3RyID0gJzxkaXYgY2xhc3M9XCJ4dXQtY29udHJvbEJhci1wYWdlTnVtXCIgc3R5bGU9XCJmbG9hdDpyaWdodDttYXJnaW46ezB9cHggNHB4O3BhZGRpbmc6MCAwLjI1ZW07aGVpZ2h0OnsxfXB4O2xpbmUtaGVpZ2h0OnsyfXB4O2JvcmRlci1yYWRpdXM6MC41ZW1cIj48c3Bhbj57M308L3NwYW4+LzxzcGFuPns0fTwvc3Bhbj48L2Rpdj4nO1xyXG4gICAgaHRtbCA9ICQoU3RyaW5nLmZvcm1hdChzdHIsIG1hcmdpblRvcCwgaWNvbkgsIGljb25ILCB0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnBhZ2VUb3RhbCkpO1xyXG4gICAgdGhpcy5jdXJUaXBzID0gaHRtbC5jaGlsZHJlbigpLmZpcnN0KCk7XHJcbiAgICBiYXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vL+W3peWFt+agj+makOiXj+aMiemSrlxyXG5zVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlSGlkZVRvb2xiYXIgPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciBodG1sLCBzdHlsZSxcclxuICAgICAgICBoZWlnaHQgPSB0aGlzLmljb25IZWlnaHQ7XHJcbiAgICBzdHlsZSA9ICdmbG9hdDpyaWdodDt3aWR0aDonICsgaGVpZ2h0ICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O2JhY2tncm91bmQtc2l6ZTpjb3Zlcic7XHJcbiAgICBodG1sID0gJzxkaXYgaWQ9XCJoaWRlVG9vbGJhclwiIGNsYXNzPVwieHV0LWNvbnRyb2xCYXItaGlkZVwiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2Pic7XHJcbiAgICBiYXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vL+WFs+mXreWtkOaWh+aho+aMiemSrlxyXG5zVG9vbGJhci5wcm90b3R5cGUuY3JlYXRlQ2xvc2VJY29uID0gZnVuY3Rpb24oYmFyKSB7XHJcbiAgICB2YXIgc3R5bGUsIGh0bWwsIGhlaWdodCA9IHRoaXMuaWNvbkhlaWdodDtcclxuICAgIHN0eWxlID0gJ2Zsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDo0cHg7d2lkdGg6JyArIGhlaWdodCArICdweDtoZWlnaHQ6JyArIGhlaWdodCArICdweCc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJzaS1pY29uXCIgZGF0YS1pY29uLW5hbWU9XCJjbG9zZVwiIHN0eWxlPVwiJyArIHN0eWxlICsgJ1wiPjwvZGl2Pic7XHJcbiAgICBodG1sID0gJChodG1sKTtcclxuICAgIHRoaXMuY3JlYXRlU1ZHSWNvbihodG1sWzBdLFxyXG4gICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoU1ViRE9DQ09OVEVYVCkge1xyXG4gICAgICAgICAgICAgICAgU1ViRE9DQ09OVEVYVC5YdXQucHVibGlzaCgnc3ViZG9jOmRyb3BBcHAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFh1dC5wdWJsaXNoKCdtYWdhemluZTpkcm9wQXBwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICApO1xyXG4gICAgYmFyLmFwcGVuZChodG1sKTtcclxufVxyXG5cclxuLy/lupTnlKjmoIfpophcclxuc1Rvb2xiYXIucHJvdG90eXBlLmNyZWF0ZVRpdGxlID0gZnVuY3Rpb24oYmFyKSB7XHJcbiAgICB2YXIgc3R5bGUsIGh0bWwsXHJcbiAgICAgICAgYXBwTmFtZSA9IHRoaXMuYXBwTmFtZSxcclxuICAgICAgICBoZWlnaHQgPSB0aGlzLmljb25IZWlnaHQ7XHJcbiAgICBzdHlsZSA9ICd3aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2xpbmUtaGVpZ2h0OicgKyBoZWlnaHQgKyAncHg7cG9pbnRlci1ldmVudHM6bm9uZSc7XHJcbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJ4dXQtY29udHJvbEJhci10aXRsZVwiIHN0eWxlPVwiei1pbmRleDotOTk7JyArIHN0eWxlICsgJ1wiPicgKyBhcHBOYW1lICsgJzwvZGl2Pic7XHJcbiAgICBiYXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vKipcclxuICogWyDov5Tlm57mjInpkq5dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc1Rvb2xiYXIucHJvdG90eXBlLmNyZWF0ZUJhY2tJY29uID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XHJcbiAgICB2YXIgc3R5bGUsIGh0bWwsXHJcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5pY29uSGVpZ2h0O1xyXG4gICAgc3R5bGUgPSAnZmxvYXQ6bGVmdDt3aWR0aDonICsgaGVpZ2h0ICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4JztcclxuICAgIGh0bWwgPSAnPGRpdiBjbGFzcz1cInNpLWljb25cIiBkYXRhLWljb24tbmFtZT1cImJhY2tcIiBzdHlsZT1cIicgKyBzdHlsZSArICdcIj48L2Rpdj4nO1xyXG4gICAgaHRtbCA9ICQoaHRtbCk7XHJcbiAgICB0aGlzLmNyZWF0ZVNWR0ljb24oaHRtbFswXSxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgWHV0LkFwcGxpY2F0aW9uLlN1c3BlbmQoe1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7IC8v5YGc5q2i54Ot54K55Yqo5L2cXHJcbiAgICAgICAgICAgICAgICAgICAgWHV0LkFwcGxpY2F0aW9uLkRyb3BBcHAoKTsgLy/pgIDlh7rlupTnlKhcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFh1dC5BcHBsaWNhdGlvbi5Ecm9wQXBwKCk7IC8v6YCA5Ye65bqU55SoXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kKGh0bWwpO1xyXG59XHJcblxyXG4vKipcclxuICog5pu05paw6aG156CB5oyH56S6XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc1Rvb2xiYXIucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbihwYWdlSW5kZXgpIHtcclxuICAgIHRoaXMuY3VyVGlwcyAmJiB0aGlzLmN1clRpcHMuaHRtbChwYWdlSW5kZXggKyAxKTtcclxufVxyXG5cclxuc1Rvb2xiYXIucHJvdG90eXBlLmJpbmRCdXR0b25zRXZlbnQgPSBmdW5jdGlvbihiYXIpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgIGJhci5vbihcInRvdWNoZW5kIG1vdXNldXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciB0eXBlID0gWHV0LnBsYXQuZXZ0VGFyZ2V0KGUpLmlkO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYmFja0hvbWVcIjpcclxuICAgICAgICAgICAgICAgIHRoYXQuaG9tZUNvbnRyb2woKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYmFja0RpclwiOlxyXG4gICAgICAgICAgICAgICAgdGhhdC5uYXZpZ2F0aW9uQmFyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaGlkZVRvb2xiYXInOlxyXG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlVG9wQmFyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG4vKipcclxuICogWyDot7PovazlpITnkIZdXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuc1Rvb2xiYXIucHJvdG90eXBlLmhvbWVDb250cm9sID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoRFVLVUNPTkZJRykge1xyXG4gICAgICAgIFh1dC5BcHBsaWNhdGlvbi5TdXNwZW5kKHtcclxuICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBYdXQuQXBwbGljYXRpb24uRHJvcEFwcCgpIC8v6YCA5Ye65bqU55SoXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBYdXQuQXBwbGljYXRpb24uRHJvcEFwcCgpIC8v6YCA5Ye65bqU55SoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgWHV0LkFwcGxpY2F0aW9uLlN1c3BlbmQoe1xyXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKHByb21wdE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgLy/lgZzmraLng63ngrnliqjkvZxcclxuICAgICAgICAgICAgLy9wcm9tcHRNZXNzYWdlKCflho3mjInkuIDmrKHlsIbot7Poh7PpppbpobXvvIEnKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvY2Vzc2VkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgWHV0LlZpZXcuR290b1NsaWRlKDEpIC8v6LCD5pW05Yiw6aaW6aG1XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBbIOaJk+W8gOebruW9leWFs+mXreW9k+WJjemhtemdoua0u+WKqOeDreeCuV1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5zVG9vbGJhci5wcm90b3R5cGUubmF2aWdhdGlvbkJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICBpbml0TmF2QmFyKFh1dC5QcmVzZW50YXRpb24uR2V0UGFnZUluZGV4KCkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFsg5pi+56S66aG26YOo5bel5YW35qCPXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnNUb29sYmFyLnByb3RvdHlwZS5zaG93VG9wQmFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRoaXMuYmFyU3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5Mb2NrID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb250cm9sQmFyLmNzcyh7XHJcbiAgICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snLFxyXG4gICAgICAgICdvcGFjaXR5JzogMFxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoYXQuY29udHJvbEJhci5hbmltYXRlKHtcclxuICAgICAgICAgICAgJ29wYWNpdHknOiAxXHJcbiAgICAgICAgfSwgdGhhdC5kZWxheSwgJ2xpbmVhcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuYXZiYXJDbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGF0LnNob3dTeXN0ZW1CYXIoKTtcclxuICAgICAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH0pOyBcclxufSBcclxuICAgICBcclxuLyoqXHJcbiAqIFsg6ZqQ6JeP6aG26YOo5bel5YW35qCPXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbnNUb29sYmFyLnByb3RvdHlwZS5oaWRlVG9wQmFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKCF0aGlzLmJhclN0YXR1cykge1xyXG4gICAgICAgIHRoaXMuTG9jayA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0gXHJcbiBcclxuICAgIHRoaXMuY29udHJvbEJhci5hbmltYXRlKHtcclxuICAgICAgICAnb3BhY2l0eSc6IDBcclxuICAgIH0sIHRoYXQuZGVsYXksICdsaW5lYXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBuYXZiYXJDbG9zZSgpO1xyXG4gICAgICAgIHRoYXQuY29udHJvbEJhci5oaWRlKCk7XHJcbiAgICAgICAgdGhhdC5oaWRlU3lzdGVtQmFyKCk7XHJcbiAgICAgICAgdGhhdC5iYXJTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB0aGF0LkxvY2sgPSBmYWxzZTtcclxuICAgIH0pO1xyXG59IFxyXG5cclxuXHJcbi8v6ZSA5q+BIFxyXG5zVG9vbGJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb250cm9sQmFyLm9mZigpO1xyXG4gICAgdGhpcy5jb250cm9sQmFyID0gbnVsbDtcclxuICAgIHRoaXMuYXJyb3dzID0gbnVsbDtcclxuICAgIHRoaXMuY3VyVGlwcyA9IG51bGw7XHJcbiAgICB0aGlzLmJhclN0YXR1cyA9IGZhbHNlO1xyXG59XHJcblxyXG4gZXhwb3J0IHtcclxuIFx0c1Rvb2xiYXJcclxuIH1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvdG9vbGJhci9zeXNiYXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 103 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/****************************************************\r\n *\r\n *         \t缓存池\r\n *\r\n * ***************************************************/\n//创建缓存\nfunction createCache() {\n    var keys = [];\n\n    function cache(key, value) {\n        if (keys.push(key) > 20) {\n            delete cache[keys.shift()];\n        }\n        return cache[key] = value;\n    }\n    return cache;\n}\nvar contentCache = createCache();\n\nexports.contentCache = contentCache;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvYnVmZmVyLmpzPzVhMTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFNQSxTQUFTLFdBQVQsR0FBdUI7QUFDbkIsUUFBSSxPQUFPLEVBQVg7O0FBRUEsYUFBUyxLQUFULENBQWUsR0FBZixFQUFvQixLQUFwQixFQUEyQjtBQUN2QixZQUFJLEtBQUssSUFBTCxDQUFVLEdBQVYsSUFBaUIsRUFBckIsRUFBeUI7QUFDckIsbUJBQU8sTUFBTSxLQUFLLEtBQUwsRUFBTixDQUFQO0FBQ0g7QUFDRCxlQUFRLE1BQU0sR0FBTixJQUFhLEtBQXJCO0FBQ0g7QUFDRCxXQUFPLEtBQVA7QUFDSDtBQUNELElBQUksZUFBZSxhQUFuQjs7UUFFUSxZLEdBQUEsWSIsImZpbGUiOiIxMDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKlxyXG4gKiAgICAgICAgIFx057yT5a2Y5rGgXHJcbiAqXHJcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLy/liJvlu7rnvJPlrZhcclxuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XHJcbiAgICB2YXIga2V5cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhY2hlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoa2V5cy5wdXNoKGtleSkgPiAyMCkge1xyXG4gICAgICAgICAgICBkZWxldGUgY2FjaGVba2V5cy5zaGlmdCgpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChjYWNoZVtrZXldID0gdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhY2hlO1xyXG59XHJcbnZhciBjb250ZW50Q2FjaGUgPSBjcmVhdGVDYWNoZSgpXHJcblxyXG5leHBvcnQge2NvbnRlbnRDYWNoZX1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9saWIvdXRpbC9idWZmZXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 104 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addEdges = addEdges;\n/**\r\n * 利用canvas绘制出蒙板效果替换，需要蒙板效果的图片先用一个canvas占位，绘制是异步的\r\n */\n\nfunction _getCanvas(className) {\n    var children = document.getElementsByTagName('canvas'),\n        elements = new Array(),\n        i = 0,\n        child,\n        classNames,\n        j = 0;\n    for (i = 0; i < children.length; i++) {\n        child = children[i];\n        classNames = child.className.split(' ');\n        for (var j = 0; j < classNames.length; j++) {\n            if (classNames[j] == className) {\n                elements.push(child);\n                break;\n            }\n        }\n    }\n    return elements;\n}\n\nfunction _addEdge(canvas) {\n\n    var img = new Image(),\n        maskimg = new Image();\n    classNames = canvas.className.split(' ');\n    var context = canvas.getContext(\"2d\");\n    img.addEventListener(\"load\", loadimg);\n    maskimg.addEventListener(\"load\", loadmask);\n\n    function loadimg() {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.globalCompositeOperation = \"source-over\";\n        context.drawImage(img, 0, 0, canvas.width, canvas.height);\n        maskimg.src = canvas.getAttribute(\"mask\");\n        img.removeEventListener(\"load\", loadimg);\n        img.src = null;\n        img = null;\n    }\n\n    function loadmask() {\n        context.globalCompositeOperation = \"destination-atop\";\n        context.drawImage(maskimg, 0, 0, canvas.width, canvas.height);\n        canvas.style.opacity = 1;\n        maskimg.removeEventListener(\"load\", loadmask);\n        maskimg.src = null;\n        maskimg = null;\n        context = null;\n        classNames = null;\n        canvas.className = canvas.className.replace(\"edges\", \"\");\n    }\n    img.src = canvas.getAttribute(\"src\");\n}\n\nfunction addEdges() {\n    var thecanvas = _getCanvas('edges'),\n        i;\n    for (i = 0; i < thecanvas.length; i++) {\n        _addEdge(thecanvas[i]);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvZWRnZS5qcz8zNWQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBMERnQixRLEdBQUEsUTs7Ozs7QUF0RGhCLFNBQVMsVUFBVCxDQUFvQixTQUFwQixFQUErQjtBQUMzQixRQUFJLFdBQVcsU0FBUyxvQkFBVCxDQUE4QixRQUE5QixDQUFmO1FBQ0ksV0FBVyxJQUFJLEtBQUosRUFEZjtRQUVJLElBQUksQ0FGUjtRQUdJLEtBSEo7UUFJSSxVQUpKO1FBS0ksSUFBSSxDQUxSO0FBTUEsU0FBSyxJQUFJLENBQVQsRUFBWSxJQUFJLFNBQVMsTUFBekIsRUFBaUMsR0FBakMsRUFBc0M7QUFDbEMsZ0JBQVEsU0FBUyxDQUFULENBQVI7QUFDQSxxQkFBYSxNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsR0FBdEIsQ0FBYjtBQUNBLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxXQUFXLE1BQS9CLEVBQXVDLEdBQXZDLEVBQTRDO0FBQ3hDLGdCQUFJLFdBQVcsQ0FBWCxLQUFpQixTQUFyQixFQUFnQztBQUM1Qix5QkFBUyxJQUFULENBQWMsS0FBZDtBQUNBO0FBQ0g7QUFDSjtBQUNKO0FBQ0QsV0FBTyxRQUFQO0FBQ0g7O0FBR0QsU0FBUyxRQUFULENBQWtCLE1BQWxCLEVBQTBCOztBQUV0QixRQUFJLE1BQU0sSUFBSSxLQUFKLEVBQVY7UUFDSSxVQUFVLElBQUksS0FBSixFQURkO0FBRUEsaUJBQWEsT0FBTyxTQUFQLENBQWlCLEtBQWpCLENBQXVCLEdBQXZCLENBQWI7QUFDQSxRQUFJLFVBQVUsT0FBTyxVQUFQLENBQWtCLElBQWxCLENBQWQ7QUFDQSxRQUFJLGdCQUFKLENBQXFCLE1BQXJCLEVBQTZCLE9BQTdCO0FBQ0EsWUFBUSxnQkFBUixDQUF5QixNQUF6QixFQUFpQyxRQUFqQzs7QUFFQSxhQUFTLE9BQVQsR0FBbUI7QUFDZixnQkFBUSxTQUFSLENBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLE9BQU8sS0FBL0IsRUFBc0MsT0FBTyxNQUE3QztBQUNBLGdCQUFRLHdCQUFSLEdBQW1DLGFBQW5DO0FBQ0EsZ0JBQVEsU0FBUixDQUFrQixHQUFsQixFQUF1QixDQUF2QixFQUEwQixDQUExQixFQUE2QixPQUFPLEtBQXBDLEVBQTJDLE9BQU8sTUFBbEQ7QUFDQSxnQkFBUSxHQUFSLEdBQWMsT0FBTyxZQUFQLENBQW9CLE1BQXBCLENBQWQ7QUFDQSxZQUFJLG1CQUFKLENBQXdCLE1BQXhCLEVBQWdDLE9BQWhDO0FBQ0EsWUFBSSxHQUFKLEdBQVUsSUFBVjtBQUNBLGNBQU0sSUFBTjtBQUNIOztBQUVELGFBQVMsUUFBVCxHQUFvQjtBQUNoQixnQkFBUSx3QkFBUixHQUFtQyxrQkFBbkM7QUFDQSxnQkFBUSxTQUFSLENBQWtCLE9BQWxCLEVBQTJCLENBQTNCLEVBQThCLENBQTlCLEVBQWlDLE9BQU8sS0FBeEMsRUFBK0MsT0FBTyxNQUF0RDtBQUNBLGVBQU8sS0FBUCxDQUFhLE9BQWIsR0FBdUIsQ0FBdkI7QUFDQSxnQkFBUSxtQkFBUixDQUE0QixNQUE1QixFQUFvQyxRQUFwQztBQUNBLGdCQUFRLEdBQVIsR0FBYyxJQUFkO0FBQ0Esa0JBQVUsSUFBVjtBQUNBLGtCQUFVLElBQVY7QUFDQSxxQkFBYSxJQUFiO0FBQ0EsZUFBTyxTQUFQLEdBQW1CLE9BQU8sU0FBUCxDQUFpQixPQUFqQixDQUF5QixPQUF6QixFQUFrQyxFQUFsQyxDQUFuQjtBQUNIO0FBQ0QsUUFBSSxHQUFKLEdBQVUsT0FBTyxZQUFQLENBQW9CLEtBQXBCLENBQVY7QUFDSDs7QUFFTSxTQUFTLFFBQVQsR0FBb0I7QUFDdkIsUUFBSSxZQUFZLFdBQVcsT0FBWCxDQUFoQjtRQUNJLENBREo7QUFFQSxTQUFLLElBQUksQ0FBVCxFQUFZLElBQUksVUFBVSxNQUExQixFQUFrQyxHQUFsQyxFQUF1QztBQUNuQyxpQkFBUyxVQUFVLENBQVYsQ0FBVDtBQUNIO0FBQ0oiLCJmaWxlIjoiMTA0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIqeeUqGNhbnZhc+e7mOWItuWHuuiSmeadv+aViOaenOabv+aNou+8jOmcgOimgeiSmeadv+aViOaenOeahOWbvueJh+WFiOeUqOS4gOS4qmNhbnZhc+WNoOS9je+8jOe7mOWItuaYr+W8guatpeeahFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIF9nZXRDYW52YXMoY2xhc3NOYW1lKSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJyksXHJcbiAgICAgICAgZWxlbWVudHMgPSBuZXcgQXJyYXkoKSxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBjaGlsZCxcclxuICAgICAgICBjbGFzc05hbWVzLFxyXG4gICAgICAgIGogPSAwO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICBjbGFzc05hbWVzID0gY2hpbGQuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjbGFzc05hbWVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWVzW2pdID09IGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtZW50cztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIF9hZGRFZGdlKGNhbnZhcykge1xyXG5cclxuICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKSxcclxuICAgICAgICBtYXNraW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBjbGFzc05hbWVzID0gY2FudmFzLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxvYWRpbWcpO1xyXG4gICAgbWFza2ltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkbWFzayk7XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZGltZygpIHtcclxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBtYXNraW1nLnNyYyA9IGNhbnZhcy5nZXRBdHRyaWJ1dGUoXCJtYXNrXCIpO1xyXG4gICAgICAgIGltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkaW1nKTtcclxuICAgICAgICBpbWcuc3JjID0gbnVsbDtcclxuICAgICAgICBpbWcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRtYXNrKCkge1xyXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1hdG9wXCI7XHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UobWFza2ltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjYW52YXMuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgbWFza2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkbWFzayk7XHJcbiAgICAgICAgbWFza2ltZy5zcmMgPSBudWxsO1xyXG4gICAgICAgIG1hc2tpbWcgPSBudWxsO1xyXG4gICAgICAgIGNvbnRleHQgPSBudWxsO1xyXG4gICAgICAgIGNsYXNzTmFtZXMgPSBudWxsO1xyXG4gICAgICAgIGNhbnZhcy5jbGFzc05hbWUgPSBjYW52YXMuY2xhc3NOYW1lLnJlcGxhY2UoXCJlZGdlc1wiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIGltZy5zcmMgPSBjYW52YXMuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkRWRnZXMoKSB7XHJcbiAgICB2YXIgdGhlY2FudmFzID0gX2dldENhbnZhcygnZWRnZXMnKSxcclxuICAgICAgICBpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHRoZWNhbnZhcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIF9hZGRFZGdlKHRoZWNhbnZhc1tpXSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGliL3V0aWwvZWRnZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 105 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.defProtected = defProtected;\nexports.defAccess = defAccess;\nexports.toNumber = toNumber;\nexports.toEmpty = toEmpty;\nexports.extend = extend;\nexports.deferred = deferred;\nexports.revisesize = revisesize;\nexports.setRootfont = setRootfont;\nexports.portExtend = portExtend;\nexports.arrayUnique = arrayUnique;\n//定义属性\nvar def = Object.defineProperty;\n\n/**\r\n * 定义一个新的对象\r\n * 重写属性\r\n */\nfunction defProtected(obj, key, val, enumerable, writable) {\n    def(obj, key, {\n        value: val,\n        enumerable: enumerable,\n        writable: writable,\n        configurable: true\n    });\n}\n\n/**\r\n * 定义访问控制器\r\n * @return {[type]} [description]\r\n */\nfunction defAccess(obj, key, access) {\n    def(obj, key, {\n        get: access.get,\n        set: access.set\n    });\n}\n\n/**\r\n * 转化数组\r\n * @param  {[type]} o [description]\r\n * @return {[type]}   [description]\r\n */\nfunction toNumber(o) {\n    return Number(o) || null;\n};\n\n/**\r\n * 保证有效值\r\n * @return {[type]} [description]\r\n */\nfunction toEmpty(val) {\n    return Number(val);\n}\n\n/**\r\n * 简单继承\r\n * @return {[type]} [description]\r\n */\nfunction extend(subClass, superClass) {\n    var F = function F() {};\n    // 只继承了superClass超级类中的方法并不包括属性（如果是定义在构造函数中，不在prototype里）\n    F.prototype = superClass.prototype;\n    // 因为F()函数只继承了超级类中prototype中的方法并没有其相关属性，所以subClass.prototype也只有superClass中的方法。　\n    var fProto = new F();\n    for (var k in fProto) {\n        if (subClass.prototype[k]) {\n            console.log('子类与超类的方法名重叠了！');\n        } else {\n            subClass.prototype[k] = fProto[k];\n        }\n    }\n    subClass.prototype.constructor = subClass;\n    superClass = null;\n}\n\n/**\r\n * 迷你版的deferred\r\n */\nfunction deferred(func, context) {\n    if (this instanceof Deferred === false) {\n        return new Deferred(func);\n    }\n    var tuple = [];\n    var promise = {\n        resolve: function resolve() {\n            var t = tuple.shift(),\n                n;\n            t && (n = t.apply(null, arguments), n instanceof Deferred && (n.tuple = tuple));\n        },\n        then: function then(n) {\n            return tuple.push(n), this;\n        }\n    };\n    if (func) {\n        func.call(context || promise, promise.resolve);\n    }\n    return promise;\n};\n\n/**\r\n * 缩放比\r\n * @param  {[type]} width  [description]\r\n * @param  {[type]} height [description]\r\n * @param  {[type]} left   [description]\r\n * @param  {[type]} top    [description]\r\n * @return {[type]}        [description]\r\n */\nfunction fiexdProportion(width, height, left, top) {\n    var proportion = Xut.config.proportion;\n    return {\n        width: width * proportion.width,\n        height: height * proportion.height,\n        left: left * proportion.left,\n        top: top * proportion.top\n    };\n}\n\n/**\r\n * 修正元素尺寸\r\n * @param  {[type]} results [description]\r\n * @return {[type]}         [description]\r\n */\nfunction revisesize(results) {\n    //不同设备下缩放比计算\n    var layerSize = fiexdProportion(results.width, results.height, results.left, results.top);\n    //新的背景图尺寸\n    var backSize = fiexdProportion(results.backwidth, results.backheight, results.backleft, results.backtop);\n\n    //赋值新的坐标\n    results.scaleWidth = Math.ceil(layerSize.width);\n    results.scaleHeight = Math.ceil(layerSize.height);\n    results.scaleLeft = Math.floor(layerSize.left);\n    results.scaleTop = Math.floor(layerSize.top);\n\n    //背景坐标\n    results.scaleBackWidth = Math.ceil(backSize.width);\n    results.scaleBackHeight = Math.ceil(backSize.height);\n    results.scaleBackLeft = Math.floor(backSize.left);\n    results.scaleBackTop = Math.floor(backSize.top);\n\n    return results;\n}\n\n/**\r\n * 全局字体修复\r\n * @return {[type]} [description]\r\n */\nfunction setRootfont() {\n    var rootSize = 16;\n    switch (window.innerWidth + window.innerHeight) {\n        case 3000:\n            //1920+1080\n            //samsumg galaxy s4\n            rootSize = 32;\n            break;\n        case 2000:\n            //1280+720\n            //HD Android phone\n            rootSize = 26;\n            break;\n        case 2048:\n            //1280+768\n            rootSize = Xut.plat.isIpad ? 16 : 26;\n            break;\n        case 1624:\n            //1024+600\n            rootSize = 18;\n            break;\n        case 888:\n            //568+320\n            rootSize = 12;\n            break;\n        case 800:\n            //480+320\n            rootSize = 14;\n            break;\n        case 560:\n            //320+240\n            rootSize = 12;\n            break;\n        default:\n            //其他分辨率 取默认值\n            break;\n    }\n    16 != rootSize && $(\"html\").css(\"font-size\", rootSize + \"px\");\n}\n\nfunction portExtend(object, config) {\n    for (var i in config) {\n        if (i) {\n            if (object[i]) {\n                console.log('接口方法重复', 'Key->' + i, 'Value->' + object[i]);\n            } else {\n                object[i] = config[i];\n            }\n        }\n    }\n};\n\n/**\r\n * 修正判断是否存在处理\r\n * @param  {[type]} arr [description]\r\n * @return {[type]}     [description]\r\n */\nfunction arrayUnique(arr) {\n    //去重\n    if (arr && arr.length) {\n        var length = arr.length;\n        while (--length) {\n            //如果在前面已经出现，则将该位置的元素删除\n            if (arr.lastIndexOf(arr[length], length - 1) > -1) {\n                arr.splice(length, 1);\n            }\n        }\n        return arr;\n    } else {\n        return arr;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvbGFuZy5qcz9iYTZhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBT2dCLFksR0FBQSxZO1FBYUEsUyxHQUFBLFM7UUFhQSxRLEdBQUEsUTtRQVFBLE8sR0FBQSxPO1FBUUEsTSxHQUFBLE07UUFxQkEsUSxHQUFBLFE7UUE4Q0EsVSxHQUFBLFU7UUEwQkEsVyxHQUFBLFc7UUFtQ0EsVSxHQUFBLFU7UUFtQkEsVyxHQUFBLFc7O0FBbk1oQixJQUFJLE1BQU0sT0FBTyxjQUFqQjs7Ozs7O0FBTU8sU0FBUyxZQUFULENBQXNCLEdBQXRCLEVBQTJCLEdBQTNCLEVBQWdDLEdBQWhDLEVBQXFDLFVBQXJDLEVBQWlELFFBQWpELEVBQTJEO0FBQzlELFFBQUksR0FBSixFQUFTLEdBQVQsRUFBYztBQUNWLGVBQU8sR0FERztBQUVWLG9CQUFZLFVBRkY7QUFHVixrQkFBVSxRQUhBO0FBSVYsc0JBQWM7QUFKSixLQUFkO0FBTUg7Ozs7OztBQU1NLFNBQVMsU0FBVCxDQUFtQixHQUFuQixFQUF3QixHQUF4QixFQUE2QixNQUE3QixFQUFxQztBQUN4QyxRQUFJLEdBQUosRUFBUyxHQUFULEVBQWM7QUFDVixhQUFLLE9BQU8sR0FERjtBQUVWLGFBQUssT0FBTztBQUZGLEtBQWQ7QUFJSDs7Ozs7OztBQVFNLFNBQVMsUUFBVCxDQUFrQixDQUFsQixFQUFxQjtBQUN4QixXQUFPLE9BQU8sQ0FBUCxLQUFhLElBQXBCO0FBQ0g7Ozs7OztBQU1NLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUN6QixXQUFPLE9BQU8sR0FBUCxDQUFQO0FBQ0g7Ozs7OztBQU1NLFNBQVMsTUFBVCxDQUFnQixRQUFoQixFQUEwQixVQUExQixFQUFzQztBQUN6QyxRQUFJLElBQUksU0FBSixDQUFJLEdBQVcsQ0FBRSxDQUFyQjs7QUFFQSxNQUFFLFNBQUYsR0FBYyxXQUFXLFNBQXpCOztBQUVBLFFBQUksU0FBUyxJQUFJLENBQUosRUFB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LEtBVEQsTUFTTztBQUNILGVBQU8sR0FBUDtBQUNIO0FBQ0oiLCJmaWxlIjoiMTA1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/lrprkuYnlsZ7mgKdcclxudmFyIGRlZiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcclxuXHJcbi8qKlxyXG4gKiDlrprkuYnkuIDkuKrmlrDnmoTlr7nosaFcclxuICog6YeN5YaZ5bGe5oCnXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVmUHJvdGVjdGVkKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUsIHdyaXRhYmxlKSB7XHJcbiAgICBkZWYob2JqLCBrZXksIHtcclxuICAgICAgICB2YWx1ZTogdmFsLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGVudW1lcmFibGUsXHJcbiAgICAgICAgd3JpdGFibGU6IHdyaXRhYmxlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOWumuS5ieiuv+mXruaOp+WItuWZqFxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZBY2Nlc3Mob2JqLCBrZXksIGFjY2Vzcykge1xyXG4gICAgZGVmKG9iaiwga2V5LCB7XHJcbiAgICAgICAgZ2V0OiBhY2Nlc3MuZ2V0LFxyXG4gICAgICAgIHNldDogYWNjZXNzLnNldFxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDovazljJbmlbDnu4RcclxuICogQHBhcmFtICB7W3R5cGVdfSBvIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcihvKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKG8pIHx8IG51bGw7XHJcbn07XHJcblxyXG4vKipcclxuICog5L+d6K+B5pyJ5pWI5YC8XHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvRW1wdHkodmFsKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHZhbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnroDljZXnu6fmib9cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XHJcbiAgICB2YXIgRiA9IGZ1bmN0aW9uKCkge307XHJcbiAgICAvLyDlj6rnu6fmib/kuoZzdXBlckNsYXNz6LaF57qn57G75Lit55qE5pa55rOV5bm25LiN5YyF5ous5bGe5oCn77yI5aaC5p6c5piv5a6a5LmJ5Zyo5p6E6YCg5Ye95pWw5Lit77yM5LiN5ZyocHJvdG90eXBl6YeM77yJXHJcbiAgICBGLnByb3RvdHlwZSA9IHN1cGVyQ2xhc3MucHJvdG90eXBlO+OAgFxyXG4gICAgLy8g5Zug5Li6Rigp5Ye95pWw5Y+q57un5om/5LqG6LaF57qn57G75LitcHJvdG90eXBl5Lit55qE5pa55rOV5bm25rKh5pyJ5YW255u45YWz5bGe5oCn77yM5omA5Lulc3ViQ2xhc3MucHJvdG90eXBl5Lmf5Y+q5pyJc3VwZXJDbGFzc+S4reeahOaWueazleOAguOAgCBcclxuICAgIHZhciBmUHJvdG8gPSBuZXcgRigpO1xyXG4gICAgZm9yICh2YXIgayBpbiBmUHJvdG8pIHtcclxuICAgICAgICBpZiAoc3ViQ2xhc3MucHJvdG90eXBlW2tdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflrZDnsbvkuI7otoXnsbvnmoTmlrnms5XlkI3ph43lj6DkuobvvIEnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZVtrXSA9IGZQcm90b1trXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xyXG4gICAgc3VwZXJDbGFzcyA9IG51bGw7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6L+35L2g54mI55qEZGVmZXJyZWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZlcnJlZChmdW5jLCBjb250ZXh0KSB7XHJcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIERlZmVycmVkID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGVmZXJyZWQoZnVuYylcclxuICAgIH1cclxuICAgIHZhciB0dXBsZSA9IFtdO1xyXG4gICAgdmFyIHByb21pc2UgPSB7XHJcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gdHVwbGUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIG47XHJcbiAgICAgICAgICAgIHQgJiYgKG4gPSB0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyksIG4gaW5zdGFuY2VvZiBEZWZlcnJlZCAmJiAobi50dXBsZSA9IHR1cGxlKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aGVuOiBmdW5jdGlvbihuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0dXBsZS5wdXNoKG4pLCB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChmdW5jKSB7XHJcbiAgICAgICAgZnVuYy5jYWxsKGNvbnRleHQgfHwgcHJvbWlzZSwgcHJvbWlzZS5yZXNvbHZlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDnvKnmlL7mr5RcclxuICogQHBhcmFtICB7W3R5cGVdfSB3aWR0aCAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGhlaWdodCBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gbGVmdCAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSB0b3AgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWV4ZFByb3BvcnRpb24od2lkdGgsIGhlaWdodCwgbGVmdCwgdG9wKSB7XHJcbiAgICB2YXIgcHJvcG9ydGlvbiA9IFh1dC5jb25maWcucHJvcG9ydGlvbjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkdGg6IHdpZHRoICogcHJvcG9ydGlvbi53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIHByb3BvcnRpb24uaGVpZ2h0LFxyXG4gICAgICAgIGxlZnQ6IGxlZnQgKiBwcm9wb3J0aW9uLmxlZnQsXHJcbiAgICAgICAgdG9wOiB0b3AgKiBwcm9wb3J0aW9uLnRvcFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOS/ruato+WFg+e0oOWwuuWvuFxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHJlc3VsdHMgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJldmlzZXNpemUocmVzdWx0cykge1xyXG4gICAgLy/kuI3lkIzorr7lpIfkuIvnvKnmlL7mr5TorqHnrpdcclxuICAgIHZhciBsYXllclNpemUgPSBmaWV4ZFByb3BvcnRpb24ocmVzdWx0cy53aWR0aCwgcmVzdWx0cy5oZWlnaHQsIHJlc3VsdHMubGVmdCwgcmVzdWx0cy50b3ApO1xyXG4gICAgLy/mlrDnmoTog4zmma/lm77lsLrlr7hcclxuICAgIHZhciBiYWNrU2l6ZSA9IGZpZXhkUHJvcG9ydGlvbihyZXN1bHRzLmJhY2t3aWR0aCwgcmVzdWx0cy5iYWNraGVpZ2h0LCByZXN1bHRzLmJhY2tsZWZ0LCByZXN1bHRzLmJhY2t0b3ApO1xyXG5cclxuICAgIC8v6LWL5YC85paw55qE5Z2Q5qCHXHJcbiAgICByZXN1bHRzLnNjYWxlV2lkdGggPSBNYXRoLmNlaWwobGF5ZXJTaXplLndpZHRoKTtcclxuICAgIHJlc3VsdHMuc2NhbGVIZWlnaHQgPSBNYXRoLmNlaWwobGF5ZXJTaXplLmhlaWdodCk7XHJcbiAgICByZXN1bHRzLnNjYWxlTGVmdCA9IE1hdGguZmxvb3IobGF5ZXJTaXplLmxlZnQpO1xyXG4gICAgcmVzdWx0cy5zY2FsZVRvcCA9IE1hdGguZmxvb3IobGF5ZXJTaXplLnRvcCk7XHJcblxyXG4gICAgLy/og4zmma/lnZDmoIdcclxuICAgIHJlc3VsdHMuc2NhbGVCYWNrV2lkdGggPSBNYXRoLmNlaWwoYmFja1NpemUud2lkdGgpO1xyXG4gICAgcmVzdWx0cy5zY2FsZUJhY2tIZWlnaHQgPSBNYXRoLmNlaWwoYmFja1NpemUuaGVpZ2h0KTtcclxuICAgIHJlc3VsdHMuc2NhbGVCYWNrTGVmdCA9IE1hdGguZmxvb3IoYmFja1NpemUubGVmdCk7XHJcbiAgICByZXN1bHRzLnNjYWxlQmFja1RvcCA9IE1hdGguZmxvb3IoYmFja1NpemUudG9wKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlhajlsYDlrZfkvZPkv67lpI1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Um9vdGZvbnQoKSB7XHJcbiAgICB2YXIgcm9vdFNpemUgPSAxNjtcclxuICAgIHN3aXRjaCAod2luZG93LmlubmVyV2lkdGggKyB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgICBjYXNlIDMwMDA6IC8vMTkyMCsxMDgwXHJcbiAgICAgICAgICAgIC8vc2Ftc3VtZyBnYWxheHkgczRcclxuICAgICAgICAgICAgcm9vdFNpemUgPSAzMjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyMDAwOiAvLzEyODArNzIwXHJcbiAgICAgICAgICAgIC8vSEQgQW5kcm9pZCBwaG9uZVxyXG4gICAgICAgICAgICByb290U2l6ZSA9IDI2O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDIwNDg6IC8vMTI4MCs3NjhcclxuICAgICAgICAgICAgcm9vdFNpemUgPSBYdXQucGxhdC5pc0lwYWQgPyAxNiA6IDI2O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE2MjQ6IC8vMTAyNCs2MDBcclxuICAgICAgICAgICAgcm9vdFNpemUgPSAxODtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA4ODg6IC8vNTY4KzMyMFxyXG4gICAgICAgICAgICByb290U2l6ZSA9IDEyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDgwMDogLy80ODArMzIwXHJcbiAgICAgICAgICAgIHJvb3RTaXplID0gMTQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNTYwOiAvLzMyMCsyNDBcclxuICAgICAgICAgICAgcm9vdFNpemUgPSAxMjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy/lhbbku5bliIbovqjnjocg5Y+W6buY6K6k5YC8XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgMTYgIT0gcm9vdFNpemUgJiYgJChcImh0bWxcIikuY3NzKFwiZm9udC1zaXplXCIsIHJvb3RTaXplICsgXCJweFwiKTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9ydEV4dGVuZChvYmplY3QsIGNvbmZpZykge1xyXG4gICAgZm9yICh2YXIgaSBpbiBjb25maWcpIHtcclxuICAgICAgICBpZiAoaSkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0W2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5o6l5Y+j5pa55rOV6YeN5aSNJywgJ0tleS0+JyArIGksICdWYWx1ZS0+JyArIG9iamVjdFtpXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtpXSA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIOS/ruato+WIpOaWreaYr+WQpuWtmOWcqOWkhOeQhlxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGFyciBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhcnJheVVuaXF1ZShhcnIpIHsgLy/ljrvph41cclxuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlICgtLWxlbmd0aCkge1xyXG4gICAgICAgICAgICAvL+WmguaenOWcqOWJjemdouW3sue7j+WHuueOsO+8jOWImeWwhuivpeS9jee9rueahOWFg+e0oOWIoOmZpFxyXG4gICAgICAgICAgICBpZiAoYXJyLmxhc3RJbmRleE9mKGFycltsZW5ndGhdLCBsZW5ndGggLSAxKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGxlbmd0aCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGFyclxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpYi91dGlsL2xhbmcuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 106 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*\n   * CommonJS module that exports EventSource polyfill version 0.9.6\n   * This module is intended for browser side use\n   * =====================================================================\n   * THIS IS A POLYFILL MODULE, SO IT HAS SIDE EFFECTS\n   * IT AUTOMATICALLY CHECKS IF window OBJECT DEFINES EventSource\n   * AND ADD THE EXPORTED ONE IN CASE IT IS UNDEFINED\n   * =====================================================================\n   * Supported by sc AmvTek srl\n   * :email: devel@amvtek.com\n */\n\n\nvar PolyfillEventSource = __webpack_require__(107).EventSource;\nmodule.exports = PolyfillEventSource;\n\n// Add EventSource to window if it is missing...\nif (window && !window.EventSource){\n    window.EventSource = PolyfillEventSource;\n    if (console){\n\tconsole.log(\"polyfill-eventsource added missing EventSource to window\");\n    }\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2V2ZW50c291cmNlLXBvbHlmaWxsL2Rpc3QvYnJvd3NlcmlmeS1ldmVudHNvdXJjZS5qcz9kOGU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTA2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgICogQ29tbW9uSlMgbW9kdWxlIHRoYXQgZXhwb3J0cyBFdmVudFNvdXJjZSBwb2x5ZmlsbCB2ZXJzaW9uIDAuOS42XG4gICAqIFRoaXMgbW9kdWxlIGlzIGludGVuZGVkIGZvciBicm93c2VyIHNpZGUgdXNlXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBUSElTIElTIEEgUE9MWUZJTEwgTU9EVUxFLCBTTyBJVCBIQVMgU0lERSBFRkZFQ1RTXG4gICAqIElUIEFVVE9NQVRJQ0FMTFkgQ0hFQ0tTIElGIHdpbmRvdyBPQkpFQ1QgREVGSU5FUyBFdmVudFNvdXJjZVxuICAgKiBBTkQgQUREIFRIRSBFWFBPUlRFRCBPTkUgSU4gQ0FTRSBJVCBJUyBVTkRFRklORURcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFN1cHBvcnRlZCBieSBzYyBBbXZUZWsgc3JsXG4gICAqIDplbWFpbDogZGV2ZWxAYW12dGVrLmNvbVxuICovXG5cblxudmFyIFBvbHlmaWxsRXZlbnRTb3VyY2UgPSByZXF1aXJlKCcuL2V2ZW50c291cmNlLmpzJykuRXZlbnRTb3VyY2U7XG5tb2R1bGUuZXhwb3J0cyA9IFBvbHlmaWxsRXZlbnRTb3VyY2U7XG5cbi8vIEFkZCBFdmVudFNvdXJjZSB0byB3aW5kb3cgaWYgaXQgaXMgbWlzc2luZy4uLlxuaWYgKHdpbmRvdyAmJiAhd2luZG93LkV2ZW50U291cmNlKXtcbiAgICB3aW5kb3cuRXZlbnRTb3VyY2UgPSBQb2x5ZmlsbEV2ZW50U291cmNlO1xuICAgIGlmIChjb25zb2xlKXtcblx0Y29uc29sZS5sb2coXCJwb2x5ZmlsbC1ldmVudHNvdXJjZSBhZGRlZCBtaXNzaW5nIEV2ZW50U291cmNlIHRvIHdpbmRvd1wiKTtcbiAgICB9XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9ldmVudHNvdXJjZS1wb2x5ZmlsbC9kaXN0L2Jyb3dzZXJpZnktZXZlbnRzb3VyY2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 107 */
/***/ function(module, exports) {

	eval("/*\n   * EventSource polyfill version 0.9.6\n   * Supported by sc AmvTek srl\n   * :email: devel@amvtek.com\n */\n;(function (global) {\n\n    if (global.EventSource && !global._eventSourceImportPrefix){\n        return;\n    }\n\n    var evsImportName = (global._eventSourceImportPrefix||'')+\"EventSource\";\n\n    var EventSource = function (url, options) {\n\n        if (!url || typeof url != 'string') {\n            throw new SyntaxError('Not enough arguments');\n        }\n\n        this.URL = url;\n        this.setOptions(options);\n        var evs = this;\n        setTimeout(function(){evs.poll()}, 0);\n    };\n\n    EventSource.prototype = {\n\n        CONNECTING: 0,\n\n        OPEN: 1,\n\n        CLOSED: 2,\n\n        defaultOptions: {\n\n            loggingEnabled: false,\n\n            loggingPrefix: \"eventsource\",\n\n            interval: 500, // milliseconds\n\n            bufferSizeLimit: 256*1024, // bytes\n\n            silentTimeout: 300000, // milliseconds\n\n            getArgs:{\n                'evs_buffer_size_limit': 256*1024\n            },\n\n            xhrHeaders:{\n                'Accept': 'text/event-stream',\n                'Cache-Control': 'no-cache',\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        },\n\n        setOptions: function(options){\n\n            var defaults = this.defaultOptions;\n            var option;\n\n            // set all default options...\n            for (option in defaults){\n\n                if ( defaults.hasOwnProperty(option) ){\n                    this[option] = defaults[option];\n                }\n            }\n\n            // override with what is in options\n            for (option in options){\n\n                if (option in defaults && options.hasOwnProperty(option)){\n                    this[option] = options[option];\n                }\n            }\n\n            // if getArgs option is enabled\n            // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n            if (this.getArgs && this.bufferSizeLimit) {\n\n                this.getArgs['evs_buffer_size_limit'] = this.bufferSizeLimit;\n            }\n\n            // if console is not available, force loggingEnabled to false\n            if (typeof console === \"undefined\" || typeof console.log === \"undefined\") {\n\n                this.loggingEnabled = false;\n            }\n        },\n\n        log: function(message) {\n\n            if (this.loggingEnabled) {\n\n                console.log(\"[\" + this.loggingPrefix +\"]:\" + message)\n            }\n        },\n\n        poll: function() {\n\n            try {\n\n                if (this.readyState == this.CLOSED) {\n                    return;\n                }\n\n                this.cleanup();\n                this.readyState = this.CONNECTING;\n                this.cursor = 0;\n                this.cache = '';\n                this._xhr = new this.XHR(this);\n                this.resetNoActivityTimer();\n\n            }\n            catch (e) {\n\n                // in an attempt to silence the errors\n                this.log('There were errors inside the pool try-catch');\n                this.dispatchEvent('error', { type: 'error', data: e.message });\n            }\n        },\n\n        pollAgain: function (interval) {\n\n            // schedule poll to be called after interval milliseconds\n            var evs = this;\n            evs.readyState = evs.CONNECTING;\n            evs.dispatchEvent('error', {\n                type: 'error',\n                data: \"Reconnecting \"\n            });\n            this._pollTimer = setTimeout(function(){evs.poll()}, interval||0);\n        },\n\n\n        cleanup: function() {\n\n            this.log('evs cleaning up')\n\n            if (this._pollTimer){\n                clearInterval(this._pollTimer);\n                this._pollTimer = null;\n            }\n\n            if (this._noActivityTimer){\n                clearInterval(this._noActivityTimer);\n                this._noActivityTimer = null;\n            }\n\n            if (this._xhr){\n                this._xhr.abort();\n                this._xhr = null;\n            }\n        },\n\n        resetNoActivityTimer: function(){\n\n            if (this.silentTimeout){\n\n                if (this._noActivityTimer){\n                    clearInterval(this._noActivityTimer);\n                }\n                var evs = this;\n                this._noActivityTimer = setTimeout(\n                        function(){ evs.log('Timeout! silentTImeout:'+evs.silentTimeout); evs.pollAgain(); },\n                        this.silentTimeout\n                        );\n            }\n        },\n\n        close: function () {\n\n            this.readyState = this.CLOSED;\n            this.log('Closing connection. readyState: '+this.readyState);\n            this.cleanup();\n        },\n\n        ondata: function() {\n\n            var request = this._xhr;\n\n            if (request.isReady() && !request.hasError() ) {\n                // reset the timer, as we have activity\n                this.resetNoActivityTimer();\n\n                // move this EventSource to OPEN state...\n                if (this.readyState == this.CONNECTING) {\n                    this.readyState = this.OPEN;\n                    this.dispatchEvent('open', { type: 'open' });\n                }\n\n                var buffer = request.getBuffer();\n\n                if (buffer.length > this.bufferSizeLimit) {\n                    this.log('buffer.length > this.bufferSizeLimit');\n                    this.pollAgain();\n                }\n\n                if (this.cursor == 0 && buffer.length > 0){\n\n                    // skip byte order mark \\uFEFF character if it starts the stream\n                    if (buffer.substring(0,1) == '\\uFEFF'){\n                        this.cursor = 1;\n                    }\n                }\n\n                var lastMessageIndex = this.lastMessageIndex(buffer);\n                if (lastMessageIndex[0] >= this.cursor){\n\n                    var newcursor = lastMessageIndex[1];\n                    var toparse = buffer.substring(this.cursor, newcursor);\n                    this.parseStream(toparse);\n                    this.cursor = newcursor;\n                }\n\n                // if request is finished, reopen the connection\n                if (request.isDone()) {\n                    this.log('request.isDone(). reopening the connection');\n                    this.pollAgain(this.interval);\n                }\n            }\n            else if (this.readyState !== this.CLOSED) {\n\n                this.log('this.readyState !== this.CLOSED');\n                this.pollAgain(this.interval);\n\n                //MV: Unsure why an error was previously dispatched\n            }\n        },\n\n        parseStream: function(chunk) {\n\n            // normalize line separators (\\r\\n,\\r,\\n) to \\n\n            // remove white spaces that may precede \\n\n            chunk = this.cache + this.normalizeToLF(chunk);\n\n            var events = chunk.split('\\n\\n');\n\n            var i, j, eventType, datas, line, retry;\n\n            for (i=0; i < (events.length - 1); i++) {\n\n                eventType = 'message';\n                datas = [];\n                parts = events[i].split('\\n');\n\n                for (j=0; j < parts.length; j++) {\n\n                    line = this.trimWhiteSpace(parts[j]);\n\n                    if (line.indexOf('event') == 0) {\n\n                        eventType = line.replace(/event:?\\s*/, '');\n                    }\n                    else if (line.indexOf('retry') == 0) {\n\n                        retry = parseInt(line.replace(/retry:?\\s*/, ''));\n                        if(!isNaN(retry)) {\n                            this.interval = retry;\n                        }\n                    }\n                    else if (line.indexOf('data') == 0) {\n\n                        datas.push(line.replace(/data:?\\s*/, ''));\n                    }\n                    else if (line.indexOf('id:') == 0) {\n\n                        this.lastEventId = line.replace(/id:?\\s*/, '');\n                    }\n                    else if (line.indexOf('id') == 0) { // this resets the id\n\n                        this.lastEventId = null;\n                    }\n                }\n\n                if (datas.length) {\n                    // dispatch a new event\n                    var event = new MessageEvent(eventType, datas.join('\\n'), window.location.origin, this.lastEventId);\n                    this.dispatchEvent(eventType, event);\n                }\n            }\n\n            this.cache = events[events.length - 1];\n        },\n\n        dispatchEvent: function (type, event) {\n            var handlers = this['_' + type + 'Handlers'];\n\n            if (handlers) {\n\n                for (var i = 0; i < handlers.length; i++) {\n                    handlers[i].call(this, event);\n                }\n            }\n\n            if (this['on' + type]) {\n                this['on' + type].call(this, event);\n            }\n\n        },\n\n        addEventListener: function (type, handler) {\n            if (!this['_' + type + 'Handlers']) {\n                this['_' + type + 'Handlers'] = [];\n            }\n\n            this['_' + type + 'Handlers'].push(handler);\n        },\n\n        removeEventListener: function (type, handler) {\n            var handlers = this['_' + type + 'Handlers'];\n            if (!handlers) {\n                return;\n            }\n            for (var i = handlers.length - 1; i >= 0; --i) {\n                if (handlers[i] === handler) {\n                    handlers.splice(i, 1);\n                    break;\n                }\n            }\n        },\n\n        _pollTimer: null,\n\n        _noactivityTimer: null,\n\n        _xhr: null,\n\n        lastEventId: null,\n\n        cache: '',\n\n        cursor: 0,\n\n        onerror: null,\n\n        onmessage: null,\n\n        onopen: null,\n\n        readyState: 0,\n\n        // ===================================================================\n        // helpers functions\n        // those are attached to prototype to ease reuse and testing...\n\n        urlWithParams: function (baseURL, params) {\n\n            var encodedArgs = [];\n\n            if (params){\n\n                var key, urlarg;\n                var urlize = encodeURIComponent;\n\n                for (key in params){\n                    if (params.hasOwnProperty(key)) {\n                        urlarg = urlize(key)+'='+urlize(params[key]);\n                        encodedArgs.push(urlarg);\n                    }\n                }\n            }\n\n            if (encodedArgs.length > 0){\n\n                if (baseURL.indexOf('?') == -1)\n                    return baseURL + '?' + encodedArgs.join('&');\n                return baseURL + '&' + encodedArgs.join('&');\n            }\n            return baseURL;\n        },\n\n        lastMessageIndex: function(text) {\n\n            var ln2 =text.lastIndexOf('\\n\\n');\n            var lr2 = text.lastIndexOf('\\r\\r');\n            var lrln2 = text.lastIndexOf('\\r\\n\\r\\n');\n\n            if (lrln2 > Math.max(ln2, lr2)) {\n                return [lrln2, lrln2+4];\n            }\n            return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2]\n        },\n\n        trimWhiteSpace: function(str) {\n            // to remove whitespaces left and right of string\n\n            var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g;\n            return str.replace(reTrim, '');\n        },\n\n        normalizeToLF: function(str) {\n\n            // replace \\r and \\r\\n with \\n\n            return str.replace(/\\r\\n|\\r/g, '\\n');\n        }\n\n    };\n\n    if (!isOldIE()){\n\n        EventSource.isPolyfill = \"XHR\";\n\n        // EventSource will send request using XMLHttpRequest\n        EventSource.prototype.XHR = function(evs) {\n\n            request = new XMLHttpRequest();\n            this._request = request;\n            evs._xhr = this;\n\n            // set handlers\n            request.onreadystatechange = function(){\n                if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n                    if (request.status == 200 || (request.status>=300 && request.status<400)){\n                        evs.ondata();\n                    }\n                    else {\n                        request._failed = true;\n                        evs.readyState = evs.CLOSED;\n                        evs.dispatchEvent('error', {\n                            type: 'error',\n                            data: \"The server responded with \"+request.status\n                        });\n                        evs.close();\n                    }\n                }\n            };\n\n            request.onprogress = function () {\n            };\n\n            request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true);\n\n            var headers = evs.xhrHeaders; // maybe null\n            for (var header in headers) {\n                if (headers.hasOwnProperty(header)){\n                    request.setRequestHeader(header, headers[header]);\n                }\n            }\n            if (evs.lastEventId) {\n                request.setRequestHeader('Last-Event-Id', evs.lastEventId);\n            }\n\n            request.send();\n        };\n\n        EventSource.prototype.XHR.prototype = {\n\n            useXDomainRequest: false,\n\n            _request: null,\n\n            _failed: false, // true if we have had errors...\n\n            isReady: function() {\n\n\n                return this._request.readyState >= 2;\n            },\n\n            isDone: function() {\n\n                return (this._request.readyState == 4);\n            },\n\n            hasError: function() {\n\n                return (this._failed || (this._request.status >= 400));\n            },\n\n            getBuffer: function() {\n\n                var rv = '';\n                try {\n                    rv = this._request.responseText || '';\n                }\n                catch (e){}\n                return rv;\n            },\n\n            abort: function() {\n\n                if ( this._request ) {\n                    this._request.abort();\n                }\n            }\n        };\n    }\n    else {\n\n\tEventSource.isPolyfill = \"IE_8-9\";\n\n        // patch EventSource defaultOptions\n        var defaults = EventSource.prototype.defaultOptions;\n        defaults.xhrHeaders = null; // no headers will be sent\n        defaults.getArgs['evs_preamble'] = 2048 + 8;\n\n        // EventSource will send request using Internet Explorer XDomainRequest\n        EventSource.prototype.XHR = function(evs) {\n\n            request = new XDomainRequest();\n            this._request = request;\n\n            // set handlers\n            request.onprogress = function(){\n                request._ready = true;\n                evs.ondata();\n            };\n\n            request.onload = function(){\n                this._loaded = true;\n                evs.ondata();\n            };\n\n            request.onerror = function(){\n                this._failed = true;\n                evs.readyState = evs.CLOSED;\n                evs.dispatchEvent('error', {\n                    type: 'error',\n                    data: \"XDomainRequest error\"\n                });\n            };\n\n            request.ontimeout = function(){\n                this._failed = true;\n                evs.readyState = evs.CLOSED;\n                evs.dispatchEvent('error', {\n                    type: 'error',\n                    data: \"XDomainRequest timed out\"\n                });\n            };\n\n            // XDomainRequest does not allow setting custom headers\n            // If EventSource has enabled the use of GET arguments\n            // we add parameters to URL so that server can adapt the stream...\n            var reqGetArgs = {};\n            if (evs.getArgs) {\n\n                // copy evs.getArgs in reqGetArgs\n                var defaultArgs = evs.getArgs;\n                    for (var key in defaultArgs) {\n                        if (defaultArgs.hasOwnProperty(key)){\n                            reqGetArgs[key] = defaultArgs[key];\n                        }\n                    }\n                if (evs.lastEventId){\n                    reqGetArgs['evs_last_event_id'] = evs.lastEventId;\n                }\n            }\n            // send the request\n\n            request.open('GET', evs.urlWithParams(evs.URL,reqGetArgs));\n            request.send();\n        };\n\n        EventSource.prototype.XHR.prototype = {\n\n            useXDomainRequest: true,\n\n            _request: null,\n\n            _ready: false, // true when progress events are dispatched\n\n            _loaded: false, // true when request has been loaded\n\n            _failed: false, // true if when request is in error\n\n            isReady: function() {\n\n                return this._request._ready;\n            },\n\n            isDone: function() {\n\n                return this._request._loaded;\n            },\n\n            hasError: function() {\n\n                return this._request._failed;\n            },\n\n            getBuffer: function() {\n\n                var rv = '';\n                try {\n                    rv = this._request.responseText || '';\n                }\n                catch (e){}\n                return rv;\n            },\n\n            abort: function() {\n\n                if ( this._request){\n                    this._request.abort();\n                }\n            }\n        };\n    }\n\n    function MessageEvent(type, data, origin, lastEventId) {\n\n        this.bubbles = false;\n        this.cancelBubble = false;\n        this.cancelable = false;\n        this.data = data || null;\n        this.origin = origin || '';\n        this.lastEventId = lastEventId || '';\n        this.type = type || 'message';\n    }\n\n    function isOldIE () {\n\n        //return true if we are in IE8 or IE9\n        return (window.XDomainRequest && (window.XMLHttpRequest && new XMLHttpRequest().responseType === undefined)) ? true : false;\n    }\n\n    global[evsImportName] = EventSource;\n})(this);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2V2ZW50c291cmNlLXBvbHlmaWxsL2Rpc3QvZXZlbnRzb3VyY2UuanM/Mjc5YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixXQUFXO0FBQ3pDOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsaUNBQWlDO0FBQzlFO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isb0RBQW9ELFdBQVc7QUFDL0QsU0FBUzs7O0FBR1Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQXNELGlCQUFpQixFQUFFO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FB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YTs7QUFFYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJmaWxlIjoiMTA3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgICogRXZlbnRTb3VyY2UgcG9seWZpbGwgdmVyc2lvbiAwLjkuNlxuICAgKiBTdXBwb3J0ZWQgYnkgc2MgQW12VGVrIHNybFxuICAgKiA6ZW1haWw6IGRldmVsQGFtdnRlay5jb21cbiAqL1xuOyhmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cbiAgICBpZiAoZ2xvYmFsLkV2ZW50U291cmNlICYmICFnbG9iYWwuX2V2ZW50U291cmNlSW1wb3J0UHJlZml4KXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBldnNJbXBvcnROYW1lID0gKGdsb2JhbC5fZXZlbnRTb3VyY2VJbXBvcnRQcmVmaXh8fCcnKStcIkV2ZW50U291cmNlXCI7XG5cbiAgICB2YXIgRXZlbnRTb3VyY2UgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5VUkwgPSB1cmw7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIGV2cyA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtldnMucG9sbCgpfSwgMCk7XG4gICAgfTtcblxuICAgIEV2ZW50U291cmNlLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBDT05ORUNUSU5HOiAwLFxuXG4gICAgICAgIE9QRU46IDEsXG5cbiAgICAgICAgQ0xPU0VEOiAyLFxuXG4gICAgICAgIGRlZmF1bHRPcHRpb25zOiB7XG5cbiAgICAgICAgICAgIGxvZ2dpbmdFbmFibGVkOiBmYWxzZSxcblxuICAgICAgICAgICAgbG9nZ2luZ1ByZWZpeDogXCJldmVudHNvdXJjZVwiLFxuXG4gICAgICAgICAgICBpbnRlcnZhbDogNTAwLCAvLyBtaWxsaXNlY29uZHNcblxuICAgICAgICAgICAgYnVmZmVyU2l6ZUxpbWl0OiAyNTYqMTAyNCwgLy8gYnl0ZXNcblxuICAgICAgICAgICAgc2lsZW50VGltZW91dDogMzAwMDAwLCAvLyBtaWxsaXNlY29uZHNcblxuICAgICAgICAgICAgZ2V0QXJnczp7XG4gICAgICAgICAgICAgICAgJ2V2c19idWZmZXJfc2l6ZV9saW1pdCc6IDI1NioxMDI0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB4aHJIZWFkZXJzOntcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsXG4gICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgICAgICB2YXIgb3B0aW9uO1xuXG4gICAgICAgICAgICAvLyBzZXQgYWxsIGRlZmF1bHQgb3B0aW9ucy4uLlxuICAgICAgICAgICAgZm9yIChvcHRpb24gaW4gZGVmYXVsdHMpe1xuXG4gICAgICAgICAgICAgICAgaWYgKCBkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbb3B0aW9uXSA9IGRlZmF1bHRzW29wdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvdmVycmlkZSB3aXRoIHdoYXQgaXMgaW4gb3B0aW9uc1xuICAgICAgICAgICAgZm9yIChvcHRpb24gaW4gb3B0aW9ucyl7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uIGluIGRlZmF1bHRzICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGdldEFyZ3Mgb3B0aW9uIGlzIGVuYWJsZWRcbiAgICAgICAgICAgIC8vIGVuc3VyZSBldnNfYnVmZmVyX3NpemVfbGltaXQgY29ycmVzcG9uZHMgdG8gYnVmZmVyU2l6ZUxpbWl0XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRBcmdzICYmIHRoaXMuYnVmZmVyU2l6ZUxpbWl0KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldEFyZ3NbJ2V2c19idWZmZXJfc2l6ZV9saW1pdCddID0gdGhpcy5idWZmZXJTaXplTGltaXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGNvbnNvbGUgaXMgbm90IGF2YWlsYWJsZSwgZm9yY2UgbG9nZ2luZ0VuYWJsZWQgdG8gZmFsc2VcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgY29uc29sZS5sb2cgPT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2luZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBsb2c6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1wiICsgdGhpcy5sb2dnaW5nUHJlZml4ICtcIl06XCIgKyBtZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBvbGw6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSB0aGlzLkNMT1NFRCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DT05ORUNUSU5HO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5feGhyID0gbmV3IHRoaXMuWEhSKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXROb0FjdGl2aXR5VGltZXIoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcblxuICAgICAgICAgICAgICAgIC8vIGluIGFuIGF0dGVtcHQgdG8gc2lsZW5jZSB0aGUgZXJyb3JzXG4gICAgICAgICAgICAgICAgdGhpcy5sb2coJ1RoZXJlIHdlcmUgZXJyb3JzIGluc2lkZSB0aGUgcG9vbCB0cnktY2F0Y2gnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBkYXRhOiBlLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcG9sbEFnYWluOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcblxuICAgICAgICAgICAgLy8gc2NoZWR1bGUgcG9sbCB0byBiZSBjYWxsZWQgYWZ0ZXIgaW50ZXJ2YWwgbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICB2YXIgZXZzID0gdGhpcztcbiAgICAgICAgICAgIGV2cy5yZWFkeVN0YXRlID0gZXZzLkNPTk5FQ1RJTkc7XG4gICAgICAgICAgICBldnMuZGlzcGF0Y2hFdmVudCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBcIlJlY29ubmVjdGluZyBcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZXZzLnBvbGwoKX0sIGludGVydmFsfHwwKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIGNsZWFudXA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLmxvZygnZXZzIGNsZWFuaW5nIHVwJylcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3BvbGxUaW1lcil7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wb2xsVGltZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9ub0FjdGl2aXR5VGltZXIpe1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fbm9BY3Rpdml0eVRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub0FjdGl2aXR5VGltZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5feGhyKXtcbiAgICAgICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0Tm9BY3Rpdml0eVRpbWVyOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaWxlbnRUaW1lb3V0KXtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ub0FjdGl2aXR5VGltZXIpe1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX25vQWN0aXZpdHlUaW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBldnMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vQWN0aXZpdHlUaW1lciA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyBldnMubG9nKCdUaW1lb3V0ISBzaWxlbnRUSW1lb3V0OicrZXZzLnNpbGVudFRpbWVvdXQpOyBldnMucG9sbEFnYWluKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbGVudFRpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TRUQ7XG4gICAgICAgICAgICB0aGlzLmxvZygnQ2xvc2luZyBjb25uZWN0aW9uLiByZWFkeVN0YXRlOiAnK3RoaXMucmVhZHlTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbmRhdGE6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX3hocjtcblxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaXNSZWFkeSgpICYmICFyZXF1ZXN0Lmhhc0Vycm9yKCkgKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHRpbWVyLCBhcyB3ZSBoYXZlIGFjdGl2aXR5XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldE5vQWN0aXZpdHlUaW1lcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gbW92ZSB0aGlzIEV2ZW50U291cmNlIHRvIE9QRU4gc3RhdGUuLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IHRoaXMuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLk9QRU47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnb3BlbicsIHsgdHlwZTogJ29wZW4nIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSByZXF1ZXN0LmdldEJ1ZmZlcigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiB0aGlzLmJ1ZmZlclNpemVMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZygnYnVmZmVyLmxlbmd0aCA+IHRoaXMuYnVmZmVyU2l6ZUxpbWl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9sbEFnYWluKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yID09IDAgJiYgYnVmZmVyLmxlbmd0aCA+IDApe1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgYnl0ZSBvcmRlciBtYXJrIFxcdUZFRkYgY2hhcmFjdGVyIGlmIGl0IHN0YXJ0cyB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuc3Vic3RyaW5nKDAsMSkgPT0gJ1xcdUZFRkYnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBsYXN0TWVzc2FnZUluZGV4ID0gdGhpcy5sYXN0TWVzc2FnZUluZGV4KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RNZXNzYWdlSW5kZXhbMF0gPj0gdGhpcy5jdXJzb3Ipe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdjdXJzb3IgPSBsYXN0TWVzc2FnZUluZGV4WzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wYXJzZSA9IGJ1ZmZlci5zdWJzdHJpbmcodGhpcy5jdXJzb3IsIG5ld2N1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VTdHJlYW0odG9wYXJzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbmV3Y3Vyc29yO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHJlcXVlc3QgaXMgZmluaXNoZWQsIHJlb3BlbiB0aGUgY29ubmVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKCdyZXF1ZXN0LmlzRG9uZSgpLiByZW9wZW5pbmcgdGhlIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2xsQWdhaW4odGhpcy5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSB0aGlzLkNMT1NFRCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2coJ3RoaXMucmVhZHlTdGF0ZSAhPT0gdGhpcy5DTE9TRUQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvbGxBZ2Fpbih0aGlzLmludGVydmFsKTtcblxuICAgICAgICAgICAgICAgIC8vTVY6IFVuc3VyZSB3aHkgYW4gZXJyb3Igd2FzIHByZXZpb3VzbHkgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlU3RyZWFtOiBmdW5jdGlvbihjaHVuaykge1xuXG4gICAgICAgICAgICAvLyBub3JtYWxpemUgbGluZSBzZXBhcmF0b3JzIChcXHJcXG4sXFxyLFxcbikgdG8gXFxuXG4gICAgICAgICAgICAvLyByZW1vdmUgd2hpdGUgc3BhY2VzIHRoYXQgbWF5IHByZWNlZGUgXFxuXG4gICAgICAgICAgICBjaHVuayA9IHRoaXMuY2FjaGUgKyB0aGlzLm5vcm1hbGl6ZVRvTEYoY2h1bmspO1xuXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gY2h1bmsuc3BsaXQoJ1xcblxcbicpO1xuXG4gICAgICAgICAgICB2YXIgaSwgaiwgZXZlbnRUeXBlLCBkYXRhcywgbGluZSwgcmV0cnk7XG5cbiAgICAgICAgICAgIGZvciAoaT0wOyBpIDwgKGV2ZW50cy5sZW5ndGggLSAxKTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBldmVudFR5cGUgPSAnbWVzc2FnZSc7XG4gICAgICAgICAgICAgICAgZGF0YXMgPSBbXTtcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IGV2ZW50c1tpXS5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGo9MDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IHRoaXMudHJpbVdoaXRlU3BhY2UocGFydHNbal0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJ2V2ZW50JykgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBsaW5lLnJlcGxhY2UoL2V2ZW50Oj9cXHMqLywgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuaW5kZXhPZigncmV0cnknKSA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5ID0gcGFyc2VJbnQobGluZS5yZXBsYWNlKC9yZXRyeTo/XFxzKi8sICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4ocmV0cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHJldHJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuaW5kZXhPZignZGF0YScpID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXMucHVzaChsaW5lLnJlcGxhY2UoL2RhdGE6P1xccyovLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuaW5kZXhPZignaWQ6JykgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RFdmVudElkID0gbGluZS5yZXBsYWNlKC9pZDo/XFxzKi8sICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsaW5lLmluZGV4T2YoJ2lkJykgPT0gMCkgeyAvLyB0aGlzIHJlc2V0cyB0aGUgaWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXZlbnRJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGEgbmV3IGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBNZXNzYWdlRXZlbnQoZXZlbnRUeXBlLCBkYXRhcy5qb2luKCdcXG4nKSwgd2luZG93LmxvY2F0aW9uLm9yaWdpbiwgdGhpcy5sYXN0RXZlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudFR5cGUsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBldmVudHNbZXZlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uICh0eXBlLCBldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ107XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVycykge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc1tpXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzWydvbicgKyB0eXBlXSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJ29uJyArIHR5cGVdLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICghdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10pIHtcbiAgICAgICAgICAgICAgICB0aGlzWydfJyArIHR5cGUgKyAnSGFuZGxlcnMnXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzWydfJyArIHR5cGUgKyAnSGFuZGxlcnMnXS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzWydfJyArIHR5cGUgKyAnSGFuZGxlcnMnXTtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaGFuZGxlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3BvbGxUaW1lcjogbnVsbCxcblxuICAgICAgICBfbm9hY3Rpdml0eVRpbWVyOiBudWxsLFxuXG4gICAgICAgIF94aHI6IG51bGwsXG5cbiAgICAgICAgbGFzdEV2ZW50SWQ6IG51bGwsXG5cbiAgICAgICAgY2FjaGU6ICcnLFxuXG4gICAgICAgIGN1cnNvcjogMCxcblxuICAgICAgICBvbmVycm9yOiBudWxsLFxuXG4gICAgICAgIG9ubWVzc2FnZTogbnVsbCxcblxuICAgICAgICBvbm9wZW46IG51bGwsXG5cbiAgICAgICAgcmVhZHlTdGF0ZTogMCxcblxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIGhlbHBlcnMgZnVuY3Rpb25zXG4gICAgICAgIC8vIHRob3NlIGFyZSBhdHRhY2hlZCB0byBwcm90b3R5cGUgdG8gZWFzZSByZXVzZSBhbmQgdGVzdGluZy4uLlxuXG4gICAgICAgIHVybFdpdGhQYXJhbXM6IGZ1bmN0aW9uIChiYXNlVVJMLCBwYXJhbXMpIHtcblxuICAgICAgICAgICAgdmFyIGVuY29kZWRBcmdzID0gW107XG5cbiAgICAgICAgICAgIGlmIChwYXJhbXMpe1xuXG4gICAgICAgICAgICAgICAgdmFyIGtleSwgdXJsYXJnO1xuICAgICAgICAgICAgICAgIHZhciB1cmxpemUgPSBlbmNvZGVVUklDb21wb25lbnQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBwYXJhbXMpe1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybGFyZyA9IHVybGl6ZShrZXkpKyc9Jyt1cmxpemUocGFyYW1zW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlZEFyZ3MucHVzaCh1cmxhcmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZW5jb2RlZEFyZ3MubGVuZ3RoID4gMCl7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZVVSTC5pbmRleE9mKCc/JykgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVVJMICsgJz8nICsgZW5jb2RlZEFyZ3Muam9pbignJicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVVJMICsgJyYnICsgZW5jb2RlZEFyZ3Muam9pbignJicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJhc2VVUkw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGFzdE1lc3NhZ2VJbmRleDogZnVuY3Rpb24odGV4dCkge1xuXG4gICAgICAgICAgICB2YXIgbG4yID10ZXh0Lmxhc3RJbmRleE9mKCdcXG5cXG4nKTtcbiAgICAgICAgICAgIHZhciBscjIgPSB0ZXh0Lmxhc3RJbmRleE9mKCdcXHJcXHInKTtcbiAgICAgICAgICAgIHZhciBscmxuMiA9IHRleHQubGFzdEluZGV4T2YoJ1xcclxcblxcclxcbicpO1xuXG4gICAgICAgICAgICBpZiAobHJsbjIgPiBNYXRoLm1heChsbjIsIGxyMikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2xybG4yLCBscmxuMis0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbTWF0aC5tYXgobG4yLCBscjIpLCBNYXRoLm1heChsbjIsIGxyMikgKyAyXVxuICAgICAgICB9LFxuXG4gICAgICAgIHRyaW1XaGl0ZVNwYWNlOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIC8vIHRvIHJlbW92ZSB3aGl0ZXNwYWNlcyBsZWZ0IGFuZCByaWdodCBvZiBzdHJpbmdcblxuICAgICAgICAgICAgdmFyIHJlVHJpbSA9IC9eKFxcc3xcXHUwMEEwKSt8KFxcc3xcXHUwMEEwKSskL2c7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbm9ybWFsaXplVG9MRjogZnVuY3Rpb24oc3RyKSB7XG5cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgXFxyIGFuZCBcXHJcXG4gd2l0aCBcXG5cbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJyk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBpZiAoIWlzT2xkSUUoKSl7XG5cbiAgICAgICAgRXZlbnRTb3VyY2UuaXNQb2x5ZmlsbCA9IFwiWEhSXCI7XG5cbiAgICAgICAgLy8gRXZlbnRTb3VyY2Ugd2lsbCBzZW5kIHJlcXVlc3QgdXNpbmcgWE1MSHR0cFJlcXVlc3RcbiAgICAgICAgRXZlbnRTb3VyY2UucHJvdG90eXBlLlhIUiA9IGZ1bmN0aW9uKGV2cykge1xuXG4gICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgICAgIGV2cy5feGhyID0gdGhpcztcblxuICAgICAgICAgICAgLy8gc2V0IGhhbmRsZXJzXG4gICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA+IDEgJiYgZXZzLnJlYWR5U3RhdGUgIT0gZXZzLkNMT1NFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT0gMjAwIHx8IChyZXF1ZXN0LnN0YXR1cz49MzAwICYmIHJlcXVlc3Quc3RhdHVzPDQwMCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZzLm9uZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5fZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2cy5yZWFkeVN0YXRlID0gZXZzLkNMT1NFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2cy5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFwiVGhlIHNlcnZlciByZXNwb25kZWQgd2l0aCBcIityZXF1ZXN0LnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldnMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgZXZzLnVybFdpdGhQYXJhbXMoZXZzLlVSTCwgZXZzLmdldEFyZ3MpLCB0cnVlKTtcblxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBldnMueGhySGVhZGVyczsgLy8gbWF5YmUgbnVsbFxuICAgICAgICAgICAgZm9yICh2YXIgaGVhZGVyIGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKXtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZzLmxhc3RFdmVudElkKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdMYXN0LUV2ZW50LUlkJywgZXZzLmxhc3RFdmVudElkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgRXZlbnRTb3VyY2UucHJvdG90eXBlLlhIUi5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgICAgIHVzZVhEb21haW5SZXF1ZXN0OiBmYWxzZSxcblxuICAgICAgICAgICAgX3JlcXVlc3Q6IG51bGwsXG5cbiAgICAgICAgICAgIF9mYWlsZWQ6IGZhbHNlLCAvLyB0cnVlIGlmIHdlIGhhdmUgaGFkIGVycm9ycy4uLlxuXG4gICAgICAgICAgICBpc1JlYWR5OiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVhZHlTdGF0ZSA+PSAyO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaXNEb25lOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlID09IDQpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFzRXJyb3I6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mYWlsZWQgfHwgKHRoaXMuX3JlcXVlc3Quc3RhdHVzID49IDQwMCkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0QnVmZmVyOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBydiA9ICcnO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ2ID0gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHQgfHwgJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKXt9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLl9yZXF1ZXN0ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcblxuXHRFdmVudFNvdXJjZS5pc1BvbHlmaWxsID0gXCJJRV84LTlcIjtcblxuICAgICAgICAvLyBwYXRjaCBFdmVudFNvdXJjZSBkZWZhdWx0T3B0aW9uc1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSBFdmVudFNvdXJjZS5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIGRlZmF1bHRzLnhockhlYWRlcnMgPSBudWxsOyAvLyBubyBoZWFkZXJzIHdpbGwgYmUgc2VudFxuICAgICAgICBkZWZhdWx0cy5nZXRBcmdzWydldnNfcHJlYW1ibGUnXSA9IDIwNDggKyA4O1xuXG4gICAgICAgIC8vIEV2ZW50U291cmNlIHdpbGwgc2VuZCByZXF1ZXN0IHVzaW5nIEludGVybmV0IEV4cGxvcmVyIFhEb21haW5SZXF1ZXN0XG4gICAgICAgIEV2ZW50U291cmNlLnByb3RvdHlwZS5YSFIgPSBmdW5jdGlvbihldnMpIHtcblxuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgICAgICAgICAgIC8vIHNldCBoYW5kbGVyc1xuICAgICAgICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXF1ZXN0Ll9yZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXZzLm9uZGF0YSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXZzLm9uZGF0YSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV2cy5yZWFkeVN0YXRlID0gZXZzLkNMT1NFRDtcbiAgICAgICAgICAgICAgICBldnMuZGlzcGF0Y2hFdmVudCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFwiWERvbWFpblJlcXVlc3QgZXJyb3JcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXZzLnJlYWR5U3RhdGUgPSBldnMuQ0xPU0VEO1xuICAgICAgICAgICAgICAgIGV2cy5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogXCJYRG9tYWluUmVxdWVzdCB0aW1lZCBvdXRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgZG9lcyBub3QgYWxsb3cgc2V0dGluZyBjdXN0b20gaGVhZGVyc1xuICAgICAgICAgICAgLy8gSWYgRXZlbnRTb3VyY2UgaGFzIGVuYWJsZWQgdGhlIHVzZSBvZiBHRVQgYXJndW1lbnRzXG4gICAgICAgICAgICAvLyB3ZSBhZGQgcGFyYW1ldGVycyB0byBVUkwgc28gdGhhdCBzZXJ2ZXIgY2FuIGFkYXB0IHRoZSBzdHJlYW0uLi5cbiAgICAgICAgICAgIHZhciByZXFHZXRBcmdzID0ge307XG4gICAgICAgICAgICBpZiAoZXZzLmdldEFyZ3MpIHtcblxuICAgICAgICAgICAgICAgIC8vIGNvcHkgZXZzLmdldEFyZ3MgaW4gcmVxR2V0QXJnc1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0QXJncyA9IGV2cy5nZXRBcmdzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdEFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0QXJncy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFHZXRBcmdzW2tleV0gPSBkZWZhdWx0QXJnc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV2cy5sYXN0RXZlbnRJZCl7XG4gICAgICAgICAgICAgICAgICAgIHJlcUdldEFyZ3NbJ2V2c19sYXN0X2V2ZW50X2lkJ10gPSBldnMubGFzdEV2ZW50SWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VuZCB0aGUgcmVxdWVzdFxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIGV2cy51cmxXaXRoUGFyYW1zKGV2cy5VUkwscmVxR2V0QXJncykpO1xuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgRXZlbnRTb3VyY2UucHJvdG90eXBlLlhIUi5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgICAgIHVzZVhEb21haW5SZXF1ZXN0OiB0cnVlLFxuXG4gICAgICAgICAgICBfcmVxdWVzdDogbnVsbCxcblxuICAgICAgICAgICAgX3JlYWR5OiBmYWxzZSwgLy8gdHJ1ZSB3aGVuIHByb2dyZXNzIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZFxuXG4gICAgICAgICAgICBfbG9hZGVkOiBmYWxzZSwgLy8gdHJ1ZSB3aGVuIHJlcXVlc3QgaGFzIGJlZW4gbG9hZGVkXG5cbiAgICAgICAgICAgIF9mYWlsZWQ6IGZhbHNlLCAvLyB0cnVlIGlmIHdoZW4gcmVxdWVzdCBpcyBpbiBlcnJvclxuXG4gICAgICAgICAgICBpc1JlYWR5OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0Ll9yZWFkeTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlzRG9uZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdC5fbG9hZGVkO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFzRXJyb3I6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QuX2ZhaWxlZDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldEJ1ZmZlcjogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcnYgPSAnJztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydiA9IHRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0IHx8ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSl7fVxuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5fcmVxdWVzdCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTWVzc2FnZUV2ZW50KHR5cGUsIGRhdGEsIG9yaWdpbiwgbGFzdEV2ZW50SWQpIHtcblxuICAgICAgICB0aGlzLmJ1YmJsZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBvcmlnaW4gfHwgJyc7XG4gICAgICAgIHRoaXMubGFzdEV2ZW50SWQgPSBsYXN0RXZlbnRJZCB8fCAnJztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCAnbWVzc2FnZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPbGRJRSAoKSB7XG5cbiAgICAgICAgLy9yZXR1cm4gdHJ1ZSBpZiB3ZSBhcmUgaW4gSUU4IG9yIElFOVxuICAgICAgICByZXR1cm4gKHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAod2luZG93LlhNTEh0dHBSZXF1ZXN0ICYmIG5ldyBYTUxIdHRwUmVxdWVzdCgpLnJlc3BvbnNlVHlwZSA9PT0gdW5kZWZpbmVkKSkgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZ2xvYmFsW2V2c0ltcG9ydE5hbWVdID0gRXZlbnRTb3VyY2U7XG59KSh0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2V2ZW50c291cmNlLXBvbHlmaWxsL2Rpc3QvZXZlbnRzb3VyY2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 108 */
/***/ function(module, exports, __webpack_require__) {

	eval("module.exports = {\n  XmlEntities: __webpack_require__(110),\n  Html4Entities: __webpack_require__(109),\n  Html5Entities: __webpack_require__(22),\n  AllHtmlEntities: __webpack_require__(22)\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwtZW50aXRpZXMvaW5kZXguanM/ZWZlMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTA4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIFhtbEVudGl0aWVzOiByZXF1aXJlKCcuL2xpYi94bWwtZW50aXRpZXMuanMnKSxcbiAgSHRtbDRFbnRpdGllczogcmVxdWlyZSgnLi9saWIvaHRtbDQtZW50aXRpZXMuanMnKSxcbiAgSHRtbDVFbnRpdGllczogcmVxdWlyZSgnLi9saWIvaHRtbDUtZW50aXRpZXMuanMnKSxcbiAgQWxsSHRtbEVudGl0aWVzOiByZXF1aXJlKCcuL2xpYi9odG1sNS1lbnRpdGllcy5qcycpXG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vaHRtbC1lbnRpdGllcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 109 */
/***/ function(module, exports) {

	eval("var HTML_ALPHA = ['apos', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'Aelig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'acirc', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'Oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'quot', 'amp', 'lt', 'gt', 'oelig', 'oelig', 'scaron', 'scaron', 'yuml', 'circ', 'tilde', 'ensp', 'emsp', 'thinsp', 'zwnj', 'zwj', 'lrm', 'rlm', 'ndash', 'mdash', 'lsquo', 'rsquo', 'sbquo', 'ldquo', 'rdquo', 'bdquo', 'dagger', 'dagger', 'permil', 'lsaquo', 'rsaquo', 'euro', 'fnof', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigmaf', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'thetasym', 'upsih', 'piv', 'bull', 'hellip', 'prime', 'prime', 'oline', 'frasl', 'weierp', 'image', 'real', 'trade', 'alefsym', 'larr', 'uarr', 'rarr', 'darr', 'harr', 'crarr', 'larr', 'uarr', 'rarr', 'darr', 'harr', 'forall', 'part', 'exist', 'empty', 'nabla', 'isin', 'notin', 'ni', 'prod', 'sum', 'minus', 'lowast', 'radic', 'prop', 'infin', 'ang', 'and', 'or', 'cap', 'cup', 'int', 'there4', 'sim', 'cong', 'asymp', 'ne', 'equiv', 'le', 'ge', 'sub', 'sup', 'nsub', 'sube', 'supe', 'oplus', 'otimes', 'perp', 'sdot', 'lceil', 'rceil', 'lfloor', 'rfloor', 'lang', 'rang', 'loz', 'spades', 'clubs', 'hearts', 'diams'];\nvar HTML_CODES = [39, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 34, 38, 60, 62, 338, 339, 352, 353, 376, 710, 732, 8194, 8195, 8201, 8204, 8205, 8206, 8207, 8211, 8212, 8216, 8217, 8218, 8220, 8221, 8222, 8224, 8225, 8240, 8249, 8250, 8364, 402, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 977, 978, 982, 8226, 8230, 8242, 8243, 8254, 8260, 8472, 8465, 8476, 8482, 8501, 8592, 8593, 8594, 8595, 8596, 8629, 8656, 8657, 8658, 8659, 8660, 8704, 8706, 8707, 8709, 8711, 8712, 8713, 8715, 8719, 8721, 8722, 8727, 8730, 8733, 8734, 8736, 8743, 8744, 8745, 8746, 8747, 8756, 8764, 8773, 8776, 8800, 8801, 8804, 8805, 8834, 8835, 8836, 8838, 8839, 8853, 8855, 8869, 8901, 8968, 8969, 8970, 8971, 9001, 9002, 9674, 9824, 9827, 9829, 9830];\n\nvar alphaIndex = {};\nvar numIndex = {};\n\nvar i = 0;\nvar length = HTML_ALPHA.length;\nwhile (i < length) {\n    var a = HTML_ALPHA[i];\n    var c = HTML_CODES[i];\n    alphaIndex[a] = String.fromCharCode(c);\n    numIndex[c] = a;\n    i++;\n}\n\n/**\n * @constructor\n */\nfunction Html4Entities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.decode = function(str) {\n    if (str.length === 0) {\n        return '';\n    }\n    return str.replace(/&(#?[\\w\\d]+);?/g, function(s, entity) {\n        var chr;\n        if (entity.charAt(0) === \"#\") {\n            var code = entity.charAt(1).toLowerCase() === 'x' ?\n                parseInt(entity.substr(2), 16) :\n                parseInt(entity.substr(1));\n\n            if (!(isNaN(code) || code < -32768 || code > 65535)) {\n                chr = String.fromCharCode(code);\n            }\n        } else {\n            chr = alphaIndex[entity];\n        }\n        return chr || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.decode = function(str) {\n    return new Html4Entities().decode(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encode = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var alpha = numIndex[str.charCodeAt(i)];\n        result += alpha ? \"&\" + alpha + \";\" : str.charAt(i);\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encode = function(str) {\n    return new Html4Entities().encode(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encodeNonUTF = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var cc = str.charCodeAt(i);\n        var alpha = numIndex[cc];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n        } else if (cc < 32 || cc > 126) {\n            result += \"&#\" + cc + \";\";\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encodeNonUTF = function(str) {\n    return new Html4Entities().encodeNonUTF(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encodeNonASCII = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encodeNonASCII = function(str) {\n    return new Html4Entities().encodeNonASCII(str);\n};\n\nmodule.exports = Html4Entities;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwtZW50aXRpZXMvbGliL2h0bWw0LWVudGl0aWVzLmpzP2U5YzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxTQUFTO0FBQ1Qsb0NBQW9DO0FBQ3BDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSFRNTF9BTFBIQSA9IFsnYXBvcycsICduYnNwJywgJ2lleGNsJywgJ2NlbnQnLCAncG91bmQnLCAnY3VycmVuJywgJ3llbicsICdicnZiYXInLCAnc2VjdCcsICd1bWwnLCAnY29weScsICdvcmRmJywgJ2xhcXVvJywgJ25vdCcsICdzaHknLCAncmVnJywgJ21hY3InLCAnZGVnJywgJ3BsdXNtbicsICdzdXAyJywgJ3N1cDMnLCAnYWN1dGUnLCAnbWljcm8nLCAncGFyYScsICdtaWRkb3QnLCAnY2VkaWwnLCAnc3VwMScsICdvcmRtJywgJ3JhcXVvJywgJ2ZyYWMxNCcsICdmcmFjMTInLCAnZnJhYzM0JywgJ2lxdWVzdCcsICdBZ3JhdmUnLCAnQWFjdXRlJywgJ0FjaXJjJywgJ0F0aWxkZScsICdBdW1sJywgJ0FyaW5nJywgJ0FlbGlnJywgJ0NjZWRpbCcsICdFZ3JhdmUnLCAnRWFjdXRlJywgJ0VjaXJjJywgJ0V1bWwnLCAnSWdyYXZlJywgJ0lhY3V0ZScsICdJY2lyYycsICdJdW1sJywgJ0VUSCcsICdOdGlsZGUnLCAnT2dyYXZlJywgJ09hY3V0ZScsICdPY2lyYycsICdPdGlsZGUnLCAnT3VtbCcsICd0aW1lcycsICdPc2xhc2gnLCAnVWdyYXZlJywgJ1VhY3V0ZScsICdVY2lyYycsICdVdW1sJywgJ1lhY3V0ZScsICdUSE9STicsICdzemxpZycsICdhZ3JhdmUnLCAnYWFjdXRlJywgJ2FjaXJjJywgJ2F0aWxkZScsICdhdW1sJywgJ2FyaW5nJywgJ2FlbGlnJywgJ2NjZWRpbCcsICdlZ3JhdmUnLCAnZWFjdXRlJywgJ2VjaXJjJywgJ2V1bWwnLCAnaWdyYXZlJywgJ2lhY3V0ZScsICdpY2lyYycsICdpdW1sJywgJ2V0aCcsICdudGlsZGUnLCAnb2dyYXZlJywgJ29hY3V0ZScsICdvY2lyYycsICdvdGlsZGUnLCAnb3VtbCcsICdkaXZpZGUnLCAnT3NsYXNoJywgJ3VncmF2ZScsICd1YWN1dGUnLCAndWNpcmMnLCAndXVtbCcsICd5YWN1dGUnLCAndGhvcm4nLCAneXVtbCcsICdxdW90JywgJ2FtcCcsICdsdCcsICdndCcsICdvZWxpZycsICdvZWxpZycsICdzY2Fyb24nLCAnc2Nhcm9uJywgJ3l1bWwnLCAnY2lyYycsICd0aWxkZScsICdlbnNwJywgJ2Vtc3AnLCAndGhpbnNwJywgJ3p3bmonLCAnendqJywgJ2xybScsICdybG0nLCAnbmRhc2gnLCAnbWRhc2gnLCAnbHNxdW8nLCAncnNxdW8nLCAnc2JxdW8nLCAnbGRxdW8nLCAncmRxdW8nLCAnYmRxdW8nLCAnZGFnZ2VyJywgJ2RhZ2dlcicsICdwZXJtaWwnLCAnbHNhcXVvJywgJ3JzYXF1bycsICdldXJvJywgJ2Zub2YnLCAnYWxwaGEnLCAnYmV0YScsICdnYW1tYScsICdkZWx0YScsICdlcHNpbG9uJywgJ3pldGEnLCAnZXRhJywgJ3RoZXRhJywgJ2lvdGEnLCAna2FwcGEnLCAnbGFtYmRhJywgJ211JywgJ251JywgJ3hpJywgJ29taWNyb24nLCAncGknLCAncmhvJywgJ3NpZ21hJywgJ3RhdScsICd1cHNpbG9uJywgJ3BoaScsICdjaGknLCAncHNpJywgJ29tZWdhJywgJ2FscGhhJywgJ2JldGEnLCAnZ2FtbWEnLCAnZGVsdGEnLCAnZXBzaWxvbicsICd6ZXRhJywgJ2V0YScsICd0aGV0YScsICdpb3RhJywgJ2thcHBhJywgJ2xhbWJkYScsICdtdScsICdudScsICd4aScsICdvbWljcm9uJywgJ3BpJywgJ3JobycsICdzaWdtYWYnLCAnc2lnbWEnLCAndGF1JywgJ3Vwc2lsb24nLCAncGhpJywgJ2NoaScsICdwc2knLCAnb21lZ2EnLCAndGhldGFzeW0nLCAndXBzaWgnLCAncGl2JywgJ2J1bGwnLCAnaGVsbGlwJywgJ3ByaW1lJywgJ3ByaW1lJywgJ29saW5lJywgJ2ZyYXNsJywgJ3dlaWVycCcsICdpbWFnZScsICdyZWFsJywgJ3RyYWRlJywgJ2FsZWZzeW0nLCAnbGFycicsICd1YXJyJywgJ3JhcnInLCAnZGFycicsICdoYXJyJywgJ2NyYXJyJywgJ2xhcnInLCAndWFycicsICdyYXJyJywgJ2RhcnInLCAnaGFycicsICdmb3JhbGwnLCAncGFydCcsICdleGlzdCcsICdlbXB0eScsICduYWJsYScsICdpc2luJywgJ25vdGluJywgJ25pJywgJ3Byb2QnLCAnc3VtJywgJ21pbnVzJywgJ2xvd2FzdCcsICdyYWRpYycsICdwcm9wJywgJ2luZmluJywgJ2FuZycsICdhbmQnLCAnb3InLCAnY2FwJywgJ2N1cCcsICdpbnQnLCAndGhlcmU0JywgJ3NpbScsICdjb25nJywgJ2FzeW1wJywgJ25lJywgJ2VxdWl2JywgJ2xlJywgJ2dlJywgJ3N1YicsICdzdXAnLCAnbnN1YicsICdzdWJlJywgJ3N1cGUnLCAnb3BsdXMnLCAnb3RpbWVzJywgJ3BlcnAnLCAnc2RvdCcsICdsY2VpbCcsICdyY2VpbCcsICdsZmxvb3InLCAncmZsb29yJywgJ2xhbmcnLCAncmFuZycsICdsb3onLCAnc3BhZGVzJywgJ2NsdWJzJywgJ2hlYXJ0cycsICdkaWFtcyddO1xudmFyIEhUTUxfQ09ERVMgPSBbMzksIDE2MCwgMTYxLCAxNjIsIDE2MywgMTY0LCAxNjUsIDE2NiwgMTY3LCAxNjgsIDE2OSwgMTcwLCAxNzEsIDE3MiwgMTczLCAxNzQsIDE3NSwgMTc2LCAxNzcsIDE3OCwgMTc5LCAxODAsIDE4MSwgMTgyLCAxODMsIDE4NCwgMTg1LCAxODYsIDE4NywgMTg4LCAxODksIDE5MCwgMTkxLCAxOTIsIDE5MywgMTk0LCAxOTUsIDE5NiwgMTk3LCAxOTgsIDE5OSwgMjAwLCAyMDEsIDIwMiwgMjAzLCAyMDQsIDIwNSwgMjA2LCAyMDcsIDIwOCwgMjA5LCAyMTAsIDIxMSwgMjEyLCAyMTMsIDIxNCwgMjE1LCAyMTYsIDIxNywgMjE4LCAyMTksIDIyMCwgMjIxLCAyMjIsIDIyMywgMjI0LCAyMjUsIDIyNiwgMjI3LCAyMjgsIDIyOSwgMjMwLCAyMzEsIDIzMiwgMjMzLCAyMzQsIDIzNSwgMjM2LCAyMzcsIDIzOCwgMjM5LCAyNDAsIDI0MSwgMjQyLCAyNDMsIDI0NCwgMjQ1LCAyNDYsIDI0NywgMjQ4LCAyNDksIDI1MCwgMjUxLCAyNTIsIDI1MywgMjU0LCAyNTUsIDM0LCAzOCwgNjAsIDYyLCAzMzgsIDMzOSwgMzUyLCAzNTMsIDM3NiwgNzEwLCA3MzIsIDgxOTQsIDgxOTUsIDgyMDEsIDgyMDQsIDgyMDUsIDgyMDYsIDgyMDcsIDgyMTEsIDgyMTIsIDgyMTYsIDgyMTcsIDgyMTgsIDgyMjAsIDgyMjEsIDgyMjIsIDgyMjQsIDgyMjUsIDgyNDAsIDgyNDksIDgyNTAsIDgzNjQsIDQwMiwgOTEzLCA5MTQsIDkxNSwgOTE2LCA5MTcsIDkxOCwgOTE5LCA5MjAsIDkyMSwgOTIyLCA5MjMsIDkyNCwgOTI1LCA5MjYsIDkyNywgOTI4LCA5MjksIDkzMSwgOTMyLCA5MzMsIDkzNCwgOTM1LCA5MzYsIDkzNywgOTQ1LCA5NDYsIDk0NywgOTQ4LCA5NDksIDk1MCwgOTUxLCA5NTIsIDk1MywgOTU0LCA5NTUsIDk1NiwgOTU3LCA5NTgsIDk1OSwgOTYwLCA5NjEsIDk2MiwgOTYzLCA5NjQsIDk2NSwgOTY2LCA5NjcsIDk2OCwgOTY5LCA5NzcsIDk3OCwgOTgyLCA4MjI2LCA4MjMwLCA4MjQyLCA4MjQzLCA4MjU0LCA4MjYwLCA4NDcyLCA4NDY1LCA4NDc2LCA4NDgyLCA4NTAxLCA4NTkyLCA4NTkzLCA4NTk0LCA4NTk1LCA4NTk2LCA4NjI5LCA4NjU2LCA4NjU3LCA4NjU4LCA4NjU5LCA4NjYwLCA4NzA0LCA4NzA2LCA4NzA3LCA4NzA5LCA4NzExLCA4NzEyLCA4NzEzLCA4NzE1LCA4NzE5LCA4NzIxLCA4NzIyLCA4NzI3LCA4NzMwLCA4NzMzLCA4NzM0LCA4NzM2LCA4NzQzLCA4NzQ0LCA4NzQ1LCA4NzQ2LCA4NzQ3LCA4NzU2LCA4NzY0LCA4NzczLCA4Nzc2LCA4ODAwLCA4ODAxLCA4ODA0LCA4ODA1LCA4ODM0LCA4ODM1LCA4ODM2LCA4ODM4LCA4ODM5LCA4ODUzLCA4ODU1LCA4ODY5LCA4OTAxLCA4OTY4LCA4OTY5LCA4OTcwLCA4OTcxLCA5MDAxLCA5MDAyLCA5Njc0LCA5ODI0LCA5ODI3LCA5ODI5LCA5ODMwXTtcblxudmFyIGFscGhhSW5kZXggPSB7fTtcbnZhciBudW1JbmRleCA9IHt9O1xuXG52YXIgaSA9IDA7XG52YXIgbGVuZ3RoID0gSFRNTF9BTFBIQS5sZW5ndGg7XG53aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgIHZhciBhID0gSFRNTF9BTFBIQVtpXTtcbiAgICB2YXIgYyA9IEhUTUxfQ09ERVNbaV07XG4gICAgYWxwaGFJbmRleFthXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgbnVtSW5kZXhbY10gPSBhO1xuICAgIGkrKztcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSHRtbDRFbnRpdGllcygpIHt9XG5cbi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuSHRtbDRFbnRpdGllcy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYoIz9bXFx3XFxkXSspOz8vZywgZnVuY3Rpb24ocywgZW50aXR5KSB7XG4gICAgICAgIHZhciBjaHI7XG4gICAgICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBlbnRpdHkuY2hhckF0KDEpLnRvTG93ZXJDYXNlKCkgPT09ICd4JyA/XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZW50aXR5LnN1YnN0cigyKSwgMTYpIDpcbiAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDEpKTtcblxuICAgICAgICAgICAgaWYgKCEoaXNOYU4oY29kZSkgfHwgY29kZSA8IC0zMjc2OCB8fCBjb2RlID4gNjU1MzUpKSB7XG4gICAgICAgICAgICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNociA9IGFscGhhSW5kZXhbZW50aXR5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hyIHx8IHM7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw0RW50aXRpZXMuZGVjb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBIdG1sNEVudGl0aWVzKCkuZGVjb2RlKHN0cik7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw0RW50aXRpZXMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIGlmIChzdHJMZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IG51bUluZGV4W3N0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgcmVzdWx0ICs9IGFscGhhID8gXCImXCIgKyBhbHBoYSArIFwiO1wiIDogc3RyLmNoYXJBdChpKTtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5IdG1sNEVudGl0aWVzLmVuY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmVuY29kZShzdHIpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5IdG1sNEVudGl0aWVzLnByb3RvdHlwZS5lbmNvZGVOb25VVEYgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICBpZiAoc3RyTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHN0ckxlbmd0aCkge1xuICAgICAgICB2YXIgY2MgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgdmFyIGFscGhhID0gbnVtSW5kZXhbY2NdO1xuICAgICAgICBpZiAoYWxwaGEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoY2MgPCAzMiB8fCBjYyA+IDEyNikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFwiJiNcIiArIGNjICsgXCI7XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw0RW50aXRpZXMuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBIdG1sNEVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbkh0bWw0RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vbkFTQ0lJID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKHN0ckxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPD0gMjU1KSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyW2krK107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gJyYjJyArIGMgKyAnOyc7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuSHRtbDRFbnRpdGllcy5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmVuY29kZU5vbkFTQ0lJKHN0cik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEh0bWw0RW50aXRpZXM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9odG1sLWVudGl0aWVzL2xpYi9odG1sNC1lbnRpdGllcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 110 */
/***/ function(module, exports) {

	eval("var ALPHA_INDEX = {\n    '&lt': '<',\n    '&gt': '>',\n    '&quot': '\"',\n    '&apos': '\\'',\n    '&amp': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&apos;': '\\'',\n    '&amp;': '&'\n};\n\nvar CHAR_INDEX = {\n    60: 'lt',\n    62: 'gt',\n    34: 'quot',\n    39: 'apos',\n    38: 'amp'\n};\n\nvar CHAR_S_INDEX = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&apos;',\n    '&': '&amp;'\n};\n\n/**\n * @constructor\n */\nfunction XmlEntities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encode = function(str) {\n    if (str.length === 0) {\n        return '';\n    }\n    return str.replace(/<|>|\"|'|&/g, function(s) {\n        return CHAR_S_INDEX[s];\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encode = function(str) {\n    return new XmlEntities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.decode = function(str) {\n    if (str.length === 0) {\n        return '';\n    }\n    return str.replace(/&#?[0-9a-zA-Z]+;?/g, function(s) {\n        if (s.charAt(1) === '#') {\n            var code = s.charAt(2).toLowerCase() === 'x' ?\n                parseInt(s.substr(3), 16) :\n                parseInt(s.substr(2));\n\n            if (isNaN(code) || code < -32768 || code > 65535) {\n                return '';\n            }\n            return String.fromCharCode(code);\n        }\n        return ALPHA_INDEX[s] || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.decode = function(str) {\n    return new XmlEntities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonUTF = function(str) {\n    var strLength = str.length;\n    if (strLength === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var alpha = CHAR_INDEX[c];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n            i++;\n            continue;\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonUTF = function(str) {\n    return new XmlEntities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonASCII = function(str) {\n    var strLenght = str.length;\n    if (strLenght === 0) {\n        return '';\n    }\n    var result = '';\n    var i = 0;\n    while (i < strLenght) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonASCII = function(str) {\n    return new XmlEntities().encodeNonASCII(str);\n };\n\nmodule.exports = XmlEntities;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2h0bWwtZW50aXRpZXMvbGliL3htbC1lbnRpdGllcy5qcz9kN2YxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxTQUFTO0FBQ1QsV0FBVztBQUNYLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2QsY0FBYztBQUNkLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQUxQSEFfSU5ERVggPSB7XG4gICAgJyZsdCc6ICc8JyxcbiAgICAnJmd0JzogJz4nLFxuICAgICcmcXVvdCc6ICdcIicsXG4gICAgJyZhcG9zJzogJ1xcJycsXG4gICAgJyZhbXAnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyZhcG9zOyc6ICdcXCcnLFxuICAgICcmYW1wOyc6ICcmJ1xufTtcblxudmFyIENIQVJfSU5ERVggPSB7XG4gICAgNjA6ICdsdCcsXG4gICAgNjI6ICdndCcsXG4gICAgMzQ6ICdxdW90JyxcbiAgICAzOTogJ2Fwb3MnLFxuICAgIDM4OiAnYW1wJ1xufTtcblxudmFyIENIQVJfU19JTkRFWCA9IHtcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnXFwnJzogJyZhcG9zOycsXG4gICAgJyYnOiAnJmFtcDsnXG59O1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBYbWxFbnRpdGllcygpIHt9XG5cbi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuWG1sRW50aXRpZXMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC88fD58XCJ8J3wmL2csIGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIENIQVJfU19JTkRFWFtzXTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuIFhtbEVudGl0aWVzLmVuY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBuZXcgWG1sRW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiB9O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cblhtbEVudGl0aWVzLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiM/WzAtOWEtekEtWl0rOz8vZywgZnVuY3Rpb24ocykge1xuICAgICAgICBpZiAocy5jaGFyQXQoMSkgPT09ICcjJykge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBzLmNoYXJBdCgyKS50b0xvd2VyQ2FzZSgpID09PSAneCcgP1xuICAgICAgICAgICAgICAgIHBhcnNlSW50KHMuc3Vic3RyKDMpLCAxNikgOlxuICAgICAgICAgICAgICAgIHBhcnNlSW50KHMuc3Vic3RyKDIpKTtcblxuICAgICAgICAgICAgaWYgKGlzTmFOKGNvZGUpIHx8IGNvZGUgPCAtMzI3NjggfHwgY29kZSA+IDY1NTM1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFMUEhBX0lOREVYW3NdIHx8IHM7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbiBYbWxFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZGVjb2RlKHN0cik7XG4gfTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5YbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKHN0ckxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgdmFyIGFscGhhID0gQ0hBUl9JTkRFWFtjXTtcbiAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCImXCIgKyBhbHBoYSArIFwiO1wiO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPCAzMiB8fCBjID4gMTI2KSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gJyYjJyArIGMgKyAnOyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbiBYbWxFbnRpdGllcy5lbmNvZGVOb25VVEYgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG4gfTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5YbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB2YXIgc3RyTGVuZ2h0ID0gc3RyLmxlbmd0aDtcbiAgICBpZiAoc3RyTGVuZ2h0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHN0ckxlbmdodCkge1xuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8PSAyNTUpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJbaSsrXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4gWG1sRW50aXRpZXMuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlTm9uQVNDSUkoc3RyKTtcbiB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhtbEVudGl0aWVzO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vaHRtbC1lbnRpdGllcy9saWIveG1sLWVudGl0aWVzLmpzXG4gKiogbW9kdWxlIGlkID0gMTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 111 */
/***/ function(module, exports) {

	eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3F1ZXJ5c3RyaW5nL2RlY29kZS5qcz9jMjUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjExMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3F1ZXJ5c3RyaW5nL2RlY29kZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 112 */
/***/ function(module, exports) {

	eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3F1ZXJ5c3RyaW5nL2VuY29kZS5qcz9lODZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjExMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gb2JqW2tdLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9xdWVyeXN0cmluZy9lbmNvZGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 113 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nexports.decode = exports.parse = __webpack_require__(111);\nexports.encode = exports.stringify = __webpack_require__(112);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3F1ZXJ5c3RyaW5nL2luZGV4LmpzP2ZjZTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQSIsImZpbGUiOiIxMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3F1ZXJ5c3RyaW5nL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 114 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\nvar ansiRegex = __webpack_require__(24)();\n\nmodule.exports = function (str) {\n\treturn typeof str === 'string' ? str.replace(ansiRegex, '') : str;\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0cmlwLWFuc2kvaW5kZXguanM/NGU1MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgYW5zaVJlZ2V4ID0gcmVxdWlyZSgnYW5zaS1yZWdleCcpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuXHRyZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIucmVwbGFjZShhbnNpUmVnZXgsICcnKSA6IHN0cjtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHJpcC1hbnNpL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 115 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*eslint-env browser*/\n\nvar clientOverlay = document.createElement('div');\nvar styles = {\n  background: 'rgba(0,0,0,0.85)',\n  color: '#E8E8E8',\n  lineHeight: '1.2',\n  whiteSpace: 'pre',\n  fontFamily: 'Menlo, Consolas, monospace',\n  fontSize: '13px',\n  position: 'fixed',\n  zIndex: 9999,\n  padding: '10px',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  overflow: 'auto'\n};\nfor (var key in styles) {\n  clientOverlay.style[key] = styles[key];\n}\n\nvar ansiHTML = __webpack_require__(23);\nvar colors = {\n  reset: ['transparent', 'transparent'],\n  black: '181818',\n  red: 'E36049',\n  green: 'B3CB74',\n  yellow: 'FFD080',\n  blue: '7CAFC2',\n  magenta: '7FACCA',\n  cyan: 'C3C2EF',\n  lightgrey: 'EBE7E3',\n  darkgrey: '6D7891'\n};\nansiHTML.setColors(colors);\n\nvar Entities = __webpack_require__(108).AllHtmlEntities;\nvar entities = new Entities();\n\nexports.showProblems =\nfunction showProblems(type, lines) {\n  clientOverlay.innerHTML = '';\n  lines.forEach(function(msg) {\n    msg = ansiHTML(entities.encode(msg));\n    var div = document.createElement('div');\n    div.style.marginBottom = '26px';\n    div.innerHTML = problemType(type) + ' in ' + msg;\n    clientOverlay.appendChild(div);\n  });\n  if (document.body) {\n    document.body.appendChild(clientOverlay);\n  }\n};\n\nexports.clear =\nfunction clear() {\n  if (document.body && clientOverlay.parentNode) {\n    document.body.removeChild(clientOverlay);\n  }\n};\n\nvar problemColors = {\n  errors: colors.red,\n  warnings: colors.yellow\n};\n\nfunction problemType (type) {\n  var color = problemColors[type] || colors.red;\n  return (\n    '<span style=\"background-color:#' + color + '; color:#fff; padding:2px 4px; border-radius: 2px\">' +\n      type.slice(0, -1).toUpperCase() +\n    '</span>'\n  );\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spLWhvdC1taWRkbGV3YXJlL2NsaWVudC1vdmVybGF5LmpzPzdlOGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsWUFBWSxpQkFBaUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyplc2xpbnQtZW52IGJyb3dzZXIqL1xuXG52YXIgY2xpZW50T3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xudmFyIHN0eWxlcyA9IHtcbiAgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsMC44NSknLFxuICBjb2xvcjogJyNFOEU4RTgnLFxuICBsaW5lSGVpZ2h0OiAnMS4yJyxcbiAgd2hpdGVTcGFjZTogJ3ByZScsXG4gIGZvbnRGYW1pbHk6ICdNZW5sbywgQ29uc29sYXMsIG1vbm9zcGFjZScsXG4gIGZvbnRTaXplOiAnMTNweCcsXG4gIHBvc2l0aW9uOiAnZml4ZWQnLFxuICB6SW5kZXg6IDk5OTksXG4gIHBhZGRpbmc6ICcxMHB4JyxcbiAgbGVmdDogMCxcbiAgcmlnaHQ6IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICBvdmVyZmxvdzogJ2F1dG8nXG59O1xuZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICBjbGllbnRPdmVybGF5LnN0eWxlW2tleV0gPSBzdHlsZXNba2V5XTtcbn1cblxudmFyIGFuc2lIVE1MID0gcmVxdWlyZSgnYW5zaS1odG1sJyk7XG52YXIgY29sb3JzID0ge1xuICByZXNldDogWyd0cmFuc3BhcmVudCcsICd0cmFuc3BhcmVudCddLFxuICBibGFjazogJzE4MTgxOCcsXG4gIHJlZDogJ0UzNjA0OScsXG4gIGdyZWVuOiAnQjNDQjc0JyxcbiAgeWVsbG93OiAnRkZEMDgwJyxcbiAgYmx1ZTogJzdDQUZDMicsXG4gIG1hZ2VudGE6ICc3RkFDQ0EnLFxuICBjeWFuOiAnQzNDMkVGJyxcbiAgbGlnaHRncmV5OiAnRUJFN0UzJyxcbiAgZGFya2dyZXk6ICc2RDc4OTEnXG59O1xuYW5zaUhUTUwuc2V0Q29sb3JzKGNvbG9ycyk7XG5cbnZhciBFbnRpdGllcyA9IHJlcXVpcmUoJ2h0bWwtZW50aXRpZXMnKS5BbGxIdG1sRW50aXRpZXM7XG52YXIgZW50aXRpZXMgPSBuZXcgRW50aXRpZXMoKTtcblxuZXhwb3J0cy5zaG93UHJvYmxlbXMgPVxuZnVuY3Rpb24gc2hvd1Byb2JsZW1zKHR5cGUsIGxpbmVzKSB7XG4gIGNsaWVudE92ZXJsYXkuaW5uZXJIVE1MID0gJyc7XG4gIGxpbmVzLmZvckVhY2goZnVuY3Rpb24obXNnKSB7XG4gICAgbXNnID0gYW5zaUhUTUwoZW50aXRpZXMuZW5jb2RlKG1zZykpO1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzI2cHgnO1xuICAgIGRpdi5pbm5lckhUTUwgPSBwcm9ibGVtVHlwZSh0eXBlKSArICcgaW4gJyArIG1zZztcbiAgICBjbGllbnRPdmVybGF5LmFwcGVuZENoaWxkKGRpdik7XG4gIH0pO1xuICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2xpZW50T3ZlcmxheSk7XG4gIH1cbn07XG5cbmV4cG9ydHMuY2xlYXIgPVxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gIGlmIChkb2N1bWVudC5ib2R5ICYmIGNsaWVudE92ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY2xpZW50T3ZlcmxheSk7XG4gIH1cbn07XG5cbnZhciBwcm9ibGVtQ29sb3JzID0ge1xuICBlcnJvcnM6IGNvbG9ycy5yZWQsXG4gIHdhcm5pbmdzOiBjb2xvcnMueWVsbG93XG59O1xuXG5mdW5jdGlvbiBwcm9ibGVtVHlwZSAodHlwZSkge1xuICB2YXIgY29sb3IgPSBwcm9ibGVtQ29sb3JzW3R5cGVdIHx8IGNvbG9ycy5yZWQ7XG4gIHJldHVybiAoXG4gICAgJzxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojJyArIGNvbG9yICsgJzsgY29sb3I6I2ZmZjsgcGFkZGluZzoycHggNHB4OyBib3JkZXItcmFkaXVzOiAycHhcIj4nICtcbiAgICAgIHR5cGUuc2xpY2UoMCwgLTEpLnRvVXBwZXJDYXNlKCkgK1xuICAgICc8L3NwYW4+J1xuICApO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjayktaG90LW1pZGRsZXdhcmUvY2xpZW50LW92ZXJsYXkuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 116 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__resourceQuery, module) {/*eslint-env browser*/\n/*global __resourceQuery*/\n\nvar options = {\n  path: \"/__webpack_hmr\",\n  timeout: 20 * 1000,\n  overlay: true,\n  reload: false,\n  log: true,\n  warn: true\n};\nif (true) {\n  var querystring = __webpack_require__(113);\n  var overrides = querystring.parse(__resourceQuery.slice(1));\n  if (overrides.path) options.path = overrides.path;\n  if (overrides.timeout) options.timeout = overrides.timeout;\n  if (overrides.overlay) options.overlay = overrides.overlay !== 'false';\n  if (overrides.reload) options.reload = overrides.reload !== 'false';\n  if (overrides.noInfo && overrides.noInfo !== 'false') {\n    options.log = false;\n  }\n  if (overrides.quiet && overrides.quiet !== 'false') {\n    options.log = false;\n    options.warn = false;\n  }\n}\n\nif (typeof window === 'undefined') {\n  // do nothing\n} else if (typeof window.EventSource === 'undefined') {\n  console.warn(\n    \"webpack-hot-middleware's client requires EventSource to work. \" +\n    \"You should include a polyfill if you want to support this browser: \" +\n    \"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events#Tools\"\n  );\n} else {\n  connect(window.EventSource);\n}\n\nfunction connect(EventSource) {\n  var source = new EventSource(options.path);\n  var lastActivity = new Date();\n\n  source.onopen = handleOnline;\n  source.onmessage = handleMessage;\n  source.onerror = handleDisconnect;\n\n  var timer = setInterval(function() {\n    if ((new Date() - lastActivity) > options.timeout) {\n      handleDisconnect();\n    }\n  }, options.timeout / 2);\n\n  function handleOnline() {\n    if (options.log) console.log(\"[HMR] connected\");\n    lastActivity = new Date();\n  }\n\n  function handleMessage(event) {\n    lastActivity = new Date();\n    if (event.data == \"\\uD83D\\uDC93\") {\n      return;\n    }\n    try {\n      processMessage(JSON.parse(event.data));\n    } catch (ex) {\n      if (options.warn) {\n        console.warn(\"Invalid HMR message: \" + event.data + \"\\n\" + ex);\n      }\n    }\n  }\n\n  function handleDisconnect() {\n    clearInterval(timer);\n    source.close();\n    setTimeout(function() { connect(EventSource); }, options.timeout);\n  }\n\n}\n\nvar reporter;\n// the reporter needs to be a singleton on the page\n// in case the client is being used by mutliple bundles\n// we only want to report once.\n// all the errors will go to all clients\nvar singletonKey = '__webpack_hot_middleware_reporter__';\nif (typeof window !== 'undefined' && !window[singletonKey]) {\n  reporter = window[singletonKey] = createReporter();\n}\n\nfunction createReporter() {\n  var strip = __webpack_require__(114);\n\n  var overlay;\n  if (typeof document !== 'undefined' && options.overlay) {\n    overlay = __webpack_require__(115);\n  }\n\n  return {\n    problems: function(type, obj) {\n      if (options.warn) {\n        console.warn(\"[HMR] bundle has \" + type + \":\");\n        obj[type].forEach(function(msg) {\n          console.warn(\"[HMR] \" + strip(msg));\n        });\n      }\n      if (overlay && type !== 'warnings') overlay.showProblems(type, obj[type]);\n    },\n    success: function() {\n      if (overlay) overlay.clear();\n    },\n    useCustomOverlay: function(customOverlay) {\n      overlay = customOverlay;\n    }\n  };\n}\n\nvar processUpdate = __webpack_require__(117);\n\nvar customHandler;\nfunction processMessage(obj) {\n  if (obj.action == \"building\") {\n    if (options.log) console.log(\"[HMR] bundle rebuilding\");\n  } else if (obj.action == \"built\") {\n    if (options.log) {\n      console.log(\n        \"[HMR] bundle \" + (obj.name ? obj.name + \" \" : \"\") +\n        \"rebuilt in \" + obj.time + \"ms\"\n      );\n    }\n    if (obj.errors.length > 0) {\n      if (reporter) reporter.problems('errors', obj);\n    } else {\n      if (reporter) {\n        if (obj.warnings.length > 0) reporter.problems('warnings', obj);\n        reporter.success();\n      }\n\n      processUpdate(obj.hash, obj.modules, options);\n    }\n  } else if (customHandler) {\n    customHandler(obj);\n  }\n}\n\nif (module) {\n  module.exports = {\n    subscribe: function subscribe(handler) {\n      customHandler = handler;\n    },\n    useCustomOverlay: function useCustomOverlay(customOverlay) {\n      if (reporter) reporter.useCustomOverlay(customOverlay);\n    }\n  };\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, \"?noInfo=true&reload=true\", __webpack_require__(118)(module)))\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spLWhvdC1taWRkbGV3YXJlL2NsaWVudC5qcz83OTU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0IsRUFBRTtBQUNuRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjExNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50LWVudiBicm93c2VyKi9cbi8qZ2xvYmFsIF9fcmVzb3VyY2VRdWVyeSovXG5cbnZhciBvcHRpb25zID0ge1xuICBwYXRoOiBcIi9fX3dlYnBhY2tfaG1yXCIsXG4gIHRpbWVvdXQ6IDIwICogMTAwMCxcbiAgb3ZlcmxheTogdHJ1ZSxcbiAgcmVsb2FkOiBmYWxzZSxcbiAgbG9nOiB0cnVlLFxuICB3YXJuOiB0cnVlXG59O1xuaWYgKF9fcmVzb3VyY2VRdWVyeSkge1xuICB2YXIgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuICB2YXIgb3ZlcnJpZGVzID0gcXVlcnlzdHJpbmcucGFyc2UoX19yZXNvdXJjZVF1ZXJ5LnNsaWNlKDEpKTtcbiAgaWYgKG92ZXJyaWRlcy5wYXRoKSBvcHRpb25zLnBhdGggPSBvdmVycmlkZXMucGF0aDtcbiAgaWYgKG92ZXJyaWRlcy50aW1lb3V0KSBvcHRpb25zLnRpbWVvdXQgPSBvdmVycmlkZXMudGltZW91dDtcbiAgaWYgKG92ZXJyaWRlcy5vdmVybGF5KSBvcHRpb25zLm92ZXJsYXkgPSBvdmVycmlkZXMub3ZlcmxheSAhPT0gJ2ZhbHNlJztcbiAgaWYgKG92ZXJyaWRlcy5yZWxvYWQpIG9wdGlvbnMucmVsb2FkID0gb3ZlcnJpZGVzLnJlbG9hZCAhPT0gJ2ZhbHNlJztcbiAgaWYgKG92ZXJyaWRlcy5ub0luZm8gJiYgb3ZlcnJpZGVzLm5vSW5mbyAhPT0gJ2ZhbHNlJykge1xuICAgIG9wdGlvbnMubG9nID0gZmFsc2U7XG4gIH1cbiAgaWYgKG92ZXJyaWRlcy5xdWlldCAmJiBvdmVycmlkZXMucXVpZXQgIT09ICdmYWxzZScpIHtcbiAgICBvcHRpb25zLmxvZyA9IGZhbHNlO1xuICAgIG9wdGlvbnMud2FybiA9IGZhbHNlO1xuICB9XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAvLyBkbyBub3RoaW5nXG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuRXZlbnRTb3VyY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnNvbGUud2FybihcbiAgICBcIndlYnBhY2staG90LW1pZGRsZXdhcmUncyBjbGllbnQgcmVxdWlyZXMgRXZlbnRTb3VyY2UgdG8gd29yay4gXCIgK1xuICAgIFwiWW91IHNob3VsZCBpbmNsdWRlIGEgcG9seWZpbGwgaWYgeW91IHdhbnQgdG8gc3VwcG9ydCB0aGlzIGJyb3dzZXI6IFwiICtcbiAgICBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMjVG9vbHNcIlxuICApO1xufSBlbHNlIHtcbiAgY29ubmVjdCh3aW5kb3cuRXZlbnRTb3VyY2UpO1xufVxuXG5mdW5jdGlvbiBjb25uZWN0KEV2ZW50U291cmNlKSB7XG4gIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2Uob3B0aW9ucy5wYXRoKTtcbiAgdmFyIGxhc3RBY3Rpdml0eSA9IG5ldyBEYXRlKCk7XG5cbiAgc291cmNlLm9ub3BlbiA9IGhhbmRsZU9ubGluZTtcbiAgc291cmNlLm9ubWVzc2FnZSA9IGhhbmRsZU1lc3NhZ2U7XG4gIHNvdXJjZS5vbmVycm9yID0gaGFuZGxlRGlzY29ubmVjdDtcblxuICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICBpZiAoKG5ldyBEYXRlKCkgLSBsYXN0QWN0aXZpdHkpID4gb3B0aW9ucy50aW1lb3V0KSB7XG4gICAgICBoYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9LCBvcHRpb25zLnRpbWVvdXQgLyAyKTtcblxuICBmdW5jdGlvbiBoYW5kbGVPbmxpbmUoKSB7XG4gICAgaWYgKG9wdGlvbnMubG9nKSBjb25zb2xlLmxvZyhcIltITVJdIGNvbm5lY3RlZFwiKTtcbiAgICBsYXN0QWN0aXZpdHkgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShldmVudCkge1xuICAgIGxhc3RBY3Rpdml0eSA9IG5ldyBEYXRlKCk7XG4gICAgaWYgKGV2ZW50LmRhdGEgPT0gXCJcXHVEODNEXFx1REM5M1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBwcm9jZXNzTWVzc2FnZShKU09OLnBhcnNlKGV2ZW50LmRhdGEpKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKG9wdGlvbnMud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIEhNUiBtZXNzYWdlOiBcIiArIGV2ZW50LmRhdGEgKyBcIlxcblwiICsgZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURpc2Nvbm5lY3QoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgc291cmNlLmNsb3NlKCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY29ubmVjdChFdmVudFNvdXJjZSk7IH0sIG9wdGlvbnMudGltZW91dCk7XG4gIH1cblxufVxuXG52YXIgcmVwb3J0ZXI7XG4vLyB0aGUgcmVwb3J0ZXIgbmVlZHMgdG8gYmUgYSBzaW5nbGV0b24gb24gdGhlIHBhZ2Vcbi8vIGluIGNhc2UgdGhlIGNsaWVudCBpcyBiZWluZyB1c2VkIGJ5IG11dGxpcGxlIGJ1bmRsZXNcbi8vIHdlIG9ubHkgd2FudCB0byByZXBvcnQgb25jZS5cbi8vIGFsbCB0aGUgZXJyb3JzIHdpbGwgZ28gdG8gYWxsIGNsaWVudHNcbnZhciBzaW5nbGV0b25LZXkgPSAnX193ZWJwYWNrX2hvdF9taWRkbGV3YXJlX3JlcG9ydGVyX18nO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICF3aW5kb3dbc2luZ2xldG9uS2V5XSkge1xuICByZXBvcnRlciA9IHdpbmRvd1tzaW5nbGV0b25LZXldID0gY3JlYXRlUmVwb3J0ZXIoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVwb3J0ZXIoKSB7XG4gIHZhciBzdHJpcCA9IHJlcXVpcmUoJ3N0cmlwLWFuc2knKTtcblxuICB2YXIgb3ZlcmxheTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0aW9ucy5vdmVybGF5KSB7XG4gICAgb3ZlcmxheSA9IHJlcXVpcmUoJy4vY2xpZW50LW92ZXJsYXknKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvYmxlbXM6IGZ1bmN0aW9uKHR5cGUsIG9iaikge1xuICAgICAgaWYgKG9wdGlvbnMud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJbSE1SXSBidW5kbGUgaGFzIFwiICsgdHlwZSArIFwiOlwiKTtcbiAgICAgICAgb2JqW3R5cGVdLmZvckVhY2goZnVuY3Rpb24obXNnKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW0hNUl0gXCIgKyBzdHJpcChtc2cpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAob3ZlcmxheSAmJiB0eXBlICE9PSAnd2FybmluZ3MnKSBvdmVybGF5LnNob3dQcm9ibGVtcyh0eXBlLCBvYmpbdHlwZV0pO1xuICAgIH0sXG4gICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAob3ZlcmxheSkgb3ZlcmxheS5jbGVhcigpO1xuICAgIH0sXG4gICAgdXNlQ3VzdG9tT3ZlcmxheTogZnVuY3Rpb24oY3VzdG9tT3ZlcmxheSkge1xuICAgICAgb3ZlcmxheSA9IGN1c3RvbU92ZXJsYXk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcHJvY2Vzc1VwZGF0ZSA9IHJlcXVpcmUoJy4vcHJvY2Vzcy11cGRhdGUnKTtcblxudmFyIGN1c3RvbUhhbmRsZXI7XG5mdW5jdGlvbiBwcm9jZXNzTWVzc2FnZShvYmopIHtcbiAgaWYgKG9iai5hY3Rpb24gPT0gXCJidWlsZGluZ1wiKSB7XG4gICAgaWYgKG9wdGlvbnMubG9nKSBjb25zb2xlLmxvZyhcIltITVJdIGJ1bmRsZSByZWJ1aWxkaW5nXCIpO1xuICB9IGVsc2UgaWYgKG9iai5hY3Rpb24gPT0gXCJidWlsdFwiKSB7XG4gICAgaWYgKG9wdGlvbnMubG9nKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJbSE1SXSBidW5kbGUgXCIgKyAob2JqLm5hbWUgPyBvYmoubmFtZSArIFwiIFwiIDogXCJcIikgK1xuICAgICAgICBcInJlYnVpbHQgaW4gXCIgKyBvYmoudGltZSArIFwibXNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9iai5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHJlcG9ydGVyKSByZXBvcnRlci5wcm9ibGVtcygnZXJyb3JzJywgb2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlcG9ydGVyKSB7XG4gICAgICAgIGlmIChvYmoud2FybmluZ3MubGVuZ3RoID4gMCkgcmVwb3J0ZXIucHJvYmxlbXMoJ3dhcm5pbmdzJywgb2JqKTtcbiAgICAgICAgcmVwb3J0ZXIuc3VjY2VzcygpO1xuICAgICAgfVxuXG4gICAgICBwcm9jZXNzVXBkYXRlKG9iai5oYXNoLCBvYmoubW9kdWxlcywgb3B0aW9ucyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGN1c3RvbUhhbmRsZXIpIHtcbiAgICBjdXN0b21IYW5kbGVyKG9iaik7XG4gIH1cbn1cblxuaWYgKG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShoYW5kbGVyKSB7XG4gICAgICBjdXN0b21IYW5kbGVyID0gaGFuZGxlcjtcbiAgICB9LFxuICAgIHVzZUN1c3RvbU92ZXJsYXk6IGZ1bmN0aW9uIHVzZUN1c3RvbU92ZXJsYXkoY3VzdG9tT3ZlcmxheSkge1xuICAgICAgaWYgKHJlcG9ydGVyKSByZXBvcnRlci51c2VDdXN0b21PdmVybGF5KGN1c3RvbU92ZXJsYXkpO1xuICAgIH1cbiAgfTtcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spLWhvdC1taWRkbGV3YXJlL2NsaWVudC5qcz9ub0luZm89dHJ1ZSZyZWxvYWQ9dHJ1ZVxuICoqIG1vZHVsZSBpZCA9IDExNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 117 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Based heavily on https://github.com/webpack/webpack/blob/\n *  c0afdf9c6abc1dd70707c594e473802a566f7b6e/hot/only-dev-server.js\n * Original copyright Tobias Koppers @sokra (MIT license)\n */\n\n/* global window __webpack_hash__ */\n\nif (false) {\n  throw new Error(\"[HMR] Hot Module Replacement is disabled.\");\n}\n\nvar hmrDocsUrl = \"http://webpack.github.io/docs/hot-module-replacement-with-webpack.html\"; // eslint-disable-line max-len\n\nvar lastHash;\nvar failureStatuses = { abort: 1, fail: 1 };\nvar applyOptions = { ignoreUnaccepted: true };\n\nfunction upToDate(hash) {\n  if (hash) lastHash = hash;\n  return lastHash == __webpack_require__.h();\n}\n\nmodule.exports = function(hash, moduleMap, options) {\n  var reload = options.reload;\n  if (!upToDate(hash) && module.hot.status() == \"idle\") {\n    if (options.log) console.log(\"[HMR] Checking for updates on the server...\");\n    check();\n  }\n\n  function check() {\n    var cb = function(err, updatedModules) {\n      if (err) return handleError(err);\n\n      if(!updatedModules) {\n        if (options.warn) {\n          console.warn(\"[HMR] Cannot find update (Full reload needed)\");\n          console.warn(\"[HMR] (Probably because of restarting the server)\");\n        }\n        performReload();\n        return null;\n      }\n\n      var applyCallback = function(applyErr, renewedModules) {\n        if (applyErr) return handleError(applyErr);\n\n        if (!upToDate()) check();\n\n        logUpdates(updatedModules, renewedModules);\n      };\n\n      var applyResult = module.hot.apply(applyOptions, applyCallback);\n      // webpack 2 promise\n      if (applyResult && applyResult.then) {\n        // HotModuleReplacement.runtime.js refers to the result as `outdatedModules`\n        applyResult.then(function(outdatedModules) {\n          applyCallback(null, outdatedModules);\n        });\n        applyResult.catch(applyCallback);\n      }\n\n    };\n\n    var result = module.hot.check(false, cb);\n    // webpack 2 promise\n    if (result && result.then) {\n        result.then(function(updatedModules) {\n            cb(null, updatedModules);\n        });\n        result.catch(cb);\n    }\n  }\n\n  function logUpdates(updatedModules, renewedModules) {\n    var unacceptedModules = updatedModules.filter(function(moduleId) {\n      return renewedModules && renewedModules.indexOf(moduleId) < 0;\n    });\n\n    if(unacceptedModules.length > 0) {\n      if (options.warn) {\n        console.warn(\n          \"[HMR] The following modules couldn't be hot updated: \" +\n          \"(Full reload needed)\\n\" +\n          \"This is usually because the modules which have changed \" +\n          \"(and their parents) do not know how to hot reload themselves. \" +\n          \"See \" + hmrDocsUrl + \" for more details.\"\n        );\n        unacceptedModules.forEach(function(moduleId) {\n          console.warn(\"[HMR]  - \" + moduleMap[moduleId]);\n        });\n      }\n      performReload();\n      return;\n    }\n\n    if (options.log) {\n      if(!renewedModules || renewedModules.length === 0) {\n        console.log(\"[HMR] Nothing hot updated.\");\n      } else {\n        console.log(\"[HMR] Updated modules:\");\n        renewedModules.forEach(function(moduleId) {\n          console.log(\"[HMR]  - \" + moduleMap[moduleId]);\n        });\n      }\n\n      if (upToDate()) {\n        console.log(\"[HMR] App is up to date.\");\n      }\n    }\n  }\n\n  function handleError(err) {\n    if (module.hot.status() in failureStatuses) {\n      if (options.warn) {\n        console.warn(\"[HMR] Cannot check for update (Full reload needed)\");\n        console.warn(\"[HMR] \" + err.stack || err.message);\n      }\n      performReload();\n      return;\n    }\n    if (options.warn) {\n      console.warn(\"[HMR] Update check failed: \" + err.stack || err.message);\n    }\n  }\n\n  function performReload() {\n    if (reload) {\n      if (options.warn) console.warn(\"[HMR] Reloading page\");\n      window.location.reload();\n    }\n  }\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spLWhvdC1taWRkbGV3YXJlL3Byb2Nlc3MtdXBkYXRlLmpzP2UxM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMEZBQTBGOztBQUUxRjtBQUNBLHVCQUF1QjtBQUN2QixvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhc2VkIGhlYXZpbHkgb24gaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2svd2VicGFjay9ibG9iL1xuICogIGMwYWZkZjljNmFiYzFkZDcwNzA3YzU5NGU0NzM4MDJhNTY2ZjdiNmUvaG90L29ubHktZGV2LXNlcnZlci5qc1xuICogT3JpZ2luYWwgY29weXJpZ2h0IFRvYmlhcyBLb3BwZXJzIEBzb2tyYSAoTUlUIGxpY2Vuc2UpXG4gKi9cblxuLyogZ2xvYmFsIHdpbmRvdyBfX3dlYnBhY2tfaGFzaF9fICovXG5cbmlmICghbW9kdWxlLmhvdCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJbSE1SXSBIb3QgTW9kdWxlIFJlcGxhY2VtZW50IGlzIGRpc2FibGVkLlwiKTtcbn1cblxudmFyIGhtckRvY3NVcmwgPSBcImh0dHA6Ly93ZWJwYWNrLmdpdGh1Yi5pby9kb2NzL2hvdC1tb2R1bGUtcmVwbGFjZW1lbnQtd2l0aC13ZWJwYWNrLmh0bWxcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbnZhciBsYXN0SGFzaDtcbnZhciBmYWlsdXJlU3RhdHVzZXMgPSB7IGFib3J0OiAxLCBmYWlsOiAxIH07XG52YXIgYXBwbHlPcHRpb25zID0geyBpZ25vcmVVbmFjY2VwdGVkOiB0cnVlIH07XG5cbmZ1bmN0aW9uIHVwVG9EYXRlKGhhc2gpIHtcbiAgaWYgKGhhc2gpIGxhc3RIYXNoID0gaGFzaDtcbiAgcmV0dXJuIGxhc3RIYXNoID09IF9fd2VicGFja19oYXNoX187XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaGFzaCwgbW9kdWxlTWFwLCBvcHRpb25zKSB7XG4gIHZhciByZWxvYWQgPSBvcHRpb25zLnJlbG9hZDtcbiAgaWYgKCF1cFRvRGF0ZShoYXNoKSAmJiBtb2R1bGUuaG90LnN0YXR1cygpID09IFwiaWRsZVwiKSB7XG4gICAgaWYgKG9wdGlvbnMubG9nKSBjb25zb2xlLmxvZyhcIltITVJdIENoZWNraW5nIGZvciB1cGRhdGVzIG9uIHRoZSBzZXJ2ZXIuLi5cIik7XG4gICAgY2hlY2soKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uKGVyciwgdXBkYXRlZE1vZHVsZXMpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xuXG4gICAgICBpZighdXBkYXRlZE1vZHVsZXMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMud2Fybikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltITVJdIENhbm5vdCBmaW5kIHVwZGF0ZSAoRnVsbCByZWxvYWQgbmVlZGVkKVwiKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbSE1SXSAoUHJvYmFibHkgYmVjYXVzZSBvZiByZXN0YXJ0aW5nIHRoZSBzZXJ2ZXIpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBlcmZvcm1SZWxvYWQoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcHBseUNhbGxiYWNrID0gZnVuY3Rpb24oYXBwbHlFcnIsIHJlbmV3ZWRNb2R1bGVzKSB7XG4gICAgICAgIGlmIChhcHBseUVycikgcmV0dXJuIGhhbmRsZUVycm9yKGFwcGx5RXJyKTtcblxuICAgICAgICBpZiAoIXVwVG9EYXRlKCkpIGNoZWNrKCk7XG5cbiAgICAgICAgbG9nVXBkYXRlcyh1cGRhdGVkTW9kdWxlcywgcmVuZXdlZE1vZHVsZXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGFwcGx5UmVzdWx0ID0gbW9kdWxlLmhvdC5hcHBseShhcHBseU9wdGlvbnMsIGFwcGx5Q2FsbGJhY2spO1xuICAgICAgLy8gd2VicGFjayAyIHByb21pc2VcbiAgICAgIGlmIChhcHBseVJlc3VsdCAmJiBhcHBseVJlc3VsdC50aGVuKSB7XG4gICAgICAgIC8vIEhvdE1vZHVsZVJlcGxhY2VtZW50LnJ1bnRpbWUuanMgcmVmZXJzIHRvIHRoZSByZXN1bHQgYXMgYG91dGRhdGVkTW9kdWxlc2BcbiAgICAgICAgYXBwbHlSZXN1bHQudGhlbihmdW5jdGlvbihvdXRkYXRlZE1vZHVsZXMpIHtcbiAgICAgICAgICBhcHBseUNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVJlc3VsdC5jYXRjaChhcHBseUNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICB2YXIgcmVzdWx0ID0gbW9kdWxlLmhvdC5jaGVjayhmYWxzZSwgY2IpO1xuICAgIC8vIHdlYnBhY2sgMiBwcm9taXNlXG4gICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikge1xuICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbih1cGRhdGVkTW9kdWxlcykge1xuICAgICAgICAgICAgY2IobnVsbCwgdXBkYXRlZE1vZHVsZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LmNhdGNoKGNiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2dVcGRhdGVzKHVwZGF0ZWRNb2R1bGVzLCByZW5ld2VkTW9kdWxlcykge1xuICAgIHZhciB1bmFjY2VwdGVkTW9kdWxlcyA9IHVwZGF0ZWRNb2R1bGVzLmZpbHRlcihmdW5jdGlvbihtb2R1bGVJZCkge1xuICAgICAgcmV0dXJuIHJlbmV3ZWRNb2R1bGVzICYmIHJlbmV3ZWRNb2R1bGVzLmluZGV4T2YobW9kdWxlSWQpIDwgMDtcbiAgICB9KTtcblxuICAgIGlmKHVuYWNjZXB0ZWRNb2R1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChvcHRpb25zLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiW0hNUl0gVGhlIGZvbGxvd2luZyBtb2R1bGVzIGNvdWxkbid0IGJlIGhvdCB1cGRhdGVkOiBcIiArXG4gICAgICAgICAgXCIoRnVsbCByZWxvYWQgbmVlZGVkKVxcblwiICtcbiAgICAgICAgICBcIlRoaXMgaXMgdXN1YWxseSBiZWNhdXNlIHRoZSBtb2R1bGVzIHdoaWNoIGhhdmUgY2hhbmdlZCBcIiArXG4gICAgICAgICAgXCIoYW5kIHRoZWlyIHBhcmVudHMpIGRvIG5vdCBrbm93IGhvdyB0byBob3QgcmVsb2FkIHRoZW1zZWx2ZXMuIFwiICtcbiAgICAgICAgICBcIlNlZSBcIiArIGhtckRvY3NVcmwgKyBcIiBmb3IgbW9yZSBkZXRhaWxzLlwiXG4gICAgICAgICk7XG4gICAgICAgIHVuYWNjZXB0ZWRNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obW9kdWxlSWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbSE1SXSAgLSBcIiArIG1vZHVsZU1hcFttb2R1bGVJZF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHBlcmZvcm1SZWxvYWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sb2cpIHtcbiAgICAgIGlmKCFyZW5ld2VkTW9kdWxlcyB8fCByZW5ld2VkTW9kdWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbSE1SXSBOb3RoaW5nIGhvdCB1cGRhdGVkLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0hNUl0gVXBkYXRlZCBtb2R1bGVzOlwiKTtcbiAgICAgICAgcmVuZXdlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbihtb2R1bGVJZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0hNUl0gIC0gXCIgKyBtb2R1bGVNYXBbbW9kdWxlSWRdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh1cFRvRGF0ZSgpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0hNUl0gQXBwIGlzIHVwIHRvIGRhdGUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycikge1xuICAgIGlmIChtb2R1bGUuaG90LnN0YXR1cygpIGluIGZhaWx1cmVTdGF0dXNlcykge1xuICAgICAgaWYgKG9wdGlvbnMud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJbSE1SXSBDYW5ub3QgY2hlY2sgZm9yIHVwZGF0ZSAoRnVsbCByZWxvYWQgbmVlZGVkKVwiKTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW0hNUl0gXCIgKyBlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgcGVyZm9ybVJlbG9hZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy53YXJuKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbSE1SXSBVcGRhdGUgY2hlY2sgZmFpbGVkOiBcIiArIGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVJlbG9hZCgpIHtcbiAgICBpZiAocmVsb2FkKSB7XG4gICAgICBpZiAob3B0aW9ucy53YXJuKSBjb25zb2xlLndhcm4oXCJbSE1SXSBSZWxvYWRpbmcgcGFnZVwiKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS1ob3QtbWlkZGxld2FyZS9wcm9jZXNzLXVwZGF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 118 */
/***/ function(module, exports) {

	eval("module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2MzYzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufVxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);