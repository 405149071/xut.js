{"version":3,"file":"0.9fa0491056521788464c.hot-update.js","sources":["webpack:///./src/lib/scenario/layout.js?c73c"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.home = home;\nexports.scene = scene;\n\nvar _index = require('../config/index');\n\nvar round = Math.round; /**\r\n                         * 布局文件\r\n                         * 1 控制条\r\n                         * 2 导航栏\r\n                         * @param  {[type]} config [description]\r\n                         * @return {[type]}        [description]\r\n                         */\n\nvar ratio = 6;\nvar isIOS = Xut.plat.isIOS;\nvar TOP = isIOS ? 20 : 0;\n\nvar getOptions = function getOptions() {\n    var iconHeight = _index.config.iconHeight;\n    var proportion = _index.config.proportion;\n    var calculate = proportion.calculateContainer();\n\n    //横版模式\n    var isHorizontal = _index.config.layoutMode == 'horizontal';\n\n    proportion = isHorizontal ? proportion.width : proportion.height;\n    iconHeight = isIOS ? iconHeight : round(proportion * iconHeight);\n\n    return {\n        isHorizontal: isHorizontal,\n        iconHeight: iconHeight,\n        sWidth: calculate.width,\n        sHeight: calculate.height,\n        sTop: calculate.top,\n        sLeft: calculate.left,\n        calculate: calculate,\n        proportion: proportion\n    };\n};\n\n/**\r\n * 首页布局\r\n * @return {[type]} [description]\r\n */\nfunction home() {\n\n    var options = getOptions();\n    var sWidth = options.sWidth;\n    var sHeight = options.sHeight;\n    var iconHeight = options.iconHeight;\n    var calculate = options.calculate;\n    var isHorizontal = options.isHorizontal;\n\n    var html = '';\n    var template = void 0;\n    var navBar = void 0;\n    var container = void 0;\n\n    //导航\n    html = '<div id=\"navBar\" class=\"xut-navBar\" style=\"' + 'width:{{width}};' + 'height:{{height}}px;' + 'top:{{top}};' + 'left:{{left}};' + 'bottom:{{bottom}};' + 'background-color:white;' + 'border-top:1px solid rgba(0,0,0,0.1);' + 'overflow:{{overflow}};' + '\"></div>';\n\n    navBar = _.template(html, {\n        width: isHorizontal ? '100%' : Math.min(sWidth, sHeight) / (isIOS ? 8 : 3) + 'px',\n        height: isHorizontal ? round(sHeight / ratio) : round((sHeight - iconHeight - TOP) * 0.96),\n        top: isHorizontal ? '' : iconHeight + TOP + 2 + 'px',\n        left: isHorizontal ? '' : iconHeight + 'px',\n        overflow: isHorizontal ? 'hidden' : 'visible',\n        bottom: isHorizontal ? '4px' : ''\n    });\n\n    //主体\n    html = '<div id=\"sceneHome\" class=\"xut-chapter\" style=\"' + 'width:{{width}}px;' + 'height:{{height}}px;' + 'top:{{top}}px;' + 'left:{{left}}px;' + 'overflow:hidden;' + 'z-index:{{index}};' + 'overflow:{{overflow}};\" >' + ' <div id=\"controlBar\" class=\"xut-controlBar hide\"></div>' +\n    //页面节点\n    ' <ul id=\"pageContainer\" class=\"xut-flip\"></ul>' +\n    //视觉差包装容器\n    ' <ul id=\"masterContainer\" class=\"xut-master xut-flip\"></ul>' +\n    //滑动菜单\n    ' {{navBar}}' +\n    //消息提示框\n    ' <div id=\"toolTip\"></div>' + '</div>';\n\n    return _.template(html, {\n        width: _index.config.viewSize.width,\n        height: _index.config.viewSize.height,\n        top: calculate.top,\n        left: calculate.left,\n        index: Xut.sceneController.createIndex(),\n        overflow: _index.config.scrollPaintingMode ? 'visible' : 'hidden',\n        navBar: navBar\n    });\n}\n\n/**\r\n * [scene 创建场景]\r\n * @param  {[type]} options [description]\r\n * @return {[type]}         [description]\r\n */\nfunction scene(id) {\n\n    var options = getOptions();\n\n    var sWidth = options.sWidth;\n    var sHeight = options.sHeight;\n    var calculate = options.calculate;\n\n    var html = '<div id=\"{{id}}\" style=\"' + 'width:{{width}}px;' + 'height:{{height}}px;' + 'top:{{top}}px;' + 'left:{{left}}px;' + 'position:absolute;' + 'z-index:{{zIndex}};' + 'overflow:{{overflow}};' + '\">' + ' <ul id=\"{{pageId}}\" class=\"xut-flip\" style=\"z-index:{{zIndexPage}}\"></ul>' + ' <ul id=\"{{masterId}}\" class=\"xut-flip\" style=\"z-index:{{zIndexMaster}}\"></ul>' + '</div>';\n\n    return _.template(html, {\n        id: 'scenario-' + id,\n        width: _index.config.viewSize.width,\n        height: _index.config.viewSize.height,\n        top: calculate.top,\n        left: calculate.left,\n        zIndex: Xut.sceneController.createIndex(),\n        overflow: _index.config.scrollPaintingMode ? 'visible' : 'hidden',\n        pageId: 'scenarioPage-' + id,\n        zIndexPage: 2,\n        masterId: 'scenarioMaster-' + id,\n        zIndexMaster: 1\n    });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/lib/scenario/layout.js\n ** module id = 44\n ** module chunks = 0\n **/"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;","sourceRoot":""}