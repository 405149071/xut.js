{"version":3,"file":"0.7fe487f88101e6851114.hot-update.js","sources":["webpack:///./src/lib/util/cursor.js?ca2c"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.disable = exports.ShowTextBusy = exports.HideBusy = exports.ShowBusy = undefined;\nexports.createCursor = createCursor;\n\nvar _index = require('../config/index');\n\n/**\r\n * 用css3实现的忙碌光标\r\n * @return {[type]} [description]\r\n */\nvar transform = Xut.style.transform;\nvar animationDelay = Xut.style.animationDelay;\n\n/**\r\n * 延时加载\r\n * @type {Number}\r\n */\nvar delay = 1000;\n\n/**\r\n * 光标对象\r\n * @type {[type]}\r\n */\nvar node = null;\n\n/**\r\n * 是否禁用忙了光标\r\n * @type {Boolean}\r\n */\nvar isDisable = false;\n\n/**\r\n * 光标状态\r\n * 调用隐藏\r\n * @type {Boolean}\r\n */\nvar isCallHide = false;\n\n/**\r\n * setTimouet\r\n * @type {[type]}\r\n */\nvar timer = null;\n\n/**\r\n * create\r\n * @return {[type]} [description]\r\n */\nfunction createCursor() {\n    if (isDisable) return;\n    var sWidth = _index.config.screenSize.width;\n    var sHeight = _index.config.screenSize.height;\n    var width = Math.min(sWidth, sHeight) / 4;\n    var space = Math.round((sHeight - width) / 2);\n    var delay = [0, 0.9167, 0.833, 0.75, 0.667, 0.5833, 0.5, 0.41667, 0.333, 0.25, 0.1667, 0.0833];\n    var deg = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330];\n\n    var count = 12;\n    var html = '';\n    var container = '';\n\n    while (count--) {\n        html = '<div class=\"xut-busy-spinner\" style=\"' + '{{transform}}:rotate({{rotate}}deg) translate(0,-142%);' + '{{animation}}:-{{delay}}s\">' + '</div>';\n        container += _.template(html, {\n            transform: transform,\n            rotate: deg[count],\n            animation: animationDelay,\n            delay: delay[count]\n        });\n    }\n\n    html = '<div style=\"width:{{width}}px;height:{{height}}px;margin:{{margin}}px auto;\">' + ' <div style=\"height:30%;\"></div>' + ' <div class=\"xut-busy-middle\">{{container}}</div>' + ' <div class=\"xut-busy-text\"></div>' + '</div>';\n\n    container = _.template(html, {\n        width: width,\n        height: width,\n        margin: space,\n        container: container\n    });\n\n    node = $('#xut-busy-icon').html(container);\n}\n\nvar clear = function clear() {\n    clearTimeout(timer);\n    timer = null;\n};\n\n/**\r\n * 显示光标\r\n */\nvar ShowBusy = exports.ShowBusy = function ShowBusy() {\n    if (isDisable || Xut.IBooks.Enabled || timer) return;\n    timer = setTimeout(function () {\n        node.show();\n        clear();\n        if (isCallHide) {\n            HideBusy();\n            isCallHide = false;\n        }\n    }, delay);\n};\n\n/**\r\n * 隐藏光标\r\n */\nvar HideBusy = exports.HideBusy = function HideBusy(IsPay) {\n    //显示忙碌加锁，用于不处理hideBusy\n    if (isDisable || Xut.IBooks.Enabled || ShowBusy.lock) return;\n    if (!timer) {\n        node.hide();\n    } else {\n        isCallHide = true;\n    }\n    IsPay && node.css('pointer-events', '').find('.xut-busy-text').html('');\n};\n\n/**\r\n * 显示光标\r\n * @param {[type]} txt [description]\r\n */\nvar ShowTextBusy = exports.ShowTextBusy = function ShowTextBusy(txt) {\n    if (isDisable || Xut.IBooks.Enabled) return;\n    node.css('pointer-events', 'none').find('.xut-busy-text').html(txt);\n    ShowBusy();\n};\n\n/**\r\n * 禁用光标\r\n * isDisable 是否禁用\r\n * @return {[type]} [description]\r\n */\nvar disable = exports.disable = function disable(state) {\n    isDisable = state;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/lib/util/cursor.js\n ** module id = 25\n ** module chunks = 0\n **/"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;","sourceRoot":""}