{"version":3,"file":"0.3689bada348378edce61.hot-update.js","sources":["webpack:///./src/lib/toolbar/navbar/index.js?9fd4"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createNavbar = createNavbar;\nexports.closeNavbar = closeNavbar;\nexports.destroyNavbar = destroyNavbar;\n\nvar _html = require('./html');\n\nvar _html2 = _interopRequireDefault(_html);\n\nvar _section = require('./section');\n\nvar _section2 = _interopRequireDefault(_section);\n\nvar _index = require('../../config/index');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * 动画加锁\r\n */\nvar lockAnimation = void 0;\n\n/**\r\n * 导航对象\r\n * @type {[type]}\r\n */\n/**\r\n * 目录列表\r\n * @param  {[type]} hindex    [description]\r\n * @param  {[type]} pageArray [description]\r\n * @param  {[type]} modules   [description]\r\n * @return {[type]}           [description]\r\n *\r\n */\nvar sectionInstance = null;\n\n/**\r\n * 控制按钮改变\r\n */\nfunction navControl(action, navhandle) {\n    navhandle.css('opacity', action === \"in\" ? 0.5 : 1);\n}\n\n/**\r\n * 执行动画\r\n */\nfunction toAnimation(navControlBar, navhandle, action) {\n\n    var complete = function complete() {\n        //恢复css\n        navControlBar.css(Xut.style.transition, '');\n        Xut.View.HideBusy();\n        lockAnimation = false;\n    };\n    //出现\n    if (action == 'in') {\n        //导航需要重置\n        //不同的页面定位不一定\n        sectionInstance.refresh();\n        sectionInstance.scrollTo();\n        //动画出现\n        navControlBar.animate({\n            'z-index': Xut.zIndexlevel(),\n            'opacity': 1\n        }, 'fast', 'linear', function () {\n            navhandle.attr('fly', 'out');\n            complete();\n        });\n    } else {\n        //隐藏\n        navhandle.attr('fly', 'in');\n        navControlBar.hide();\n        complete();\n    }\n}\n\nvar _navStyle = function _navStyle() {\n\n    //控制按钮\n    var navhandle = $(\"#backDir\");\n    var navControlBar = $(\".xut-navbar\");\n\n    //判断点击的动作\n    var action = navhandle.attr('fly') || 'in';\n\n    //初始化目录栏的样式\n    //能够显示出来\n    sectionInstance.state = false;\n    if (action == 'in') {\n        sectionInstance.state = true;\n        navControlBar.css({\n            'z-index': 0,\n            'opacity': 0,\n            'display': 'block'\n        });\n    }\n    //触发控制条\n    navControl(action, navhandle);\n    //执行动画\n    toAnimation(navControlBar, navhandle, action);\n};\n\n/**\r\n * 初始化\r\n */\nvar _initialize = function _initialize() {\n    if (lockAnimation) {\n        return false;\n    }\n    lockAnimation = true;\n    Xut.View.ShowBusy();\n    _navStyle();\n};\n\n/**\r\n * 预先缓存加载\r\n * @return {[type]} [description]\r\n */\nvar _create = function _create(pageIndex) {\n    (0, _html2.default)($(\".xut-navbar\"), function (data) {\n        //目录对象\n        sectionInstance = new _section2.default(data);\n        //初始化滑动\n        sectionInstance.userIscroll(pageIndex);\n        //初始缩略图\n        sectionInstance.createThumb();\n        //初始化样式\n        _initialize();\n    });\n};\n\n/**\r\n * 目录\r\n */\nfunction createNavbar(pageIndex) {\n    if (sectionInstance) {\n        _initialize();\n    } else {\n        _create(pageIndex);\n    }\n}\n\n/**\r\n * 关闭\r\n */\nfunction closeNavbar(callback) {\n    if (sectionInstance && sectionInstance.state) {\n        callback && callback();\n        _initialize();\n    }\n}\n\n/**\r\n * 销毁对象\r\n * @return {[type]} [description]\r\n */\nfunction destroyNavbar() {\n    if (sectionInstance) {\n        sectionInstance.destroy();\n        sectionInstance = null;\n    }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/lib/toolbar/navbar/index.js\n ** module id = 14\n ** module chunks = 0\n **/"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;","sourceRoot":""}